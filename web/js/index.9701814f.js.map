{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Wire.vue?28cf","webpack:///./src/components/item/elements/Lightbulb.vue?bab9","webpack:///./src/components/Group.vue?d88e","webpack:///./src/containers/Toolbox.vue?b273","webpack:///./src/components/Selectable.vue?0583","webpack:///./src/components/item/elements/gates/Or.vue?a218","webpack:///./src/components/item/elements/LogicGate.vue?50f3","webpack:///./src/components/oscilloscope/OscilloscopeViewer.vue?7d37","webpack:///./src/components/toolbox/ToolboxItem.vue?0348","webpack:///./src/components/statusbar/StatusBarZoom.vue?4edd","webpack:///./src/components/statusbar/StatusBarButton.vue?02db","webpack:///./src/components/PortHandle.vue?38f2","webpack:///./src/components/item/Freeport.vue?37a2","webpack:///./src/components/tab/TabItem.vue?8fcd","webpack:///./src/components/item/elements/InputSwitch.vue?59b9","webpack:///./src/components/tab/TabHost.vue?de97","webpack:///./src/components/item/Properties.vue?5f7d","webpack:///./src/components/oscilloscope/OscilloscopeTimeline.vue?1dee","webpack:///./src/components/Editor.vue?1575","webpack:///./src/components/item/elements/IntegratedCircuit.vue?3c9b","webpack:///./src/components/Selector.vue?a1a9","webpack:///./src/containers/Toolbar.vue?daaa","webpack:///./src/components/oscilloscope/OscilloscopeTitleBar.vue?cc4d","webpack:///./src/components/item/PortSet.vue?b22d","webpack:///./src/components/toolbar/ToolbarButton.vue?1ba4","webpack:///./src/components/item/elements/gates/And.vue?1ec3","webpack:///./src/components/PortPivot.vue?375a","webpack:///./src/components/Icon.vue?992e","webpack:///./src/components/ResizablePanes.vue?07fd","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/Selector.vue","webpack:///./src/components/Editor.vue","webpack:///./src/components/Draggable.vue","webpack:///./src/components/Group.vue","webpack:///./src/layout/rotate.ts","webpack:///./src/layout/wire.ts","webpack:///./src/components/Wire.vue","webpack:///./src/containers/Connection.vue","webpack:///./src/components/item/elements/gates/And.vue","webpack:///./src/components/item/elements/gates/Or.vue","webpack:///./src/components/item/elements/gates/Nor.vue","webpack:///./src/components/item/elements/gates/Nand.vue","webpack:///./src/components/item/elements/gates/Xnor.vue","webpack:///./src/components/item/elements/gates/Xor.vue","webpack:///./src/types/enums/ItemSubtype.ts","webpack:///./src/components/item/elements/LogicGate.vue","webpack:///./src/components/item/elements/InputSwitch.vue","webpack:///./src/components/item/elements/IntegratedCircuit.vue","webpack:///./src/components/item/elements/Lightbulb.vue","webpack:///./src/components/item/elements/Lightbulb.vue?bdbe","webpack:///./src/components/item/Freeport.vue","webpack:///./src/components/PortHandle.vue","webpack:///./src/components/item/PortSet.vue","webpack:///./src/components/item/Properties.vue","webpack:///./src/components/Selectable.vue","webpack:///./src/components/PortPivot.vue","webpack:///./src/types/enums/PortType.ts","webpack:///./src/containers/PortItem.vue","webpack:///./src/types/enums/ItemType.ts","webpack:///./src/containers/Item.vue","webpack:///./src/menus/submenus/edit.ts","webpack:///./src/menus/submenus/grid.ts","webpack:///./src/menus/context/editor.ts","webpack:///./src/layout/boundaries.ts","webpack:///./src/utils/printing.ts","webpack:///./src/types/enums/Direction.ts","webpack:///./src/circuit/types/Connection.ts","webpack:///./src/circuit/types/LogicValue.ts","webpack:///./src/circuit/base/CircuitNode.ts","webpack:///./src/circuit/base/InputNode.ts","webpack:///./src/circuit/base/OutputNode.ts","webpack:///./src/circuit/base/Circuit.ts","webpack:///./src/circuit/gates/Nor.ts","webpack:///./src/circuit/gates/Buffer.ts","webpack:///./src/services/BinaryWaveService.ts","webpack:///./src/services/ClockService.ts","webpack:///./src/services/OscillationService.ts","webpack:///./src/utils/circuitNodeMapper.ts","webpack:///./src/services/SimulationService.ts","webpack:///./src/layout/rotation.ts","webpack:///./src/utils/getConnectionChain.ts","webpack:///./src/utils/sortByZIndex.ts","webpack:///./src/factories/itemFactory.ts","webpack:///./src/factories/integratedCircuitFactory.ts","webpack:///./src/utils/idMapper.ts","webpack:///./src/store/document.ts","webpack:///./src/utils/getFileName.ts","webpack:///./src/store/root.ts","webpack:///./src/containers/Document.vue","webpack:///./src/components/Icon.vue","webpack:///./src/components/toolbar/ToolbarButton.vue","webpack:///./src/components/toolbar/ToolbarSeparator.vue","webpack:///./src/containers/Toolbar.vue","webpack:///./src/components/toolbox/ToolboxItem.vue","webpack:///./src/factories/portFactory.ts","webpack:///./src/factories/inputFactory.ts","webpack:///./src/factories/clockFactory.ts","webpack:///./src/factories/lightbulbFactory.ts","webpack:///./src/factories/logicGateFactory.ts","webpack:///./src/containers/Toolbox.vue","webpack:///./src/components/ResizablePanes.vue","webpack:///./src/components/tab/TabItem.vue","webpack:///./src/components/tab/TabHost.vue","webpack:///./src/components/oscilloscope/OscilloscopeTimeline.vue","webpack:///./src/components/oscilloscope/OscilloscopeTitleBar.vue","webpack:///./src/components/oscilloscope/OscilloscopeViewer.vue","webpack:///./src/containers/Oscilloscope.vue","webpack:///./src/components/statusbar/StatusBarButton.vue","webpack:///./src/components/statusbar/StatusBarViewer.vue","webpack:///./src/components/statusbar/StatusBarZoom.vue","webpack:///./src/containers/StatusBar.vue","webpack:///./src/menus/submenus/file.ts","webpack:///./src/menus/submenus/view.ts","webpack:///./src/menus/index.ts","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/statusbar/StatusBarViewer.vue?5ae0","webpack:///./src/App.vue?9b2e","webpack:///./src/services/FileService.ts","webpack:///./src/components/toolbar/ToolbarSeparator.vue?61ff"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","_component_toolbar","_resolveComponent","_component_toolbox","_component_tab_item","_component_document","_component_tab_host","_component_oscilloscope","_component_resizable_panes","_component_status_bar","hasOpenDocuments","_openBlock","_createElementBlock","_createElementVNode","_normalizeClass","isDropping","activeDocumentId","activeDocument","_createBlock","store","_createCommentVNode","_createVNode","modelValue","toolboxWidth","$event","first","_withCtx","second","documentHeight","tabs","_Fragment","_renderList","documents","document","id","label","displayName","active","dirty","isDirty","onActivate","activateDocument","toString","onClose","closeDocument","default","onSwitch","switchDocument","onOpenIntegratedCircuit","openIntegratedCircuit","_","isFullscreen","onFullscreen","toggleFullscreen","_createTextVNode","_toDisplayString","_component_item","_component_connection","_component_group","_component_editor","ref","zoom","zoomLevel","gridSize","tabindex","offset","x","canvas","left","y","top","width","right","height","bottom","onPan","panTo","onDeselect","deselectAll","onSelection","createSelection","onZoom","setZoom","onOnContextMenu","onContextMenu","onMousedown","onFocus","recycleSelection","baseItems","baseItem","index","type","storeDefinition","portIds","subtype","position","rotation","groupId","boundingBox","properties","isSelected","flash","isDebugging","isCircuitEvaluated","zIndex","onContextmenu","$emit","source","target","connectionChainId","connectionPreviewId","groups","group","_component_selector","onMousewheel","mousewheel","_withModifiers","startPanning","style","_normalizeStyle","onSelectionStart","selectionStart","onSelectionEnd","selectionEnd","_renderSlot","$slots","mousedown","selection","defineComponent","props","Number","start","end","computed","Math","min","abs","mounted","addEventListener","mousemove","mouseup","destroy","removeEventListener","methods","getPosition","$el","getBoundingClientRect","__exports__","components","Selector","backgroundSize","transform","panStartPosition","originalMousePosition","panning","preventContextMenu","preventDefault","stopPropagation","button","deltaX","deltaY","shiftKey","wheel","point","boundary","_component_draggable","snapMode","String","snapBoundaries","Array","isDraggable","Boolean","forceDragging","lockVisual","mousePosition","apparentPosition","truePosition","realPositionFromStore","box","isDragging","hasEmittedDrag","isRadialSnap","watch","handler","immediate","initDragging","pointerEvents","keydown","beforeUnmount","getScaledDelta","toUpperCase","ctrlKey","clientX","clientY","delta","boundaries","snapPosition","forEach","xob","isWithin","sqrt","pow","ts","bs","ls","rs","Draggable","required","_component_wire","topLeft","bottomRight","isPreview","onMouseDown","wire","minY","minX","fill","path","isAnimated","rotate","additional","WIRE_PADDING","renderLayout","a","b","getEndpoints","computeStraightLine","sourceDirection","getPortDirection","targetDirection","computeBezier","inflectDirection","direction","port","orientation","isFreeport","floor","x1","y1","x4","y4","dx","max","dy","x2","toFixed","y2","x3","y3","join","toNumArr","map","k","parseInt","maxX","maxY","Wire","sourceId","targetId","Function","focus","setup","root","ports","onMounted","onMouseMove","onMouseUp","onBeforeUnmount","newFreeport","itemId","inputPortId","outputPortId","originalPosition","portCreated","isMouseDown","deselectItem","selectItem","relativePosition","absolutePosition","uuid","createFreeport","setSnapBoundaries","setTimeout","_component_properties","_component_freeport","_component_integrated_circuit","_component_input_switch","_component_lightbulb","_component_logic_gate","_component_port_item","_component_port_set","_component_selectable","outline","ItemType","Freeport","title","onDragStart","onDrag","onDragEnd","onBlur","onKeydown","_withKeys","onEscapeKey","isPropertiesEnabled","onUpdate","setProperties","onPropertiesFocus","IntegratedCircuit","portList","onDblclick","InputNode","onToggle","setPortValue","OutputNode","inputCount","_createSlots","fn","rawStore","connectedPortIds","onKeypress","onPortFocus","onPortBlur","_resolveDynamicComponent","component","viewBox","cx","cy","isNegated","isXor","_component_or","Or","_component_and","And","ItemSubtype","Nand","Xnor","Xor","Nor","model","click","onMouseup","event","role","_hoisted_6","_hoisted_7","_hoisted_8","isOpen","onKeyDown","onClick","propertyName","for","options","_withDirectives","_vModelSelect","_vModelCheckbox","_vModelDynamic","emits","cloneDeep","deep","_component_port_handle","_component_port_pivot","cycleConnectionPreviews","commitPreviewedConnection","setActivePortId","activePortId","connectablePortIds","includes","dragStart","dragEnd","PortType","PortHandle","PortPivot","emit","unsetConnectionPreview","cachedState","Input","portType","setConnectablePortIds","portId","Output","connectFreeport","LogicGate","InputSwitch","Lightbulb","PortSet","PortItem","Properties","Selectable","selectable","hasFocus","locations","reduce","keys","cacheState","setSelectionPosition","commitCachedState","activeElement","blur","contains","relatedTarget","onSizeChanged","setItemSize","rect","contentRect","observer","ResizeObserver","observe","activeFreeportId","edit","submenus","menu","enabled","canUndo","accelerator","undo","hasSelection","deleteSelection","selectedItemIds","submenu","setZIndex","incrementZIndex","canGroup","canUngroup","concat","checked","grid","editor","isInNeighborhood","radius","distX","distY","hasLinearIntersection","a1","a2","b1","b2","ccw","isLineIntersectingRectangle","b3","b4","scaleBoundingBox","scale","isTwoDimensional","getLinearBoundaries","Infinity","getPointBoundary","hasIntersection","getItemBoundingBox","item","midX","midY","getGroupBoundingBox","boundingBoxes","getBoundingBoxMidpoint","getCenteredScreenPoint","parentBox","childBox","factor","parentMidpoint","childWidth","childHeight","roundToGrid","round","createPrintArea","padding","className","printArea","cloneNode","children","child","replace","background","classList","add","createPrintFrame","image","pageSize","iframe","createElement","opacity","body","appendChild","printFrame","contentWindow","styleTag","createTextNode","head","append","createImage","domToImage","dataUrl","remove","printWindow","win","Promise","resolve","print","printImage","printing","minSize","maxSize","Image","percent","src","isLandscape","reverse","Direction","Connection","node","this","LogicValue","TRUE","FALSE","UNKNOWN","CircuitNode","inputIds","inputValues","outputs","isValueChanged","forceContinue","newValue","events","setValue","eval","invokeEvent","eventType","callback","valueCount","compare","values","filter","updateOutputs","update","propagate","reset","on","getProjectedValue","Circuit","queue","nodes","inputNodes","addNode","enqueue","removeNode","inputIndex","findIndex","removeNodeOutputs","next","addConnection","removeConnection","sourceNode","targetNode","added","indexOf","dequeue","removed","removedIndex","localQueue","isComplete","nextValue","Buffer","pop","BinaryWaveService","signal","lastY","segments","hue","random","initialize","segment","addSegment","updateWidth","elapsed","drawPulseConstant","previous","drawPulseChange","pos","truncateSegments","widthToKeep","widthToTruncate","unshift","ClockService","interval","emitter","TinyEmitter","lastUpdate","OscillationService","isPaused","waves","refreshRate","lastUpdateTime","Date","now","timeMsElapsed","timeMsOffset","remainingPeriodTime","tick","stop","clear","wave","computeWaveGeometry","displays","getPoints","points","broadcast","screenWidth","screen","widthOfOneSecond","maxHistorySeconds","MAX_IDLE_TIME","hasUpdated","requestAnimationFrame","getLogicGateNode","getCircuitNode","SimulationService","items","connections","clocks","valueMap","circuit","integratedCircuits","oscillator","oscillogram","integratedCircuitGroups","addElements","pause","unpause","step","iteration","shouldContinue","Error","canContinue","nextState","isDebug","nextValueMap","startDebugging","computeNextState","stopDebugging","advance","nextValues","updatePortValue","JSON","parse","currentState","stringify","setOutputValue","enqueuePortValueChange","anyValueChanged","addIntegratedCircuit","icItem","integratedCircuit","outputIds","circuitNodeMapper","addPort","Clock","addClock","monitorNode","getIntegratedCircuitPortIds","ic","removePort","showInOscilloscope","monitorPort","addSiblingPort","siblingPortId","unmonitorPort","getGroupedItemRotatedPosition","groupBoundingBox","w","h","mx","my","ax","ay","L","currentAngleRad","atan2","newAngle","PI","newAx","cos","newAy","sin","getRotatedPortPosition","spacing","distance","Left","Top","Right","Bottom","getConnectionChain","portMap","connection","connectionIds","freeportIds","sourcePort","targetPort","elementId","Set","from","sortByZIndex","itemFactory","integratedCircuitFactory","state","integratedCircuitItem","newId","serializedState","mapStandardCircuitIds","idMap","mapGroups","oldId","mapGroupIds","mapConnections","mapConnectionChainIds","mapItems","mapItemIds","mapPorts","mapIntegratedCircuitIds","generateItemName","taxonomyCount","None","fromDocumentToEditorCoordinates","viewport","z","MIN_SCALE","MAX_SCALE","SCALE_STEP","createDocumentStore","defineStore","undoStack","redoStack","simulation","taxonomyCounts","isOscilloscopeEnabled","hasLoaded","isPrinting","isCreatingImage","DOMRect","selectedConnectionIds","selectedPortIndex","getters","sort","hasSelectedItems","selectedGroupIds","canRedo","actions","loadDocument","buildCircuit","applyState","incrementZoom","zoomedPoint","scaledPoint","viewportPoint","setViewerSize","centerAll","panToCenter","pan","midpoint","setItemPosition","setItemPortPositions","saveIntegratedCircuit","originalIcItem","$state","idMappedIcItem","idMapper","insertItem","setItemBoundingBox","setSelectionState","backToFirstItem","documentPosition","commitState","addNewItem","undoState","redo","redoState","nonFreeportItems","nonFreeportItemIds","disconnect","removeElement","f","removeFreeport","e","centerX","centerY","newX","newY","setGroupBoundingBox","portGroups","Map","setPortGroupPositions","moveSelectionPosition","referenceItem","groupIds","itemIds","destroyGroup","ungroup","clearStatelessInfo","selectAll","SET_SELECTION_STATE","selectItemConnections","error","console","log","element","keepSelection","setConnectionPreview","connect","previewPortId","api","beep","selectedItems","newRotation","originalSourceId","originalTargetId","addFreeportItem","newPort","find","startValue","toggleDebugger","stepThroughCircuit","toggleOscilloscope","disableOscilloscope","enableOscilloscope","clearOscilloscope","setOscilloscopeVisibility","setInputCount","count","oldCount","virtualElementId","setPortValues","savedState","parsedState","getExcludedMembers","aIds","bIds","removedItems","removedConnections","addedItems","addedConnections","nodeId","portIndex","taxonomy","resetItemValue","updateSelectionList","sendBackward","bringForward","sendToBack","bringToFront","frozenIds","currentIndex","nextIndex","sourceIndex","targetIndex","createPort","cut","copy","clipboard","pasteCount","paste","parsed","mapped","getFileName","filePath","split","useRootStore","canExit","openDocument","saveImage","partialName","fileName","showSaveFileDialog","extensions","FileService","writeBlob","showMessageBox","message","newDocument","closeAll","closedSuccessfully","printActiveDocument","isSuccessful","dialogResult","buttons","saveActiveDocument","remainingId","setFileName","save","selectDocument","files","showOpenFileDialog","openDocumentFromPath","open","content","documentIds","pauseActivity","resumeActivity","openTestDocuments","flipFlop","navigateDocumentList","setFullscreen","Group","Editor","Item","rootStore","acceleration","initiatePrint","editorElement","querySelector","exportImage","onClipboard","action","HTMLInputElement","moveItemsByArrowKey","onKeyUp","showContextMenu","editorContextMenu","clearKeys","watchEffect","_hoisted_9","_hoisted_10","_hoisted_11","_component_toolbar_button","_component_toolbar_separator","icon","faFolderOpen","faFile","faSave","disabled","faReply","faShare","faRotateBackward","faRotateForward","faObjectGroup","faObjectUngroup","faScissors","faCopy","faPaste","faBan","faMicrochip","faBug","faArrowsRotate","faForwardStep","faWaveSquare","_component_icon","faUser","xmlns","svgPath","Icon","ToolbarButton","ToolbarSeparator","_component_toolbox_item","onDrop","onDropSwitch","onDropClock","onDropLightbulb","onDropLogicGate","portCounts","leftPortCount","topPortCount","rightPortCount","bottomPortCount","toolboxItem","draggedElement","draggedPoint","inner","outer","ratio","onBeforeMount","portFactory","inputFactory","clockFactory","lightbulbFactory","logicGateFactory","ToolboxItem","Switch","isVertical","firstStyle","secondStyle","maxHeight","maxWidth","$refs","total","_component_oscilloscope_title_bar","_component_oscilloscope_viewer","_component_oscilloscope_timeline","clearable","hasWaves","onClear","v","color","onWheel","totalWidth","preserveAspectRatio","stroke","timeline","list","scrollToNextInterval","onTimelineScroll","scrollTop","scrollLeft","scrollWidth","faClose","OscilloscopeTimeline","OscilloscopeTitleBar","OscilloscopeViewer","storeToRefs","_component_status_bar_button","_component_status_bar_zoom","_component_status_bar_viewer","faMinus","faPlus","zoomPercent","faCompress","faExpand","onInput","parseFloat","StatusBarButton","StatusBarViewer","StatusBarZoom","file","hasDocument","documentList","close","documentStore","zoomSubmenu","hasFixedZoom","undefined","createApplicationMenu","menus","view","Document","ResizablePanes","Toolbar","TabItem","TabHost","Toolbox","Oscilloscope","StatusBar","onDragOver","dataTransfer","dropEffect","onDragLeave","location","reload","setApplicationMenu","onBeforeClose","onOpenFile","horizontal","lastPosition","quit","openFile","saveFile","createApp","App","use","createPinia","mount","zip","JSZip","compressedContent","loadAsync","async","blob","arrayBuffer","blobby","buf","generateAsync"],"mappings":"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","file":"js/index.9701814f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/web/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Wire.vue?vue&type=style&index=0&id=4b4c9153&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Lightbulb.vue?vue&type=style&index=0&id=b4b26314&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Group.vue?vue&type=style&index=0&id=ed038f7c&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toolbox.vue?vue&type=style&index=0&id=208ba0a4&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Selectable.vue?vue&type=style&index=0&id=1e349272&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LogicGate.vue?vue&type=style&index=0&id=078dbdd8&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeViewer.vue?vue&type=style&index=0&id=0e9f0927&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolboxItem.vue?vue&type=style&index=0&id=23cf6330&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PortHandle.vue?vue&type=style&index=0&id=f2e892ae&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Freeport.vue?vue&type=style&index=0&id=5e8c7cdc&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TabItem.vue?vue&type=style&index=0&id=c1b107dc&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./InputSwitch.vue?vue&type=style&index=0&id=e56eb0ec&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Properties.vue?vue&type=style&index=0&id=e37daf80&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeTimeline.vue?vue&type=style&index=0&id=0e8f4489&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Editor.vue?vue&type=style&index=0&id=202d79f6&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./IntegratedCircuit.vue?vue&type=style&index=0&id=a5d3099c&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Selector.vue?vue&type=style&index=0&id=c1582ee0&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toolbar.vue?vue&type=style&index=0&id=6eabfba8&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=4e080e28&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PortSet.vue?vue&type=style&index=0&id=11d98e1c&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolbarButton.vue?vue&type=style&index=0&id=3f394243&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PortPivot.vue?vue&type=style&index=0&id=9aa66860&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ResizablePanes.vue?vue&type=style&index=0&id=675dd903&lang=scss\"","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"step\", \"min\", \"max\", \"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"input\", {\n    type: \"range\",\n    class: \"status-bar-zoom\",\n    step: _ctx.step,\n    min: _ctx.min,\n    max: _ctx.max,\n    value: _ctx.value,\n    onInput: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onInput && _ctx.onInput(...args)))\n  }, null, 40, _hoisted_1))\n}","\n/// <reference path=\"./types/index.d.ts\" />\nimport { storeToRefs } from 'pinia'\nimport { defineComponent, onBeforeUnmount, onMounted, watchEffect, ref } from 'vue'\nimport Document from './containers/Document.vue'\nimport Toolbar from './containers/Toolbar.vue'\nimport Toolbox from './containers/Toolbox.vue'\nimport ResizablePanes from '@/components/ResizablePanes.vue'\nimport { useRootStore } from './store/root'\nimport TabItem from './components/tab/TabItem.vue'\nimport TabHost from './components/tab/TabHost.vue'\nimport Oscilloscope from './containers/Oscilloscope.vue'\nimport StatusBar from './containers/StatusBar.vue'\n// import RemoteService from './services/RemoteService'\nimport createApplicationMenu from './menus'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    Document,\n    ResizablePanes,\n    Toolbar,\n    TabItem,\n    TabHost,\n    Toolbox,\n    Oscilloscope,\n    StatusBar\n  },\n  setup () {\n    const store = useRootStore()\n    const {\n      activeDocument,\n      activeDocumentId,\n      documents,\n      hasOpenDocuments,\n      isFullscreen\n    } = storeToRefs(store)\n\n    let isDropping = ref(false)\n\n    if (!hasOpenDocuments.value) {\n      store.openTestDocuments()\n    }\n\n    // update the app menu when any of the store variables it depends on to show/hide menu items change\n    watchEffect(() => window.api.setApplicationMenu(createApplicationMenu()))\n\n    watchEffect(() => {\n      document.title = store.activeDocument\n        ? `${store.activeDocument.displayName} - Aristotle`\n        : 'Aristotle'\n    })\n\n    window.api.onBeforeClose(store.closeAll)\n    window.api.onOpenFile(store.openDocumentFromPath)\n\n    onMounted(() => {\n      document.addEventListener('keydown', onKeyDown)\n      document.addEventListener('dragover', onDragOver)\n      document.addEventListener('dragleave', onDragLeave)\n      document.addEventListener('drop', onDrop)\n    })\n\n    onBeforeUnmount(() => {\n      document.removeEventListener('keydown', onKeyDown)\n      document.removeEventListener('dragover', onDragOver)\n      document.removeEventListener('dragleave', onDragLeave)\n      document.removeEventListener('drop', onDrop)\n    })\n\n    function onDragOver ($event: DragEvent) {\n      $event.stopPropagation()\n      $event.preventDefault()\n\n      if ($event.dataTransfer) {\n        $event.dataTransfer.dropEffect = 'copy'\n      }\n\n      isDropping.value = true\n    }\n\n    async function onDrop ($event: DragEvent) {\n      $event.stopPropagation()\n      $event.preventDefault()\n\n      const files = $event.dataTransfer?.files\n\n      if (files) {\n        for (let i = 0; i < files.length; i++) {\n          await store.openDocumentFromPath(files[i].path)\n        }\n      }\n\n      isDropping.value = false\n    }\n\n    function onDragLeave () {\n      isDropping.value = false\n    }\n\n    function onKeyDown ($event: KeyboardEvent) {\n      if ($event.ctrlKey && $event.key.toUpperCase() === 'R') {\n        // refresh command\n        // TODO: in development only, this will refresh the page; otherwise, reset active circuit\n        // RemoteService.canCloseWindow = true\n        window.location.reload()\n      }\n    }\n\n    return {\n      activeDocument,\n      activeDocumentId,\n      documents,\n      hasOpenDocuments,\n      isDropping,\n      isFullscreen,\n      toggleFullscreen: store.toggleFullscreen,\n      activateDocument: store.activateDocument,\n      closeDocument: store.closeDocument,\n      switchDocument: store.switchDocument,\n      openIntegratedCircuit: store.openIntegratedCircuit\n    }\n  },\n  data () {\n    return {\n      horizontal: false,\n      isMouseDown: false,\n      lastPosition: 0,\n      toolboxWidth: 20,\n      documentHeight: 80\n    }\n  }\n})\n","import { render } from \"./Selector.vue?vue&type=template&id=c1582ee0&ts=true\"\nimport script from \"./Selector.vue?vue&type=script&lang=ts\"\nexport * from \"./Selector.vue?vue&type=script&lang=ts\"\n\nimport \"./Selector.vue?vue&type=style&index=0&id=c1582ee0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Editor.vue?vue&type=template&id=202d79f6&ts=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=202d79f6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Draggable.vue?vue&type=template&id=fde721f6&ts=true\"\nimport script from \"./Draggable.vue?vue&type=script&lang=ts\"\nexport * from \"./Draggable.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=ed038f7c&ts=true\"\nimport script from \"./Group.vue?vue&type=script&lang=ts\"\nexport * from \"./Group.vue?vue&type=script&lang=ts\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=ed038f7c&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nexport default function rotate (rotation, additional = 0) {\n  return ((rotation + additional % 4) + 4) % 4\n}\n","import IWireGeometry from '@/interfaces/IWireGeometry'\nimport rotate from './rotate'\n\nconst WIRE_PADDING = 15\n\n/**\n * Renders the wire geometry for the given source and target ports.\n *\n * @param source\n * @param target\n */\nexport default function renderLayout (source: Port, target: Port): IWireGeometry {\n  const a = source.position\n  const b = target.position\n  const { start, end } = getEndpoints(a, b)\n\n  if (start.x === end.x || start.y === end.y || end.x <= 1 && start.x <= 1 || end.y <= 1 && start.y <= 1) {\n    return computeStraightLine(start, end)\n  }\n\n  const sourceDirection = getPortDirection(source, a, b)\n  const targetDirection = getPortDirection(target, a, b)\n\n  return computeBezier(sourceDirection, targetDirection, start, end)\n}\n\n\nexport function computeStraightLine (a: Point, b: Point) {\n  return {\n    path: `M ${a.x},${a.y} L ${b.x},${b.y}`,\n    width: Math.abs(a.x - b.x) + WIRE_PADDING,\n    height: Math.abs(a.y - b.y) + WIRE_PADDING,\n    minX: -(WIRE_PADDING / 2),\n    minY: -(WIRE_PADDING / 2)\n  }\n}\n\n/**\n * Reverses the orientation of a FreePort by 180 degrees, if the dimension on an axis exceeds that of its wire's opposite end.\n * This gives the visual effect of \"pinching the wire\" so that weird, unnecessary curves aren't sticking out of FreePorts.\n *\n * @param {number} direction\n * @returns {number}\n */\nexport function inflectDirection (direction: number, a: Point, b: Point) {\n  switch (direction) {\n    case 0:\n      return a.y > b.y ? 2 : 0\n    case 1:\n      return a.x < b.x ? 3 : 1\n    case 2:\n      return a.y > b.y ? 0 : 2\n    case 3:\n      return a.x < b.x ? 1 : 3\n    default:\n      return inflectDirection(rotate(direction), a, b) // normalize direction to [0,3] and try again\n  }\n}\n\n/**\n * Returns the wire direction for a given port.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {number}\n */\nexport function getPortDirection (port: Port, a: Point, b: Point) {\n  // the true direction needs to take into account inherent orientation + its rotation\n  // bezier index directions are one integer off (see computeBezier()) -- subtract by 1\n  let direction = rotate(port.orientation + port.rotation - 1)\n\n  if (port.isFreeport) {\n    // inflect direction for FreePorts to give the \"pinched\" appearance when dragged out of range\n    direction = inflectDirection(direction, a, b)\n\n    if (port.rotation % 4 === 1 || port.rotation % 4 === 2) {\n      direction = rotate(direction - 2)\n    }\n  }\n\n  return direction\n}\n\n/**\n * Updates the source and target endpoints such that the start and end are true.\n * This prevents translations or rotations from \"swapping\" the start and end points.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {object<{ start: Point, end: Point }>}\n */\nexport function getEndpoints (a: Point, b: Point): { start: Point, end: Point } {\n  if (a.x <= b.x) {\n    if (a.y <= b.y) {\n      // top left (a) to bottom right (b)\n      return {\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: Math.floor(b.x - a.x),\n          y: Math.floor(b.y - a.y)\n        }\n      }\n    }\n    // bottom left (a) to top right (b)\n    return {\n      start: {\n        x: 0,\n        y: Math.floor(a.y - b.y)\n      },\n      end: {\n        x: Math.floor(b.x - a.x),\n        y: 0\n      }\n    }\n  }\n\n  if (a.y <= b.y) {\n    // bottom left (b) to top right (a)\n    return {\n      start: {\n        x: Math.floor(a.x - b.x),\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: Math.floor(b.y - a.y)\n      }\n    }\n  }\n\n  // top left (b) to bottom right (a)\n  return {\n    start: {\n      x: Math.floor(a.x - b.x),\n      y: Math.floor(a.y - b.y)\n    },\n    end: {\n      x: 0,\n      y: 0\n    }\n  }\n}\n\n/**\n * Computes a Bezier SVG curve path with respect to given source and target directions and positions.\n *\n * @param {number} sourceDirection - the direction that the source is pointing to\n * @param {number} targetDirection - the direction that the target is pointing from\n * @param {Point} start - the source port position\n * @param {Point} end - the target port position\n */\nexport function computeBezier (sourceDirection: number, targetDirection: number, start: Point, end: Point): IWireGeometry {\n  const x1 = start.x\n  const y1 = start.y\n  const x4 = end.x\n  const y4 = end.y\n\n  // TODO: change dx/dy to be more user-friendly\n  const dx = Math.max(Math.abs(x1 - x4) / 2, 10)\n  const dy = Math.max(Math.abs(y1 - y4) / 2, 10)\n\n  const x2 = [x1, x1 + dx, x1, x1 - dx][sourceDirection].toFixed(3)\n  const y2 = [y1 - dy, y1, y1 + dy, y1][sourceDirection].toFixed(3)\n  const x3 = [x4, x4 + dx, x4, x4 - dx][targetDirection].toFixed(3)\n  const y3 = [y4 - dy, y4, y4 + dy, y4][targetDirection].toFixed(3)\n\n  const path = [\n    'M', x1.toFixed(3), y1.toFixed(3),\n    'C', x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)\n  ].join(' ')\n\n  const toNumArr = (...n) => n.map(k => parseInt(k, 10))\n\n  const minX = Math.min(...toNumArr(x1, x2, x3, x4)) - WIRE_PADDING / 2\n  const maxX = Math.max(...toNumArr(x1, x2, x3, x4)) + WIRE_PADDING / 2\n  const minY = Math.min(...toNumArr(y1, y2, y3, y4)) - WIRE_PADDING / 2\n  const maxY = Math.max(...toNumArr(y1, y2, y3, y4)) + WIRE_PADDING / 2\n\n  const width = maxX - minX + WIRE_PADDING\n  const height = maxY - minY + WIRE_PADDING\n\n  return { width, height, path, minX, minY }\n}\n","import { render } from \"./Wire.vue?vue&type=template&id=4b4c9153&ts=true\"\nimport script from \"./Wire.vue?vue&type=script&lang=ts\"\nexport * from \"./Wire.vue?vue&type=script&lang=ts\"\n\nimport \"./Wire.vue?vue&type=style&index=0&id=4b4c9153&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Connection.vue?vue&type=template&id=9055c2f2&ts=true\"\nimport script from \"./Connection.vue?vue&type=script&lang=ts\"\nexport * from \"./Connection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./And.vue?vue&type=template&id=451c19e4&ts=true\"\nimport script from \"./And.vue?vue&type=script&lang=ts\"\nexport * from \"./And.vue?vue&type=script&lang=ts\"\n\nimport \"./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Or.vue?vue&type=template&id=4e6eb8f2&ts=true\"\nimport script from \"./Or.vue?vue&type=script&lang=ts\"\nexport * from \"./Or.vue?vue&type=script&lang=ts\"\n\nimport \"./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nor.vue?vue&type=template&id=7803c0c0&ts=true\"\nimport script from \"./Nor.vue?vue&type=script&lang=ts\"\nexport * from \"./Nor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nand.vue?vue&type=template&id=1bef5bae&ts=true\"\nimport script from \"./Nand.vue?vue&type=script&lang=ts\"\nexport * from \"./Nand.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xnor.vue?vue&type=template&id=3e58dbce&ts=true\"\nimport script from \"./Xnor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xnor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xor.vue?vue&type=template&id=2e4c44f6&ts=true\"\nimport script from \"./Xor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum ItemSubtype {\n  None = 'None',\n\n  /* input nodes */\n  Switch = 'Switch',\n  PushButton = 'PushButton',\n  Clock = 'Clock',\n\n  /* output nodes */\n  Lightbulb = 'Lightbulb',\n\n  /* buffers */\n  Buffer = 'Buffer',\n  Not = 'Not',\n\n  /* tri-state */\n  Tristate = 'Tristate',\n\n  /* logic gates */\n  And = 'And',\n  Or = 'Or',\n  Nand = 'Nand',\n  Nor = 'Nor',\n  Xnor = 'Xnor',\n  Xor = 'Xor'\n}\n\nexport default ItemSubtype\n","import { render } from \"./LogicGate.vue?vue&type=template&id=078dbdd8&ts=true\"\nimport script from \"./LogicGate.vue?vue&type=script&lang=ts\"\nexport * from \"./LogicGate.vue?vue&type=script&lang=ts\"\n\nimport \"./LogicGate.vue?vue&type=style&index=0&id=078dbdd8&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InputSwitch.vue?vue&type=template&id=e56eb0ec&ts=true\"\nimport script from \"./InputSwitch.vue?vue&type=script&lang=ts\"\nexport * from \"./InputSwitch.vue?vue&type=script&lang=ts\"\n\nimport \"./InputSwitch.vue?vue&type=style&index=0&id=e56eb0ec&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./IntegratedCircuit.vue?vue&type=template&id=a5d3099c&ts=true\"\nimport script from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\n\nimport \"./IntegratedCircuit.vue?vue&type=style&index=0&id=a5d3099c&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    class=\"lightbulb\"\n    :class=\"{\n      'lightbulb--on': value === 1,\n      'lightbulb--high-z': value === 0\n    }\"\n  />\n</template>\n\n<script type=\"ts\">\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'Lightbulb',\n  props: {\n    value: {\n      type: Number,\n      default: 0\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\">\n.lightbulb {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  border: 1px solid var(--color-secondary);\n  background-color: rgba(67, 67, 67, 0.5);\n  cursor: move;\n  pointer-events: all;\n\n  &--on {\n    background-color: var(--color-on);\n    box-shadow: 0 0 20px var(--color-on);\n  }\n\n  &--high-z {\n    background-color: var(--color-hi-z);\n  }\n}\n</style>\n","import { render } from \"./Lightbulb.vue?vue&type=template&id=b4b26314\"\nimport script from \"./Lightbulb.vue?vue&type=script&lang=js\"\nexport * from \"./Lightbulb.vue?vue&type=script&lang=js\"\n\nimport \"./Lightbulb.vue?vue&type=style&index=0&id=b4b26314&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Freeport.vue?vue&type=template&id=5e8c7cdc&ts=true\"\nimport script from \"./Freeport.vue?vue&type=script&lang=ts\"\nexport * from \"./Freeport.vue?vue&type=script&lang=ts\"\n\nimport \"./Freeport.vue?vue&type=style&index=0&id=5e8c7cdc&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortHandle.vue?vue&type=template&id=f2e892ae&ts=true\"\nimport script from \"./PortHandle.vue?vue&type=script&lang=ts\"\nexport * from \"./PortHandle.vue?vue&type=script&lang=ts\"\n\nimport \"./PortHandle.vue?vue&type=style&index=0&id=f2e892ae&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortSet.vue?vue&type=template&id=11d98e1c&ts=true\"\nimport script from \"./PortSet.vue?vue&type=script&lang=ts\"\nexport * from \"./PortSet.vue?vue&type=script&lang=ts\"\n\nimport \"./PortSet.vue?vue&type=style&index=0&id=11d98e1c&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=e37daf80&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=e37daf80&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Selectable.vue?vue&type=template&id=1e349272&ts=true\"\nimport script from \"./Selectable.vue?vue&type=script&lang=ts\"\nexport * from \"./Selectable.vue?vue&type=script&lang=ts\"\n\nimport \"./Selectable.vue?vue&type=style&index=0&id=1e349272&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortPivot.vue?vue&type=template&id=9aa66860&ts=true\"\nimport script from \"./PortPivot.vue?vue&type=script&lang=ts\"\nexport * from \"./PortPivot.vue?vue&type=script&lang=ts\"\n\nimport \"./PortPivot.vue?vue&type=style&index=0&id=9aa66860&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum PortType {\n  Output = 0,\n  Input\n}\n\nexport default PortType\n","import { render } from \"./PortItem.vue?vue&type=template&id=b9f61a0c&ts=true\"\nimport script from \"./PortItem.vue?vue&type=script&lang=ts\"\nexport * from \"./PortItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum ItemType {\n  Buffer = 'Buffer',\n  CircuitNode = 'CircuitNode',\n  Freeport = 'Freeport',\n  InputNode = 'InputNode',\n  IntegratedCircuit = 'IntegratedCircuit',\n  LogicGate = 'LogicGate',\n  OutputNode = 'OutputNode'\n}\n\nexport default ItemType\n","import { render } from \"./Item.vue?vue&type=template&id=c9bf1462&ts=true\"\nimport script from \"./Item.vue?vue&type=script&lang=ts\"\nexport * from \"./Item.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport DocumentState from '@/store/DocumentState'\n\nexport default function edit (store: Store<string, DocumentState, any>, submenus: MenuItemConstructorOptions[] = []): MenuItemConstructorOptions[] {\n  let menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Undo',\n      enabled: store.canUndo,\n      accelerator: 'CommandOrControl+Z',\n      click: store.undo\n    },\n    { type: 'separator' },\n    {\n      role: 'cut',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'copy',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'paste',\n      enabled: store.hasSelection\n    },\n    {\n      label: 'Delete',\n      accelerator: 'Delete',\n      enabled: store.hasSelection,\n      click: store.deleteSelection\n    },\n    { type: 'separator' },\n    {\n      role: 'selectAll',\n      enabled: store.baseItems.length > 0\n    }\n  ]\n\n  if (store.selectedItemIds.length > 0) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Rotate',\n      submenu: [\n        {\n          label: 'Rotate 90° &CW',\n          accelerator: 'CmdOrCtrl+R',\n          click: () => store.rotate(1)\n        },\n        {\n          label: 'Rotate 90° CC&W',\n          accelerator: 'CmdOrCtrl+Shift+R',\n          click: () => store.rotate(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.hasSelection) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Bring to Front',\n      submenu: [\n        {\n          label: '&Bring to Front',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Bring &Forward',\n          click: () => store.incrementZIndex(1)\n        }\n      ]\n    })\n    menu.push({\n      label: '&Send to Back',\n      submenu: [\n        {\n          label: '&Send to Back',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Send &Backward',\n          click: () => store.incrementZIndex(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.canGroup) {\n    menu.push({\n      label: '&Group',\n      submenu: [\n        { label: '&Group' },\n        {\n          label: '&Ungroup',\n          enabled: store.canUngroup\n        }\n      ]\n    })\n  }\n\n  if (submenus.length > 0) {\n    menu.push({ type: 'separator' })\n    menu = menu.concat(submenus)\n  }\n\n  if (store.selectedItemIds.length === 1) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Item Properties'\n    })\n  }\n\n  if (store.activePortId) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      type: 'checkbox',\n      label: 'Show in &Oscilloscope',\n      checked: true\n    })\n  }\n\n  return menu\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport DocumentState from '@/store/DocumentState'\n\nexport default function grid (store: Store<string, DocumentState, any>): MenuItemConstructorOptions[] {\n  return [\n    {\n      label: '&Grid',\n      submenu: [\n        {\n          label: '&Show grid'\n        },\n        { type: 'separator' },\n        { label: 'Snap to &grid' },\n        { label: 'Snap to &elements' }\n      ]\n    }\n  ]\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport DocumentState from '@/store/DocumentState'\nimport edit from '../submenus/edit'\nimport grid from '../submenus/grid'\n\nexport default function editor (store: Store<string, DocumentState, any>): MenuItemConstructorOptions[] {\n  return edit(store, grid(store).concat({ type: 'separator' }))\n}\n","function isInNeighborhood (a: Point, b: Point, radius: number): boolean {\n  const distX = Math.pow(a.x - b.x, 2)\n  const distY = Math.pow(a.y - b.y, 2)\n\n  return Math.sqrt(distX + distY) <= radius\n}\n\n/**\n * Returns true if line a intersects with line B.\n *\n * @param a1 - first point of a\n * @param a2 - second point of a\n * @param b1 - first point of b\n * @param b2 - second point of b\n */\nfunction hasLinearIntersection (a1: Point, a2: Point, b1: Point, b2: Point): boolean {\n  const ccw = (a: Point, b: Point, c: Point) => {\n    return (c.y-a.y) * (b.x-a.x) > (b.y-a.y) * (c.x-a.x)\n  }\n\n  return ccw(a1, b1, b2) !== ccw(a2, b1, b2) && ccw(a1, a2, b1) !== ccw(a1, a2, b2)\n}\n\nfunction isLineIntersectingRectangle (a1: Point, a2: Point, boundingBox: BoundingBox): boolean {\n  const b1 = { x: boundingBox.left, y: boundingBox.top }\n  const b2 = { x: boundingBox.right, y: boundingBox.top }\n  const b3 = { x: boundingBox.right, y: boundingBox.bottom }\n  const b4 = { x: boundingBox.left, y: boundingBox.bottom }\n\n  return hasLinearIntersection(a1, a2, b1, b2)\n    || hasLinearIntersection(a1, a2, b2, b3)\n    || hasLinearIntersection(a1, a2, b3, b4)\n    || hasLinearIntersection(a1, a2, b4, b1)\n}\n\nfunction scaleBoundingBox (box: BoundingBox, scale: number): BoundingBox {\n  return {\n    left: box.left * scale,\n    top: box.top * scale,\n    bottom: box.bottom * scale,\n    right: box.right * scale\n  }\n}\n\nfunction isTwoDimensional (box: BoundingBox) {\n  return box.left !== box.right || box.top !== box.bottom\n}\n\n/**\n * Returns a list of one infinitely-horizontal and one infinitely-vertical boundaries.\n *\n * @param point - the point to compute boundaries for\n * @returns list of bounding boxes\n */\nfunction getLinearBoundaries (point: Point): BoundingBox[] {\n  return [\n    {\n      left: point.x,\n      right: point.x,\n      top: -Infinity,\n      bottom: Infinity\n    },\n    {\n      left: -Infinity,\n      right: Infinity,\n      top: point.y,\n      bottom: point.y\n    }\n  ]\n}\n\n/**\n * Returns a point as a boundary.\n *\n * @param point\n * @returns point boundary\n */\nfunction getPointBoundary (point: Point): BoundingBox {\n  return {\n    left: point.x,\n    top: point.y,\n    right: point.x,\n    bottom: point.y\n  }\n}\n\n/**\n * Returns true if a and b intersect.\n *\n * @param a\n * @param b\n * @returns boolean result of intersection\n */\nfunction hasIntersection (a: BoundingBox, b: BoundingBox): boolean {\n  if (a.left >= b.right || b.left >= a.right) {\n    // one rect is on left side of other\n    return false\n  }\n\n  if (a.top >= b.bottom || b.top >= a.bottom) {\n    // one rect is above other\n    return false\n  }\n\n  return true\n}\n\n/**\n * Computes the bounding box of the given item.\n *\n * @param item\n * @returns computed bounding box\n */\nfunction getItemBoundingBox (item: Item): BoundingBox {\n  if (item.rotation % 2 === 0) {\n    // item is right side up or upside down\n    return {\n      left: item.position.x,\n      top: item.position.y,\n      bottom: item.height + item.position.y,\n      right: item.width + item.position.x\n    }\n  }\n\n  // item is rotated at a 90 degree angle (CW or CCW)\n  const midX = item.position.x + (item.width / 2)\n  const midY = item.position.y + (item.height / 2)\n\n  return {\n    left: midX - (item.height / 2),\n    top: midY - (item.width / 2),\n    right: midX + (item.height / 2),\n    bottom: midY + (item.width / 2)\n  }\n}\n\n/**\n * Computes the group bounding box for the given list of bounding boxes.\n *\n * @param boundingBoxes - list of bounding boxes contained\n * @returns computed bounding box\n */\nfunction getGroupBoundingBox (boundingBoxes: BoundingBox[]): BoundingBox {\n  return boundingBoxes.reduce((rect, boundingBox) => ({\n    left: Math.min(rect.left, boundingBox.left),\n    top: Math.min(rect.top, boundingBox.top),\n    right: Math.max(rect.right, boundingBox.right),\n    bottom: Math.max(rect.bottom, boundingBox.bottom)\n  }), {\n    left: Infinity,\n    top: Infinity,\n    right: 0,\n    bottom: 0\n  })\n}\n\nfunction getBoundingBoxMidpoint (boundingBox: BoundingBox): Point {\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n\n  return {\n    x: width / 2,\n    y: height / 2\n  }\n}\n\n/**\n * Given parent and child bounding boxes, determines the screen point (top left) of the child centered in the parent.\n *\n * @param parentBox\n * @param childBox\n * @param factor - any factor to round by\n */\nfunction getCenteredScreenPoint (parentBox: BoundingBox, childBox: BoundingBox, factor: number = 1): Point {\n  const parentMidpoint = getBoundingBoxMidpoint(parentBox)\n  const childWidth = childBox.right - childBox.left\n  const childHeight = childBox.bottom - childBox.top\n  const roundToGrid = (n: number) => Math.round(n / factor) * factor\n\n  return {\n    x: roundToGrid(parentMidpoint.x - (childWidth / 2)),\n    y: roundToGrid(parentMidpoint.y - (childHeight / 2))\n  }\n}\n\nexport default {\n  isInNeighborhood,\n  isLineIntersectingRectangle,\n  scaleBoundingBox,\n  isTwoDimensional,\n  getLinearBoundaries,\n  getPointBoundary,\n  hasIntersection,\n  getItemBoundingBox,\n  getGroupBoundingBox,\n  getBoundingBoxMidpoint,\n  getCenteredScreenPoint\n}\n","import domToImage from 'dom-to-image'\n\n/**\n * Renders a printer-friendly HTML DOM clone of the given editor element.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n * @param padding - number of pixels to use as surrounding padding\n */\nfunction createPrintArea (zoom: number, editor: HTMLElement, boundingBox: BoundingBox, padding: number, className: string = 'printer-friendly') {\n  const printArea = editor.cloneNode(true) as HTMLElement\n  const width = boundingBox.right - boundingBox.left + (padding * 2)\n  const height = boundingBox.bottom - boundingBox.top + (padding * 2)\n\n  for (let i = 0; i < printArea.children.length; i++) {\n    const child = printArea.children[i] as HTMLElement\n    const left = parseInt(child.style.left.replace('px', ''), 10) + padding\n    const top = parseInt(child.style.top.replace('px', ''), 10) + padding\n\n    child.style.left = `${(left - boundingBox.left)}px`\n    child.style.top = `${(top - boundingBox.top)}px`\n  }\n\n  printArea.style['zoom'] = zoom.toString()\n  printArea.style.width = `${width}px`\n  printArea.style.height = `${height}px`\n  printArea.style.position = 'relative'\n  printArea.style.top = '0'\n  printArea.style.left = '0'\n  printArea.style.background = 'none'\n\n  if (className) {\n    printArea.classList.add(className)\n  }\n\n  return { printArea, width, height }\n}\n\n/**\n * Renders a hidden iframe on the page for printing.\n *\n * @param image - the image to print\n * @param pageSize - list of [width, height] dimensions, in inches\n */\nfunction createPrintFrame (image: HTMLImageElement, pageSize: number[]) {\n  const iframe = document.createElement('iframe')\n\n  iframe.name = 'print'\n  iframe.style.width = '1px'\n  iframe.style.height = '1px'\n  iframe.style.opacity = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.top = '0px'\n  iframe.style.left = '0px'\n\n  document.body.appendChild(iframe)\n\n  const printFrame = iframe.contentWindow\n\n  if (printFrame) {\n    const styleTag = document.createElement('style')\n\n    styleTag.appendChild(document.createTextNode(`\n      @page {\n        size: ${pageSize.map(s => `${s}in`).join(' ')};\n        margin: 0in;\n      }\n    `))\n\n    printFrame.document.head.append(styleTag)\n    printFrame.document.body.appendChild(image)\n  }\n\n  return iframe\n}\n\n/**\n * Renders a binary PNG screenshot of the given HTML element.\n *\n * @param printArea\n */\nasync function createImage<T> (printArea: HTMLElement, fn: 'toBlob' | 'toPng') {\n  document.body.appendChild(printArea)\n\n  const dataUrl = await domToImage[fn](printArea) as T\n\n  printArea.remove()\n\n  return dataUrl\n}\n\n/**\n * Prints (using a physical printer) the contents of the given window.\n */\nasync function printWindow (win: Window | null) {\n  return new Promise<void>(resolve => {\n    setTimeout(() => {\n      if (!win) return resolve()\n\n      win.addEventListener('afterprint', () => resolve())\n      win.print()\n    })\n  })\n}\n\n/**\n * Prints (using a physical printer) the editor.\n * The version printed will be rendered as a printer-friendly (read: ink-friendly) screenshot of the given editor.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n */\nasync function printImage (zoom: number, editor: HTMLElement, boundingBox: BoundingBox) {\n  const { printArea, width, height } = createPrintArea(1 / zoom, editor, boundingBox, 20)\n  const dataUrl = await printing.createImage<string>(printArea, 'toPng')\n  const pageSize = [8.5, 11] // inches\n  const minSize = Math.min(...pageSize) * 96 // pixels\n  const maxSize = Math.max(...pageSize) * 96 // pixels\n  const image = new Image()\n\n  let percent = 1 // percentage to resize the image by (to fit printable window area)\n\n  image.src = dataUrl as string\n\n  if (width > minSize || width > maxSize || height > minSize || height > maxSize) {\n    // make the image print in either landscape or portrait, whichever fits better\n    const isLandscape = width > height\n\n    // if the image exceeds one of the dimensions, resize it in ratio to match the dimension\n    percent = isLandscape\n      ? maxSize / width\n      : maxSize / height\n\n    if (isLandscape) {\n      pageSize.reverse()\n    }\n  }\n\n  image.style.width = `${Math.floor(width * percent)}px`\n  image.style.height = `${Math.floor(height * percent)}px`\n\n  const iframe = printing.createPrintFrame(image, pageSize)\n\n  await printing.printWindow(iframe?.contentWindow)\n\n  iframe?.remove()\n}\n\nconst printing = {\n  createPrintArea,\n  createPrintFrame,\n  createImage,\n  printImage,\n  printWindow\n}\n\nexport default printing\n","enum Direction {\n  Left = 0,\n  Top,\n  Right,\n  Bottom\n}\n\nexport default Direction\n","import CircuitNode from '../base/CircuitNode'\n\nclass Connection {\n  node: CircuitNode\n  id: string\n\n  constructor (node: CircuitNode, id: string) {\n    this.node = node\n    this.id = id\n  }\n}\n\nexport default Connection\n","const LogicValue = {\n  TRUE: 1,\n  FALSE: -1,\n  UNKNOWN: 0\n}\n\nexport default LogicValue\n","import Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\n\nclass CircuitNode {\n  /**\n   * Incoming values, to be used for calculation of the node's state.\n   *\n   * @type {Array<LogicValue>}\n   */\n  public inputValues: { [id: string]: number } = {}\n\n  /**\n   * List of outgoing connections.\n   *\n   * @type {Array<Connection>}\n   */\n  public outputs: Array<Connection> = []\n\n  /**\n   * Set to true if the value of the node has changed since last circuit evaluation.\n   *\n   * @type {Boolean}\n   */\n  public isValueChanged: boolean = true\n\n  /**\n   * Set to true to have the debugger continue regardless of whether this node changed or not.\n   *\n   * @type {Boolean}\n   */\n  public forceContinue: boolean = false\n\n  /**\n   * Name of the node.\n   *\n   * @type {String}\n   */\n  public name: string\n\n  /**\n   * Current value of the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public value: number = LogicValue.UNKNOWN\n\n  /**\n   * Next value for the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public newValue: number = LogicValue.UNKNOWN\n\n  /**\n   * List of dictionaries containing event types and their respective callbacks.\n   * Used for the invocation of event listeners when their respective events are fired.\n   *\n   * @type {Array<Object>}\n   */\n  public events: Array<{ eventType: string, callback: Function }> = []\n\n  /**\n   * Constructor.\n   *\n   * @param {String} name - name of the node\n   * @param {Number} [inputIds = []] - ids for each input port\n   */\n  constructor (name: string, inputIds: string[] = []) {\n    this.name = name\n    this.inputValues = inputIds.reduce((map, id) => ({\n      ...map,\n      [id]: LogicValue.UNKNOWN\n    }), {})\n  }\n\n  /**\n   * Updates the node's value to be static having the given value.\n   *\n   * @param {LogicValue} value\n   */\n  public setValue = (value: number): void => {\n    this.newValue = value\n    this.eval = () => value\n  }\n\n  /**\n   * Invokes the registered events having the given `eventType`.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {LogicValue} value\n   */\n  protected invokeEvent = (eventType: string, value: number): void => {\n    this.events.forEach((event) => {\n      if (event.eventType === eventType) {\n        event.callback(value)\n      }\n    })\n  }\n\n  /**\n   * Evaluates the node. Default behavior returns the current value.\n   *\n   * @returns {LogicValue}\n   */\n  protected eval = (): number => {\n    return this.value\n  }\n\n  /**\n   * Calculates how many input values equal the given comparison value.\n   *\n   * @param {LogicValue} compare - value to get count of\n   * @returns {Number}\n   */\n  protected valueCount = (compare: number): number => {\n    return Object\n      .values(this.inputValues)\n      .filter((value) => value === compare)\n      .length\n  }\n\n  /**\n   * Updates all outgoing connected nodes with the given value.\n   *\n   * @param {LogicValue} newValue - new value to output to the nodes\n   */\n  public updateOutputs = (newValue: number): void => {\n    this.outputs.forEach(({ node, id }: Connection) => {\n      node.update(newValue, id)\n    })\n  }\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @param {LogicValue} value - new value\n   * @param {Number} id - source port id\n   */\n  public update = (value: number, id: string): void => {\n    this.inputValues[id] = value\n    this.newValue = this.eval()\n  }\n\n  /**\n   * Propagates a signal, if the value of the node has changed.\n   *\n   * @returns {Array<CircuitNodes>} list of all outgoing connected nodes\n   */\n  public propagate = (): Array<CircuitNode> => {\n    if (this.value !== this.newValue) {\n      this.isValueChanged = true\n      this.value = this.newValue\n      this.updateOutputs(this.newValue)\n      this.invokeEvent('change', this.newValue)\n\n      return this.outputs.map(({ node }) => node)\n    }\n    return []\n  }\n\n  /**\n   * Resets the value and subsequent value of the node with Hi-Z.\n   */\n  public reset = (): void => {\n    this.value = LogicValue.UNKNOWN\n    this.newValue = LogicValue.UNKNOWN\n    this.invokeEvent('change', this.newValue)\n  }\n\n  /**\n   * Registers an event listener.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {Function} callback - method to invoke on event\n   */\n  public on = (eventType: string, callback: Function): void => {\n    this.events.push({ eventType, callback })\n  }\n\n  /**\n   * Returns the value of the node next time the circuit is evaluated.\n   *\n   * @returns {Number}\n   */\n  public getProjectedValue = (): number => {\n    return this.eval() || this.newValue || this.value\n  }\n}\n\n\nexport default CircuitNode\n","import CircuitNode from './CircuitNode'\n\nclass InputNode extends CircuitNode {\n  /**\n   * Resets the node.\n   *\n   * @override CircuitNode.reset\n   */\n  public reset = (): void => {\n    // do nothing\n  }\n}\n\nexport default InputNode\n","import CircuitNode from './CircuitNode'\n\nclass OutputNode extends CircuitNode {\n  /**\n   * Updates the value of the node.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value\n   */\n  public update = (value: number): void => {\n    if (this.newValue !== value) {\n      this.newValue = value\n      this.invokeEvent('change', value)\n    }\n  }\n}\n\nexport default OutputNode\n","import CircuitNode from '../base/CircuitNode'\nimport Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\nimport InputNode from './InputNode'\nimport OutputNode from './OutputNode'\n\nclass Circuit {\n  /**\n   * The debugger processing queue.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public queue: Array<CircuitNode> = []\n\n  /**\n   * A list of all the nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public nodes: Array<CircuitNode> = []\n\n  /**\n   * A list of all input nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public inputNodes: Array<InputNode> = []\n\n  /**\n   * Adds a node to the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to add\n   */\n  public addNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      this.inputNodes.push(node)\n      this.enqueue(node)\n    }\n    this.nodes.push(node)\n  }\n\n  /**\n   * Removes a node from the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to remove\n   */\n  public removeNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      const inputIndex = this.inputNodes.findIndex(({ name }) => name === node.name)\n\n      if (inputIndex !== -1) {\n        this.inputNodes.splice(inputIndex, 1)\n      }\n      this.reset()\n    }\n\n    const index = this.nodes.findIndex(({ name }) => name === node.name)\n\n    if (index !== -1) {\n      this.removeNodeOutputs(node)\n      this.nodes.splice(index, 1)\n    }\n\n    this.next()\n  }\n\n  /**\n   * Adds a connection entry from the source node to the target node on the given index.\n   *\n   * @param {CircuitNode} source - source node\n   * @param {CircuitNode} target - target node\n   * @param {Number} targetId - entry port id on the target node for the connection\n   */\n  public addConnection = (source: CircuitNode, target: CircuitNode, targetId: string): void => {\n    source.outputs.push(new Connection(target, targetId))\n    source.value = LogicValue.UNKNOWN\n    this.enqueue(source)\n    this.next()\n  }\n\n  /**\n   * Removes the connection on the source node at the source index and the connection at its target node.\n   * The input value at the target index will be reset to Hi-Z.\n   *\n   * @param {CircuitNode} sourceNode - source node to disconnect\n   * @param {CircuitNode} targetNode - target node to disconnect\n   */\n  public removeConnection = (sourceNode: CircuitNode, targetNode: CircuitNode): void => {\n    sourceNode\n      .outputs\n      .concat()\n      .forEach(({ node, id }: Connection, i: number) => {\n        if (targetNode === node) {\n          // reset the input of the target for this connection to hi-Z\n          targetNode.update(LogicValue.UNKNOWN, id)\n\n          // remove the output entry at the source\n          sourceNode.outputs.splice(i, 1)\n\n          // place the target node in the queue for processing\n          this.enqueue(targetNode)\n        }\n      })\n    this.next()\n  }\n\n  /**\n   * Removes all connections from the given source node.\n   *\n   * @param {CircuitNode} source\n   */\n  removeNodeOutputs = (source: CircuitNode): void => {\n    for (let i: number = 0; i < source.outputs.length; i++) {\n      this.removeConnection(source, source.outputs[i].node)\n    }\n  }\n\n  /**\n   * Appends the given node(s) to the processing queue.\n   *\n   * @param {...CircuitNode} added - node(s) to add to the queue\n   */\n  public enqueue = (...added: CircuitNode[]): void => {\n    added.forEach((node) => {\n      if (!~this.queue.indexOf(node)) {\n        this.queue.push(node)\n      }\n    })\n  }\n\n  /**\n   * Removes the given node from the processing queue.\n   *\n   * @param {CircuitNode} removed - node to remove from the queue\n   */\n  public dequeue = (removed: CircuitNode): void => {\n    const removedIndex = this.queue.indexOf(removed)\n\n    if (~removedIndex) {\n      this.queue.splice(removedIndex, 1)\n    }\n  }\n\n  /**\n   * Resets the circuit.\n   */\n  public reset = (): void => {\n    this.nodes.forEach((node) => node.reset())\n  }\n\n  /**\n   * Advances the circuit simulation one step. If none of the node values have changed,\n   * it continues stepping through until either a value changes or the queue is empty.\n   */\n  public next = (): void => {\n    let isValueChanged = false\n    let forceContinue = false\n    let localQueue: CircuitNode[] = []\n\n    while (this.queue.length > 0) {\n      const node = this.queue.shift()\n\n      if (!node) continue\n\n      localQueue = localQueue.concat(node.propagate())\n\n      this.dequeue(node)\n\n      if (node.isValueChanged) {\n        isValueChanged = true\n        node.isValueChanged = false\n      }\n\n      if (node.forceContinue) {\n        forceContinue = true\n        this.enqueue(...localQueue)\n        localQueue = []\n      }\n    }\n\n    if (isValueChanged) {\n      this.enqueue(...localQueue)\n    }\n  }\n\n  /**\n   * Returns true when the queue is finished processing.\n   *\n   * @returns {Boolean}\n   */\n  public isComplete = (): boolean => {\n    let isComplete = true\n\n    if (this.queue.length === 0) {\n      return true\n    }\n\n    this.queue.forEach(node => {\n      const nextValue = node.getProjectedValue()\n\n      if (nextValue !== node.value && !(node instanceof OutputNode)) {\n        isComplete = false\n      }\n    })\n\n    if (isComplete) {\n      this.queue = []\n    }\n\n    return isComplete\n  }\n}\n\nexport default Circuit\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nor extends CircuitNode {\n  protected eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.FALSE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.TRUE\n  }\n}\n\nexport default Nor\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Buffer extends CircuitNode {\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value - new value\n   * @param {Number} index - source index\n   */\n  public update = (value: number): void => {\n    const id = Object\n      .keys(this.inputValues)\n      .pop()\n\n    if (id) {\n      this.inputValues[id] = value\n      this.newValue = this.eval()\n    }\n  }\n\n  protected eval = (): number => {\n    return Object\n      .values(this.inputValues)\n      .pop() || 0\n  }\n}\n\nexport default Buffer\n","import { LogicValue } from '@/circuit'\n\n/**\n * @class BinaryWaveService\n * @description this service provides functionality for a graphical illustration of a wave in the oscilloscope.\n * Instances of these waves are the values of the active oscillogram.\n */\nexport default class BinaryWaveService implements Pulse {\n  /** Wave ID. */\n  public id: string\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Width (in pixels) of the wave. */\n  public width: number = 0\n\n  /** The y value for the last segment. */\n  private lastY: number = 0\n\n  /** Cartesian point values for each pixel segment. */\n  public segments: Point[] = []\n\n  /** Random hue color value for the wave. */\n  public hue: number = ~~(360 * Math.random())\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param signal - current signal value to initialize at\n   */\n  constructor (id: string, name: string, signal: number) {\n    this.id = id\n    this.name = name\n    this.initialize(signal)\n  }\n\n  /**\n   * Creates an initial segment based on the given signal.\n   *\n   * @param signal\n   */\n  public initialize = (signal: number) => {\n    const segment = { x: 1, y: 1 }\n\n    if (signal === 1) {\n      segment.y = 0 // draw a vertical line from 0 up to 1\n      this.lastY = 1\n    } else {\n      segment.y = 1 // draw a vertical line from 1 down to 0\n      this.lastY = 0\n    }\n\n    this.addSegment(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Clears out the existing wave data.\n   */\n  public reset = () => {\n    this.segments = []\n    this.width = 0\n    this.initialize(this.lastY === 1 ? 0 : 1)\n  }\n\n  /**\n   * Periodic update function.\n   *\n   * @param elapsed - (no value necessary)\n   */\n  public update = (elapsed: number): void => {\n    this.drawPulseConstant()\n  }\n\n  /**\n   * Adds a new segment.\n   * This will correct for any mismatches between the segment and the previous one (if any).\n   *\n   * @param segment - new segment to add\n   */\n  addSegment = (segment: Point) => {\n    const previous = this.segments[this.segments.length - 1]\n\n    if (!previous && segment.x > 0) {\n      this.segments.push({ x: 0, y: segment.y })\n    } else if (previous && previous.x !== segment.x && previous.y !== segment.y) {\n      // if a previous segment exists, and both its x and y values mismatch, then remove it\n      this.segments.pop()\n    }\n\n    this.segments.push(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Draws the next segment of the wave with an inverted signal line.\n   *\n   * @param signal - incoming signal change value\n   */\n  drawPulseChange = (signal: number) => {\n    const { x } = this.segments[this.segments.length - 1]\n    const y = signal === LogicValue.TRUE ? 0 : 1\n\n    this.updateWidth()\n    this.addSegment({ x, y })\n  }\n\n  /**\n   * Draws the next segment of the wave, continued from the current signal line.\n   */\n  drawPulseConstant = () => {\n    const previous = this.segments[this.segments.length - 1]\n    // if the y value from the previous segment is unchanged, just extend its x value\n    const pos = this.lastY !== previous.y\n      ? previous\n      : this.segments.pop()\n\n\n    if (pos) {\n      this.updateWidth()\n      this.addSegment({\n        x: pos.x + 1,\n        y: pos.y\n      })\n    }\n    this.lastY = previous.y\n  }\n\n  /**\n   * Truncates the wave from the back such that the resulting wave is no wider than the given value.\n   *\n   * @param widthToKeep - the width, in pixels, to keep from the wave\n   */\n  truncateSegments = (widthToKeep: number) => {\n    if (widthToKeep > this.width) {\n      return\n    }\n\n    const widthToTruncate = this.width - widthToKeep\n\n    let deltaX = 0\n\n    for (let i = 0; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      if (x > widthToTruncate) {\n        deltaX = x - widthToTruncate\n\n        this.segments.splice(0, i)\n        this.segments.unshift({ x: 0, y })\n\n        break\n      }\n    }\n\n    for (let i = 1; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      this.segments[i] = {\n        x: x - widthToTruncate,\n        y\n      }\n    }\n\n    this.updateWidth()\n  }\n\n  updateWidth = () => {\n    this.width = this.segments.slice(-1)[0]?.x || 0\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * @class ClockService\n * @description This provides an oscillating clock wave. It oscillates between TRUE and FALSE.\n */\nexport default class ClockService implements Pulse {\n  /** Wave ID. */\n  public id: string = uuid()\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Current signal value. */\n  public signal: number = 0\n\n  /** Last update time, in milliseconds. */\n  private lastUpdate: number\n\n  /** Interval, in milliseconds, to oscillate at. */\n  private interval: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param interval - time, in milliseconds, to oscillate at\n   * @param signal - current signal value to initialize at\n   */\n  constructor (name: string, interval: number, signal: number) {\n    this.name = name\n    this.signal = signal\n    this.interval = interval\n    this.lastUpdate = -interval\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (signal: number) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Updates all waves with the given time elapsed.\n   *\n   * @param elapsed - time elapsed during simulation\n   */\n  public update = (elapsed: number): void => {\n    if (elapsed >= this.lastUpdate + this.interval) {\n      this.signal = this.signal === -1 ? 1 : -1\n      this.lastUpdate = elapsed\n      this.emitter.emit('change', this.signal)\n    }\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\n\n/**\n * @class OscillationService\n * @description Manages all oscillating services, including binary waves and clock pulses.\n * This service uses system time to determine proper sequencing and updating.\n */\nexport default class OscillationService {\n  /** Whether or not the oscillator is paused. */\n  public isPaused: boolean = true\n\n  /** Key-value pair of all waves. */\n  public waves: Record<string, Pulse> = {}\n\n  /** The refresh rate for the oscilloscope. */\n  public refreshRate: number = 20 // TODO: this can be configured to make the waves wider/oscilloscope run faster\n\n  /** The last time the oscillator was updated, in milliseconds. */\n  public lastUpdateTime: number = Date.now()\n\n  /** Elapsed total time, in milliseconds. */\n  public timeMsElapsed: number = 0\n\n  /** Offset wave time, in milliseconds. */\n  public timeMsOffset: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Starts the oscillator.\n   */\n  start = () => {\n    if (!this.isPaused) return\n\n    // this is the time that has elapsed prior to the completion of a full period\n    // when the oscillator is stopped, we want to maintain the time progressed before the next period\n    const remainingPeriodTime = this.lastUpdateTime % this.refreshRate\n\n    this.lastUpdateTime = Date.now() + remainingPeriodTime\n    this.isPaused = false\n    this.tick()\n  }\n\n  /**\n   * Stops the oscillator.\n   */\n  stop = () => {\n    this.isPaused = true\n  }\n\n  /**\n   * Clears all current binary wave geometries.\n   */\n  clear = () => {\n    Object\n      .values(this.waves)\n      .forEach(wave => {\n        if (wave instanceof BinaryWaveService) {\n          (wave as BinaryWaveService).reset()\n        }\n      })\n  }\n\n  /**\n   * Computes the SVG points for each given binary wave.\n   *\n   * @param waves\n   * @returns oscillogram result\n   */\n  computeWaveGeometry = (waves: Record<string, Pulse>) => {\n    const displays: Oscillogram = {}\n    const getPoints = (segments: Point[]) => segments.map(({ x, y }) => `${x},${y}`)\n\n    for (const name in waves) {\n      if (waves[name] instanceof BinaryWaveService) {\n        const wave = waves[name] as BinaryWaveService\n        const points = getPoints(wave.segments)\n\n        displays[name] = {\n          points: points.join(' '),\n          width: wave.width,\n          hue: wave.hue\n        }\n      }\n    }\n\n    return displays\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Broadcasts the oscillogram.\n   *\n   * @emits change containing the oscillogram data\n   */\n  broadcast = () => {\n    // set the max history to be twice the size of the user's screen, then cut half of it when it is exceeded\n    const screenWidth = window.screen.width\n    const widthOfOneSecond = 1000 / this.refreshRate\n    const maxHistorySeconds = screenWidth / widthOfOneSecond\n\n    if (this.timeMsElapsed >= this.timeMsOffset + ((maxHistorySeconds / 2) * 1000)) {\n      this.timeMsOffset = this.timeMsElapsed\n\n      Object\n        .values(this.waves)\n        .forEach((wave: Pulse) => {\n          if (wave instanceof BinaryWaveService) {\n            wave.truncateSegments(screenWidth)\n          }\n        })\n    }\n\n    this.emitter.emit('change', this.computeWaveGeometry(this.waves))\n  }\n\n  /**\n   * Triggers all oscillation update events.\n   */\n  tick = (): void => {\n    if (this.isPaused) return\n\n    const now = Date.now()\n    const MAX_IDLE_TIME = 10000 // 10 seconds\n    let hasUpdated = false\n\n    if (now >= this.lastUpdateTime + MAX_IDLE_TIME) {\n      // if the oscilloscope has been idle for a while, then re-start it rather than try to catch up to the current time\n      this.stop()\n      this.start()\n      return\n    }\n\n    while (now >= this.lastUpdateTime + this.refreshRate) {\n      // loop through each refresh period elapsed and simulate as if they actually elapsed\n      const delta = Math.min(this.refreshRate, now - this.lastUpdateTime)\n\n      hasUpdated = true\n      this.timeMsElapsed += delta\n      this.lastUpdateTime += delta\n      this.update()\n    }\n\n    if (hasUpdated) {\n      this.broadcast()\n    }\n\n    requestAnimationFrame(this.tick)\n  }\n\n  /**\n   * Updates all waves with the given tick count.\n   */\n  update = (): void => {\n    Object\n      .values(this.waves)\n      .forEach((wave) => wave.update(this.timeMsElapsed))\n  }\n\n  /**\n   * Adds the given wave to the oscillator instance.\n   *\n   * @param {Pulse} wave\n   */\n  add = (wave: Pulse): void => {\n    if (!this.waves.hasOwnProperty(wave.id)) {\n      this.waves[wave.id] = wave\n\n      if (this.timeMsElapsed === 0) {\n        this.broadcast()\n      }\n    }\n  }\n\n  /**\n   * Removes the wave having the given id.\n   *\n   * @param {Pulse} wave\n   */\n  remove = ({ id }: Pulse): void => {\n    delete this.waves[id]\n\n    if (Object.keys(this.waves).length === 0) {\n      this.stop()\n      this.clear()\n    }\n  }\n}\n","import { CircuitNode, Nor, InputNode, OutputNode, Buffer } from '@/circuit'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nfunction getLogicGateNode (subtype: string, id: string, inputIds: string[]): CircuitNode {\n  switch (subtype) {\n    case ItemSubtype.And:\n      return new Nor(id, inputIds)\n    default:\n      return new Nor(id, inputIds)\n  }\n}\n\nfunction getCircuitNode ({ id, type, subtype }: Item, inputIds: string[]): CircuitNode {\n  switch (type) {\n    case ItemType.CircuitNode:\n      return new CircuitNode(id, inputIds)\n    case ItemType.InputNode:\n      return new InputNode(id, inputIds)\n    case ItemType.LogicGate:\n      return getLogicGateNode(subtype, id, inputIds)\n    case ItemType.Buffer:\n    case ItemType.Freeport:\n      return new Buffer(id, inputIds)\n    default:\n      return new OutputNode(id, inputIds) // TODO: use generic CircuitNode instead?\n  }\n}\n\nexport default {\n  getLogicGateNode,\n  getCircuitNode\n}\n","import { cloneDeep } from 'lodash'\nimport { Circuit, CircuitNode, OutputNode } from '@/circuit'\nimport { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\nimport ClockService from './ClockService'\nimport OscillationService from './OscillationService'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\nimport circuitNodeMapper from '@/utils/circuitNodeMapper'\n\n/**\n * The SimulationService ties together all aspects of a running simulation, including clock pulses, oscilloscope\n * wave management, and circuit component I/O. Effectively serves as an oracle for all circuit computations.\n *\n * It is important that the simulation maintains the state of the circuit separately from the editor state, as\n * components may be removed/added/changed in the editor by the user at any time. Maintaining them separate allows\n * the state of components present in the editor to be persisted.\n */\nexport default class SimulationService {\n  /** Mapping of port IDs to their respective circuit nodes. */\n  nodes: Record<string, CircuitNode> = {}\n\n  /** Mapping of port IDs to their respective nodes' binary wave instances. */\n  waves: Record<string, BinaryWaveService> = {}\n\n  /** Mapping of port IDs to their respective nodes' clock instances. */\n  clocks: Record<string, ClockService> = {}\n\n  /** Mapping of port IDs to their respective current values. */\n  valueMap: Record<string, number> = {}\n\n  /** Logical circuit instance. */\n  circuit: Circuit = new Circuit()\n\n  integratedCircuits: Record<string, Circuit> = {}\n\n  /** Circuit oscillator. */\n  oscillator: OscillationService = new OscillationService()\n\n  /** Event emitter. */\n  emitter: TinyEmitter = new TinyEmitter()\n\n  /** Whether or not the simulation is paused. */\n  isPaused: boolean = false\n\n  /** Oscillogram data, containing each BinaryWave instance observed in the oscilloscope. */\n  oscillogram: Oscillogram = {}\n\n  integratedCircuitGroups: Record<string, string[]> = {}\n\n  /**\n   * Constructor.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  constructor (items: Item[], connections: Connection[], ports: Record<string, Port>) {\n    this.addElements(items, connections, ports)\n    this.oscillator.on('change', oscillogram => {\n      this.oscillogram = oscillogram\n      this.emit()\n    })\n  }\n\n  /**\n   * Adds the given items and connections with the given ports to the simulation.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  addElements = (items: Item[], connections: Connection[], ports: Record<string, Port>) => {\n    items.forEach(item => this.addNode(item, ports))\n    connections.forEach(c => this.addConnection(c.source, c.target))\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the port-value mapping as the first argument and oscillogram data as the second\n   */\n  on = (event: string, fn: (valueMap: Record<string, number>, oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Emits a change event.\n   *\n   * @emits change when the oscillogram or any value changes changes\n   */\n  emit = () => {\n    this.emitter.emit('change', this.valueMap, this.oscillogram)\n  }\n\n  /**\n   * Pauses the simulation.\n   */\n  pause = () => {\n    this.oscillator.stop()\n    this.isPaused = true\n  }\n\n  /**\n   * Continues the simulation.\n   */\n  unpause = () => {\n    this.isPaused = false\n    this.oscillator.start()\n    this.emit()\n  }\n\n  /**\n   * Advances the simulation by one step.\n   *\n   * @param [iteration = 0] - internal iteration count (should always invoke using `0` or undefined)\n   */\n  step = (iteration: number = 0) => {\n    if (this.isPaused) return\n\n    this.circuit.next()\n\n    const shouldContinue = this.circuit.queue.length > 0 // TODO: use circuit.isComplete()?\n\n    if (iteration > 10000) {\n      // TODO: configure this to detect infinite loops...\n      throw new Error('An infinite loop detected!')\n    }\n\n    if (shouldContinue) {\n      this.step(++iteration)\n    }\n\n    this.emit()\n  }\n\n  canContinue: boolean = false\n\n  nextState: string | null = null\n\n  isDebug: boolean = false\n\n  nextValueMap: Record<string, number> = {}\n\n  startDebugging = () => {\n    this.isDebug = true\n    this.pause()\n    this.computeNextState()\n  }\n\n  stopDebugging = () => {\n    this.isDebug = false\n    this.nextState = null\n    this.unpause()\n  }\n\n  advance = () => {\n    const nextValues = Object.keys(this.nextValueMap)\n\n    if (nextValues.length > 0) {\n      // at least one value change was triggered by the editor since last advance\n      nextValues.forEach(portId => this.updatePortValue(portId, this.nextValueMap[portId]))\n    } else if (this.nextState) {\n      // no inputs are pending updates, and there is a new state to advance to\n      this.valueMap = JSON.parse(this.nextState) as Record<string, number>\n    }\n\n    this.nextValueMap = {}\n    this.computeNextState()\n    this.emit()\n  }\n\n  computeNextState = () => {\n    const currentState = JSON.stringify(this.valueMap)\n\n    this.circuit.next()\n\n    const nextState = JSON.stringify(this.valueMap)\n\n    if (currentState !== nextState) {\n      this.nextState = nextState\n    } else {\n      this.nextState = null\n    }\n\n    this.canContinue = this.nextState !== null\n  }\n\n  /**\n   * Sets the output value of a given target node.\n   *\n   * @param id - ID of the port with new value\n   * @param value - new value to set\n   */\n  setOutputValue = (id: string, value: number) => {\n    this.valueMap[id] = value\n    this.emit()\n  }\n\n  updatePortValue = (portId: string, value: number) => {\n    this.nodes[portId].setValue(value)\n    this.circuit.enqueue(this.nodes[portId])\n    this.waves[portId]?.drawPulseChange(value)\n  }\n\n  enqueuePortValueChange = (portId: string, value: number) => {\n    this.nextValueMap[portId] = value\n\n    // circuit can continue only if one or more port values have changed\n    this.canContinue = Object\n      .keys(this.nextValueMap)\n      .reduce((anyValueChanged: boolean, portId) => {\n        return anyValueChanged || this.valueMap[portId] !== this.nextValueMap[portId]\n      }, false)\n\n    this.emit()\n  }\n\n  /**\n   * Sets a port's value logical value, performing all necessary simulation operations that result from such an action.\n   *\n   * This should be invoked by the document.\n   *\n   * @param portId\n   * @param value - new logical value\n   */\n  setPortValue = (portId: string, value: number) => {\n    if (this.isDebug) {\n      return this.enqueuePortValueChange(portId, value)\n    }\n\n    if (this.nodes[portId] && this.nodes[portId].value !== value) {\n      this.updatePortValue(portId, value)\n      this.step()\n    }\n  }\n\n  /**\n   * Adds an integrated circuit to the simulation.\n   *\n   * @param item - the high-level integrated circuit item\n   */\n  addIntegratedCircuit = (icItem: Item) => {\n    if (!icItem.integratedCircuit) return\n\n    const { items, connections, ports } = icItem.integratedCircuit\n\n    Object\n      .values(items)\n      .forEach(item => {\n        this.addNode(item, ports, true)\n      })\n\n    Object\n      .values(connections)\n      .forEach(c => {\n        this.addConnection(c.source, c.target)\n      })\n  }\n\n  /**\n   * Adds new a node to the simulation.\n   *\n   * @param item - item to add\n   * @param ports - port mapping to reference (if an IC, then use the ports within the document itself)\n   * @param [forceContinue] - if true, forces the circuit node to evaluate immediately\n   */\n  addNode = (item: Item, ports: Record<string, Port>, forceContinue: boolean = false) => {\n    if (item.portIds.length === 0) return // if there are no ports, then there is nothing to add\n\n    if (item.integratedCircuit) {\n      return this.addIntegratedCircuit(item)\n    }\n\n    const inputIds = item.portIds.filter(portId => ports[portId].type === PortType.Input)\n    const outputIds = item.portIds.filter(portId => ports[portId].type === PortType.Output)\n    const node = circuitNodeMapper.getCircuitNode(item, inputIds)\n\n    node.forceContinue = forceContinue\n\n    item.portIds.forEach(portId => this.addPort(portId, node))\n\n    if (item.type === ItemType.InputNode && item.subtype === ItemSubtype.Clock) {\n      this.addClock(outputIds[0])\n    }\n\n    this.circuit.addNode(node)\n\n    if (!forceContinue) this.monitorNode(item, ports)\n  }\n\n  /**\n   * Removes a node and all of its ports from the simulation.\n   *\n   * @param portIds - list of IDs of ports associated with the node (at least one matching is required)\n   */\n  removeNode = (item: Item) => {\n    const getIntegratedCircuitPortIds = (ic: Item): string[] => {\n      if (!ic.integratedCircuit) return []\n\n      return Object\n        .values(ic.integratedCircuit.items)\n        .reduce((portIds, i) => {\n          if (i.integratedCircuit) {\n            return portIds\n              .concat(getIntegratedCircuitPortIds(i))\n              .concat(i.portIds)\n          }\n          return portIds.concat(i.portIds)\n        }, [] as string[])\n    }\n\n    item\n      .portIds\n      .concat(getIntegratedCircuitPortIds(item))\n      .forEach(portId => {\n        const node = this.nodes[portId]\n\n        if (node) {\n          this.circuit.removeNode(node)\n          this.removePort(portId)\n        }\n      })\n\n    this.emit()\n  }\n\n  /**\n   * Monitors a node in the oscilloscope.\n   *\n   * @param item - item to observe\n   * @param ports - ID-to-Port mapping of all related ports\n   */\n  monitorNode = (item: Item, ports: Record<string, Port>) => {\n    if (item.properties?.showInOscilloscope?.value) {\n      const inputIds = item.portIds.filter(portId => ports[portId].type === PortType.Input)\n      const outputIds = item.portIds.filter(portId => ports[portId].type === PortType.Output)\n      const portIds = item.type == ItemType.OutputNode\n        ? inputIds // for output nodes, all incoming signals should be monitored\n        : outputIds // for all other nodes, only its output signal should be monitored\n\n      portIds.forEach(portId => {\n        this.monitorPort(portId, this.nodes[portId].value)\n      })\n    }\n  }\n\n  /**\n   * Adds an interval clock to the circuit.\n   *\n   * @param portId\n   */\n  addClock = (portId: string) => {\n    this.clocks[portId] = new ClockService(portId, 1000, 1) // TODO: make 1000 configurable by the item\n    this.clocks[portId].on('change', (signal: number) => {\n      this.setPortValue(portId, signal)\n    })\n    this.oscillator.add(this.clocks[portId])\n  }\n\n  /**\n   * Adds a given port ID as a sibling to the node having the given port ID.\n   *\n   * @param portId\n   * @param siblingPortId\n   */\n  addSiblingPort = (portId: string, siblingPortId: string) => {\n    this.addPort(portId, this.nodes[siblingPortId])\n  }\n\n  /**\n   * Adds a port to the simulation.\n   *\n   * @param portId - ID of the port associated with the node\n   * @param node - circuit node\n   */\n  addPort = (portId: string, node: CircuitNode) => {\n    this.nodes[portId] = node\n\n    node.on('change', (value: number) => {\n      this.setOutputValue(portId, value)\n      this.waves[portId]?.drawPulseChange(value)\n    })\n  }\n\n  /**\n   * Removes a port from the simulation and all associations of it.\n   * Associations include circuit nodes, value mappings, and any active clocks and waves.\n   *\n   * @param portId\n   */\n  removePort = (portId: string) => { // TODO: need to remove wave from oscillation\n    if (this.clocks[portId]) {\n      this.oscillator.remove(this.clocks[portId])\n    }\n\n    this.unmonitorPort(portId)\n\n    delete this.nodes[portId]\n    delete this.valueMap[portId]\n    delete this.clocks[portId]\n    delete this.waves[portId]\n  }\n\n  /**\n   * Adds a new connection between the given source and target ports.\n   * This requires that the circuit nodes for both the source and target have been added to the simulation.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  addConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.addConnection(this.nodes[sourceId], this.nodes[targetId], targetId)\n    }\n  }\n\n  /**\n   * Removes a connection that exists between the given source and target ports.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  removeConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.removeConnection(this.nodes[sourceId], this.nodes[targetId])\n    }\n  }\n\n  /**\n   * Begins monitoring an individual port in the oscilloscope.\n   *\n   * @param portId\n   * @param value - current port value\n   */\n  monitorPort = (portId: string, value: number) => {\n    if (!this.waves[portId]) {\n      this.waves[portId] = new BinaryWaveService(portId, portId, value)\n      this.oscillator.add(this.waves[portId])\n    }\n  }\n\n  /**\n   * Removes a port from being monitored in the oscilloscope.\n   *\n   * @param portId\n   */\n  unmonitorPort = (portId: string) => {\n    if (this.waves[portId]) {\n      this.oscillator.remove(this.waves[portId])\n      this.oscillator.broadcast()\n    }\n\n    delete this.waves[portId]\n    delete this.oscillator.waves[portId]\n    delete this.oscillogram[portId]\n  }\n}\n","\nimport Direction from '@/types/enums/Direction'\n// TODO: rename parent 'layout' folder to 'geometry'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nfunction rotate (rotation: number, additional = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n\n/**\n * Returns the absolute Cartesian position of an item based on its parent group's rotation and position.\n *\n * @param groupBoundingBox - group for which the item is a member of\n * @param item - item to compute position for\n * @param direction - rotation direction (1 for CW, -1 for CCW)\n * @returns\n */\nfunction getGroupedItemRotatedPosition (groupBoundingBox: BoundingBox, item: Item, direction: number): Point {\n  const w = groupBoundingBox.right - groupBoundingBox.left\n  const h = groupBoundingBox.bottom - groupBoundingBox.top\n  const mx = groupBoundingBox.left + (w / 2)\n  const my = groupBoundingBox.top + (h / 2)\n  const cx = item.position.x\n  const cy = item.position.y\n  const ax = cx + (item.width / 2)\n  const ay = cy + (item.height / 2)\n  const L = Math.sqrt(Math.pow((mx - ax), 2) + Math.pow((my - ay), 2))\n  const currentAngleRad = Math.atan2((ay - my), (ax - mx))\n  const newAngle = (90 * direction * (Math.PI / 180)) + currentAngleRad\n  const newAx = (L * Math.cos(newAngle)) + mx\n  const newAy = (L * Math.sin(newAngle)) + my\n\n  return {\n    x: newAx - (item.width / 2),\n    y: newAy - (item.height / 2)\n  }\n}\n\n/**\n * Returns the absolute Cartesian position of a port based on its parent's rotation and position.\n *\n * @param port\n * @param portList\n * @param item\n * @param index\n * @returns\n */\nfunction getRotatedPortPosition (port: Port, portList: Port[], item: Item, index: number): Point {\n  const { left, top, bottom, right } = item.boundingBox\n\n  // ports use CSS \"space around\" flex property for positions\n  // compute the spacing of each port based on the element width/height\n  // there are n spacings for n ports\n  const spacing = (port.orientation + item.rotation) % 2 === 0\n    ? Math.floor((bottom - top) / portList.length)\n    : Math.floor((right - left) / portList.length)\n\n  // compute the distance (from left-to-right or top-to-bottom)\n  // the distance will be the center of the computed spacing\n  const distance = (spacing * (index + 1)) - (spacing / 2)\n\n  switch (rotate(port.orientation + item.rotation)) {\n    case Direction.Left:\n      return { x: left, y: top + distance }\n    case Direction.Top:\n      return { x: right - distance, y: top }\n    case Direction.Right:\n      return { x: right, y: bottom - distance }\n    case Direction.Bottom:\n      return { x: left + distance, y: bottom }\n  }\n}\n\nexport default {\n  rotate,\n  getGroupedItemRotatedPosition,\n  getRotatedPortPosition\n}\n","/**\n * Returns all connections and any associated freeport items within a connection chain.\n *\n * @param connections - list of all connections to explore\n * @param portMap - ID-to-port mapping of the entire document\n * @param connectionChainId - ID of the connection chain to explore\n * @returns the IDs of the connections and the freeports discovered in the chain\n */\nexport default function getConnectionChain (connections: Connection[], portMap: Record<string, Port>, connectionChainId: string) {\n  const { connectionIds, freeportIds } = Object\n    .values(connections)\n    .reduce(({ connectionIds, freeportIds }, connection) => {\n      if (connectionChainId === connection.connectionChainId) {\n        const sourcePort = portMap[connection.source]\n        const targetPort = portMap[connection.target]\n\n        connectionIds.add(connection.id)\n\n        if (sourcePort?.isFreeport) freeportIds.add(sourcePort.elementId)\n        if (targetPort?.isFreeport) freeportIds.add(targetPort.elementId)\n      }\n\n      return { connectionIds, freeportIds }\n    }, {\n      connectionIds: new Set<string>(),\n      freeportIds: new Set<string>()\n    })\n\n  return {\n    connectionIds: Array.from(connectionIds),\n    freeportIds: Array.from(freeportIds)\n  }\n}\n","/**\n * Sorting function to sort BaseItems by their zIndex values in ascending order.\n */\nexport default function sortByZIndex (a: BaseItem, b: BaseItem) {\n  if (a.zIndex > b.zIndex) return 1\n  else if (a.zIndex < b.zIndex) return -1\n  return 0\n}\n","import ItemType from '@/types/enums/ItemType'\n\nexport default function itemFactory (id: string, type: ItemType, subtype: string, width: number, height: number, ports: Port[] = []): Item {\n  return {\n    id,\n    name: '',\n    type,\n    subtype,\n    portIds: ports.map(({ id }) => id),\n    groupId: null,\n    rotation: 0,\n    boundingBox: {\n      top: 0,\n      left: 0,\n      right: width,\n      bottom: height\n    },\n    position: {\n      x: 0,\n      y: 0\n    },\n    zIndex: 0,\n    width,\n    height,\n    isSelected: false,\n    properties: {}\n  }\n}\n","import { cloneDeep } from 'lodash' // TODO\nimport { v4 as uuid } from 'uuid'\nimport ItemType from '@/types/enums/ItemType'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport itemFactory from './itemFactory'\nimport DocumentState from '@/store/DocumentState'\n\n/**\n * Creates an integrated circuit item.\n * This will embed the ports, connections, and items provided as internal circuit elements and expose input and output ports for each input and output node, respectively.\n *\n * @param statePorts - ports belonging to all elements to embed\n * @param stateItems - items to embed\n * @param stateConnections - connections between items to embed\n */\nexport default function integratedCircuitFactory (state: DocumentState) {\n  const { ports, items, connections, groups } = cloneDeep(state) as DocumentState\n  const integratedCircuitItem = itemFactory(uuid(), ItemType.IntegratedCircuit, 'Flip flop', 400, 400)\n\n  Object\n    .values(items)\n    .forEach(item => {\n      if (item.type !== ItemType.InputNode && item.type !== ItemType.OutputNode) return\n\n      // loop through each input node (switch, button, etc.) and each output node (lightbulb, etc.) in the circuit\n      // input nodes will convert to buffers and will take in a signal from the outside world\n      // output nodes will convert to buffers and signals it receives and broadcast them to the outside world\n      const portType = item.type === ItemType.InputNode\n        ? PortType.Output\n        : PortType.Input\n\n      // by default, the inputs will be on the left and the outputs on the right, but the user can change this\n      const orientation = item.type === ItemType.InputNode\n        ? Direction.Left\n        : Direction.Right\n\n      item\n        .portIds\n        .filter(portId => ports[portId].type === portType)\n        .forEach(portId => {\n          const newId = uuid()\n\n          // each input node (switch, button, etc.) will become a buffer node when simulated\n          // therefore each input node (now buffer) will receive an additional input port to receive signals from the outside world\n          // likewise, each output node (also now a buffer) will receive an additional output port to broadcast signals to the outside world\n          // these new input and output ports will be used by both the embedded nodes and the integrated circuit element itself\n          ports[newId] = {\n            ...cloneDeep<Port>(ports[portId]),\n            type: item.type === ItemType.InputNode\n              ? PortType.Input\n              : PortType.Output,\n            id: newId,\n            elementId: item.id,\n            orientation\n          }\n\n          item.portIds.push(newId)\n          integratedCircuitItem.portIds.push(newId)\n        })\n\n      item.type = ItemType.Buffer\n    })\n\n  integratedCircuitItem.integratedCircuit = {\n    items,\n    connections,\n    ports,\n    groups,\n    serializedState: JSON.stringify({\n      items: state.items,\n      connections: state.connections,\n      ports: state.ports,\n      groups: state.groups\n    })\n  }\n\n  return integratedCircuitItem\n}\n","import { cloneDeep } from 'lodash' // TODO\nimport { v4 as uuid } from 'uuid'\n\ntype IdMap = Record<string, string>\n\nfunction mapStandardCircuitIds (circuit: { connections: Record<string, Connection>, items: Record<string, Item>, ports: Record<string, Port>, groups: Record<string, Group> }, idMap: IdMap = {}) {\n\n  let { items, connections, ports, groups } = cloneDeep(circuit)\n\n  function mapGroups (groups: Record<string, Group>) {\n    Object\n      .values(groups)\n      .forEach(group => {\n        const oldId = group.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        groups[newId] = cloneDeep(group)\n\n        delete groups[oldId]\n      })\n\n    return groups\n  }\n\n  function mapGroupIds (connections: Record<string, Connection>, items: Record<string, Item>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connection.groupId = connection.groupId !== null\n          ? idMap[connection.groupId]\n          : null\n      })\n\n    Object\n      .values(items)\n      .forEach(item => {\n        item.groupId = item.groupId !== null\n          ? idMap[item.groupId]\n          : null\n      })\n\n    return { connections, items }\n  }\n\n  function mapConnections (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        const oldId = connection.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        connections[newId] = cloneDeep<Connection>(connection)\n        connections[newId].id = newId\n        connections[newId].source = idMap[connections[newId].source]\n        connections[newId].target = idMap[connections[newId].target]\n\n        delete connections[oldId]\n      })\n\n      return connections\n  }\n\n  function mapConnectionChainIds (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connections[connection.id].connectionChainId = idMap[connections[connection.id].connectionChainId]\n      })\n\n    return connections\n  }\n\n  function mapItems (items: Record<string, Item>) {\n    Object\n      .values(items)\n      .forEach(item => {\n        const oldId = item.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        items[newId] = cloneDeep<Item>(item)\n\n        if (item.integratedCircuit) {\n          items[newId].integratedCircuit = {\n            serializedState: item.integratedCircuit.serializedState,\n            ...mapStandardCircuitIds(cloneDeep(item.integratedCircuit), idMap)\n          }\n        } else {\n          items[newId].id = newId\n        }\n\n        items[newId].portIds = item.portIds.map(oldId => idMap[oldId])\n\n        delete items[oldId]\n      })\n\n      return items\n  }\n\n  function mapItemIds (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        ports[port.id].elementId = idMap[port.elementId]\n      })\n\n    return ports\n  }\n\n  function mapPorts (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        const oldId = port.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        ports[newId] = cloneDeep<Port>(port)\n        ports[newId].id = newId\n\n        delete ports[oldId]\n      })\n\n    return ports\n  }\n\n  ports = mapPorts(ports)\n  items = mapItems(items)\n  ports = mapItemIds(ports)\n  connections = mapConnections(connections)\n  connections = mapConnectionChainIds(connections)\n  groups = mapGroups(groups)\n\n  return {\n    ...mapGroupIds(connections, items),\n    ports,\n    groups\n  }\n}\n\nfunction mapIntegratedCircuitIds (item: Item) {\n  if (!item.integratedCircuit) return item\n\n  const { items } = mapStandardCircuitIds({\n    items: {\n      [item.id]: item\n    },\n    connections: {},\n    ports: {},\n    groups: {}\n  })\n\n  return Object.values(items)[0]\n}\n\nexport default {\n  mapStandardCircuitIds,\n  mapIntegratedCircuitIds\n}\n","// @ts-check\nimport { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport { LogicValue } from '@/circuit'\n\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\nimport SimulationService from '@/services/SimulationService'\nimport boundaries from '@/layout/boundaries'\nimport rotation from '@/layout/rotation'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport sortByZIndex from '@/utils/sortByZIndex'\nimport DocumentState from './DocumentState'\nimport integratedCircuitFactory from '@/factories/integratedCircuitFactory'\nimport idMapper from '@/utils/idMapper'\n// import RemoteService from '@/services/RemoteService'\n\nfunction generateItemName (item: Item, taxonomyCount: number) {\n  const name: string[] = [item.type]\n\n  if (item.subtype !== ItemSubtype.None) {\n    name.push(item.subtype)\n  }\n\n  name.push(taxonomyCount.toString())\n\n  return name.join(' ')\n}\n\nfunction fromDocumentToEditorCoordinates (canvas: BoundingBox, viewport: DOMRect, point: Point, z: number) {\n  return {\n    x: (point.x - viewport.x - canvas.left) / z,\n    y: (point.y - viewport.y - canvas.top) / z\n  }\n}\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\nexport const createDocumentStore = (id: string) => defineStore({\n  id,\n  state: (): DocumentState => ({\n    undoStack: [],\n    redoStack: [],\n    simulation: new SimulationService([], [], {}),\n    oscillogram: {},\n    taxonomyCounts: {},\n    zoomLevel: 1,\n    zIndex: 1,\n    isOscilloscopeEnabled: true,\n    isCircuitEvaluated: false,\n    isDebugging: false,\n    isDirty: false,\n    hasLoaded: false,\n    isPrinting: false,\n    isCreatingImage: false,\n\n    /* canvas dimensions */\n    viewport: new DOMRect(),\n    canvas: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0\n    },\n\n    /* the following variables are 'temporary' information */\n    snapBoundaries: [],\n    connectablePortIds: [],\n    selectedConnectionIds: [],\n    selectedItemIds: [],\n    selectedPortIndex: -1,\n    cachedState: null,\n    activeFreeportId: null,\n    activePortId: null,\n    connectionPreviewId: null,\n\n    /* serializable state items */\n    items: {},\n    connections: {},\n    ports: {},\n    groups: {}\n  }),\n\n  getters: {\n    baseItems (state) {\n      return (Object\n        .values(state.connections) as BaseItem[])\n        .concat(Object.values(state.items) as BaseItem[])\n        .sort(sortByZIndex)\n    },\n\n    zoom (state) {\n      return state.zoomLevel\n    },\n\n    hasSelection (state) {\n      return state.selectedItemIds.length > 0 || state.selectedConnectionIds.length > 0\n    },\n\n    hasSelectedItems (state) {\n      return state.selectedItemIds.length > 0\n    },\n\n    selectedGroupIds (state) {\n      const selectedGroupIds = new Set<string | null>()\n\n      state\n        .selectedItemIds\n        .forEach(id => selectedGroupIds.add(state.items[id]?.groupId))\n\n      return Array.from(selectedGroupIds)\n    },\n\n    canGroup () {\n      return this.selectedGroupIds.length > 1 || this.selectedGroupIds[0] === null\n    },\n\n    canUngroup () {\n      // return !!this.selectedGroupIds.find(id => !!id)\n      return true // TODO\n    },\n\n    canUndo (state) {\n      return state.undoStack.length > 0\n    },\n\n    canRedo (state) {\n      return state.redoStack.length > 0\n    }\n  },\n\n  actions: {\n\n    loadDocument (document: string) {\n      this.buildCircuit()\n      this.applyState(document)\n      this.reset()\n    },\n\n    /**\n     * Increments the current zoom by one scale step (in the positive or negative direction).\n     *\n     * @param [direction = 1] - directional scalar (1 or -1)\n     */\n    incrementZoom (direction = 1) {\n      this.setZoom({\n        zoom: this.zoomLevel + (SCALE_STEP * direction)\n      })\n    },\n\n    /**\n     * Sets the zoom level for the document.\n     * This will zoom on the focal point (if provided) or the center of the visible area (viewport).\n     *\n     * @param zoom - percentage of zoom by decimal (e.g., 1.0 = 100%)\n     * @param [point] - focal point to zoom on\n     */\n    setZoom ({ zoom, point }: { zoom: number, point?: Point }) {\n      if (zoom < MIN_SCALE) zoom = MIN_SCALE\n      if (zoom > MAX_SCALE) zoom = MAX_SCALE\n\n      zoom = Math.round(zoom * 100) / 100\n\n      if (!point) {\n        point = boundaries.getBoundingBoxMidpoint(this.viewport)\n        point.x += this.viewport.left\n        point.y += this.viewport.top\n      }\n\n      const zoomedPoint = fromDocumentToEditorCoordinates(this.canvas, this.viewport, point, this.zoomLevel)\n      const scaledPoint = { // the canvas coordinate, scaled by the new zoom factor\n        x: zoomedPoint.x * zoom,\n        y: zoomedPoint.y * zoom\n      }\n      const viewportPoint = { // the point w.r.t. the top left offset of the viewport\n        x: point.x - this.viewport.x,\n        y: point.y - this.viewport.y\n      }\n\n      this.panTo({\n        x: Math.round(Math.min(viewportPoint.x - scaledPoint.x, 0)),\n        y: Math.round(Math.min(viewportPoint.y - scaledPoint.y, 0))\n      })\n\n      this.zoomLevel = zoom\n    },\n\n    /**\n     * Assigns the rects of the canvas and viewport according to the screen size and rect provided.\n     *\n     * @param rect - the bounding box DOM rect of the viewport (user-visible canvas area element)\n     */\n    setViewerSize (rect: DOMRect) {\n      this.viewport = rect\n\n      this.canvas.right = screen.width / MIN_SCALE\n      this.canvas.bottom = screen.height / MIN_SCALE\n\n      if (!this.hasLoaded && rect.width > 0 && rect.height > 0) {\n        this.hasLoaded = true\n        this.centerAll()\n        this.panToCenter()\n      }\n    },\n\n    /**\n     * Pans to the given point.\n     */\n    panTo (pan: Point) {\n      const deltaX = pan.x - this.canvas.left\n      const deltaY = pan.y - this.canvas.top\n\n      this.canvas.left += deltaX\n      this.canvas.right += deltaX\n      this.canvas.top += deltaY\n      this.canvas.bottom += deltaY\n    },\n\n    /**\n     * Pans to the center of the available canvas, such that its center is visible in the center of the viewport.\n     */\n    panToCenter () {\n      const midpoint = boundaries.getBoundingBoxMidpoint(this.canvas)\n\n      this.panTo({\n        x: (this.viewport.width / 2) - midpoint.x,\n        y: (this.viewport.height / 2) - midpoint.y\n      })\n    },\n\n    /**\n     * Centers all items (together as a group) to the center of the canvas.\n     * All distances between items are maintained when this occurs.\n     */\n    centerAll () {\n      const boundingBoxes = Object\n        .values(this.items)\n        .map(({ boundingBox }) => boundingBox)\n      const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n      const { x, y } = boundaries.getCenteredScreenPoint(this.canvas, boundingBox, 20) // TODO: make this configurable\n\n      const deltaX = x - boundingBox.left\n      const deltaY = y - boundingBox.top\n\n      Object\n        .values(this.items)\n        .forEach(item => {\n          this.setItemPosition({\n            id: item.id,\n            position: {\n              x: item.position.x + deltaX,\n              y: item.position.y + deltaY\n            }\n          })\n          this.setItemPortPositions(item.id)\n        })\n    },\n\n    async saveIntegratedCircuit () {\n      // TODO: this action should live in the root state, not here\n      const originalIcItem = integratedCircuitFactory(this.$state as DocumentState)\n      const idMappedIcItem = idMapper.mapIntegratedCircuitIds(originalIcItem)\n\n      this.insertItem({ item: idMappedIcItem, ports: [] })\n      this.setItemBoundingBox(idMappedIcItem.id)\n      this.setItemPortPositions(idMappedIcItem.id)\n      this.setSelectionState({ id: idMappedIcItem.id, value: true })\n\n    },\n\n    buildCircuit () {\n      if (this.simulation.oscillator) {\n        this.simulation.oscillator.stop()\n      }\n\n      const simulation = new SimulationService(Object.values(this.items), Object.values(this.connections), this.ports)\n\n      simulation.on('change', (valueMap: Record<string, number>, oscillogram: Oscillogram) => {\n        for (const portId in valueMap) {\n          if (this.ports[portId]) {\n            this.ports[portId].value = valueMap[portId]\n          }\n        }\n\n        this.isCircuitEvaluated = !this.simulation.canContinue\n        this.oscillogram = oscillogram\n      })\n\n      this.simulation = simulation\n    },\n\n    recycleSelection (backToFirstItem: boolean) {\n      const id = backToFirstItem\n        ? this.baseItems[0]\n        : this.baseItems.slice(-1)[0]\n\n      if (id) {\n        this.deselectAll()\n        this.setSelectionState({ id: id.id, value: true })\n      }\n    },\n\n    insertItem ({ item, ports }: { item: Item, ports: Port[] }, documentPosition: Point | null = null) {\n      if (!documentPosition) {\n        documentPosition = boundaries.getBoundingBoxMidpoint(this.viewport)\n      }\n\n      this.commitState()\n      this.addNewItem({ item, ports })\n\n      const position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, documentPosition, this.zoomLevel)\n\n      this.setItemPosition({ id: item.id, position })\n      this.setItemPortPositions(item.id)\n      this.setSelectionState({ id: item.id, value: true })\n    },\n\n    /**\n     * Reverts to the most-recently committed document this.\n     */\n    undo () {\n      const undoState = this.undoStack.slice(-1).pop()\n\n      if (undoState) {\n        this.redoStack.push(JSON.stringify({\n          connections: this.connections,\n          items: this.items,\n          ports: this.ports,\n          groups: this.groups\n        }))\n        this.applyState(undoState)\n        this.undoStack.pop()\n        this.isDirty = true\n      }\n    },\n\n    /**\n     * Reverts to the most-recently-reverted this.\n     */\n    redo () {\n      const redoState = this.redoStack.slice(-1).pop()\n\n      if (redoState) {\n        this.undoStack.push(JSON.stringify({\n          connections: this.connections,\n          items: this.items,\n          ports: this.ports,\n          groups: this.groups\n        }))\n        this.applyState(redoState)\n        this.redoStack.pop()\n        this.isDirty = true\n      }\n    },\n\n    commitState () {\n      this.cacheState()\n      this.commitCachedState()\n    },\n\n    /**\n     * Deletes all selected items and connections.\n     */\n    deleteSelection () {\n      if (!this.hasSelection) return\n\n      this.commitState()\n\n      const nonFreeportItems = Object\n        .values(this.items)\n        .filter(({ isSelected, type }) => isSelected && type !== ItemType.Freeport)\n      const nonFreeportItemIds = nonFreeportItems.map(({ id }) => id)\n\n      // select the full chains of each connection attached to each selected item\n      Object\n        .values(this.connections)\n        .filter(c => {\n          const sourcePort = this.ports[c.source]\n          const targetPort = this.ports[c.target]\n\n          if (sourcePort && targetPort) {\n            return nonFreeportItemIds.includes(sourcePort.elementId) ||\n              nonFreeportItemIds.includes(targetPort.elementId)\n          }\n        })\n        .forEach(({ id }) => this.setSelectionState({ id, value: true }))\n\n      // remove all selected connections\n      Object\n        .values(this.connections)\n        .filter(({ isSelected }) => isSelected)\n        .forEach(connection => {\n          this.disconnect({\n            source: connection.source,\n            target: connection.target\n          })\n        })\n\n      // delete all selected non-freeport items\n      nonFreeportItems.forEach(i => this.removeElement(i.id))\n\n      // handle selected freeport deletions using removeFreeport\n      Object\n        .values(this.items)\n        .filter(({ isSelected, type }) => isSelected && type === ItemType.Freeport)\n        .forEach(f => this.removeFreeport(f.id))\n    },\n\n    /**\n     * Sets the computed boundaries that an actively-dragged item to snap to.\n     *\n     * @param id - ID of the item being dragged\n     */\n    setSnapBoundaries (id: string) {\n      const snapBoundaries = ((): BoundingBox[] => {\n        const item = this.items[id]\n\n        if (this.connectablePortIds.length) {\n          // if there are connectable port ids, then use those for boundaries\n          return this\n            .connectablePortIds\n            .map(id => boundaries.getPointBoundary(this.ports[id].position))\n        }\n\n        if (item && !item.groupId) {\n          // the item with the given id is an item that does not belong to a group\n          if (item.type === ItemType.Freeport) {\n            if (item.portIds.length > 1) {\n              // if only one port exists on the freeport, then it is a port being dragged by the user and does not apply\n              // freeports should snap to \"straighten out\" wires\n              return Object\n                .values(this.connections)\n                .reduce((boundingBoxes: BoundingBox[], connection: Connection) => {\n                  if (item.portIds.includes(connection.source)) {\n                    return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.target].position))\n                  }\n\n                  if (item.portIds.includes(connection.target)) {\n                    return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.source].position))\n                  }\n\n                  return boundingBoxes\n                }, [])\n            }\n          } else {\n            // this an item that can snap to align with the outer edge of any non-freeport item\n            return Object\n              .values(this.items)\n              .filter(e => e.id !== id && e.type !== ItemType.Freeport)\n              .map(e => e.boundingBox)\n          }\n        }\n        return []\n      })()\n\n      this.snapBoundaries = snapBoundaries\n    },\n\n    setItemSize ({ rect, id }: { rect: DOMRectReadOnly, id: string }) {\n      const item = this.items[id]\n\n      if (!item) return\n\n      // reposition w.r.t. the centroid\n      const centerX = item.position.x + (item.width / 2)\n      const centerY = item.position.y + (item.height / 2)\n      const newX = centerX - (rect.width / 2)\n      const newY = centerY - (rect.height / 2)\n\n      this.items[id].position = {\n        x: newX,\n        y: newY\n      }\n      this.items[id].width = rect.width\n      this.items[id].height = rect.height\n\n      this.setItemBoundingBox(id)\n      this.setItemPortPositions(id)\n\n      if (this.items[id].groupId) {\n        this.setGroupBoundingBox(this.items[id].groupId || '')\n      }\n    },\n\n    /**\n     * Sets the absolute positions for all ports that belong to the given item.\n     *\n     * @param id - ID of the item containing the ports\n     */\n    setItemPortPositions (id: string) {\n      const item = this.items[id]\n\n      if (!item) return\n\n      const portGroups = item\n        .portIds\n        .reduce((portGroups: Map<Direction, Port[]>, portId) => {\n          const port = this.ports[portId]\n\n          if (port) {\n            const index: Direction = rotation.rotate(port.orientation + item.rotation)\n\n            portGroups.get(index)?.push(port)\n          }\n\n          return portGroups\n        }, new Map<Direction, Port[]>([\n          [Direction.Left, []],\n          [Direction.Top, []],\n          [Direction.Right, []],\n          [Direction.Bottom, []]\n        ]))\n\n      const setPortGroupPositions = (ports: Port[] = []) => {\n        ports.forEach((port, index) => {\n          this.ports[port.id].position = rotation.getRotatedPortPosition(port, ports, item, index)\n        })\n      }\n\n      setPortGroupPositions(portGroups.get(Direction.Left))\n      setPortGroupPositions(portGroups.get(Direction.Top))\n      setPortGroupPositions(portGroups.get(Direction.Right))\n      setPortGroupPositions(portGroups.get(Direction.Bottom))\n    },\n\n    /**\n     * Sets the position of an item.\n     *\n     * @param payload\n     * @param payload.id - ID of the item\n     * @param payload.position - new position to move to\n     */\n    setItemPosition ({ id, position }: { id: string, position: Point }) {\n      const item = this.items[id]\n      const delta: Point = {\n        x: position.x - item.position.x,\n        y: position.y - item.position.y\n      }\n\n      this.items[id].position = position\n      this.items[id].boundingBox = {\n        left: item.boundingBox.left + delta.x,\n        top: item.boundingBox.top + delta.y,\n        bottom: item.boundingBox.bottom + delta.y,\n        right: item.boundingBox.right + delta.x\n      }\n\n      item\n        .portIds\n        .forEach(portId => {\n          const port = this.ports[portId]\n\n          this.ports[portId].position = {\n            x: port.position.x + delta.x,\n            y: port.position.y + delta.y\n          }\n        })\n    },\n\n    /**\n     * Moves all selected items according to the delta provided.\n     *\n     * @param delta - delta to move the items by\n     */\n    moveSelectionPosition (delta: Point) {\n      const id: string | undefined = this.selectedItemIds[0]\n\n      if (id) {\n        const item = this.items[id]\n        const position: Point = {\n          x: item.position.x + delta.x,\n          y: item.position.y + delta.y\n        }\n\n        this.commitState()\n        this.setSelectionPosition({ id, position })\n      }\n    },\n\n    /**\n     * Moves all selected items according to the delta that the given item has moved by.\n     *\n     * @param payload\n     * @param payload.id - ID of the reference item moving\n     * @param payload.position - new position that the reference item has moved to\n     */\n    setSelectionPosition ({ id, position }: { id: string, position: Point }) {\n      const referenceItem = this.items[id]\n      const delta: Point = {\n        x: position.x - referenceItem.position.x,\n        y: position.y - referenceItem.position.y\n      }\n      const groupIds = new Set<string>()\n\n      this.setSelectionState({ id, value: true })\n\n      if (referenceItem.type === ItemType.Freeport) {\n        // if this item is a freeport, drag only this and nothing else\n        return this.setItemPosition({ id, position })\n      }\n\n      this\n        .selectedItemIds\n        .forEach((itemId: string) => {\n          const item = this.items[itemId]\n          const position: Point = {\n            x: item.position.x + delta.x,\n            y: item.position.y + delta.y\n          }\n\n          if (item.groupId) {\n            groupIds.add(item.groupId)\n          }\n\n          this.setItemPosition({ id: itemId, position })\n        })\n\n      groupIds.forEach(groupId => {\n        const group = this.groups[groupId]\n\n        this.groups[groupId].boundingBox = {\n          left: group.boundingBox.left + delta.x,\n          top: group.boundingBox.top + delta.y,\n          right: group.boundingBox.right +  delta.x,\n          bottom: group.boundingBox.bottom + delta.y\n        }\n      })\n    },\n\n    /**\n     * Sets the bounding box of an item.\n     *\n     * @param id - ID of the item\n     */\n    setItemBoundingBox (id: string) {\n      const item = this.items[id]\n\n      if (!item) return\n\n      this.items[id].boundingBox = boundaries.getItemBoundingBox(item)\n    },\n\n    /**\n     * Sets the bounding box of a group.\n     *\n     * @param id - ID of the group\n     */\n    setGroupBoundingBox (id: string) {\n      if (!this.groups[id]) return\n\n      const boundingBoxes = this\n        .groups[id]\n        .itemIds\n        .map(id => this.items[id].boundingBox)\n\n      this.groups[id].boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n    },\n\n    /**\n     * Groups together all selected items and connections.\n     * If any of those selected elements are a member of a group, that group will be destroyed.\n     */\n    group () {\n      this.commitState()\n\n      const id = uuid()\n      const items = Object\n        .values(this.items)\n        .filter(({ isSelected }) => isSelected)\n      const portIds = items.reduce((portIds, item) => {\n        return portIds.concat(item.portIds)\n      }, [] as string[])\n      const connections = Object\n        .values(this.connections)\n        .filter(c => {\n          // ensure both source and target ports are associated with items in the group\n          return portIds.includes(c.source) && portIds.includes(c.target) && c.isSelected\n        })\n\n      // if any of the items or connections are part of another group, ungroup those\n      items.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n      connections.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n\n      // update the zIndex of all items to be the highest one among the selected\n      const zIndex = [...items, ...connections].reduce((zIndex: number, item: BaseItem) => {\n        return Math.max(item.zIndex, zIndex)\n      }, 0)\n\n      this.setZIndex(zIndex)\n\n      const group = {\n        id,\n        itemIds: items.map(({ id }) => id),\n        connectionIds: connections.map(({ id }) => id),\n        isSelected: true,\n        boundingBox: {\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        },\n        position: {\n          x: 0, y: 0\n        },\n        zIndex\n      }\n\n      this.groups[id] = group\n\n      // set the groupId of all items in the group\n      group.itemIds.forEach(id => {\n        this.items[id].groupId = group.id\n      })\n\n      // set the groupId of all connections in the group\n      group.connectionIds.forEach(id => {\n        this.connections[id].groupId = group.id\n      })\n\n      this.setGroupBoundingBox(id)\n    },\n\n    /**\n     * Destroys all selected groups.\n     */\n    ungroup () {\n      this.commitState()\n\n      for (const id in this.groups) {\n        if (this.groups[id].isSelected) {\n          this.destroyGroup(id)\n        }\n      }\n    },\n\n    /**\n     * Deselects all elements.\n     *\n     */\n    deselectAll () {\n      this.clearStatelessInfo()\n\n      for (let id in this.connections) {\n        this.connections[id].isSelected = false\n        this.selectedConnectionIds = []\n      }\n\n      for (let id in this.items) {\n        this.items[id].isSelected = false\n        this.selectedItemIds.push(id)\n        this.selectedItemIds = []\n      }\n    },\n\n    /**\n     * Selects all items and connections.\n     *\n     */\n    selectAll () {\n      this.clearStatelessInfo()\n\n      for (let id in this.connections) {\n        this.connections[id].isSelected = true\n        this.selectedConnectionIds.push(id)\n      }\n\n      for (let id in this.items) {\n        this.items[id].isSelected = true\n        this.selectedItemIds.push(id)\n      }\n    },\n\n    clearStatelessInfo () {\n      this.unsetConnectionPreview()\n      this.snapBoundaries = []\n      this.connectablePortIds = []\n      this.selectedConnectionIds = []\n      this.selectedItemIds = []\n      this.selectedPortIndex = -1\n      this.cachedState = null\n      this.activePortId = null\n      this.connectionPreviewId = null\n    },\n\n    /**\n     * Selects all connections and items (and its connections) that live within the given boundary.\n     *\n     * @param selection - two-dimensional boundary\n     */\n    createSelection (selection: BoundingBox) {\n      if (!boundaries.isTwoDimensional(selection)) return // omit selection lines or points\n\n      try {\n        const itemIds = Object\n          .keys(this.items)\n          .filter(id => boundaries.hasIntersection(selection, this.items[id].boundingBox))\n        const connectionIds = Object\n          .keys(this.connections)\n          .filter(id => {\n            const connection = this.connections[id]\n            const source = this.ports[connection.source]\n            const target = this.ports[connection.target]\n\n            return boundaries.isLineIntersectingRectangle(source.position, target.position, selection)\n          })\n\n        itemIds\n          .concat(connectionIds)\n          .forEach(id => {\n            this.SET_SELECTION_STATE({ id, isSelected: true })\n          })\n\n        this.selectItemConnections(itemIds)\n      } catch (error) {\n        console.log('SELECTION ERROR: ', error, selection)\n        // TODO: this really shouldn't ever throw an error, investigate why it does...\n        // do nothing, ignore the error\n      }\n    },\n\n    /**\n     * Selects all connections that are connected to any of the items in the given list.\n     *\n     * @param itemIds - list of items to select their connections for\n     */\n    selectItemConnections (itemIds: string[]) {\n      const portIds = itemIds.reduce((portIds: string[], itemId: string) => {\n        return portIds.concat(this.items[itemId].portIds)\n      }, [])\n\n      for (let id in this.connections) {\n        const c = this.connections[id]\n\n        if (portIds.includes(c.source) && portIds.includes(c.target)) {\n          this.SET_SELECTION_STATE({ id, isSelected: true })\n        }\n      }\n    },\n\n    /**\n     * Inverts the selection this of the element having the given ID, or forces it to the value provided.\n     * If the element is a member of a group, every item in that group will be selected.\n     *\n     * @param payload.id - the ID of the element to toggle its selection\n     * @param payload.value - new selection this value to set to\n     */\n    setSelectionState ({ id, value }: { id: string, value: boolean }) {\n      const element = this.items[id] || this.connections[id]\n      const isSelected = value\n\n      if (!element || element.isSelected === isSelected) return\n\n      if (element.groupId) {\n        // if item is part of a group, select all items in that group\n        const { itemIds, connectionIds } = this.groups[element.groupId]\n\n        itemIds\n          .concat(connectionIds)\n          .forEach(id => {\n            this.SET_SELECTION_STATE({ id, isSelected })\n          })\n\n        this.SET_SELECTION_STATE({ id: element.groupId, isSelected })\n      } else {\n        // otherwise, just select this one item\n        this.SET_SELECTION_STATE({ id, isSelected })\n      }\n    },\n\n    deselectItem (id: string) {\n      this.setSelectionState({ id, value: true })\n    },\n\n    selectItem (id: string, keepSelection: boolean = false) {\n      if (!keepSelection) {\n        this.deselectAll()\n      }\n\n      this.setSelectionState({ id, value: true })\n    },\n\n    /**\n     * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n     * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n     *\n     * @param portId - the ID of the port previewing connections for\n     */\n    setConnectionPreview (portId: string | null) {\n      if (this.activePortId && portId) {\n        let source = this.activePortId\n        let target = portId\n\n        if (this.ports[this.activePortId].type === PortType.Input) {\n          source = portId\n          target = this.activePortId\n        }\n\n        const id = uuid()\n\n        this.unsetConnectionPreview()\n        this.connect({ source, target, id })\n        this.connectionPreviewId = id\n      }\n    },\n\n    /**\n     * Clears the active connection preview.\n     */\n    unsetConnectionPreview () {\n      if (this.connectionPreviewId) {\n        this.disconnect(this.connections[this.connectionPreviewId])\n      }\n      this.connectionPreviewId = null\n    },\n\n    /**\n     * Commits the previewed connection action as an undo-able state.\n     */\n    commitPreviewedConnection () {\n      if (this.connectionPreviewId) {\n        const { source, target } = this.connections[this.connectionPreviewId]\n\n        this.disconnect({ source, target })\n        this.commitState()\n        this.connect({ source, target })\n        this.connectionPreviewId = null\n      }\n    },\n\n    /**\n     * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n     * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n     *\n     * @param portId - the ID of the port previewing connections for\n     */\n    cycleConnectionPreviews (portId: string) {\n      if (portId && portId !== this.activePortId) {\n        this.setActivePortId(portId)\n      }\n\n      let index = this.selectedPortIndex + 1\n\n      if (index <= 0) index = 0\n      if (index >= this.connectablePortIds.length) index = -1\n\n      const previewPortId = this.connectablePortIds[index]\n\n      if (previewPortId && !this.ports[portId]?.connectedPortIds.includes(previewPortId)) {\n        this.setConnectionPreview(previewPortId)\n      } else {\n        if (this.connectablePortIds.length === 0) {\n          window.api.beep() // audibly inform the user they can't connect to anything\n        }\n        this.unsetConnectionPreview()\n      }\n      this.selectedPortIndex = index\n    },\n\n    /**\n     * Sets the ID of the active (i.e., 'previewed'/'enlarged') port.\n     *\n     * @param portId - ID of the port to activate, or null to remove it\n     */\n    setActivePortId (portId: string | null) {\n      if (this.activePortId !== portId) {\n        if (portId) {\n          this.setConnectablePortIds({ portId })\n        } else {\n          this.connectablePortIds = []\n        }\n\n        this.activePortId = portId\n        this.selectedPortIndex = -1\n      }\n    },\n\n    /**\n     * Rotates all selected elements by 90 degrees.\n     *\n     * @param direction - direction of rotation (1 = CW, -1 = CCW)\n     */\n    rotate (direction: number) {\n      this.commitState()\n\n      const selectedItems = Object\n        .values(this.items)\n        .filter(({ isSelected }) => isSelected)\n      const boundingBoxes = selectedItems.map(({ boundingBox }) => boundingBox)\n      const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n      const groupIds = new Set<string>()\n\n      selectedItems.forEach(item => {\n        const newRotation = rotation.rotate(item.rotation + direction)\n\n        if (item.groupId) {\n          groupIds.add(item.groupId)\n        }\n\n        this.items[item.id].rotation = newRotation\n        this\n          .items[item.id]\n          .portIds\n          .forEach(portId => {\n            this.ports[portId].rotation = newRotation\n          })\n\n        this.setItemPosition({\n          id: item.id,\n          position: rotation.getGroupedItemRotatedPosition(boundingBox, item, direction)\n        })\n        this.setItemBoundingBox(item.id)\n        this.setItemPortPositions(item.id)\n      })\n\n      groupIds.forEach(groupId => {\n        this.setGroupBoundingBox(groupId)\n      })\n    },\n\n    /**\n     * Sets the value of the port in the circuit.\n     *\n     * @param payload.id - ID of the port\n     * @param payload.value - new port value\n     */\n    setPortValue ({ id, value }: { id: string, value: number }) {\n      this\n        .simulation\n        .setPortValue(id, value)\n    },\n\n    /**\n     * Removes a Freeport from the document.\n     * This can remove either a dragged freeport or a connector between two wire segments.\n     *\n     * @param id - ID of the freeport item\n     */\n    removeFreeport (id: string) {\n      const item = this.items[id]\n\n      let originalSourceId = ''\n      let originalTargetId = ''\n\n      // find the true source and target port ids\n      Object\n        .values(this.connections)\n        .forEach(c => {\n          if (c.target === item.portIds[0]) originalSourceId = c.source\n          if (c.source === item.portIds[1]) originalTargetId = c.target\n        })\n\n      if (originalSourceId) this.disconnect({ source: originalSourceId, target: item.portIds[0] })\n      if (originalTargetId) this.disconnect({ source: item.portIds[1], target: originalTargetId })\n      if (originalSourceId && originalTargetId) {\n        // reconnect the true source and target\n        this.connect({ source: originalSourceId, target: originalTargetId })\n      }\n\n      // finally, remove the element\n      this.removeElement(id)\n    },\n\n    /**\n     * Creates a new freeport item with the given set of IDs in the payload.\n     * This can either be a dragged port (to connect a port) or a joint between two connection segments.\n     *\n     * For a joint, include all required params, including the IDs of the destination ports and the freeport ports.\n     * For a dragged port, include the source IDs (if dragged from an output) or the target IDs (if dragged from an input).\n     *\n     * @param data - IDs for apply the new freeport\n     */\n    createFreeport (data: {\n      itemId: string,\n      outputPortId: string,\n      inputPortId: string,\n      sourceId?: string,\n      targetId?: string,\n      connectionChainId?: string,\n      position: Point\n    }) {\n      if (this.items[data.itemId]) return\n\n      if (data.sourceId && data.targetId) {\n        this.commitState()\n      }\n\n      this.deselectAll()\n      this.addFreeportItem(data)\n      this.setItemBoundingBox(data.itemId)\n      this.activeFreeportId = data.itemId\n\n      if (data.sourceId && data.targetId) {\n        this.disconnect({\n          source: data.sourceId,\n          target: data.targetId\n        })\n      }\n\n      if (data.sourceId) {\n        this.connect({\n          source: data.sourceId,\n          target: data.inputPortId,\n          connectionChainId: data.connectionChainId\n        })\n      }\n\n      if (data.targetId) {\n        this.connect({\n          source: data.outputPortId,\n          target: data.targetId,\n          connectionChainId: data.connectionChainId\n        })\n      }\n\n      if (data.sourceId && data.targetId) {\n        // bring forward the freeport item so that it is between the two new connections\n        this.deselectAll()\n        this.setSelectionState({\n          id: data.itemId,\n          value: true\n        })\n        this.incrementZIndex(1)\n      }\n    },\n\n    /**\n     * Establishes a connection after a user drags a port to connect it to an item.\n     * This will disconnect the temporary wire and port being dragged, and establish a new connection between the two items.\n     *\n     * @param payload\n     * @param payload.sourceId - the ID of the source port (if being dragged from one)\n     * @param payload.targetId - the ID of the target port (if being dragged from one)\n     * @param payload.portId - the ID of the temporary freeport being dragged\n     */\n    connectFreeport ({ sourceId, targetId, portId }: { sourceId?: string, targetId?: string, portId: string }) {\n      const port = this.ports[portId]\n      const newPort = Object\n        .values(this.ports)\n        .find((p: Port) => {\n          // TODO: make '10' a user-configurable number\n          return boundaries.isInNeighborhood(p.position, port.position, 10) && p.id !== portId && this.connectablePortIds.includes(p.id)\n        })\n\n      if (newPort) {\n        if (sourceId) {\n          this.disconnect({\n            source: sourceId,\n            target: portId\n          })\n          this.connect({\n            source: sourceId,\n            target: newPort.id\n          })\n        } else if (targetId) {\n          this.disconnect({\n            source: portId,\n            target: targetId\n          })\n          this.connect({\n            source: newPort.id,\n            target: targetId\n          })\n        }\n      } else {\n        // no port can be connected, so disconnect the temporary dragged wire\n        this.disconnect({\n          source: sourceId || portId,\n          target: targetId || portId\n        })\n      }\n\n      const item = Object\n        .values(this.items)\n        .find(({ portIds }) => portIds.includes(portId))\n\n      if (item) {\n        this.removeElement(item.id)\n      }\n\n      this.clearStatelessInfo()\n    },\n\n    /**\n     * Sets the list of connectable port IDs.\n     * This should be invoked whenever a user starts dragging a port.\n     *\n     * @param portId - the ID of the port being dragged\n     */\n    setConnectablePortIds ({ portId, isDragging }: { portId: string, isDragging?: boolean }) {\n      const port = this.ports[portId]\n\n      if (port.isFreeport) return // freeports cannot connect to anything\n\n      // generate a list of all port IDs that have at least one connection to/from it\n      const connectedPortIds = Object\n        .values(this.connections)\n        .reduce((portIds: string[], connection: Connection) => {\n          return portIds.concat([connection.source, connection.target])\n        }, [])\n\n      if (isDragging) {\n        // if this port is being dragged, then the user intents to establish a new connection with it\n        // remove the last two ports (the two ports on opposite ends of the \"preview\" connection)\n        connectedPortIds.splice(-2)\n      }\n\n      const filter = port.type === PortType.Output\n        ? (p: Port) => p.type === PortType.Input && !p.isFreeport && !connectedPortIds.includes(p.id) && p.elementId !== port.elementId\n        : (p: Port) => p.type === PortType.Output && !p.isFreeport && !connectedPortIds.includes(port.id) && p.elementId !== port.elementId\n\n      this.connectablePortIds = Object\n        .values(this.ports)\n        .filter(filter)\n        .map(({ id }) => id)\n    },\n\n    stop () {\n      this.simulation.pause()\n    },\n\n    start () {\n      if (!this.isDebugging) {\n        this.simulation.unpause()\n      }\n    },\n\n    reset () {\n      this.buildCircuit()\n      this.simulation.isPaused = this.isDebugging\n      this.oscillogram = {}\n      this.simulation.oscillogram = {}\n\n      Object\n        .values(this.items)\n        .forEach(item => {\n          item.portIds.forEach(id => {\n            this.ports[id].value = LogicValue.UNKNOWN\n\n            if (item.properties?.startValue && this.ports[id].type === PortType.Output) {\n              this.setPortValue({\n                id,\n                value: item.properties?.startValue.value as number\n              })\n            }\n          })\n        })\n\n      this.simulation.unpause()\n    },\n\n    toggleDebugger () {\n      if (this.isDebugging) {\n        this.simulation.stopDebugging()\n      } else {\n        this.simulation.startDebugging()\n      }\n\n      this.isDebugging = !this.isDebugging\n    },\n\n    stepThroughCircuit () {\n      this.simulation.advance()\n      this.isCircuitEvaluated = !this.simulation.canContinue\n    },\n\n    toggleOscilloscope () {\n      if (this.isOscilloscopeEnabled) {\n        this.disableOscilloscope()\n      } else {\n        this.enableOscilloscope()\n      }\n    },\n\n    enableOscilloscope () {\n      Object\n        .values(this.items)\n        .forEach(item => this.simulation.monitorNode(item, this.ports))\n\n      this.isOscilloscopeEnabled = true\n    },\n\n    disableOscilloscope () {\n      Object\n        .values(this.items)\n        .forEach(({ portIds }) => {\n          portIds.forEach(this.simulation.unmonitorPort)\n        })\n\n      this.oscillogram = {}\n      this.simulation.oscillogram = {}\n      this.isOscilloscopeEnabled = false\n    },\n\n    clearOscilloscope () {\n      this.simulation.oscillator.clear()\n    },\n\n    /**\n     * Adds the item having the given ID to the oscilloscope if the value is true, or removes it otherwise.\n     *\n     * @param payload\n     * @param payload.id - item ID\n     * @param payload.value\n     */\n    setOscilloscopeVisibility ({ id, value }: { id: string, value: boolean }) {\n      if (value) {\n        const item = this.items[id]\n        const portType = item.type === ItemType.OutputNode\n          ? PortType.Input // output elements (lightbulb, etc.) will monitor incoming port values\n          : PortType.Output // all other elements will monitor the outgoing port values\n\n        item\n          .portIds\n          .forEach(portId => {\n            const port = this.ports[portId]\n\n            if (port.type === portType) {\n              this\n                .simulation\n                .monitorPort(portId, port.value)\n            }\n          })\n      } else {\n        const item = this.items[id]\n\n        item\n          .portIds\n          .forEach(portId => {\n            this\n              .simulation\n              .unmonitorPort(portId)\n          })\n      }\n    },\n\n    /**\n     * Sets the number of input ports that a LogicGate should have.\n     * If the number is less than the current number of ports, take away the difference number of existing ports.\n     *\n     * @param payload\n     * @param payload.id - LogicGate ID\n     * @param payload.count - new number of input ports\n     */\n    setInputCount ({ id, count }: { id: string, count: number }) {\n      const item = this.items[id]\n      const oldCount = item.properties.inputCount.value as number\n\n      if (oldCount > count) {\n        // if the count has decreased, find the last remaining port IDs which will be removed\n        this.items[id].portIds\n          .filter(portId => this.ports[portId].type === PortType.Input)\n          .slice(count)\n          .forEach(portId => this.removePort(portId))\n      } else {\n        for (let i = oldCount; i < count; i++) {\n          const portId = uuid()\n\n          // add the difference of ports one by one\n          this.addPort(id, {\n            id: portId,\n            name: '', // TODO\n            connectedPortIds: [],\n            type: PortType.Input,\n            elementId: id,\n            virtualElementId: id,\n            orientation: Direction.Left,\n            isFreeport: false,\n            position: {\n              x: 0,\n              y: 0\n            },\n            rotation: 0,\n            value: 0\n          })\n        }\n      }\n    },\n\n    /**\n     * Updates the properties values. If no properties have changed, then no changes will take effect.\n     * This will perform any actions necessary to occur when a property value changes.\n     *\n     * @param payload\n     * @param payload.id - item ID\n     * @param payload.properties - new version of the properties\n     */\n    setProperties ({ id, properties }: { id: string, properties: PropertySet }) {\n      const item = this.items[id]\n\n      for (const propertyName in properties) {\n        const property = properties[propertyName]\n\n        if (item.properties[propertyName].value === property.value) {\n          continue // do nothing if the property value has not changed\n        }\n\n        switch (propertyName) {\n          case 'showInOscilloscope':\n            this.setOscilloscopeVisibility({ id, value: property.value as boolean })\n            break\n          case 'inputCount':\n            this.setInputCount({ id, count: property.value as number })\n            break\n        }\n\n        this.items[id].properties[propertyName].value = property.value\n      }\n    },\n\n    /**\n     * Assigns values to the ports in the this according to the given map.\n     *\n     * @param valueMap - Port-ID-to-value mapping\n     */\n    setPortValues (valueMap: Record<string, number>) {\n      for (const portId in valueMap) {\n        if (this.ports[portId]) {\n          this.ports[portId].value = valueMap[portId]\n        }\n      }\n    },\n\n    /**\n     * Stringifies and caches the current document this.\n     * This will save all connections, items, ports, and groups.\n     *\n     */\n    cacheState (this) {\n      this.cachedState = JSON.stringify({\n        connections: this.connections,\n        items: this.items,\n        ports: this.ports,\n        groups: this.groups\n      })\n    },\n\n    /**\n     * Commits the actively-cached this to the undo stack.\n     * This will clear the redo stack.\n     *\n     */\n    commitCachedState () {\n      if (this.cachedState) {\n        this.undoStack.push(this.cachedState.toString())\n        this.cachedState = null\n        this.redoStack = []\n        this.isDirty = true\n      }\n    },\n\n    /**\n     * Applies the given serialized this to the active document.\n     *\n     * This this must contain exactly these maps: `items`, `connections`, `ports`, `groups`.\n     * Any other properties will not be applied.\n     *\n     * @param savedState - JSON-serialized this string\n     */\n    applyState (savedState: string) {\n      const parsedState = JSON.parse(savedState) as DocumentState\n      const { items, connections, ports, groups } = parsedState\n\n      /* returns everything in a that is not in b */\n      function getExcludedMembers (a: Record<string, BaseItem>, b: Record<string, BaseItem>) {\n        const aIds = Object.keys(a)\n        const bIds = Object.keys(b)\n\n        return aIds.filter(id => !bIds.includes(id))\n      }\n\n      // find all items and connections in current this that are not in the applied this and remove them from the circuit\n      const removedItems = getExcludedMembers(this.items, items)\n      const removedConnections = getExcludedMembers(this.connections, connections)\n\n      // add any new items from the the applied this to the circuit\n      const addedItems = getExcludedMembers(items, this.items)\n      const addedConnections = getExcludedMembers(connections, this.connections)\n\n      removedConnections.forEach(id => this.disconnect(this.connections[id]))\n      removedItems.forEach(id => this.removeElement(id))\n\n      this.ports = ports\n      this.items = items\n      this.groups = groups\n\n      addedItems.forEach(id => {\n        this.addNewItem({\n          item: items[id],\n          ports: Object.values(ports)\n        })\n      })\n\n      addedConnections.forEach(id => this.connect(connections[id]))\n\n      this.simulation.step()\n    },\n\n    addPort (itemId: string, port: Port) {\n      const nodeId = Object\n        .keys(this.simulation.nodes)\n        .find(id => this.items[itemId].portIds.includes(id))\n\n      this.ports[port.id] = port\n      this.items[itemId].portIds.push(port.id)\n\n      if (nodeId) {\n        this.simulation.addSiblingPort(port.id, nodeId)\n      } else {\n        this.simulation.addNode(this.items[itemId], this.ports)\n      }\n    },\n\n    /**\n     * Removes a port from the state.\n     * This will destroy the entire connection chain that it is a part of (if any).\n     *\n     * @param portId - ID of the port to destroy\n     */\n    removePort (portId: string) {\n      // remove all connections associated with this port\n      Object\n        .values(this.connections)\n        .filter(({ source, target }) => source === portId || target === portId)\n        .forEach(c => {\n          // find all segments and freeports of this connection and remove them\n          const {\n            connectionIds,\n            freeportIds\n          } = getConnectionChain(Object.values(this.connections), this.ports, c.connectionChainId)\n\n          connectionIds.forEach(id => {\n            // delete all connections associated with the chain\n            const { source, target } = this.connections[id]\n\n            this\n              .simulation\n              .removeConnection(source, target)\n\n            delete this.connections[id]\n          })\n\n          freeportIds.forEach(id => {\n            // delete all freeports associated with the chain\n            this.items[id].portIds.forEach(portId => {\n              delete this.ports[portId]\n              this.simulation.removePort(portId)\n            })\n\n            delete this.items[id]\n          })\n        })\n\n      const port = this.ports[portId]\n\n      if (port) {\n        const item = this.items[port.elementId]\n\n        if (!item) return\n\n        // remove the reference to the port from the element\n        const portIndex = item.portIds.findIndex(i => i === portId)\n\n        if (portIndex !== -1) {\n          this.items[item.id].portIds.splice(portIndex, 1)\n        }\n\n        delete this.ports[portId]\n        this.simulation.removePort(portId)\n      }\n    },\n\n    /**\n     * Adds any non-IC component to the this.\n     *\n     * @param payload\n     * @param payload.item - new item to add\n     * @param payload.ports - list of ports associated to the item\n     */\n    addNewItem ({ item, ports }: { item: Item, ports: Port[] }) {\n      const ic = item.integratedCircuit\n\n      if (ic) {\n        // if the item is an integrated circuit, add its visible ports to the document\n        item\n          .portIds\n          .forEach(portId => {\n            if (ic.ports[portId]) {\n              this.ports[portId] = ic.ports[portId]\n            }\n          })\n      }\n\n      ports.forEach(port => {\n        this.ports[port.id] = port\n      })\n\n      const taxonomy = `${item.type}_${item.subtype}`\n\n      if (!this.taxonomyCounts[taxonomy]) {\n        this.taxonomyCounts[taxonomy] = 0\n      }\n\n      item.name = generateItemName(item, ++this.taxonomyCounts[taxonomy])\n\n      this.items[item.id] = item\n      this.items[item.id].zIndex = ++this.zIndex\n\n      this\n        .simulation\n        .addNode(item, this.ports)\n\n      this.resetItemValue(item)\n    },\n\n    resetItemValue (item: Item) {\n      const property = item.properties?.startValue\n\n      if (!property) return\n\n      const value = property.value as number\n\n      item.portIds.forEach(id => this.setPortValue({ id, value }))\n    },\n\n    /**\n     * Removes an element and all its associated ports and circuit nodes from the state.\n     *\n     * @param id - ID of the item to remove\n     */\n    removeElement (id: string) {\n      const item = this.items[id]\n\n      this\n        .simulation\n        .removeNode(item)\n\n      // remove all ports associated with the item\n      item.portIds.forEach(portId => this.removePort(portId))\n\n      // remove the item\n      delete this.items[id]\n    },\n\n    /**\n     * Sets the selection this of the given element to the value provided.\n     * If the item is a connection segment, then its entire connection chain will take on the same value.\n     *\n     * @param payload\n     * @param payload.id - ID of the item, group, or connection to select\n     * @param payload.isSelected - selection this to change to\n     */\n    SET_SELECTION_STATE ({ id, isSelected }: { id: string, isSelected: boolean }) {\n      /**\n       * Updates the selection list (selectedConnectionIds or selectedItemIds) according to the selection value.\n       *\n       * @private\n       */\n      const updateSelectionList = (id: string, key: 'selectedConnectionIds' | 'selectedItemIds') => {\n        const index = this[key].findIndex((i: string) => i === id)\n\n        if (isSelected && index === -1) {\n          this[key].push(id)\n        }\n\n        if (!isSelected && index !== -1) {\n          this[key].splice(index, 1)\n        }\n      }\n\n      if (this.items[id]) {\n        // select an individual item\n        this.items[id].isSelected = isSelected\n        updateSelectionList(id, 'selectedItemIds')\n      } else if (this.connections[id]) {\n        // select a connection (chain)\n        const { connectionChainId } = this.connections[id]\n        const {\n          connectionIds,\n          freeportIds\n        } = getConnectionChain(Object.values(this.connections), this.ports, connectionChainId)\n\n        // select all connection segments that are part of this connection chain\n        connectionIds.forEach(id => {\n          this.connections[id].isSelected = isSelected\n          updateSelectionList(id, 'selectedConnectionIds')\n        })\n\n        // select all freeports that are part of this connection chain\n        freeportIds.forEach(id => {\n          this.items[id].isSelected = isSelected\n          updateSelectionList(id, 'selectedItemIds')\n        })\n      }\n    },\n\n    sendBackward () {\n      this.commitState()\n      this.incrementZIndex(-1)\n    },\n\n    bringForward () {\n      this.commitState()\n      this.incrementZIndex(1)\n    },\n\n    sendToBack () {\n      this.commitState()\n      this.setZIndex(1)\n    },\n\n    bringToFront () {\n      this.commitState()\n      this.setZIndex(this.zIndex)\n    },\n\n    /**\n     * Increments the zIndex of all items selected.\n     * If an item's movement collides with another item's movement, or it becomes out of bounds, its zIndex will not change.\n     *\n     * @param direction - 1 to increment, -1 to decrement\n     */\n    incrementZIndex (direction: number) {\n      const items: BaseItem[] = Object.values(this.items)\n      const connections: BaseItem[] = Object.values(this.connections)\n      const baseItems = items\n        .concat(connections)\n        .sort(sortByZIndex)\n      const selectedItemIds = baseItems\n        .filter(({ isSelected }) => isSelected)\n        .map(({ id }) => id)\n\n      if (direction > 0) {\n        // if the direction is forward, then reverse the selected IDs\n        // this is because the next item that an item may want to swap with may also be swapping (and therefore frozen)\n        // reversing the order that we look at the items will prevent that from happening\n        selectedItemIds.reverse()\n      }\n\n      const frozenIds: string[] = []\n\n      selectedItemIds.forEach(id => {\n        const currentIndex = baseItems.findIndex(i => i.id === id)\n        const nextIndex = currentIndex + direction\n\n        if (nextIndex < 0 || nextIndex >= baseItems.length) {\n          // if the next zIndex pushes it out of bounds, freeze it\n          frozenIds.push(baseItems[currentIndex].id)\n          return\n        }\n\n        if (!frozenIds.includes(baseItems[nextIndex]?.id)) {\n          const item = baseItems[currentIndex]\n          // if the item to swap with is not frozen, then swap places with it\n          baseItems.splice(currentIndex, 1)\n          baseItems.splice(nextIndex, 0, item)\n        }\n      })\n\n      baseItems.forEach((item, index) => {\n        item.zIndex = index + 1\n      })\n\n      this.zIndex = Object.keys(baseItems).length\n    },\n\n    /**\n     * Moves all selected items to the given zIndex values.\n     * If those items aren't siblings already, they will be when this is invoked.\n     *\n     * @param zIndex - new zIndex to move items to\n     */\n    setZIndex (zIndex: number) {\n      const items: BaseItem[] = Object.values(this.items)\n      const connections: BaseItem[] = Object.values(this.connections)\n      let baseItems = items\n        .concat(connections)\n        .sort(sortByZIndex)\n      const selectedItems = baseItems.filter(({ isSelected }) => isSelected)\n\n      for (let i = 0; i < baseItems.length; i++) {\n        if (baseItems[i].isSelected) {\n          baseItems.splice(i, 1)\n          i--\n        }\n      }\n\n      baseItems.splice(zIndex - 1, 0, ...selectedItems)\n      baseItems.forEach((item, index) => {\n        item.zIndex = index + 1\n      })\n\n      this.zIndex = Object.keys(baseItems).length\n    },\n\n    /**\n     * Establishes a new connection between two ports.\n     *\n     * @param payload\n     * @param payload.source - source port ID\n     * @param payload.target - target port ID\n     * @param payload.connectionChainId - optional connection chain ID to add the connection segment to\n     */\n    connect ({ source, target, connectionChainId, id = uuid() }: { source?: string, target?: string, connectionChainId?: string, id?: string }) {\n      if (source && target) {\n        this.connections[id] = {\n          id,\n          source,\n          target,\n          connectionChainId: connectionChainId || id,\n          groupId: null,\n          zIndex: ++this.zIndex,\n          isSelected: false\n        }\n\n        this.ports[source].connectedPortIds.push(target)\n        this.ports[target].connectedPortIds.push(source)\n\n        this\n          .simulation\n          .addConnection(source, target)\n      }\n    },\n\n    /**\n     * Disconnects two ports.\n     *\n     * @param payload\n     * @param payload.source - source port ID\n     * @param payload.target - target port ID\n     */\n    disconnect ({ source, target }: { source: string, target: string }) {\n      const connection = Object\n        .values(this.connections)\n        .find(c => c.source === source && c.target === target)\n\n      if (connection) {\n        this\n          .simulation\n          .removeConnection(source, target)\n\n        const sourceIndex = this.ports[source].connectedPortIds.findIndex(id => id === target)\n        const targetIndex = this.ports[target].connectedPortIds.findIndex(id => id === source)\n\n        this.ports[source].connectedPortIds.splice(sourceIndex, 1)\n        this.ports[target].connectedPortIds.splice(targetIndex, 1)\n\n        delete this.connections[connection.id]\n      }\n    },\n\n    /**\n     * Destroys the group having the given ID.\n     *\n     * @param groupId\n     */\n    destroyGroup (groupId: string) {\n      const group = this.groups[groupId]\n\n      // remove the groupId of all items in the group and select them\n      group.itemIds.forEach(id => {\n        this.items[id].groupId = null\n        this.selectedItemIds.push(id)\n      })\n\n      // remove the groupId of all connections in the group and select them\n      group.connectionIds.forEach(id => {\n        this.connections[id].groupId = null\n        this.selectedConnectionIds.push(id)\n      })\n\n      delete this.groups[groupId]\n    },\n\n    /**\n     * Adds a new freeport element. This can be used in either of two scenarios:\n     *\n     *  1. when a user is dragging a port to establish a connection to another port\n     *  2. when a user drags on a connection to create a new \"pivot point\" on the wire\n     *\n     * @param payload\n     * @param payload.itemId - desired ID for the new freeport\n     * @param payload.inputPortId - the ID of the input port (omit for a wire drag from an output port)\n     * @param payload.outputPortId - the ID of the output port (omit for a wire drag from an input port)\n     * @param payload.position - the initial position of this port\n     * @param payload.value - optional value of the port\n     */\n    addFreeportItem ({ itemId, inputPortId, outputPortId, position, value }: {\n      itemId: string\n      position: Point\n      outputPortId?: string\n      inputPortId?: string\n      value?: number\n    }) {\n      const createPort = (id: string, type: PortType, orientation: Direction): Port => ({\n        id,\n        type,\n        name: '',\n        elementId: itemId,\n        orientation,\n        isFreeport: true,\n        position: {\n          x: 0,\n          y: 0\n        },\n        rotation: 0,\n        value: value || 0,\n        connectedPortIds: []\n      })\n      const portIds: string[] = []\n\n      if (inputPortId) {\n        this.ports[inputPortId] = createPort(inputPortId, PortType.Input, Direction.Right)\n        portIds.push(inputPortId)\n      }\n\n      if (outputPortId) {\n        this.ports[outputPortId] = createPort(outputPortId, PortType.Output, Direction.Left)\n        portIds.push(outputPortId)\n      }\n\n      if (!this.taxonomyCounts[ItemType.Freeport]) {\n        this.taxonomyCounts[ItemType.Freeport] = 0\n      }\n\n      this.items[itemId] = {\n        id: itemId,\n        name: '',\n        type: ItemType.Freeport,\n        subtype: ItemSubtype.None,\n        portIds,\n        position,\n        rotation: 0,\n        boundingBox: {\n          left: position.x,\n          top: position.y,\n          right: position.x,\n          bottom: position.y\n        },\n        properties: {},\n        isSelected: false,\n        groupId: null,\n        zIndex: ++this.zIndex,\n        width: 1,\n        height: 1\n      }\n      this.items[itemId].name = generateItemName(this.items[itemId], ++this.taxonomyCounts[ItemType.Freeport])\n\n      this\n        .simulation\n        .addNode(this.items[itemId], this.ports, true)\n    },\n\n    print () {\n      this.isPrinting = true\n    },\n\n    createImage () {\n      this.isCreatingImage = true\n    },\n\n    cut () {\n      this.copy()\n      this.deleteSelection()\n    },\n\n    copy () {\n      if (!this.hasSelection) return\n\n      const items: Record<string, Item> = {}\n      const ports: Record<string, Port> = {}\n\n      this.selectedItemIds.forEach(id => {\n        items[id] = this.items[id]\n        items[id].portIds.forEach(portId => {\n          ports[portId] = this.ports[portId]\n        })\n      })\n\n      const connections = Object\n        .values(this.connections)\n        .reduce((map, connection) => {\n          if (ports[connection.source] && ports[connection.target]) {\n            map[connection.id] = connection\n          }\n\n          return map\n        }, {})\n\n      const groups = Object\n        .values(this.groups)\n        .filter(({ isSelected }) => isSelected)\n        .reduce((map, group) => ({ ...map, [group.id]: group }), {})\n\n      const clipboard = JSON.stringify({\n        items,\n        ports,\n        connections,\n        groups,\n        pasteCount: 1\n      })\n\n      window.api.copy(clipboard)\n    },\n\n    paste () {\n      try {\n        const state = window.api.paste()\n        const parsed = JSON.parse(state as string) as {\n          items: Record<string, Item>\n          connections: Record<string, Connection>\n          groups: Record<string, Group>\n          ports: Record<string, Port>,\n          pasteCount: number\n        }\n        const mapped = idMapper.mapStandardCircuitIds(parsed) as {\n          items: Record<string, Item>\n          connections: Record<string, Connection>\n          groups: Record<string, Group>\n          ports: Record<string, Port>,\n          pasteCount: number\n        }\n\n        this.commitState()\n        this.deselectAll()\n\n        Object\n          .keys(mapped.ports)\n          .forEach(portId => {\n            mapped.ports[portId].value = 0\n          })\n\n        Object\n          .values(mapped.items)\n          .forEach(item => {\n            item.position.x += 20 * parsed.pasteCount\n            item.position.y += 20 * parsed.pasteCount\n            item.isSelected = false\n\n            this.addNewItem({\n              item,\n              ports: item.portIds.map(portId => mapped.ports[portId])\n            })\n\n            this.setItemBoundingBox(item.id)\n            this.setItemPortPositions(item.id)\n            this.setSelectionState({ id: item.id, value: true })\n          })\n\n        Object\n          .values(mapped.connections)\n          .forEach(connection => this.connect(connection))\n\n        Object\n          .values(mapped.groups)\n          .forEach(group => {\n            this.groups[group.id] = group\n\n            this.setGroupBoundingBox(group.id)\n            this.setSelectionState({ id: group.id, value: true })\n          })\n\n        const clipboard = JSON.stringify({\n          ...JSON.parse(state),\n          pasteCount: parsed.pasteCount + 1\n        })\n\n        window.api.copy(clipboard)\n      } catch (error) {\n        console.log('ERROR: ', error)\n        // TODO: clear clipboard?\n      }\n    }\n  }\n})\n// TODO: when debugger is turned off, make sure all elements take on values defined in valueMap\n","export default function getFileName (filePath: string) {\n  return filePath.split('\\\\').pop()?.split('/').pop() || ''\n}\n","// @ts-check\nimport { defineStore, StoreDefinition } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport DocumentState from './DocumentState'\nimport basic from '../containers/fixtures/basic.json'\nimport flipFlop from '../containers/fixtures/flipflop.json'\nimport integratedCircuit from '../containers/fixtures/ic.json'\nimport testIc from '../containers/fixtures/test.json'\n\nimport { createDocumentStore } from './document'\nimport FileService from '@/services/FileService'\nimport getFileName from '@/utils/getFileName'\n\nexport type RootStore = {\n  documents: {\n    [id: string]: {\n      fileName: string\n      filePath: string\n      displayName: string\n      store: StoreDefinition<string, DocumentState>\n    }\n  }\n  clipboard: string | null\n  activeDocumentId: string | null\n  canExit: boolean\n  isFullscreen: boolean\n}\n\nexport const useRootStore = defineStore({\n  id: 'root',\n  state: (): RootStore => ({\n    documents: {},\n    clipboard: null,\n    activeDocumentId: null,\n    canExit: false,\n    isFullscreen: false\n  }),\n  getters: {\n    hasOpenDocuments (state) {\n      return Object\n        .keys(state.documents)\n        .length > 0\n    },\n    activeDocument (state) {\n      if (state.activeDocumentId) {\n        return state.documents[state.activeDocumentId]\n      }\n\n      return null\n    }\n  },\n  actions: {\n    openIntegratedCircuit (item: Item) {\n      if (item.integratedCircuit) {\n        this.openDocument('', item.integratedCircuit.serializedState, item.id, item.name)\n      }\n    },\n    async saveImage (data: Blob) {\n      if (!this.activeDocument) return\n\n      try {\n        const partialName = this.activeDocument.displayName.replace(/\\.[^/.]+$/, \"\")\n        const fileName = `${partialName}.png`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'PNG Image',\n            extensions: ['.png']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.writeBlob(filePath, data)\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the image.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    newDocument () {\n      console.log('will create new doc')\n    },\n    async closeAll (): Promise<boolean> {\n      if (this.activeDocumentId) {\n        const closedSuccessfully = await this.closeDocument(this.activeDocumentId)\n\n        // wait for the next window frame to show the next active document\n        await new Promise(resolve => setTimeout(resolve))\n\n        if (closedSuccessfully) {\n          return this.closeAll()\n        }\n\n        return false // a document refused to close\n      }\n\n      return true // all documents successfully closed\n    },\n    printActiveDocument () {\n      if (this.activeDocument) {\n        this.activeDocument.store().isPrinting = true\n      }\n    },\n    async closeDocument (id: string): Promise<boolean> {\n      const document = this.documents[id]\n      const store = document.store()\n      let isSuccessful = true\n\n      this.activateDocument(id)\n\n      if (store.isDirty) {\n        const dialogResult = window.api.showMessageBox({\n          message: `Save changes to ${document.fileName}?`,\n          title: 'Confirm',\n          buttons: ['Yes', 'No', 'Cancel']\n        })\n\n        if (dialogResult === 0) {\n          // user selected 'Yes' (to save the active document)\n          isSuccessful = await this.saveActiveDocument()\n        }\n\n        if (dialogResult === 2) {\n          // user selected 'Cancel' to continue editing their document\n          return false\n        }\n      }\n\n      // TODO: call some sort of teardown/$dispose() function of document\n      delete this.documents[id]\n      this.activeDocumentId = null\n\n      const remainingId = Object.keys(this.documents).pop()\n\n      if (remainingId) {\n        this.activateDocument(remainingId)\n      }\n\n      return isSuccessful\n    },\n    async saveActiveDocument (setFileName: boolean = false): Promise<boolean> {\n      try {\n        if (!this.activeDocument) return true\n        if (!this.activeDocument.filePath || setFileName) {\n          // if no file name is defined yet, ask the user for the location to save it\n          const fileName = this.activeDocument.fileName || `${this.activeDocument.fileName}.alfx`\n          const filePath = window.api.showSaveFileDialog([\n            {\n              name: 'Aristotle Logic Circuit (*.alfx)',\n              extensions: ['alfx']\n            }\n          ], fileName)\n\n          if (!filePath) return true\n          if (filePath) {\n            const fileName = getFileName(filePath)\n\n            this.activeDocument.filePath = filePath\n            this.activeDocument.fileName = fileName\n            this.activeDocument.displayName = fileName\n          }\n        }\n\n        const store = this.activeDocument.store()\n\n        FileService.save(this.activeDocument.filePath, {\n          items: store.items,\n          connections: store.connections,\n          groups: store.groups,\n          ports: store.ports\n        })\n\n        store.isDirty = false\n\n        return true\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the file.',\n          title: 'Error',\n          type: 'error'\n        })\n\n        return false\n      }\n    },\n    async selectDocument () {\n      const files = window.api.showOpenFileDialog([\n        {\n          name: 'Aristotle Logic Circuit (*.alfx)',\n          extensions: ['alfx']\n        }\n      ])\n\n      for (let i = 0; i < files.length; i++) {\n        await this.openDocumentFromPath(files[i])\n      }\n    },\n    async openDocumentFromPath (filePath: string) {\n      try {\n        // TODO: need to create lock on file while open\n        const content = await FileService.open(filePath)\n\n        if (content) {\n          this.openDocument(filePath, content, uuid())\n        }\n      } catch (error) {\n        console.log('ERR', error)\n        window.api.showMessageBox({\n          message: `Could not open ${filePath}. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    openDocument (filePath: string, content: string, id: string, displayName: string = '') {\n      if (this.documents[id]) {\n        return this.activateDocument(id)\n      }\n\n      const store = createDocumentStore(id)\n      const document = store()\n      const fileName = getFileName(filePath)\n\n      document.loadDocument(content)\n\n      this.documents[id] = {\n        fileName,\n        filePath,\n        displayName: displayName || fileName,\n        store\n      }\n      this.activateDocument(id)\n    },\n    switchDocument (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => this.activeDocumentId === id)\n\n      let nextIndex = currentIndex + direction\n\n      if (documentIds.length === 0) return\n      if (currentIndex === -1 || nextIndex >= documentIds.length) nextIndex = 0\n      else if (nextIndex < 0) nextIndex = documentIds.length - 1\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n    pauseActivity () {\n      this.activeDocument?.store().stop()\n    },\n    resumeActivity () {\n      this.activeDocument?.store().start()\n    },\n    activateDocument (id: string) {\n      this.pauseActivity()\n      this.activeDocumentId = id\n      this.resumeActivity()\n    },\n    openTestDocuments () {\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify({\n      //   connections: {},\n      //   items: {},\n      //   ports: {},\n      //   groups: {}\n      // }))\n      // this.openDocument('test.alfx', JSON.stringify(testIc))\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify(integratedCircuit))\n      // this.pauseActivity()\n      this.openDocument('flip-flop.alfx', JSON.stringify(flipFlop), uuid(), 'flip-flop.alfx')\n    },\n\n    navigateDocumentList (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => id === this.activeDocumentId)\n      let nextIndex = currentIndex + direction\n\n      if (nextIndex < 0) nextIndex = documentIds.length - 1\n      if (nextIndex >= documentIds.length) nextIndex = 0\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n\n    toggleFullscreen () {\n      this.isFullscreen = !this.isFullscreen\n\n      window.api.setFullscreen(this.isFullscreen)\n    }\n  }\n})\n","import { render } from \"./Document.vue?vue&type=template&id=ae804a0a&ts=true\"\nimport script from \"./Document.vue?vue&type=script&lang=ts\"\nexport * from \"./Document.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Icon.vue?vue&type=template&id=c2deb328&ts=true\"\nimport script from \"./Icon.vue?vue&type=script&lang=ts\"\nexport * from \"./Icon.vue?vue&type=script&lang=ts\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarButton.vue?vue&type=template&id=3f394243&ts=true\"\nimport script from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarButton.vue?vue&type=style&index=0&id=3f394243&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarSeparator.vue?vue&type=template&id=3a62fe8f&ts=true\"\nimport script from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarSeparator.vue?vue&type=style&index=0&id=3a62fe8f&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Toolbar.vue?vue&type=template&id=6eabfba8&ts=true\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Toolbar.vue?vue&type=style&index=0&id=6eabfba8&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxItem.vue?vue&type=template&id=23cf6330&ts=true\"\nimport script from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxItem.vue?vue&type=style&index=0&id=23cf6330&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function portFactory (elementId: string, id: string, orientation: Direction, type: PortType, name: string): Port {\n  return {\n    id,\n    orientation,\n    name,\n    position: {\n      x: 0,\n      y: 0\n    },\n    type,\n    rotation: 0,\n    elementId,\n    value: 0,\n    isFreeport: false,\n    connectedPortIds: []\n  }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function inputFactory (type: ItemSubtype, width: number, height: number, properties: PropertySet = {}) {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Right, PortType.Output, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.InputNode, type, width, height, ports)\n\n  item.properties = {\n    ...properties,\n    startValue: {\n      label: 'Start value',\n      value: -1,\n      type: 'number',\n      options: {\n        'True': 1,\n        'Hi-Z': 0,\n        'False': -1\n      }\n    },\n  }\n\n  return { item, ports }\n}\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport inputFactory from './inputFactory'\n\nexport default function clockFactory () {\n  return inputFactory(ItemSubtype.Clock, 60, 60, {\n    interval: {\n      label: 'Interval',\n      value: 1000,\n      type: 'number',\n      min: 100\n    }\n  })\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function lightbulbFactory () {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Left, PortType.Input, 'Input Port')\n  ]\n  const item = itemFactory(elementId, ItemType.OutputNode, ItemSubtype.Lightbulb, 40, 40, ports)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\n\nexport default function logicGateFactory (type: ItemSubtype, width: number, height: number) {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 1'),\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 2'),\n    portFactory(elementId, uuid(), 2, 0, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.LogicGate, type, width, height, ports)\n\n  item.properties = {\n    inputCount: {\n      label: 'Input count',\n      value: 2,\n      type: 'number',\n      min: 2\n    },\n    showInOscilloscope: {\n      label: 'Show in oscilloscope',\n      value: false,\n      type: 'boolean'\n    }\n  }\n\n  return { item, ports }\n}\n","import { render } from \"./Toolbox.vue?vue&type=template&id=208ba0a4&ts=true\"\nimport script from \"./Toolbox.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbox.vue?vue&type=script&lang=ts\"\n\nimport \"./Toolbox.vue?vue&type=style&index=0&id=208ba0a4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ResizablePanes.vue?vue&type=template&id=675dd903&ts=true\"\nimport script from \"./ResizablePanes.vue?vue&type=script&lang=ts\"\nexport * from \"./ResizablePanes.vue?vue&type=script&lang=ts\"\n\nimport \"./ResizablePanes.vue?vue&type=style&index=0&id=675dd903&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabItem.vue?vue&type=template&id=c1b107dc&ts=true\"\nimport script from \"./TabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TabItem.vue?vue&type=script&lang=ts\"\n\nimport \"./TabItem.vue?vue&type=style&index=0&id=c1b107dc&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabHost.vue?vue&type=template&id=df89a472&ts=true\"\nimport script from \"./TabHost.vue?vue&type=script&lang=ts\"\nexport * from \"./TabHost.vue?vue&type=script&lang=ts\"\n\nimport \"./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTimeline.vue?vue&type=template&id=0e8f4489&ts=true\"\nimport script from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTimeline.vue?vue&type=style&index=0&id=0e8f4489&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTitleBar.vue?vue&type=template&id=4e080e28&ts=true\"\nimport script from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=4e080e28&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeViewer.vue?vue&type=template&id=0e9f0927&ts=true\"\nimport script from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeViewer.vue?vue&type=style&index=0&id=0e9f0927&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Oscilloscope.vue?vue&type=template&id=41e14958&ts=true\"\nimport script from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\nexport * from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarButton.vue?vue&type=template&id=3ddd451b&ts=true\"\nimport script from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarViewer.vue?vue&type=template&id=e71231c2&ts=true\"\nimport script from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarViewer.vue?vue&type=style&index=0&id=e71231c2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarZoom.vue?vue&type=template&id=2cb57bfb&ts=true\"\nimport script from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBar.vue?vue&type=template&id=306955e2&ts=true\"\nimport script from \"./StatusBar.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\n\nexport default function file (): MenuItemConstructorOptions[] {\n  const rootStore = useRootStore()\n  const hasDocument = rootStore.activeDocumentId !== null\n  const documentList = Object.keys(rootStore.documents)\n  const store = rootStore.activeDocument?.store()\n  const items: MenuItemConstructorOptions[] = [\n    {\n      label: '&New Circuit',\n      accelerator: 'CommandOrControl+N',\n      click: rootStore.newDocument\n    },\n    { type: 'separator' },\n    {\n      label: '&Open Circuit',\n      accelerator: 'CommandOrControl+O',\n      click: rootStore.selectDocument\n    },\n    {\n      label: 'Open &Integrated Circuit',\n      accelerator: 'CommandOrControl+Shift+O',\n      click: rootStore.selectDocument\n    },\n    { type: 'separator' },\n    {\n      label: 'Save',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+S',\n      click: () => rootStore.saveActiveDocument()\n    },\n    {\n      label: 'Save As...',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+S',\n      click: () => rootStore.saveActiveDocument(true)\n    },\n    {\n      label: 'Save All',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+A',\n      click: () => console.log('root store save all')\n    },\n    { type: 'separator' },\n    {\n      label: 'Print',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+P',\n      click: () => store?.print()\n    },\n    { type: 'separator' },\n    {\n      label: 'Export...',\n      enabled: hasDocument,\n      submenu: [\n        {\n          label: 'Integrated Circuit',\n          accelerator: 'CommandOrControl+Shift+E',\n          click: () => console.log('export IC')\n        },\n        {\n          label: 'PNG Image',\n          accelerator: 'CommandOrControl+Shift+I',\n          click: () => store?.createImage()\n        }\n      ]\n    },\n    { type: 'separator' },\n    {\n      label: 'Preferences',\n      submenu: [\n        {\n          label: 'Global Preferences',\n          accelerator: 'CommandOrControl+,',\n          click: () => console.log('global prefs')\n        },\n        {\n          label: 'Document Preferences',\n          accelerator: 'CommandOrControl+Shift+,',\n          click: () => console.log('doc prefs')\n        }\n      ]\n    }\n  ]\n\n  if (Object.keys(rootStore.documents).length > 1) {\n    const submenu: MenuItemConstructorOptions[] = [\n      {\n        label: 'Previous File',\n        accelerator: 'CmdOrCtrl+Shift+Tab',\n        click: () => rootStore.switchDocument(-1)\n      },\n      {\n        label: 'Next File',\n        accelerator: 'CmdOrCtrl+Tab',\n        click: () => rootStore.switchDocument(1)\n      },\n      { type: 'separator' }\n    ]\n\n    for (let i = 0; i < documentList.length; i++) {\n      submenu.push({\n        type: \"checkbox\",\n        label: rootStore.documents[documentList[i]].displayName,\n        checked: rootStore.activeDocumentId === documentList[i],\n        click: () => rootStore.activateDocument(documentList[i])\n      })\n    }\n\n    items.push({ type: 'separator' })\n    items.push({\n      label: 'Switch to...',\n      submenu\n    })\n  }\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Close Document',\n    accelerator: 'CmdOrCtrl+W',\n    enabled: hasDocument,\n    click: () => rootStore.closeDocument(rootStore.activeDocumentId as string)\n  })\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Exit',\n    accelerator: 'CmdOrCtrl+Q',\n    click: () => window.close()\n  })\n\n  return items\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport DocumentState from '@/store/DocumentState'\nimport { Store } from 'pinia'\nimport grid from './grid'\n\nexport default function edit (documentStore: Store<string, DocumentState, any>): MenuItemConstructorOptions[] {\n  const zoomSubmenu: MenuItemConstructorOptions[] = []\n  let hasFixedZoom = false\n\n  for (let i = 1; i <= 8; i++) {\n    const zoom = (i * 25) / 100\n    const checked = documentStore.zoomLevel === zoom\n\n    hasFixedZoom = hasFixedZoom || checked\n\n    zoomSubmenu.push({\n      type: 'checkbox',\n      checked,\n      label: `${zoom * 100}%`,\n      accelerator: zoom === 1 ? 'CommandOrControl+0' : undefined,\n      click: () => documentStore.setZoom({ zoom })\n    })\n  }\n\n  if (!hasFixedZoom) {\n    zoomSubmenu.unshift({\n      type: 'checkbox',\n      checked: true,\n      label: 'Custom'\n    })\n  }\n\n  const menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Zoom In',\n      accelerator: 'CommandOrControl+=',\n      enabled: documentStore.zoomLevel < 2, // TODO: const\n      click: () => documentStore.incrementZoom(1)\n    },\n    {\n      label: '&Zoom Out',\n      accelerator: 'CommandOrControl+-',\n      enabled: documentStore.zoomLevel > 0.1, // TODO: const\n      click: () => documentStore.incrementZoom(-1)\n    },\n    {\n      label: '&Zoom...',\n      submenu: zoomSubmenu\n    },\n    { type: 'separator' },\n    {\n      label: '&Pan to Center',\n      accelerator: 'CommandOrControl+;',\n      click: documentStore.panToCenter\n    },\n    { type: 'separator' }\n  ]\n\n  return menu.concat(grid(documentStore))\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\nimport edit from './submenus/edit'\nimport file from './submenus/file'\nimport view from './submenus/view'\n\nexport default function createApplicationMenu () {\n  const store = useRootStore()\n  const menus: MenuItemConstructorOptions[] = [\n    {\n      label: 'File',\n      submenu: file()\n    }\n  ]\n\n  if (store.activeDocument) {\n    menus.push({\n      label: 'Edit',\n      submenu: edit(store.activeDocument.store())\n    })\n\n    menus.push({\n      label: 'View',\n      submenu: view(store.activeDocument.store()).concat([\n        { type: 'separator' },\n        {\n          type: 'checkbox',\n          click: store.toggleFullscreen,\n          checked: store.isFullscreen,\n          accelerator: 'F11',\n          label: 'Fullscreen'\n        }\n      ])\n    })\n  }\n\n  return menus\n}\n","import { render } from \"./App.vue?vue&type=template&id=2d495b93&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2d495b93&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createPinia } from 'pinia'\nimport { createApp } from 'vue'\nimport App from '@/App.vue'\nimport '@/styles/main.scss'\n\nif (!window.api) {\n  // stub the ipc api for non-electron environments\n  // TODO: once the app is fully electron, move this to jest setup file\n  window.api = {\n    showContextMenu () {},\n    setApplicationMenu () {},\n    showOpenFileDialog () { return [] },\n    showSaveFileDialog () { return '' },\n    showMessageBox () { return 0 },\n    beep () {},\n    quit () {},\n    copy () {},\n    paste () { return '' },\n    onBeforeClose () {},\n    onOpenFile () {},\n    openFile () { return '' },\n    saveFile () {},\n    setFullscreen () {}\n  }\n}\n\ncreateApp(App)\n  .use(createPinia())\n  .mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarViewer.vue?vue&type=style&index=0&id=e71231c2&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=2d495b93&lang=scss\"","import JSZip from 'jszip'\n\nexport default class FileService {\n  static async open (filePath: string) {\n    const zip = new JSZip()\n\n    const compressedContent = window.api.openFile(filePath)\n    const { files } = await zip.loadAsync(compressedContent)\n    const data = await files.content.async('text')\n\n    return data\n  }\n\n  static async writeBlob (filePath: string, blob: Blob) {\n    const blobby = await blob.arrayBuffer()\n    const buf = Buffer.from(blobby)\n\n    window.api.saveFile(filePath, buf)\n  }\n\n  static async save (filePath: string, content: object) {\n    const zip = new JSZip()\n\n    zip.file('content', JSON.stringify(content))\n\n    const compressedContent = await zip.generateAsync({ type: 'blob' })\n\n    this.writeBlob(filePath, compressedContent)\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolbarSeparator.vue?vue&type=style&index=0&id=3a62fe8f&lang=scss\""],"sourceRoot":""}