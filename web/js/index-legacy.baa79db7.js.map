{"version":3,"file":"js/index-legacy.baa79db7.js","mappings":"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","sources":["webpack://aristotle/./node_modules/vue-loader/dist/templateLoader.js","webpack://aristotle/./src/types/enums/SnapMode.ts","webpack://aristotle/./src/store/document/geometry/boundaries.ts","webpack://aristotle/./node_modules/vue-loader/dist/index.js","webpack://aristotle/./src/components/interactive/Resizable.vue","webpack://aristotle/./src/components/interactive/Draggable.vue","webpack://aristotle/./src/components/Wire.vue","webpack://aristotle/./src/types/enums/Direction.ts","webpack://aristotle/./src/store/document/geometry/rotate.ts","webpack://aristotle/./src/store/document/geometry/wire.ts","webpack://aristotle/./src/containers/Connection.vue","webpack://aristotle/./src/components/item/Freeport.vue","webpack://aristotle/./src/components/item/elements/InputNode.vue","webpack://aristotle/./src/components/item/elements/IntegratedCircuit.vue","webpack://aristotle/./src/components/item/elements/gates/And.vue","webpack://aristotle/./src/components/item/elements/gates/Or.vue","webpack://aristotle/./src/components/item/elements/gates/Nor.vue","webpack://aristotle/./src/components/item/elements/gates/Nand.vue","webpack://aristotle/./src/components/item/elements/gates/Xnor.vue","webpack://aristotle/./src/components/item/elements/gates/Xor.vue","webpack://aristotle/./src/components/item/elements/LogicGate.vue","webpack://aristotle/./src/components/item/elements/OutputNode.vue","webpack://aristotle/./src/components/item/CircuitComponent.vue","webpack://aristotle/./src/components/item/Properties.vue","webpack://aristotle/./src/components/PortHandle.vue","webpack://aristotle/./src/components/PortPivot.vue","webpack://aristotle/./src/types/enums/PortType.ts","webpack://aristotle/./src/containers/PortItem.vue","webpack://aristotle/./src/types/enums/ItemType.ts","webpack://aristotle/./src/types/enums/ItemSubtype.ts","webpack://aristotle/./src/containers/Item.vue","webpack://aristotle/./src/components/editor/Selector.vue","webpack://aristotle/./src/components/editor/Editor.vue","webpack://aristotle/./src/components/Group.vue","webpack://aristotle/./src/menus/submenus/edit.ts","webpack://aristotle/./src/menus/submenus/grid.ts","webpack://aristotle/./src/menus/context/editor.ts","webpack://aristotle/./src/utils/printing.ts","webpack://aristotle/./src/circuit/types/Connection.ts","webpack://aristotle/./src/circuit/types/LogicValue.ts","webpack://aristotle/./src/circuit/base/CircuitNode.ts","webpack://aristotle/./src/circuit/base/InputNode.ts","webpack://aristotle/./src/circuit/base/OutputNode.ts","webpack://aristotle/./src/circuit/base/Circuit.ts","webpack://aristotle/./src/circuit/gates/Nor.ts","webpack://aristotle/./src/circuit/gates/Buffer.ts","webpack://aristotle/./src/services/BinaryWaveService.ts","webpack://aristotle/./src/services/ClockService.ts","webpack://aristotle/./src/services/OscillationService.ts","webpack://aristotle/./src/utils/circuitNodeMapper.ts","webpack://aristotle/./src/services/SimulationService.ts","webpack://aristotle/./src/store/document/state.ts","webpack://aristotle/./src/utils/idMapper.ts","webpack://aristotle/./src/store/document/actions/clipboard.ts","webpack://aristotle/./src/store/document/actions/connection.ts","webpack://aristotle/./src/store/document/actions/editor.ts","webpack://aristotle/./src/factories/itemFactory.ts","webpack://aristotle/./src/factories/portFactory.ts","webpack://aristotle/./src/store/document/actions/freeport.ts","webpack://aristotle/./src/store/document/actions/grouping.ts","webpack://aristotle/./src/utils/fromDocumentToEditorCoordinates.ts","webpack://aristotle/./src/store/document/actions/item.ts","webpack://aristotle/./src/store/document/actions/panning.ts","webpack://aristotle/./src/utils/getConnectionChain.ts","webpack://aristotle/./src/store/document/actions/port.ts","webpack://aristotle/./src/store/document/geometry/rotation.ts","webpack://aristotle/./src/store/document/actions/positioning.ts","webpack://aristotle/./src/store/document/actions/rotation.ts","webpack://aristotle/./src/store/document/actions/selection.ts","webpack://aristotle/./src/store/document/actions/simulation.ts","webpack://aristotle/./src/store/document/actions/sizing.ts","webpack://aristotle/./src/store/document/actions/snapping.ts","webpack://aristotle/./src/store/document/actions/undoRedo.ts","webpack://aristotle/./src/utils/sortByZIndex.ts","webpack://aristotle/./src/store/document/actions/zIndex.ts","webpack://aristotle/./src/store/document/actions/zooming.ts","webpack://aristotle/./src/factories/integratedCircuitFactory.ts","webpack://aristotle/./src/store/document/index.ts","webpack://aristotle/./src/services/FileService.ts","webpack://aristotle/./src/utils/getFileName.ts","webpack://aristotle/./src/store/root.ts","webpack://aristotle/./src/containers/Document.vue","webpack://aristotle/./src/components/Icon.vue","webpack://aristotle/./src/components/toolbar/ToolbarButton.vue","webpack://aristotle/./src/components/toolbar/ToolbarSeparator.vue","webpack://aristotle/./src/components/layout/ScrollFade.vue","webpack://aristotle/./src/containers/Toolbar.vue","webpack://aristotle/./src/components/toolbox/ToolboxItem.vue","webpack://aristotle/./src/components/toolbox/ToolboxLayout.vue","webpack://aristotle/./src/factories/inputFactory.ts","webpack://aristotle/./src/factories/clockFactory.ts","webpack://aristotle/./src/factories/lightbulbFactory.ts","webpack://aristotle/./src/factories/logicGateFactory.ts","webpack://aristotle/./src/factories/index.ts","webpack://aristotle/./src/containers/Toolbox.vue","webpack://aristotle/./src/components/tab/TabItem.vue","webpack://aristotle/./src/components/tab/TabHost.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeTimeline.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeTitleBar.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeViewer.vue","webpack://aristotle/./src/containers/Oscilloscope.vue","webpack://aristotle/./src/components/statusbar/StatusBarButton.vue","webpack://aristotle/./src/components/statusbar/StatusBarViewer.vue","webpack://aristotle/./src/components/statusbar/StatusBarZoom.vue","webpack://aristotle/./src/containers/StatusBar.vue","webpack://aristotle/./src/menus/submenus/file.ts","webpack://aristotle/./src/menus/submenus/view.ts","webpack://aristotle/./src/menus/index.ts","webpack://aristotle/./src/components/layout/MainView.vue","webpack://aristotle/./src/utils/isMobile.ts","webpack://aristotle/./src/App.vue","webpack://aristotle/./src/main.ts","webpack://aristotle/webpack/bootstrap","webpack://aristotle/webpack/runtime/chunk loaded","webpack://aristotle/webpack/runtime/compat get default export","webpack://aristotle/webpack/runtime/define property getters","webpack://aristotle/webpack/runtime/global","webpack://aristotle/webpack/runtime/hasOwnProperty shorthand","webpack://aristotle/webpack/runtime/make namespace object","webpack://aristotle/webpack/runtime/node module decorator","webpack://aristotle/webpack/runtime/jsonp chunk loading","webpack://aristotle/webpack/startup"],"sourcesContent":["import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, withCtx as _withCtx, createSlots as _createSlots, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { key: 1 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_toolbar = _resolveComponent(\"toolbar\")!\n  const _component_toolbox = _resolveComponent(\"toolbox\")!\n  const _component_tab_item = _resolveComponent(\"tab-item\")!\n  const _component_document = _resolveComponent(\"document\")!\n  const _component_tab_host = _resolveComponent(\"tab-host\")!\n  const _component_oscilloscope = _resolveComponent(\"oscilloscope\")!\n  const _component_status_bar = _resolveComponent(\"status-bar\")!\n  const _component_main_view = _resolveComponent(\"main-view\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"app__dropzone\", {\n      'app__dropzone--active': _ctx.isDropping\n    }])\n    }, null, 2),\n    (_ctx.activeDocumentId && _ctx.activeDocument)\n      ? (_openBlock(), _createBlock(_component_main_view, { key: 0 }, {\n          top: _withCtx(() => [\n            (_ctx.isMobile)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"mobile bar\"))\n              : _createCommentVNode(\"\", true),\n            (_openBlock(), _createBlock(_component_toolbar, {\n              key: _ctx.activeDocumentId,\n              store: _ctx.activeDocument.store\n            }, null, 8, [\"store\"])),\n            _createVNode(_component_toolbox, {\n              store: _ctx.activeDocument.store\n            }, null, 8, [\"store\"])\n          ]),\n          middle: _withCtx(() => [\n            _createVNode(_component_tab_host, null, _createSlots({\n              default: _withCtx(() => [\n                (_openBlock(), _createBlock(_component_document, {\n                  key: _ctx.activeDocumentId,\n                  store: _ctx.activeDocument.store,\n                  onSwitch: _ctx.switchDocument,\n                  onOpenIntegratedCircuit: _ctx.openIntegratedCircuit\n                }, null, 8, [\"store\", \"onSwitch\", \"onOpenIntegratedCircuit\"]))\n              ]),\n              _: 2\n            }, [\n              (!_ctx.isMobile)\n                ? {\n                    name: \"tabs\",\n                    fn: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.documents, (document, id) => {\n                        return (_openBlock(), _createBlock(_component_tab_item, {\n                          key: id,\n                          label: document.displayName,\n                          active: _ctx.activeDocumentId === id,\n                          dirty: document.store().isDirty,\n                          onActivate: ($event: any) => (_ctx.activateDocument(id.toString())),\n                          onClose: ($event: any) => (_ctx.closeDocument(id.toString()))\n                        }, null, 8, [\"label\", \"active\", \"dirty\", \"onActivate\", \"onClose\"]))\n                      }), 128))\n                    ])\n                  }\n                : undefined\n            ]), 1024)\n          ]),\n          bottom: _withCtx(() => [\n            (_openBlock(), _createBlock(_component_oscilloscope, {\n              key: _ctx.activeDocumentId,\n              store: _ctx.activeDocument.store\n            }, null, 8, [\"store\"])),\n            (!_ctx.isMobile)\n              ? (_openBlock(), _createBlock(_component_status_bar, {\n                  key: _ctx.activeDocumentId,\n                  store: _ctx.activeDocument.store,\n                  \"is-fullscreen\": _ctx.isFullscreen,\n                  onFullscreen: _ctx.toggleFullscreen\n                }, null, 8, [\"store\", \"is-fullscreen\", \"onFullscreen\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \" no documents open \" + _toDisplayString(_ctx.isDropping), 1))\n  ], 64))\n}","enum SnapMode {\n  Outer,\n  Inner,\n  Radial,\n  Grid,\n  None\n}\n\nexport default SnapMode\n","import SnapMode from \"@/types/enums/SnapMode\"\n\n/**\n * Rounds x to the nearest n.\n */\nfunction roundToNth (x: number, n: number) {\n  return Math.round(x / n) * n\n}\n\n/**\n * Returns true if a is within the radial distance of b.\n */\nfunction isInNeighborhood (a: Point, b: Point, radius: number): boolean {\n  return Math.hypot(a.x - b.x, a.y - b.y) <= radius\n}\n\n/**\n * Returns the delta of rounding the top-left point of the given bounding box to the nearest distance.\n * This will achieve the effect of \"snapping to grid.\"\n *\n * @param a - the bounding box of the element moving\n * @param distance - the grid size\n */\nfunction getGridSnapPosition (a: BoundingBox, distance: number): Point {\n  return {\n    x: roundToNth(a.left, distance) - a.left,\n    y: roundToNth(a.top, distance) - a.top\n  }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the radial `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getRadialSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n\n    if (isInNeighborhood({ x: b.left, y: b.top }, { x: a.left, y: a.top }, distance)) {\n      return {\n        x: b.left - a.left,\n        y: b.top - a.top\n      }\n    }\n  }\n\n  return { x: 0, y: 0 }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the linear `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getOuterSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  const offset: Point = { x: 0, y: 0 }\n\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n    const ts = Math.abs(b.top - a.bottom) <= distance\n    const bs = Math.abs(b.bottom - a.top) <= distance\n    const ls = Math.abs(b.left - a.right) <= distance\n    const rs = Math.abs(b.right - a.left) <= distance\n\n    if (\n      (a.left <= b.right && a.left >= b.left) ||\n      (a.right >= b.left && a.right <= b.right) ||\n      (a.left <= b.left && a.right >= b.right)\n    ) {\n      // a is within the y-axis boundaries\n      if (ts) offset.y = b.top - a.bottom\n      if (bs) offset.y = b.bottom - a.top\n    }\n\n    if (\n      (a.top <= b.bottom && a.top >= b.top) ||\n      (a.bottom >= b.top && a.bottom <= b.bottom) ||\n      (a.top <= b.top && a.bottom >= b.bottom)\n    ) {\n      // a is within the x-axis boundaries\n      if (ls) offset.x = b.left - a.right\n      if (rs) offset.x = b.right - a.left\n    }\n  }\n\n  return offset\n}\n\nfunction getSnapOffset (boundingBoxes: BoundingBox[], boundingBox: BoundingBox, snapMode: SnapMode, distance: number) {\n  switch (snapMode) {\n    case SnapMode.Radial:\n      return getRadialSnapOffset(boundingBoxes, boundingBox, distance)\n    case SnapMode.Grid:\n      return getGridSnapPosition(boundingBox, distance)\n    case SnapMode.Outer:\n    default:\n      return getOuterSnapOffset(boundingBoxes, boundingBox, distance)\n  }\n}\n\n/**\n * Returns true if line a intersects with line B.\n *\n * @param a1 - first point of a\n * @param a2 - second point of a\n * @param b1 - first point of b\n * @param b2 - second point of b\n */\nfunction hasLinearIntersection (a1: Point, a2: Point, b1: Point, b2: Point): boolean {\n  const ccw = (a: Point, b: Point, c: Point) => {\n    return (c.y-a.y) * (b.x-a.x) > (b.y-a.y) * (c.x-a.x)\n  }\n\n  return ccw(a1, b1, b2) !== ccw(a2, b1, b2) && ccw(a1, a2, b1) !== ccw(a1, a2, b2)\n}\n\n/**\n * Returns true if the overlaps with the given bounding box.\n *\n * @param a1 - first point of the line\n * @param a2 - second point of the line\n * @param boundingBox - the rectange\n */\nfunction isLineIntersectingRectangle (a1: Point, a2: Point, boundingBox: BoundingBox): boolean {\n  const b1 = { x: boundingBox.left, y: boundingBox.top }\n  const b2 = { x: boundingBox.right, y: boundingBox.top }\n  const b3 = { x: boundingBox.right, y: boundingBox.bottom }\n  const b4 = { x: boundingBox.left, y: boundingBox.bottom }\n\n  return hasLinearIntersection(a1, a2, b1, b2)\n    || hasLinearIntersection(a1, a2, b2, b3)\n    || hasLinearIntersection(a1, a2, b3, b4)\n    || hasLinearIntersection(a1, a2, b4, b1)\n}\n\n/**\n * Returns true if a and b intersect.\n *\n * @param a\n * @param b\n * @returns boolean result of intersection\n */\nfunction hasIntersection (a: BoundingBox, b: BoundingBox): boolean {\n  if (a.left >= b.right || b.left >= a.right) {\n    // one rect is on left side of other\n    return false\n  }\n\n  if (a.top >= b.bottom || b.top >= a.bottom) {\n    // one rect is above other\n    return false\n  }\n\n  return true\n}\n\n/**\n * Scales the bounding box by the given scalar.\n *\n * @param box\n * @param scale\n */\nfunction scaleBoundingBox (box: BoundingBox, scale: number): BoundingBox {\n  return {\n    left: box.left * scale,\n    top: box.top * scale,\n    bottom: box.bottom * scale,\n    right: box.right * scale\n  }\n}\n\n/**\n * Returns true if the given bounding box is one- or two-dimensional.\n */\nfunction isOneOrTwoDimensional (box: BoundingBox) {\n  return box.left !== box.right || box.top !== box.bottom\n}\n\n/**\n * Returns a list of one infinitely-horizontal and one infinitely-vertical boundaries.\n *\n * @param point - the point to compute boundaries for\n * @returns list of bounding boxes\n */\nfunction getLinearBoundaries (point: Point): BoundingBox[] {\n  return [\n    {\n      left: point.x,\n      right: point.x,\n      top: -Infinity,\n      bottom: Infinity\n    },\n    {\n      left: -Infinity,\n      right: Infinity,\n      top: point.y,\n      bottom: point.y\n    }\n  ]\n}\n\n/**\n * Returns a point as a boundary.\n *\n * @param point\n * @returns point boundary\n */\nfunction getPointBoundary (point: Point): BoundingBox {\n  return {\n    left: point.x,\n    top: point.y,\n    right: point.x,\n    bottom: point.y\n  }\n}\n\n/**\n * Computes the bounding box of the given item.\n *\n * @param item\n * @returns computed bounding box\n */\nfunction getBoundingBox (position: Point, rotation: number, width: number, height: number): BoundingBox {\n  if (rotation % 2 === 0) {\n    // item is right side up or upside down\n    return {\n      left: position.x,\n      top: position.y,\n      bottom: height + position.y,\n      right: width + position.x\n    }\n  }\n\n  // item is rotated at a 90 degree angle (CW or CCW)\n  const midX = position.x + (width / 2)\n  const midY = position.y + (height / 2)\n\n  return {\n    left: midX - (height / 2),\n    top: midY - (width / 2),\n    right: midX + (height / 2),\n    bottom: midY + (width / 2)\n  }\n}\n\n/**\n * Computes the group bounding box for the given list of bounding boxes.\n *\n * @param boundingBoxes - list of bounding boxes contained\n * @returns computed bounding box\n */\nfunction getGroupBoundingBox (boundingBoxes: BoundingBox[]): BoundingBox {\n  return boundingBoxes.reduce((rect, boundingBox) => ({\n    left: Math.min(rect.left, boundingBox.left),\n    top: Math.min(rect.top, boundingBox.top),\n    right: Math.max(rect.right, boundingBox.right),\n    bottom: Math.max(rect.bottom, boundingBox.bottom)\n  }), {\n    left: Infinity,\n    top: Infinity,\n    right: 0,\n    bottom: 0\n  })\n}\n\n/**\n * Returns the center point of the given bounding box.\n */\nfunction getBoundingBoxMidpoint (boundingBox: BoundingBox): Point {\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n\n  return {\n    x: width / 2,\n    y: height / 2\n  }\n}\n\n/**\n * Given parent and child bounding boxes, determines the screen point (top left) of the child centered in the parent.\n *\n * @param parentBox\n * @param childBox\n * @param factor - any factor to round by\n */\nfunction getCenteredScreenPoint (parentBox: BoundingBox, childBox: BoundingBox, factor: number): Point {\n  const parentMidpoint = getBoundingBoxMidpoint(parentBox)\n  const childWidth = childBox.right - childBox.left\n  const childHeight = childBox.bottom - childBox.top\n\n  return {\n    x: roundToNth(parentMidpoint.x - (childWidth / 2), factor),\n    y: roundToNth(parentMidpoint.y - (childHeight / 2), factor)\n  }\n}\n\n/**\n * Computes the minima or maxima between the given points.\n *\n * @param a\n * @param b\n * @param fn\n */\nfunction getExtremePoint (fn: 'min' | 'max', ...points: Point[]): Point {\n  const x = Math[fn](...points.map(({ x }) => x))\n  const y = Math[fn](...points.map(({ y }) => y))\n\n  return { x, y }\n}\n\nexport default {\n  isInNeighborhood,\n  getRadialSnapOffset,\n  getOuterSnapOffset,\n  getGridSnapPosition,\n  isLineIntersectingRectangle,\n  scaleBoundingBox,\n  isOneOrTwoDimensional,\n  getLinearBoundaries,\n  getPointBoundary,\n  hasIntersection,\n  getBoundingBox,\n  getGroupBoundingBox,\n  getBoundingBoxMidpoint,\n  getCenteredScreenPoint,\n  getSnapOffset,\n  getExtremePoint\n}\n","\nimport ResizeObserver from 'resize-observer-polyfill'\nimport { defineComponent, onMounted, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'Resizable',\n  emits: {\n    resize: (rect: DOMRect) => true\n  },\n  setup (_, { emit }) {\n    const resizable = ref<HTMLElement>()\n\n    /**\n     * Element resize event handler.\n     *\n     * @emits `resize` with the new DOMRect of the element\n     * @param {ResizeObserverEntry[]} targets - target element that has been resized\n     */\n    function onSizeChanged ([ target ]: ResizeObserverEntry[]) {\n      emit('resize', target.target.getBoundingClientRect())\n    }\n\n    const observer = new ResizeObserver(onSizeChanged)\n\n    onMounted(() => {\n      if (resizable.value) {\n        observer.observe(resizable.value)\n      }\n    })\n\n    return {\n      onSizeChanged,\n      resizable\n    }\n  }\n})\n","import { render } from \"./Resizable.vue?vue&type=template&id=0104a38e&ts=true\"\nimport script from \"./Resizable.vue?vue&type=script&lang=ts\"\nexport * from \"./Resizable.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Draggable.vue?vue&type=template&id=2129a8ff&ts=true\"\nimport script from \"./Draggable.vue?vue&type=script&lang=ts\"\nexport * from \"./Draggable.vue?vue&type=script&lang=ts\"\n\nimport \"./Draggable.vue?vue&type=style&index=0&id=2129a8ff&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Wire.vue?vue&type=template&id=3bb5b135&ts=true\"\nimport script from \"./Wire.vue?vue&type=script&lang=ts\"\nexport * from \"./Wire.vue?vue&type=script&lang=ts\"\n\nimport \"./Wire.vue?vue&type=style&index=0&id=3bb5b135&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum Direction {\n  Left = 0,\n  Top,\n  Right,\n  Bottom\n}\n\nexport default Direction\n","import Direction from '@/types/enums/Direction'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nexport default function rotate (rotation: Direction, additional: Direction = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n","import Direction from '@/types/enums/Direction'\nimport rotate from './rotate'\n\nconst WIRE_PADDING = 15\n\n/**\n * Renders the wire geometry for the given source and target ports.\n *\n * @param source\n * @param target\n */\nexport default function renderLayout (source: Port, target: Port): WireGeometry {\n  const a = source.position\n  const b = target.position\n  const { start, end } = getEndpoints(a, b)\n\n  if (start.x === end.x || start.y === end.y || end.x <= 1 && start.x <= 1 || end.y <= 1 && start.y <= 1) {\n    return computeStraightLine(start, end)\n  }\n\n  const sourceDirection = getPortDirection(source, a, b)\n  const targetDirection = getPortDirection(target, a, b)\n\n  return computeBezier(sourceDirection, targetDirection, start, end)\n}\n\n\nexport function computeStraightLine (a: Point, b: Point) {\n  return {\n    path: `M ${a.x},${a.y} L ${b.x},${b.y}`,\n    width: Math.abs(a.x - b.x) + WIRE_PADDING,\n    height: Math.abs(a.y - b.y) + WIRE_PADDING,\n    minX: -(WIRE_PADDING / 2),\n    minY: -(WIRE_PADDING / 2)\n  }\n}\n\n/**\n * Reverses the orientation of a FreePort by 180 degrees, if the dimension on an axis exceeds that of its wire's opposite end.\n * This gives the visual effect of \"pinching the wire\" so that weird, unnecessary curves aren't sticking out of FreePorts.\n *\n * @param {number} direction\n * @returns {number}\n */\nexport function inflectDirection (direction: number, a: Point, b: Point): Direction {\n  switch (direction) {\n    case Direction.Left:\n      return a.y > b.y ? Direction.Right : Direction.Left\n    case Direction.Top:\n      return a.x < b.x ? Direction.Bottom : Direction.Top\n    case Direction.Right:\n      return a.y > b.y ? Direction.Left : Direction.Right\n    case Direction.Bottom:\n      return a.x < b.x ? Direction.Top : Direction.Bottom\n    default:\n      return inflectDirection(rotate(direction), a, b) // normalize direction to [0,3] and try again\n  }\n}\n\n/**\n * Returns the wire direction for a given port.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {number}\n */\nexport function getPortDirection (port: Port, a: Point, b: Point) {\n  // the true direction needs to take into account inherent orientation + its rotation\n  // bezier index directions are one integer off (see computeBezier()) -- subtract by 1\n  let direction = rotate(port.orientation + port.rotation - 1)\n\n  if (port.isFreeport) {\n    // inflect direction for FreePorts to give the \"pinched\" appearance when dragged out of range\n    direction = inflectDirection(direction, a, b)\n\n    if (port.rotation % 4 === 1 || port.rotation % 4 === 2) {\n      direction = rotate(direction - 2)\n    }\n  }\n\n  return direction\n}\n\n/**\n * Updates the source and target endpoints such that the start and end are true.\n * This prevents translations or rotations from \"swapping\" the start and end points.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {object<{ start: Point, end: Point }>}\n */\nexport function getEndpoints (a: Point, b: Point): { start: Point, end: Point } {\n  if (a.x <= b.x) {\n    if (a.y <= b.y) {\n      // top left (a) to bottom right (b)\n      return {\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: Math.floor(b.x - a.x),\n          y: Math.floor(b.y - a.y)\n        }\n      }\n    }\n    // bottom left (a) to top right (b)\n    return {\n      start: {\n        x: 0,\n        y: Math.floor(a.y - b.y)\n      },\n      end: {\n        x: Math.floor(b.x - a.x),\n        y: 0\n      }\n    }\n  }\n\n  if (a.y <= b.y) {\n    // bottom left (b) to top right (a)\n    return {\n      start: {\n        x: Math.floor(a.x - b.x),\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: Math.floor(b.y - a.y)\n      }\n    }\n  }\n\n  // top left (b) to bottom right (a)\n  return {\n    start: {\n      x: Math.floor(a.x - b.x),\n      y: Math.floor(a.y - b.y)\n    },\n    end: {\n      x: 0,\n      y: 0\n    }\n  }\n}\n\n/**\n * Computes a Bezier SVG curve path with respect to given source and target directions and positions.\n *\n * @param {number} sourceDirection - the direction that the source is pointing to\n * @param {number} targetDirection - the direction that the target is pointing from\n * @param {Point} start - the source port position\n * @param {Point} end - the target port position\n */\nexport function computeBezier (sourceDirection: number, targetDirection: number, start: Point, end: Point): WireGeometry {\n  const x1 = start.x\n  const y1 = start.y\n  const x4 = end.x\n  const y4 = end.y\n\n  // TODO: change dx/dy to be more user-friendly\n  const dx = Math.max(Math.abs(x1 - x4) / 2, 10)\n  const dy = Math.max(Math.abs(y1 - y4) / 2, 10)\n\n  const x2 = [x1, x1 + dx, x1, x1 - dx][sourceDirection].toFixed(3)\n  const y2 = [y1 - dy, y1, y1 + dy, y1][sourceDirection].toFixed(3)\n  const x3 = [x4, x4 + dx, x4, x4 - dx][targetDirection].toFixed(3)\n  const y3 = [y4 - dy, y4, y4 + dy, y4][targetDirection].toFixed(3)\n\n  const path = [\n    'M', x1.toFixed(3), y1.toFixed(3),\n    'C', x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)\n  ].join(' ')\n\n  const toNumArr = (...n: Array<string | number>) => n.map(k => parseInt(k.toString(), 10))\n\n  const minX = Math.min(...toNumArr(x1, x2, x3, x4)) - WIRE_PADDING / 2\n  const maxX = Math.max(...toNumArr(x1, x2, x3, x4)) + WIRE_PADDING / 2\n  const minY = Math.min(...toNumArr(y1, y2, y3, y4)) - WIRE_PADDING / 2\n  const maxY = Math.max(...toNumArr(y1, y2, y3, y4)) + WIRE_PADDING / 2\n\n  const width = maxX - minX + WIRE_PADDING\n  const height = maxY - minY + WIRE_PADDING\n\n  return { width, height, path, minX, minY }\n}\n","import { render } from \"./Connection.vue?vue&type=template&id=61dbc042&ts=true\"\nimport script from \"./Connection.vue?vue&type=script&lang=ts\"\nexport * from \"./Connection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Freeport.vue?vue&type=template&id=5e8c7cdc&ts=true\"\nimport script from \"./Freeport.vue?vue&type=script&lang=ts\"\nexport * from \"./Freeport.vue?vue&type=script&lang=ts\"\n\nimport \"./Freeport.vue?vue&type=style&index=0&id=5e8c7cdc&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InputNode.vue?vue&type=template&id=653554b3&ts=true\"\nimport script from \"./InputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./InputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./InputNode.vue?vue&type=style&index=0&id=653554b3&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./IntegratedCircuit.vue?vue&type=template&id=072f46ee&ts=true\"\nimport script from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\n\nimport \"./IntegratedCircuit.vue?vue&type=style&index=0&id=072f46ee&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./And.vue?vue&type=template&id=451c19e4&ts=true\"\nimport script from \"./And.vue?vue&type=script&lang=ts\"\nexport * from \"./And.vue?vue&type=script&lang=ts\"\n\nimport \"./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Or.vue?vue&type=template&id=4e6eb8f2&ts=true\"\nimport script from \"./Or.vue?vue&type=script&lang=ts\"\nexport * from \"./Or.vue?vue&type=script&lang=ts\"\n\nimport \"./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nor.vue?vue&type=template&id=7803c0c0&ts=true\"\nimport script from \"./Nor.vue?vue&type=script&lang=ts\"\nexport * from \"./Nor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nand.vue?vue&type=template&id=1bef5bae&ts=true\"\nimport script from \"./Nand.vue?vue&type=script&lang=ts\"\nexport * from \"./Nand.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xnor.vue?vue&type=template&id=3e58dbce&ts=true\"\nimport script from \"./Xnor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xnor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xor.vue?vue&type=template&id=2e4c44f6&ts=true\"\nimport script from \"./Xor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LogicGate.vue?vue&type=template&id=4853bdc0&ts=true\"\nimport script from \"./LogicGate.vue?vue&type=script&lang=ts\"\nexport * from \"./LogicGate.vue?vue&type=script&lang=ts\"\n\nimport \"./LogicGate.vue?vue&type=style&index=0&id=4853bdc0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OutputNode.vue?vue&type=template&id=38254202&ts=true\"\nimport script from \"./OutputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./OutputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./OutputNode.vue?vue&type=style&index=0&id=38254202&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CircuitComponent.vue?vue&type=template&id=019043e1&ts=true\"\nimport script from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./CircuitComponent.vue?vue&type=style&index=0&id=019043e1&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=0ac03fe7&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=0ac03fe7&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortHandle.vue?vue&type=template&id=874b4b32&ts=true\"\nimport script from \"./PortHandle.vue?vue&type=script&lang=ts\"\nexport * from \"./PortHandle.vue?vue&type=script&lang=ts\"\n\nimport \"./PortHandle.vue?vue&type=style&index=0&id=874b4b32&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortPivot.vue?vue&type=template&id=5d35e0ac&ts=true\"\nimport script from \"./PortPivot.vue?vue&type=script&lang=ts\"\nexport * from \"./PortPivot.vue?vue&type=script&lang=ts\"\n\nimport \"./PortPivot.vue?vue&type=style&index=0&id=5d35e0ac&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum PortType {\n  Output = 0,\n  Input\n}\n\nexport default PortType\n","import { render } from \"./PortItem.vue?vue&type=template&id=4fc7404c&ts=true\"\nimport script from \"./PortItem.vue?vue&type=script&lang=ts\"\nexport * from \"./PortItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum ItemType {\n  Buffer = 'Buffer',\n  CircuitNode = 'CircuitNode',\n  Freeport = 'Freeport',\n  InputNode = 'InputNode',\n  IntegratedCircuit = 'IntegratedCircuit',\n  LogicGate = 'LogicGate',\n  OutputNode = 'OutputNode'\n}\n\nexport default ItemType\n","enum ItemSubtype {\n  None = 'None',\n\n  /* input nodes */\n  Switch = 'Switch',\n  PushButton = 'PushButton',\n  Clock = 'Clock',\n\n  /* output nodes */\n  Lightbulb = 'Lightbulb',\n\n  /* buffers */\n  Buffer = 'Buffer',\n  Not = 'Not',\n\n  /* tri-state */\n  Tristate = 'Tristate',\n\n  /* logic gates */\n  And = 'And',\n  Or = 'Or',\n  Nand = 'Nand',\n  Nor = 'Nor',\n  Xnor = 'Xnor',\n  Xor = 'Xor'\n}\n\nexport default ItemSubtype\n","import { render } from \"./Item.vue?vue&type=template&id=0402671b&ts=true\"\nimport script from \"./Item.vue?vue&type=script&lang=ts\"\nexport * from \"./Item.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Selector.vue?vue&type=template&id=52db8e2a&ts=true\"\nimport script from \"./Selector.vue?vue&type=script&lang=ts\"\nexport * from \"./Selector.vue?vue&type=script&lang=ts\"\n\nimport \"./Selector.vue?vue&type=style&index=0&id=52db8e2a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Editor.vue?vue&type=template&id=0a4bbc73&ts=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=0a4bbc73&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=2e6e8258&ts=true\"\nimport script from \"./Group.vue?vue&type=script&lang=ts\"\nexport * from \"./Group.vue?vue&type=script&lang=ts\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=2e6e8258&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function edit (useDocumentStore: DocumentStore, submenus: MenuItemConstructorOptions[] = []): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  let menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Undo',\n      enabled: store.canUndo,\n      accelerator: 'CommandOrControl+Z',\n      click: store.undo\n    },\n    { type: 'separator' },\n    {\n      role: 'cut',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'copy',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'paste',\n      enabled: store.hasSelection\n    },\n    {\n      label: 'Delete',\n      accelerator: 'Delete',\n      enabled: store.hasSelection,\n      click: store.deleteSelection\n    },\n    { type: 'separator' },\n    {\n      role: 'selectAll',\n      enabled: store.baseItems.length > 0\n    }\n  ]\n\n  if (store.selectedItemIds.length > 0) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Rotate',\n      submenu: [\n        {\n          label: 'Rotate 90° &CW',\n          accelerator: 'CmdOrCtrl+R',\n          click: () => store.rotate(1)\n        },\n        {\n          label: 'Rotate 90° CC&W',\n          accelerator: 'CmdOrCtrl+Shift+R',\n          click: () => store.rotate(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.hasSelection) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Bring to Front',\n      submenu: [\n        {\n          label: '&Bring to Front',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Bring &Forward',\n          click: () => store.incrementZIndex(1)\n        }\n      ]\n    })\n    menu.push({\n      label: '&Send to Back',\n      submenu: [\n        {\n          label: '&Send to Back',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Send &Backward',\n          click: () => store.incrementZIndex(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.canGroup) {\n    menu.push({\n      label: '&Group',\n      submenu: [\n        { label: '&Group' },\n        {\n          label: '&Ungroup',\n          enabled: store.canUngroup\n        }\n      ]\n    })\n  }\n\n  if (submenus.length > 0) {\n    menu.push({ type: 'separator' })\n    menu = menu.concat(submenus)\n  }\n\n  if (store.selectedItemIds.length === 1) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Item Properties'\n    })\n  }\n\n  if (store.activePortId) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      type: 'checkbox',\n      label: 'Show in &Oscilloscope',\n      checked: true\n    })\n  }\n\n  return menu\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function grid (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  return [\n    {\n      label: '&Grid',\n      submenu: [\n        {\n          label: '&Show grid'\n        },\n        { type: 'separator' },\n        { label: 'Snap to &grid' },\n        { label: 'Snap to &elements' }\n      ]\n    }\n  ]\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport { DocumentStore } from '@/store/document'\nimport edit from '../submenus/edit'\nimport grid from '../submenus/grid'\n\nexport default function editor (store: DocumentStore): MenuItemConstructorOptions[] {\n  return edit(store, grid(store).concat({ type: 'separator' }))\n}\n","import domToImage from 'dom-to-image'\n\n/**\n * Renders a printer-friendly HTML DOM clone of the given editor element.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n * @param padding - number of pixels to use as surrounding padding\n */\nfunction createPrintArea (zoom: number, editor: HTMLElement, boundingBox: BoundingBox, padding: number, className: string = 'printer-friendly') {\n  const printArea = editor.cloneNode(true) as HTMLElement\n  const width = boundingBox.right - boundingBox.left + (padding * 2)\n  const height = boundingBox.bottom - boundingBox.top + (padding * 2)\n\n  for (let i = 0; i < printArea.children.length; i++) {\n    const child = printArea.children[i] as HTMLElement\n    const left = parseInt(child.style.left.replace('px', ''), 10) + padding\n    const top = parseInt(child.style.top.replace('px', ''), 10) + padding\n\n    child.style.left = `${(left - boundingBox.left)}px`\n    child.style.top = `${(top - boundingBox.top)}px`\n  }\n\n  printArea.style['zoom' as any] = zoom.toString()\n  printArea.style.width = `${width}px`\n  printArea.style.height = `${height}px`\n  printArea.style.position = 'relative'\n  printArea.style.top = '0'\n  printArea.style.left = '0'\n  printArea.style.background = 'none'\n\n  if (className) {\n    printArea.classList.add(className)\n  }\n\n  return { printArea, width, height }\n}\n\n/**\n * Renders a hidden iframe on the page for printing.\n *\n * @param image - the image to print\n * @param pageSize - list of [width, height] dimensions, in inches\n */\nfunction createPrintFrame (image: HTMLImageElement, pageSize: number[]) {\n  const iframe = document.createElement('iframe')\n\n  iframe.name = 'print'\n  iframe.style.width = '1px'\n  iframe.style.height = '1px'\n  iframe.style.opacity = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.top = '0px'\n  iframe.style.left = '0px'\n\n  document.body.appendChild(iframe)\n\n  const printFrame = iframe.contentWindow\n\n  if (printFrame) {\n    const styleTag = document.createElement('style')\n\n    styleTag.appendChild(document.createTextNode(`\n      @page {\n        size: ${pageSize.map(s => `${s}in`).join(' ')};\n        margin: 0in;\n      }\n    `))\n\n    printFrame.document.head.append(styleTag)\n    printFrame.document.body.appendChild(image)\n  }\n\n  return iframe\n}\n\n/**\n * Renders a binary PNG screenshot of the given HTML element.\n *\n * @param printArea\n */\nasync function createImage<T extends string | Blob> (printArea: HTMLElement, fn: 'toBlob' | 'toPng') {\n  document.body.appendChild(printArea)\n\n  const dataUrl = await domToImage[fn](printArea) as T\n\n  printArea.remove()\n\n  return dataUrl\n}\n\n/**\n * Prints (using a physical printer) the contents of the given window.\n */\nasync function printWindow (win: Window | null) {\n  return new Promise<void>(resolve => {\n    setTimeout(() => {\n      if (!win) return resolve()\n\n      win.addEventListener('afterprint', () => resolve())\n      win.print()\n    })\n  })\n}\n\n/**\n * Prints (using a physical printer) the editor.\n * The version printed will be rendered as a printer-friendly (read: ink-friendly) screenshot of the given editor.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n */\nasync function printImage (zoom: number, editor: HTMLElement, boundingBox: BoundingBox) {\n  const { printArea, width, height } = createPrintArea(1 / zoom, editor, boundingBox, 20)\n  const dataUrl = await printing.createImage<string>(printArea, 'toPng')\n  const pageSize = [8.5, 11] // inches\n  const minSize = Math.min(...pageSize) * 96 // pixels\n  const maxSize = Math.max(...pageSize) * 96 // pixels\n  const image = new Image()\n\n  let percent = 1 // percentage to resize the image by (to fit printable window area)\n\n  image.src = dataUrl as string\n\n  if (width > minSize || width > maxSize || height > minSize || height > maxSize) {\n    // make the image print in either landscape or portrait, whichever fits better\n    const isLandscape = width > height\n\n    // if the image exceeds one of the dimensions, resize it in ratio to match the dimension\n    percent = isLandscape\n      ? maxSize / width\n      : maxSize / height\n\n    if (isLandscape) {\n      pageSize.reverse()\n    }\n  }\n\n  image.style.width = `${Math.floor(width * percent)}px`\n  image.style.height = `${Math.floor(height * percent)}px`\n\n  const iframe = printing.createPrintFrame(image, pageSize)\n\n  await printing.printWindow(iframe?.contentWindow)\n\n  iframe?.remove()\n}\n\nconst printing = {\n  createPrintArea,\n  createPrintFrame,\n  createImage,\n  printImage,\n  printWindow\n}\n\nexport default printing\n","import CircuitNode from '../base/CircuitNode'\n\nclass Connection {\n  node: CircuitNode\n  id: string\n\n  constructor (node: CircuitNode, id: string) {\n    this.node = node\n    this.id = id\n  }\n}\n\nexport default Connection\n","const LogicValue = {\n  TRUE: 1,\n  FALSE: -1,\n  UNKNOWN: 0\n}\n\nexport default LogicValue\n","import Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\n\nclass CircuitNode {\n  /**\n   * Incoming values, to be used for calculation of the node's state.\n   *\n   * @type {Array<LogicValue>}\n   */\n  public inputValues: { [id: string]: number } = {}\n\n  /**\n   * List of outgoing connections.\n   *\n   * @type {Array<Connection>}\n   */\n  public outputs: Array<Connection> = []\n\n  /**\n   * Set to true if the value of the node has changed since last circuit evaluation.\n   *\n   * @type {Boolean}\n   */\n  public isValueChanged: boolean = true\n\n  /**\n   * Set to true to have the debugger continue regardless of whether this node changed or not.\n   *\n   * @type {Boolean}\n   */\n  public forceContinue: boolean = false\n\n  /**\n   * Name of the node.\n   *\n   * @type {String}\n   */\n  public name: string\n\n  /**\n   * Current value of the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public value: number = LogicValue.UNKNOWN\n\n  /**\n   * Next value for the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public newValue: number = LogicValue.UNKNOWN\n\n  /**\n   * List of dictionaries containing event types and their respective callbacks.\n   * Used for the invocation of event listeners when their respective events are fired.\n   *\n   * @type {Array<Object>}\n   */\n  public events: Array<{ eventType: string, callback: Function }> = []\n\n  /**\n   * Constructor.\n   *\n   * @param {String} name - name of the node\n   * @param {Number} [inputIds = []] - ids for each input port\n   */\n  constructor (name: string, inputIds: string[] = []) {\n    this.name = name\n    this.inputValues = inputIds.reduce((map, id) => ({\n      ...map,\n      [id]: LogicValue.UNKNOWN\n    }), {})\n  }\n\n  /**\n   * Updates the node's value to be static having the given value.\n   *\n   * @param {LogicValue} value\n   */\n  public setValue = (value: number): void => {\n    this.newValue = value\n  }\n\n  /**\n   * Invokes the registered events having the given `eventType`.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {LogicValue} value\n   */\n  public invokeEvent = (eventType: string, value: number): void => {\n    this.events.forEach((event) => {\n      if (event.eventType === eventType) {\n        event.callback(value)\n      }\n    })\n  }\n\n  /**\n   * Evaluates the node. Default behavior returns the current value.\n   *\n   * @returns {LogicValue}\n   */\n  public eval = (): number => {\n    return this.value\n  }\n\n  /**\n   * Calculates how many input values equal the given comparison value.\n   *\n   * @param {LogicValue} compare - value to get count of\n   * @returns {Number}\n   */\n  public valueCount = (compare: number): number => {\n    return Object\n      .values(this.inputValues)\n      .filter((value) => value === compare)\n      .length\n  }\n\n  /**\n   * Updates all outgoing connected nodes with the given value.\n   *\n   * @param {LogicValue} newValue - new value to output to the nodes\n   */\n  public updateOutputs = (newValue: number): void => {\n    this.outputs.forEach(({ node, id }: Connection) => {\n      node.update(newValue, id)\n    })\n  }\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @param {LogicValue} value - new value\n   * @param {Number} id - source port id\n   */\n  public update = (value: number, id: string): void => {\n    this.inputValues[id] = value\n    this.newValue = this.eval()\n  }\n\n  /**\n   * Propagates a signal, if the value of the node has changed.\n   *\n   * @returns {CircuitNodes[]} queue of all resulting nodes to be evaluated in the next state\n   */\n  public propagate = (): Array<CircuitNode> => {\n    let queue: CircuitNode[] = []\n\n    if (this.value !== this.newValue) {\n      this.isValueChanged = true\n      this.value = this.newValue\n      this.updateOutputs(this.newValue)\n      this.invokeEvent('change', this.newValue)\n\n      this\n        .outputs\n        .forEach(({ node }) => {\n          if (node.forceContinue) {\n            // if this node is forced to continue propagation, enqueue its result\n            queue = queue.concat(node.propagate())\n          } else {\n            // otherwise, just enqueue the node itself\n            queue.push(node)\n          }\n        })\n    }\n\n    return queue\n  }\n\n  /**\n   * Resets the value and subsequent value of the node with Hi-Z.\n   */\n  public reset = (): void => {\n    this.value = LogicValue.UNKNOWN\n    this.newValue = LogicValue.UNKNOWN\n    this.invokeEvent('change', this.newValue)\n  }\n\n  /**\n   * Registers an event listener.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {Function} callback - method to invoke on event\n   */\n  public on = (eventType: string, callback: Function): void => {\n    this.events.push({ eventType, callback })\n  }\n\n  /**\n   * Returns the value of the node next time the circuit is evaluated.\n   *\n   * @returns {Number}\n   */\n  public getProjectedValue = (): number => {\n    return this.eval() || this.newValue || this.value\n  }\n}\n\n\nexport default CircuitNode\n","import CircuitNode from './CircuitNode'\n\nclass InputNode extends CircuitNode {\n  /**\n   * Resets the node.\n   *\n   * @override CircuitNode.reset\n   */\n  public reset = (): void => {\n    // do nothing\n  }\n}\n\nexport default InputNode\n","import CircuitNode from './CircuitNode'\n\nclass OutputNode extends CircuitNode {\n  /**\n   * Updates the value of the node.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value\n   */\n  public update = (value: number): void => {\n    if (this.newValue !== value) {\n      this.newValue = value\n      this.invokeEvent('change', value)\n    }\n  }\n}\n\nexport default OutputNode\n","import CircuitNode from '../base/CircuitNode'\nimport Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\nimport InputNode from './InputNode'\nimport OutputNode from './OutputNode'\n\nclass Circuit {\n  /**\n   * The debugger processing queue.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public queue: Array<CircuitNode> = []\n\n  /**\n   * A list of all the nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public nodes: Array<CircuitNode> = []\n\n  /**\n   * A list of all input nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public inputNodes: Array<InputNode> = []\n\n  /**\n   * Adds a node to the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to add\n   */\n  public addNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      this.inputNodes.push(node)\n      this.enqueue(node)\n    }\n    this.nodes.push(node)\n  }\n\n  /**\n   * Removes a node from the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to remove\n   */\n  public removeNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      const inputIndex = this.inputNodes.findIndex(({ name }) => name === node.name)\n\n      if (inputIndex !== -1) {\n        this.inputNodes.splice(inputIndex, 1)\n      }\n      // this.reset() // TODO: why?\n    }\n\n    const index = this.nodes.findIndex(({ name }) => name === node.name)\n\n    if (index !== -1) {\n      this.removeNodeOutputs(node)\n      this.nodes.splice(index, 1)\n    }\n\n    this.next()\n  }\n\n  /**\n   * Adds a connection entry from the source node to the target node on the given index.\n   *\n   * @param {CircuitNode} source - source node\n   * @param {CircuitNode} target - target node\n   * @param {Number} targetId - entry port id on the target node for the connection\n   */\n  public addConnection = (source: CircuitNode, target: CircuitNode, targetId: string): void => {\n    source.outputs.push(new Connection(target, targetId))\n    source.value = LogicValue.UNKNOWN\n    this.enqueue(source)\n  }\n\n  /**\n   * Removes the connection on the source node at the source index and the connection at its target node.\n   * The input value at the target index will be reset to Hi-Z.\n   *\n   * @param {CircuitNode} sourceNode - source node to disconnect\n   * @param {CircuitNode} targetNode - target node to disconnect\n   */\n  public removeConnection = (sourceNode: CircuitNode, targetNode: CircuitNode): void => {\n    sourceNode\n      .outputs\n      .concat()\n      .forEach(({ node, id }: Connection, i: number) => {\n        if (targetNode === node) {\n          // reset the input of the target for this connection to hi-Z\n          targetNode.update(LogicValue.UNKNOWN, id)\n\n          // remove the output entry at the source\n          sourceNode.outputs.splice(i, 1)\n\n          // place the target node in the queue for processing\n          this.enqueue(targetNode)\n        }\n      })\n  }\n\n  /**\n   * Removes all connections from the given source node.\n   *\n   * @param {CircuitNode} source\n   */\n  removeNodeOutputs = (source: CircuitNode): void => {\n    for (let i: number = 0; i < source.outputs.length; i++) {\n      this.removeConnection(source, source.outputs[i].node)\n    }\n  }\n\n  /**\n   * Appends the given node(s) to the processing queue.\n   *\n   * @param {...CircuitNode} added - node(s) to add to the queue\n   */\n  public enqueue = (...added: CircuitNode[]): void => {\n    added.forEach((node) => {\n      if (!~this.queue.indexOf(node)) {\n        this.queue.push(node)\n      }\n    })\n  }\n\n  /**\n   * Removes the given node from the processing queue.\n   *\n   * @param {CircuitNode} removed - node to remove from the queue\n   */\n  public dequeue = (removed: CircuitNode): void => {\n    const removedIndex = this.queue.indexOf(removed)\n\n    if (~removedIndex) {\n      this.queue.splice(removedIndex, 1)\n    }\n  }\n\n  /**\n   * Resets the circuit.\n   */\n  public reset = (): void => {\n    this.nodes.forEach((node) => node.reset())\n  }\n\n  /**\n   * Advances the circuit simulation one step. If none of the node values have changed,\n   * it continues stepping through until either a value changes or the queue is empty.\n   */\n  public next = (): void => {\n    let isValueChanged = false\n    let localQueue: CircuitNode[] = []\n\n    while (this.queue.length > 0) {\n      const node = this.queue.shift()\n\n      if (!node) continue\n\n      localQueue = localQueue.concat(node.propagate())\n\n      this.dequeue(node)\n\n      if (node.isValueChanged) {\n        isValueChanged = true\n      }\n\n      if (node.forceContinue) {\n        this.enqueue(...localQueue)\n        localQueue = []\n      }\n    }\n\n    if (isValueChanged) {\n      this.enqueue(...localQueue)\n    }\n  }\n\n  /**\n   * Returns true when the queue is finished processing.\n   *\n   * @returns {Boolean}\n   */\n  public isComplete = (): boolean => {\n    let isComplete = true\n\n    if (this.queue.length === 0) {\n      return true\n    }\n\n    this.queue.forEach(node => {\n      const nextValue = node.getProjectedValue()\n\n      if (nextValue !== node.value && !(node instanceof OutputNode)) {\n        isComplete = false\n      }\n    })\n\n    if (isComplete) {\n      this.queue = []\n    }\n\n    return isComplete\n  }\n}\n\nexport default Circuit\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nor extends CircuitNode {\n  public eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.FALSE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.TRUE\n  }\n}\n\nexport default Nor\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Buffer extends CircuitNode {\n  public forceContinue: boolean = true\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value - new value\n   * @param {Number} index - source index\n   */\n  public update = (value: number): void => {\n    const id = Object\n      .keys(this.inputValues)\n      .pop()\n\n    if (id) {\n      this.inputValues[id] = value\n      this.newValue = this.eval()\n    }\n  }\n\n  public eval = (): number => {\n    return Object.values(this.inputValues).pop() || LogicValue.UNKNOWN\n  }\n}\n\nexport default Buffer\n","import { LogicValue } from '@/circuit'\n\n/**\n * @class BinaryWaveService\n * @description this service provides functionality for a graphical illustration of a wave in the oscilloscope.\n * Instances of these waves are the values of the active oscillogram.\n */\nexport default class BinaryWaveService implements Pulse {\n  /** Wave ID. */\n  public id: string\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Width (in pixels) of the wave. */\n  public width: number = 0\n\n  /** The y value for the last segment. */\n  private lastY: number = 0\n\n  /** Cartesian point values for each pixel segment. */\n  public segments: Point[] = []\n\n  /** Hue color value for the wave. */\n  public hue: number = 0\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param signal - current signal value to initialize at\n   * @param hue - color value for the wave\n   */\n  constructor (id: string, name: string, signal: number, hue: number) {\n    this.id = id\n    this.name = name\n    this.hue = hue\n    this.initialize(signal)\n  }\n\n  /**\n   * Creates an initial segment based on the given signal.\n   *\n   * @param signal\n   */\n  public initialize = (signal: number) => {\n    const segment = { x: 1, y: 1 }\n\n    if (signal === 1) {\n      segment.y = 0 // draw a vertical line from 0 up to 1\n      this.lastY = 1\n    } else {\n      segment.y = 1 // draw a vertical line from 1 down to 0\n      this.lastY = 0\n    }\n\n    this.addSegment(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Clears out the existing wave data.\n   */\n  public reset = () => {\n    this.segments = []\n    this.width = 0\n    this.initialize(this.lastY === 1 ? 0 : 1)\n  }\n\n  /**\n   * Periodic update function.\n   *\n   * @param elapsed - (no value necessary)\n   */\n  public update = (elapsed: number): void => {\n    this.drawPulseConstant()\n  }\n\n  /**\n   * Adds a new segment.\n   * This will correct for any mismatches between the segment and the previous one (if any).\n   *\n   * @param segment - new segment to add\n   */\n  addSegment = (segment: Point) => {\n    const previous = this.segments[this.segments.length - 1]\n\n    if (!previous && segment.x > 0) {\n      this.segments.push({ x: 0, y: segment.y })\n    } else if (previous && previous.x !== segment.x && previous.y !== segment.y) {\n      // if a previous segment exists, and both its x and y values mismatch, then remove it\n      this.segments.pop()\n    }\n\n    this.segments.push(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Draws the next segment of the wave with an inverted signal line.\n   *\n   * @param signal - incoming signal change value\n   */\n  drawPulseChange = (signal: number) => {\n    const { x } = this.segments[this.segments.length - 1]\n    const y = signal === LogicValue.TRUE ? 0 : 1\n\n    this.updateWidth()\n    this.addSegment({ x, y })\n  }\n\n  /**\n   * Draws the next segment of the wave, continued from the current signal line.\n   */\n  drawPulseConstant = () => {\n    const previous = this.segments[this.segments.length - 1]\n    // if the y value from the previous segment is unchanged, just extend its x value\n    const pos = this.lastY !== previous.y\n      ? previous\n      : this.segments.pop()\n\n\n    if (pos) {\n      this.updateWidth()\n      this.addSegment({\n        x: pos.x + 1,\n        y: pos.y\n      })\n    }\n    this.lastY = previous.y\n  }\n\n  /**\n   * Truncates the wave from the back such that the resulting wave is no wider than the given value.\n   *\n   * @param widthToKeep - the width, in pixels, to keep from the wave\n   */\n  truncateSegments = (widthToKeep: number) => {\n    if (widthToKeep > this.width) {\n      return\n    }\n\n    const widthToTruncate = this.width - widthToKeep\n\n    let deltaX = 0\n\n    for (let i = 0; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      if (x > widthToTruncate) {\n        deltaX = x - widthToTruncate\n\n        this.segments.splice(0, i)\n        this.segments.unshift({ x: 0, y })\n\n        break\n      }\n    }\n\n    for (let i = 1; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      this.segments[i] = {\n        x: x - widthToTruncate,\n        y\n      }\n    }\n\n    this.updateWidth()\n  }\n\n  updateWidth = () => {\n    this.width = this.segments.slice(-1)[0]?.x || 0\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * @class ClockService\n * @description This provides an oscillating clock wave. It oscillates between TRUE and FALSE.\n */\nexport default class ClockService implements Pulse {\n  /** Wave ID. */\n  public id: string = uuid()\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Current signal value. */\n  public signal: number = 0\n\n  /** Last update time, in milliseconds. */\n  private lastUpdate: number\n\n  /** Interval, in milliseconds, to oscillate at. */\n  private interval: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param interval - time, in milliseconds, to oscillate at\n   * @param signal - current signal value to initialize at\n   */\n  constructor (name: string, interval: number, signal: number) {\n    this.name = name\n    this.signal = signal\n    this.interval = interval\n    this.lastUpdate = -interval\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (signal: number) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Updates all waves with the given time elapsed.\n   *\n   * @param elapsed - time elapsed during simulation\n   */\n  public update = (elapsed: number): void => {\n    if (elapsed >= this.lastUpdate + this.interval) {\n      this.signal = this.signal === -1 ? 1 : -1\n      this.lastUpdate = elapsed\n      this.emitter.emit('change', this.signal)\n    }\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\n\n/**\n * @class OscillationService\n * @description Manages all oscillating services, including binary waves and clock pulses.\n * This service uses system time to determine proper sequencing and updating.\n */\nexport default class OscillationService {\n  /** Whether or not the oscillator is paused. */\n  public isPaused: boolean = true\n\n  /** Key-value pair of all waves. */\n  public waves: Record<string, Pulse> = {}\n\n  /** The refresh rate for the oscilloscope. */\n  public refreshRate: number = 20 // TODO: this can be configured to make the waves wider/oscilloscope run faster\n\n  /** The last time the oscillator was updated, in milliseconds. */\n  public lastUpdateTime: number = Date.now()\n\n  /** Elapsed total time, in milliseconds. */\n  public timeMsElapsed: number = 0\n\n  /** Offset wave time, in milliseconds. */\n  public timeMsOffset: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Starts the oscillator.\n   */\n  start = () => {\n    if (!this.isPaused) return\n\n    // this is the time that has elapsed prior to the completion of a full period\n    // when the oscillator is stopped, we want to maintain the time progressed before the next period\n    const remainingPeriodTime = this.lastUpdateTime % this.refreshRate\n\n    this.lastUpdateTime = Date.now() + remainingPeriodTime\n    this.isPaused = false\n    this.tick()\n  }\n\n  /**\n   * Stops the oscillator.\n   */\n  stop = () => {\n    this.isPaused = true\n  }\n\n  /**\n   * Clears all current binary wave geometries.\n   */\n  clear = () => {\n    Object\n      .values(this.waves)\n      .forEach(wave => {\n        if (wave instanceof BinaryWaveService) {\n          (wave as BinaryWaveService).reset()\n        }\n      })\n  }\n\n  /**\n   * Computes the SVG points for each given binary wave.\n   *\n   * @param waves\n   * @returns oscillogram result\n   */\n  computeWaveGeometry = (waves: Record<string, Pulse>) => {\n    const displays: Oscillogram = {}\n    const getPoints = (segments: Point[]) => segments.map(({ x, y }) => `${x},${y}`)\n\n    for (const name in waves) {\n      if (waves[name] instanceof BinaryWaveService) {\n        const wave = waves[name] as BinaryWaveService\n        const points = getPoints(wave.segments)\n\n        displays[name] = {\n          points: points.join(' '),\n          width: wave.width,\n          hue: wave.hue\n        }\n      }\n    }\n\n    return displays\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Broadcasts the oscillogram.\n   *\n   * @emits change containing the oscillogram data\n   */\n  broadcast = () => {\n    // set the max history to be twice the size of the user's screen, then cut half of it when it is exceeded\n    const screenWidth = window.screen.width\n    const widthOfOneSecond = 1000 / this.refreshRate\n    const maxHistorySeconds = screenWidth / widthOfOneSecond\n\n    if (this.timeMsElapsed >= this.timeMsOffset + ((maxHistorySeconds / 2) * 1000)) {\n      this.timeMsOffset = this.timeMsElapsed\n\n      Object\n        .values(this.waves)\n        .forEach((wave: Pulse) => {\n          if (wave instanceof BinaryWaveService) {\n            wave.truncateSegments(screenWidth)\n          }\n        })\n    }\n\n    this.emitter.emit('change', this.computeWaveGeometry(this.waves))\n  }\n\n  /**\n   * Triggers all oscillation update events.\n   */\n  tick = (): void => {\n    if (this.isPaused) return\n\n    const now = Date.now()\n    const MAX_IDLE_TIME = 10000 // 10 seconds\n    let hasUpdated = false\n\n    if (now >= this.lastUpdateTime + MAX_IDLE_TIME) {\n      // if the oscilloscope has been idle for a while, then re-start it rather than try to catch up to the current time\n      this.stop()\n      this.start()\n      return\n    }\n\n    while (now >= this.lastUpdateTime + this.refreshRate) {\n      // loop through each refresh period elapsed and simulate as if they actually elapsed\n      const delta = Math.min(this.refreshRate, now - this.lastUpdateTime)\n\n      hasUpdated = true\n      this.timeMsElapsed += delta\n      this.lastUpdateTime += delta\n      this.update()\n    }\n\n    if (hasUpdated) {\n      this.broadcast()\n    }\n\n    requestAnimationFrame(this.tick)\n  }\n\n  /**\n   * Updates all waves with the given tick count.\n   */\n  update = (): void => {\n    Object\n      .values(this.waves)\n      .forEach((wave) => wave.update(this.timeMsElapsed))\n  }\n\n  /**\n   * Adds the given wave to the oscillator instance.\n   *\n   * @param {Pulse} wave\n   */\n  add = (wave: Pulse): void => {\n    if (!this.waves.hasOwnProperty(wave.id)) {\n      this.waves[wave.id] = wave\n\n      if (this.timeMsElapsed === 0) {\n        this.broadcast()\n      }\n    }\n  }\n\n  /**\n   * Removes the wave having the given id.\n   *\n   * @param {Pulse} wave\n   */\n  remove = ({ id }: Pulse): void => {\n    delete this.waves[id]\n\n    if (Object.keys(this.waves).length === 0) {\n      this.stop()\n      this.clear()\n    }\n  }\n}\n","import { CircuitNode, Nor, InputNode, OutputNode, Buffer } from '@/circuit'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nfunction getLogicGateNode (subtype: string, id: string, inputIds: string[]): CircuitNode {\n  switch (subtype) {\n    case ItemSubtype.And:\n      return new Nor(id, inputIds)\n    default:\n      return new Nor(id, inputIds)\n  }\n}\n\nfunction getCircuitNode ({ id, type, subtype }: Item, inputIds: string[]): CircuitNode {\n  switch (type) {\n    case ItemType.CircuitNode:\n      return new CircuitNode(id, inputIds)\n    case ItemType.InputNode:\n      return new InputNode(id, inputIds)\n    case ItemType.LogicGate:\n      return getLogicGateNode(subtype, id, inputIds)\n    case ItemType.Buffer:\n    case ItemType.Freeport:\n      return new Buffer(id, inputIds)\n    default:\n      return new OutputNode(id, inputIds) // TODO: use generic CircuitNode instead?\n  }\n}\n\nexport default {\n  getLogicGateNode,\n  getCircuitNode\n}\n","import { Circuit, CircuitNode } from '@/circuit'\nimport { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\nimport ClockService from './ClockService'\nimport OscillationService from './OscillationService'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\nimport circuitNodeMapper from '@/utils/circuitNodeMapper'\n\n/**\n * The SimulationService ties together all aspects of a running simulation, including clock pulses, oscilloscope\n * wave management, and circuit component I/O. Effectively serves as an oracle for all circuit computations.\n *\n * It is important that the simulation maintains the state of the circuit separately from the editor state, as\n * components may be removed/added/changed in the editor by the user at any time. Maintaining them separate allows\n * the state of components present in the editor to be persisted.\n *\n * There is a one-to-one relationship between SimulationService instances and Document instances.\n */\nexport default class SimulationService {\n  /** Mapping of port IDs to their respective circuit nodes. */\n  nodes: Record<string, CircuitNode> = {}\n\n  /** Mapping of port IDs to their respective nodes' binary wave instances. */\n  waves: Record<string, BinaryWaveService> = {}\n\n  /** Mapping of port IDs to their respective nodes' clock instances. */\n  clocks: Record<string, ClockService> = {}\n\n  /** Mapping of port IDs to their respective current values. */\n  valueMap: Record<string, number> = {}\n\n  /** Logical circuit instance. */\n  circuit: Circuit = new Circuit()\n\n  /** Circuit oscillator. */\n  oscillator: OscillationService = new OscillationService()\n\n  /** Event emitter. */\n  emitter: TinyEmitter = new TinyEmitter()\n\n  /** Whether or not the simulation is paused. */\n  isPaused: boolean = true\n\n  /** Oscillogram data, containing each BinaryWave instance observed in the oscilloscope. */\n  oscillogram: Oscillogram = {}\n\n  /**\n   * Constructor.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  constructor (items: Item[], connections: Connection[], ports: Record<string, Port>) {\n    this.addElements(items, connections, ports)\n    this.oscillator.on('change', oscillogram => {\n      this.oscillogram = oscillogram\n      this.emit()\n    })\n  }\n\n  /**\n   * Adds the given items and connections with the given ports to the simulation.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  addElements = (items: Item[], connections: Connection[], ports: Record<string, Port>) => {\n    items.forEach(item => this.addNode(item, ports))\n    connections.forEach(c => this.addConnection(c.source, c.target))\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the port-value mapping as the first argument and oscillogram data as the second\n   */\n  on = (event: 'change', fn: (valueMap: Record<string, number>, oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Emits a change event.\n   *\n   * @emits change when the oscillogram or any value changes changes\n   */\n  emit = () => {\n    this.emitter.emit('change', this.valueMap, this.oscillogram)\n  }\n\n  /**\n   * Pauses the simulation.\n   */\n  pause = () => {\n    this.oscillator.stop()\n    this.isPaused = true\n  }\n\n  /**\n   * Continues the simulation.\n   */\n  unpause = () => {\n    this.isPaused = false\n    this.oscillator.start()\n    this.emit()\n  }\n\n  /**\n   * Advances the simulation by one step.\n   *\n   * @param [iteration = 0] - internal iteration count (should always invoke using `0` or undefined)\n   */\n  step = (iteration: number = 0) => {\n    if (this.isPaused) return\n\n    this.circuit.next()\n\n    const shouldContinue = this.circuit.queue.length > 0 // TODO: use circuit.isComplete()?\n\n    if (iteration > 10000) {\n      // TODO: configure this to detect infinite loops...\n      throw new Error('An infinite loop detected!')\n    }\n\n    if (shouldContinue) {\n      this.step(++iteration)\n    }\n\n    this.emit()\n  }\n\n  canContinue: boolean = false\n\n  nextState: string | null = null\n\n  isDebug: boolean = false\n\n  nextValueMap: Record<string, number> = {}\n\n  startDebugging = () => {\n    this.isDebug = true\n    this.pause()\n    this.computeNextState()\n  }\n\n  stopDebugging = () => {\n    this.advance()\n    this.isDebug = false\n    this.nextState = null\n    this.unpause()\n  }\n\n  advance = () => {\n    const nextValues = Object.keys(this.nextValueMap)\n\n    if (nextValues.length > 0) {\n      // at least one value change was triggered by the editor since last advance\n      nextValues.forEach(portId => this.updatePortValue(portId, this.nextValueMap[portId]))\n    } else if (this.nextState) {\n      // no inputs are pending updates, and there is a new state to advance to\n      this.valueMap = JSON.parse(this.nextState) as Record<string, number>\n    }\n\n    this.nextValueMap = {}\n    this.computeNextState()\n    this.emit()\n  }\n\n  computeNextState = () => {\n    const currentState = JSON.stringify(this.valueMap)\n\n    this.circuit.next()\n\n    const nextState = JSON.stringify(this.valueMap)\n\n    if (currentState !== nextState) {\n      this.nextState = nextState\n    } else {\n      this.nextState = null\n    }\n\n    this.canContinue = this.nextState !== null\n  }\n\n  /**\n   * Sets the output value of a given target node.\n   *\n   * @param id - ID of the port with new value\n   * @param value - new value to set\n   */\n  setOutputValue = (id: string, value: number) => {\n    this.valueMap[id] = value\n    this.emit()\n  }\n\n  updatePortValue = (portId: string, value: number) => {\n    this.nodes[portId].setValue(value)\n    this.circuit.enqueue(this.nodes[portId])\n    this.waves[portId]?.drawPulseChange(value)\n  }\n\n  enqueuePortValueChange = (portId: string, value: number) => {\n    this.nextValueMap[portId] = value\n\n    // circuit can continue only if one or more port values have changed\n    this.canContinue = Object\n      .keys(this.nextValueMap)\n      .reduce((anyValueChanged: boolean, portId) => {\n        return anyValueChanged || this.valueMap[portId] !== this.nextValueMap[portId]\n      }, false)\n\n    this.emit()\n  }\n\n  /**\n   * Sets a port's value logical value, performing all necessary simulation operations that result from such an action.\n   *\n   * This should be invoked by the document.\n   *\n   * @param portId\n   * @param value - new logical value\n   */\n  setPortValue = (portId: string, value: number) => {\n    if (this.isDebug) {\n      return this.enqueuePortValueChange(portId, value)\n    }\n\n    if (this.nodes[portId] && this.nodes[portId].value !== value) {\n      this.updatePortValue(portId, value)\n      this.step()\n    }\n  }\n\n  /**\n   * Adds an integrated circuit to the simulation.\n   *\n   * @param item - the high-level integrated circuit item\n   */\n  addIntegratedCircuit = (icItem: Item) => {\n    if (!icItem.integratedCircuit) return\n\n    const { items, connections, ports } = icItem.integratedCircuit\n\n    Object\n      .values(items)\n      .forEach(item => {\n        this.addNode(item, ports, true)\n      })\n\n    Object\n      .values(connections)\n      .forEach(c => {\n        this.addConnection(c.source, c.target)\n      })\n  }\n\n  /**\n   * Adds new a node to the simulation.\n   *\n   * @param item - item to add\n   * @param ports - port mapping to reference (if an IC, then use the ports within the document itself)\n   * @param [forceContinue] - if true, forces the circuit node to evaluate immediately\n   */\n  addNode = (item: Item, ports: Record<string, Port>, forceContinue: boolean = false) => {\n    if (item.portIds.length === 0) return // if there are no ports, then there is nothing to add\n\n    if (item.integratedCircuit) {\n      return this.addIntegratedCircuit(item)\n    }\n\n    const inputIds = item.portIds.filter(portId => ports[portId].type === PortType.Input)\n    const outputIds = item.portIds.filter(portId => ports[portId].type === PortType.Output)\n    const node = circuitNodeMapper.getCircuitNode(item, inputIds)\n\n    if (forceContinue) {\n      node.forceContinue = true\n    }\n\n    item.portIds.forEach(portId => this.addPort(portId, node))\n\n    if (item.type === ItemType.InputNode && item.subtype === ItemSubtype.Clock) {\n      this.addClock(outputIds[0])\n    }\n\n    this.circuit.addNode(node)\n\n    item.portIds.forEach(portId => {\n      const port = ports[portId]\n\n      if (port.isMonitored) {\n        this.monitorPort(portId, port.value, port.hue)\n      }\n    })\n  }\n\n  /**\n   * Removes a node and all of its ports from the simulation.\n   *\n   * @param portIds - list of IDs of ports associated with the node (at least one matching is required)\n   */\n  removeNode = (item: Item) => {\n    /** returns the port IDs of all ports that are related to the given integrated circuit */\n    const getIntegratedCircuitPortIds = (ic: Item): string[] => {\n      if (!ic.integratedCircuit) return []\n\n      return Object\n        .values(ic.integratedCircuit.items)\n        .reduce((portIds, i) => {\n          if (i.integratedCircuit) {\n            return portIds\n              .concat(getIntegratedCircuitPortIds(i))\n              .concat(i.portIds)\n          }\n          return portIds.concat(i.portIds)\n        }, [] as string[])\n    }\n\n    // remove all nodes that are referenced to port IDs of the given item\n    item\n      .portIds\n      .concat(getIntegratedCircuitPortIds(item)) // ...including IC ports\n      .forEach(portId => {\n        const node = this.nodes[portId]\n\n        if (node) {\n          this.circuit.removeNode(node)\n          this.removePort(portId)\n        }\n      })\n\n    this.emit()\n  }\n\n  /**\n   * Adds an interval clock to the circuit.\n   *\n   * @param portId\n   */\n  addClock = (portId: string) => {\n    this.clocks[portId] = new ClockService(portId, 1000, 1) // TODO: make 1000 configurable by the item\n    this.clocks[portId].on('change', (signal: number) => {\n      this.setPortValue(portId, signal)\n    })\n    this.oscillator.add(this.clocks[portId])\n  }\n\n  /**\n   * Adds a port to the simulation.\n   *\n   * @param portId - ID of the port associated with the node\n   * @param node - circuit node\n   */\n  addPort = (portId: string, node: CircuitNode) => {\n    this.nodes[portId] = node\n\n    node.on('change', (value: number) => {\n      this.setOutputValue(portId, value)\n      this.waves[portId]?.drawPulseChange(value)\n    })\n  }\n\n  /**\n   * Removes a port from the simulation and all associations of it.\n   * Associations include circuit nodes, value mappings, and any active clocks and waves.\n   *\n   * @param portId\n   */\n  removePort = (portId: string) => { // TODO: need to remove wave from oscillation\n    if (this.clocks[portId]) {\n      this.oscillator.remove(this.clocks[portId])\n    }\n\n    this.unmonitorPort(portId)\n\n    delete this.nodes[portId]\n    delete this.valueMap[portId]\n    delete this.clocks[portId]\n    delete this.waves[portId]\n  }\n\n  /**\n   * Adds a new connection between the given source and target ports.\n   * This requires that the circuit nodes for both the source and target have been added to the simulation.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  addConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.addConnection(this.nodes[sourceId], this.nodes[targetId], targetId)\n    }\n  }\n\n  /**\n   * Removes a connection that exists between the given source and target ports.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  removeConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.removeConnection(this.nodes[sourceId], this.nodes[targetId])\n    }\n  }\n\n  /**\n   * Begins monitoring an individual port in the oscilloscope.\n   *\n   * @param portId\n   * @param value - current port value\n   */\n  monitorPort = (portId: string, value: number, hue: number) => {\n    if (!this.waves[portId]) {\n      this.waves[portId] = new BinaryWaveService(portId, portId, value, hue)\n      this.oscillator.add(this.waves[portId])\n    }\n  }\n\n  /**\n   * Removes a port from being monitored in the oscilloscope.\n   *\n   * @param portId\n   */\n  unmonitorPort = (portId: string) => {\n    if (this.waves[portId]) {\n      this.oscillator.remove(this.waves[portId])\n      this.oscillator.broadcast()\n    }\n\n    delete this.waves[portId]\n    delete this.oscillator.waves[portId]\n    delete this.oscillogram[portId]\n  }\n}\n","import SimulationService from '@/services/SimulationService'\n\nexport interface DocumentState extends SerializableState {\n  viewport: DOMRect\n  canvas: BoundingBox\n  oscilloscopeHeight: number\n  hasLoaded: boolean\n  cachedState: string | null\n  undoStack: string[]\n  redoStack: string[]\n  snapBoundaries: BoundingBox[]\n  connectablePortIds: string[]\n  taxonomyCounts: Record<string, number>\n  zoomLevel: number\n  simulation: SimulationService\n  oscillogram: Oscillogram\n  isOscilloscopeOpen: boolean\n  isCircuitEvaluated: boolean\n  isDebugging: boolean\n  isDirty: boolean\n  isToolboxOpen: boolean\n  activeFreeportId: string | null\n  selectedItemIds: string[]\n  selectedConnectionIds: string[]\n  selectedPortIndex: number\n  zIndex: number\n  activePortId: string | null\n  connectionPreviewId: string | null\n  isPrinting: boolean\n  isCreatingImage: boolean\n}\n\nexport const state = (): DocumentState => ({\n  undoStack: [],\n  redoStack: [],\n  simulation: new SimulationService([], [], {}),\n  oscillogram: {},\n  taxonomyCounts: {},\n  zoomLevel: 1,\n  zIndex: 1,\n  oscilloscopeHeight: 200,\n  isOscilloscopeOpen: false,\n  isCircuitEvaluated: false,\n  isDebugging: false,\n  isDirty: false,\n  hasLoaded: false,\n  isPrinting: false,\n  isCreatingImage: false,\n  isToolboxOpen: false,\n\n  /* canvas dimensions */\n  viewport: new DOMRect(),\n  canvas: {\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n\n  /* the following variables are 'temporary' information */\n  snapBoundaries: [],\n  connectablePortIds: [],\n  selectedConnectionIds: [],\n  selectedItemIds: [],\n  selectedPortIndex: -1,\n  cachedState: null,\n  activeFreeportId: null,\n  activePortId: null,\n  connectionPreviewId: null,\n\n  /* serializable state items */\n  items: {},\n  connections: {},\n  ports: {},\n  groups: {}\n})\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\n\ntype IdMap = Record<string, string>\n\nfunction mapStandardCircuitIds (circuit: SerializableState, idMap: IdMap = {}) {\n\n  let { items, connections, ports, groups } = cloneDeep(circuit)\n\n  function mapGroups (groups: Record<string, Group>) {\n    Object\n      .values(groups)\n      .forEach(group => {\n        const oldId = group.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        groups[newId] = cloneDeep(group)\n\n        delete groups[oldId]\n      })\n\n    return groups\n  }\n\n  function mapGroupIds (connections: Record<string, Connection>, items: Record<string, Item>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connection.groupId = connection.groupId !== null\n          ? idMap[connection.groupId]\n          : null\n      })\n\n    Object\n      .values(items)\n      .forEach(item => {\n        item.groupId = item.groupId !== null\n          ? idMap[item.groupId]\n          : null\n      })\n\n    return { connections, items }\n  }\n\n  function mapConnections (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        const oldId = connection.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        connections[newId] = cloneDeep<Connection>(connection)\n        connections[newId].id = newId\n        connections[newId].source = idMap[connections[newId].source]\n        connections[newId].target = idMap[connections[newId].target]\n\n        delete connections[oldId]\n      })\n\n      return connections\n  }\n\n  function mapConnectionChainIds (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connections[connection.id].connectionChainId = idMap[connections[connection.id].connectionChainId]\n      })\n\n    return connections\n  }\n\n  function mapItems (items: Record<string, Item>) {\n    Object\n      .values(items)\n      .forEach(item => {\n        const oldId = item.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        items[newId] = cloneDeep<Item>(item)\n\n        if (item.integratedCircuit) {\n          items[newId].integratedCircuit = {\n            serializedState: item.integratedCircuit.serializedState,\n            ...mapStandardCircuitIds(cloneDeep(item.integratedCircuit), idMap)\n          }\n        } else {\n          items[newId].id = newId\n        }\n\n        items[newId].portIds = item.portIds.map(oldId => idMap[oldId])\n\n        delete items[oldId]\n      })\n\n      return items\n  }\n\n  function mapItemIds (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        ports[port.id].elementId = idMap[port.elementId]\n      })\n\n    return ports\n  }\n\n  function mapPorts (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        const oldId = port.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        ports[newId] = cloneDeep<Port>(port)\n        ports[newId].id = newId\n\n        delete ports[oldId]\n      })\n\n    return ports\n  }\n\n  ports = mapPorts(ports)\n  items = mapItems(items)\n  ports = mapItemIds(ports)\n  connections = mapConnections(connections)\n  connections = mapConnectionChainIds(connections)\n  groups = mapGroups(groups)\n\n  return {\n    ...mapGroupIds(connections, items),\n    ports,\n    groups\n  }\n}\n\nfunction mapIntegratedCircuitIds (item: Item) {\n  if (!item.integratedCircuit) return item\n\n  const { items } = mapStandardCircuitIds({\n    items: {\n      [item.id]: item\n    },\n    connections: {},\n    ports: {},\n    groups: {}\n  })\n\n  return Object.values(items)[0]\n}\n\nexport default {\n  mapStandardCircuitIds,\n  mapIntegratedCircuitIds\n}\n","import { DocumentStoreInstance } from '..'\nimport idMapper from '@/utils/idMapper'\n\nexport function cut (this: DocumentStoreInstance) {\n  this.copy()\n  this.deleteSelection()\n}\n\nexport function copy (this: DocumentStoreInstance) {\n  if (!this.hasSelection) return\n\n  const items: Record<string, Item> = {}\n  const ports: Record<string, Port> = {}\n\n  this.selectedItemIds.forEach(id => {\n    items[id] = this.items[id]\n    items[id].portIds.forEach(portId => {\n      ports[portId] = this.ports[portId]\n    })\n  })\n\n  const connections = Object\n    .values(this.connections)\n    .reduce((map, connection) => {\n      if (ports[connection.source] && ports[connection.target]) {\n        map[connection.id] = connection\n      }\n\n      return map\n    }, {} as Record<string, Connection>)\n\n  const groups = Object\n    .values(this.groups)\n    .filter(({ isSelected }) => isSelected)\n    .reduce((map, group) => ({ ...map, [group.id]: group }), {})\n\n  const clipboardData: ClipboardData = {\n    items,\n    ports,\n    connections,\n    groups,\n    pasteCount: 1\n  }\n\n  window.api.copy(JSON.stringify(clipboardData))\n}\n\nexport function paste (this: DocumentStoreInstance) {\n  try {\n    const state = window.api.paste()\n    const parsed = JSON.parse(state as string) as ClipboardData\n    const mapped = idMapper.mapStandardCircuitIds(parsed) as ClipboardData\n\n    this.commitState()\n    this.deselectAll()\n\n    Object\n      .keys(mapped.ports)\n      .forEach(portId => {\n        mapped.ports[portId].value = 0\n      })\n\n    Object\n      .values(mapped.items)\n      .forEach(item => {\n        item.position.x += 20 * parsed.pasteCount\n        item.position.y += 20 * parsed.pasteCount\n        item.isSelected = false\n\n        this.addItem({\n          item,\n          ports: mapped.ports\n        })\n        this.setSelectionState({ id: item.id, value: true })\n      })\n\n    Object\n      .values(mapped.connections)\n      .forEach(connection => this.connect(connection))\n\n    Object\n      .values(mapped.groups)\n      .forEach(group => {\n        this.groups[group.id] = group\n\n        this.setGroupBoundingBox(group.id)\n        this.setSelectionState({ id: group.id, value: true })\n      })\n\n    const clipboardData: ClipboardData = {\n      ...JSON.parse(state),\n      pasteCount: parsed.pasteCount + 1\n    }\n\n    window.api.copy(JSON.stringify(clipboardData))\n  } catch (error) {\n    console.log('ERROR: ', error)\n    // TODO: clear clipboard?\n  }\n}\n","import PortType from '@/types/enums/PortType'\nimport { v4 as uuid } from 'uuid'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n *\n * @param portId - the ID of the port previewing connections for\n */\nexport function setConnectionPreview (this: DocumentStoreInstance, portId: string | null) {\n  if (this.activePortId && portId) {\n    let source = this.activePortId\n    let target = portId\n\n    if (this.ports[this.activePortId].type === PortType.Input) {\n      source = portId\n      target = this.activePortId\n    }\n\n    const id = uuid()\n\n    this.unsetConnectionPreview()\n    this.connect({ source, target, id })\n    this.connectionPreviewId = id\n  }\n}\n\n/**\n * Clears the active connection preview.\n */\nexport function unsetConnectionPreview (this: DocumentStoreInstance) {\n  if (this.connectionPreviewId) {\n    this.disconnect(this.connections[this.connectionPreviewId])\n  }\n  this.connectionPreviewId = null\n}\n\n/**\n * Commits the previewed connection action as an undo-able state.\n */\nexport function commitPreviewedConnection (this: DocumentStoreInstance) {\n  if (this.connectionPreviewId) {\n    const { source, target } = this.connections[this.connectionPreviewId]\n\n    this.disconnect({ source, target })\n    this.commitState()\n    this.connect({ source, target })\n    this.connectionPreviewId = null\n  }\n}\n\n/**\n * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n *\n * @param portId - the ID of the port previewing connections for\n */\nexport function cycleConnectionPreviews (this: DocumentStoreInstance, portId: string) {\n  if (portId && portId !== this.activePortId) {\n    this.setActivePortId(portId)\n  }\n\n  let index = this.selectedPortIndex + 1\n\n  if (index <= 0) index = 0\n  if (index >= this.connectablePortIds.length) index = -1\n\n  const previewPortId = this.connectablePortIds[index]\n\n  if (previewPortId && !this.ports[portId]?.connectedPortIds.includes(previewPortId)) {\n    this.setConnectionPreview(previewPortId)\n  } else {\n    if (this.connectablePortIds.length === 0) {\n      window.api.beep() // audibly inform the user they can't connect to anything\n    }\n    this.unsetConnectionPreview()\n  }\n  this.selectedPortIndex = index\n}\n\n/**\n * Establishes a new connection between two ports.\n *\n * @param payload\n * @param payload.source - source port ID\n * @param payload.target - target port ID\n * @param payload.connectionChainId - optional connection chain ID to add the connection segment to\n */\nexport function createConnection (this: DocumentStoreInstance, data: { source: string, target: string, id?: string, connectionChainId?: string }) {\n  const id = data.id || uuid()\n\n  this.connections[id] = {\n    ...data,\n    id,\n    connectionChainId: data.connectionChainId || id,\n    groupId: null,\n    zIndex: ++this.zIndex,\n    isSelected: false\n  }\n\n  this.ports[data.source].connectedPortIds.push(data.target)\n  this.ports[data.target].connectedPortIds.push(data.source)\n}\n\nexport function connect (this: DocumentStoreInstance, data: { source: string, target: string, id?: string, connectionChainId?: string }) {\n  this.createConnection(data)\n\n  this\n    .simulation\n    .addConnection(data.source, data.target)\n\n  this.simulation.circuit.next()\n}\n\n/**\n * Disconnects two ports.\n *\n * @param payload\n * @param payload.source - source port ID\n * @param payload.target - target port ID\n */\nexport function destroyConnection (this: DocumentStoreInstance, { source, target }: { source: string, target: string }) {\n  const connection = Object\n    .values(this.connections)\n    .find(c => c.source === source && c.target === target)\n\n  if (connection) {\n    const sourceIndex = this.ports[source].connectedPortIds.findIndex(id => id === target)\n    const targetIndex = this.ports[target].connectedPortIds.findIndex(id => id === source)\n\n    this.ports[source].connectedPortIds.splice(sourceIndex, 1)\n    this.ports[target].connectedPortIds.splice(targetIndex, 1)\n\n    delete this.connections[connection.id]\n  }\n}\n\nexport function disconnect (this: DocumentStoreInstance, { source, target }: { source: string, target: string }) {\n  this\n    .simulation\n    .removeConnection(source, target)\n\n  this.simulation.circuit.next()\n\n  this.destroyConnection({ source, target })\n}\n","import { DocumentStoreInstance } from '..'\n\nexport function loadDocument (this: DocumentStoreInstance, document: string) {\n  this.applyState(document)\n  this.resetCircuit()\n}\n\nexport function clearStatelessInfo (this: DocumentStoreInstance) {\n  this.unsetConnectionPreview()\n  this.connectablePortIds = []\n  this.selectedConnectionIds = []\n  this.selectedItemIds = []\n  this.selectedPortIndex = -1\n  this.cachedState = null\n  this.activePortId = null\n  this.connectionPreviewId = null\n}\n\nexport function print (this: DocumentStoreInstance) {\n  this.isPrinting = true\n}\n\nexport function createImage (this: DocumentStoreInstance) {\n  this.isCreatingImage = true\n}\n\nexport function toggleToolbox (this: DocumentStoreInstance) {\n  this.isToolboxOpen = !this.isToolboxOpen\n}\n","import ItemType from '@/types/enums/ItemType'\n\nexport default function itemFactory (id: string, type: ItemType, subtype: string, width: number, height: number, ports: Port[] = []): Item {\n  return {\n    id,\n    name: '',\n    type,\n    subtype,\n    portIds: ports.map(({ id }) => id),\n    groupId: null,\n    rotation: 0,\n    boundingBox: {\n      top: 0,\n      left: 0,\n      right: width,\n      bottom: height\n    },\n    position: {\n      x: 0,\n      y: 0\n    },\n    zIndex: 0,\n    width,\n    height,\n    isSelected: false,\n    properties: {}\n  }\n}\n","import Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function portFactory (elementId: string, id: string, orientation: Direction, type: PortType, name: string): Port {\n  return {\n    id,\n    orientation,\n    name,\n    position: {\n      x: 0,\n      y: 0\n    },\n    type,\n    rotation: 0,\n    elementId,\n    value: 0,\n    hue: 0,\n    isMonitored: false,\n    isFreeport: false,\n    connectedPortIds: []\n  }\n}\n","import boundaries from '../geometry/boundaries'\nimport { DocumentStoreInstance } from '..'\nimport itemFactory from '@/factories/itemFactory'\nimport portFactory from '@/factories/portFactory'\nimport Direction from '@/types/enums/Direction'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\n\n/**\n * Adds a new freeport element. This can be used in either of two scenarios:\n *\n *  1. when a user is dragging a port to establish a connection to another port\n *  2. when a user drags on a connection to create a new \"pivot point\" on the wire\n *\n * @param payload\n * @param payload.itemId - desired ID for the new freeport\n * @param payload.inputPortId - the ID of the input port (omit for a wire drag from an output port)\n * @param payload.outputPortId - the ID of the output port (omit for a wire drag from an input port)\n * @param payload.position - the initial position of this port\n * @param payload.value - optional value of the port\n */\nexport function addFreeportItem (this: DocumentStoreInstance, { itemId, inputPortId, outputPortId, value = 0 }: {\n  itemId: string\n  outputPortId?: string\n  inputPortId?: string\n  value?: number\n}) {\n  const ports: Port[] = []\n\n  if (outputPortId) {\n    this.ports[outputPortId] = portFactory(itemId, outputPortId, Direction.Left, PortType.Output, outputPortId)\n    this.ports[outputPortId].value = value\n    this.ports[outputPortId].isFreeport = true\n    ports.push(this.ports[outputPortId])\n  }\n\n  if (inputPortId) {\n    this.ports[inputPortId] = portFactory(itemId, inputPortId, Direction.Right, PortType.Input, inputPortId)\n    this.ports[inputPortId].value = value\n    this.ports[inputPortId].isFreeport = true\n    ports.push(this.ports[inputPortId])\n  }\n\n  this.items[itemId] = itemFactory(itemId, ItemType.Freeport, ItemSubtype.None, 1, 1, ports)\n  this.items[itemId].zIndex = this.zIndex++\n\n  this\n    .simulation\n    .addNode(this.items[itemId], this.ports, true)\n}\n\n/**\n * Removes a Freeport from the document.\n * This can remove either a dragged freeport or a connector between two wire segments.\n *\n * @param id - ID of the freeport item\n */\nexport function removeFreeport (this: DocumentStoreInstance, id: string) {\n  const item = this.items[id]\n\n  let originalSourceId = ''\n  let originalTargetId = ''\n\n  // find the true source and target port ids\n  Object\n    .values(this.connections)\n    .forEach(c => {\n      if (c.target === item.portIds[0]) originalSourceId = c.source\n      if (c.source === item.portIds[1]) originalTargetId = c.target\n    })\n\n  if (originalSourceId) this.disconnect({ source: originalSourceId, target: item.portIds[0] })\n  if (originalTargetId) this.disconnect({ source: item.portIds[1], target: originalTargetId })\n  if (originalSourceId && originalTargetId) {\n    // reconnect the true source and target\n    this.connect({ source: originalSourceId, target: originalTargetId })\n  }\n\n  // finally, remove the element\n  this.removeElement(id)\n}\n\n/**\n * Creates a new freeport item with the given set of IDs in the payload.\n * This can either be a dragged port (to connect a port) or a joint between two connection segments.\n *\n * For a joint, include all required params, including the IDs of the destination ports and the freeport ports.\n * For a dragged port, include the source IDs (if dragged from an output) or the target IDs (if dragged from an input).\n *\n * @param data - IDs for apply the new freeport\n */\nexport function createFreeport (this: DocumentStoreInstance, data: Freeport, createCircuitConnection: boolean = true) {\n  if (this.items[data.itemId]) return\n\n  if (data.sourceId && data.targetId) {\n    this.commitState()\n  }\n\n  this.deselectAll()\n  this.addFreeportItem(data)\n  this.setItemBoundingBox(data.itemId)\n  this.activeFreeportId = data.itemId\n\n  let connections: { source: string, target: string }[] = []\n\n  if (data.sourceId && data.inputPortId) {\n    connections.push({\n      source: data.sourceId,\n      target: data.inputPortId\n    })\n  }\n\n  if (data.targetId && data.outputPortId) {\n    connections.push({\n      source: data.outputPortId,\n      target: data.targetId\n    })\n  }\n\n  connections.forEach(connection => {\n    this.createConnection({\n      ...connection,\n      connectionChainId: data.connectionChainId\n    })\n\n    if (createCircuitConnection) {\n      this\n        .simulation\n        .addConnection(connection.source, connection.target)\n    }\n  })\n\n  if (data.sourceId && data.targetId) {\n    // only remove the circuit connection (not the store connection), as its component may still be in action (i.e., handling dragging)\n    // once the dragging operation is complete, it will be the responsibility of the connection component to destroy itself\n    this\n      .simulation\n      .removeConnection(data.sourceId, data.targetId)\n  }\n\n  if (data.sourceId && data.targetId) {\n    // bring forward the freeport item so that it is between the two new connections\n    this.deselectAll()\n    this.setSelectionState({\n      id: data.itemId,\n      value: true\n    })\n    this.incrementZIndex(1)\n  }\n\n  this.simulation.circuit.next()\n}\n\n/**\n * Establishes a connection after a user drags a port to connect it to an item.\n * This will disconnect the temporary wire and port being dragged, and establish a new connection between the two items.\n *\n * @param payload\n * @param payload.sourceId - the ID of the source port (if being dragged from one)\n * @param payload.targetId - the ID of the target port (if being dragged from one)\n * @param payload.portId - the ID of the temporary freeport being dragged\n */\nexport function connectFreeport (this: DocumentStoreInstance, { sourceId, targetId, portId }: { sourceId?: string, targetId?: string, portId: string }) {\n  const port = this.ports[portId]\n  const newPort = Object\n    .values(this.ports)\n    .find((p: Port) => {\n      // TODO: make '10' a user-configurable number\n      return p.id !== portId && this.connectablePortIds.includes(p.id) && boundaries.isInNeighborhood(p.position, port.position, 10)\n    })\n\n  if (newPort) {\n    if (sourceId) {\n      this.disconnect({\n        source: sourceId,\n        target: portId\n      })\n      this.connect({\n        source: sourceId,\n        target: newPort.id\n      })\n    } else if (targetId) {\n      this.disconnect({\n        source: portId,\n        target: targetId\n      })\n      this.connect({\n        source: newPort.id,\n        target: targetId\n      })\n    }\n  } else {\n    // no port can be connected, so disconnect the temporary dragged wire\n    this.disconnect({\n      source: sourceId || portId,\n      target: targetId || portId\n    })\n  }\n\n  const item = Object\n    .values(this.items)\n    .find(({ portIds }) => portIds.includes(portId))\n\n  if (item) {\n    this.removeElement(item.id)\n  }\n\n  this.clearStatelessInfo()\n}\n","import { DocumentStoreInstance } from '..'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * Groups together all selected items and connections.\n * If any of those selected elements are a member of a group, that group will be destroyed.\n */\nexport function group (this: DocumentStoreInstance) {\n  this.commitState()\n\n  const id = uuid()\n  const items = Object\n    .values(this.items)\n    .filter(({ isSelected }) => isSelected)\n\n  const portIds = items.reduce((portIds, item) => {\n    return portIds.concat(item.portIds)\n  }, [] as string[])\n\n  const connections = Object\n    .values(this.connections)\n    .filter(c => {\n      // ensure both source and target ports are associated with items in the group\n      return portIds.includes(c.source) && portIds.includes(c.target) && c.isSelected\n    })\n\n  // if any of the items or connections are part of another group, ungroup those\n  items.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n  connections.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n\n  // update the zIndex of all items to be the highest one among the selected\n  const zIndex = [...items, ...connections].reduce((zIndex: number, item: BaseItem) => {\n    return Math.max(item.zIndex, zIndex)\n  }, 0)\n\n  const group = {\n    id,\n    itemIds: items.map(({ id }) => id),\n    connectionIds: connections.map(({ id }) => id),\n    isSelected: true,\n    boundingBox: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    },\n    position: {\n      x: 0, y: 0\n    },\n    zIndex\n  }\n\n  this.groups[id] = group\n\n  // set the groupId of all items in the group\n  group.itemIds.forEach(id => {\n    this.items[id].groupId = group.id\n  })\n\n  // set the groupId of all connections in the group\n  group.connectionIds.forEach(id => {\n    this.connections[id].groupId = group.id\n  })\n\n  this.setZIndex(zIndex)\n  this.setGroupBoundingBox(id)\n}\n\n/**\n * Destroys all selected groups.\n */\n export function ungroup (this: DocumentStoreInstance) {\n  this.commitState()\n\n  for (const id in this.groups) {\n    if (this.groups[id].isSelected) {\n      this.destroyGroup(id)\n    }\n  }\n}\n\n/**\n * Destroys the group having the given ID.\n *\n * @param groupId\n */\nexport function destroyGroup (this: DocumentStoreInstance, groupId: string) {\n  const group = this.groups[groupId]\n\n  // remove the groupId of all items in the group and select them\n  group.itemIds.forEach(id => {\n    this.items[id].groupId = null\n    this.selectedItemIds.push(id)\n  })\n\n  // remove the groupId of all connections in the group and select them\n  group.connectionIds.forEach(id => {\n    this.connections[id].groupId = null\n    this.selectedConnectionIds.push(id)\n  })\n\n  delete this.groups[groupId]\n}\n","export default function fromDocumentToEditorCoordinates (canvas: BoundingBox, viewport: DOMRect, point: Point, z: number) {\n  return {\n    x: (point.x - viewport.x - canvas.left) / z,\n    y: (point.y - viewport.y - canvas.top) / z\n  }\n}\n","import { v4 as uuid } from 'uuid'\nimport { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\n\nfunction generateItemName (item: Item, taxonomyCount: number) {\n  const name: string[] = [item.type]\n\n  if (item.subtype !== ItemSubtype.None) {\n    name.push(item.subtype)\n  }\n\n  name.push(taxonomyCount.toString())\n\n  return name.join(' ')\n}\n\n/**\n * Adds any non-IC component to the this.\n *\n * @param payload\n * @param payload.item - new item to add\n * @param payload.ports - mapping of IDs-to-ports, containing a subset of ports belonging to the new item\n */\nexport function addItem (this: DocumentStoreInstance, { item, ports }: { item: Item, ports: Record<string, Port> }) {\n  // add all ports associated to this item\n  // if the item is an integrated circuit, only add the ports that it defines (ones visible to the user)\n  const portList = item.integratedCircuit?.ports || ports\n\n  item\n    .portIds\n    .forEach(portId => {\n      const port = portList[portId]\n\n      if (port) {\n        this.ports[port.id] = port\n\n        if (port.isMonitored) {\n          this.monitorPort(port.id)\n        }\n      }\n    })\n\n  const taxonomy = `${item.type}_${item.subtype}`\n\n  if (!this.taxonomyCounts[taxonomy]) {\n    this.taxonomyCounts[taxonomy] = 0\n  }\n\n  item.name = generateItemName(item, ++this.taxonomyCounts[taxonomy])\n\n  // add the item to the document and create its corresponding circuit node\n  this.items[item.id] = item\n  this.items[item.id].zIndex = ++this.zIndex\n\n  this\n    .simulation\n    .addNode(item, this.ports)\n\n  this.resetItemValue(item)\n}\n\nexport function insertItemAtPosition (this: DocumentStoreInstance, { item, ports }: { item: Item, ports: Port[] }, documentPosition: Point | null = null) {\n  if (!documentPosition) {\n    const midpoint = boundaries.getBoundingBoxMidpoint(this.viewport)\n\n    documentPosition = {\n      x: midpoint.x + this.viewport.left,\n      y: midpoint.y + this.viewport.top\n    }\n  }\n\n  const position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, documentPosition, this.zoomLevel)\n\n  position.x -= item.width / 2\n  position.y -= item.height / 2\n\n  item.position = position\n\n  this.commitState()\n  this.addItem({\n    item,\n    ports: ports.reduce((map: Record<string, Port>, port) => ({ ...map, [port.id]: port }), {})\n  })\n  this.setItemBoundingBox(item.id)\n  this.setItemPortPositions(item.id)\n  this.setSelectionState({ id: item.id, value: true })\n}\n\nexport function resetItemValue (this: DocumentStoreInstance, item: Item) {\n  const property = item.properties?.startValue\n\n  if (!property) return\n\n  const value = property.value as number\n\n  item.portIds.forEach(id => this.setPortValue({ id, value }))\n}\n\n/**\n * Removes an element and all its associated ports and circuit nodes from the state.\n *\n * @param id - ID of the item to remove\n */\nexport function removeElement (this: DocumentStoreInstance, id: string) {\n  const item = this.items[id]\n\n  this\n    .simulation\n    .removeNode(item)\n\n  // remove all ports associated with the item\n  item.portIds.forEach(portId => this.removePort(portId))\n\n  // remove the item\n  delete this.items[id]\n}\n\n/**\n * Sets the number of input ports that a LogicGate should have.\n * If the number is less than the current number of ports, take away the difference number of existing ports.\n *\n * @param payload\n * @param payload.id - LogicGate ID\n * @param payload.count - new number of input ports\n */\n export function setInputCount (this: DocumentStoreInstance, { id, count }: { id: string, count: number }) {\n  const item = this.items[id]\n  const oldCount = item.properties.inputCount.value as number\n\n  if (oldCount > count) {\n    // if the count has decreased, find the last remaining port IDs which will be removed\n    this.items[id].portIds\n      .filter(portId => this.ports[portId].type === PortType.Input)\n      .slice(count)\n      .forEach(portId => this.removePort(portId))\n  } else {\n    for (let i = oldCount; i < count; i++) {\n      const portId = uuid()\n\n      // add the difference of ports one by one\n      this.addPort(id, {\n        id: portId,\n        name: '', // TODO\n        connectedPortIds: [],\n        type: PortType.Input,\n        elementId: id,\n        virtualElementId: id,\n        orientation: Direction.Left,\n        isFreeport: false,\n        isMonitored: false,\n        hue: 0,\n        position: {\n          x: 0,\n          y: 0\n        },\n        rotation: 0,\n        value: 0\n      })\n    }\n  }\n}\n\n/**\n * Updates the properties values. If no properties have changed, then no changes will take effect.\n * This will perform any actions necessary to occur when a property value changes.\n *\n * @param payload\n * @param payload.id - item ID\n * @param payload.properties - new version of the properties\n */\nexport function setProperties (this: DocumentStoreInstance, { id, properties }: { id: string, properties: PropertySet }) {\n  const item = this.items[id]\n\n  for (const propertyName in properties) {\n    const property = properties[propertyName]\n\n    if (item.properties[propertyName].value === property.value) {\n      continue // do nothing if the property value has not changed\n    }\n\n    switch (propertyName) {\n      case 'inputCount':\n        this.setInputCount({ id, count: property.value as number })\n        break\n    }\n\n    this.items[id].properties[propertyName].value = property.value\n  }\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\n\n/**\n * Pans to the given point.\n */\nexport function panTo (this: DocumentStoreInstance, pan: Point) {\n  const deltaX = pan.x - this.canvas.left\n  const deltaY = pan.y - this.canvas.top\n\n  this.canvas.left += deltaX\n  this.canvas.right += deltaX\n  this.canvas.top += deltaY\n  this.canvas.bottom += deltaY\n}\n\n/**\n * Pans to the center of the available canvas, such that its center is visible in the center of the viewport.\n */\nexport function panToCenter (this: DocumentStoreInstance) {\n  const midpoint = boundaries.getBoundingBoxMidpoint(this.canvas)\n\n  this.panTo({\n    x: (this.viewport.width / 2) - midpoint.x,\n    y: (this.viewport.height / 2) - midpoint.y\n  })\n}\n","/**\n * Returns all connections and any associated freeport items within a connection chain.\n *\n * @param connections - list of all connections to explore\n * @param portMap - ID-to-port mapping of the entire document\n * @param connectionChainId - ID of the connection chain to explore\n * @returns the IDs of the connections and the freeports discovered in the chain\n */\nexport default function getConnectionChain (connections: Connection[], portMap: Record<string, Port>, connectionChainId: string) {\n  const { connectionIds, freeportIds } = Object\n    .values(connections)\n    .reduce(({ connectionIds, freeportIds }, connection) => {\n      if (connectionChainId === connection.connectionChainId) {\n        const sourcePort = portMap[connection.source]\n        const targetPort = portMap[connection.target]\n\n        connectionIds.add(connection.id)\n\n        if (sourcePort?.isFreeport) freeportIds.add(sourcePort.elementId)\n        if (targetPort?.isFreeport) freeportIds.add(targetPort.elementId)\n      }\n\n      return { connectionIds, freeportIds }\n    }, {\n      connectionIds: new Set<string>(),\n      freeportIds: new Set<string>()\n    })\n\n  return {\n    connectionIds: Array.from(connectionIds),\n    freeportIds: Array.from(freeportIds)\n  }\n}\n","import { CircuitNode } from '@/circuit'\nimport { DocumentStoreInstance } from '..'\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport PortType from '@/types/enums/PortType'\n\nexport function addPort (this: DocumentStoreInstance, itemId: string, port: Port) {\n  const node = Object\n    .values(this.simulation.nodes)\n    .find(({ name }) => this.items[itemId].portIds.includes(name))\n\n  this.ports[port.id] = port\n  this.items[itemId].portIds.push(port.id)\n\n  if (node) {\n    this.simulation.addPort(port.id, node as CircuitNode)\n  } else {\n    this.simulation.addNode(this.items[itemId], this.ports)\n  }\n}\n\n/**\n * Removes a port from the state.\n * This will destroy the entire connection chain that it is a part of (if any).\n *\n * @param portId - ID of the port to destroy\n */\nexport function removePort (this: DocumentStoreInstance, portId: string) {\n  // remove all connections associated with this port\n  Object\n    .values(this.connections)\n    .filter(({ source, target }) => source === portId || target === portId)\n    .forEach(c => {\n      // find all segments and freeports of this connection and remove them\n      const {\n        connectionIds,\n        freeportIds\n      } = getConnectionChain(Object.values(this.connections), this.ports, c.connectionChainId)\n\n      connectionIds.forEach(id => {\n        // delete all connections associated with the chain\n        const { source, target } = this.connections[id]\n\n        this\n          .simulation\n          .removeConnection(source, target)\n\n        delete this.connections[id]\n      })\n\n      freeportIds.forEach(id => {\n        // delete all freeports associated with the chain\n        this.items[id].portIds.forEach(portId => {\n          delete this.ports[portId]\n          this.simulation.removePort(portId)\n        })\n\n        delete this.items[id]\n      })\n    })\n\n  delete this.ports[portId]\n  this.simulation.removePort(portId)\n}\n\n/**\n * Sets the ID of the active (i.e., 'previewed'/'enlarged') port.\n *\n * @param portId - ID of the port to activate, or null to remove it\n */\nexport function setActivePortId (this: DocumentStoreInstance, portId: string | null) {\n  if (this.activePortId !== portId) {\n    if (portId) {\n      this.setConnectablePortIds({ portId })\n    } else {\n      this.connectablePortIds = []\n    }\n\n    this.activePortId = portId\n    this.selectedPortIndex = -1\n  }\n}\n\n/**\n * Sets the list of connectable port IDs.\n * This should be invoked whenever a user starts dragging a port.\n *\n * @param portId - the ID of the port being dragged\n */\nexport function setConnectablePortIds (this: DocumentStoreInstance, { portId, isDragging }: { portId: string, isDragging?: boolean }) {\n  const port = this.ports[portId]\n\n  if (port.isFreeport) return // freeports cannot connect to anything\n\n  // generate a list of all port IDs that have at least one connection to/from it\n  const connectedPortIds = Object\n    .values(this.connections)\n    .reduce((portIds: string[], connection: Connection) => {\n      return portIds.concat([connection.source, connection.target])\n    }, [])\n\n  if (isDragging) {\n    // if this port is being dragged, then the user intends to establish a new connection with it\n    // remove the last two ports (the two ports on opposite ends of the \"preview\" connection)\n    connectedPortIds.splice(-2)\n  }\n\n  const filter = port.type === PortType.Output\n    ? (p: Port) => p.type === PortType.Input && !p.isFreeport && !connectedPortIds.includes(p.id) && p.elementId !== port.elementId\n    : (p: Port) => p.type === PortType.Output && !p.isFreeport && !connectedPortIds.includes(port.id) && p.elementId !== port.elementId\n\n  this.connectablePortIds = Object\n    .values(this.ports)\n    .filter(filter)\n    .map(({ id }) => id)\n}\n\n/**\n * Sets the value of the port in the circuit.\n *\n * @param payload.id - ID of the port\n * @param payload.value - new port value\n */\nexport function setPortValue (this: DocumentStoreInstance, { id, value }: { id: string, value: number }) {\n  this\n    .simulation\n    .setPortValue(id, value)\n}\n\nexport function togglePortMonitoring (this: DocumentStoreInstance, portId: string) {\n  if (this.ports[portId].isMonitored) {\n    this.unmonitorPort(portId)\n  } else {\n    this.monitorPort(portId)\n  }\n}\n\nexport function monitorPort (this: DocumentStoreInstance, portId: string) {\n  const port = this.ports[portId]\n\n  port.hue = port.hue ||  ~~(360 * Math.random())\n  port.isMonitored = true\n\n  this\n    .simulation\n    .monitorPort(portId, port.value, port.hue)\n\n  this.isOscilloscopeOpen = true\n}\n\nexport function unmonitorPort (this: DocumentStoreInstance, portId: string) {\n  const port = this.ports[portId]\n\n  port.isMonitored = false\n\n  this\n    .simulation\n    .unmonitorPort(portId)\n\n  this.isOscilloscopeOpen = Object.keys(this.oscillogram).length > 0\n}\n\n/**\n * Assigns values to the ports in the this according to the given map.\n *\n * @param valueMap - Port-ID-to-value mapping\n */\nexport function setPortValues (this: DocumentStoreInstance, valueMap: Record<string, number>) {\n  for (const portId in valueMap) {\n    if (this.ports[portId]) {\n      this.ports[portId].value = valueMap[portId]\n    }\n  }\n}\n","\nimport Direction from '@/types/enums/Direction'\n// TODO: rename parent 'layout' folder to 'geometry'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nfunction rotate (rotation: number, additional = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n\n/**\n * Returns the absolute Cartesian position of an item based on its parent group's rotation and position.\n *\n * @param groupBoundingBox - group for which the item is a member of\n * @param item - item to compute position for\n * @param direction - rotation direction (1 for CW, -1 for CCW)\n * @returns\n */\nfunction getGroupedItemRotatedPosition (groupBoundingBox: BoundingBox, item: Item, direction: number): Point {\n  const w = groupBoundingBox.right - groupBoundingBox.left\n  const h = groupBoundingBox.bottom - groupBoundingBox.top\n  const mx = groupBoundingBox.left + (w / 2)\n  const my = groupBoundingBox.top + (h / 2)\n  const cx = item.position.x\n  const cy = item.position.y\n  const ax = cx + (item.width / 2)\n  const ay = cy + (item.height / 2)\n  const L = Math.hypot(mx - ax, my - ay)\n  const currentAngleRad = Math.atan2((ay - my), (ax - mx))\n  const newAngle = (90 * direction * (Math.PI / 180)) + currentAngleRad\n  const newAx = (L * Math.cos(newAngle)) + mx\n  const newAy = (L * Math.sin(newAngle)) + my\n\n  return {\n    x: newAx - (item.width / 2),\n    y: newAy - (item.height / 2)\n  }\n}\n\n/**\n * Returns the absolute Cartesian position of a port based on its parent's rotation and position.\n *\n * @param port\n * @param portList\n * @param item\n * @param index\n * @returns\n */\nfunction getRotatedPortPosition (port: Port, portList: Port[], item: Item, index: number): Point {\n  const { left, top, bottom, right } = item.boundingBox\n\n  // ports use CSS \"space around\" flex property for positions\n  // compute the spacing of each port based on the element width/height\n  // there are n spacings for n ports\n  const spacing = (port.orientation + item.rotation) % 2 === 0\n    ? Math.floor((bottom - top) / portList.length)\n    : Math.floor((right - left) / portList.length)\n\n  // compute the distance (from left-to-right or top-to-bottom)\n  // the distance will be the center of the computed spacing\n  const distance = (spacing * (index + 1)) - (spacing / 2)\n\n  switch (rotate(port.orientation + item.rotation)) {\n    case Direction.Left:\n      return { x: left, y: top + distance }\n    case Direction.Top:\n      return { x: right - distance, y: top }\n    case Direction.Right:\n      return { x: right, y: bottom - distance }\n    case Direction.Bottom:\n    default:\n      return { x: left + distance, y: bottom }\n  }\n}\n\nexport default {\n  rotate,\n  getGroupedItemRotatedPosition,\n  getRotatedPortPosition\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport rotation from '../geometry/rotation'\nimport Direction from '@/types/enums/Direction'\nimport SnapMode from '@/types/enums/SnapMode'\nimport ItemType from '@/types/enums/ItemType'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\n\n/**\n * Centers all items (together as a group) to the center of the canvas.\n * All distances between items are maintained when this occurs.\n */\nexport function centerAll (this: DocumentStoreInstance) {\n  const boundingBoxes = Object\n    .values(this.items)\n    .map(({ boundingBox }) => boundingBox)\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const { x, y } = boundaries.getCenteredScreenPoint(this.canvas, boundingBox, 20) // TODO: make 20 configurable as grid size\n\n  const deltaX = x - boundingBox.left\n  const deltaY = y - boundingBox.top\n\n  Object\n    .values(this.items)\n    .forEach(item => {\n      this.setItemPosition({\n        id: item.id,\n        position: {\n          x: item.position.x + deltaX,\n          y: item.position.y + deltaY\n        }\n      })\n    })\n}\n\n/**\n * Sets the absolute positions for all ports that belong to the given item.\n *\n * @param id - ID of the item containing the ports\n */\nexport function setItemPortPositions (this: DocumentStoreInstance, id: string) {\n  const item = this.items[id]\n\n  if (!item) return\n\n  const portGroups = item\n    .portIds\n    .reduce((portGroups: Map<Direction, Port[]>, portId) => {\n      const port = this.ports[portId]\n\n      if (port) {\n        const index: Direction = rotation.rotate(port.orientation + item.rotation)\n\n        portGroups.get(index)?.push(port)\n      }\n\n      return portGroups\n    }, new Map<Direction, Port[]>([\n      [Direction.Left, []],\n      [Direction.Top, []],\n      [Direction.Right, []],\n      [Direction.Bottom, []]\n    ]))\n\n  const setPortGroupPositions = (ports: Port[] = []) => {\n    ports.forEach((port, index) => {\n      this.ports[port.id].position = rotation.getRotatedPortPosition(port, ports, item, index)\n    })\n  }\n\n  setPortGroupPositions(portGroups.get(Direction.Left))\n  setPortGroupPositions(portGroups.get(Direction.Top))\n  setPortGroupPositions(portGroups.get(Direction.Right))\n  setPortGroupPositions(portGroups.get(Direction.Bottom))\n}\n\n/**\n * Sets the position of an item.\n *\n * @param payload\n * @param payload.id - ID of the item\n * @param payload.position - new position to move to\n */\nexport function setItemPosition (this: DocumentStoreInstance, { id, position }: { id: string, position: Point }) {\n  const item = this.items[id]\n  const delta: Point = {\n    x: position.x - item.position.x,\n    y: position.y - item.position.y\n  }\n\n  this.items[id].position = position\n  this.setItemBoundingBox(id)\n\n  item\n    .portIds\n    .forEach(portId => {\n      const port = this.ports[portId]\n\n      this.ports[portId].position = {\n        x: port.position.x + delta.x,\n        y: port.position.y + delta.y\n      }\n    })\n}\n\nexport function dragItem (this: DocumentStoreInstance, id: string, position: Point, snapMode?: SnapMode) {\n  const { x, y } = fromDocumentToEditorCoordinates(this.canvas, this.viewport, position, this.zoom)\n  const { width, height, rotation } = this.items[id]\n  const boundingBox = boundaries.getBoundingBox({ x, y }, rotation, width, height)\n  const offset = boundaries.getSnapOffset(this.snapBoundaries, boundingBox, snapMode || SnapMode.Outer, 15) // TODO: configurable snap position and tolerance\n\n  this.setSelectionPosition({\n    id,\n    position: {\n      x: x + offset.x,\n      y: y + offset.y\n    }\n  })\n}\n\n/**\n * Moves all selected items according to the delta provided.\n *\n * @param delta - delta to move the items by\n */\nexport function moveSelectionPosition (this: DocumentStoreInstance, delta: Point) {\n  const id: string | undefined = this.selectedItemIds[0]\n\n  if (id) {\n    const item = this.items[id]\n    const position: Point = {\n      x: item.position.x + delta.x,\n      y: item.position.y + delta.y\n    }\n\n    this.commitState()\n    this.setSelectionPosition({ id, position })\n  }\n}\n\n/**\n * Moves all selected items according to the delta that the given item has moved by.\n *\n * @param payload\n * @param payload.id - ID of the reference item moving\n * @param payload.position - new position that the reference item has moved to\n */\nexport function setSelectionPosition (this: DocumentStoreInstance, { id, position }: { id: string, position: Point }) {\n  const referenceItem = this.items[id]\n  const delta: Point = {\n    x: position.x - referenceItem.position.x,\n    y: position.y - referenceItem.position.y\n  }\n  const groupIds = new Set<string>()\n\n  this.setSelectionState({ id, value: true })\n\n  if (referenceItem.type === ItemType.Freeport) {\n    // if this item is a freeport, drag only this and nothing else\n    return this.setItemPosition({ id, position })\n  }\n\n  this\n    .selectedItemIds\n    .forEach((itemId: string) => {\n      const item = this.items[itemId]\n      const position: Point = {\n        x: item.position.x + delta.x,\n        y: item.position.y + delta.y\n      }\n\n      if (item.groupId) {\n        groupIds.add(item.groupId)\n      }\n\n      this.setItemPosition({ id: itemId, position })\n    })\n\n  groupIds.forEach(this.setGroupBoundingBox)\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport rotation from '../geometry/rotation'\n\n/**\n * Rotates all selected elements by 90 degrees.\n *\n * @param direction - direction of rotation (1 = CW, -1 = CCW)\n */\nexport function rotate (this: DocumentStoreInstance, direction: number) {\n  this.commitState()\n\n  const selectedItems = Object\n    .values(this.items)\n    .filter(({ isSelected }) => isSelected)\n  const boundingBoxes = selectedItems.map(({ boundingBox }) => boundingBox)\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const groupIds = new Set<string>()\n\n  selectedItems.forEach(item => {\n    const newRotation = rotation.rotate(item.rotation + direction)\n\n    if (item.groupId) {\n      groupIds.add(item.groupId)\n    }\n\n    this.items[item.id].rotation = newRotation\n    this\n      .items[item.id]\n      .portIds\n      .forEach(portId => {\n        this.ports[portId].rotation = newRotation\n      })\n\n    this.setItemPosition({\n      id: item.id,\n      position: rotation.getGroupedItemRotatedPosition(boundingBox, item, direction)\n    })\n    this.setItemPortPositions(item.id)\n  })\n\n  groupIds.forEach(groupId => {\n    this.setGroupBoundingBox(groupId)\n  })\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport ItemType from '@/types/enums/ItemType'\n\n\nexport function deselectItem (this: DocumentStoreInstance, id: string) {\n  this.setSelectionState({ id, value: false })\n}\n\nexport function selectItem (this: DocumentStoreInstance, id: string, keepSelection: boolean = false) {\n  if (!keepSelection) {\n    this.deselectAll()\n  }\n\n  this.setSelectionState({ id, value: true })\n}\n\n/**\n * Selects all items and connections.\n */\nexport function selectAll (this: DocumentStoreInstance) {\n  this.clearStatelessInfo()\n\n  for (let id in this.connections) {\n    this.connections[id].isSelected = true\n    this.selectedConnectionIds.push(id)\n  }\n\n  for (let id in this.items) {\n    this.items[id].isSelected = true\n    this.selectedItemIds.push(id)\n  }\n}\n\n/**\n * Deselects all elements.\n */\nexport function deselectAll (this: DocumentStoreInstance) {\n  this.clearStatelessInfo()\n\n  for (let id in this.connections) {\n    this.connections[id].isSelected = false\n    this.selectedConnectionIds = []\n  }\n\n  for (let id in this.items) {\n    this.items[id].isSelected = false\n    this.selectedItemIds.push(id)\n    this.selectedItemIds = []\n  }\n}\n\n/**\n * Selects all connections and items (and its connections) that live within the given boundary.\n *\n * @param boundingBox - two-dimensional boundary\n */\nexport function createSelection (this: DocumentStoreInstance, selection: BoundingBox) {\n  if (!boundaries.isOneOrTwoDimensional(selection)) return // omit selection lines or points\n\n  const itemIds = Object\n    .keys(this.items)\n    .filter(id => boundaries.hasIntersection(selection, this.items[id].boundingBox))\n  const connectionIds = Object\n    .keys(this.connections)\n    .filter(id => {\n      const connection = this.connections[id]\n      const source = this.ports[connection.source]\n      const target = this.ports[connection.target]\n\n      return boundaries.isLineIntersectingRectangle(source.position, target.position, selection)\n    })\n\n  itemIds\n    .concat(connectionIds)\n    .forEach(id => {\n      this.updateSelectionList({ id, isSelected: true })\n    })\n\n  this.selectItemConnections(itemIds)\n}\n\n/**\n * Selects all connections that are connected to any of the items in the given list.\n *\n * @param itemIds - list of items to select their connections for\n */\nexport function selectItemConnections (this: DocumentStoreInstance, itemIds: string[]) {\n  const portIds = itemIds.reduce((portIds: string[], itemId: string) => {\n    return portIds.concat(this.items[itemId].portIds)\n  }, [])\n\n  for (let id in this.connections) {\n    const c = this.connections[id]\n\n    if (portIds.includes(c.source) && portIds.includes(c.target)) {\n      this.updateSelectionList({ id, isSelected: true })\n    }\n  }\n}\n\n/**\n * Sets the selection this of the given element to the value provided.\n * If the item is a connection segment, then its entire connection chain will take on the same value.\n *\n * @param payload\n * @param payload.id - ID of the item, group, or connection to select\n * @param payload.isSelected - selection this to change to\n */\nexport function updateSelectionList (this: DocumentStoreInstance, { id, isSelected }: { id: string, isSelected: boolean }) {\n  const updateSelectionList = (id: string, key: 'selectedConnectionIds' | 'selectedItemIds') => {\n    const index = this[key].findIndex((i: string) => i === id)\n\n    if (isSelected && index === -1) {\n      this[key].push(id)\n    }\n\n    if (!isSelected && index !== -1) {\n      this[key].splice(index, 1)\n    }\n  }\n\n  if (this.items[id]) {\n    // select an individual item\n    this.items[id].isSelected = isSelected\n    updateSelectionList(id, 'selectedItemIds')\n  } else if (this.connections[id]) {\n    // select a connection (chain)\n    const { connectionChainId } = this.connections[id]\n    const {\n      connectionIds,\n      freeportIds\n    } = getConnectionChain(Object.values(this.connections), this.ports, connectionChainId)\n\n    // select all connection segments that are part of this connection chain\n    connectionIds.forEach(id => {\n      this.connections[id].isSelected = isSelected\n      updateSelectionList(id, 'selectedConnectionIds')\n    })\n\n    // select all freeports that are part of this connection chain\n    freeportIds.forEach(id => {\n      this.items[id].isSelected = isSelected\n      updateSelectionList(id, 'selectedItemIds')\n    })\n  }\n}\n\n/**\n * Inverts the selection this of the element having the given ID, or forces it to the value provided.\n * If the element is a member of a group, every item in that group will be selected.\n *\n * @param payload.id - the ID of the element to toggle its selection\n * @param payload.value - new selection this value to set to\n */\nexport function setSelectionState (this: DocumentStoreInstance, { id, value }: { id: string, value: boolean }) {\n  const element = this.items[id] || this.connections[id]\n  const isSelected = value\n\n  if (!element || element.isSelected === isSelected) return\n\n  if (element.groupId) {\n    // if item is part of a group, select all items in that group\n    const { itemIds, connectionIds } = this.groups[element.groupId]\n\n    itemIds\n      .concat(connectionIds)\n      .forEach(id => {\n        this.updateSelectionList({ id, isSelected })\n      })\n\n    this.updateSelectionList({ id: element.groupId, isSelected })\n  } else {\n    // otherwise, just select this one item\n    this.updateSelectionList({ id, isSelected })\n  }\n}\n\n/**\n * Places focus back to the last base item or forward to the first base item (according to z-index).\n *\n * @param {boolean} backToFirstItem - true if the next item to focus is the first item, or to the first item otherwise\n */\nexport function recycleSelection (this: DocumentStoreInstance, backToFirstItem: boolean) {\n  const id = backToFirstItem\n    ? this.baseItems[0]\n    : this.baseItems.slice(-1)[0]\n\n  if (id) {\n    this.deselectAll()\n    this.setSelectionState({ id: id.id, value: true })\n  }\n}\n\n/**\n * Deletes all selected items and connections.\n */\nexport function deleteSelection (this: DocumentStoreInstance) {\n  if (!this.hasSelection) return\n\n  this.commitState()\n\n  const nonFreeportItems = Object\n    .values(this.items)\n    .filter(({ isSelected, type }) => isSelected && type !== ItemType.Freeport)\n  const nonFreeportItemIds = nonFreeportItems.map(({ id }) => id)\n\n  // select the full chains of each connection attached to each selected item\n  Object\n    .values(this.connections)\n    .filter(c => {\n      const sourcePort = this.ports[c.source]\n      const targetPort = this.ports[c.target]\n\n      if (sourcePort && targetPort) {\n        return nonFreeportItemIds.includes(sourcePort.elementId) ||\n          nonFreeportItemIds.includes(targetPort.elementId)\n      }\n    })\n    .forEach(({ id }) => this.setSelectionState({ id, value: true }))\n\n  // remove all selected connections\n  Object\n    .values(this.connections)\n    .filter(({ isSelected }) => isSelected)\n    .forEach(connection => {\n      this.disconnect({\n        source: connection.source,\n        target: connection.target\n      })\n    })\n\n  // delete all selected non-freeport items\n  nonFreeportItems.forEach(i => this.removeElement(i.id))\n\n  // handle selected freeport deletions using removeFreeport\n  Object\n    .values(this.items)\n    .filter(({ isSelected, type }) => isSelected && type === ItemType.Freeport)\n    .forEach(f => this.removeFreeport(f.id))\n}\n","import SimulationService from '@/services/SimulationService'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Stops the simulation.\n */\nexport function stop (this: DocumentStoreInstance) {\n  this.simulation.pause()\n}\n\n/**\n * Restarts the simulation (if not in debugging mode).\n */\nexport function start (this: DocumentStoreInstance) {\n  if (!this.isDebugging) {\n    this.simulation.unpause()\n  }\n}\n\nexport function buildCircuit (this: DocumentStoreInstance) {\n  this.simulation.oscillator?.stop()\n\n  const simulation = new SimulationService(Object.values(this.items), Object.values(this.connections), this.ports)\n\n  simulation.on('change', (valueMap: Record<string, number>, oscillogram: Oscillogram) => {\n    for (const portId in valueMap) {\n      if (this.ports[portId]) {\n        this.ports[portId].value = valueMap[portId]\n      }\n    }\n\n    this.isCircuitEvaluated = !this.simulation.canContinue\n    this.oscillogram = oscillogram\n  })\n\n  this.simulation = simulation\n}\n\n/**\n * Updates the store according to the port-value mapping provided.\n * This also accepts oscillogram to update the visual oscilloscope.\n */\nexport function onSimulationUpdate (this: DocumentStoreInstance, valueMap: Record<string, number>, oscillogram: Oscillogram) {\n  for (const portId in valueMap) {\n    if (this.ports[portId]) {\n      this.ports[portId].value = valueMap[portId]\n    }\n  }\n\n  this.isCircuitEvaluated = !this.simulation.canContinue\n  this.oscillogram = oscillogram\n}\n\nexport function resetCircuit (this: DocumentStoreInstance) {\n  const items = Object.values(this.items)\n  const connections = Object.values(this.connections)\n\n  Object\n    .values(this.ports)\n    .forEach(port => {\n      port.value = 0\n    })\n\n  this.simulation.oscillator?.stop()\n  this.simulation = new SimulationService(items, connections, this.ports)\n  this.simulation.on('change', this.onSimulationUpdate)\n\n  Object\n    .values(this.items)\n    .forEach(({ properties, portIds }) => {\n      if (properties?.startValue) {\n        portIds.forEach(portId => this.setPortValue({\n          id: portId,\n          value: properties.startValue.value as number\n        }))\n      }\n    })\n\n  this.simulation.unpause()\n\n  if (this.isDebugging) {\n    this.simulation.startDebugging()\n    this.isCircuitEvaluated = !this.simulation.canContinue\n  }\n}\n\nexport function stepThroughCircuit (this: DocumentStoreInstance) {\n  this.simulation.advance()\n  this.isCircuitEvaluated = !this.simulation.canContinue\n}\n\nexport function toggleDebugger (this: DocumentStoreInstance) {\n  if (this.isDebugging) {\n    this.simulation.stopDebugging()\n  } else {\n    this.simulation.startDebugging()\n  }\n\n  this.isDebugging = !this.isDebugging\n}\n\nexport function toggleOscilloscope (this: DocumentStoreInstance) {\n  if (this.isOscilloscopeOpen) {\n    this.closeOscilloscope()\n  } else {\n    this.openOscilloscope()\n  }\n}\n\nexport function openOscilloscope (this: DocumentStoreInstance) {\n  Object\n    .values(this.ports)\n    .forEach(port => {\n      if (port.isMonitored) {\n        this.simulation.monitorPort(port.id, port.value, port.hue)\n      }\n    })\n\n  this.isOscilloscopeOpen = true\n}\n\nexport function closeOscilloscope (this: DocumentStoreInstance, lastHeight?: number) {\n  if (!this.isOscilloscopeOpen) return\n\n  Object\n    .keys(this.ports)\n    .forEach(this.simulation.unmonitorPort)\n\n  this.simulation.oscillator.clear()\n  this.isOscilloscopeOpen = false\n\n  if (lastHeight) {\n    this.oscilloscopeHeight = lastHeight\n  }\n}\n\nexport function clearOscilloscope (this: DocumentStoreInstance) {\n  this.simulation.oscillator.clear()\n}\n\nexport default {\n  stop,\n  start,\n  buildCircuit,\n  onSimulationUpdate,\n  resetCircuit,\n  toggleDebugger,\n  stepThroughCircuit,\n  toggleOscilloscope,\n  openOscilloscope,\n  closeOscilloscope,\n  clearOscilloscope\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\n/**\n * Assigns the rects of the canvas and viewport according to the screen size and rect provided.\n *\n * @param {DOMRectReadOnly} payload.rect - the rect of the item's DOM element\n */\nexport function setViewerSize (this: DocumentStoreInstance, rect: DOMRect) {\n  this.viewport = rect\n\n  this.canvas.right = screen.width / MIN_SCALE\n  this.canvas.bottom = screen.height / MIN_SCALE\n\n  if (!this.hasLoaded && rect.width > 0 && rect.height > 0) {\n    this.hasLoaded = true\n    this.centerAll()\n    this.panToCenter()\n    // this.setZoom({ zoom: 1.4 }) // TODO: set the user-defined default zoom like this\n  }\n}\n\n/**\n * Updates the size of the item.\n * This re-positions the item such that its centroid is in the same location as it was with its old size.\n *\n * @param {object} payload\n * @param {DOMRectReadOnly} payload.rect - the rect of the item's DOM element\n * @param {string} payload.id - ID of the item\n */\nexport function setItemSize (this: DocumentStoreInstance, { rect, id }: { rect: DOMRectReadOnly, id: string }) {\n  const item = this.items[id]\n\n  const width = rect.width / this.zoomLevel\n  const height = rect.height / this.zoomLevel\n\n  // reposition w.r.t. the centroid\n  const centerX = item.position.x + (item.width / 2)\n  const centerY = item.position.y + (item.height / 2)\n  const newX = centerX - width / 2\n  const newY = centerY - height / 2\n\n  this.items[id].position = {\n    x: newX,\n    y: newY\n  }\n  this.items[id].width = width\n  this.items[id].height = height\n\n  this.setItemBoundingBox(id)\n  this.setItemPortPositions(id)\n\n  if (this.items[id].groupId) {\n    this.setGroupBoundingBox(this.items[id].groupId as string)\n  }\n}\n\n/**\n * Sets the bounding box of an item.\n *\n * @param {string} payload.id - ID of the item\n */\nexport function setItemBoundingBox (this: DocumentStoreInstance, id: string) {\n  if (!this.items[id]) return\n\n  const {\n    position,\n    rotation,\n    width,\n    height\n  } = this.items[id]\n\n  this.items[id].boundingBox = boundaries.getBoundingBox(position, rotation, width, height)\n}\n\n/**\n * Sets the bounding box of a group.\n *\n * @param {string} payload.id - ID of the group\n */\nexport function setGroupBoundingBox (this: DocumentStoreInstance, id: string) {\n  if (!this.groups[id]) return\n\n  const boundingBoxes = this\n    .groups[id]\n    .itemIds\n    .map(id => this.items[id].boundingBox)\n\n  this.groups[id].boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n}\n","import ItemType from '@/types/enums/ItemType'\nimport boundaries from '../geometry/boundaries'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Sets the computed boundaries that an actively-dragged item to snap to.\n *\n * @param id - ID of the item or port being dragged\n */\n  export function setSnapBoundaries (this: DocumentStoreInstance, id: string) {\n  this.snapBoundaries = ((): BoundingBox[] => {\n    if (this.connectablePortIds.length) {\n      // if there are connectable port ids, then use those for boundaries\n      return this\n        .connectablePortIds\n        .filter(portId => portId !== id)\n        .map(portId => boundaries.getPointBoundary(this.ports[portId].position))\n    }\n\n    const item = this.items[id]\n\n    if (item && !item.groupId) {\n      // the item with the given id is an item that does not belong to a group\n      if (item.type === ItemType.Freeport) {\n        if (item.portIds.length > 1) {\n          // if only one port exists on the freeport, then it is a port being dragged by the user and does not apply\n          // freeports should snap to \"straighten out\" wires\n          return Object\n            .values(this.connections)\n            .reduce((boundingBoxes: BoundingBox[], connection: Connection) => {\n              if (item.portIds.includes(connection.source)) {\n                return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.target].position))\n              }\n\n              if (item.portIds.includes(connection.target)) {\n                return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.source].position))\n              }\n\n              return boundingBoxes\n            }, [])\n        }\n      } else {\n        // this an item that can snap to align with the outer edge of any non-freeport item\n        return Object\n          .values(this.items)\n          .filter(e => e.id !== id && e.type !== ItemType.Freeport)\n          .map(e => e.boundingBox)\n      }\n    }\n    return []\n  })()\n}\n","import { DocumentStoreInstance } from '..'\n\n/**\n * Reverts to the most-recently committed document this.\n */\nexport function undo (this: DocumentStoreInstance) {\n  const undoState = this.undoStack.slice(-1).pop()\n\n  if (undoState) {\n    this.redoStack.push(JSON.stringify({\n      connections: this.connections,\n      items: this.items,\n      ports: this.ports,\n      groups: this.groups\n    }))\n    this.applyState(undoState)\n    this.undoStack.pop()\n    this.isDirty = true\n  }\n}\n\n/**\n * Reverts to the most-recently-reverted this.\n */\nexport function redo (this: DocumentStoreInstance) {\n  const redoState = this.redoStack.slice(-1).pop()\n\n  if (redoState) {\n    this.undoStack.push(JSON.stringify({\n      connections: this.connections,\n      items: this.items,\n      ports: this.ports,\n      groups: this.groups\n    }))\n    this.applyState(redoState)\n    this.redoStack.pop()\n    this.isDirty = true\n  }\n}\n\nexport function commitState (this: DocumentStoreInstance) {\n  this.cacheState()\n  this.commitCachedState()\n}\n\n/**\n * Stringifies and caches the current document this.\n * This will save all connections, items, ports, and groups.\n */\nexport function cacheState (this: DocumentStoreInstance) {\n  this.cachedState = JSON.stringify({\n    connections: this.connections,\n    items: this.items,\n    ports: this.ports,\n    groups: this.groups\n  })\n}\n\n/**\n * Commits the actively-cached this to the undo stack.\n * This will clear the redo stack.\n */\nexport function commitCachedState (this: DocumentStoreInstance) {\n  if (this.cachedState) {\n    this.undoStack.push(this.cachedState.toString())\n    this.cachedState = null\n    this.redoStack = []\n    this.isDirty = true\n  }\n}\n\n/**\n * Applies the given serialized this to the active document.\n *\n * This this must contain exactly these maps: `items`, `connections`, `ports`, `groups`.\n * Any other properties will not be applied.\n *\n * @param {string} savedState - JSON-serialized this string\n */\nexport function applyState (this: DocumentStoreInstance, savedState: string) {\n  const parsedState = JSON.parse(savedState) as SerializableState\n  const { items, connections, ports, groups } = parsedState\n\n  /* returns everything in a that is not in b */\n  function getExcludedMembers (a: Record<string, BaseItem>, b: Record<string, BaseItem>) {\n    const aIds = Object.keys(a)\n    const bIds = Object.keys(b)\n\n    return aIds.filter(id => !bIds.includes(id))\n  }\n\n  // find all items and connections in current this that are not in the applied this and remove them from the circuit\n  const removedItems = getExcludedMembers(this.items, items)\n  const removedConnections = getExcludedMembers(this.connections, connections)\n\n  // add any new items from the the applied this to the circuit\n  const addedItems = getExcludedMembers(items, this.items)\n  const addedConnections = getExcludedMembers(connections, this.connections)\n\n  removedConnections.forEach(id => this.disconnect(this.connections[id]))\n  removedItems.forEach(id => this.removeElement(id))\n\n  this.ports = ports\n  this.items = items\n  this.groups = groups\n\n  addedItems.forEach(id => {\n    this.addItem({\n      item: items[id],\n      ports\n    })\n  })\n\n  addedConnections.forEach(id => this.connect(connections[id]))\n\n  this.simulation.step()\n}\n","/**\n * Sorting function to sort BaseItems by their zIndex values in ascending order.\n */\nexport default function sortByZIndex (a: BaseItem, b: BaseItem) {\n  if (a.zIndex > b.zIndex) return 1\n  else if (a.zIndex < b.zIndex) return -1\n  return 0\n}\n","import { DocumentStoreInstance } from '..'\nimport sortByZIndex from '@/utils/sortByZIndex'\n\n/**\n * Sends the selected base item(s) to the back.\n */\nexport function sendBackward (this: DocumentStoreInstance) {\n  this.commitState()\n  this.incrementZIndex(-1)\n}\n\n/**\n * Brings the selected base item(s) to the front.\n */\nexport function bringForward (this: DocumentStoreInstance) {\n  this.commitState()\n  this.incrementZIndex(1)\n}\n\n/**\n * Sends the selected base item(s) backward by one z-index.\n */\nexport function sendToBack (this: DocumentStoreInstance) {\n  this.commitState()\n  this.setZIndex(1)\n}\n\n/**\n * Brings the selected base item(s) forward by one z-index.\n */\nexport function bringToFront (this: DocumentStoreInstance) {\n  this.commitState()\n  this.setZIndex(this.zIndex)\n}\n\n/**\n * Increments the zIndex of all items selected.\n * If an item's movement collides with another item's movement, or it becomes out of bounds, its zIndex will not change.\n *\n * @param {number} direction - 1 to increment, -1 to decrement\n */\nexport function incrementZIndex (this: DocumentStoreInstance, direction: number) {\n  const items: BaseItem[] = Object.values(this.items)\n  const connections: BaseItem[] = Object.values(this.connections)\n  const baseItems = items\n    .concat(connections)\n    .sort(sortByZIndex)\n  const selectedItemIds = baseItems\n    .filter(({ isSelected }) => isSelected)\n    .map(({ id }) => id)\n\n  if (direction > 0) {\n    // if the direction is forward, then reverse the selected IDs\n    // this is because the next item that an item may want to swap with may also be swapping (and therefore frozen)\n    // reversing the order that we look at the items will prevent that from happening\n    selectedItemIds.reverse()\n  }\n\n  const frozenIds: string[] = []\n\n  selectedItemIds.forEach(id => {\n    const currentIndex = baseItems.findIndex(i => i.id === id)\n    const nextIndex = currentIndex + direction\n\n    if (nextIndex < 0 || nextIndex >= baseItems.length) {\n      // if the next zIndex pushes it out of bounds, freeze it\n      frozenIds.push(baseItems[currentIndex].id)\n      return\n    }\n\n    if (!frozenIds.includes(baseItems[nextIndex]?.id)) {\n      const item = baseItems[currentIndex]\n      // if the item to swap with is not frozen, then swap places with it\n      baseItems.splice(currentIndex, 1)\n      baseItems.splice(nextIndex, 0, item)\n    }\n  })\n\n  baseItems.forEach((item, index) => {\n    item.zIndex = index + 1\n  })\n\n  this.zIndex = Object.keys(baseItems).length\n}\n\n/**\n * Moves all selected items to the given zIndex values.\n * If those items aren't siblings already, they will be when this is invoked.\n *\n * @param {number} zIndex - new zIndex to move items to\n */\nexport function setZIndex (this: DocumentStoreInstance, zIndex: number) {\n  const items: BaseItem[] = Object.values(this.items)\n  const connections: BaseItem[] = Object.values(this.connections)\n  let baseItems = items\n    .concat(connections)\n    .sort(sortByZIndex)\n  const selectedItems = baseItems.filter(({ isSelected }) => isSelected)\n\n  for (let i = 0; i < baseItems.length; i++) {\n    if (baseItems[i].isSelected) {\n      baseItems.splice(i, 1)\n      i--\n    }\n  }\n\n  baseItems.splice(zIndex - 1, 0, ...selectedItems)\n  baseItems.forEach((item, index) => {\n    item.zIndex = index + 1\n  })\n\n  this.zIndex = Object.keys(baseItems).length\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\n/**\n * Increments the current zoom by one scale step (in the positive or negative direction).\n *\n * @param [direction = 1] - directional scalar (1 or -1)\n */\nexport function incrementZoom (this: DocumentStoreInstance, direction = 1) {\n  this.setZoom({\n    zoom: this.zoomLevel + (SCALE_STEP * direction)\n  })\n}\n\n/**\n * Sets the zoom level for the document.\n * This will zoom on the focal point (if provided) or the center of the visible area (viewport).\n *\n * @param zoom - percentage of zoom by decimal (e.g., 1.0 = 100%)\n * @param [point] - focal point to zoom on\n */\nexport function setZoom (this: DocumentStoreInstance, { zoom, point }: { zoom: number, point?: Point }) {\n  if (zoom < MIN_SCALE) zoom = MIN_SCALE\n  if (zoom > MAX_SCALE) zoom = MAX_SCALE\n\n  zoom = Math.round(zoom * 100) / 100\n\n  if (!point) {\n    point = boundaries.getBoundingBoxMidpoint(this.viewport)\n    point.x += this.viewport.left\n    point.y += this.viewport.top\n  }\n\n  const zoomedPoint = fromDocumentToEditorCoordinates(this.canvas, this.viewport, point, this.zoomLevel)\n  const scaledPoint = { // the canvas coordinate, scaled by the new zoom factor\n    x: zoomedPoint.x * zoom,\n    y: zoomedPoint.y * zoom\n  }\n  const viewportPoint = { // the point w.r.t. the top left offset of the viewport\n    x: point.x - this.viewport.x,\n    y: point.y - this.viewport.y\n  }\n\n  this.panTo({\n    x: Math.round(Math.min(viewportPoint.x - scaledPoint.x, 0)),\n    y: Math.round(Math.min(viewportPoint.y - scaledPoint.y, 0))\n  })\n\n  this.zoomLevel = zoom\n}\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\nimport ItemType from '@/types/enums/ItemType'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport itemFactory from './itemFactory'\nimport { DocumentState } from '@/store/document/state'\n\n/**\n * Creates an integrated circuit item.\n * This will embed the ports, connections, and items provided as internal circuit elements and expose input and output ports for each input and output node, respectively.\n *\n * @param statePorts - ports belonging to all elements to embed\n * @param stateItems - items to embed\n * @param stateConnections - connections between items to embed\n */\nexport default function integratedCircuitFactory (state: DocumentState) {\n  const { ports, items, connections, groups } = cloneDeep(state) as DocumentState\n  const integratedCircuitItem = itemFactory(uuid(), ItemType.IntegratedCircuit, 'Flip flop', 400, 400)\n\n  Object\n    .values(items)\n    .forEach(item => {\n      if (item.type !== ItemType.InputNode && item.type !== ItemType.OutputNode) return\n\n      // loop through each input node (switch, button, etc.) and each output node (lightbulb, etc.) in the circuit\n      // input nodes will convert to buffers and will take in a signal from the outside world\n      // output nodes will convert to buffers and signals it receives and broadcast them to the outside world\n      const portType = item.type === ItemType.InputNode\n        ? PortType.Output\n        : PortType.Input\n\n      // by default, the inputs will be on the left and the outputs on the right, but the user can change this\n      const orientation = item.type === ItemType.InputNode\n        ? Direction.Left\n        : Direction.Right\n\n      item\n        .portIds\n        .filter(portId => ports[portId].type === portType)\n        .forEach(portId => {\n          const newId = uuid()\n\n          // each input node (switch, button, etc.) will become a buffer node when simulated\n          // therefore each input node (now buffer) will receive an additional input port to receive signals from the outside world\n          // likewise, each output node (also now a buffer) will receive an additional output port to broadcast signals to the outside world\n          // these new input and output ports will be used by both the embedded nodes and the integrated circuit element itself\n          ports[newId] = {\n            ...cloneDeep<Port>(ports[portId]),\n            type: item.type === ItemType.InputNode\n              ? PortType.Input\n              : PortType.Output,\n            id: newId,\n            elementId: item.id,\n            orientation\n          }\n\n          item.portIds.push(newId)\n          integratedCircuitItem.portIds.push(newId)\n        })\n\n      item.type = ItemType.Buffer\n    })\n\n  integratedCircuitItem.integratedCircuit = {\n    items,\n    connections,\n    ports,\n    groups,\n    serializedState: JSON.stringify({\n      items: state.items,\n      connections: state.connections,\n      ports: state.ports,\n      groups: state.groups\n    })\n  }\n\n  return integratedCircuitItem\n}\n","import { defineStore } from 'pinia'\nimport { state, DocumentState } from './state'\nimport * as clipboardActions from './actions/clipboard'\nimport * as connectionActions from './actions/connection'\nimport * as editorActions from './actions/editor'\nimport * as freeportActions from './actions/freeport'\nimport * as groupingActions from './actions/grouping'\nimport * as itemActions from './actions/item'\nimport * as panningActions from './actions/panning'\nimport * as portActions from './actions/port'\nimport * as positioningActions from './actions/positioning'\nimport * as rotationActions from './actions/rotation'\nimport * as selectionActions from './actions/selection'\nimport * as simulationActions from './actions/simulation'\nimport * as sizingActions from './actions/sizing'\nimport * as snappingActions from './actions/snapping'\nimport * as undoRedoActions from './actions/undoRedo'\nimport * as zIndexActions from './actions/zIndex'\nimport * as zoomingActions from './actions/zooming'\nimport integratedCircuitFactory from '@/factories/integratedCircuitFactory'\nimport sortByZIndex from '@/utils/sortByZIndex'\nimport idMapper from '@/utils/idMapper'\n\nexport const createDocumentStore = (documentId: string) => defineStore({\n  id: documentId,\n  state,\n  getters: {\n    baseItems (state) {\n      return (Object\n        .values(state.connections) as BaseItem[])\n        .concat(Object.values(state.items) as BaseItem[])\n        .sort(sortByZIndex)\n    },\n\n    zoom (state) {\n      return state.zoomLevel\n    },\n\n    hasSelection (state) {\n      return state.selectedItemIds.length > 0 || state.selectedConnectionIds.length > 0\n    },\n\n    hasSelectedItems (state) {\n      return state.selectedItemIds.length > 0\n    },\n\n    selectedGroupIds (state) {\n      const selectedGroupIds = new Set<string | null>()\n\n      state\n        .selectedItemIds\n        .forEach(id => selectedGroupIds.add(state.items[id]?.groupId))\n\n      return Array.from(selectedGroupIds)\n    },\n\n    canGroup () {\n      return this.selectedGroupIds.length > 1 || [].slice.call(this.selectedGroupIds)[0] === null\n    },\n\n    canUngroup () {\n      return !![].slice.call(this.selectedGroupIds).find(id => !!id)\n    },\n\n    canUndo (state) {\n      return state.undoStack.length > 0\n    },\n\n    canRedo (state) {\n      return state.redoStack.length > 0\n    }\n  },\n  actions: {\n    ...clipboardActions,\n    ...connectionActions,\n    ...editorActions,\n    ...freeportActions,\n    ...groupingActions,\n    ...itemActions,\n    ...panningActions,\n    ...portActions,\n    ...positioningActions,\n    ...rotationActions,\n    ...selectionActions,\n    ...simulationActions,\n    ...snappingActions,\n    ...sizingActions,\n    ...undoRedoActions,\n    ...zIndexActions,\n    ...zoomingActions,\n\n    async saveIntegratedCircuit () {\n      // TODO: this action should live in the root state, not here\n      const originalIcItem = integratedCircuitFactory(this.$state as DocumentState)\n      const idMappedIcItem = idMapper.mapIntegratedCircuitIds(originalIcItem)\n\n      this.insertItemAtPosition({ item: idMappedIcItem, ports: [] })\n      this.setItemBoundingBox(idMappedIcItem.id)\n      this.setItemPortPositions(idMappedIcItem.id)\n      this.setSelectionState({ id: idMappedIcItem.id, value: true })\n    }\n  }\n})\n\nexport type DocumentStore = ReturnType<typeof createDocumentStore>\n\nexport type DocumentStoreInstance = ReturnType<DocumentStore>\n","import { Buffer } from 'buffer'\nimport JSZip from 'jszip'\n\nexport default class FileService {\n  static async open (filePath: string) {\n    const zip = new JSZip()\n\n    const compressedContent = window.api.openFile(filePath)\n    const { files } = await zip.loadAsync(compressedContent)\n    const data = await files.content.async('text')\n\n    return data\n  }\n\n  static async writeBlob (filePath: string, blob: Blob) {\n    const blobby = await blob.arrayBuffer()\n    const buf = Buffer.from(blobby)\n\n    window.api.saveFile(filePath, buf)\n  }\n\n  static async save (filePath: string, content: object) {\n    const zip = new JSZip()\n\n    zip.file('content', JSON.stringify(content))\n\n    const compressedContent = await zip.generateAsync({ type: 'blob' })\n\n    this.writeBlob(filePath, compressedContent)\n  }\n}\n","export default function getFileName (filePath: string) {\n  return filePath.split('\\\\').pop()?.split('/').pop() || ''\n}\n","// @ts-check\nimport { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport basic from '../containers/fixtures/basic.json'\nimport flipFlop from '../containers/fixtures/flipflop.json'\nimport integratedCircuit from '../containers/fixtures/ic.json'\nimport testIc from '../containers/fixtures/test.json'\n\nimport { createDocumentStore, DocumentStore } from './document'\nimport FileService from '@/services/FileService'\nimport getFileName from '@/utils/getFileName'\n\nexport type RootStore = {\n  documents: {\n    [id: string]: {\n      fileName: string\n      filePath?: string\n      displayName: string\n      store: DocumentStore\n    }\n  }\n  clipboard: string | null\n  activeDocumentId: string | null\n  canExit: boolean\n  isFullscreen: boolean\n}\n\nexport const useRootStore = defineStore({\n  id: 'root',\n  state: (): RootStore => ({\n    documents: {},\n    clipboard: null,\n    activeDocumentId: null,\n    canExit: false,\n    isFullscreen: false\n  }),\n  getters: {\n    hasOpenDocuments (state) {\n      return Object\n        .keys(state.documents)\n        .length > 0\n    },\n    activeDocument (state) {\n      if (state.activeDocumentId) {\n        return state.documents[state.activeDocumentId]\n      }\n\n      return null\n    }\n  },\n  actions: {\n    openIntegratedCircuit (item: Item) {\n      if (item.integratedCircuit) {\n        this.openDocument('', item.integratedCircuit.serializedState, item.id, item.name)\n      }\n    },\n    async saveImage (data: Blob) {\n      if (!this.activeDocument) return\n\n      try {\n        const partialName = this.activeDocument.displayName.replace(/\\.[^/.]+$/, \"\")\n        const fileName = `${partialName}.png`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'PNG Image',\n            extensions: ['.png']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.writeBlob(filePath, data)\n      } catch (error) {\n        console.log('ERROR: ', error)\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the image.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    newDocument () {\n      const id = uuid()\n      const store = createDocumentStore(id)\n      const document = store()\n\n      document.resetCircuit()\n\n      this.documents[id] = {\n        fileName: 'Untitled Circuit',\n        displayName: 'Untitled Circuit',\n        store\n      }\n      this.activateDocument(id)\n    },\n    async closeAll (): Promise<boolean> {\n      if (this.activeDocumentId) {\n        const closedSuccessfully = await this.closeDocument(this.activeDocumentId)\n\n        // wait for the next window frame to show the next active document\n        await new Promise(resolve => setTimeout(resolve))\n\n        if (closedSuccessfully) {\n          return this.closeAll()\n        }\n\n        return false // a document refused to close\n      }\n\n      return true // all documents successfully closed\n    },\n    printActiveDocument () {\n      if (this.activeDocument) {\n        this.activeDocument.store().isPrinting = true\n      }\n    },\n    async closeDocument (id: string): Promise<boolean> {\n      const document = this.documents[id]\n      const store = document.store()\n      let isSuccessful = true\n\n      this.activateDocument(id)\n\n      if (store.isDirty) {\n        const dialogResult = window.api.showMessageBox({\n          message: `Save changes to ${document.fileName}?`,\n          title: 'Confirm',\n          buttons: ['Yes', 'No', 'Cancel']\n        })\n\n        if (dialogResult === 0) {\n          // user selected 'Yes' (to save the active document)\n          isSuccessful = await this.saveActiveDocument()\n        }\n\n        if (dialogResult === 2) {\n          // user selected 'Cancel' to continue editing their document\n          return false\n        }\n      }\n\n      // TODO: call some sort of teardown/$dispose() function of document\n      delete this.documents[id]\n      this.activeDocumentId = null\n\n      const remainingId = Object.keys(this.documents).pop()\n\n      if (remainingId) {\n        this.activateDocument(remainingId)\n      }\n\n      return isSuccessful\n    },\n    async saveActiveDocument (setFileName: boolean = false): Promise<boolean> {\n      try {\n        if (!this.activeDocument) return true\n        if (!this.activeDocument.filePath || setFileName) {\n          // if no file name is defined yet, ask the user for the location to save it\n          const fileName = this.activeDocument.fileName || `${this.activeDocument.fileName}.alfx`\n          const filePath = window.api.showSaveFileDialog([\n            {\n              name: 'Aristotle Logic Circuit (*.alfx)',\n              extensions: ['alfx']\n            }\n          ], fileName)\n\n          if (!filePath) return true\n          if (filePath) {\n            const fileName = getFileName(filePath)\n\n            this.activeDocument.filePath = filePath\n            this.activeDocument.fileName = fileName\n            this.activeDocument.displayName = fileName\n          }\n        }\n\n        if (!this.activeDocument.filePath) return true\n\n        const store = this.activeDocument.store()\n\n        FileService.save(this.activeDocument.filePath, {\n          items: store.items,\n          connections: store.connections,\n          groups: store.groups,\n          ports: store.ports\n        })\n\n        store.isDirty = false\n\n        return true\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the file.',\n          title: 'Error',\n          type: 'error'\n        })\n\n        return false\n      }\n    },\n    async selectDocument () {\n      const files = window.api.showOpenFileDialog([\n        {\n          name: 'Aristotle Logic Circuit (*.alfx)',\n          extensions: ['alfx']\n        }\n      ])\n\n      for (let i = 0; i < files.length; i++) {\n        await this.openDocumentFromPath(files[i])\n      }\n    },\n    async openDocumentFromPath (filePath: string) {\n      try {\n        // TODO: need to create lock on file while open\n        const content = await FileService.open(filePath)\n\n        if (content) {\n          this.openDocument(filePath, content, uuid())\n        }\n      } catch (error) {\n        console.log('ERR', error)\n        window.api.showMessageBox({\n          message: `Could not open ${filePath}. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    openDocument (filePath: string, content: string, id: string, displayName: string = '') {\n      if (this.documents[id]) {\n        return this.activateDocument(id)\n      }\n\n      const store = createDocumentStore(id)\n      const document = store()\n      const fileName = getFileName(filePath)\n\n      document.loadDocument(content)\n\n      this.documents[id] = {\n        fileName,\n        filePath,\n        displayName: displayName || fileName,\n        store\n      }\n      this.activateDocument(id)\n    },\n    switchDocument (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => this.activeDocumentId === id)\n\n      let nextIndex = currentIndex + direction\n\n      if (documentIds.length === 0) return\n      if (currentIndex === -1 || nextIndex >= documentIds.length) nextIndex = 0\n      else if (nextIndex < 0) nextIndex = documentIds.length - 1\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n    pauseActivity () {\n      this.activeDocument?.store().stop()\n    },\n    resumeActivity () {\n      this.activeDocument?.store().start()\n    },\n    activateDocument (id: string) {\n      this.pauseActivity()\n      this.activeDocumentId = id\n      this.resumeActivity()\n    },\n    openTestDocuments () {\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify({\n      //   connections: {},\n      //   items: {},\n      //   ports: {},\n      //   groups: {}\n      // }))\n      // this.openDocument('test.alfx', JSON.stringify(testIc))\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify(integratedCircuit))\n      // this.pauseActivity()\n      this.openDocument('flip-flop.alfx', JSON.stringify(flipFlop), uuid(), 'flip-flop.alfx')\n    },\n\n    navigateDocumentList (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => id === this.activeDocumentId)\n      let nextIndex = currentIndex + direction\n\n      if (nextIndex < 0) nextIndex = documentIds.length - 1\n      if (nextIndex >= documentIds.length) nextIndex = 0\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n\n    toggleFullscreen () {\n      this.isFullscreen = !this.isFullscreen\n\n      window.api.setFullscreen(this.isFullscreen)\n    }\n  }\n})\n","import { render } from \"./Document.vue?vue&type=template&id=f7c739aa&ts=true\"\nimport script from \"./Document.vue?vue&type=script&lang=ts\"\nexport * from \"./Document.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Icon.vue?vue&type=template&id=c2deb328&ts=true\"\nimport script from \"./Icon.vue?vue&type=script&lang=ts\"\nexport * from \"./Icon.vue?vue&type=script&lang=ts\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarButton.vue?vue&type=template&id=7bbf6728&ts=true\"\nimport script from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarButton.vue?vue&type=style&index=0&id=7bbf6728&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarSeparator.vue?vue&type=template&id=3396867d&ts=true\"\nimport script from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarSeparator.vue?vue&type=style&index=0&id=3396867d&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ScrollFade.vue?vue&type=template&id=33168494&ts=true\"\nimport script from \"./ScrollFade.vue?vue&type=script&lang=ts\"\nexport * from \"./ScrollFade.vue?vue&type=script&lang=ts\"\n\nimport \"./ScrollFade.vue?vue&type=style&index=0&id=33168494&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Toolbar.vue?vue&type=template&id=0c2bba68&ts=true\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Toolbar.vue?vue&type=style&index=0&id=0c2bba68&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxItem.vue?vue&type=template&id=7ec54bd9&ts=true\"\nimport script from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxItem.vue?vue&type=style&index=0&id=7ec54bd9&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxLayout.vue?vue&type=template&id=4b5fba5b&ts=true\"\nimport script from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxLayout.vue?vue&type=style&index=0&id=4b5fba5b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nconst inputFactory: ItemFactory = (type: ItemSubtype, width: number, height: number, properties: PropertySet = {}) => {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Right, PortType.Output, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.InputNode, type, width, height, ports)\n\n  item.properties = {\n    ...properties,\n    startValue: {\n      label: 'Start value',\n      value: -1,\n      type: 'number',\n      options: {\n        'True': 1,\n        'Hi-Z': 0,\n        'False': -1\n      }\n    },\n  }\n\n  return { item, ports }\n}\n\nexport default inputFactory\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport inputFactory from './inputFactory'\n\nconst clockFactory: ItemFactory = () => inputFactory(ItemSubtype.Clock, 60, 60, {\n  interval: {\n    label: 'Interval',\n    value: 1000,\n    type: 'number',\n    min: 100\n  }\n})\n\nexport default clockFactory\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function lightbulbFactory () {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Left, PortType.Input, 'Input Port')\n  ]\n  const item = itemFactory(elementId, ItemType.OutputNode, ItemSubtype.Lightbulb, 40, 40, ports)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\n\nexport default function logicGateFactory (type: ItemSubtype, width: number, height: number) {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 1'),\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 2'),\n    portFactory(elementId, uuid(), 2, 0, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.LogicGate, type, width, height, ports)\n\n  item.properties = {\n    inputCount: {\n      label: 'Input count',\n      value: 2,\n      type: 'number',\n      min: 2\n    },\n    showInOscilloscope: {\n      label: 'Show in oscilloscope',\n      value: false,\n      type: 'boolean'\n    }\n  }\n\n  return { item, ports }\n}\n","import clockFactory from './clockFactory'\nimport inputFactory from './inputFactory'\nimport lightbulbFactory from './lightbulbFactory'\nimport logicGateFactory from './logicGateFactory'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\ntype FactoryDictionary = {\n  [type: string]: {\n    [subtype: string]: ItemFactory\n  }\n}\n\nexport default {\n  [ItemType.InputNode]: {\n    [ItemSubtype.Switch]: inputFactory.bind(this, ItemSubtype.Switch, 60, 60),\n    [ItemSubtype.Clock]: clockFactory\n  },\n  [ItemType.OutputNode]: {\n    [ItemSubtype.Lightbulb]: lightbulbFactory\n  },\n  [ItemType.LogicGate]: {\n    [ItemSubtype.And]: logicGateFactory.bind(this, ItemSubtype.And, 140, 50),\n    [ItemSubtype.Nand]: logicGateFactory.bind(this, ItemSubtype.Nand, 140, 50),\n    [ItemSubtype.Xnor]: logicGateFactory.bind(this, ItemSubtype.Xnor, 140, 50),\n    [ItemSubtype.Nor]: logicGateFactory.bind(this, ItemSubtype.Nor, 140, 50),\n    [ItemSubtype.Or]: logicGateFactory.bind(this, ItemSubtype.Or, 140, 50)\n  }\n} as FactoryDictionary\n","import { render } from \"./Toolbox.vue?vue&type=template&id=1b00f894&ts=true\"\nimport script from \"./Toolbox.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbox.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabItem.vue?vue&type=template&id=10855886&ts=true\"\nimport script from \"./TabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TabItem.vue?vue&type=script&lang=ts\"\n\nimport \"./TabItem.vue?vue&type=style&index=0&id=10855886&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabHost.vue?vue&type=template&id=df89a472&ts=true\"\nimport script from \"./TabHost.vue?vue&type=script&lang=ts\"\nexport * from \"./TabHost.vue?vue&type=script&lang=ts\"\n\nimport \"./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTimeline.vue?vue&type=template&id=fc2278b6&ts=true\"\nimport script from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTimeline.vue?vue&type=style&index=0&id=fc2278b6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTitleBar.vue?vue&type=template&id=5bfaeb92&ts=true\"\nimport script from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=5bfaeb92&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeViewer.vue?vue&type=template&id=e3956fc6&ts=true\"\nimport script from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeViewer.vue?vue&type=style&index=0&id=e3956fc6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Oscilloscope.vue?vue&type=template&id=5aef69f2&ts=true\"\nimport script from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\nexport * from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarButton.vue?vue&type=template&id=3ddd451b&ts=true\"\nimport script from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarViewer.vue?vue&type=template&id=dc432b1a&ts=true\"\nimport script from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarViewer.vue?vue&type=style&index=0&id=dc432b1a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarZoom.vue?vue&type=template&id=2cb57bfb&ts=true\"\nimport script from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBar.vue?vue&type=template&id=cd242746&ts=true\"\nimport script from \"./StatusBar.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\n\nexport default function file (): MenuItemConstructorOptions[] {\n  const rootStore = useRootStore()\n  const hasDocument = rootStore.activeDocumentId !== null\n  const documentList = Object.keys(rootStore.documents)\n  const store = rootStore.activeDocument?.store()\n  const items: MenuItemConstructorOptions[] = [\n    {\n      label: '&New Circuit',\n      accelerator: 'CommandOrControl+N',\n      click: rootStore.newDocument\n    },\n    { type: 'separator' },\n    {\n      label: '&Open Circuit',\n      accelerator: 'CommandOrControl+O',\n      click: rootStore.selectDocument\n    },\n    {\n      label: 'Open &Integrated Circuit',\n      accelerator: 'CommandOrControl+Shift+O',\n      click: rootStore.selectDocument\n    },\n    { type: 'separator' },\n    {\n      label: 'Save',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+S',\n      click: () => rootStore.saveActiveDocument()\n    },\n    {\n      label: 'Save As...',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+S',\n      click: () => rootStore.saveActiveDocument(true)\n    },\n    {\n      label: 'Save All',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+A',\n      click: () => console.log('root store save all')\n    },\n    { type: 'separator' },\n    {\n      label: 'Print',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+P',\n      click: () => store?.print()\n    },\n    { type: 'separator' },\n    {\n      label: 'Export...',\n      enabled: hasDocument,\n      submenu: [\n        {\n          label: 'Integrated Circuit',\n          accelerator: 'CommandOrControl+Shift+E',\n          click: () => console.log('export IC')\n        },\n        {\n          label: 'PNG Image',\n          accelerator: 'CommandOrControl+Shift+I',\n          click: () => store?.createImage()\n        }\n      ]\n    },\n    { type: 'separator' },\n    {\n      label: 'Preferences',\n      submenu: [\n        {\n          label: 'Global Preferences',\n          accelerator: 'CommandOrControl+,',\n          click: () => console.log('global prefs')\n        },\n        {\n          label: 'Document Preferences',\n          accelerator: 'CommandOrControl+Shift+,',\n          click: () => console.log('doc prefs')\n        }\n      ]\n    }\n  ]\n\n  if (Object.keys(rootStore.documents).length > 1) {\n    const submenu: MenuItemConstructorOptions[] = [\n      {\n        label: 'Previous File',\n        accelerator: 'Ctrl+Shift+Tab',\n        click: () => rootStore.switchDocument(-1)\n      },\n      {\n        label: 'Next File',\n        accelerator: 'Ctrl+Tab',\n        click: () => rootStore.switchDocument(1)\n      },\n      { type: 'separator' }\n    ]\n\n    for (let i = 0; i < documentList.length; i++) {\n      submenu.push({\n        type: \"checkbox\",\n        label: rootStore.documents[documentList[i]].displayName,\n        checked: rootStore.activeDocumentId === documentList[i],\n        click: () => rootStore.activateDocument(documentList[i])\n      })\n    }\n\n    items.push({ type: 'separator' })\n    items.push({\n      label: 'Switch to...',\n      submenu\n    })\n  }\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Close Document',\n    accelerator: 'CmdOrCtrl+W',\n    enabled: hasDocument,\n    click: () => rootStore.closeDocument(rootStore.activeDocumentId as string)\n  })\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Exit',\n    accelerator: 'CmdOrCtrl+Q',\n    click: () => window.close()\n  })\n\n  return items\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\nimport grid from './grid'\n\nexport default function edit (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n  const zoomSubmenu: MenuItemConstructorOptions[] = []\n  let hasFixedZoom = false\n\n  for (let i = 1; i <= 8; i++) {\n    const zoom = (i * 25) / 100\n    const checked = store.zoomLevel === zoom\n\n    hasFixedZoom = hasFixedZoom || checked\n\n    zoomSubmenu.push({\n      type: 'checkbox',\n      checked,\n      label: `${zoom * 100}%`,\n      accelerator: zoom === 1 ? 'CommandOrControl+0' : undefined,\n      click: () => store.setZoom({ zoom })\n    })\n  }\n\n  if (!hasFixedZoom) {\n    zoomSubmenu.unshift({\n      type: 'checkbox',\n      checked: true,\n      label: 'Custom'\n    })\n  }\n\n  const menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Zoom In',\n      accelerator: 'CommandOrControl+=',\n      enabled: store.zoomLevel < 2, // TODO: const\n      click: () => store.incrementZoom(1)\n    },\n    {\n      label: '&Zoom Out',\n      accelerator: 'CommandOrControl+-',\n      enabled: store.zoomLevel > 0.1, // TODO: const\n      click: () => store.incrementZoom(-1)\n    },\n    {\n      label: '&Zoom...',\n      submenu: zoomSubmenu\n    },\n    { type: 'separator' },\n    {\n      label: '&Pan to Center',\n      accelerator: 'CommandOrControl+;',\n      click: store.panToCenter\n    },\n    { type: 'separator' }\n  ]\n\n  return menu.concat(grid(useDocumentStore))\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\nimport edit from './submenus/edit'\nimport file from './submenus/file'\nimport view from './submenus/view'\n\nexport default function createApplicationMenu () {\n  const store = useRootStore()\n  const menus: MenuItemConstructorOptions[] = [\n    {\n      label: 'File',\n      submenu: file()\n    }\n  ]\n\n  if (store.activeDocument) {\n    menus.push({\n      label: 'Edit',\n      submenu: edit(store.activeDocument.store)\n    })\n\n    menus.push({\n      label: 'View',\n      submenu: view(store.activeDocument.store).concat([\n        { type: 'separator' },\n        {\n          type: 'checkbox',\n          click: store.toggleFullscreen,\n          checked: store.isFullscreen,\n          accelerator: 'F11',\n          label: 'Fullscreen'\n        }\n      ])\n    })\n  }\n\n  return menus\n}\n","import { render } from \"./MainView.vue?vue&type=template&id=3089c40a&ts=true\"\nimport script from \"./MainView.vue?vue&type=script&lang=ts\"\nexport * from \"./MainView.vue?vue&type=script&lang=ts\"\n\nimport \"./MainView.vue?vue&type=style&index=0&id=3089c40a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const isMobile = true\n\nexport default false\n","import { render } from \"./App.vue?vue&type=template&id=2709d8a0&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2709d8a0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createPinia } from 'pinia'\nimport { createApp } from 'vue'\nimport App from '@/App.vue'\nimport '@/styles/main.scss'\n\nif (!window.api) {\n  // stub the ipc api for non-electron environments\n  // TODO: once the app is fully electron, move this to jest setup file\n  window.api = {\n    showContextMenu () {},\n    setApplicationMenu () {},\n    showOpenFileDialog () { return [] },\n    showSaveFileDialog () { return '' },\n    showMessageBox () { return 0 },\n    beep () {},\n    quit () {},\n    copy () {},\n    paste () { return '' },\n    onBeforeClose () {},\n    onOpenFile () {},\n    openFile () { return '' },\n    saveFile () {},\n    setFullscreen () {}\n  }\n}\n\ncreateApp(App)\n  .use(createPinia())\n  .mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkaristotle\"] = self[\"webpackChunkaristotle\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2138); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","key","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_toolbar","_resolveComponent","_component_toolbox","_component_tab_item","_component_document","_component_tab_host","_component_oscilloscope","_component_status_bar","_component_main_view","_openBlock","_createElementBlock","_Fragment","_createElementVNode","class","_normalizeClass","isDropping","activeDocumentId","activeDocument","_createBlock","top","_withCtx","isMobile","_createCommentVNode","store","_createVNode","middle","_createSlots","default","onSwitch","switchDocument","onOpenIntegratedCircuit","openIntegratedCircuit","_","undefined","name","fn","_renderList","documents","document","id","label","displayName","active","dirty","isDirty","onActivate","$event","activateDocument","toString","onClose","closeDocument","bottom","isFullscreen","onFullscreen","toggleFullscreen","_toDisplayString","_component_item","_component_connection","_component_group","_component_editor","ref","zoom","zoomLevel","gridSize","tabindex","offset","x","canvas","left","y","width","right","height","onPan","panTo","onDeselect","deselectAll","onSelection","createSelection","onZoom","setZoom","onContextmenu","onContextMenu","onResize","setViewerSize","onFocus","recycleSelection","baseItems","baseItem","storeDefinition","isSelected","flash","isDebugging","isCircuitEvaluated","zIndex","$emit","connectionPreviewId","groups","group","boundingBox","_component_wire","_component_draggable","style","_normalizeStyle","position","freeportId","onTouchhold","onDragStart","onDrag","onDragEnd","onSelect","selectItem","k","deselectItem","source","target","geometry","isPreview","_component_resizable","onMousedown","_withModifiers","onMouseDown","onMouseup","onMouseUp","onTouchstart","onTouchStart","onTouchmove","onTouchMove","onTouchend","onTouchEnd","onTouchcancel","dragEnd","_renderSlot","$slots","SnapMode","roundToNth","n","Math","round","isInNeighborhood","a","b","radius","hypot","getGridSnapPosition","distance","getRadialSnapOffset","boundingBoxes","i","length","getOuterSnapOffset","ts","abs","bs","ls","rs","getSnapOffset","snapMode","hasLinearIntersection","a1","a2","b1","b2","ccw","c","isLineIntersectingRectangle","b3","b4","hasIntersection","scaleBoundingBox","box","scale","isOneOrTwoDimensional","getLinearBoundaries","point","Infinity","getPointBoundary","getBoundingBox","rotation","midX","midY","getGroupBoundingBox","reduce","rect","min","max","getBoundingBoxMidpoint","getCenteredScreenPoint","parentBox","childBox","factor","parentMidpoint","childWidth","childHeight","getExtremePoint","points","map","defineComponent","emits","resize","setup","emit","resizable","onSizeChanged","getBoundingClientRect","observer","ResizeObserver","onMounted","value","observe","__exports__","components","Resizable","props","type","Object","Boolean","allowTouchDrag","dragStart","drag","select","deselect","touchhold","computed","draggable","touchTimeout","isDragging","hasMovedSubstantially","hasEmittedDragStart","initialTouchPosition","setTimeout","clientX","clientY","$el","onMouseMove","stopImmediatePropagation","preventDefault","ctrlKey","touches","window","newPosition","boundaries","clearTimeout","stopPropagation","addEventListener","onBeforeUnmount","removeEventListener","watchEffect","focus","_hoisted_3","_hoisted_4","_hoisted_5","fill","transform","minX","minY","d","path","isAnimated","required","String","Direction","rotate","additional","WIRE_PADDING","renderLayout","getEndpoints","start","end","computeStraightLine","sourceDirection","getPortDirection","targetDirection","computeBezier","inflectDirection","direction","port","orientation","isFreeport","floor","x1","y1","x4","y4","dx","dy","x2","toFixed","y2","x3","y3","join","toNumArr","parseInt","maxX","maxY","Draggable","Wire","Number","Function","connection","connections","root","ports","topLeft","createFreeport","groupId","opacity","uuid","navigator","vibrate","itemId","inputPortId","outputPortId","connectionChainId","sourceId","targetId","setSnapBoundaries","dragItem","destroyConnection","_component_properties","_component_port_item","_component_circuit_component","item","outline","pointerEvents","onKeydown","_withKeys","onEscapeKey","commitCachedState","isPropertiesEnabled","properties","onUpdate","setProperties","setActivePortId","subtype","onChange","setPortValue","o","filter","p","ItemType","Freeport","connectedPortIds","hue","isMonitored","onKeypress","onBlur","onPortBlur","_resolveDynamicComponent","_mergeProps","index","model","onInput","Array","change","data","inputCount","viewBox","cx","cy","r","isNegated","isXor","_component_or","Or","_component_and","And","Nor","Nand","Xnor","Xor","InputNode","IntegratedCircuit","LogicGate","OutputNode","args","role","_createTextVNode","_hoisted_6","_hoisted_7","_hoisted_8","isOpen","onKeyDown","onClick","propertyName","for","options","_withDirectives","_vModelSelect","_vModelCheckbox","_vModelDynamic","watch","handler","cloneDeep","deep","immediate","methods","_component_port_handle","_component_port_pivot","cycleConnectionPreviews","commitPreviewedConnection","activePortId","connectablePortIds","includes","onTouchHold","onDblclick","togglePortMonitoring","backgroundColor","PortType","PortHandle","PortPivot","newFreeport","draggedPortId","isAdded","unsetConnectionPreview","cachedState","setConnectablePortIds","portId","connectFreeport","ItemSubtype","CircuitComponent","PortItem","Properties","items","itemRef","portIds","selectedItemIds","cacheState","activeElement","blur","setItemSize","_component_selector","onMousewheel","onMouseWheel","onSelectionStart","onSelectionEnd","hasSelection","selectionStart","selectionEnd","selector","bbox","getPosition","pan","selection","payload","contextmenu","Selector","panStartPosition","previousPosition","originalMousePosition","speed","angle","animationInterval","lastMouseMoveTime","isPanning","firstPinchDistance","initialZoom","backgroundSize","getTouchDistance","deltaX","deltaY","startPanning","clearInterval","atan2","Date","now","endPanning","percent","lastDate","dampening","easeOutPanning","cos","sin","setInterval","button","targetTouches","changedTouches","shiftKey","wheel","boundary","edit","useDocumentStore","submenus","menu","enabled","canUndo","accelerator","click","undo","deleteSelection","push","submenu","setZIndex","incrementZIndex","canGroup","canUngroup","concat","checked","grid","editor","createPrintArea","padding","className","printArea","cloneNode","children","child","replace","background","classList","add","createPrintFrame","image","pageSize","iframe","createElement","body","appendChild","printFrame","contentWindow","styleTag","createTextNode","s","head","append","createImage","domToImage","dataUrl","remove","printWindow","win","Promise","resolve","print","printImage","printing","minSize","maxSize","Image","src","isLandscape","reverse","Connection","node","this","LogicValue","TRUE","FALSE","UNKNOWN","CircuitNode","inputIds","newValue","eventType","events","forEach","event","callback","compare","values","inputValues","outputs","update","eval","queue","isValueChanged","updateOutputs","invokeEvent","forceContinue","propagate","Circuit","inputNodes","enqueue","nodes","inputIndex","findIndex","splice","removeNodeOutputs","next","sourceNode","targetNode","removeConnection","added","indexOf","removed","removedIndex","reset","localQueue","shift","dequeue","isComplete","nextValue","getProjectedValue","valueCount","Buffer","keys","pop","BinaryWaveService","signal","segment","lastY","addSegment","updateWidth","segments","initialize","elapsed","drawPulseConstant","previous","pos","widthToKeep","widthToTruncate","unshift","slice","ClockService","interval","TinyEmitter","emitter","on","lastUpdate","OscillationService","isPaused","remainingPeriodTime","lastUpdateTime","refreshRate","tick","waves","wave","displays","getPoints","screenWidth","screen","widthOfOneSecond","maxHistorySeconds","timeMsElapsed","timeMsOffset","truncateSegments","computeWaveGeometry","MAX_IDLE_TIME","hasUpdated","stop","delta","broadcast","requestAnimationFrame","hasOwnProperty","clear","getLogicGateNode","getCircuitNode","SimulationService","addNode","addConnection","valueMap","oscillogram","oscillator","iteration","circuit","shouldContinue","Error","step","isDebug","pause","computeNextState","advance","nextState","unpause","nextValues","nextValueMap","updatePortValue","JSON","parse","currentState","stringify","canContinue","setValue","drawPulseChange","anyValueChanged","enqueuePortValueChange","icItem","integratedCircuit","addIntegratedCircuit","outputIds","circuitNodeMapper","addPort","addClock","monitorPort","getIntegratedCircuitPortIds","ic","removeNode","removePort","clocks","setOutputValue","unmonitorPort","addElements","state","undoStack","redoStack","simulation","taxonomyCounts","oscilloscopeHeight","isOscilloscopeOpen","hasLoaded","isPrinting","isCreatingImage","isToolboxOpen","viewport","DOMRect","snapBoundaries","selectedConnectionIds","selectedPortIndex","activeFreeportId","mapStandardCircuitIds","idMap","mapGroups","oldId","newId","mapGroupIds","mapConnections","mapConnectionChainIds","mapItems","serializedState","mapItemIds","elementId","mapPorts","mapIntegratedCircuitIds","cut","copy","clipboardData","pasteCount","api","paste","parsed","mapped","idMapper","commitState","addItem","setSelectionState","connect","setGroupBoundingBox","error","console","log","setConnectionPreview","disconnect","previewPortId","beep","createConnection","find","sourceIndex","targetIndex","loadDocument","applyState","resetCircuit","clearStatelessInfo","toggleToolbox","itemFactory","portFactory","addFreeportItem","removeFreeport","originalSourceId","originalTargetId","removeElement","createCircuitConnection","setItemBoundingBox","newPort","destroyGroup","itemIds","connectionIds","ungroup","fromDocumentToEditorCoordinates","z","generateItemName","taxonomyCount","portList","taxonomy","resetItemValue","insertItemAtPosition","documentPosition","midpoint","setItemPortPositions","property","startValue","setInputCount","count","oldCount","virtualElementId","panToCenter","getConnectionChain","portMap","freeportIds","sourcePort","targetPort","Set","from","random","setPortValues","getGroupedItemRotatedPosition","groupBoundingBox","w","h","mx","my","ax","ay","L","currentAngleRad","newAngle","PI","newAx","newAy","getRotatedPortPosition","spacing","centerAll","setItemPosition","portGroups","get","Map","setPortGroupPositions","setSelectionPosition","moveSelectionPosition","referenceItem","groupIds","selectedItems","newRotation","keepSelection","selectAll","updateSelectionList","selectItemConnections","element","backToFirstItem","nonFreeportItems","nonFreeportItemIds","f","buildCircuit","onSimulationUpdate","startDebugging","stepThroughCircuit","toggleDebugger","stopDebugging","toggleOscilloscope","closeOscilloscope","openOscilloscope","lastHeight","clearOscilloscope","MIN_SCALE","centerX","centerY","newX","newY","e","undoState","redo","redoState","savedState","parsedState","getExcludedMembers","aIds","bIds","removedItems","removedConnections","addedItems","addedConnections","sortByZIndex","sendBackward","bringForward","sendToBack","bringToFront","sort","frozenIds","currentIndex","nextIndex","MAX_SCALE","SCALE_STEP","incrementZoom","zoomedPoint","scaledPoint","viewportPoint","integratedCircuitFactory","integratedCircuitItem","portType","createDocumentStore","documentId","defineStore","getters","hasSelectedItems","selectedGroupIds","call","canRedo","actions","clipboardActions","connectionActions","editorActions","freeportActions","groupingActions","itemActions","panningActions","portActions","positioningActions","rotationActions","selectionActions","simulationActions","snappingActions","sizingActions","undoRedoActions","zIndexActions","zoomingActions","saveIntegratedCircuit","originalIcItem","$state","idMappedIcItem","FileService","filePath","zip","JSZip","compressedContent","openFile","loadAsync","files","content","async","blob","arrayBuffer","blobby","buf","saveFile","file","generateAsync","writeBlob","getFileName","split","useRootStore","clipboard","canExit","hasOpenDocuments","openDocument","saveImage","partialName","fileName","showSaveFileDialog","extensions","showMessageBox","message","title","newDocument","closeAll","closedSuccessfully","printActiveDocument","isSuccessful","dialogResult","buttons","saveActiveDocument","remainingId","setFileName","save","selectDocument","showOpenFileDialog","openDocumentFromPath","open","documentIds","pauseActivity","resumeActivity","openTestDocuments","flipFlop","navigateDocumentList","setFullscreen","Group","Editor","Item","rootStore","acceleration","initiatePrint","editorElement","querySelector","exportImage","onClipboard","action","HTMLInputElement","moveItemsByArrowKey","onKeyUp","showContextMenu","editorContextMenu","clearKeys","_component_toolbar_button","_component_toolbar_separator","_component_scroll_fade","icon","faScrewdriverWrench","text","faFolderOpen","faFile","faSave","disabled","faReply","faShare","faRotateForward","faObjectGroup","faObjectUngroup","faScissors","faCopy","faPaste","faBan","faMicrochip","faBug","faArrowsRotate","faForwardStep","faWaveSquare","_component_icon","isToolbox","faUser","xmlns","svgPath","Icon","hideScrollbar","gradientStyle","onScroll","scroll","getGradientStyle","scrollWidth","scrollLeft","clientWidth","modifiers","ToolbarButton","ToolbarSeparator","ScrollFade","faRotateBackward","_component_toolbox_item","_component_toolbox_layout","factories","factorySubtypes","factory","onDrop","drop","selectable","rects","preview","draggedElement","inner","outer","ratio","contains","categories","cat","selected","slots","toolbox","scrollHeight","categoryName","inputFactory","clockFactory","lightbulbFactory","logicGateFactory","showInOscilloscope","bind","ToolboxItem","ToolboxLayout","faCodeBranch","faClose","_component_oscilloscope_title_bar","_component_oscilloscope_timeline","_component_oscilloscope_viewer","modelValue","onCollapse","clearable","hasWaves","onClear","v","color","onWheel","totalWidth","preserveAspectRatio","stroke","mounted","timeline","$refs","list","scrollToNextInterval","onTimelineScroll","beforeUnmount","scrollTop","collapseHeight","viewer","originalY","currentY","parentElement","onUnmounted","OscilloscopeTimeline","OscilloscopeTitleBar","OscilloscopeViewer","_component_status_bar_button","_component_status_bar_zoom","_component_status_bar_viewer","faMinus","faPlus","zoomPercent","faCompress","faExpand","parseFloat","StatusBarButton","StatusBarViewer","StatusBarZoom","hasDocument","documentList","close","zoomSubmenu","hasFixedZoom","createApplicationMenu","menus","view","Document","Toolbar","TabItem","TabHost","Toolbox","Oscilloscope","StatusBar","MainView","storeToRefs","onDragOver","dataTransfer","dropEffect","onDragLeave","toUpperCase","location","reload","setApplicationMenu","onBeforeClose","onOpenFile","horizontal","lastPosition","toolboxWidth","quit","createApp","App","use","createPinia","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","priority","notFulfilled","fulfilled","j","every","getter","__esModule","definition","defineProperty","enumerable","g","globalThis","obj","prop","prototype","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}