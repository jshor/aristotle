{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/oscilloscope/OscilloscopeViewer.vue?0d50","webpack:///./src/components/statusbar/StatusBarViewer.vue?4884","webpack:///./src/components/oscilloscope/OscilloscopeTitleBar.vue?ba8b","webpack:///./src/components/item/elements/gates/Or.vue?a218","webpack:///./src/components/Group.vue?0e5d","webpack:///./src/components/item/Properties.vue?3cc2","webpack:///./src/components/item/elements/OutputNode.vue?ed8c","webpack:///./src/components/Wire.vue?79f3","webpack:///./src/components/layout/ScrollFade.vue?6ad9","webpack:///./src/components/layout/MainView.vue?e907","webpack:///./src/components/editor/Editor.vue?90bb","webpack:///./src/components/statusbar/StatusBarZoom.vue?4edd","webpack:///./src/components/item/CircuitComponent.vue?f88e","webpack:///./src/components/toolbar/ToolbarButton.vue?9116","webpack:///./src/components/statusbar/StatusBarButton.vue?02db","webpack:///./src/containers/Toolbar.vue?1792","webpack:///./src/components/item/Freeport.vue?37a2","webpack:///./src/components/toolbox/ToolboxLayout.vue?316a","webpack:///./src/components/tab/TabHost.vue?de97","webpack:///./src/components/item/elements/IntegratedCircuit.vue?2c9b","webpack:///./src/components/PortHandle.vue?d524","webpack:///./src/App.vue?1e36","webpack:///./src/components/item/elements/LogicGate.vue?bba6","webpack:///./src/components/item/elements/gates/And.vue?1ec3","webpack:///./src/components/Draggable.vue?4111","webpack:///./src/components/PortPivot.vue?375a","webpack:///./src/components/tab/TabItem.vue?edb7","webpack:///./src/components/Icon.vue?992e","webpack:///./src/components/toolbox/ToolboxItem.vue?4a30","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/interactive/Resizable.vue","webpack:///./src/components/Draggable.vue","webpack:///./src/components/Wire.vue","webpack:///./src/types/enums/SnapMode.ts","webpack:///./src/utils/geometry/boundaries.ts","webpack:///./src/types/enums/Direction.ts","webpack:///./src/utils/geometry/rotate.ts","webpack:///./src/utils/geometry/wire.ts","webpack:///./src/containers/Connection.vue","webpack:///./src/components/item/Freeport.vue","webpack:///./src/components/item/elements/InputNode.vue","webpack:///./src/components/item/elements/IntegratedCircuit.vue","webpack:///./src/components/item/elements/gates/And.vue","webpack:///./src/components/item/elements/gates/Or.vue","webpack:///./src/components/item/elements/gates/Nor.vue","webpack:///./src/components/item/elements/gates/Nand.vue","webpack:///./src/components/item/elements/gates/Xnor.vue","webpack:///./src/components/item/elements/gates/Xor.vue","webpack:///./src/components/item/elements/LogicGate.vue","webpack:///./src/components/item/elements/OutputNode.vue","webpack:///./src/components/item/CircuitComponent.vue","webpack:///./src/components/item/Properties.vue","webpack:///./src/components/PortHandle.vue","webpack:///./src/components/PortPivot.vue","webpack:///./src/types/enums/PortType.ts","webpack:///./src/containers/PortItem.vue","webpack:///./src/types/enums/ItemType.ts","webpack:///./src/types/enums/ItemSubtype.ts","webpack:///./src/containers/Item.vue","webpack:///./src/components/editor/Selector.vue","webpack:///./src/components/editor/Editor.vue","webpack:///./src/components/Group.vue","webpack:///./src/menus/submenus/edit.ts","webpack:///./src/menus/submenus/grid.ts","webpack:///./src/menus/context/editor.ts","webpack:///./src/utils/printing.ts","webpack:///./src/circuit/types/Connection.ts","webpack:///./src/circuit/types/LogicValue.ts","webpack:///./src/circuit/base/CircuitNode.ts","webpack:///./src/circuit/base/InputNode.ts","webpack:///./src/circuit/base/OutputNode.ts","webpack:///./src/circuit/base/Circuit.ts","webpack:///./src/circuit/gates/Nor.ts","webpack:///./src/circuit/gates/Buffer.ts","webpack:///./src/services/BinaryWaveService.ts","webpack:///./src/services/ClockService.ts","webpack:///./src/services/OscillationService.ts","webpack:///./src/utils/circuitNodeMapper.ts","webpack:///./src/services/SimulationService.ts","webpack:///./src/utils/geometry/rotation.ts","webpack:///./src/utils/getConnectionChain.ts","webpack:///./src/utils/sortByZIndex.ts","webpack:///./src/factories/itemFactory.ts","webpack:///./src/factories/integratedCircuitFactory.ts","webpack:///./src/utils/idMapper.ts","webpack:///./src/utils/fromDocumentToEditorCoordinates.ts","webpack:///./src/factories/portFactory.ts","webpack:///./src/store/document.ts","webpack:///./src/utils/getFileName.ts","webpack:///./src/store/root.ts","webpack:///./src/containers/Document.vue","webpack:///./src/components/Icon.vue","webpack:///./src/components/toolbar/ToolbarButton.vue","webpack:///./src/components/toolbar/ToolbarSeparator.vue","webpack:///./src/components/layout/ScrollFade.vue","webpack:///./src/containers/Toolbar.vue","webpack:///./src/components/toolbox/ToolboxItem.vue","webpack:///./src/components/toolbox/ToolboxLayout.vue","webpack:///./src/factories/inputFactory.ts","webpack:///./src/factories/clockFactory.ts","webpack:///./src/factories/lightbulbFactory.ts","webpack:///./src/factories/logicGateFactory.ts","webpack:///./src/factories/index.ts","webpack:///./src/containers/Toolbox.vue","webpack:///./src/components/tab/TabItem.vue","webpack:///./src/components/tab/TabHost.vue","webpack:///./src/components/oscilloscope/OscilloscopeTimeline.vue","webpack:///./src/components/oscilloscope/OscilloscopeTitleBar.vue","webpack:///./src/components/oscilloscope/OscilloscopeViewer.vue","webpack:///./src/containers/Oscilloscope.vue","webpack:///./src/components/statusbar/StatusBarButton.vue","webpack:///./src/components/statusbar/StatusBarViewer.vue","webpack:///./src/components/statusbar/StatusBarZoom.vue","webpack:///./src/containers/StatusBar.vue","webpack:///./src/menus/submenus/file.ts","webpack:///./src/menus/submenus/view.ts","webpack:///./src/menus/index.ts","webpack:///./src/components/layout/MainView.vue","webpack:///./src/utils/isMobile.ts","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/toolbar/ToolbarSeparator.vue?1224","webpack:///./src/components/item/elements/InputNode.vue?c431","webpack:///./src/services/FileService.ts","webpack:///./src/components/editor/Selector.vue?4312","webpack:///./src/components/oscilloscope/OscilloscopeTimeline.vue?7d52"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_toolbar","_resolveComponent","_component_toolbox","_component_tab_item","_component_document","_component_tab_host","_component_oscilloscope","_component_status_bar","_component_main_view","_openBlock","_createElementBlock","_Fragment","_createElementVNode","class","_normalizeClass","isDropping","activeDocumentId","activeDocument","_createBlock","top","_withCtx","isMobile","_createCommentVNode","store","_createVNode","middle","_createSlots","default","onSwitch","switchDocument","onOpenIntegratedCircuit","openIntegratedCircuit","_","undefined","fn","_renderList","documents","document","id","label","displayName","active","dirty","isDirty","onActivate","$event","activateDocument","toString","onClose","closeDocument","bottom","isFullscreen","onFullscreen","toggleFullscreen","_toDisplayString","_component_item","_component_connection","_component_group","_component_editor","ref","zoom","zoomLevel","gridSize","tabindex","offset","x","canvas","left","y","width","right","height","onPan","panTo","onDeselect","deselectAll","onSelection","createSelection","onZoom","setZoom","onContextmenu","onContextMenu","onResize","setViewerSize","onFocus","recycleSelection","baseItems","baseItem","storeDefinition","isSelected","flash","isDebugging","isCircuitEvaluated","zIndex","$emit","connectionPreviewId","groups","group","boundingBox","_component_wire","_component_draggable","style","_normalizeStyle","position","onDragStart","onDrag","onDragEnd","onSelect","selectItem","k","deselectItem","source","target","geometry","isPreview","_component_resizable","onMousedown","_withModifiers","onMouseDown","onTouchstart","onTouchStart","onTouchmove","onTouchMove","onTouchend","dragEnd","onTouchcancel","_renderSlot","$slots","defineComponent","emits","setup","emit","resizable","onSizeChanged","getBoundingClientRect","observer","ResizeObserver","onMounted","observe","__exports__","components","Resizable","props","type","Boolean","computed","draggable","addEventListener","drag","onBeforeUnmount","removeEventListener","watchEffect","$el","focus","touchTimeout","isDragging","hasEmittedDragStart","toggleSelection","keepCurrentSelection","clientX","clientY","dragStart","clearTimeout","ctrlKey","setTimeout","navigator","vibrate","touches","_hoisted_3","_hoisted_4","_hoisted_5","fill","transform","Math","abs","minX","minY","path","isAnimated","required","String","SnapMode","roundToNth","round","isInNeighborhood","a","b","radius","distX","pow","distY","sqrt","getGridSnapPosition","distance","getRadialSnapOffset","boundingBoxes","getOuterSnapOffset","ts","bs","ls","rs","getSnapOffset","snapMode","Radial","Grid","Outer","hasLinearIntersection","a1","a2","b1","b2","ccw","isLineIntersectingRectangle","b3","b4","hasIntersection","scaleBoundingBox","box","scale","isOneOrTwoDimensional","getLinearBoundaries","point","Infinity","getPointBoundary","getBoundingBox","rotation","midX","midY","getGroupBoundingBox","reduce","rect","min","max","getBoundingBoxMidpoint","getCenteredScreenPoint","parentBox","childBox","factor","parentMidpoint","childWidth","childHeight","getExtremePoint","points","map","Direction","rotate","additional","WIRE_PADDING","renderLayout","getEndpoints","start","end","computeStraightLine","sourceDirection","getPortDirection","targetDirection","computeBezier","inflectDirection","direction","Left","Top","Right","Bottom","port","orientation","isFreeport","floor","x1","y1","x4","y4","dx","dy","x2","toFixed","y2","x3","y3","join","toNumArr","parseInt","maxX","maxY","Draggable","Wire","Number","Function","connection","connections","root","ports","topLeft","boundaries","freeportId","groupId","opacity","uuid","createFreeport","itemId","inputPortId","outputPortId","connectionChainId","sourceId","targetId","setSnapBoundaries","dragItem","disconnect","_component_properties","_component_port_item","_component_circuit_component","item","outline","pointerEvents","onKeydown","_withKeys","onEscapeKey","commitCachedState","isPropertiesEnabled","properties","onUpdate","setProperties","setActivePortId","subtype","onToggle","setPortValue","filter","ItemType","Freeport","connectedPortIds","onKeypress","onBlur","onPortBlur","_resolveDynamicComponent","_normalizeProps","_guardReactiveProps","index","model","onInput","Array","preventDefault","stopPropagation","inputCount","viewBox","cx","cy","isNegated","isXor","_component_or","Or","_component_and","And","Nor","Nand","Xnor","Xor","InputNode","IntegratedCircuit","LogicGate","OutputNode","role","_createTextVNode","_hoisted_6","_hoisted_7","_hoisted_8","isOpen","onKeyDown","onClick","onMouseup","propertyName","for","options","_withDirectives","_vModelSelect","_vModelCheckbox","_vModelDynamic","watch","handler","cloneDeep","deep","immediate","methods","_component_port_handle","_component_port_pivot","cycleConnectionPreviews","commitPreviewedConnection","activePortId","connectablePortIds","includes","onTouchhold","togglePortMonitoring","onDblclick","PortType","PortHandle","PortPivot","newFreeport","draggedPortId","isAdded","unsetConnectionPreview","cachedState","Input","setConnectablePortIds","portId","connectFreeport","ItemSubtype","CircuitComponent","PortItem","Properties","items","itemRef","portIds","selectedItemIds","cacheState","activeElement","blur","setItemSize","_component_selector","onMousewheel","mousewheel","onTouchEnd","onSelectionStart","selectionStart","onSelectionEnd","selectionEnd","mousedown","selection","mounted","mousemove","mouseup","destroy","getPosition","Selector","backgroundSize","panStartPosition","originalMousePosition","panning","preventContextMenu","onMouseMove","onMouseUp","startPanning","pan","hasPannedSubstantially","deltaX","deltaY","button","changedTouches","shiftKey","wheel","boundary","edit","useDocumentStore","submenus","menu","enabled","canUndo","accelerator","click","undo","hasSelection","deleteSelection","submenu","setZIndex","incrementZIndex","canGroup","canUngroup","concat","checked","grid","editor","createPrintArea","padding","className","printArea","cloneNode","children","child","replace","background","classList","add","createPrintFrame","image","pageSize","iframe","createElement","body","appendChild","printFrame","contentWindow","styleTag","createTextNode","head","append","createImage","domToImage","dataUrl","remove","printWindow","win","Promise","resolve","print","printImage","printing","minSize","maxSize","Image","percent","src","isLandscape","reverse","Connection","node","this","LogicValue","TRUE","FALSE","UNKNOWN","CircuitNode","inputIds","inputValues","outputs","isValueChanged","forceContinue","newValue","events","setValue","eval","invokeEvent","eventType","forEach","event","callback","valueCount","compare","values","updateOutputs","update","propagate","reset","on","getProjectedValue","Circuit","queue","nodes","inputNodes","addNode","enqueue","removeNode","inputIndex","findIndex","removeNodeOutputs","next","addConnection","removeConnection","sourceNode","targetNode","added","indexOf","dequeue","removed","removedIndex","localQueue","isComplete","nextValue","Buffer","keys","pop","find","v","BinaryWaveService","signal","hue","lastY","segments","initialize","segment","addSegment","updateWidth","elapsed","drawPulseConstant","previous","drawPulseChange","pos","truncateSegments","widthToKeep","widthToTruncate","unshift","ClockService","interval","emitter","TinyEmitter","lastUpdate","OscillationService","isPaused","waves","refreshRate","lastUpdateTime","Date","now","timeMsElapsed","timeMsOffset","remainingPeriodTime","tick","stop","clear","wave","computeWaveGeometry","displays","getPoints","broadcast","screenWidth","screen","widthOfOneSecond","maxHistorySeconds","MAX_IDLE_TIME","hasUpdated","delta","requestAnimationFrame","getLogicGateNode","getCircuitNode","SimulationService","clocks","valueMap","circuit","oscillator","oscillogram","addElements","pause","unpause","step","iteration","shouldContinue","Error","canContinue","nextState","isDebug","nextValueMap","startDebugging","computeNextState","stopDebugging","advance","nextValues","updatePortValue","JSON","parse","currentState","stringify","setOutputValue","enqueuePortValueChange","anyValueChanged","addIntegratedCircuit","icItem","integratedCircuit","outputIds","Output","circuitNodeMapper","addPort","Clock","addClock","isMonitored","monitorPort","getIntegratedCircuitPortIds","ic","removePort","unmonitorPort","getGroupedItemRotatedPosition","groupBoundingBox","w","h","mx","my","ax","ay","L","currentAngleRad","atan2","newAngle","PI","newAx","cos","newAy","sin","getRotatedPortPosition","portList","spacing","getConnectionChain","portMap","connectionIds","freeportIds","sourcePort","targetPort","elementId","Set","from","sortByZIndex","itemFactory","integratedCircuitFactory","state","integratedCircuitItem","portType","newId","serializedState","mapStandardCircuitIds","idMap","mapGroups","oldId","mapGroupIds","mapConnections","mapConnectionChainIds","mapItems","mapItemIds","mapPorts","mapIntegratedCircuitIds","fromDocumentToEditorCoordinates","viewport","z","portFactory","generateItemName","taxonomyCount","None","MIN_SCALE","MAX_SCALE","SCALE_STEP","createDocumentStore","documentId","defineStore","undoStack","redoStack","simulation","taxonomyCounts","oscilloscopeHeight","isOscilloscopeOpen","hasLoaded","isPrinting","isCreatingImage","isToolboxOpen","DOMRect","snapBoundaries","selectedConnectionIds","selectedPortIndex","activeFreeportId","getters","sort","hasSelectedItems","selectedGroupIds","canRedo","actions","loadDocument","buildCircuit","applyState","incrementZoom","zoomedPoint","scaledPoint","viewportPoint","centerAll","panToCenter","midpoint","setItemPosition","saveIntegratedCircuit","originalIcItem","$state","idMappedIcItem","idMapper","insertItemAtPosition","setItemBoundingBox","setItemPortPositions","setSelectionState","backToFirstItem","undoState","redo","redoState","commitState","nonFreeportItems","nonFreeportItemIds","removeElement","f","removeFreeport","e","centerX","centerY","newX","newY","setGroupBoundingBox","portGroups","Map","setPortGroupPositions","setSelectionPosition","moveSelectionPosition","referenceItem","groupIds","itemIds","destroyGroup","ungroup","clearStatelessInfo","selectAll","SET_SELECTION_STATE","selectItemConnections","error","console","log","element","keepSelection","setConnectionPreview","connect","previewPortId","api","beep","selectedItems","newRotation","originalSourceId","originalTargetId","establishCircuitConnection","addFreeportItem","newPort","startValue","toggleDebugger","stepThroughCircuit","toggleOscilloscope","closeOscilloscope","openOscilloscope","lastHeight","clearOscilloscope","random","setInputCount","count","oldCount","virtualElementId","setPortValues","savedState","parsedState","getExcludedMembers","aIds","bIds","removedItems","removedConnections","addedItems","addedConnections","addItem","portIndex","taxonomy","resetItemValue","documentPosition","updateSelectionList","sendBackward","bringForward","sendToBack","bringToFront","frozenIds","currentIndex","nextIndex","sourceIndex","targetIndex","cut","copy","pasteCount","paste","parsed","mapped","clipboard","toggleToolbox","getFileName","filePath","split","useRootStore","canExit","hasOpenDocuments","openDocument","saveImage","partialName","fileName","showSaveFileDialog","extensions","FileService","writeBlob","showMessageBox","message","title","newDocument","closeAll","closedSuccessfully","printActiveDocument","isSuccessful","dialogResult","buttons","saveActiveDocument","remainingId","setFileName","save","selectDocument","files","showOpenFileDialog","openDocumentFromPath","open","content","documentIds","pauseActivity","resumeActivity","openTestDocuments","flipFlop","navigateDocumentList","setFullscreen","Group","Editor","Item","rootStore","acceleration","initiatePrint","editorElement","querySelector","exportImage","onClipboard","action","HTMLInputElement","moveItemsByArrowKey","onKeyUp","showContextMenu","editorContextMenu","clearKeys","_component_toolbar_button","_component_toolbar_separator","_component_scroll_fade","icon","faScrewdriverWrench","text","faFolderOpen","faFile","faSave","disabled","faReply","faShare","faRotateForward","faObjectGroup","faObjectUngroup","faScissors","faCopy","faPaste","faBan","faMicrochip","faBug","faArrowsRotate","faForwardStep","faWaveSquare","_component_icon","isToolbox","faUser","xmlns","svgPath","Icon","hideScrollbar","gradientStyle","onScroll","onChange","scroll","getGradientStyle","scrollWidth","scrollLeft","clientWidth","modifiers","ToolbarButton","ToolbarSeparator","ScrollFade","faRotateBackward","_component_toolbox_item","_component_toolbox_layout","factories","factorySubtypes","factory","onDrop","previewRect","selectableRect","drop","selectable","draggedElement","inner","outer","ratio","contains","categories","cat","selected","select","slots","toolbox","scrollHeight","categoryName","inputFactory","clockFactory","lightbulbFactory","Lightbulb","logicGateFactory","showInOscilloscope","Switch","ToolboxItem","ToolboxLayout","_component_oscilloscope_title_bar","_component_oscilloscope_timeline","_component_oscilloscope_viewer","modelValue","onCollapse","clearable","hasWaves","onClear","color","onWheel","totalWidth","preserveAspectRatio","stroke","timeline","$refs","list","scrollToNextInterval","onTimelineScroll","beforeUnmount","scrollTop","faClose","collapseHeight","viewer","originalY","currentY","parentElement","onUnmounted","OscilloscopeTimeline","OscilloscopeTitleBar","OscilloscopeViewer","storeToRefs","_component_status_bar_button","_component_status_bar_zoom","_component_status_bar_viewer","faMinus","faPlus","zoomPercent","faCompress","faExpand","parseFloat","StatusBarButton","StatusBarViewer","StatusBarZoom","file","hasDocument","documentList","close","zoomSubmenu","hasFixedZoom","createApplicationMenu","menus","view","Document","Toolbar","TabItem","TabHost","Toolbox","Oscilloscope","StatusBar","MainView","onDragOver","dataTransfer","dropEffect","onDragLeave","toUpperCase","location","reload","setApplicationMenu","onBeforeClose","onOpenFile","horizontal","lastPosition","toolboxWidth","quit","openFile","saveFile","createApp","App","use","createPinia","mount","zip","JSZip","compressedContent","loadAsync","async","blob","arrayBuffer","blobby","buf","generateAsync"],"mappings":"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","file":"js/index.9444ac5d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/web/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeViewer.vue?vue&type=style&index=0&id=e3956fc6&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarViewer.vue?vue&type=style&index=0&id=dc432b1a&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=5bfaeb92&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Group.vue?vue&type=style&index=0&id=2e6e8258&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Properties.vue?vue&type=style&index=0&id=0ac03fe7&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OutputNode.vue?vue&type=style&index=0&id=38254202&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Wire.vue?vue&type=style&index=0&id=3bb5b135&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ScrollFade.vue?vue&type=style&index=0&id=20b5d024&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MainView.vue?vue&type=style&index=0&id=4f0058fe&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Editor.vue?vue&type=style&index=0&id=61b17de9&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CircuitComponent.vue?vue&type=style&index=0&id=04a5156f&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolbarButton.vue?vue&type=style&index=0&id=53565970&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toolbar.vue?vue&type=style&index=0&id=44d404bf&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Freeport.vue?vue&type=style&index=0&id=5e8c7cdc&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolboxLayout.vue?vue&type=style&index=0&id=1d9cc0f9&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./IntegratedCircuit.vue?vue&type=style&index=0&id=072f46ee&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PortHandle.vue?vue&type=style&index=0&id=2ce249eb&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=1ec7fc02&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LogicGate.vue?vue&type=style&index=0&id=4853bdc0&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Draggable.vue?vue&type=style&index=0&id=2ce90c10&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PortPivot.vue?vue&type=style&index=0&id=9aa66860&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TabItem.vue?vue&type=style&index=0&id=0cb1a552&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolboxItem.vue?vue&type=style&index=0&id=ddda23d6&lang=scss\"","import { renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"main-view\" }\nconst _hoisted_2 = { class: \"main-view__top\" }\nconst _hoisted_3 = { class: \"main-view__middle\" }\nconst _hoisted_4 = { class: \"main-view__bottom\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _renderSlot(_ctx.$slots, \"top\")\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _renderSlot(_ctx.$slots, \"middle\")\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _renderSlot(_ctx.$slots, \"bottom\")\n    ])\n  ]))\n}","\n// TODO: the document/toolbox/toolbar stuff should be moved into a separate view called \"Workspace.vue\"\n/// <reference path=\"./types/index.d.ts\" />\nimport { storeToRefs } from 'pinia'\nimport { defineComponent, onBeforeUnmount, onMounted, watchEffect, ref } from 'vue'\nimport Document from './containers/Document.vue'\nimport Toolbar from './containers/Toolbar.vue'\nimport Toolbox from './containers/Toolbox.vue'\nimport { useRootStore } from './store/root'\nimport TabItem from './components/tab/TabItem.vue'\nimport TabHost from './components/tab/TabHost.vue'\nimport Oscilloscope from './containers/Oscilloscope.vue'\nimport StatusBar from './containers/StatusBar.vue'\n// import RemoteService from './services/RemoteService'\nimport createApplicationMenu from './menus'\nimport MainView from './components/layout/MainView.vue'\nimport isMobile from '@/utils/isMobile'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    Document,\n    Toolbar,\n    TabItem,\n    TabHost,\n    Toolbox,\n    Oscilloscope,\n    StatusBar,\n    MainView\n},\n  setup () {\n    const store = useRootStore()\n    const {\n      activeDocument,\n      activeDocumentId,\n      documents,\n      hasOpenDocuments,\n      isFullscreen\n    } = storeToRefs(store)\n\n    let isDropping = ref(false)\n\n    if (!hasOpenDocuments.value) {\n      store.openTestDocuments()\n    }\n\n    // update the app menu when any of the store variables it depends on to show/hide menu items change\n    watchEffect(() => window.api.setApplicationMenu(createApplicationMenu()))\n\n    watchEffect(() => {\n      document.title = store.activeDocument\n        ? `${store.activeDocument.displayName} - Aristotle`\n        : 'Aristotle'\n    })\n\n    window.api.onBeforeClose(store.closeAll)\n    window.api.onOpenFile(store.openDocumentFromPath)\n\n    onMounted(() => {\n      document.addEventListener('keydown', onKeyDown)\n      document.addEventListener('dragover', onDragOver)\n      document.addEventListener('dragleave', onDragLeave)\n      document.addEventListener('drop', onDrop)\n    })\n\n    onBeforeUnmount(() => {\n      document.removeEventListener('keydown', onKeyDown)\n      document.removeEventListener('dragover', onDragOver)\n      document.removeEventListener('dragleave', onDragLeave)\n      document.removeEventListener('drop', onDrop)\n    })\n\n    function onDragOver ($event: DragEvent) {\n      $event.stopPropagation()\n      $event.preventDefault()\n\n      if ($event.dataTransfer) {\n        $event.dataTransfer.dropEffect = 'copy'\n      }\n\n      isDropping.value = true\n    }\n\n    async function onDrop ($event: DragEvent) {\n      $event.stopPropagation()\n      $event.preventDefault()\n\n      const files = $event.dataTransfer?.files\n\n      if (files) {\n        for (let i = 0; i < files.length; i++) {\n          await store.openDocumentFromPath(files[i].path)\n        }\n      }\n\n      isDropping.value = false\n    }\n\n    function onDragLeave () {\n      isDropping.value = false\n    }\n\n    function onKeyDown ($event: KeyboardEvent) {\n      if ($event.ctrlKey && $event.key.toUpperCase() === 'R') {\n        // refresh command\n        // TODO: in development only, this will refresh the page; otherwise, reset active circuit\n        // RemoteService.canCloseWindow = true\n        window.location.reload()\n      }\n    }\n\n    return {\n      activeDocument,\n      activeDocumentId,\n      documents,\n      hasOpenDocuments,\n      isDropping,\n      isFullscreen,\n      toggleFullscreen: store.toggleFullscreen,\n      activateDocument: store.activateDocument,\n      closeDocument: store.closeDocument,\n      switchDocument: store.switchDocument,\n      openIntegratedCircuit: store.openIntegratedCircuit\n    }\n  },\n  data () {\n    return {\n      horizontal: false,\n      lastPosition: 0,\n      toolboxWidth: 20,\n      oscilloscopeHeight: 80,\n      isMobile\n    }\n  }\n})\n","import { render } from \"./Resizable.vue?vue&type=template&id=83fa57da&ts=true\"\nimport script from \"./Resizable.vue?vue&type=script&lang=ts\"\nexport * from \"./Resizable.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Draggable.vue?vue&type=template&id=2ce90c10&ts=true\"\nimport script from \"./Draggable.vue?vue&type=script&lang=ts\"\nexport * from \"./Draggable.vue?vue&type=script&lang=ts\"\n\nimport \"./Draggable.vue?vue&type=style&index=0&id=2ce90c10&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Wire.vue?vue&type=template&id=3bb5b135&ts=true\"\nimport script from \"./Wire.vue?vue&type=script&lang=ts\"\nexport * from \"./Wire.vue?vue&type=script&lang=ts\"\n\nimport \"./Wire.vue?vue&type=style&index=0&id=3bb5b135&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum SnapMode {\n  Outer,\n  Inner,\n  Radial,\n  Grid,\n  None\n}\n\nexport default SnapMode\n","import SnapMode from \"@/types/enums/SnapMode\"\n\n/**\n * Rounds x to the nearest n.\n */\nfunction roundToNth (x: number, n: number) {\n  return Math.round(x / n) * n\n}\n\n/**\n * Returns true if a is within the radial distance of b.\n */\nfunction isInNeighborhood (a: Point, b: Point, radius: number): boolean {\n  const distX = Math.pow(a.x - b.x, 2)\n  const distY = Math.pow(a.y - b.y, 2)\n\n  return Math.sqrt(distX + distY) <= radius\n}\n\n/**\n * Returns the delta of rounding the top-left point of the given bounding box to the nearest distance.\n * This will achieve the effect of \"snapping to grid.\"\n *\n * @param a - the bounding box of the element moving\n * @param distance - the grid size\n */\nfunction getGridSnapPosition (a: BoundingBox, distance: number): Point {\n  return {\n    x: roundToNth(a.left, distance) - a.left,\n    y: roundToNth(a.top, distance) - a.top\n  }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the radial `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getRadialSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n\n    if (isInNeighborhood({ x: b.left, y: b.top }, { x: a.left, y: a.top }, distance)) {\n      return {\n        x: b.left - a.left,\n        y: b.top - a.top\n      }\n    }\n  }\n\n  return { x: 0, y: 0 }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the linear `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getOuterSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  const offset: Point = { x: 0, y: 0 }\n\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n    const ts = Math.abs(b.top - a.bottom) <= distance\n    const bs = Math.abs(b.bottom - a.top) <= distance\n    const ls = Math.abs(b.left - a.right) <= distance\n    const rs = Math.abs(b.right - a.left) <= distance\n\n    if (\n      (a.left <= b.right && a.left >= b.left) ||\n      (a.right >= b.left && a.right <= b.right) ||\n      (a.left <= b.left && a.right >= b.right)\n    ) {\n      // a is within the y-axis boundaries\n      if (ts) offset.y = b.top - a.bottom\n      if (bs) offset.y = b.bottom - a.top\n    }\n\n    if (\n      (a.top <= b.bottom && a.top >= b.top) ||\n      (a.bottom >= b.top && a.bottom <= b.bottom) ||\n      (a.top <= b.top && a.bottom >= b.bottom)\n    ) {\n      // a is within the x-axis boundaries\n      if (ls) offset.x = b.left - a.right\n      if (rs) offset.x = b.right - a.left\n    }\n  }\n\n  return offset\n}\n\nfunction getSnapOffset (boundingBoxes: BoundingBox[], boundingBox: BoundingBox, snapMode: SnapMode, distance: number) {\n  switch (snapMode) {\n    case SnapMode.Radial:\n      return getRadialSnapOffset(boundingBoxes, boundingBox, distance)\n    case SnapMode.Grid:\n      return getGridSnapPosition(boundingBox, distance)\n    case SnapMode.Outer:\n    default:\n      return getOuterSnapOffset(boundingBoxes, boundingBox, distance)\n  }\n}\n\n/**\n * Returns true if line a intersects with line B.\n *\n * @param a1 - first point of a\n * @param a2 - second point of a\n * @param b1 - first point of b\n * @param b2 - second point of b\n */\nfunction hasLinearIntersection (a1: Point, a2: Point, b1: Point, b2: Point): boolean {\n  const ccw = (a: Point, b: Point, c: Point) => {\n    return (c.y-a.y) * (b.x-a.x) > (b.y-a.y) * (c.x-a.x)\n  }\n\n  return ccw(a1, b1, b2) !== ccw(a2, b1, b2) && ccw(a1, a2, b1) !== ccw(a1, a2, b2)\n}\n\n/**\n * Returns true if the overlaps with the given bounding box.\n *\n * @param a1 - first point of the line\n * @param a2 - second point of the line\n * @param boundingBox - the rectange\n */\nfunction isLineIntersectingRectangle (a1: Point, a2: Point, boundingBox: BoundingBox): boolean {\n  const b1 = { x: boundingBox.left, y: boundingBox.top }\n  const b2 = { x: boundingBox.right, y: boundingBox.top }\n  const b3 = { x: boundingBox.right, y: boundingBox.bottom }\n  const b4 = { x: boundingBox.left, y: boundingBox.bottom }\n\n  return hasLinearIntersection(a1, a2, b1, b2)\n    || hasLinearIntersection(a1, a2, b2, b3)\n    || hasLinearIntersection(a1, a2, b3, b4)\n    || hasLinearIntersection(a1, a2, b4, b1)\n}\n\n/**\n * Returns true if a and b intersect.\n *\n * @param a\n * @param b\n * @returns boolean result of intersection\n */\nfunction hasIntersection (a: BoundingBox, b: BoundingBox): boolean {\n  if (a.left >= b.right || b.left >= a.right) {\n    // one rect is on left side of other\n    return false\n  }\n\n  if (a.top >= b.bottom || b.top >= a.bottom) {\n    // one rect is above other\n    return false\n  }\n\n  return true\n}\n\n/**\n * Scales the bounding box by the given scalar.\n *\n * @param box\n * @param scale\n */\nfunction scaleBoundingBox (box: BoundingBox, scale: number): BoundingBox {\n  return {\n    left: box.left * scale,\n    top: box.top * scale,\n    bottom: box.bottom * scale,\n    right: box.right * scale\n  }\n}\n\n/**\n * Returns true if the given bounding box is one- or two-dimensional.\n */\nfunction isOneOrTwoDimensional (box: BoundingBox) {\n  return box.left !== box.right || box.top !== box.bottom\n}\n\n/**\n * Returns a list of one infinitely-horizontal and one infinitely-vertical boundaries.\n *\n * @param point - the point to compute boundaries for\n * @returns list of bounding boxes\n */\nfunction getLinearBoundaries (point: Point): BoundingBox[] {\n  return [\n    {\n      left: point.x,\n      right: point.x,\n      top: -Infinity,\n      bottom: Infinity\n    },\n    {\n      left: -Infinity,\n      right: Infinity,\n      top: point.y,\n      bottom: point.y\n    }\n  ]\n}\n\n/**\n * Returns a point as a boundary.\n *\n * @param point\n * @returns point boundary\n */\nfunction getPointBoundary (point: Point): BoundingBox {\n  return {\n    left: point.x,\n    top: point.y,\n    right: point.x,\n    bottom: point.y\n  }\n}\n\n/**\n * Computes the bounding box of the given item.\n *\n * @param item\n * @returns computed bounding box\n */\nfunction getBoundingBox (position: Point, rotation: number, width: number, height: number): BoundingBox {\n  if (rotation % 2 === 0) {\n    // item is right side up or upside down\n    return {\n      left: position.x,\n      top: position.y,\n      bottom: height + position.y,\n      right: width + position.x\n    }\n  }\n\n  // item is rotated at a 90 degree angle (CW or CCW)\n  const midX = position.x + (width / 2)\n  const midY = position.y + (height / 2)\n\n  return {\n    left: midX - (height / 2),\n    top: midY - (width / 2),\n    right: midX + (height / 2),\n    bottom: midY + (width / 2)\n  }\n}\n\n/**\n * Computes the group bounding box for the given list of bounding boxes.\n *\n * @param boundingBoxes - list of bounding boxes contained\n * @returns computed bounding box\n */\nfunction getGroupBoundingBox (boundingBoxes: BoundingBox[]): BoundingBox {\n  return boundingBoxes.reduce((rect, boundingBox) => ({\n    left: Math.min(rect.left, boundingBox.left),\n    top: Math.min(rect.top, boundingBox.top),\n    right: Math.max(rect.right, boundingBox.right),\n    bottom: Math.max(rect.bottom, boundingBox.bottom)\n  }), {\n    left: Infinity,\n    top: Infinity,\n    right: 0,\n    bottom: 0\n  })\n}\n\n/**\n * Returns the center point of the given bounding box.\n */\nfunction getBoundingBoxMidpoint (boundingBox: BoundingBox): Point {\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n\n  return {\n    x: width / 2,\n    y: height / 2\n  }\n}\n\n/**\n * Given parent and child bounding boxes, determines the screen point (top left) of the child centered in the parent.\n *\n * @param parentBox\n * @param childBox\n * @param factor - any factor to round by\n */\nfunction getCenteredScreenPoint (parentBox: BoundingBox, childBox: BoundingBox, factor: number): Point {\n  const parentMidpoint = getBoundingBoxMidpoint(parentBox)\n  const childWidth = childBox.right - childBox.left\n  const childHeight = childBox.bottom - childBox.top\n\n  return {\n    x: roundToNth(parentMidpoint.x - (childWidth / 2), factor),\n    y: roundToNth(parentMidpoint.y - (childHeight / 2), factor)\n  }\n}\n\n/**\n * Computes the minima or maxima between the given points.\n *\n * @param a\n * @param b\n * @param fn\n */\nfunction getExtremePoint (fn: 'min' | 'max', ...points: Point[]): Point {\n  const x = Math[fn](...points.map(({ x }) => x))\n  const y = Math[fn](...points.map(({ y }) => y))\n\n  return { x, y }\n}\n\nexport default {\n  isInNeighborhood,\n  getRadialSnapOffset,\n  getOuterSnapOffset,\n  getGridSnapPosition,\n  isLineIntersectingRectangle,\n  scaleBoundingBox,\n  isOneOrTwoDimensional,\n  getLinearBoundaries,\n  getPointBoundary,\n  hasIntersection,\n  getBoundingBox,\n  getGroupBoundingBox,\n  getBoundingBoxMidpoint,\n  getCenteredScreenPoint,\n  getSnapOffset,\n  getExtremePoint\n}\n","enum Direction {\n  Left = 0,\n  Top,\n  Right,\n  Bottom\n}\n\nexport default Direction\n","import Direction from '@/types/enums/Direction'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nexport default function rotate (rotation: Direction, additional: Direction = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n","import Direction from '@/types/enums/Direction'\nimport rotate from './rotate'\n\nconst WIRE_PADDING = 15\n\n/**\n * Renders the wire geometry for the given source and target ports.\n *\n * @param source\n * @param target\n */\nexport default function renderLayout (source: Port, target: Port): WireGeometry {\n  const a = source.position\n  const b = target.position\n  const { start, end } = getEndpoints(a, b)\n\n  if (start.x === end.x || start.y === end.y || end.x <= 1 && start.x <= 1 || end.y <= 1 && start.y <= 1) {\n    return computeStraightLine(start, end)\n  }\n\n  const sourceDirection = getPortDirection(source, a, b)\n  const targetDirection = getPortDirection(target, a, b)\n\n  return computeBezier(sourceDirection, targetDirection, start, end)\n}\n\n\nexport function computeStraightLine (a: Point, b: Point) {\n  return {\n    path: `M ${a.x},${a.y} L ${b.x},${b.y}`,\n    width: Math.abs(a.x - b.x) + WIRE_PADDING,\n    height: Math.abs(a.y - b.y) + WIRE_PADDING,\n    minX: -(WIRE_PADDING / 2),\n    minY: -(WIRE_PADDING / 2)\n  }\n}\n\n/**\n * Reverses the orientation of a FreePort by 180 degrees, if the dimension on an axis exceeds that of its wire's opposite end.\n * This gives the visual effect of \"pinching the wire\" so that weird, unnecessary curves aren't sticking out of FreePorts.\n *\n * @param {number} direction\n * @returns {number}\n */\nexport function inflectDirection (direction: number, a: Point, b: Point): Direction {\n  switch (direction) {\n    case 0:\n      return a.y > b.y ? 2 : Direction.Left\n    case 1:\n      return a.x < b.x ? 3 : Direction.Top\n    case 2:\n      return a.y > b.y ? 0 : Direction.Right\n    case 3:\n      return a.x < b.x ? 1 : Direction.Bottom\n    default:\n      return inflectDirection(rotate(direction), a, b) // normalize direction to [0,3] and try again\n  }\n}\n\n/**\n * Returns the wire direction for a given port.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {number}\n */\nexport function getPortDirection (port: Port, a: Point, b: Point) {\n  // the true direction needs to take into account inherent orientation + its rotation\n  // bezier index directions are one integer off (see computeBezier()) -- subtract by 1\n  let direction = rotate(port.orientation + port.rotation - 1)\n\n  if (port.isFreeport) {\n    // inflect direction for FreePorts to give the \"pinched\" appearance when dragged out of range\n    direction = inflectDirection(direction, a, b)\n\n    if (port.rotation % 4 === 1 || port.rotation % 4 === 2) {\n      direction = rotate(direction - 2)\n    }\n  }\n\n  return direction\n}\n\n/**\n * Updates the source and target endpoints such that the start and end are true.\n * This prevents translations or rotations from \"swapping\" the start and end points.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {object<{ start: Point, end: Point }>}\n */\nexport function getEndpoints (a: Point, b: Point): { start: Point, end: Point } {\n  if (a.x <= b.x) {\n    if (a.y <= b.y) {\n      // top left (a) to bottom right (b)\n      return {\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: Math.floor(b.x - a.x),\n          y: Math.floor(b.y - a.y)\n        }\n      }\n    }\n    // bottom left (a) to top right (b)\n    return {\n      start: {\n        x: 0,\n        y: Math.floor(a.y - b.y)\n      },\n      end: {\n        x: Math.floor(b.x - a.x),\n        y: 0\n      }\n    }\n  }\n\n  if (a.y <= b.y) {\n    // bottom left (b) to top right (a)\n    return {\n      start: {\n        x: Math.floor(a.x - b.x),\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: Math.floor(b.y - a.y)\n      }\n    }\n  }\n\n  // top left (b) to bottom right (a)\n  return {\n    start: {\n      x: Math.floor(a.x - b.x),\n      y: Math.floor(a.y - b.y)\n    },\n    end: {\n      x: 0,\n      y: 0\n    }\n  }\n}\n\n/**\n * Computes a Bezier SVG curve path with respect to given source and target directions and positions.\n *\n * @param {number} sourceDirection - the direction that the source is pointing to\n * @param {number} targetDirection - the direction that the target is pointing from\n * @param {Point} start - the source port position\n * @param {Point} end - the target port position\n */\nexport function computeBezier (sourceDirection: number, targetDirection: number, start: Point, end: Point): WireGeometry {\n  const x1 = start.x\n  const y1 = start.y\n  const x4 = end.x\n  const y4 = end.y\n\n  // TODO: change dx/dy to be more user-friendly\n  const dx = Math.max(Math.abs(x1 - x4) / 2, 10)\n  const dy = Math.max(Math.abs(y1 - y4) / 2, 10)\n\n  const x2 = [x1, x1 + dx, x1, x1 - dx][sourceDirection].toFixed(3)\n  const y2 = [y1 - dy, y1, y1 + dy, y1][sourceDirection].toFixed(3)\n  const x3 = [x4, x4 + dx, x4, x4 - dx][targetDirection].toFixed(3)\n  const y3 = [y4 - dy, y4, y4 + dy, y4][targetDirection].toFixed(3)\n\n  const path = [\n    'M', x1.toFixed(3), y1.toFixed(3),\n    'C', x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)\n  ].join(' ')\n\n  const toNumArr = (...n: Array<string | number>) => n.map(k => parseInt(k.toString(), 10))\n\n  const minX = Math.min(...toNumArr(x1, x2, x3, x4)) - WIRE_PADDING / 2\n  const maxX = Math.max(...toNumArr(x1, x2, x3, x4)) + WIRE_PADDING / 2\n  const minY = Math.min(...toNumArr(y1, y2, y3, y4)) - WIRE_PADDING / 2\n  const maxY = Math.max(...toNumArr(y1, y2, y3, y4)) + WIRE_PADDING / 2\n\n  const width = maxX - minX + WIRE_PADDING\n  const height = maxY - minY + WIRE_PADDING\n\n  return { width, height, path, minX, minY }\n}\n","import { render } from \"./Connection.vue?vue&type=template&id=6da97417&ts=true\"\nimport script from \"./Connection.vue?vue&type=script&lang=ts\"\nexport * from \"./Connection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Freeport.vue?vue&type=template&id=5e8c7cdc&ts=true\"\nimport script from \"./Freeport.vue?vue&type=script&lang=ts\"\nexport * from \"./Freeport.vue?vue&type=script&lang=ts\"\n\nimport \"./Freeport.vue?vue&type=style&index=0&id=5e8c7cdc&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InputNode.vue?vue&type=template&id=d5d80b7c&ts=true\"\nimport script from \"./InputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./InputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./InputNode.vue?vue&type=style&index=0&id=d5d80b7c&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./IntegratedCircuit.vue?vue&type=template&id=072f46ee&ts=true\"\nimport script from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\n\nimport \"./IntegratedCircuit.vue?vue&type=style&index=0&id=072f46ee&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./And.vue?vue&type=template&id=451c19e4&ts=true\"\nimport script from \"./And.vue?vue&type=script&lang=ts\"\nexport * from \"./And.vue?vue&type=script&lang=ts\"\n\nimport \"./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Or.vue?vue&type=template&id=4e6eb8f2&ts=true\"\nimport script from \"./Or.vue?vue&type=script&lang=ts\"\nexport * from \"./Or.vue?vue&type=script&lang=ts\"\n\nimport \"./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nor.vue?vue&type=template&id=7803c0c0&ts=true\"\nimport script from \"./Nor.vue?vue&type=script&lang=ts\"\nexport * from \"./Nor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nand.vue?vue&type=template&id=1bef5bae&ts=true\"\nimport script from \"./Nand.vue?vue&type=script&lang=ts\"\nexport * from \"./Nand.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xnor.vue?vue&type=template&id=3e58dbce&ts=true\"\nimport script from \"./Xnor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xnor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xor.vue?vue&type=template&id=2e4c44f6&ts=true\"\nimport script from \"./Xor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LogicGate.vue?vue&type=template&id=4853bdc0&ts=true\"\nimport script from \"./LogicGate.vue?vue&type=script&lang=ts\"\nexport * from \"./LogicGate.vue?vue&type=script&lang=ts\"\n\nimport \"./LogicGate.vue?vue&type=style&index=0&id=4853bdc0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OutputNode.vue?vue&type=template&id=38254202&ts=true\"\nimport script from \"./OutputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./OutputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./OutputNode.vue?vue&type=style&index=0&id=38254202&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CircuitComponent.vue?vue&type=template&id=04a5156f&ts=true\"\nimport script from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./CircuitComponent.vue?vue&type=style&index=0&id=04a5156f&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=0ac03fe7&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=0ac03fe7&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortHandle.vue?vue&type=template&id=2ce249eb&ts=true\"\nimport script from \"./PortHandle.vue?vue&type=script&lang=ts\"\nexport * from \"./PortHandle.vue?vue&type=script&lang=ts\"\n\nimport \"./PortHandle.vue?vue&type=style&index=0&id=2ce249eb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortPivot.vue?vue&type=template&id=9aa66860&ts=true\"\nimport script from \"./PortPivot.vue?vue&type=script&lang=ts\"\nexport * from \"./PortPivot.vue?vue&type=script&lang=ts\"\n\nimport \"./PortPivot.vue?vue&type=style&index=0&id=9aa66860&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum PortType {\n  Output = 0,\n  Input\n}\n\nexport default PortType\n","import { render } from \"./PortItem.vue?vue&type=template&id=68805fd4&ts=true\"\nimport script from \"./PortItem.vue?vue&type=script&lang=ts\"\nexport * from \"./PortItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum ItemType {\n  Buffer = 'Buffer',\n  CircuitNode = 'CircuitNode',\n  Freeport = 'Freeport',\n  InputNode = 'InputNode',\n  IntegratedCircuit = 'IntegratedCircuit',\n  LogicGate = 'LogicGate',\n  OutputNode = 'OutputNode'\n}\n\nexport default ItemType\n","enum ItemSubtype {\n  None = 'None',\n\n  /* input nodes */\n  Switch = 'Switch',\n  PushButton = 'PushButton',\n  Clock = 'Clock',\n\n  /* output nodes */\n  Lightbulb = 'Lightbulb',\n\n  /* buffers */\n  Buffer = 'Buffer',\n  Not = 'Not',\n\n  /* tri-state */\n  Tristate = 'Tristate',\n\n  /* logic gates */\n  And = 'And',\n  Or = 'Or',\n  Nand = 'Nand',\n  Nor = 'Nor',\n  Xnor = 'Xnor',\n  Xor = 'Xor'\n}\n\nexport default ItemSubtype\n","import { render } from \"./Item.vue?vue&type=template&id=9576fe3a&ts=true\"\nimport script from \"./Item.vue?vue&type=script&lang=ts\"\nexport * from \"./Item.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Selector.vue?vue&type=template&id=00c70482&ts=true\"\nimport script from \"./Selector.vue?vue&type=script&lang=ts\"\nexport * from \"./Selector.vue?vue&type=script&lang=ts\"\n\nimport \"./Selector.vue?vue&type=style&index=0&id=00c70482&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Editor.vue?vue&type=template&id=61b17de9&ts=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=61b17de9&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=2e6e8258&ts=true\"\nimport script from \"./Group.vue?vue&type=script&lang=ts\"\nexport * from \"./Group.vue?vue&type=script&lang=ts\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=2e6e8258&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function edit (useDocumentStore: DocumentStore, submenus: MenuItemConstructorOptions[] = []): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  let menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Undo',\n      enabled: store.canUndo,\n      accelerator: 'CommandOrControl+Z',\n      click: store.undo\n    },\n    { type: 'separator' },\n    {\n      role: 'cut',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'copy',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'paste',\n      enabled: store.hasSelection\n    },\n    {\n      label: 'Delete',\n      accelerator: 'Delete',\n      enabled: store.hasSelection,\n      click: store.deleteSelection\n    },\n    { type: 'separator' },\n    {\n      role: 'selectAll',\n      enabled: store.baseItems.length > 0\n    }\n  ]\n\n  if (store.selectedItemIds.length > 0) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Rotate',\n      submenu: [\n        {\n          label: 'Rotate 90 &CW',\n          accelerator: 'CmdOrCtrl+R',\n          click: () => store.rotate(1)\n        },\n        {\n          label: 'Rotate 90 CC&W',\n          accelerator: 'CmdOrCtrl+Shift+R',\n          click: () => store.rotate(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.hasSelection) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Bring to Front',\n      submenu: [\n        {\n          label: '&Bring to Front',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Bring &Forward',\n          click: () => store.incrementZIndex(1)\n        }\n      ]\n    })\n    menu.push({\n      label: '&Send to Back',\n      submenu: [\n        {\n          label: '&Send to Back',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Send &Backward',\n          click: () => store.incrementZIndex(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.canGroup) {\n    menu.push({\n      label: '&Group',\n      submenu: [\n        { label: '&Group' },\n        {\n          label: '&Ungroup',\n          enabled: store.canUngroup\n        }\n      ]\n    })\n  }\n\n  if (submenus.length > 0) {\n    menu.push({ type: 'separator' })\n    menu = menu.concat(submenus)\n  }\n\n  if (store.selectedItemIds.length === 1) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Item Properties'\n    })\n  }\n\n  if (store.activePortId) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      type: 'checkbox',\n      label: 'Show in &Oscilloscope',\n      checked: true\n    })\n  }\n\n  return menu\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function grid (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  return [\n    {\n      label: '&Grid',\n      submenu: [\n        {\n          label: '&Show grid'\n        },\n        { type: 'separator' },\n        { label: 'Snap to &grid' },\n        { label: 'Snap to &elements' }\n      ]\n    }\n  ]\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport { DocumentStore } from '@/store/document'\nimport edit from '../submenus/edit'\nimport grid from '../submenus/grid'\n\nexport default function editor (store: DocumentStore): MenuItemConstructorOptions[] {\n  return edit(store, grid(store).concat({ type: 'separator' }))\n}\n","import domToImage from 'dom-to-image'\n\n/**\n * Renders a printer-friendly HTML DOM clone of the given editor element.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n * @param padding - number of pixels to use as surrounding padding\n */\nfunction createPrintArea (zoom: number, editor: HTMLElement, boundingBox: BoundingBox, padding: number, className: string = 'printer-friendly') {\n  const printArea = editor.cloneNode(true) as HTMLElement\n  const width = boundingBox.right - boundingBox.left + (padding * 2)\n  const height = boundingBox.bottom - boundingBox.top + (padding * 2)\n\n  for (let i = 0; i < printArea.children.length; i++) {\n    const child = printArea.children[i] as HTMLElement\n    const left = parseInt(child.style.left.replace('px', ''), 10) + padding\n    const top = parseInt(child.style.top.replace('px', ''), 10) + padding\n\n    child.style.left = `${(left - boundingBox.left)}px`\n    child.style.top = `${(top - boundingBox.top)}px`\n  }\n\n  printArea.style['zoom'] = zoom.toString()\n  printArea.style.width = `${width}px`\n  printArea.style.height = `${height}px`\n  printArea.style.position = 'relative'\n  printArea.style.top = '0'\n  printArea.style.left = '0'\n  printArea.style.background = 'none'\n\n  if (className) {\n    printArea.classList.add(className)\n  }\n\n  return { printArea, width, height }\n}\n\n/**\n * Renders a hidden iframe on the page for printing.\n *\n * @param image - the image to print\n * @param pageSize - list of [width, height] dimensions, in inches\n */\nfunction createPrintFrame (image: HTMLImageElement, pageSize: number[]) {\n  const iframe = document.createElement('iframe')\n\n  iframe.name = 'print'\n  iframe.style.width = '1px'\n  iframe.style.height = '1px'\n  iframe.style.opacity = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.top = '0px'\n  iframe.style.left = '0px'\n\n  document.body.appendChild(iframe)\n\n  const printFrame = iframe.contentWindow\n\n  if (printFrame) {\n    const styleTag = document.createElement('style')\n\n    styleTag.appendChild(document.createTextNode(`\n      @page {\n        size: ${pageSize.map(s => `${s}in`).join(' ')};\n        margin: 0in;\n      }\n    `))\n\n    printFrame.document.head.append(styleTag)\n    printFrame.document.body.appendChild(image)\n  }\n\n  return iframe\n}\n\n/**\n * Renders a binary PNG screenshot of the given HTML element.\n *\n * @param printArea\n */\nasync function createImage<T extends string | Blob> (printArea: HTMLElement, fn: 'toBlob' | 'toPng') {\n  document.body.appendChild(printArea)\n\n  const dataUrl = await domToImage[fn](printArea) as T\n\n  printArea.remove()\n\n  return dataUrl\n}\n\n/**\n * Prints (using a physical printer) the contents of the given window.\n */\nasync function printWindow (win: Window | null) {\n  return new Promise<void>(resolve => {\n    setTimeout(() => {\n      if (!win) return resolve()\n\n      win.addEventListener('afterprint', () => resolve())\n      win.print()\n    })\n  })\n}\n\n/**\n * Prints (using a physical printer) the editor.\n * The version printed will be rendered as a printer-friendly (read: ink-friendly) screenshot of the given editor.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n */\nasync function printImage (zoom: number, editor: HTMLElement, boundingBox: BoundingBox) {\n  const { printArea, width, height } = createPrintArea(1 / zoom, editor, boundingBox, 20)\n  const dataUrl = await printing.createImage<string>(printArea, 'toPng')\n  const pageSize = [8.5, 11] // inches\n  const minSize = Math.min(...pageSize) * 96 // pixels\n  const maxSize = Math.max(...pageSize) * 96 // pixels\n  const image = new Image()\n\n  let percent = 1 // percentage to resize the image by (to fit printable window area)\n\n  image.src = dataUrl as string\n\n  if (width > minSize || width > maxSize || height > minSize || height > maxSize) {\n    // make the image print in either landscape or portrait, whichever fits better\n    const isLandscape = width > height\n\n    // if the image exceeds one of the dimensions, resize it in ratio to match the dimension\n    percent = isLandscape\n      ? maxSize / width\n      : maxSize / height\n\n    if (isLandscape) {\n      pageSize.reverse()\n    }\n  }\n\n  image.style.width = `${Math.floor(width * percent)}px`\n  image.style.height = `${Math.floor(height * percent)}px`\n\n  const iframe = printing.createPrintFrame(image, pageSize)\n\n  await printing.printWindow(iframe?.contentWindow)\n\n  iframe?.remove()\n}\n\nconst printing = {\n  createPrintArea,\n  createPrintFrame,\n  createImage,\n  printImage,\n  printWindow\n}\n\nexport default printing\n","import CircuitNode from '../base/CircuitNode'\n\nclass Connection {\n  node: CircuitNode\n  id: string\n\n  constructor (node: CircuitNode, id: string) {\n    this.node = node\n    this.id = id\n  }\n}\n\nexport default Connection\n","const LogicValue = {\n  TRUE: 1,\n  FALSE: -1,\n  UNKNOWN: 0\n}\n\nexport default LogicValue\n","import Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\n\nclass CircuitNode {\n  /**\n   * Incoming values, to be used for calculation of the node's state.\n   *\n   * @type {Array<LogicValue>}\n   */\n  public inputValues: { [id: string]: number } = {}\n\n  /**\n   * List of outgoing connections.\n   *\n   * @type {Array<Connection>}\n   */\n  public outputs: Array<Connection> = []\n\n  /**\n   * Set to true if the value of the node has changed since last circuit evaluation.\n   *\n   * @type {Boolean}\n   */\n  public isValueChanged: boolean = true\n\n  /**\n   * Set to true to have the debugger continue regardless of whether this node changed or not.\n   *\n   * @type {Boolean}\n   */\n  public forceContinue: boolean = false\n\n  /**\n   * Name of the node.\n   *\n   * @type {String}\n   */\n  public name: string\n\n  /**\n   * Current value of the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public value: number = LogicValue.UNKNOWN\n\n  /**\n   * Next value for the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public newValue: number = LogicValue.UNKNOWN\n\n  /**\n   * List of dictionaries containing event types and their respective callbacks.\n   * Used for the invocation of event listeners when their respective events are fired.\n   *\n   * @type {Array<Object>}\n   */\n  public events: Array<{ eventType: string, callback: Function }> = []\n\n  /**\n   * Constructor.\n   *\n   * @param {String} name - name of the node\n   * @param {Number} [inputIds = []] - ids for each input port\n   */\n  constructor (name: string, inputIds: string[] = []) {\n    this.name = name\n    this.inputValues = inputIds.reduce((map, id) => ({\n      ...map,\n      [id]: LogicValue.UNKNOWN\n    }), {})\n  }\n\n  /**\n   * Updates the node's value to be static having the given value.\n   *\n   * @param {LogicValue} value\n   */\n  public setValue = (value: number): void => {\n    this.newValue = value\n    this.eval = () => value\n  }\n\n  /**\n   * Invokes the registered events having the given `eventType`.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {LogicValue} value\n   */\n  protected invokeEvent = (eventType: string, value: number): void => {\n    this.events.forEach((event) => {\n      if (event.eventType === eventType) {\n        event.callback(value)\n      }\n    })\n  }\n\n  /**\n   * Evaluates the node. Default behavior returns the current value.\n   *\n   * @returns {LogicValue}\n   */\n  protected eval = (): number => {\n    return this.value\n  }\n\n  /**\n   * Calculates how many input values equal the given comparison value.\n   *\n   * @param {LogicValue} compare - value to get count of\n   * @returns {Number}\n   */\n  protected valueCount = (compare: number): number => {\n    return Object\n      .values(this.inputValues)\n      .filter((value) => value === compare)\n      .length\n  }\n\n  /**\n   * Updates all outgoing connected nodes with the given value.\n   *\n   * @param {LogicValue} newValue - new value to output to the nodes\n   */\n  public updateOutputs = (newValue: number): void => {\n    this.outputs.forEach(({ node, id }: Connection) => {\n      node.update(newValue, id)\n    })\n  }\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @param {LogicValue} value - new value\n   * @param {Number} id - source port id\n   */\n  public update = (value: number, id: string): void => {\n    this.inputValues[id] = value\n    this.newValue = this.eval()\n  }\n\n  /**\n   * Propagates a signal, if the value of the node has changed.\n   *\n   * @returns {Array<CircuitNodes>} list of all outgoing connected nodes\n   */\n  public propagate = (): Array<CircuitNode> => {\n    if (this.value !== this.newValue) {\n      this.isValueChanged = true\n      this.value = this.newValue\n      this.updateOutputs(this.newValue)\n      this.invokeEvent('change', this.newValue)\n\n      return this.outputs.map(({ node }) => node)\n    }\n    return []\n  }\n\n  /**\n   * Resets the value and subsequent value of the node with Hi-Z.\n   */\n  public reset = (): void => {\n    this.value = LogicValue.UNKNOWN\n    this.newValue = LogicValue.UNKNOWN\n    this.invokeEvent('change', this.newValue)\n  }\n\n  /**\n   * Registers an event listener.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {Function} callback - method to invoke on event\n   */\n  public on = (eventType: string, callback: Function): void => {\n    this.events.push({ eventType, callback })\n  }\n\n  /**\n   * Returns the value of the node next time the circuit is evaluated.\n   *\n   * @returns {Number}\n   */\n  public getProjectedValue = (): number => {\n    return this.eval() || this.newValue || this.value\n  }\n}\n\n\nexport default CircuitNode\n","import CircuitNode from './CircuitNode'\n\nclass InputNode extends CircuitNode {\n  /**\n   * Resets the node.\n   *\n   * @override CircuitNode.reset\n   */\n  public reset = (): void => {\n    // do nothing\n  }\n}\n\nexport default InputNode\n","import CircuitNode from './CircuitNode'\n\nclass OutputNode extends CircuitNode {\n  /**\n   * Updates the value of the node.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value\n   */\n  public update = (value: number): void => {\n    if (this.newValue !== value) {\n      this.newValue = value\n      this.invokeEvent('change', value)\n    }\n  }\n}\n\nexport default OutputNode\n","import CircuitNode from '../base/CircuitNode'\nimport Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\nimport InputNode from './InputNode'\nimport OutputNode from './OutputNode'\n\nclass Circuit {\n  /**\n   * The debugger processing queue.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public queue: Array<CircuitNode> = []\n\n  /**\n   * A list of all the nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public nodes: Array<CircuitNode> = []\n\n  /**\n   * A list of all input nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public inputNodes: Array<InputNode> = []\n\n  /**\n   * Adds a node to the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to add\n   */\n  public addNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      this.inputNodes.push(node)\n      this.enqueue(node)\n    }\n    this.nodes.push(node)\n  }\n\n  /**\n   * Removes a node from the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to remove\n   */\n  public removeNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      const inputIndex = this.inputNodes.findIndex(({ name }) => name === node.name)\n\n      if (inputIndex !== -1) {\n        this.inputNodes.splice(inputIndex, 1)\n      }\n      // this.reset()\n    }\n\n    const index = this.nodes.findIndex(({ name }) => name === node.name)\n\n    if (index !== -1) {\n      this.removeNodeOutputs(node)\n      this.nodes.splice(index, 1)\n    }\n\n    this.next()\n  }\n\n  /**\n   * Adds a connection entry from the source node to the target node on the given index.\n   *\n   * @param {CircuitNode} source - source node\n   * @param {CircuitNode} target - target node\n   * @param {Number} targetId - entry port id on the target node for the connection\n   */\n  public addConnection = (source: CircuitNode, target: CircuitNode, targetId: string): void => {\n    source.outputs.push(new Connection(target, targetId))\n    source.value = LogicValue.UNKNOWN\n    this.enqueue(source)\n    this.next()\n  }\n\n  /**\n   * Removes the connection on the source node at the source index and the connection at its target node.\n   * The input value at the target index will be reset to Hi-Z.\n   *\n   * @param {CircuitNode} sourceNode - source node to disconnect\n   * @param {CircuitNode} targetNode - target node to disconnect\n   */\n  public removeConnection = (sourceNode: CircuitNode, targetNode: CircuitNode): void => {\n    sourceNode\n      .outputs\n      .concat()\n      .forEach(({ node, id }: Connection, i: number) => {\n        if (targetNode === node) {\n          // reset the input of the target for this connection to hi-Z\n          targetNode.update(LogicValue.UNKNOWN, id)\n\n          // remove the output entry at the source\n          sourceNode.outputs.splice(i, 1)\n\n          // place the target node in the queue for processing\n          this.enqueue(targetNode)\n        }\n      })\n    this.next()\n  }\n\n  /**\n   * Removes all connections from the given source node.\n   *\n   * @param {CircuitNode} source\n   */\n  removeNodeOutputs = (source: CircuitNode): void => {\n    for (let i: number = 0; i < source.outputs.length; i++) {\n      this.removeConnection(source, source.outputs[i].node)\n    }\n  }\n\n  /**\n   * Appends the given node(s) to the processing queue.\n   *\n   * @param {...CircuitNode} added - node(s) to add to the queue\n   */\n  public enqueue = (...added: CircuitNode[]): void => {\n    added.forEach((node) => {\n      if (!~this.queue.indexOf(node)) {\n        this.queue.push(node)\n      }\n    })\n  }\n\n  /**\n   * Removes the given node from the processing queue.\n   *\n   * @param {CircuitNode} removed - node to remove from the queue\n   */\n  public dequeue = (removed: CircuitNode): void => {\n    const removedIndex = this.queue.indexOf(removed)\n\n    if (~removedIndex) {\n      this.queue.splice(removedIndex, 1)\n    }\n  }\n\n  /**\n   * Resets the circuit.\n   */\n  public reset = (): void => {\n    this.nodes.forEach((node) => node.reset())\n  }\n\n  /**\n   * Advances the circuit simulation one step. If none of the node values have changed,\n   * it continues stepping through until either a value changes or the queue is empty.\n   */\n  public next = (): void => {\n    let isValueChanged = false\n    let forceContinue = false\n    let localQueue: CircuitNode[] = []\n\n    while (this.queue.length > 0) {\n      const node = this.queue.shift()\n\n      if (!node) continue\n\n      localQueue = localQueue.concat(node.propagate())\n\n      this.dequeue(node)\n\n      if (node.isValueChanged) {\n        isValueChanged = true\n        node.isValueChanged = false\n      }\n\n      if (node.forceContinue) {\n        forceContinue = true\n        this.enqueue(...localQueue)\n        localQueue = []\n      }\n    }\n\n    if (isValueChanged) {\n      this.enqueue(...localQueue)\n    }\n  }\n\n  /**\n   * Returns true when the queue is finished processing.\n   *\n   * @returns {Boolean}\n   */\n  public isComplete = (): boolean => {\n    let isComplete = true\n\n    if (this.queue.length === 0) {\n      return true\n    }\n\n    this.queue.forEach(node => {\n      const nextValue = node.getProjectedValue()\n\n      if (nextValue !== node.value && !(node instanceof OutputNode)) {\n        isComplete = false\n      }\n    })\n\n    if (isComplete) {\n      this.queue = []\n    }\n\n    return isComplete\n  }\n}\n\nexport default Circuit\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nor extends CircuitNode {\n  protected eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.FALSE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.TRUE\n  }\n}\n\nexport default Nor\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Buffer extends CircuitNode {\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value - new value\n   * @param {Number} index - source index\n   */\n  public update = (value: number): void => {\n    const id = Object\n      .keys(this.inputValues)\n      .pop()\n\n    if (id) {\n      this.inputValues[id] = value\n      this.newValue = this.eval()\n    }\n  }\n\n  protected eval = (): number => {\n    const values = Object.values(this.inputValues)\n\n    // TODO: if any inputs to buffer are TRUE, then return TRUE\n    // otherwise, return the first value discovered\n    return values.find(v => v === 1) || values.pop() || 0\n  }\n}\n\nexport default Buffer\n","import { LogicValue } from '@/circuit'\n\n/**\n * @class BinaryWaveService\n * @description this service provides functionality for a graphical illustration of a wave in the oscilloscope.\n * Instances of these waves are the values of the active oscillogram.\n */\nexport default class BinaryWaveService implements Pulse {\n  /** Wave ID. */\n  public id: string\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Width (in pixels) of the wave. */\n  public width: number = 0\n\n  /** The y value for the last segment. */\n  private lastY: number = 0\n\n  /** Cartesian point values for each pixel segment. */\n  public segments: Point[] = []\n\n  /** Hue color value for the wave. */\n  public hue: number = 0\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param signal - current signal value to initialize at\n   * @param hue - color value for the wave\n   */\n  constructor (id: string, name: string, signal: number, hue: number) {\n    this.id = id\n    this.name = name\n    this.hue = hue\n    this.initialize(signal)\n  }\n\n  /**\n   * Creates an initial segment based on the given signal.\n   *\n   * @param signal\n   */\n  public initialize = (signal: number) => {\n    const segment = { x: 1, y: 1 }\n\n    if (signal === 1) {\n      segment.y = 0 // draw a vertical line from 0 up to 1\n      this.lastY = 1\n    } else {\n      segment.y = 1 // draw a vertical line from 1 down to 0\n      this.lastY = 0\n    }\n\n    this.addSegment(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Clears out the existing wave data.\n   */\n  public reset = () => {\n    this.segments = []\n    this.width = 0\n    this.initialize(this.lastY === 1 ? 0 : 1)\n  }\n\n  /**\n   * Periodic update function.\n   *\n   * @param elapsed - (no value necessary)\n   */\n  public update = (elapsed: number): void => {\n    this.drawPulseConstant()\n  }\n\n  /**\n   * Adds a new segment.\n   * This will correct for any mismatches between the segment and the previous one (if any).\n   *\n   * @param segment - new segment to add\n   */\n  addSegment = (segment: Point) => {\n    const previous = this.segments[this.segments.length - 1]\n\n    if (!previous && segment.x > 0) {\n      this.segments.push({ x: 0, y: segment.y })\n    } else if (previous && previous.x !== segment.x && previous.y !== segment.y) {\n      // if a previous segment exists, and both its x and y values mismatch, then remove it\n      this.segments.pop()\n    }\n\n    this.segments.push(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Draws the next segment of the wave with an inverted signal line.\n   *\n   * @param signal - incoming signal change value\n   */\n  drawPulseChange = (signal: number) => {\n    const { x } = this.segments[this.segments.length - 1]\n    const y = signal === LogicValue.TRUE ? 0 : 1\n\n    this.updateWidth()\n    this.addSegment({ x, y })\n  }\n\n  /**\n   * Draws the next segment of the wave, continued from the current signal line.\n   */\n  drawPulseConstant = () => {\n    const previous = this.segments[this.segments.length - 1]\n    // if the y value from the previous segment is unchanged, just extend its x value\n    const pos = this.lastY !== previous.y\n      ? previous\n      : this.segments.pop()\n\n\n    if (pos) {\n      this.updateWidth()\n      this.addSegment({\n        x: pos.x + 1,\n        y: pos.y\n      })\n    }\n    this.lastY = previous.y\n  }\n\n  /**\n   * Truncates the wave from the back such that the resulting wave is no wider than the given value.\n   *\n   * @param widthToKeep - the width, in pixels, to keep from the wave\n   */\n  truncateSegments = (widthToKeep: number) => {\n    if (widthToKeep > this.width) {\n      return\n    }\n\n    const widthToTruncate = this.width - widthToKeep\n\n    let deltaX = 0\n\n    for (let i = 0; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      if (x > widthToTruncate) {\n        deltaX = x - widthToTruncate\n\n        this.segments.splice(0, i)\n        this.segments.unshift({ x: 0, y })\n\n        break\n      }\n    }\n\n    for (let i = 1; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      this.segments[i] = {\n        x: x - widthToTruncate,\n        y\n      }\n    }\n\n    this.updateWidth()\n  }\n\n  updateWidth = () => {\n    this.width = this.segments.slice(-1)[0]?.x || 0\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * @class ClockService\n * @description This provides an oscillating clock wave. It oscillates between TRUE and FALSE.\n */\nexport default class ClockService implements Pulse {\n  /** Wave ID. */\n  public id: string = uuid()\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Current signal value. */\n  public signal: number = 0\n\n  /** Last update time, in milliseconds. */\n  private lastUpdate: number\n\n  /** Interval, in milliseconds, to oscillate at. */\n  private interval: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param interval - time, in milliseconds, to oscillate at\n   * @param signal - current signal value to initialize at\n   */\n  constructor (name: string, interval: number, signal: number) {\n    this.name = name\n    this.signal = signal\n    this.interval = interval\n    this.lastUpdate = -interval\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (signal: number) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Updates all waves with the given time elapsed.\n   *\n   * @param elapsed - time elapsed during simulation\n   */\n  public update = (elapsed: number): void => {\n    if (elapsed >= this.lastUpdate + this.interval) {\n      this.signal = this.signal === -1 ? 1 : -1\n      this.lastUpdate = elapsed\n      this.emitter.emit('change', this.signal)\n    }\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\n\n/**\n * @class OscillationService\n * @description Manages all oscillating services, including binary waves and clock pulses.\n * This service uses system time to determine proper sequencing and updating.\n */\nexport default class OscillationService {\n  /** Whether or not the oscillator is paused. */\n  public isPaused: boolean = true\n\n  /** Key-value pair of all waves. */\n  public waves: Record<string, Pulse> = {}\n\n  /** The refresh rate for the oscilloscope. */\n  public refreshRate: number = 20 // TODO: this can be configured to make the waves wider/oscilloscope run faster\n\n  /** The last time the oscillator was updated, in milliseconds. */\n  public lastUpdateTime: number = Date.now()\n\n  /** Elapsed total time, in milliseconds. */\n  public timeMsElapsed: number = 0\n\n  /** Offset wave time, in milliseconds. */\n  public timeMsOffset: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Starts the oscillator.\n   */\n  start = () => {\n    if (!this.isPaused) return\n\n    // this is the time that has elapsed prior to the completion of a full period\n    // when the oscillator is stopped, we want to maintain the time progressed before the next period\n    const remainingPeriodTime = this.lastUpdateTime % this.refreshRate\n\n    this.lastUpdateTime = Date.now() + remainingPeriodTime\n    this.isPaused = false\n    this.tick()\n  }\n\n  /**\n   * Stops the oscillator.\n   */\n  stop = () => {\n    this.isPaused = true\n  }\n\n  /**\n   * Clears all current binary wave geometries.\n   */\n  clear = () => {\n    Object\n      .values(this.waves)\n      .forEach(wave => {\n        if (wave instanceof BinaryWaveService) {\n          (wave as BinaryWaveService).reset()\n        }\n      })\n  }\n\n  /**\n   * Computes the SVG points for each given binary wave.\n   *\n   * @param waves\n   * @returns oscillogram result\n   */\n  computeWaveGeometry = (waves: Record<string, Pulse>) => {\n    const displays: Oscillogram = {}\n    const getPoints = (segments: Point[]) => segments.map(({ x, y }) => `${x},${y}`)\n\n    for (const name in waves) {\n      if (waves[name] instanceof BinaryWaveService) {\n        const wave = waves[name] as BinaryWaveService\n        const points = getPoints(wave.segments)\n\n        displays[name] = {\n          points: points.join(' '),\n          width: wave.width,\n          hue: wave.hue\n        }\n      }\n    }\n\n    return displays\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Broadcasts the oscillogram.\n   *\n   * @emits change containing the oscillogram data\n   */\n  broadcast = () => {\n    // set the max history to be twice the size of the user's screen, then cut half of it when it is exceeded\n    const screenWidth = window.screen.width\n    const widthOfOneSecond = 1000 / this.refreshRate\n    const maxHistorySeconds = screenWidth / widthOfOneSecond\n\n    if (this.timeMsElapsed >= this.timeMsOffset + ((maxHistorySeconds / 2) * 1000)) {\n      this.timeMsOffset = this.timeMsElapsed\n\n      Object\n        .values(this.waves)\n        .forEach((wave: Pulse) => {\n          if (wave instanceof BinaryWaveService) {\n            wave.truncateSegments(screenWidth)\n          }\n        })\n    }\n\n    this.emitter.emit('change', this.computeWaveGeometry(this.waves))\n  }\n\n  /**\n   * Triggers all oscillation update events.\n   */\n  tick = (): void => {\n    if (this.isPaused) return\n\n    const now = Date.now()\n    const MAX_IDLE_TIME = 10000 // 10 seconds\n    let hasUpdated = false\n\n    if (now >= this.lastUpdateTime + MAX_IDLE_TIME) {\n      // if the oscilloscope has been idle for a while, then re-start it rather than try to catch up to the current time\n      this.stop()\n      this.start()\n      return\n    }\n\n    while (now >= this.lastUpdateTime + this.refreshRate) {\n      // loop through each refresh period elapsed and simulate as if they actually elapsed\n      const delta = Math.min(this.refreshRate, now - this.lastUpdateTime)\n\n      hasUpdated = true\n      this.timeMsElapsed += delta\n      this.lastUpdateTime += delta\n      this.update()\n    }\n\n    if (hasUpdated) {\n      this.broadcast()\n    }\n\n    requestAnimationFrame(this.tick)\n  }\n\n  /**\n   * Updates all waves with the given tick count.\n   */\n  update = (): void => {\n    Object\n      .values(this.waves)\n      .forEach((wave) => wave.update(this.timeMsElapsed))\n  }\n\n  /**\n   * Adds the given wave to the oscillator instance.\n   *\n   * @param {Pulse} wave\n   */\n  add = (wave: Pulse): void => {\n    if (!this.waves.hasOwnProperty(wave.id)) {\n      this.waves[wave.id] = wave\n\n      if (this.timeMsElapsed === 0) {\n        this.broadcast()\n      }\n    }\n  }\n\n  /**\n   * Removes the wave having the given id.\n   *\n   * @param {Pulse} wave\n   */\n  remove = ({ id }: Pulse): void => {\n    delete this.waves[id]\n\n    if (Object.keys(this.waves).length === 0) {\n      this.stop()\n      this.clear()\n    }\n  }\n}\n","import { CircuitNode, Nor, InputNode, OutputNode, Buffer } from '@/circuit'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nfunction getLogicGateNode (subtype: string, id: string, inputIds: string[]): CircuitNode {\n  switch (subtype) {\n    case ItemSubtype.And:\n      return new Nor(id, inputIds)\n    default:\n      return new Nor(id, inputIds)\n  }\n}\n\nfunction getCircuitNode ({ id, type, subtype }: Item, inputIds: string[]): CircuitNode {\n  switch (type) {\n    case ItemType.CircuitNode:\n      return new CircuitNode(id, inputIds)\n    case ItemType.InputNode:\n      return new InputNode(id, inputIds)\n    case ItemType.LogicGate:\n      return getLogicGateNode(subtype, id, inputIds)\n    case ItemType.Buffer:\n    case ItemType.Freeport:\n      return new Buffer(id, inputIds)\n    default:\n      return new OutputNode(id, inputIds) // TODO: use generic CircuitNode instead?\n  }\n}\n\nexport default {\n  getLogicGateNode,\n  getCircuitNode\n}\n","import { Circuit, CircuitNode } from '@/circuit'\nimport { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\nimport ClockService from './ClockService'\nimport OscillationService from './OscillationService'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\nimport circuitNodeMapper from '@/utils/circuitNodeMapper'\n\n/**\n * The SimulationService ties together all aspects of a running simulation, including clock pulses, oscilloscope\n * wave management, and circuit component I/O. Effectively serves as an oracle for all circuit computations.\n *\n * It is important that the simulation maintains the state of the circuit separately from the editor state, as\n * components may be removed/added/changed in the editor by the user at any time. Maintaining them separate allows\n * the state of components present in the editor to be persisted.\n *\n * There is a one-to-one relationship between SimulationService instances and Document instances.\n */\nexport default class SimulationService {\n  /** Mapping of port IDs to their respective circuit nodes. */\n  nodes: Record<string, CircuitNode> = {}\n\n  /** Mapping of port IDs to their respective nodes' binary wave instances. */\n  waves: Record<string, BinaryWaveService> = {}\n\n  /** Mapping of port IDs to their respective nodes' clock instances. */\n  clocks: Record<string, ClockService> = {}\n\n  /** Mapping of port IDs to their respective current values. */\n  valueMap: Record<string, number> = {}\n\n  /** Logical circuit instance. */\n  circuit: Circuit = new Circuit()\n\n  /** Circuit oscillator. */\n  oscillator: OscillationService = new OscillationService()\n\n  /** Event emitter. */\n  emitter: TinyEmitter = new TinyEmitter()\n\n  /** Whether or not the simulation is paused. */\n  isPaused: boolean = false\n\n  /** Oscillogram data, containing each BinaryWave instance observed in the oscilloscope. */\n  oscillogram: Oscillogram = {}\n\n  /**\n   * Constructor.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  constructor (items: Item[], connections: Connection[], ports: Record<string, Port>) {\n    this.addElements(items, connections, ports)\n    this.oscillator.on('change', oscillogram => {\n      this.oscillogram = oscillogram\n      this.emit()\n    })\n  }\n\n  /**\n   * Adds the given items and connections with the given ports to the simulation.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  addElements = (items: Item[], connections: Connection[], ports: Record<string, Port>) => {\n    items.forEach(item => this.addNode(item, ports))\n    connections.forEach(c => this.addConnection(c.source, c.target))\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the port-value mapping as the first argument and oscillogram data as the second\n   */\n  on = (event: string, fn: (valueMap: Record<string, number>, oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Emits a change event.\n   *\n   * @emits change when the oscillogram or any value changes changes\n   */\n  emit = () => {\n    this.emitter.emit('change', this.valueMap, this.oscillogram)\n  }\n\n  /**\n   * Pauses the simulation.\n   */\n  pause = () => {\n    this.oscillator.stop()\n    this.isPaused = true\n  }\n\n  /**\n   * Continues the simulation.\n   */\n  unpause = () => {\n    this.isPaused = false\n    this.oscillator.start()\n    this.emit()\n  }\n\n  /**\n   * Advances the simulation by one step.\n   *\n   * @param [iteration = 0] - internal iteration count (should always invoke using `0` or undefined)\n   */\n  step = (iteration: number = 0) => {\n    if (this.isPaused) return\n\n    this.circuit.next()\n\n    const shouldContinue = this.circuit.queue.length > 0 // TODO: use circuit.isComplete()?\n\n    if (iteration > 10000) {\n      // TODO: configure this to detect infinite loops...\n      throw new Error('An infinite loop detected!')\n    }\n\n    if (shouldContinue) {\n      this.step(++iteration)\n    }\n\n    this.emit()\n  }\n\n  canContinue: boolean = false\n\n  nextState: string | null = null\n\n  isDebug: boolean = false\n\n  nextValueMap: Record<string, number> = {}\n\n  startDebugging = () => {\n    this.isDebug = true\n    this.pause()\n    this.computeNextState()\n  }\n\n  stopDebugging = () => {\n    this.isDebug = false\n    this.nextState = null\n    this.unpause()\n  }\n\n  advance = () => {\n    const nextValues = Object.keys(this.nextValueMap)\n\n    if (nextValues.length > 0) {\n      // at least one value change was triggered by the editor since last advance\n      nextValues.forEach(portId => this.updatePortValue(portId, this.nextValueMap[portId]))\n    } else if (this.nextState) {\n      // no inputs are pending updates, and there is a new state to advance to\n      this.valueMap = JSON.parse(this.nextState) as Record<string, number>\n    }\n\n    this.nextValueMap = {}\n    this.computeNextState()\n    this.emit()\n  }\n\n  computeNextState = () => {\n    const currentState = JSON.stringify(this.valueMap)\n\n    this.circuit.next()\n\n    const nextState = JSON.stringify(this.valueMap)\n\n    if (currentState !== nextState) {\n      this.nextState = nextState\n    } else {\n      this.nextState = null\n    }\n\n    this.canContinue = this.nextState !== null\n  }\n\n  /**\n   * Sets the output value of a given target node.\n   *\n   * @param id - ID of the port with new value\n   * @param value - new value to set\n   */\n  setOutputValue = (id: string, value: number) => {\n    this.valueMap[id] = value\n    this.emit()\n  }\n\n  updatePortValue = (portId: string, value: number) => {\n    this.nodes[portId].setValue(value)\n    this.circuit.enqueue(this.nodes[portId])\n    this.waves[portId]?.drawPulseChange(value)\n  }\n\n  enqueuePortValueChange = (portId: string, value: number) => {\n    this.nextValueMap[portId] = value\n\n    // circuit can continue only if one or more port values have changed\n    this.canContinue = Object\n      .keys(this.nextValueMap)\n      .reduce((anyValueChanged: boolean, portId) => {\n        return anyValueChanged || this.valueMap[portId] !== this.nextValueMap[portId]\n      }, false)\n\n    this.emit()\n  }\n\n  /**\n   * Sets a port's value logical value, performing all necessary simulation operations that result from such an action.\n   *\n   * This should be invoked by the document.\n   *\n   * @param portId\n   * @param value - new logical value\n   */\n  setPortValue = (portId: string, value: number) => {\n    if (this.isDebug) {\n      return this.enqueuePortValueChange(portId, value)\n    }\n\n    if (this.nodes[portId] && this.nodes[portId].value !== value) {\n      this.updatePortValue(portId, value)\n      this.step()\n    }\n  }\n\n  /**\n   * Adds an integrated circuit to the simulation.\n   *\n   * @param item - the high-level integrated circuit item\n   */\n  addIntegratedCircuit = (icItem: Item) => {\n    if (!icItem.integratedCircuit) return\n\n    const { items, connections, ports } = icItem.integratedCircuit\n\n    Object\n      .values(items)\n      .forEach(item => {\n        this.addNode(item, ports, true)\n      })\n\n    Object\n      .values(connections)\n      .forEach(c => {\n        this.addConnection(c.source, c.target)\n      })\n  }\n\n  /**\n   * Adds new a node to the simulation.\n   *\n   * @param item - item to add\n   * @param ports - port mapping to reference (if an IC, then use the ports within the document itself)\n   * @param [forceContinue] - if true, forces the circuit node to evaluate immediately\n   */\n  addNode = (item: Item, ports: Record<string, Port>, forceContinue: boolean = false) => {\n    if (item.portIds.length === 0) return // if there are no ports, then there is nothing to add\n\n    if (item.integratedCircuit) {\n      return this.addIntegratedCircuit(item)\n    }\n\n    const inputIds = item.portIds.filter(portId => ports[portId].type === PortType.Input)\n    const outputIds = item.portIds.filter(portId => ports[portId].type === PortType.Output)\n    const node = circuitNodeMapper.getCircuitNode(item, inputIds)\n\n    node.forceContinue = forceContinue\n\n    item.portIds.forEach(portId => this.addPort(portId, node))\n\n    if (item.type === ItemType.InputNode && item.subtype === ItemSubtype.Clock) {\n      this.addClock(outputIds[0])\n    }\n\n    this.circuit.addNode(node)\n\n    item.portIds.forEach(portId => {\n      const port = ports[portId]\n\n      if (port.isMonitored) {\n        this.monitorPort(portId, port.value, port.hue)\n      }\n    })\n  }\n\n  /**\n   * Removes a node and all of its ports from the simulation.\n   *\n   * @param portIds - list of IDs of ports associated with the node (at least one matching is required)\n   */\n  removeNode = (item: Item) => {\n    /** returns the port IDs of all ports that are related to the given integrated circuit */\n    const getIntegratedCircuitPortIds = (ic: Item): string[] => {\n      if (!ic.integratedCircuit) return []\n\n      return Object\n        .values(ic.integratedCircuit.items)\n        .reduce((portIds, i) => {\n          if (i.integratedCircuit) {\n            return portIds\n              .concat(getIntegratedCircuitPortIds(i))\n              .concat(i.portIds)\n          }\n          return portIds.concat(i.portIds)\n        }, [] as string[])\n    }\n\n    // remove all nodes that are referenced to port IDs of the given item\n    item\n      .portIds\n      .concat(getIntegratedCircuitPortIds(item)) // ...including IC ports\n      .forEach(portId => {\n        const node = this.nodes[portId]\n\n        if (node) {\n          this.circuit.removeNode(node)\n          this.removePort(portId)\n        }\n      })\n\n    this.emit()\n  }\n\n  /**\n   * Adds an interval clock to the circuit.\n   *\n   * @param portId\n   */\n  addClock = (portId: string) => {\n    this.clocks[portId] = new ClockService(portId, 1000, 1) // TODO: make 1000 configurable by the item\n    this.clocks[portId].on('change', (signal: number) => {\n      this.setPortValue(portId, signal)\n    })\n    this.oscillator.add(this.clocks[portId])\n  }\n\n  /**\n   * Adds a port to the simulation.\n   *\n   * @param portId - ID of the port associated with the node\n   * @param node - circuit node\n   */\n  addPort = (portId: string, node: CircuitNode) => {\n    this.nodes[portId] = node\n\n    node.on('change', (value: number) => {\n      this.setOutputValue(portId, value)\n      this.waves[portId]?.drawPulseChange(value)\n    })\n  }\n\n  /**\n   * Removes a port from the simulation and all associations of it.\n   * Associations include circuit nodes, value mappings, and any active clocks and waves.\n   *\n   * @param portId\n   */\n  removePort = (portId: string) => { // TODO: need to remove wave from oscillation\n    if (this.clocks[portId]) {\n      this.oscillator.remove(this.clocks[portId])\n    }\n\n    this.unmonitorPort(portId)\n\n    delete this.nodes[portId]\n    delete this.valueMap[portId]\n    delete this.clocks[portId]\n    delete this.waves[portId]\n  }\n\n  /**\n   * Adds a new connection between the given source and target ports.\n   * This requires that the circuit nodes for both the source and target have been added to the simulation.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  addConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.addConnection(this.nodes[sourceId], this.nodes[targetId], targetId)\n    }\n  }\n\n  /**\n   * Removes a connection that exists between the given source and target ports.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  removeConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.removeConnection(this.nodes[sourceId], this.nodes[targetId])\n    }\n  }\n\n  /**\n   * Begins monitoring an individual port in the oscilloscope.\n   *\n   * @param portId\n   * @param value - current port value\n   */\n  monitorPort = (portId: string, value: number, hue: number) => {\n    if (!this.waves[portId]) {\n      this.waves[portId] = new BinaryWaveService(portId, portId, value, hue)\n      this.oscillator.add(this.waves[portId])\n    }\n  }\n\n  /**\n   * Removes a port from being monitored in the oscilloscope.\n   *\n   * @param portId\n   */\n  unmonitorPort = (portId: string) => {\n    if (this.waves[portId]) {\n      this.oscillator.remove(this.waves[portId])\n      this.oscillator.broadcast()\n    }\n\n    delete this.waves[portId]\n    delete this.oscillator.waves[portId]\n    delete this.oscillogram[portId]\n  }\n}\n","\nimport Direction from '@/types/enums/Direction'\n// TODO: rename parent 'layout' folder to 'geometry'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nfunction rotate (rotation: number, additional = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n\n/**\n * Returns the absolute Cartesian position of an item based on its parent group's rotation and position.\n *\n * @param groupBoundingBox - group for which the item is a member of\n * @param item - item to compute position for\n * @param direction - rotation direction (1 for CW, -1 for CCW)\n * @returns\n */\nfunction getGroupedItemRotatedPosition (groupBoundingBox: BoundingBox, item: Item, direction: number): Point {\n  const w = groupBoundingBox.right - groupBoundingBox.left\n  const h = groupBoundingBox.bottom - groupBoundingBox.top\n  const mx = groupBoundingBox.left + (w / 2)\n  const my = groupBoundingBox.top + (h / 2)\n  const cx = item.position.x\n  const cy = item.position.y\n  const ax = cx + (item.width / 2)\n  const ay = cy + (item.height / 2)\n  const L = Math.sqrt(Math.pow((mx - ax), 2) + Math.pow((my - ay), 2))\n  const currentAngleRad = Math.atan2((ay - my), (ax - mx))\n  const newAngle = (90 * direction * (Math.PI / 180)) + currentAngleRad\n  const newAx = (L * Math.cos(newAngle)) + mx\n  const newAy = (L * Math.sin(newAngle)) + my\n\n  return {\n    x: newAx - (item.width / 2),\n    y: newAy - (item.height / 2)\n  }\n}\n\n/**\n * Returns the absolute Cartesian position of a port based on its parent's rotation and position.\n *\n * @param port\n * @param portList\n * @param item\n * @param index\n * @returns\n */\nfunction getRotatedPortPosition (port: Port, portList: Port[], item: Item, index: number): Point {\n  const { left, top, bottom, right } = item.boundingBox\n\n  // ports use CSS \"space around\" flex property for positions\n  // compute the spacing of each port based on the element width/height\n  // there are n spacings for n ports\n  const spacing = (port.orientation + item.rotation) % 2 === 0\n    ? Math.floor((bottom - top) / portList.length)\n    : Math.floor((right - left) / portList.length)\n\n  // compute the distance (from left-to-right or top-to-bottom)\n  // the distance will be the center of the computed spacing\n  const distance = (spacing * (index + 1)) - (spacing / 2)\n\n  switch (rotate(port.orientation + item.rotation)) {\n    case Direction.Left:\n      return { x: left, y: top + distance }\n    case Direction.Top:\n      return { x: right - distance, y: top }\n    case Direction.Right:\n      return { x: right, y: bottom - distance }\n    case Direction.Bottom:\n      return { x: left + distance, y: bottom }\n  }\n}\n\nexport default {\n  rotate,\n  getGroupedItemRotatedPosition,\n  getRotatedPortPosition\n}\n","/**\n * Returns all connections and any associated freeport items within a connection chain.\n *\n * @param connections - list of all connections to explore\n * @param portMap - ID-to-port mapping of the entire document\n * @param connectionChainId - ID of the connection chain to explore\n * @returns the IDs of the connections and the freeports discovered in the chain\n */\nexport default function getConnectionChain (connections: Connection[], portMap: Record<string, Port>, connectionChainId: string) {\n  const { connectionIds, freeportIds } = Object\n    .values(connections)\n    .reduce(({ connectionIds, freeportIds }, connection) => {\n      if (connectionChainId === connection.connectionChainId) {\n        const sourcePort = portMap[connection.source]\n        const targetPort = portMap[connection.target]\n\n        connectionIds.add(connection.id)\n\n        if (sourcePort?.isFreeport) freeportIds.add(sourcePort.elementId)\n        if (targetPort?.isFreeport) freeportIds.add(targetPort.elementId)\n      }\n\n      return { connectionIds, freeportIds }\n    }, {\n      connectionIds: new Set<string>(),\n      freeportIds: new Set<string>()\n    })\n\n  return {\n    connectionIds: Array.from(connectionIds),\n    freeportIds: Array.from(freeportIds)\n  }\n}\n","/**\n * Sorting function to sort BaseItems by their zIndex values in ascending order.\n */\nexport default function sortByZIndex (a: BaseItem, b: BaseItem) {\n  if (a.zIndex > b.zIndex) return 1\n  else if (a.zIndex < b.zIndex) return -1\n  return 0\n}\n","import ItemType from '@/types/enums/ItemType'\n\nexport default function itemFactory (id: string, type: ItemType, subtype: string, width: number, height: number, ports: Port[] = []): Item {\n  return {\n    id,\n    name: '',\n    type,\n    subtype,\n    portIds: ports.map(({ id }) => id),\n    groupId: null,\n    rotation: 0,\n    boundingBox: {\n      top: 0,\n      left: 0,\n      right: width,\n      bottom: height\n    },\n    position: {\n      x: 0,\n      y: 0\n    },\n    zIndex: 0,\n    width,\n    height,\n    isSelected: false,\n    properties: {}\n  }\n}\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\nimport ItemType from '@/types/enums/ItemType'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport itemFactory from './itemFactory'\nimport DocumentState from '@/store/DocumentState'\n\n/**\n * Creates an integrated circuit item.\n * This will embed the ports, connections, and items provided as internal circuit elements and expose input and output ports for each input and output node, respectively.\n *\n * @param statePorts - ports belonging to all elements to embed\n * @param stateItems - items to embed\n * @param stateConnections - connections between items to embed\n */\nexport default function integratedCircuitFactory (state: DocumentState) {\n  const { ports, items, connections, groups } = cloneDeep(state) as DocumentState\n  const integratedCircuitItem = itemFactory(uuid(), ItemType.IntegratedCircuit, 'Flip flop', 400, 400)\n\n  Object\n    .values(items)\n    .forEach(item => {\n      if (item.type !== ItemType.InputNode && item.type !== ItemType.OutputNode) return\n\n      // loop through each input node (switch, button, etc.) and each output node (lightbulb, etc.) in the circuit\n      // input nodes will convert to buffers and will take in a signal from the outside world\n      // output nodes will convert to buffers and signals it receives and broadcast them to the outside world\n      const portType = item.type === ItemType.InputNode\n        ? PortType.Output\n        : PortType.Input\n\n      // by default, the inputs will be on the left and the outputs on the right, but the user can change this\n      const orientation = item.type === ItemType.InputNode\n        ? Direction.Left\n        : Direction.Right\n\n      item\n        .portIds\n        .filter(portId => ports[portId].type === portType)\n        .forEach(portId => {\n          const newId = uuid()\n\n          // each input node (switch, button, etc.) will become a buffer node when simulated\n          // therefore each input node (now buffer) will receive an additional input port to receive signals from the outside world\n          // likewise, each output node (also now a buffer) will receive an additional output port to broadcast signals to the outside world\n          // these new input and output ports will be used by both the embedded nodes and the integrated circuit element itself\n          ports[newId] = {\n            ...cloneDeep<Port>(ports[portId]),\n            type: item.type === ItemType.InputNode\n              ? PortType.Input\n              : PortType.Output,\n            id: newId,\n            elementId: item.id,\n            orientation\n          }\n\n          item.portIds.push(newId)\n          integratedCircuitItem.portIds.push(newId)\n        })\n\n      item.type = ItemType.Buffer\n    })\n\n  integratedCircuitItem.integratedCircuit = {\n    items,\n    connections,\n    ports,\n    groups,\n    serializedState: JSON.stringify({\n      items: state.items,\n      connections: state.connections,\n      ports: state.ports,\n      groups: state.groups\n    })\n  }\n\n  return integratedCircuitItem\n}\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\n\ntype IdMap = Record<string, string>\n\nfunction mapStandardCircuitIds (circuit: { connections: Record<string, Connection>, items: Record<string, Item>, ports: Record<string, Port>, groups: Record<string, Group> }, idMap: IdMap = {}) {\n\n  let { items, connections, ports, groups } = cloneDeep(circuit)\n\n  function mapGroups (groups: Record<string, Group>) {\n    Object\n      .values(groups)\n      .forEach(group => {\n        const oldId = group.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        groups[newId] = cloneDeep(group)\n\n        delete groups[oldId]\n      })\n\n    return groups\n  }\n\n  function mapGroupIds (connections: Record<string, Connection>, items: Record<string, Item>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connection.groupId = connection.groupId !== null\n          ? idMap[connection.groupId]\n          : null\n      })\n\n    Object\n      .values(items)\n      .forEach(item => {\n        item.groupId = item.groupId !== null\n          ? idMap[item.groupId]\n          : null\n      })\n\n    return { connections, items }\n  }\n\n  function mapConnections (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        const oldId = connection.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        connections[newId] = cloneDeep<Connection>(connection)\n        connections[newId].id = newId\n        connections[newId].source = idMap[connections[newId].source]\n        connections[newId].target = idMap[connections[newId].target]\n\n        delete connections[oldId]\n      })\n\n      return connections\n  }\n\n  function mapConnectionChainIds (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connections[connection.id].connectionChainId = idMap[connections[connection.id].connectionChainId]\n      })\n\n    return connections\n  }\n\n  function mapItems (items: Record<string, Item>) {\n    Object\n      .values(items)\n      .forEach(item => {\n        const oldId = item.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        items[newId] = cloneDeep<Item>(item)\n\n        if (item.integratedCircuit) {\n          items[newId].integratedCircuit = {\n            serializedState: item.integratedCircuit.serializedState,\n            ...mapStandardCircuitIds(cloneDeep(item.integratedCircuit), idMap)\n          }\n        } else {\n          items[newId].id = newId\n        }\n\n        items[newId].portIds = item.portIds.map(oldId => idMap[oldId])\n\n        delete items[oldId]\n      })\n\n      return items\n  }\n\n  function mapItemIds (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        ports[port.id].elementId = idMap[port.elementId]\n      })\n\n    return ports\n  }\n\n  function mapPorts (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        const oldId = port.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        ports[newId] = cloneDeep<Port>(port)\n        ports[newId].id = newId\n\n        delete ports[oldId]\n      })\n\n    return ports\n  }\n\n  ports = mapPorts(ports)\n  items = mapItems(items)\n  ports = mapItemIds(ports)\n  connections = mapConnections(connections)\n  connections = mapConnectionChainIds(connections)\n  groups = mapGroups(groups)\n\n  return {\n    ...mapGroupIds(connections, items),\n    ports,\n    groups\n  }\n}\n\nfunction mapIntegratedCircuitIds (item: Item) {\n  if (!item.integratedCircuit) return item\n\n  const { items } = mapStandardCircuitIds({\n    items: {\n      [item.id]: item\n    },\n    connections: {},\n    ports: {},\n    groups: {}\n  })\n\n  return Object.values(items)[0]\n}\n\nexport default {\n  mapStandardCircuitIds,\n  mapIntegratedCircuitIds\n}\n","export default function fromDocumentToEditorCoordinates (canvas: BoundingBox, viewport: DOMRect, point: Point, z: number) {\n  return {\n    x: (point.x - viewport.x - canvas.left) / z,\n    y: (point.y - viewport.y - canvas.top) / z\n  }\n}\n","import Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function portFactory (elementId: string, id: string, orientation: Direction, type: PortType, name: string): Port {\n  return {\n    id,\n    orientation,\n    name,\n    position: {\n      x: 0,\n      y: 0\n    },\n    type,\n    rotation: 0,\n    elementId,\n    value: 0,\n    hue: 0,\n    isMonitored: false,\n    isFreeport: false,\n    connectedPortIds: []\n  }\n}\n","import { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport { CircuitNode, LogicValue } from '@/circuit'\n\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\nimport SimulationService from '@/services/SimulationService'\nimport boundaries from '@/utils/geometry/boundaries'\nimport rotation from '@/utils/geometry/rotation'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport sortByZIndex from '@/utils/sortByZIndex'\nimport DocumentState from './DocumentState'\nimport integratedCircuitFactory from '@/factories/integratedCircuitFactory'\nimport idMapper from '@/utils/idMapper'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\nimport SnapMode from '@/types/enums/SnapMode'\nimport itemFactory from '@/factories/itemFactory'\nimport portFactory from '@/factories/portFactory'\n\nfunction generateItemName (item: Item, taxonomyCount: number) {\n  const name: string[] = [item.type]\n\n  if (item.subtype !== ItemSubtype.None) {\n    name.push(item.subtype)\n  }\n\n  name.push(taxonomyCount.toString())\n\n  return name.join(' ')\n}\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\nexport const createDocumentStore = (documentId: string) => defineStore({\n  id: documentId,\n  state: (): DocumentState => ({\n    undoStack: [],\n    redoStack: [],\n    simulation: new SimulationService([], [], {}),\n    oscillogram: {},\n    taxonomyCounts: {},\n    zoomLevel: 1,\n    zIndex: 1,\n    oscilloscopeHeight: 200,\n    isOscilloscopeOpen: false,\n    isCircuitEvaluated: false,\n    isDebugging: false,\n    isDirty: false,\n    hasLoaded: false,\n    isPrinting: false,\n    isCreatingImage: false,\n    isToolboxOpen: false,\n\n    /* canvas dimensions */\n    viewport: new DOMRect(),\n    canvas: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0\n    },\n\n    /* the following variables are 'temporary' information */\n    snapBoundaries: [],\n    connectablePortIds: [],\n    selectedConnectionIds: [],\n    selectedItemIds: [],\n    selectedPortIndex: -1,\n    cachedState: null,\n    activeFreeportId: null,\n    activePortId: null,\n    connectionPreviewId: null,\n\n    /* serializable state items */\n    items: {},\n    connections: {},\n    ports: {},\n    groups: {}\n  }),\n\n  getters: {\n    baseItems (state) {\n      return (Object\n        .values(state.connections) as BaseItem[])\n        .concat(Object.values(state.items) as BaseItem[])\n        .sort(sortByZIndex)\n    },\n\n    zoom (state) {\n      return state.zoomLevel\n    },\n\n    hasSelection (state) {\n      return state.selectedItemIds.length > 0 || state.selectedConnectionIds.length > 0\n    },\n\n    hasSelectedItems (state) {\n      return state.selectedItemIds.length > 0\n    },\n\n    selectedGroupIds (state) {\n      const selectedGroupIds = new Set<string | null>()\n\n      state\n        .selectedItemIds\n        .forEach(id => selectedGroupIds.add(state.items[id]?.groupId))\n\n      return Array.from(selectedGroupIds)\n    },\n\n    canGroup () {\n      // return this.selectedGroupIds.length > 1 || this.selectedGroupIds[0] === null // TODO: fails TS check\n      return this.selectedGroupIds.length > 1\n    },\n\n    canUngroup () {\n      // return !!this.selectedGroupIds.find(id => !!id)\n      return true // TODO\n    },\n\n    canUndo (state) {\n      return state.undoStack.length > 0\n    },\n\n    canRedo (state) {\n      return state.redoStack.length > 0\n    }\n  },\n\n  actions: {\n\n    loadDocument (document: string) {\n      this.buildCircuit()\n      this.applyState(document)\n      this.reset()\n    },\n\n    /**\n     * Increments the current zoom by one scale step (in the positive or negative direction).\n     *\n     * @param [direction = 1] - directional scalar (1 or -1)\n     */\n    incrementZoom (direction = 1) {\n      this.setZoom({\n        zoom: this.zoomLevel + (SCALE_STEP * direction)\n      })\n    },\n\n    /**\n     * Sets the zoom level for the document.\n     * This will zoom on the focal point (if provided) or the center of the visible area (viewport).\n     *\n     * @param zoom - percentage of zoom by decimal (e.g., 1.0 = 100%)\n     * @param [point] - focal point to zoom on\n     */\n    setZoom ({ zoom, point }: { zoom: number, point?: Point }) {\n      if (zoom < MIN_SCALE) zoom = MIN_SCALE\n      if (zoom > MAX_SCALE) zoom = MAX_SCALE\n\n      zoom = Math.round(zoom * 100) / 100\n\n      if (!point) {\n        point = boundaries.getBoundingBoxMidpoint(this.viewport)\n        point.x += this.viewport.left\n        point.y += this.viewport.top\n      }\n\n      const zoomedPoint = fromDocumentToEditorCoordinates(this.canvas, this.viewport, point, this.zoomLevel)\n      const scaledPoint = { // the canvas coordinate, scaled by the new zoom factor\n        x: zoomedPoint.x * zoom,\n        y: zoomedPoint.y * zoom\n      }\n      const viewportPoint = { // the point w.r.t. the top left offset of the viewport\n        x: point.x - this.viewport.x,\n        y: point.y - this.viewport.y\n      }\n\n      this.panTo({\n        x: Math.round(Math.min(viewportPoint.x - scaledPoint.x, 0)),\n        y: Math.round(Math.min(viewportPoint.y - scaledPoint.y, 0))\n      })\n\n      this.zoomLevel = zoom\n    },\n\n    /**\n     * Assigns the rects of the canvas and viewport according to the screen size and rect provided.\n     *\n     * @param rect - the bounding box DOM rect of the viewport (user-visible canvas area element)\n     */\n    setViewerSize (rect: DOMRect) {\n      this.viewport = rect\n\n      this.canvas.right = screen.width / MIN_SCALE\n      this.canvas.bottom = screen.height / MIN_SCALE\n\n      if (!this.hasLoaded && rect.width > 0 && rect.height > 0) {\n        this.hasLoaded = true\n        this.centerAll()\n        this.panToCenter()\n        // this.setZoom({ zoom: 1.4 }) // TODO: set the user-defined default zoom like this\n      }\n    },\n\n    /**\n     * Pans to the given point.\n     */\n    panTo (pan: Point) {\n      const deltaX = pan.x - this.canvas.left\n      const deltaY = pan.y - this.canvas.top\n\n      this.canvas.left += deltaX\n      this.canvas.right += deltaX\n      this.canvas.top += deltaY\n      this.canvas.bottom += deltaY\n    },\n\n    /**\n     * Pans to the center of the available canvas, such that its center is visible in the center of the viewport.\n     */\n    panToCenter () {\n      const midpoint = boundaries.getBoundingBoxMidpoint(this.canvas)\n\n      this.panTo({\n        x: (this.viewport.width / 2) - midpoint.x,\n        y: (this.viewport.height / 2) - midpoint.y\n      })\n    },\n\n    /**\n     * Centers all items (together as a group) to the center of the canvas.\n     * All distances between items are maintained when this occurs.\n     */\n    centerAll () {\n      const boundingBoxes = Object\n        .values(this.items)\n        .map(({ boundingBox }) => boundingBox)\n      const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n      const { x, y } = boundaries.getCenteredScreenPoint(this.canvas, boundingBox, 20) // TODO: make 20 configurable as grid size\n\n      const deltaX = x - boundingBox.left\n      const deltaY = y - boundingBox.top\n\n      Object\n        .values(this.items)\n        .forEach(item => {\n          this.setItemPosition({\n            id: item.id,\n            position: {\n              x: item.position.x + deltaX,\n              y: item.position.y + deltaY\n            }\n          })\n        })\n    },\n\n    async saveIntegratedCircuit () {\n      // TODO: this action should live in the root state, not here\n      const originalIcItem = integratedCircuitFactory(this.$state as DocumentState)\n      const idMappedIcItem = idMapper.mapIntegratedCircuitIds(originalIcItem)\n\n      this.insertItemAtPosition({ item: idMappedIcItem, ports: [] })\n      this.setItemBoundingBox(idMappedIcItem.id)\n      this.setItemPortPositions(idMappedIcItem.id)\n      this.setSelectionState({ id: idMappedIcItem.id, value: true })\n\n    },\n\n    buildCircuit () {\n      if (this.simulation.oscillator) {\n        this.simulation.oscillator.stop()\n      }\n\n      const simulation = new SimulationService(Object.values(this.items), Object.values(this.connections), this.ports)\n\n      simulation.on('change', (valueMap: Record<string, number>, oscillogram: Oscillogram) => {\n        for (const portId in valueMap) {\n          if (this.ports[portId]) {\n            this.ports[portId].value = valueMap[portId]\n          }\n        }\n\n        this.isCircuitEvaluated = !this.simulation.canContinue\n        this.oscillogram = oscillogram\n      })\n\n      this.simulation = simulation\n    },\n\n    recycleSelection (backToFirstItem: boolean) {\n      const id = backToFirstItem\n        ? this.baseItems[0]\n        : this.baseItems.slice(-1)[0]\n\n      if (id) {\n        this.deselectAll()\n        this.setSelectionState({ id: id.id, value: true })\n      }\n    },\n\n    /**\n     * Reverts to the most-recently committed document this.\n     */\n    undo () {\n      const undoState = this.undoStack.slice(-1).pop()\n\n      if (undoState) {\n        this.redoStack.push(JSON.stringify({\n          connections: this.connections,\n          items: this.items,\n          ports: this.ports,\n          groups: this.groups\n        }))\n        this.applyState(undoState)\n        this.undoStack.pop()\n        this.isDirty = true\n      }\n    },\n\n    /**\n     * Reverts to the most-recently-reverted this.\n     */\n    redo () {\n      const redoState = this.redoStack.slice(-1).pop()\n\n      if (redoState) {\n        this.undoStack.push(JSON.stringify({\n          connections: this.connections,\n          items: this.items,\n          ports: this.ports,\n          groups: this.groups\n        }))\n        this.applyState(redoState)\n        this.redoStack.pop()\n        this.isDirty = true\n      }\n    },\n\n    commitState () {\n      this.cacheState()\n      this.commitCachedState()\n    },\n\n    /**\n     * Deletes all selected items and connections.\n     */\n    deleteSelection () {\n      if (!this.hasSelection) return\n\n      this.commitState()\n\n      const nonFreeportItems = Object\n        .values(this.items)\n        .filter(({ isSelected, type }) => isSelected && type !== ItemType.Freeport)\n      const nonFreeportItemIds = nonFreeportItems.map(({ id }) => id)\n\n      // select the full chains of each connection attached to each selected item\n      Object\n        .values(this.connections)\n        .filter(c => {\n          const sourcePort = this.ports[c.source]\n          const targetPort = this.ports[c.target]\n\n          if (sourcePort && targetPort) {\n            return nonFreeportItemIds.includes(sourcePort.elementId) ||\n              nonFreeportItemIds.includes(targetPort.elementId)\n          }\n        })\n        .forEach(({ id }) => this.setSelectionState({ id, value: true }))\n\n      // remove all selected connections\n      Object\n        .values(this.connections)\n        .filter(({ isSelected }) => isSelected)\n        .forEach(connection => {\n          this.disconnect({\n            source: connection.source,\n            target: connection.target\n          })\n        })\n\n      // delete all selected non-freeport items\n      nonFreeportItems.forEach(i => this.removeElement(i.id))\n\n      // handle selected freeport deletions using removeFreeport\n      Object\n        .values(this.items)\n        .filter(({ isSelected, type }) => isSelected && type === ItemType.Freeport)\n        .forEach(f => this.removeFreeport(f.id))\n    },\n\n    /**\n     * Sets the computed boundaries that an actively-dragged item to snap to.\n     *\n     * @param id - ID of the item or port being dragged\n     */\n    setSnapBoundaries (id: string) {\n      this.snapBoundaries = ((): BoundingBox[] => {\n        if (this.connectablePortIds.length) {\n          // if there are connectable port ids, then use those for boundaries\n          return this\n            .connectablePortIds\n            .filter(portId => portId !== id)\n            .map(portId => boundaries.getPointBoundary(this.ports[portId].position))\n        }\n\n        const item = this.items[id]\n\n        if (item && !item.groupId) {\n          // the item with the given id is an item that does not belong to a group\n          if (item.type === ItemType.Freeport) {\n            if (item.portIds.length > 1) {\n              // if only one port exists on the freeport, then it is a port being dragged by the user and does not apply\n              // freeports should snap to \"straighten out\" wires\n              return Object\n                .values(this.connections)\n                .reduce((boundingBoxes: BoundingBox[], connection: Connection) => {\n                  if (item.portIds.includes(connection.source)) {\n                    return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.target].position))\n                  }\n\n                  if (item.portIds.includes(connection.target)) {\n                    return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.source].position))\n                  }\n\n                  return boundingBoxes\n                }, [])\n            }\n          } else {\n            // this an item that can snap to align with the outer edge of any non-freeport item\n            return Object\n              .values(this.items)\n              .filter(e => e.id !== id && e.type !== ItemType.Freeport)\n              .map(e => e.boundingBox)\n          }\n        }\n        return []\n      })()\n    },\n\n    setItemSize ({ rect, id }: { rect: DOMRectReadOnly, id: string }) {\n      const item = this.items[id]\n\n      const width = rect.width / this.zoomLevel\n      const height = rect.height / this.zoomLevel\n\n      // reposition w.r.t. the centroid\n      const centerX = item.position.x + (item.width / 2)\n      const centerY = item.position.y + (item.height / 2)\n      const newX = centerX - width / 2\n      const newY = centerY - height / 2\n\n      this.items[id].position = {\n        x: newX,\n        y: newY\n      }\n      this.items[id].width = width\n      this.items[id].height = height\n\n      this.setItemBoundingBox(id)\n      this.setItemPortPositions(id)\n\n      if (this.items[id].groupId) {\n        this.setGroupBoundingBox(this.items[id].groupId || '')\n      }\n    },\n\n    /**\n     * Sets the absolute positions for all ports that belong to the given item.\n     *\n     * @param id - ID of the item containing the ports\n     */\n    setItemPortPositions (id: string) {\n      const item = this.items[id]\n\n      if (!item) return\n\n      const portGroups = item\n        .portIds\n        .reduce((portGroups: Map<Direction, Port[]>, portId) => {\n          const port = this.ports[portId]\n\n          if (port) {\n            const index: Direction = rotation.rotate(port.orientation + item.rotation)\n\n            portGroups.get(index)?.push(port)\n          }\n\n          return portGroups\n        }, new Map<Direction, Port[]>([\n          [Direction.Left, []],\n          [Direction.Top, []],\n          [Direction.Right, []],\n          [Direction.Bottom, []]\n        ]))\n\n      const setPortGroupPositions = (ports: Port[] = []) => {\n        ports.forEach((port, index) => {\n          this.ports[port.id].position = rotation.getRotatedPortPosition(port, ports, item, index)\n        })\n      }\n\n      setPortGroupPositions(portGroups.get(Direction.Left))\n      setPortGroupPositions(portGroups.get(Direction.Top))\n      setPortGroupPositions(portGroups.get(Direction.Right))\n      setPortGroupPositions(portGroups.get(Direction.Bottom))\n    },\n\n    /**\n     * Sets the position of an item.\n     *\n     * @param payload\n     * @param payload.id - ID of the item\n     * @param payload.position - new position to move to\n     */\n    setItemPosition ({ id, position }: { id: string, position: Point }) {\n      const item = this.items[id]\n      const delta: Point = {\n        x: position.x - item.position.x,\n        y: position.y - item.position.y\n      }\n\n      this.items[id].position = position\n      this.setItemBoundingBox(id)\n\n      item\n        .portIds\n        .forEach(portId => {\n          const port = this.ports[portId]\n\n          this.ports[portId].position = {\n            x: port.position.x + delta.x,\n            y: port.position.y + delta.y\n          }\n        })\n    },\n\n    dragItem (id: string, position: Point, snapMode?: SnapMode) {\n      const { x, y } = fromDocumentToEditorCoordinates(this.canvas, this.viewport, position, this.zoom)\n      const { width, height, rotation } = this.items[id]\n      const boundingBox = boundaries.getBoundingBox({ x, y }, rotation, width, height)\n      const offset = boundaries.getSnapOffset(this.snapBoundaries, boundingBox, snapMode || SnapMode.Outer, 15) // TODO: configurable snap position and tolerance\n\n      this.setSelectionPosition({\n        id,\n        position: {\n          x: x + offset.x,\n          y: y + offset.y\n        }\n      })\n    },\n\n    /**\n     * Moves all selected items according to the delta provided.\n     *\n     * @param delta - delta to move the items by\n     */\n    moveSelectionPosition (delta: Point) {\n      const id: string | undefined = this.selectedItemIds[0]\n\n      if (id) {\n        const item = this.items[id]\n        const position: Point = {\n          x: item.position.x + delta.x,\n          y: item.position.y + delta.y\n        }\n\n        this.commitState()\n        this.setSelectionPosition({ id, position })\n      }\n    },\n\n    /**\n     * Moves all selected items according to the delta that the given item has moved by.\n     *\n     * @param payload\n     * @param payload.id - ID of the reference item moving\n     * @param payload.position - new position that the reference item has moved to\n     */\n    setSelectionPosition ({ id, position }: { id: string, position: Point }) {\n      const referenceItem = this.items[id]\n      const delta: Point = {\n        x: position.x - referenceItem.position.x,\n        y: position.y - referenceItem.position.y\n      }\n      const groupIds = new Set<string>()\n\n      this.setSelectionState({ id, value: true })\n\n      if (referenceItem.type === ItemType.Freeport) {\n        // if this item is a freeport, drag only this and nothing else\n        return this.setItemPosition({ id, position })\n      }\n\n      this\n        .selectedItemIds\n        .forEach((itemId: string) => {\n          const item = this.items[itemId]\n          const position: Point = {\n            x: item.position.x + delta.x,\n            y: item.position.y + delta.y\n          }\n\n          if (item.groupId) {\n            groupIds.add(item.groupId)\n          }\n\n          this.setItemPosition({ id: itemId, position })\n        })\n\n      groupIds.forEach(this.setGroupBoundingBox)\n    },\n\n    /**\n     * Sets the bounding box of an item.\n     *\n     * @param id - ID of the item\n     */\n    setItemBoundingBox (id: string) {\n      if (!this.items[id]) return\n\n      const {\n        position,\n        rotation,\n        width,\n        height\n      } = this.items[id]\n\n      this.items[id].boundingBox = boundaries.getBoundingBox(position, rotation, width, height)\n    },\n\n    /**\n     * Sets the bounding box of a group.\n     *\n     * @param id - ID of the group\n     */\n    setGroupBoundingBox (id: string) {\n      if (!this.groups[id]) return\n\n      const boundingBoxes = this\n        .groups[id]\n        .itemIds\n        .map(id => this.items[id].boundingBox)\n\n      this.groups[id].boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n    },\n\n    /**\n     * Groups together all selected items and connections.\n     * If any of those selected elements are a member of a group, that group will be destroyed.\n     */\n    group () {\n      this.commitState()\n\n      const id = uuid()\n      const items = Object\n        .values(this.items)\n        .filter(({ isSelected }) => isSelected)\n\n      const portIds = items.reduce((portIds, item) => {\n        return portIds.concat(item.portIds)\n      }, [] as string[])\n\n      const connections = Object\n        .values(this.connections)\n        .filter(c => {\n          // ensure both source and target ports are associated with items in the group\n          return portIds.includes(c.source) && portIds.includes(c.target) && c.isSelected\n        })\n\n      // if any of the items or connections are part of another group, ungroup those\n      items.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n      connections.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n\n      // update the zIndex of all items to be the highest one among the selected\n      const zIndex = [...items, ...connections].reduce((zIndex: number, item: BaseItem) => {\n        return Math.max(item.zIndex, zIndex)\n      }, 0)\n\n      this.setZIndex(zIndex)\n\n      const group = {\n        id,\n        itemIds: items.map(({ id }) => id),\n        connectionIds: connections.map(({ id }) => id),\n        isSelected: true,\n        boundingBox: {\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        },\n        position: {\n          x: 0, y: 0\n        },\n        zIndex\n      }\n\n      this.groups[id] = group\n\n      // set the groupId of all items in the group\n      group.itemIds.forEach(id => {\n        this.items[id].groupId = group.id\n      })\n\n      // set the groupId of all connections in the group\n      group.connectionIds.forEach(id => {\n        this.connections[id].groupId = group.id\n      })\n\n      this.setGroupBoundingBox(id)\n    },\n\n    /**\n     * Destroys all selected groups.\n     */\n    ungroup () {\n      this.commitState()\n\n      for (const id in this.groups) {\n        if (this.groups[id].isSelected) {\n          this.destroyGroup(id)\n        }\n      }\n    },\n\n    /**\n     * Deselects all elements.\n     */\n    deselectAll () {\n      this.clearStatelessInfo()\n\n      for (let id in this.connections) {\n        this.connections[id].isSelected = false\n        this.selectedConnectionIds = []\n      }\n\n      for (let id in this.items) {\n        this.items[id].isSelected = false\n        this.selectedItemIds.push(id)\n        this.selectedItemIds = []\n      }\n    },\n\n    /**\n     * Selects all items and connections.\n     */\n    selectAll () {\n      this.clearStatelessInfo()\n\n      for (let id in this.connections) {\n        this.connections[id].isSelected = true\n        this.selectedConnectionIds.push(id)\n      }\n\n      for (let id in this.items) {\n        this.items[id].isSelected = true\n        this.selectedItemIds.push(id)\n      }\n    },\n\n    clearStatelessInfo () {\n      this.unsetConnectionPreview()\n      this.connectablePortIds = []\n      this.selectedConnectionIds = []\n      this.selectedItemIds = []\n      this.selectedPortIndex = -1\n      this.cachedState = null\n      this.activePortId = null\n      this.connectionPreviewId = null\n    },\n\n    /**\n     * Selects all connections and items (and its connections) that live within the given boundary.\n     *\n     * @param selection - two-dimensional boundary\n     */\n    createSelection (selection: BoundingBox) {\n      if (!boundaries.isOneOrTwoDimensional(selection)) return // omit selection lines or points\n\n      try {\n        const itemIds = Object\n          .keys(this.items)\n          .filter(id => boundaries.hasIntersection(selection, this.items[id].boundingBox))\n        const connectionIds = Object\n          .keys(this.connections)\n          .filter(id => {\n            const connection = this.connections[id]\n            const source = this.ports[connection.source]\n            const target = this.ports[connection.target]\n\n            return boundaries.isLineIntersectingRectangle(source.position, target.position, selection)\n          })\n\n        itemIds\n          .concat(connectionIds)\n          .forEach(id => {\n            this.SET_SELECTION_STATE({ id, isSelected: true })\n          })\n\n        this.selectItemConnections(itemIds)\n      } catch (error) {\n        console.log('SELECTION ERROR: ', error, selection)\n        // TODO: this really shouldn't ever throw an error, investigate why it does...\n        // do nothing, ignore the error\n      }\n    },\n\n    /**\n     * Selects all connections that are connected to any of the items in the given list.\n     *\n     * @param itemIds - list of items to select their connections for\n     */\n    selectItemConnections (itemIds: string[]) {\n      const portIds = itemIds.reduce((portIds: string[], itemId: string) => {\n        return portIds.concat(this.items[itemId].portIds)\n      }, [])\n\n      for (let id in this.connections) {\n        const c = this.connections[id]\n\n        if (portIds.includes(c.source) && portIds.includes(c.target)) {\n          this.SET_SELECTION_STATE({ id, isSelected: true })\n        }\n      }\n    },\n\n    /**\n     * Inverts the selection this of the element having the given ID, or forces it to the value provided.\n     * If the element is a member of a group, every item in that group will be selected.\n     *\n     * @param payload.id - the ID of the element to toggle its selection\n     * @param payload.value - new selection this value to set to\n     */\n    setSelectionState ({ id, value }: { id: string, value: boolean }) {\n      const element = this.items[id] || this.connections[id]\n      const isSelected = value\n\n      if (!element || element.isSelected === isSelected) return\n\n      if (element.groupId) {\n        // if item is part of a group, select all items in that group\n        const { itemIds, connectionIds } = this.groups[element.groupId]\n\n        itemIds\n          .concat(connectionIds)\n          .forEach(id => {\n            this.SET_SELECTION_STATE({ id, isSelected })\n          })\n\n        this.SET_SELECTION_STATE({ id: element.groupId, isSelected })\n      } else {\n        // otherwise, just select this one item\n        this.SET_SELECTION_STATE({ id, isSelected })\n      }\n    },\n\n    deselectItem (id: string) {\n      this.setSelectionState({ id, value: true })\n    },\n\n    selectItem (id: string, keepSelection: boolean = false) {\n      if (!keepSelection) {\n        this.deselectAll()\n      }\n\n      this.setSelectionState({ id, value: true })\n    },\n\n    /**\n     * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n     * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n     *\n     * @param portId - the ID of the port previewing connections for\n     */\n    setConnectionPreview (portId: string | null) {\n      if (this.activePortId && portId) {\n        let source = this.activePortId\n        let target = portId\n\n        if (this.ports[this.activePortId].type === PortType.Input) {\n          source = portId\n          target = this.activePortId\n        }\n\n        const id = uuid()\n\n        this.unsetConnectionPreview()\n        this.connect({ source, target, id })\n        this.connectionPreviewId = id\n      }\n    },\n\n    /**\n     * Clears the active connection preview.\n     */\n    unsetConnectionPreview () {\n      if (this.connectionPreviewId) {\n        this.disconnect(this.connections[this.connectionPreviewId])\n      }\n      this.connectionPreviewId = null\n    },\n\n    /**\n     * Commits the previewed connection action as an undo-able state.\n     */\n    commitPreviewedConnection () {\n      if (this.connectionPreviewId) {\n        const { source, target } = this.connections[this.connectionPreviewId]\n\n        this.disconnect({ source, target })\n        this.commitState()\n        this.connect({ source, target })\n        this.connectionPreviewId = null\n      }\n    },\n\n    /**\n     * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n     * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n     *\n     * @param portId - the ID of the port previewing connections for\n     */\n    cycleConnectionPreviews (portId: string) {\n      if (portId && portId !== this.activePortId) {\n        this.setActivePortId(portId)\n      }\n\n      let index = this.selectedPortIndex + 1\n\n      if (index <= 0) index = 0\n      if (index >= this.connectablePortIds.length) index = -1\n\n      const previewPortId = this.connectablePortIds[index]\n\n      if (previewPortId && !this.ports[portId]?.connectedPortIds.includes(previewPortId)) {\n        this.setConnectionPreview(previewPortId)\n      } else {\n        if (this.connectablePortIds.length === 0) {\n          window.api.beep() // audibly inform the user they can't connect to anything\n        }\n        this.unsetConnectionPreview()\n      }\n      this.selectedPortIndex = index\n    },\n\n    /**\n     * Sets the ID of the active (i.e., 'previewed'/'enlarged') port.\n     *\n     * @param portId - ID of the port to activate, or null to remove it\n     */\n    setActivePortId (portId: string | null) {\n      if (this.activePortId !== portId) {\n        if (portId) {\n          this.setConnectablePortIds({ portId })\n        } else {\n          this.connectablePortIds = []\n        }\n\n        this.activePortId = portId\n        this.selectedPortIndex = -1\n      }\n    },\n\n    /**\n     * Rotates all selected elements by 90 degrees.\n     *\n     * @param direction - direction of rotation (1 = CW, -1 = CCW)\n     */\n    rotate (direction: number) {\n      this.commitState()\n\n      const selectedItems = Object\n        .values(this.items)\n        .filter(({ isSelected }) => isSelected)\n      const boundingBoxes = selectedItems.map(({ boundingBox }) => boundingBox)\n      const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n      const groupIds = new Set<string>()\n\n      selectedItems.forEach(item => {\n        const newRotation = rotation.rotate(item.rotation + direction)\n\n        if (item.groupId) {\n          groupIds.add(item.groupId)\n        }\n\n        this.items[item.id].rotation = newRotation\n        this\n          .items[item.id]\n          .portIds\n          .forEach(portId => {\n            this.ports[portId].rotation = newRotation\n          })\n\n        this.setItemPosition({\n          id: item.id,\n          position: rotation.getGroupedItemRotatedPosition(boundingBox, item, direction)\n        })\n        this.setItemPortPositions(item.id)\n      })\n\n      groupIds.forEach(groupId => {\n        this.setGroupBoundingBox(groupId)\n      })\n    },\n\n    /**\n     * Sets the value of the port in the circuit.\n     *\n     * @param payload.id - ID of the port\n     * @param payload.value - new port value\n     */\n    setPortValue ({ id, value }: { id: string, value: number }) {\n      this\n        .simulation\n        .setPortValue(id, value)\n    },\n\n    /**\n     * Removes a Freeport from the document.\n     * This can remove either a dragged freeport or a connector between two wire segments.\n     *\n     * @param id - ID of the freeport item\n     */\n    removeFreeport (id: string) {\n      const item = this.items[id]\n\n      let originalSourceId = ''\n      let originalTargetId = ''\n\n      // find the true source and target port ids\n      Object\n        .values(this.connections)\n        .forEach(c => {\n          if (c.target === item.portIds[0]) originalSourceId = c.source\n          if (c.source === item.portIds[1]) originalTargetId = c.target\n        })\n\n      if (originalSourceId) this.disconnect({ source: originalSourceId, target: item.portIds[0] })\n      if (originalTargetId) this.disconnect({ source: item.portIds[1], target: originalTargetId })\n      if (originalSourceId && originalTargetId) {\n        // reconnect the true source and target\n        this.connect({ source: originalSourceId, target: originalTargetId })\n      }\n\n      // finally, remove the element\n      this.removeElement(id)\n    },\n\n    /**\n     * Creates a new freeport item with the given set of IDs in the payload.\n     * This can either be a dragged port (to connect a port) or a joint between two connection segments.\n     *\n     * For a joint, include all required params, including the IDs of the destination ports and the freeport ports.\n     * For a dragged port, include the source IDs (if dragged from an output) or the target IDs (if dragged from an input).\n     *\n     * @param data - IDs for apply the new freeport\n     */\n    createFreeport (data: Freeport, establishCircuitConnection: boolean = true) {\n      if (this.items[data.itemId]) return\n\n      if (data.sourceId && data.targetId) {\n        this.commitState()\n      }\n\n      this.deselectAll()\n      this.addFreeportItem(data)\n      this.setItemBoundingBox(data.itemId)\n      this.activeFreeportId = data.itemId\n\n      if (data.sourceId && data.targetId) {\n        // don't destroy the connection yet, as its component may still be in action (i.e., handling dragging)\n        // it will be the responsibility of the connection component to destroy itself\n        this\n          .simulation\n          .removeConnection(data.sourceId, data.targetId)\n      }\n\n      if (data.sourceId) {\n        this.connect({\n          source: data.sourceId,\n          target: data.inputPortId,\n          connectionChainId: data.connectionChainId\n        }, establishCircuitConnection)\n      }\n\n      if (data.targetId) {\n        this.connect({\n          source: data.outputPortId,\n          target: data.targetId,\n          connectionChainId: data.connectionChainId\n        }, establishCircuitConnection)\n      }\n\n      if (data.sourceId && data.targetId) {\n        // bring forward the freeport item so that it is between the two new connections\n        this.deselectAll()\n        this.setSelectionState({\n          id: data.itemId,\n          value: true\n        })\n        this.incrementZIndex(1)\n      }\n    },\n\n    /**\n     * Establishes a connection after a user drags a port to connect it to an item.\n     * This will disconnect the temporary wire and port being dragged, and establish a new connection between the two items.\n     *\n     * @param payload\n     * @param payload.sourceId - the ID of the source port (if being dragged from one)\n     * @param payload.targetId - the ID of the target port (if being dragged from one)\n     * @param payload.portId - the ID of the temporary freeport being dragged\n     */\n    connectFreeport ({ sourceId, targetId, portId }: { sourceId?: string, targetId?: string, portId: string }) {\n      const port = this.ports[portId]\n      const newPort = Object\n        .values(this.ports)\n        .find((p: Port) => {\n          // TODO: make '10' a user-configurable number\n          return p.id !== portId && this.connectablePortIds.includes(p.id) && boundaries.isInNeighborhood(p.position, port.position, 10)\n        })\n\n      if (newPort) {\n        if (sourceId) {\n          this.disconnect({\n            source: sourceId,\n            target: portId\n          })\n          this.connect({\n            source: sourceId,\n            target: newPort.id\n          })\n        } else if (targetId) {\n          this.disconnect({\n            source: portId,\n            target: targetId\n          })\n          this.connect({\n            source: newPort.id,\n            target: targetId\n          })\n        }\n      } else {\n        // no port can be connected, so disconnect the temporary dragged wire\n        this.disconnect({\n          source: sourceId || portId,\n          target: targetId || portId\n        })\n      }\n\n      const item = Object\n        .values(this.items)\n        .find(({ portIds }) => portIds.includes(portId))\n\n      if (item) {\n        this.removeElement(item.id)\n      }\n\n      this.clearStatelessInfo()\n    },\n\n    /**\n     * Sets the list of connectable port IDs.\n     * This should be invoked whenever a user starts dragging a port.\n     *\n     * @param portId - the ID of the port being dragged\n     */\n    setConnectablePortIds ({ portId, isDragging }: { portId: string, isDragging?: boolean }) {\n      const port = this.ports[portId]\n\n      if (port.isFreeport) return // freeports cannot connect to anything\n\n      // generate a list of all port IDs that have at least one connection to/from it\n      const connectedPortIds = Object\n        .values(this.connections)\n        .reduce((portIds: string[], connection: Connection) => {\n          return portIds.concat([connection.source, connection.target])\n        }, [])\n\n      if (isDragging) {\n        // if this port is being dragged, then the user intends to establish a new connection with it\n        // remove the last two ports (the two ports on opposite ends of the \"preview\" connection)\n        connectedPortIds.splice(-2)\n      }\n\n      const filter = port.type === PortType.Output\n        ? (p: Port) => p.type === PortType.Input && !p.isFreeport && !connectedPortIds.includes(p.id) && p.elementId !== port.elementId\n        : (p: Port) => p.type === PortType.Output && !p.isFreeport && !connectedPortIds.includes(port.id) && p.elementId !== port.elementId\n\n      this.connectablePortIds = Object\n        .values(this.ports)\n        .filter(filter)\n        .map(({ id }) => id)\n    },\n\n    stop () {\n      this.simulation.pause()\n    },\n\n    start () {\n      if (!this.isDebugging) {\n        this.simulation.unpause()\n      }\n    },\n\n    reset () {\n      this.buildCircuit()\n      this.simulation.isPaused = this.isDebugging\n      this.oscillogram = {}\n      this.simulation.oscillogram = {}\n\n      Object\n        .values(this.items)\n        .forEach(item => {\n          item.portIds.forEach(id => {\n            this.ports[id].value = LogicValue.UNKNOWN\n\n            if (item.properties?.startValue && this.ports[id].type === PortType.Output) {\n              this.setPortValue({\n                id,\n                value: item.properties?.startValue.value as number\n              })\n            }\n          })\n        })\n\n      this.simulation.unpause()\n    },\n\n    toggleDebugger () {\n      if (this.isDebugging) {\n        this.simulation.stopDebugging()\n      } else {\n        this.simulation.startDebugging()\n      }\n\n      this.isDebugging = !this.isDebugging\n    },\n\n    stepThroughCircuit () {\n      this.simulation.advance()\n      this.isCircuitEvaluated = !this.simulation.canContinue\n    },\n\n    toggleOscilloscope () {\n      if (this.isOscilloscopeOpen) {\n        this.closeOscilloscope()\n      } else {\n        this.openOscilloscope()\n      }\n    },\n\n    openOscilloscope () {\n      Object\n        .values(this.ports)\n        .forEach(port => {\n          if (port.isMonitored) {\n            this.simulation.monitorPort(port.id, port.value, port.hue)\n          }\n        })\n\n      this.isOscilloscopeOpen = true\n    },\n\n    closeOscilloscope (lastHeight?: number) {\n      if (!this.isOscilloscopeOpen) return\n\n      Object\n        .keys(this.ports)\n        .forEach(this.simulation.unmonitorPort)\n\n      this.simulation.oscillator.clear()\n      this.isOscilloscopeOpen = false\n\n      if (lastHeight) {\n        this.oscilloscopeHeight = lastHeight\n      }\n    },\n\n    clearOscilloscope () {\n      this.simulation.oscillator.clear()\n    },\n\n    togglePortMonitoring (portId: string) {\n      if (this.ports[portId].isMonitored) {\n        this.unmonitorPort(portId)\n      } else {\n        this.monitorPort(portId)\n      }\n    },\n\n    monitorPort (portId: string) {\n      const port = this.ports[portId]\n\n      port.hue = port.hue ||  ~~(360 * Math.random())\n      port.isMonitored = true\n\n      this\n        .simulation\n        .monitorPort(portId, port.value, port.hue)\n\n      this.isOscilloscopeOpen = true\n    },\n\n    unmonitorPort (portId: string) {\n      const port = this.ports[portId]\n\n      port.isMonitored = false\n\n      this\n        .simulation\n        .unmonitorPort(portId)\n\n      this.isOscilloscopeOpen = Object.keys(this.oscillogram).length > 0\n    },\n\n    /**\n     * Sets the number of input ports that a LogicGate should have.\n     * If the number is less than the current number of ports, take away the difference number of existing ports.\n     *\n     * @param payload\n     * @param payload.id - LogicGate ID\n     * @param payload.count - new number of input ports\n     */\n    setInputCount ({ id, count }: { id: string, count: number }) {\n      const item = this.items[id]\n      const oldCount = item.properties.inputCount.value as number\n\n      if (oldCount > count) {\n        // if the count has decreased, find the last remaining port IDs which will be removed\n        this.items[id].portIds\n          .filter(portId => this.ports[portId].type === PortType.Input)\n          .slice(count)\n          .forEach(portId => this.removePort(portId))\n      } else {\n        for (let i = oldCount; i < count; i++) {\n          const portId = uuid()\n\n          // add the difference of ports one by one\n          this.addPort(id, {\n            id: portId,\n            name: '', // TODO\n            connectedPortIds: [],\n            type: PortType.Input,\n            elementId: id,\n            virtualElementId: id,\n            orientation: Direction.Left,\n            isFreeport: false,\n            isMonitored: false,\n            hue: 0,\n            position: {\n              x: 0,\n              y: 0\n            },\n            rotation: 0,\n            value: 0\n          })\n        }\n      }\n    },\n\n    /**\n     * Updates the properties values. If no properties have changed, then no changes will take effect.\n     * This will perform any actions necessary to occur when a property value changes.\n     *\n     * @param payload\n     * @param payload.id - item ID\n     * @param payload.properties - new version of the properties\n     */\n    setProperties ({ id, properties }: { id: string, properties: PropertySet }) {\n      const item = this.items[id]\n\n      for (const propertyName in properties) {\n        const property = properties[propertyName]\n\n        if (item.properties[propertyName].value === property.value) {\n          continue // do nothing if the property value has not changed\n        }\n\n        switch (propertyName) {\n          case 'inputCount':\n            this.setInputCount({ id, count: property.value as number })\n            break\n        }\n\n        this.items[id].properties[propertyName].value = property.value\n      }\n    },\n\n    /**\n     * Assigns values to the ports in the this according to the given map.\n     *\n     * @param valueMap - Port-ID-to-value mapping\n     */\n    setPortValues (valueMap: Record<string, number>) {\n      for (const portId in valueMap) {\n        if (this.ports[portId]) {\n          this.ports[portId].value = valueMap[portId]\n        }\n      }\n    },\n\n    /**\n     * Stringifies and caches the current document this.\n     * This will save all connections, items, ports, and groups.\n     *\n     */\n    cacheState (this) {\n      this.cachedState = JSON.stringify({\n        connections: this.connections,\n        items: this.items,\n        ports: this.ports,\n        groups: this.groups\n      })\n    },\n\n    /**\n     * Commits the actively-cached this to the undo stack.\n     * This will clear the redo stack.\n     *\n     */\n    commitCachedState () {\n      if (this.cachedState) {\n        this.undoStack.push(this.cachedState.toString())\n        this.cachedState = null\n        this.redoStack = []\n        this.isDirty = true\n      }\n    },\n\n    /**\n     * Applies the given serialized this to the active document.\n     *\n     * This this must contain exactly these maps: `items`, `connections`, `ports`, `groups`.\n     * Any other properties will not be applied.\n     *\n     * @param savedState - JSON-serialized this string\n     */\n    applyState (savedState: string) {\n      const parsedState = JSON.parse(savedState) as DocumentState\n      const { items, connections, ports, groups } = parsedState\n\n      /* returns everything in a that is not in b */\n      function getExcludedMembers (a: Record<string, BaseItem>, b: Record<string, BaseItem>) {\n        const aIds = Object.keys(a)\n        const bIds = Object.keys(b)\n\n        return aIds.filter(id => !bIds.includes(id))\n      }\n\n      // find all items and connections in current this that are not in the applied this and remove them from the circuit\n      const removedItems = getExcludedMembers(this.items, items)\n      const removedConnections = getExcludedMembers(this.connections, connections)\n\n      // add any new items from the the applied this to the circuit\n      const addedItems = getExcludedMembers(items, this.items)\n      const addedConnections = getExcludedMembers(connections, this.connections)\n\n      removedConnections.forEach(id => this.disconnect(this.connections[id]))\n      removedItems.forEach(id => this.removeElement(id))\n\n      this.ports = ports\n      this.items = items\n      this.groups = groups\n\n      addedItems.forEach(id => {\n        this.addItem({\n          item: items[id],\n          ports\n        })\n      })\n\n      addedConnections.forEach(id => this.connect(connections[id]))\n\n      this.simulation.step()\n    },\n\n    addPort (itemId: string, port: Port) {\n      const node = Object\n        .values(this.simulation.nodes)\n        .find(({ name }) => this.items[itemId].portIds.includes(name))\n\n      this.ports[port.id] = port\n      this.items[itemId].portIds.push(port.id)\n\n      if (node) {\n        this.simulation.addPort(port.id, node as CircuitNode)\n      } else {\n        this.simulation.addNode(this.items[itemId], this.ports)\n      }\n    },\n\n    /**\n     * Removes a port from the state.\n     * This will destroy the entire connection chain that it is a part of (if any).\n     *\n     * @param portId - ID of the port to destroy\n     */\n    removePort (portId: string) {\n      // remove all connections associated with this port\n      Object\n        .values(this.connections)\n        .filter(({ source, target }) => source === portId || target === portId)\n        .forEach(c => {\n          // find all segments and freeports of this connection and remove them\n          const {\n            connectionIds,\n            freeportIds\n          } = getConnectionChain(Object.values(this.connections), this.ports, c.connectionChainId)\n\n          connectionIds.forEach(id => {\n            // delete all connections associated with the chain\n            const { source, target } = this.connections[id]\n\n            this\n              .simulation\n              .removeConnection(source, target)\n\n            delete this.connections[id]\n          })\n\n          freeportIds.forEach(id => {\n            // delete all freeports associated with the chain\n            this.items[id].portIds.forEach(portId => {\n              delete this.ports[portId]\n              this.simulation.removePort(portId)\n            })\n\n            delete this.items[id]\n          })\n        })\n\n      const port = this.ports[portId]\n\n      if (port) {\n        const item = this.items[port.elementId]\n\n        if (!item) return\n\n        // remove the reference to the port from the element\n        const portIndex = item.portIds.findIndex(i => i === portId)\n\n        if (portIndex !== -1) {\n          this.items[item.id].portIds.splice(portIndex, 1)\n        }\n\n        delete this.ports[portId]\n        this.simulation.removePort(portId)\n      }\n    },\n\n    /**\n     * Adds any non-IC component to the this.\n     *\n     * @param payload\n     * @param payload.item - new item to add\n     * @param payload.ports - mapping of IDs-to-ports, containing a subset of ports belonging to the new item\n     */\n    addItem ({ item, ports }: { item: Item, ports: Record<string, Port> }) {\n      // add all ports associated to this item\n      // if the item is an integrated circuit, only add the ports that it defines (ones visible to the user)\n      const portList = item.integratedCircuit?.ports || ports\n\n      item\n        .portIds\n        .forEach(portId => {\n          const port = portList[portId]\n\n          if (port) {\n            this.ports[port.id] = port\n\n            if (port.isMonitored) {\n              this.monitorPort(port.id)\n            }\n          }\n        })\n\n      const taxonomy = `${item.type}_${item.subtype}`\n\n      if (!this.taxonomyCounts[taxonomy]) {\n        this.taxonomyCounts[taxonomy] = 0\n      }\n\n      item.name = generateItemName(item, ++this.taxonomyCounts[taxonomy])\n\n      // add the item to the document and create its corresponding circuit node\n      this.items[item.id] = item\n      this.items[item.id].zIndex = ++this.zIndex\n\n      this\n        .simulation\n        .addNode(item, this.ports)\n\n      this.resetItemValue(item)\n    },\n\n    insertItemAtPosition ({ item, ports }: { item: Item, ports: Port[] }, documentPosition: Point | null = null) {\n      if (!documentPosition) {\n        documentPosition = boundaries.getBoundingBoxMidpoint(this.viewport)\n      }\n\n      const position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, documentPosition, this.zoomLevel)\n\n      position.x -= item.width / 2\n      position.y -= item.height / 2\n\n      item.position = position\n\n      this.commitState()\n      this.addItem({\n        item,\n        ports: ports.reduce((map: Record<string, Port>, port) => ({ ...map, [port.id]: port }), {})\n      })\n      this.setItemBoundingBox(item.id)\n      this.setItemPortPositions(item.id)\n      this.setSelectionState({ id: item.id, value: true })\n    },\n\n    resetItemValue (item: Item) {\n      const property = item.properties?.startValue\n\n      if (!property) return\n\n      const value = property.value as number\n\n      item.portIds.forEach(id => this.setPortValue({ id, value }))\n    },\n\n    /**\n     * Removes an element and all its associated ports and circuit nodes from the state.\n     *\n     * @param id - ID of the item to remove\n     */\n    removeElement (id: string) {\n      const item = this.items[id]\n\n      this\n        .simulation\n        .removeNode(item)\n\n      // remove all ports associated with the item\n      item.portIds.forEach(portId => this.removePort(portId))\n\n      // remove the item\n      delete this.items[id]\n    },\n\n    /**\n     * Sets the selection this of the given element to the value provided.\n     * If the item is a connection segment, then its entire connection chain will take on the same value.\n     *\n     * @param payload\n     * @param payload.id - ID of the item, group, or connection to select\n     * @param payload.isSelected - selection this to change to\n     */\n    SET_SELECTION_STATE ({ id, isSelected }: { id: string, isSelected: boolean }) {\n      /**\n       * Updates the selection list (selectedConnectionIds or selectedItemIds) according to the selection value.\n       *\n       * @private\n       */\n      const updateSelectionList = (id: string, key: 'selectedConnectionIds' | 'selectedItemIds') => {\n        const index = this[key].findIndex((i: string) => i === id)\n\n        if (isSelected && index === -1) {\n          this[key].push(id)\n        }\n\n        if (!isSelected && index !== -1) {\n          this[key].splice(index, 1)\n        }\n      }\n\n      if (this.items[id]) {\n        // select an individual item\n        this.items[id].isSelected = isSelected\n        updateSelectionList(id, 'selectedItemIds')\n      } else if (this.connections[id]) {\n        // select a connection (chain)\n        const { connectionChainId } = this.connections[id]\n        const {\n          connectionIds,\n          freeportIds\n        } = getConnectionChain(Object.values(this.connections), this.ports, connectionChainId)\n\n        // select all connection segments that are part of this connection chain\n        connectionIds.forEach(id => {\n          this.connections[id].isSelected = isSelected\n          updateSelectionList(id, 'selectedConnectionIds')\n        })\n\n        // select all freeports that are part of this connection chain\n        freeportIds.forEach(id => {\n          this.items[id].isSelected = isSelected\n          updateSelectionList(id, 'selectedItemIds')\n        })\n      }\n    },\n\n    sendBackward () {\n      this.commitState()\n      this.incrementZIndex(-1)\n    },\n\n    bringForward () {\n      this.commitState()\n      this.incrementZIndex(1)\n    },\n\n    sendToBack () {\n      this.commitState()\n      this.setZIndex(1)\n    },\n\n    bringToFront () {\n      this.commitState()\n      this.setZIndex(this.zIndex)\n    },\n\n    /**\n     * Increments the zIndex of all items selected.\n     * If an item's movement collides with another item's movement, or it becomes out of bounds, its zIndex will not change.\n     *\n     * @param direction - 1 to increment, -1 to decrement\n     */\n    incrementZIndex (direction: number) {\n      const items: BaseItem[] = Object.values(this.items)\n      const connections: BaseItem[] = Object.values(this.connections)\n      const baseItems = items\n        .concat(connections)\n        .sort(sortByZIndex)\n      const selectedItemIds = baseItems\n        .filter(({ isSelected }) => isSelected)\n        .map(({ id }) => id)\n\n      if (direction > 0) {\n        // if the direction is forward, then reverse the selected IDs\n        // this is because the next item that an item may want to swap with may also be swapping (and therefore frozen)\n        // reversing the order that we look at the items will prevent that from happening\n        selectedItemIds.reverse()\n      }\n\n      const frozenIds: string[] = []\n\n      selectedItemIds.forEach(id => {\n        const currentIndex = baseItems.findIndex(i => i.id === id)\n        const nextIndex = currentIndex + direction\n\n        if (nextIndex < 0 || nextIndex >= baseItems.length) {\n          // if the next zIndex pushes it out of bounds, freeze it\n          frozenIds.push(baseItems[currentIndex].id)\n          return\n        }\n\n        if (!frozenIds.includes(baseItems[nextIndex]?.id)) {\n          const item = baseItems[currentIndex]\n          // if the item to swap with is not frozen, then swap places with it\n          baseItems.splice(currentIndex, 1)\n          baseItems.splice(nextIndex, 0, item)\n        }\n      })\n\n      baseItems.forEach((item, index) => {\n        item.zIndex = index + 1\n      })\n\n      this.zIndex = Object.keys(baseItems).length\n    },\n\n    /**\n     * Moves all selected items to the given zIndex values.\n     * If those items aren't siblings already, they will be when this is invoked.\n     *\n     * @param zIndex - new zIndex to move items to\n     */\n    setZIndex (zIndex: number) {\n      const items: BaseItem[] = Object.values(this.items)\n      const connections: BaseItem[] = Object.values(this.connections)\n      let baseItems = items\n        .concat(connections)\n        .sort(sortByZIndex)\n      const selectedItems = baseItems.filter(({ isSelected }) => isSelected)\n\n      for (let i = 0; i < baseItems.length; i++) {\n        if (baseItems[i].isSelected) {\n          baseItems.splice(i, 1)\n          i--\n        }\n      }\n\n      baseItems.splice(zIndex - 1, 0, ...selectedItems)\n      baseItems.forEach((item, index) => {\n        item.zIndex = index + 1\n      })\n\n      this.zIndex = Object.keys(baseItems).length\n    },\n\n    /**\n     * Establishes a new connection between two ports.\n     *\n     * @param payload\n     * @param payload.source - source port ID\n     * @param payload.target - target port ID\n     * @param payload.connectionChainId - optional connection chain ID to add the connection segment to\n     */\n    connect ({ source, target, connectionChainId, id = uuid() }: {\n      source?: string,\n      target?: string,\n      connectionChainId?: string,\n      id?: string\n    }, establishCircuitConnection: boolean = true) {\n      if (source && target) {\n        this.connections[id] = {\n          id,\n          source,\n          target,\n          connectionChainId: connectionChainId || id,\n          groupId: null,\n          zIndex: ++this.zIndex,\n          isSelected: false\n        }\n\n        this.ports[source].connectedPortIds.push(target)\n        this.ports[target].connectedPortIds.push(source)\n\n        if (establishCircuitConnection) {\n          this\n            .simulation\n            .addConnection(source, target)\n        }\n      }\n    },\n\n    /**\n     * Disconnects two ports.\n     *\n     * @param payload\n     * @param payload.source - source port ID\n     * @param payload.target - target port ID\n     */\n    disconnect ({ source, target }: { source: string, target: string }) {\n      const connection = Object\n        .values(this.connections)\n        .find(c => c.source === source && c.target === target)\n\n      if (connection) {\n        this\n          .simulation\n          .removeConnection(source, target)\n\n        const sourceIndex = this.ports[source].connectedPortIds.findIndex(id => id === target)\n        const targetIndex = this.ports[target].connectedPortIds.findIndex(id => id === source)\n\n        this.ports[source].connectedPortIds.splice(sourceIndex, 1)\n        this.ports[target].connectedPortIds.splice(targetIndex, 1)\n\n        delete this.connections[connection.id]\n      }\n    },\n\n    /**\n     * Destroys the group having the given ID.\n     *\n     * @param groupId\n     */\n    destroyGroup (groupId: string) {\n      const group = this.groups[groupId]\n\n      // remove the groupId of all items in the group and select them\n      group.itemIds.forEach(id => {\n        this.items[id].groupId = null\n        this.selectedItemIds.push(id)\n      })\n\n      // remove the groupId of all connections in the group and select them\n      group.connectionIds.forEach(id => {\n        this.connections[id].groupId = null\n        this.selectedConnectionIds.push(id)\n      })\n\n      delete this.groups[groupId]\n    },\n\n    /**\n     * Adds a new freeport element. This can be used in either of two scenarios:\n     *\n     *  1. when a user is dragging a port to establish a connection to another port\n     *  2. when a user drags on a connection to create a new \"pivot point\" on the wire\n     *\n     * @param payload\n     * @param payload.itemId - desired ID for the new freeport\n     * @param payload.inputPortId - the ID of the input port (omit for a wire drag from an output port)\n     * @param payload.outputPortId - the ID of the output port (omit for a wire drag from an input port)\n     * @param payload.position - the initial position of this port\n     * @param payload.value - optional value of the port\n     */\n    addFreeportItem ({ itemId, inputPortId, outputPortId, value = 0 }: {\n      itemId: string\n      outputPortId?: string\n      inputPortId?: string\n      value?: number\n    }) {\n      const ports: Port[] = []\n\n      if (inputPortId) {\n        this.ports[inputPortId] = portFactory(itemId, inputPortId, Direction.Left, PortType.Input, inputPortId)\n        this.ports[inputPortId].value = value\n        ports.push(this.ports[inputPortId])\n      }\n\n      if (outputPortId) {\n        this.ports[outputPortId] = portFactory(itemId, outputPortId, Direction.Right, PortType.Output, outputPortId)\n        this.ports[outputPortId].value = value\n        ports.push(this.ports[outputPortId])\n      }\n\n      this.items[itemId] = itemFactory(itemId, ItemType.Freeport, ItemSubtype.None, 1, 1, ports)\n      this.items[itemId].zIndex = this.zIndex++\n\n      this\n        .simulation\n        .addNode(this.items[itemId], this.ports, true)\n    },\n\n    print () {\n      this.isPrinting = true\n    },\n\n    createImage () {\n      this.isCreatingImage = true\n    },\n\n    cut () {\n      this.copy()\n      this.deleteSelection()\n    },\n\n    copy () {\n      if (!this.hasSelection) return\n\n      const items: Record<string, Item> = {}\n      const ports: Record<string, Port> = {}\n\n      this.selectedItemIds.forEach(id => {\n        items[id] = this.items[id]\n        items[id].portIds.forEach(portId => {\n          ports[portId] = this.ports[portId]\n        })\n      })\n\n      const connections = Object\n        .values(this.connections)\n        .reduce((map, connection) => {\n          if (ports[connection.source] && ports[connection.target]) {\n            map[connection.id] = connection\n          }\n\n          return map\n        }, {} as Record<string, Connection>)\n\n      const groups = Object\n        .values(this.groups)\n        .filter(({ isSelected }) => isSelected)\n        .reduce((map, group) => ({ ...map, [group.id]: group }), {})\n\n      window.api.copy(JSON.stringify({\n        items,\n        ports,\n        connections,\n        groups,\n        pasteCount: 1\n      }))\n    },\n\n    paste () {\n      try {\n        const state = window.api.paste()\n        const parsed = JSON.parse(state as string) as {\n          items: Record<string, Item>\n          connections: Record<string, Connection>\n          groups: Record<string, Group>\n          ports: Record<string, Port>,\n          pasteCount: number\n        }\n        const mapped = idMapper.mapStandardCircuitIds(parsed) as {\n          items: Record<string, Item>\n          connections: Record<string, Connection>\n          groups: Record<string, Group>\n          ports: Record<string, Port>,\n          pasteCount: number\n        }\n\n        this.commitState()\n        this.deselectAll()\n\n        Object\n          .keys(mapped.ports)\n          .forEach(portId => {\n            mapped.ports[portId].value = 0\n          })\n\n        Object\n          .values(mapped.items)\n          .forEach(item => {\n            item.position.x += 20 * parsed.pasteCount\n            item.position.y += 20 * parsed.pasteCount\n            item.isSelected = false\n\n            this.addItem({\n              item,\n              ports: mapped.ports\n            })\n            this.setSelectionState({ id: item.id, value: true })\n          })\n\n        Object\n          .values(mapped.connections)\n          .forEach(connection => this.connect(connection))\n\n        Object\n          .values(mapped.groups)\n          .forEach(group => {\n            this.groups[group.id] = group\n\n            this.setGroupBoundingBox(group.id)\n            this.setSelectionState({ id: group.id, value: true })\n          })\n\n        const clipboard = JSON.stringify({\n          ...JSON.parse(state),\n          pasteCount: parsed.pasteCount + 1\n        })\n\n        window.api.copy(clipboard)\n      } catch (error) {\n        console.log('ERROR: ', error)\n        // TODO: clear clipboard?\n      }\n    },\n\n\n    toggleToolbox () {\n      this.isToolboxOpen = !this.isToolboxOpen\n    }\n  }\n})\n// TODO: when debugger is turned off, make sure all elements take on values defined in valueMap\n\n\nexport type DocumentStore = ReturnType<typeof createDocumentStore>\n","export default function getFileName (filePath: string) {\n  return filePath.split('\\\\').pop()?.split('/').pop() || ''\n}\n","// @ts-check\nimport { defineStore, StoreDefinition } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport DocumentState from './DocumentState'\nimport basic from '../containers/fixtures/basic.json'\nimport flipFlop from '../containers/fixtures/flipflop.json'\nimport integratedCircuit from '../containers/fixtures/ic.json'\nimport testIc from '../containers/fixtures/test.json'\n\nimport { createDocumentStore, DocumentStore } from './document'\nimport FileService from '@/services/FileService'\nimport getFileName from '@/utils/getFileName'\n\nexport type RootStore = {\n  documents: {\n    [id: string]: {\n      fileName: string\n      filePath: string\n      displayName: string\n      store: DocumentStore\n    }\n  }\n  clipboard: string | null\n  activeDocumentId: string | null\n  canExit: boolean\n  isFullscreen: boolean\n}\n\nexport const useRootStore = defineStore({\n  id: 'root',\n  state: (): RootStore => ({\n    documents: {},\n    clipboard: null,\n    activeDocumentId: null,\n    canExit: false,\n    isFullscreen: false\n  }),\n  getters: {\n    hasOpenDocuments (state) {\n      return Object\n        .keys(state.documents)\n        .length > 0\n    },\n    activeDocument (state) {\n      if (state.activeDocumentId) {\n        return state.documents[state.activeDocumentId]\n      }\n\n      return null\n    }\n  },\n  actions: {\n    openIntegratedCircuit (item: Item) {\n      if (item.integratedCircuit) {\n        this.openDocument('', item.integratedCircuit.serializedState, item.id, item.name)\n      }\n    },\n    async saveImage (data: Blob) {\n      if (!this.activeDocument) return\n\n      try {\n        const partialName = this.activeDocument.displayName.replace(/\\.[^/.]+$/, \"\")\n        const fileName = `${partialName}.png`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'PNG Image',\n            extensions: ['.png']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.writeBlob(filePath, data)\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the image.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    newDocument () {\n      console.log('will create new doc')\n    },\n    async closeAll (): Promise<boolean> {\n      if (this.activeDocumentId) {\n        const closedSuccessfully = await this.closeDocument(this.activeDocumentId)\n\n        // wait for the next window frame to show the next active document\n        await new Promise(resolve => setTimeout(resolve))\n\n        if (closedSuccessfully) {\n          return this.closeAll()\n        }\n\n        return false // a document refused to close\n      }\n\n      return true // all documents successfully closed\n    },\n    printActiveDocument () {\n      if (this.activeDocument) {\n        this.activeDocument.store().isPrinting = true\n      }\n    },\n    async closeDocument (id: string): Promise<boolean> {\n      const document = this.documents[id]\n      const store = document.store()\n      let isSuccessful = true\n\n      this.activateDocument(id)\n\n      if (store.isDirty) {\n        const dialogResult = window.api.showMessageBox({\n          message: `Save changes to ${document.fileName}?`,\n          title: 'Confirm',\n          buttons: ['Yes', 'No', 'Cancel']\n        })\n\n        if (dialogResult === 0) {\n          // user selected 'Yes' (to save the active document)\n          isSuccessful = await this.saveActiveDocument()\n        }\n\n        if (dialogResult === 2) {\n          // user selected 'Cancel' to continue editing their document\n          return false\n        }\n      }\n\n      // TODO: call some sort of teardown/$dispose() function of document\n      delete this.documents[id]\n      this.activeDocumentId = null\n\n      const remainingId = Object.keys(this.documents).pop()\n\n      if (remainingId) {\n        this.activateDocument(remainingId)\n      }\n\n      return isSuccessful\n    },\n    async saveActiveDocument (setFileName: boolean = false): Promise<boolean> {\n      try {\n        if (!this.activeDocument) return true\n        if (!this.activeDocument.filePath || setFileName) {\n          // if no file name is defined yet, ask the user for the location to save it\n          const fileName = this.activeDocument.fileName || `${this.activeDocument.fileName}.alfx`\n          const filePath = window.api.showSaveFileDialog([\n            {\n              name: 'Aristotle Logic Circuit (*.alfx)',\n              extensions: ['alfx']\n            }\n          ], fileName)\n\n          if (!filePath) return true\n          if (filePath) {\n            const fileName = getFileName(filePath)\n\n            this.activeDocument.filePath = filePath\n            this.activeDocument.fileName = fileName\n            this.activeDocument.displayName = fileName\n          }\n        }\n\n        const store = this.activeDocument.store()\n\n        FileService.save(this.activeDocument.filePath, {\n          items: store.items,\n          connections: store.connections,\n          groups: store.groups,\n          ports: store.ports\n        })\n\n        store.isDirty = false\n\n        return true\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the file.',\n          title: 'Error',\n          type: 'error'\n        })\n\n        return false\n      }\n    },\n    async selectDocument () {\n      const files = window.api.showOpenFileDialog([\n        {\n          name: 'Aristotle Logic Circuit (*.alfx)',\n          extensions: ['alfx']\n        }\n      ])\n\n      for (let i = 0; i < files.length; i++) {\n        await this.openDocumentFromPath(files[i])\n      }\n    },\n    async openDocumentFromPath (filePath: string) {\n      try {\n        // TODO: need to create lock on file while open\n        const content = await FileService.open(filePath)\n\n        if (content) {\n          this.openDocument(filePath, content, uuid())\n        }\n      } catch (error) {\n        console.log('ERR', error)\n        window.api.showMessageBox({\n          message: `Could not open ${filePath}. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    openDocument (filePath: string, content: string, id: string, displayName: string = '') {\n      if (this.documents[id]) {\n        return this.activateDocument(id)\n      }\n\n      const store = createDocumentStore(id)\n      const document = store()\n      const fileName = getFileName(filePath)\n\n      document.loadDocument(content)\n\n      this.documents[id] = {\n        fileName,\n        filePath,\n        displayName: displayName || fileName,\n        store\n      }\n      this.activateDocument(id)\n    },\n    switchDocument (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => this.activeDocumentId === id)\n\n      let nextIndex = currentIndex + direction\n\n      if (documentIds.length === 0) return\n      if (currentIndex === -1 || nextIndex >= documentIds.length) nextIndex = 0\n      else if (nextIndex < 0) nextIndex = documentIds.length - 1\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n    pauseActivity () {\n      this.activeDocument?.store().stop()\n    },\n    resumeActivity () {\n      this.activeDocument?.store().start()\n    },\n    activateDocument (id: string) {\n      this.pauseActivity()\n      this.activeDocumentId = id\n      this.resumeActivity()\n    },\n    openTestDocuments () {\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify({\n      //   connections: {},\n      //   items: {},\n      //   ports: {},\n      //   groups: {}\n      // }))\n      // this.openDocument('test.alfx', JSON.stringify(testIc))\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify(integratedCircuit))\n      // this.pauseActivity()\n      this.openDocument('flip-flop.alfx', JSON.stringify(flipFlop), uuid(), 'flip-flop.alfx')\n    },\n\n    navigateDocumentList (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => id === this.activeDocumentId)\n      let nextIndex = currentIndex + direction\n\n      if (nextIndex < 0) nextIndex = documentIds.length - 1\n      if (nextIndex >= documentIds.length) nextIndex = 0\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n\n    toggleFullscreen () {\n      this.isFullscreen = !this.isFullscreen\n\n      window.api.setFullscreen(this.isFullscreen)\n    }\n  }\n})\n","import { render } from \"./Document.vue?vue&type=template&id=11393e5e&ts=true\"\nimport script from \"./Document.vue?vue&type=script&lang=ts\"\nexport * from \"./Document.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Icon.vue?vue&type=template&id=c2deb328&ts=true\"\nimport script from \"./Icon.vue?vue&type=script&lang=ts\"\nexport * from \"./Icon.vue?vue&type=script&lang=ts\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarButton.vue?vue&type=template&id=53565970&ts=true\"\nimport script from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarButton.vue?vue&type=style&index=0&id=53565970&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarSeparator.vue?vue&type=template&id=3396867d&ts=true\"\nimport script from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarSeparator.vue?vue&type=style&index=0&id=3396867d&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ScrollFade.vue?vue&type=template&id=20b5d024&ts=true\"\nimport script from \"./ScrollFade.vue?vue&type=script&lang=ts\"\nexport * from \"./ScrollFade.vue?vue&type=script&lang=ts\"\n\nimport \"./ScrollFade.vue?vue&type=style&index=0&id=20b5d024&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Toolbar.vue?vue&type=template&id=44d404bf&ts=true\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Toolbar.vue?vue&type=style&index=0&id=44d404bf&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxItem.vue?vue&type=template&id=ddda23d6&ts=true\"\nimport script from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxItem.vue?vue&type=style&index=0&id=ddda23d6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxLayout.vue?vue&type=template&id=1d9cc0f9&ts=true\"\nimport script from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxLayout.vue?vue&type=style&index=0&id=1d9cc0f9&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nconst inputFactory: ItemFactory = (type: ItemSubtype, width: number, height: number, properties: PropertySet = {}) => {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Right, PortType.Output, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.InputNode, type, width, height, ports)\n\n  item.properties = {\n    ...properties,\n    startValue: {\n      label: 'Start value',\n      value: -1,\n      type: 'number',\n      options: {\n        'True': 1,\n        'Hi-Z': 0,\n        'False': -1\n      }\n    },\n  }\n\n  return { item, ports }\n}\n\nexport default inputFactory\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport inputFactory from './inputFactory'\n\nconst clockFactory: ItemFactory = () => inputFactory(ItemSubtype.Clock, 60, 60, {\n  interval: {\n    label: 'Interval',\n    value: 1000,\n    type: 'number',\n    min: 100\n  }\n})\n\nexport default clockFactory\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function lightbulbFactory () {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Left, PortType.Input, 'Input Port')\n  ]\n  const item = itemFactory(elementId, ItemType.OutputNode, ItemSubtype.Lightbulb, 40, 40, ports)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\n\nexport default function logicGateFactory (type: ItemSubtype, width: number, height: number) {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 1'),\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 2'),\n    portFactory(elementId, uuid(), 2, 0, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.LogicGate, type, width, height, ports)\n\n  item.properties = {\n    inputCount: {\n      label: 'Input count',\n      value: 2,\n      type: 'number',\n      min: 2\n    },\n    showInOscilloscope: {\n      label: 'Show in oscilloscope',\n      value: false,\n      type: 'boolean'\n    }\n  }\n\n  return { item, ports }\n}\n","import clockFactory from './clockFactory'\nimport inputFactory from './inputFactory'\nimport lightbulbFactory from './lightbulbFactory'\nimport logicGateFactory from './logicGateFactory'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\ntype FactoryDictionary = {\n  [type: string]: {\n    [subtype: string]: ItemFactory\n  }\n}\n\nexport default {\n  [ItemType.InputNode]: {\n    [ItemSubtype.Switch]: inputFactory.bind(this, ItemSubtype.Switch, 60, 60),\n    [ItemSubtype.Clock]: clockFactory\n  },\n  [ItemType.OutputNode]: {\n    [ItemSubtype.Lightbulb]: lightbulbFactory\n  },\n  [ItemType.LogicGate]: {\n    [ItemSubtype.And]: logicGateFactory.bind(this, ItemSubtype.And, 140, 50),\n    [ItemSubtype.Nand]: logicGateFactory.bind(this, ItemSubtype.Nand, 140, 50),\n    [ItemSubtype.Xnor]: logicGateFactory.bind(this, ItemSubtype.Xnor, 140, 50),\n    [ItemSubtype.Nor]: logicGateFactory.bind(this, ItemSubtype.Nor, 140, 50),\n    [ItemSubtype.Or]: logicGateFactory.bind(this, ItemSubtype.Or, 140, 50)\n  }\n} as FactoryDictionary\n","import { render } from \"./Toolbox.vue?vue&type=template&id=da738ec0&ts=true\"\nimport script from \"./Toolbox.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbox.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabItem.vue?vue&type=template&id=0cb1a552&ts=true\"\nimport script from \"./TabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TabItem.vue?vue&type=script&lang=ts\"\n\nimport \"./TabItem.vue?vue&type=style&index=0&id=0cb1a552&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabHost.vue?vue&type=template&id=df89a472&ts=true\"\nimport script from \"./TabHost.vue?vue&type=script&lang=ts\"\nexport * from \"./TabHost.vue?vue&type=script&lang=ts\"\n\nimport \"./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTimeline.vue?vue&type=template&id=fc2278b6&ts=true\"\nimport script from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTimeline.vue?vue&type=style&index=0&id=fc2278b6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTitleBar.vue?vue&type=template&id=5bfaeb92&ts=true\"\nimport script from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=5bfaeb92&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeViewer.vue?vue&type=template&id=e3956fc6&ts=true\"\nimport script from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeViewer.vue?vue&type=style&index=0&id=e3956fc6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Oscilloscope.vue?vue&type=template&id=e34aac26&ts=true\"\nimport script from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\nexport * from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarButton.vue?vue&type=template&id=3ddd451b&ts=true\"\nimport script from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarViewer.vue?vue&type=template&id=dc432b1a&ts=true\"\nimport script from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarViewer.vue?vue&type=style&index=0&id=dc432b1a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarZoom.vue?vue&type=template&id=2cb57bfb&ts=true\"\nimport script from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBar.vue?vue&type=template&id=cd242746&ts=true\"\nimport script from \"./StatusBar.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\n\nexport default function file (): MenuItemConstructorOptions[] {\n  const rootStore = useRootStore()\n  const hasDocument = rootStore.activeDocumentId !== null\n  const documentList = Object.keys(rootStore.documents)\n  const store = rootStore.activeDocument?.store()\n  const items: MenuItemConstructorOptions[] = [\n    {\n      label: '&New Circuit',\n      accelerator: 'CommandOrControl+N',\n      click: rootStore.newDocument\n    },\n    { type: 'separator' },\n    {\n      label: '&Open Circuit',\n      accelerator: 'CommandOrControl+O',\n      click: rootStore.selectDocument\n    },\n    {\n      label: 'Open &Integrated Circuit',\n      accelerator: 'CommandOrControl+Shift+O',\n      click: rootStore.selectDocument\n    },\n    { type: 'separator' },\n    {\n      label: 'Save',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+S',\n      click: () => rootStore.saveActiveDocument()\n    },\n    {\n      label: 'Save As...',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+S',\n      click: () => rootStore.saveActiveDocument(true)\n    },\n    {\n      label: 'Save All',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+A',\n      click: () => console.log('root store save all')\n    },\n    { type: 'separator' },\n    {\n      label: 'Print',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+P',\n      click: () => store?.print()\n    },\n    { type: 'separator' },\n    {\n      label: 'Export...',\n      enabled: hasDocument,\n      submenu: [\n        {\n          label: 'Integrated Circuit',\n          accelerator: 'CommandOrControl+Shift+E',\n          click: () => console.log('export IC')\n        },\n        {\n          label: 'PNG Image',\n          accelerator: 'CommandOrControl+Shift+I',\n          click: () => store?.createImage()\n        }\n      ]\n    },\n    { type: 'separator' },\n    {\n      label: 'Preferences',\n      submenu: [\n        {\n          label: 'Global Preferences',\n          accelerator: 'CommandOrControl+,',\n          click: () => console.log('global prefs')\n        },\n        {\n          label: 'Document Preferences',\n          accelerator: 'CommandOrControl+Shift+,',\n          click: () => console.log('doc prefs')\n        }\n      ]\n    }\n  ]\n\n  if (Object.keys(rootStore.documents).length > 1) {\n    const submenu: MenuItemConstructorOptions[] = [\n      {\n        label: 'Previous File',\n        accelerator: 'Ctrl+Shift+Tab',\n        click: () => rootStore.switchDocument(-1)\n      },\n      {\n        label: 'Next File',\n        accelerator: 'Ctrl+Tab',\n        click: () => rootStore.switchDocument(1)\n      },\n      { type: 'separator' }\n    ]\n\n    for (let i = 0; i < documentList.length; i++) {\n      submenu.push({\n        type: \"checkbox\",\n        label: rootStore.documents[documentList[i]].displayName,\n        checked: rootStore.activeDocumentId === documentList[i],\n        click: () => rootStore.activateDocument(documentList[i])\n      })\n    }\n\n    items.push({ type: 'separator' })\n    items.push({\n      label: 'Switch to...',\n      submenu\n    })\n  }\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Close Document',\n    accelerator: 'CmdOrCtrl+W',\n    enabled: hasDocument,\n    click: () => rootStore.closeDocument(rootStore.activeDocumentId as string)\n  })\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Exit',\n    accelerator: 'CmdOrCtrl+Q',\n    click: () => window.close()\n  })\n\n  return items\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\nimport grid from './grid'\n\nexport default function edit (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n  const zoomSubmenu: MenuItemConstructorOptions[] = []\n  let hasFixedZoom = false\n\n  for (let i = 1; i <= 8; i++) {\n    const zoom = (i * 25) / 100\n    const checked = store.zoomLevel === zoom\n\n    hasFixedZoom = hasFixedZoom || checked\n\n    zoomSubmenu.push({\n      type: 'checkbox',\n      checked,\n      label: `${zoom * 100}%`,\n      accelerator: zoom === 1 ? 'CommandOrControl+0' : undefined,\n      click: () => store.setZoom({ zoom })\n    })\n  }\n\n  if (!hasFixedZoom) {\n    zoomSubmenu.unshift({\n      type: 'checkbox',\n      checked: true,\n      label: 'Custom'\n    })\n  }\n\n  const menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Zoom In',\n      accelerator: 'CommandOrControl+=',\n      enabled: store.zoomLevel < 2, // TODO: const\n      click: () => store.incrementZoom(1)\n    },\n    {\n      label: '&Zoom Out',\n      accelerator: 'CommandOrControl+-',\n      enabled: store.zoomLevel > 0.1, // TODO: const\n      click: () => store.incrementZoom(-1)\n    },\n    {\n      label: '&Zoom...',\n      submenu: zoomSubmenu\n    },\n    { type: 'separator' },\n    {\n      label: '&Pan to Center',\n      accelerator: 'CommandOrControl+;',\n      click: store.panToCenter\n    },\n    { type: 'separator' }\n  ]\n\n  return menu.concat(grid(useDocumentStore))\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\nimport edit from './submenus/edit'\nimport file from './submenus/file'\nimport view from './submenus/view'\n\nexport default function createApplicationMenu () {\n  const store = useRootStore()\n  const menus: MenuItemConstructorOptions[] = [\n    {\n      label: 'File',\n      submenu: file()\n    }\n  ]\n\n  if (store.activeDocument) {\n    menus.push({\n      label: 'Edit',\n      submenu: edit(store.activeDocument.store)\n    })\n\n    menus.push({\n      label: 'View',\n      submenu: view(store.activeDocument.store).concat([\n        { type: 'separator' },\n        {\n          type: 'checkbox',\n          click: store.toggleFullscreen,\n          checked: store.isFullscreen,\n          accelerator: 'F11',\n          label: 'Fullscreen'\n        }\n      ])\n    })\n  }\n\n  return menus\n}\n","import { render } from \"./MainView.vue?vue&type=template&id=4f0058fe&ts=true\"\nimport script from \"./MainView.vue?vue&type=script&lang=ts\"\nexport * from \"./MainView.vue?vue&type=script&lang=ts\"\n\nimport \"./MainView.vue?vue&type=style&index=0&id=4f0058fe&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const isMobile = true\n\nexport default false\n","import { render } from \"./App.vue?vue&type=template&id=1ec7fc02&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1ec7fc02&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createPinia } from 'pinia'\nimport { createApp } from 'vue'\nimport App from '@/App.vue'\nimport '@/styles/main.scss'\n\nif (!window.api) {\n  // stub the ipc api for non-electron environments\n  // TODO: once the app is fully electron, move this to jest setup file\n  window.api = {\n    showContextMenu () {},\n    setApplicationMenu () {},\n    showOpenFileDialog () { return [] },\n    showSaveFileDialog () { return '' },\n    showMessageBox () { return 0 },\n    beep () {},\n    quit () {},\n    copy () {},\n    paste () { return '' },\n    onBeforeClose () {},\n    onOpenFile () {},\n    openFile () { return '' },\n    saveFile () {},\n    setFullscreen () {}\n  }\n}\n\ncreateApp(App)\n  .use(createPinia())\n  .mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolbarSeparator.vue?vue&type=style&index=0&id=3396867d&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./InputNode.vue?vue&type=style&index=0&id=d5d80b7c&lang=scss\"","import JSZip from 'jszip'\n\nexport default class FileService {\n  static async open (filePath: string) {\n    const zip = new JSZip()\n\n    const compressedContent = window.api.openFile(filePath)\n    const { files } = await zip.loadAsync(compressedContent)\n    const data = await files.content.async('text')\n\n    return data\n  }\n\n  static async writeBlob (filePath: string, blob: Blob) {\n    const blobby = await blob.arrayBuffer()\n    const buf = Buffer.from(blobby)\n\n    window.api.saveFile(filePath, buf)\n  }\n\n  static async save (filePath: string, content: object) {\n    const zip = new JSZip()\n\n    zip.file('content', JSON.stringify(content))\n\n    const compressedContent = await zip.generateAsync({ type: 'blob' })\n\n    this.writeBlob(filePath, compressedContent)\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Selector.vue?vue&type=style&index=0&id=00c70482&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeTimeline.vue?vue&type=style&index=0&id=fc2278b6&lang=scss\""],"sourceRoot":""}