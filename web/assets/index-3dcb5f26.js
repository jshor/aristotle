var kc=Object.defineProperty;var $c=(e,t,n)=>t in e?kc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var le=(e,t,n)=>($c(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function ns(e,t){const n=Object.create(null),o=e.split(",");for(let i=0;i<o.length;i++)n[o[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const st={},ro=[],Kt=()=>{},Pc=()=>!1,Dc=/^on[^a-z]/,qi=e=>Dc.test(e),os=e=>e.startsWith("onUpdate:"),_t=Object.assign,is=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},zc=Object.prototype.hasOwnProperty,Xe=(e,t)=>zc.call(e,t),Le=Array.isArray,so=e=>Ko(e)==="[object Map]",mo=e=>Ko(e)==="[object Set]",Vs=e=>Ko(e)==="[object Date]",Ve=e=>typeof e=="function",mt=e=>typeof e=="string",Lo=e=>typeof e=="symbol",it=e=>e!==null&&typeof e=="object",ja=e=>it(e)&&Ve(e.then)&&Ve(e.catch),Va=Object.prototype.toString,Ko=e=>Va.call(e),Ac=e=>Ko(e).slice(8,-1),Ua=e=>Ko(e)==="[object Object]",rs=e=>mt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Di=ns(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Tc=/-(\w)/g,rn=Gi(e=>e.replace(Tc,(t,n)=>n?n.toUpperCase():"")),Mc=/\B([A-Z])/g,qn=Gi(e=>e.replace(Mc,"-$1").toLowerCase()),Ki=Gi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pr=Gi(e=>e?`on${Ki(e)}`:""),No=(e,t)=>!Object.is(e,t),zi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Mi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Bi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Bc=e=>{const t=mt(e)?Number(e):NaN;return isNaN(t)?e:t};let Us;const Nr=()=>Us||(Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rt(e){if(Le(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=mt(o)?Fc(o):rt(o);if(i)for(const r in i)t[r]=i[r]}return t}else{if(mt(e))return e;if(it(e))return e}}const Lc=/;(?![^(]*\))/g,Nc=/:([^]+)/,Rc=/\/\*[^]*?\*\//g;function Fc(e){const t={};return e.replace(Rc,"").split(Lc).forEach(n=>{if(n){const o=n.split(Nc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Je(e){let t="";if(mt(e))t=e;else if(Le(e))for(let n=0;n<e.length;n++){const o=Je(e[n]);o&&(t+=o+" ")}else if(it(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ha(e){if(!e)return null;let{class:t,style:n}=e;return t&&!mt(t)&&(e.class=Je(t)),n&&(e.style=rt(n)),e}const jc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vc=ns(jc);function Wa(e){return!!e||e===""}function Uc(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Hn(e[o],t[o]);return n}function Hn(e,t){if(e===t)return!0;let n=Vs(e),o=Vs(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Lo(e),o=Lo(t),n||o)return e===t;if(n=Le(e),o=Le(t),n||o)return n&&o?Uc(e,t):!1;if(n=it(e),o=it(t),n||o){if(!n||!o)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!Hn(e[s],t[s]))return!1}}return String(e)===String(t)}function ss(e,t){return e.findIndex(n=>Hn(n,t))}const ut=e=>mt(e)?e:e==null?"":Le(e)||it(e)&&(e.toString===Va||!Ve(e.toString))?JSON.stringify(e,Za,2):String(e),Za=(e,t)=>t&&t.__v_isRef?Za(e,t.value):so(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,i])=>(n[`${o} =>`]=i,n),{})}:mo(t)?{[`Set(${t.size})`]:[...t.values()]}:it(t)&&!Le(t)&&!Ua(t)?String(t):t;let Bt;class qa{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!t&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Bt;try{return Bt=this,t()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Ga(e){return new qa(e)}function Hc(e,t=Bt){t&&t.active&&t.effects.push(e)}function Ka(){return Bt}function Wc(e){Bt&&Bt.cleanups.push(e)}const as=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Xa=e=>(e.w&$n)>0,Ya=e=>(e.n&$n)>0,Zc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=$n},qc=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const i=t[o];Xa(i)&&!Ya(i)?i.delete(e):t[n++]=i,i.w&=~$n,i.n&=~$n}t.length=n}},Li=new WeakMap;let $o=0,$n=1;const Rr=30;let qt;const Vn=Symbol(""),Fr=Symbol("");class ls{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Hc(this,o)}run(){if(!this.active)return this.fn();let t=qt,n=En;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=qt,qt=this,En=!0,$n=1<<++$o,$o<=Rr?Zc(this):Hs(this),this.fn()}finally{$o<=Rr&&qc(this),$n=1<<--$o,qt=this.parent,En=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){qt===this?this.deferStop=!0:this.active&&(Hs(this),this.onStop&&this.onStop(),this.active=!1)}}function Hs(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let En=!0;const Ja=[];function go(){Ja.push(En),En=!1}function vo(){const e=Ja.pop();En=e===void 0?!0:e}function Tt(e,t,n){if(En&&qt){let o=Li.get(e);o||Li.set(e,o=new Map);let i=o.get(n);i||o.set(n,i=as()),Qa(i)}}function Qa(e,t){let n=!1;$o<=Rr?Ya(e)||(e.n|=$n,n=!Xa(e)):n=!e.has(qt),n&&(e.add(qt),qt.deps.push(e))}function hn(e,t,n,o,i,r){const s=Li.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&Le(e)){const l=Number(o);s.forEach((u,h)=>{(h==="length"||h>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":Le(e)?rs(n)&&a.push(s.get("length")):(a.push(s.get(Vn)),so(e)&&a.push(s.get(Fr)));break;case"delete":Le(e)||(a.push(s.get(Vn)),so(e)&&a.push(s.get(Fr)));break;case"set":so(e)&&a.push(s.get(Vn));break}if(a.length===1)a[0]&&jr(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);jr(as(l))}}function jr(e,t){const n=Le(e)?e:[...e];for(const o of n)o.computed&&Ws(o);for(const o of n)o.computed||Ws(o)}function Ws(e,t){(e!==qt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Gc(e,t){var n;return(n=Li.get(e))==null?void 0:n.get(t)}const Kc=ns("__proto__,__v_isRef,__isVue"),el=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Lo)),Xc=cs(),Yc=cs(!1,!0),Jc=cs(!0),Zs=Qc();function Qc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=qe(this);for(let r=0,s=this.length;r<s;r++)Tt(o,"get",r+"");const i=o[t](...n);return i===-1||i===!1?o[t](...n.map(qe)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){go();const o=qe(this)[t].apply(this,n);return vo(),o}}),e}function eu(e){const t=qe(this);return Tt(t,"has",e),t.hasOwnProperty(e)}function cs(e=!1,t=!1){return function(o,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?gu:rl:t?il:ol).get(o))return o;const s=Le(o);if(!e){if(s&&Xe(Zs,i))return Reflect.get(Zs,i,r);if(i==="hasOwnProperty")return eu}const a=Reflect.get(o,i,r);return(Lo(i)?el.has(i):Kc(i))||(e||Tt(o,"get",i),t)?a:ft(a)?s&&rs(i)?a:a.value:it(a)?e?sl(a):Yi(a):a}}const tu=tl(),nu=tl(!0);function tl(e=!1){return function(n,o,i,r){let s=n[o];if(uo(s)&&ft(s)&&!ft(i))return!1;if(!e&&(!Ni(i)&&!uo(i)&&(s=qe(s),i=qe(i)),!Le(n)&&ft(s)&&!ft(i)))return s.value=i,!0;const a=Le(n)&&rs(o)?Number(o)<n.length:Xe(n,o),l=Reflect.set(n,o,i,r);return n===qe(r)&&(a?No(i,s)&&hn(n,"set",o,i):hn(n,"add",o,i)),l}}function ou(e,t){const n=Xe(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&hn(e,"delete",t,void 0),o}function iu(e,t){const n=Reflect.has(e,t);return(!Lo(t)||!el.has(t))&&Tt(e,"has",t),n}function ru(e){return Tt(e,"iterate",Le(e)?"length":Vn),Reflect.ownKeys(e)}const nl={get:Xc,set:tu,deleteProperty:ou,has:iu,ownKeys:ru},su={get:Jc,set(e,t){return!0},deleteProperty(e,t){return!0}},au=_t({},nl,{get:Yc,set:nu}),us=e=>e,Xi=e=>Reflect.getPrototypeOf(e);function wi(e,t,n=!1,o=!1){e=e.__v_raw;const i=qe(e),r=qe(t);n||(t!==r&&Tt(i,"get",t),Tt(i,"get",r));const{has:s}=Xi(i),a=o?us:n?hs:Ro;if(s.call(i,t))return a(e.get(t));if(s.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function Ci(e,t=!1){const n=this.__v_raw,o=qe(n),i=qe(e);return t||(e!==i&&Tt(o,"has",e),Tt(o,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Si(e,t=!1){return e=e.__v_raw,!t&&Tt(qe(e),"iterate",Vn),Reflect.get(e,"size",e)}function qs(e){e=qe(e);const t=qe(this);return Xi(t).has.call(t,e)||(t.add(e),hn(t,"add",e,e)),this}function Gs(e,t){t=qe(t);const n=qe(this),{has:o,get:i}=Xi(n);let r=o.call(n,e);r||(e=qe(e),r=o.call(n,e));const s=i.call(n,e);return n.set(e,t),r?No(t,s)&&hn(n,"set",e,t):hn(n,"add",e,t),this}function Ks(e){const t=qe(this),{has:n,get:o}=Xi(t);let i=n.call(t,e);i||(e=qe(e),i=n.call(t,e)),o&&o.call(t,e);const r=t.delete(e);return i&&hn(t,"delete",e,void 0),r}function Xs(){const e=qe(this),t=e.size!==0,n=e.clear();return t&&hn(e,"clear",void 0,void 0),n}function Ii(e,t){return function(o,i){const r=this,s=r.__v_raw,a=qe(s),l=t?us:e?hs:Ro;return!e&&Tt(a,"iterate",Vn),s.forEach((u,h)=>o.call(i,l(u),l(h),r))}}function xi(e,t,n){return function(...o){const i=this.__v_raw,r=qe(i),s=so(r),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...o),h=n?us:t?hs:Ro;return!t&&Tt(r,"iterate",l?Fr:Vn),{next(){const{value:m,done:g}=u.next();return g?{value:m,done:g}:{value:a?[h(m[0]),h(m[1])]:h(m),done:g}},[Symbol.iterator](){return this}}}}function wn(e){return function(...t){return e==="delete"?!1:this}}function lu(){const e={get(r){return wi(this,r)},get size(){return Si(this)},has:Ci,add:qs,set:Gs,delete:Ks,clear:Xs,forEach:Ii(!1,!1)},t={get(r){return wi(this,r,!1,!0)},get size(){return Si(this)},has:Ci,add:qs,set:Gs,delete:Ks,clear:Xs,forEach:Ii(!1,!0)},n={get(r){return wi(this,r,!0)},get size(){return Si(this,!0)},has(r){return Ci.call(this,r,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Ii(!0,!1)},o={get(r){return wi(this,r,!0,!0)},get size(){return Si(this,!0)},has(r){return Ci.call(this,r,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Ii(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=xi(r,!1,!1),n[r]=xi(r,!0,!1),t[r]=xi(r,!1,!0),o[r]=xi(r,!0,!0)}),[e,n,t,o]}const[cu,uu,du,fu]=lu();function ds(e,t){const n=t?e?fu:du:e?uu:cu;return(o,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(Xe(n,i)&&i in o?n:o,i,r)}const hu={get:ds(!1,!1)},pu={get:ds(!1,!0)},mu={get:ds(!0,!1)},ol=new WeakMap,il=new WeakMap,rl=new WeakMap,gu=new WeakMap;function vu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yu(e){return e.__v_skip||!Object.isExtensible(e)?0:vu(Ac(e))}function Yi(e){return uo(e)?e:fs(e,!1,nl,hu,ol)}function bu(e){return fs(e,!1,au,pu,il)}function sl(e){return fs(e,!0,su,mu,rl)}function fs(e,t,n,o,i){if(!it(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const s=yu(e);if(s===0)return e;const a=new Proxy(e,s===2?o:n);return i.set(e,a),a}function dn(e){return uo(e)?dn(e.__v_raw):!!(e&&e.__v_isReactive)}function uo(e){return!!(e&&e.__v_isReadonly)}function Ni(e){return!!(e&&e.__v_isShallow)}function al(e){return dn(e)||uo(e)}function qe(e){const t=e&&e.__v_raw;return t?qe(t):e}function Ji(e){return Mi(e,"__v_skip",!0),e}const Ro=e=>it(e)?Yi(e):e,hs=e=>it(e)?sl(e):e;function ll(e){En&&qt&&(e=qe(e),Qa(e.dep||(e.dep=as())))}function cl(e,t){e=qe(e);const n=e.dep;n&&jr(n)}function ft(e){return!!(e&&e.__v_isRef===!0)}function He(e){return _u(e,!1)}function _u(e,t){return ft(e)?e:new wu(e,t)}class wu{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:qe(t),this._value=n?t:Ro(t)}get value(){return ll(this),this._value}set value(t){const n=this.__v_isShallow||Ni(t)||uo(t);t=n?t:qe(t),No(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ro(t),cl(this))}}function Cu(e){return ft(e)?e.value:e}const Su={get:(e,t,n)=>Cu(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const i=e[t];return ft(i)&&!ft(n)?(i.value=n,!0):Reflect.set(e,t,n,o)}};function ul(e){return dn(e)?e:new Proxy(e,Su)}function Iu(e){const t=Le(e)?new Array(e.length):{};for(const n in e)t[n]=dl(e,n);return t}class xu{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Gc(qe(this._object),this._key)}}class Eu{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ou(e,t,n){return ft(e)?e:Ve(e)?new Eu(e):it(e)&&arguments.length>1?dl(e,t,n):He(e)}function dl(e,t,n){const o=e[t];return ft(o)?o:new xu(e,t,n)}class ku{constructor(t,n,o,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ls(t,()=>{this._dirty||(this._dirty=!0,cl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=o}get value(){const t=qe(this);return ll(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function $u(e,t,n=!1){let o,i;const r=Ve(e);return r?(o=e,i=Kt):(o=e.get,i=e.set),new ku(o,i,r||!i,n)}function On(e,t,n,o){let i;try{i=o?e(...o):e()}catch(r){Qi(r,t,n)}return i}function Ut(e,t,n,o){if(Ve(e)){const r=On(e,t,n,o);return r&&ja(r)&&r.catch(s=>{Qi(s,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(Ut(e[r],t,n,o));return i}function Qi(e,t,n,o=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const s=t.proxy,a=n;for(;r;){const u=r.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,s,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){On(l,null,10,[e,s,a]);return}}Pu(e,n,i,o)}function Pu(e,t,n,o=!0){console.error(e)}let Fo=!1,Vr=!1;const $t=[];let on=0;const ao=[];let ln=null,Nn=0;const fl=Promise.resolve();let ps=null;function er(e){const t=ps||fl;return e?t.then(this?e.bind(this):e):t}function Du(e){let t=on+1,n=$t.length;for(;t<n;){const o=t+n>>>1;jo($t[o])<e?t=o+1:n=o}return t}function ms(e){(!$t.length||!$t.includes(e,Fo&&e.allowRecurse?on+1:on))&&(e.id==null?$t.push(e):$t.splice(Du(e.id),0,e),hl())}function hl(){!Fo&&!Vr&&(Vr=!0,ps=fl.then(ml))}function zu(e){const t=$t.indexOf(e);t>on&&$t.splice(t,1)}function Au(e){Le(e)?ao.push(...e):(!ln||!ln.includes(e,e.allowRecurse?Nn+1:Nn))&&ao.push(e),hl()}function Ys(e,t=Fo?on+1:0){for(;t<$t.length;t++){const n=$t[t];n&&n.pre&&($t.splice(t,1),t--,n())}}function pl(e){if(ao.length){const t=[...new Set(ao)];if(ao.length=0,ln){ln.push(...t);return}for(ln=t,ln.sort((n,o)=>jo(n)-jo(o)),Nn=0;Nn<ln.length;Nn++)ln[Nn]();ln=null,Nn=0}}const jo=e=>e.id==null?1/0:e.id,Tu=(e,t)=>{const n=jo(e)-jo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ml(e){Vr=!1,Fo=!0,$t.sort(Tu);const t=Kt;try{for(on=0;on<$t.length;on++){const n=$t[on];n&&n.active!==!1&&On(n,null,14)}}finally{on=0,$t.length=0,pl(),Fo=!1,ps=null,($t.length||ao.length)&&ml()}}function Mu(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||st;let i=n;const r=t.startsWith("update:"),s=r&&t.slice(7);if(s&&s in o){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:g}=o[h]||st;g&&(i=n.map(d=>mt(d)?d.trim():d)),m&&(i=n.map(Bi))}let a,l=o[a=Pr(t)]||o[a=Pr(rn(t))];!l&&r&&(l=o[a=Pr(qn(t))]),l&&Ut(l,e,6,i);const u=o[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ut(u,e,6,i)}}function gl(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(i!==void 0)return i;const r=e.emits;let s={},a=!1;if(!Ve(e)){const l=u=>{const h=gl(u,t,!0);h&&(a=!0,_t(s,h))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(it(e)&&o.set(e,null),null):(Le(r)?r.forEach(l=>s[l]=null):_t(s,r),it(e)&&o.set(e,s),s)}function tr(e,t){return!e||!qi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(e,t[0].toLowerCase()+t.slice(1))||Xe(e,qn(t))||Xe(e,t))}let xt=null,vl=null;function Ri(e){const t=xt;return xt=e,vl=e&&e.type.__scopeId||null,t}function Fe(e,t=xt,n){if(!t||e._n)return e;const o=(...i)=>{o._d&&ca(-1);const r=Ri(t);let s;try{s=e(...i)}finally{Ri(r),o._d&&ca(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function Dr(e){const{type:t,vnode:n,proxy:o,withProxy:i,props:r,propsOptions:[s],slots:a,attrs:l,emit:u,render:h,renderCache:m,data:g,setupState:d,ctx:v,inheritAttrs:f}=e;let b,y;const S=Ri(e);try{if(n.shapeFlag&4){const T=i||o;b=tn(h.call(T,T,m,r,d,g,v)),y=l}else{const T=t;b=tn(T.length>1?T(r,{attrs:l,slots:a,emit:u}):T(r,null)),y=t.props?l:Bu(l)}}catch(T){To.length=0,Qi(T,e,1),b=de(Ht)}let P=b;if(y&&f!==!1){const T=Object.keys(y),{shapeFlag:D}=P;T.length&&D&7&&(s&&T.some(os)&&(y=Lu(y,s)),P=Pn(P,y))}return n.dirs&&(P=Pn(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),b=P,Ri(S),b}const Bu=e=>{let t;for(const n in e)(n==="class"||n==="style"||qi(n))&&((t||(t={}))[n]=e[n]);return t},Lu=(e,t)=>{const n={};for(const o in e)(!os(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Nu(e,t,n){const{props:o,children:i,component:r}=e,{props:s,children:a,patchFlag:l}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?Js(o,s,u):!!s;if(l&8){const h=t.dynamicProps;for(let m=0;m<h.length;m++){const g=h[m];if(s[g]!==o[g]&&!tr(u,g))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?Js(o,s,u):!0:!!s;return!1}function Js(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(t[r]!==e[r]&&!tr(n,r))return!0}return!1}function Ru({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Fu=e=>e.__isSuspense;function ju(e,t){t&&t.pendingBranch?Le(e)?t.effects.push(...e):t.effects.push(e):Au(e)}function Vo(e,t){return gs(e,null,t)}const Ei={};function fn(e,t,n){return gs(e,t,n)}function gs(e,t,{immediate:n,deep:o,flush:i,onTrack:r,onTrigger:s}=st){var a;const l=Ka()===((a=Ct)==null?void 0:a.scope)?Ct:null;let u,h=!1,m=!1;if(ft(e)?(u=()=>e.value,h=Ni(e)):dn(e)?(u=()=>e,o=!0):Le(e)?(m=!0,h=e.some(T=>dn(T)||Ni(T)),u=()=>e.map(T=>{if(ft(T))return T.value;if(dn(T))return jn(T);if(Ve(T))return On(T,l,2)})):Ve(e)?t?u=()=>On(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return g&&g(),Ut(e,l,3,[d])}:u=Kt,t&&o){const T=u;u=()=>jn(T())}let g,d=T=>{g=S.onStop=()=>{On(T,l,4)}},v;if(Wo)if(d=Kt,t?n&&Ut(t,l,3,[u(),m?[]:void 0,d]):u(),i==="sync"){const T=Td();v=T.__watcherHandles||(T.__watcherHandles=[])}else return Kt;let f=m?new Array(e.length).fill(Ei):Ei;const b=()=>{if(S.active)if(t){const T=S.run();(o||h||(m?T.some((D,X)=>No(D,f[X])):No(T,f)))&&(g&&g(),Ut(t,l,3,[T,f===Ei?void 0:m&&f[0]===Ei?[]:f,d]),f=T)}else S.run()};b.allowRecurse=!!t;let y;i==="sync"?y=b:i==="post"?y=()=>At(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),y=()=>ms(b));const S=new ls(u,y);t?n?b():f=S.run():i==="post"?At(S.run.bind(S),l&&l.suspense):S.run();const P=()=>{S.stop(),l&&l.scope&&is(l.scope.effects,S)};return v&&v.push(P),P}function Vu(e,t,n){const o=this.proxy,i=mt(e)?e.includes(".")?yl(o,e):()=>o[e]:e.bind(o,o);let r;Ve(t)?r=t:(r=t.handler,n=t);const s=Ct;fo(this);const a=gs(i,r.bind(o),n);return s?fo(s):Un(),a}function yl(e,t){const n=t.split(".");return()=>{let o=e;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}function jn(e,t){if(!it(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ft(e))jn(e.value,t);else if(Le(e))for(let n=0;n<e.length;n++)jn(e[n],t);else if(mo(e)||so(e))e.forEach(n=>{jn(n,t)});else if(Ua(e))for(const n in e)jn(e[n],t);return e}function lo(e,t){const n=xt;if(n===null)return e;const o=ar(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,a,l,u=st]=t[r];s&&(Ve(s)&&(s={mounted:s,updated:s}),s.deep&&jn(a),i.push({dir:s,instance:o,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Tn(e,t,n,o){const i=e.dirs,r=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];r&&(a.oldValue=r[s].value);let l=a.dir[o];l&&(go(),Ut(l,n,8,[e.el,a,e,t]),vo())}}function Uu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sn(()=>{e.isMounted=!0}),Gn(()=>{e.isUnmounting=!0}),e}const jt=[Function,Array],bl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},Hu={name:"BaseTransition",props:bl,setup(e,{slots:t}){const n=Ed(),o=Uu();let i;return()=>{const r=t.default&&wl(t.default(),!0);if(!r||!r.length)return;let s=r[0];if(r.length>1){for(const f of r)if(f.type!==Ht){s=f;break}}const a=qe(e),{mode:l}=a;if(o.isLeaving)return zr(s);const u=Qs(s);if(!u)return zr(s);const h=Ur(u,a,o,n);Hr(u,h);const m=n.subTree,g=m&&Qs(m);let d=!1;const{getTransitionKey:v}=u.type;if(v){const f=v();i===void 0?i=f:f!==i&&(i=f,d=!0)}if(g&&g.type!==Ht&&(!Rn(u,g)||d)){const f=Ur(g,a,o,n);if(Hr(g,f),l==="out-in")return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,n.update.active!==!1&&n.update()},zr(s);l==="in-out"&&u.type!==Ht&&(f.delayLeave=(b,y,S)=>{const P=_l(o,g);P[String(g.key)]=g,b._leaveCb=()=>{y(),b._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=S})}return s}}},Wu=Hu;function _l(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function Ur(e,t,n,o){const{appear:i,mode:r,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:m,onLeave:g,onAfterLeave:d,onLeaveCancelled:v,onBeforeAppear:f,onAppear:b,onAfterAppear:y,onAppearCancelled:S}=t,P=String(e.key),T=_l(n,e),D=(L,x)=>{L&&Ut(L,o,9,x)},X=(L,x)=>{const H=x[1];D(L,x),Le(L)?L.every(se=>se.length<=1)&&H():L.length<=1&&H()},F={mode:r,persisted:s,beforeEnter(L){let x=a;if(!n.isMounted)if(i)x=f||a;else return;L._leaveCb&&L._leaveCb(!0);const H=T[P];H&&Rn(e,H)&&H.el._leaveCb&&H.el._leaveCb(),D(x,[L])},enter(L){let x=l,H=u,se=h;if(!n.isMounted)if(i)x=b||l,H=y||u,se=S||h;else return;let I=!1;const U=L._enterCb=p=>{I||(I=!0,p?D(se,[L]):D(H,[L]),F.delayedLeave&&F.delayedLeave(),L._enterCb=void 0)};x?X(x,[L,U]):U()},leave(L,x){const H=String(e.key);if(L._enterCb&&L._enterCb(!0),n.isUnmounting)return x();D(m,[L]);let se=!1;const I=L._leaveCb=U=>{se||(se=!0,x(),U?D(v,[L]):D(d,[L]),L._leaveCb=void 0,T[H]===e&&delete T[H])};T[H]=e,g?X(g,[L,I]):I()},clone(L){return Ur(L,t,n,o)}};return F}function zr(e){if(nr(e))return e=Pn(e),e.children=null,e}function Qs(e){return nr(e)?e.children?e.children[0]:void 0:e}function Hr(e,t){e.shapeFlag&6&&e.component?Hr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wl(e,t=!1,n){let o=[],i=0;for(let r=0;r<e.length;r++){let s=e[r];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:r);s.type===Ye?(s.patchFlag&128&&i++,o=o.concat(wl(s.children,t,a))):(t||s.type!==Ht)&&o.push(a!=null?Pn(s,{key:a}):s)}if(i>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function xe(e,t){return Ve(e)?(()=>_t({name:e.name},t,{setup:e}))():e}const Do=e=>!!e.type.__asyncLoader,nr=e=>e.type.__isKeepAlive;function Zu(e,t){Cl(e,"a",t)}function qu(e,t){Cl(e,"da",t)}function Cl(e,t,n=Ct){const o=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(or(t,o,n),n){let i=n.parent;for(;i&&i.parent;)nr(i.parent.vnode)&&Gu(o,t,n,i),i=i.parent}}function Gu(e,t,n,o){const i=or(t,e,o,!0);vs(()=>{is(o[t],i)},n)}function or(e,t,n=Ct,o=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;go(),fo(n);const a=Ut(t,n,e,s);return Un(),vo(),a});return o?i.unshift(r):i.push(r),r}}const pn=e=>(t,n=Ct)=>(!Wo||e==="sp")&&or(e,(...o)=>t(...o),n),Ku=pn("bm"),sn=pn("m"),Xu=pn("bu"),Yu=pn("u"),Gn=pn("bum"),vs=pn("um"),Ju=pn("sp"),Qu=pn("rtg"),ed=pn("rtc");function td(e,t=Ct){or("ec",e,t)}const ys="components";function be(e,t){return Il(ys,e,!0,t)||e}const Sl=Symbol.for("v-ndc");function ir(e){return mt(e)?Il(ys,e,!1)||e:e||Sl}function Il(e,t,n=!0,o=!1){const i=xt||Ct;if(i){const r=i.type;if(e===ys){const a=Dd(r,!1);if(a&&(a===t||a===rn(t)||a===Ki(rn(t))))return r}const s=ea(i[e]||r[e],t)||ea(i.appContext[e],t);return!s&&o?r:s}}function ea(e,t){return e&&(e[t]||e[rn(t)]||e[Ki(rn(t))])}function wt(e,t,n,o){let i;const r=n&&n[o];if(Le(e)||mt(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,r&&r[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,r&&r[s])}else if(it(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,r&&r[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=t(e[u],u,a,r&&r[a])}}else i=[];return n&&(n[o]=i),i}function bs(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(Le(o))for(let i=0;i<o.length;i++)e[o[i].name]=o[i].fn;else o&&(e[o.name]=o.key?(...i)=>{const r=o.fn(...i);return r&&(r.key=o.key),r}:o.fn)}return e}function dt(e,t,n={},o,i){if(xt.isCE||xt.parent&&Do(xt.parent)&&xt.parent.isCE)return t!=="default"&&(n.name=t),de("slot",n,o&&o());let r=e[t];r&&r._c&&(r._d=!1),K();const s=r&&xl(r(n)),a=Ne(Ye,{key:n.key||s&&s.key||`_${t}`},s||(o?o():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function xl(e){return e.some(t=>ji(t)?!(t.type===Ht||t.type===Ye&&!xl(t.children)):!0)?e:null}const Wr=e=>e?Ll(e)?ar(e)||e.proxy:Wr(e.parent):null,zo=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wr(e.parent),$root:e=>Wr(e.root),$emit:e=>e.emit,$options:e=>_s(e),$forceUpdate:e=>e.f||(e.f=()=>ms(e.update)),$nextTick:e=>e.n||(e.n=er.bind(e.proxy)),$watch:e=>Vu.bind(e)}),Ar=(e,t)=>e!==st&&!e.__isScriptSetup&&Xe(e,t),nd={get({_:e},t){const{ctx:n,setupState:o,data:i,props:r,accessCache:s,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(Ar(o,t))return s[t]=1,o[t];if(i!==st&&Xe(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&Xe(u,t))return s[t]=3,r[t];if(n!==st&&Xe(n,t))return s[t]=4,n[t];Zr&&(s[t]=0)}}const h=zo[t];let m,g;if(h)return t==="$attrs"&&Tt(e,"get",t),h(e);if((m=a.__cssModules)&&(m=m[t]))return m;if(n!==st&&Xe(n,t))return s[t]=4,n[t];if(g=l.config.globalProperties,Xe(g,t))return g[t]},set({_:e},t,n){const{data:o,setupState:i,ctx:r}=e;return Ar(i,t)?(i[t]=n,!0):o!==st&&Xe(o,t)?(o[t]=n,!0):Xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:r}},s){let a;return!!n[s]||e!==st&&Xe(e,s)||Ar(t,s)||(a=r[0])&&Xe(a,s)||Xe(o,s)||Xe(zo,s)||Xe(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ta(e){return Le(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Zr=!0;function od(e){const t=_s(e),n=e.proxy,o=e.ctx;Zr=!1,t.beforeCreate&&na(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:s,watch:a,provide:l,inject:u,created:h,beforeMount:m,mounted:g,beforeUpdate:d,updated:v,activated:f,deactivated:b,beforeDestroy:y,beforeUnmount:S,destroyed:P,unmounted:T,render:D,renderTracked:X,renderTriggered:F,errorCaptured:L,serverPrefetch:x,expose:H,inheritAttrs:se,components:I,directives:U,filters:p}=t;if(u&&id(u,o,null),s)for(const ee in s){const Se=s[ee];Ve(Se)&&(o[ee]=Se.bind(n))}if(i){const ee=i.call(n,n);it(ee)&&(e.data=Yi(ee))}if(Zr=!0,r)for(const ee in r){const Se=r[ee],ue=Ve(Se)?Se.bind(n,n):Ve(Se.get)?Se.get.bind(n,n):Kt,he=!Ve(Se)&&Ve(Se.set)?Se.set.bind(n):Kt,G=tt({get:ue,set:he});Object.defineProperty(o,ee,{enumerable:!0,configurable:!0,get:()=>G.value,set:q=>G.value=q})}if(a)for(const ee in a)El(a[ee],o,n,ee);if(l){const ee=Ve(l)?l.call(n):l;Reflect.ownKeys(ee).forEach(Se=>{ud(Se,ee[Se])})}h&&na(h,e,"c");function ye(ee,Se){Le(Se)?Se.forEach(ue=>ee(ue.bind(n))):Se&&ee(Se.bind(n))}if(ye(Ku,m),ye(sn,g),ye(Xu,d),ye(Yu,v),ye(Zu,f),ye(qu,b),ye(td,L),ye(ed,X),ye(Qu,F),ye(Gn,S),ye(vs,T),ye(Ju,x),Le(H))if(H.length){const ee=e.exposed||(e.exposed={});H.forEach(Se=>{Object.defineProperty(ee,Se,{get:()=>n[Se],set:ue=>n[Se]=ue})})}else e.exposed||(e.exposed={});D&&e.render===Kt&&(e.render=D),se!=null&&(e.inheritAttrs=se),I&&(e.components=I),U&&(e.directives=U)}function id(e,t,n=Kt){Le(e)&&(e=qr(e));for(const o in e){const i=e[o];let r;it(i)?"default"in i?r=Ao(i.from||o,i.default,!0):r=Ao(i.from||o):r=Ao(i),ft(r)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:s=>r.value=s}):t[o]=r}}function na(e,t,n){Ut(Le(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function El(e,t,n,o){const i=o.includes(".")?yl(n,o):()=>n[o];if(mt(e)){const r=t[e];Ve(r)&&fn(i,r)}else if(Ve(e))fn(i,e.bind(n));else if(it(e))if(Le(e))e.forEach(r=>El(r,t,n,o));else{const r=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(r)&&fn(i,r,e)}}function _s(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!o?l=t:(l={},i.length&&i.forEach(u=>Fi(l,u,s,!0)),Fi(l,t,s)),it(t)&&r.set(t,l),l}function Fi(e,t,n,o=!1){const{mixins:i,extends:r}=t;r&&Fi(e,r,n,!0),i&&i.forEach(s=>Fi(e,s,n,!0));for(const s in t)if(!(o&&s==="expose")){const a=rd[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const rd={data:oa,props:ia,emits:ia,methods:Po,computed:Po,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:Po,directives:Po,watch:ad,provide:oa,inject:sd};function oa(e,t){return t?e?function(){return _t(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function sd(e,t){return Po(qr(e),qr(t))}function qr(e){if(Le(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Dt(e,t){return e?[...new Set([].concat(e,t))]:t}function Po(e,t){return e?_t(Object.create(null),e,t):t}function ia(e,t){return e?Le(e)&&Le(t)?[...new Set([...e,...t])]:_t(Object.create(null),ta(e),ta(t??{})):t}function ad(e,t){if(!e)return t;if(!t)return e;const n=_t(Object.create(null),e);for(const o in t)n[o]=Dt(e[o],t[o]);return n}function Ol(){return{app:null,config:{isNativeTag:Pc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ld=0;function cd(e,t){return function(o,i=null){Ve(o)||(o=_t({},o)),i!=null&&!it(i)&&(i=null);const r=Ol(),s=new Set;let a=!1;const l=r.app={_uid:ld++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:Md,get config(){return r.config},set config(u){},use(u,...h){return s.has(u)||(u&&Ve(u.install)?(s.add(u),u.install(l,...h)):Ve(u)&&(s.add(u),u(l,...h))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,h){return h?(r.components[u]=h,l):r.components[u]},directive(u,h){return h?(r.directives[u]=h,l):r.directives[u]},mount(u,h,m){if(!a){const g=de(o,i);return g.appContext=r,h&&t?t(g,u):e(g,u,m),a=!0,l._container=u,u.__vue_app__=l,ar(g.component)||g.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,h){return r.provides[u]=h,l},runWithContext(u){Uo=l;try{return u()}finally{Uo=null}}};return l}}let Uo=null;function ud(e,t){if(Ct){let n=Ct.provides;const o=Ct.parent&&Ct.parent.provides;o===n&&(n=Ct.provides=Object.create(o)),n[e]=t}}function Ao(e,t,n=!1){const o=Ct||xt;if(o||Uo){const i=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Uo._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ve(t)?t.call(o&&o.proxy):t}}function dd(){return!!(Ct||xt||Uo)}function fd(e,t,n,o=!1){const i={},r={};Mi(r,sr,1),e.propsDefaults=Object.create(null),kl(e,t,i,r);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=o?i:bu(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function hd(e,t,n,o){const{props:i,attrs:r,vnode:{patchFlag:s}}=e,a=qe(i),[l]=e.propsOptions;let u=!1;if((o||s>0)&&!(s&16)){if(s&8){const h=e.vnode.dynamicProps;for(let m=0;m<h.length;m++){let g=h[m];if(tr(e.emitsOptions,g))continue;const d=t[g];if(l)if(Xe(r,g))d!==r[g]&&(r[g]=d,u=!0);else{const v=rn(g);i[v]=Gr(l,a,v,d,e,!1)}else d!==r[g]&&(r[g]=d,u=!0)}}}else{kl(e,t,i,r)&&(u=!0);let h;for(const m in a)(!t||!Xe(t,m)&&((h=qn(m))===m||!Xe(t,h)))&&(l?n&&(n[m]!==void 0||n[h]!==void 0)&&(i[m]=Gr(l,a,m,void 0,e,!0)):delete i[m]);if(r!==a)for(const m in r)(!t||!Xe(t,m))&&(delete r[m],u=!0)}u&&hn(e,"set","$attrs")}function kl(e,t,n,o){const[i,r]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(Di(l))continue;const u=t[l];let h;i&&Xe(i,h=rn(l))?!r||!r.includes(h)?n[h]=u:(a||(a={}))[h]=u:tr(e.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,s=!0)}if(r){const l=qe(n),u=a||st;for(let h=0;h<r.length;h++){const m=r[h];n[m]=Gr(i,l,m,u[m],e,!Xe(u,m))}}return s}function Gr(e,t,n,o,i,r){const s=e[n];if(s!=null){const a=Xe(s,"default");if(a&&o===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ve(l)){const{propsDefaults:u}=i;n in u?o=u[n]:(fo(i),o=u[n]=l.call(null,t),Un())}else o=l}s[0]&&(r&&!a?o=!1:s[1]&&(o===""||o===qn(n))&&(o=!0))}return o}function $l(e,t,n=!1){const o=t.propsCache,i=o.get(e);if(i)return i;const r=e.props,s={},a=[];let l=!1;if(!Ve(e)){const h=m=>{l=!0;const[g,d]=$l(m,t,!0);_t(s,g),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!l)return it(e)&&o.set(e,ro),ro;if(Le(r))for(let h=0;h<r.length;h++){const m=rn(r[h]);ra(m)&&(s[m]=st)}else if(r)for(const h in r){const m=rn(h);if(ra(m)){const g=r[h],d=s[m]=Le(g)||Ve(g)?{type:g}:_t({},g);if(d){const v=la(Boolean,d.type),f=la(String,d.type);d[0]=v>-1,d[1]=f<0||v<f,(v>-1||Xe(d,"default"))&&a.push(m)}}}const u=[s,a];return it(e)&&o.set(e,u),u}function ra(e){return e[0]!=="$"}function sa(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function aa(e,t){return sa(e)===sa(t)}function la(e,t){return Le(t)?t.findIndex(n=>aa(n,e)):Ve(t)&&aa(t,e)?0:-1}const Pl=e=>e[0]==="_"||e==="$stable",ws=e=>Le(e)?e.map(tn):[tn(e)],pd=(e,t,n)=>{if(t._n)return t;const o=Fe((...i)=>ws(t(...i)),n);return o._c=!1,o},Dl=(e,t,n)=>{const o=e._ctx;for(const i in e){if(Pl(i))continue;const r=e[i];if(Ve(r))t[i]=pd(i,r,o);else if(r!=null){const s=ws(r);t[i]=()=>s}}},zl=(e,t)=>{const n=ws(t);e.slots.default=()=>n},md=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=qe(t),Mi(t,"_",n)):Dl(t,e.slots={})}else e.slots={},t&&zl(e,t);Mi(e.slots,sr,1)},gd=(e,t,n)=>{const{vnode:o,slots:i}=e;let r=!0,s=st;if(o.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(_t(i,t),!n&&a===1&&delete i._):(r=!t.$stable,Dl(t,i)),s=t}else t&&(zl(e,t),s={default:1});if(r)for(const a in i)!Pl(a)&&!(a in s)&&delete i[a]};function Kr(e,t,n,o,i=!1){if(Le(e)){e.forEach((g,d)=>Kr(g,t&&(Le(t)?t[d]:t),n,o,i));return}if(Do(o)&&!i)return;const r=o.shapeFlag&4?ar(o.component)||o.component.proxy:o.el,s=i?null:r,{i:a,r:l}=e,u=t&&t.r,h=a.refs===st?a.refs={}:a.refs,m=a.setupState;if(u!=null&&u!==l&&(mt(u)?(h[u]=null,Xe(m,u)&&(m[u]=null)):ft(u)&&(u.value=null)),Ve(l))On(l,a,12,[s,h]);else{const g=mt(l),d=ft(l);if(g||d){const v=()=>{if(e.f){const f=g?Xe(m,l)?m[l]:h[l]:l.value;i?Le(f)&&is(f,r):Le(f)?f.includes(r)||f.push(r):g?(h[l]=[r],Xe(m,l)&&(m[l]=h[l])):(l.value=[r],e.k&&(h[e.k]=l.value))}else g?(h[l]=s,Xe(m,l)&&(m[l]=s)):d&&(l.value=s,e.k&&(h[e.k]=s))};s?(v.id=-1,At(v,n)):v()}}}const At=ju;function vd(e){return yd(e)}function yd(e,t){const n=Nr();n.__VUE__=!0;const{insert:o,remove:i,patchProp:r,createElement:s,createText:a,createComment:l,setText:u,setElementText:h,parentNode:m,nextSibling:g,setScopeId:d=Kt,insertStaticContent:v}=e,f=(A,R,c,M=null,z=null,C=null,_=!1,E=null,W=!!R.dynamicChildren)=>{if(A===R)return;A&&!Rn(A,R)&&(M=Re(A),q(A,z,C,!0),A=null),R.patchFlag===-2&&(W=!1,R.dynamicChildren=null);const{type:j,ref:N,shapeFlag:Y}=R;switch(j){case rr:b(A,R,c,M);break;case Ht:y(A,R,c,M);break;case Tr:A==null&&S(R,c,M,_);break;case Ye:I(A,R,c,M,z,C,_,E,W);break;default:Y&1?D(A,R,c,M,z,C,_,E,W):Y&6?U(A,R,c,M,z,C,_,E,W):(Y&64||Y&128)&&j.process(A,R,c,M,z,C,_,E,W,Be)}N!=null&&z&&Kr(N,A&&A.ref,C,R||A,!R)},b=(A,R,c,M)=>{if(A==null)o(R.el=a(R.children),c,M);else{const z=R.el=A.el;R.children!==A.children&&u(z,R.children)}},y=(A,R,c,M)=>{A==null?o(R.el=l(R.children||""),c,M):R.el=A.el},S=(A,R,c,M)=>{[A.el,A.anchor]=v(A.children,R,c,M,A.el,A.anchor)},P=({el:A,anchor:R},c,M)=>{let z;for(;A&&A!==R;)z=g(A),o(A,c,M),A=z;o(R,c,M)},T=({el:A,anchor:R})=>{let c;for(;A&&A!==R;)c=g(A),i(A),A=c;i(R)},D=(A,R,c,M,z,C,_,E,W)=>{_=_||R.type==="svg",A==null?X(R,c,M,z,C,_,E,W):x(A,R,z,C,_,E,W)},X=(A,R,c,M,z,C,_,E)=>{let W,j;const{type:N,props:Y,shapeFlag:ie,transition:ne,dirs:me}=A;if(W=A.el=s(A.type,C,Y&&Y.is,Y),ie&8?h(W,A.children):ie&16&&L(A.children,W,null,M,z,C&&N!=="foreignObject",_,E),me&&Tn(A,null,M,"created"),F(W,A,A.scopeId,_,M),Y){for(const $e in Y)$e!=="value"&&!Di($e)&&r(W,$e,null,Y[$e],C,A.children,M,z,Ee);"value"in Y&&r(W,"value",null,Y.value),(j=Y.onVnodeBeforeMount)&&en(j,M,A)}me&&Tn(A,null,M,"beforeMount");const Ae=(!z||z&&!z.pendingBranch)&&ne&&!ne.persisted;Ae&&ne.beforeEnter(W),o(W,R,c),((j=Y&&Y.onVnodeMounted)||Ae||me)&&At(()=>{j&&en(j,M,A),Ae&&ne.enter(W),me&&Tn(A,null,M,"mounted")},z)},F=(A,R,c,M,z)=>{if(c&&d(A,c),M)for(let C=0;C<M.length;C++)d(A,M[C]);if(z){let C=z.subTree;if(R===C){const _=z.vnode;F(A,_,_.scopeId,_.slotScopeIds,z.parent)}}},L=(A,R,c,M,z,C,_,E,W=0)=>{for(let j=W;j<A.length;j++){const N=A[j]=E?xn(A[j]):tn(A[j]);f(null,N,R,c,M,z,C,_,E)}},x=(A,R,c,M,z,C,_)=>{const E=R.el=A.el;let{patchFlag:W,dynamicChildren:j,dirs:N}=R;W|=A.patchFlag&16;const Y=A.props||st,ie=R.props||st;let ne;c&&Mn(c,!1),(ne=ie.onVnodeBeforeUpdate)&&en(ne,c,R,A),N&&Tn(R,A,c,"beforeUpdate"),c&&Mn(c,!0);const me=z&&R.type!=="foreignObject";if(j?H(A.dynamicChildren,j,E,c,M,me,C):_||Se(A,R,E,null,c,M,me,C,!1),W>0){if(W&16)se(E,R,Y,ie,c,M,z);else if(W&2&&Y.class!==ie.class&&r(E,"class",null,ie.class,z),W&4&&r(E,"style",Y.style,ie.style,z),W&8){const Ae=R.dynamicProps;for(let $e=0;$e<Ae.length;$e++){const Ue=Ae[$e],lt=Y[Ue],We=ie[Ue];(We!==lt||Ue==="value")&&r(E,Ue,lt,We,z,A.children,c,M,Ee)}}W&1&&A.children!==R.children&&h(E,R.children)}else!_&&j==null&&se(E,R,Y,ie,c,M,z);((ne=ie.onVnodeUpdated)||N)&&At(()=>{ne&&en(ne,c,R,A),N&&Tn(R,A,c,"updated")},M)},H=(A,R,c,M,z,C,_)=>{for(let E=0;E<R.length;E++){const W=A[E],j=R[E],N=W.el&&(W.type===Ye||!Rn(W,j)||W.shapeFlag&70)?m(W.el):c;f(W,j,N,null,M,z,C,_,!0)}},se=(A,R,c,M,z,C,_)=>{if(c!==M){if(c!==st)for(const E in c)!Di(E)&&!(E in M)&&r(A,E,c[E],null,_,R.children,z,C,Ee);for(const E in M){if(Di(E))continue;const W=M[E],j=c[E];W!==j&&E!=="value"&&r(A,E,j,W,_,R.children,z,C,Ee)}"value"in M&&r(A,"value",c.value,M.value)}},I=(A,R,c,M,z,C,_,E,W)=>{const j=R.el=A?A.el:a(""),N=R.anchor=A?A.anchor:a("");let{patchFlag:Y,dynamicChildren:ie,slotScopeIds:ne}=R;ne&&(E=E?E.concat(ne):ne),A==null?(o(j,c,M),o(N,c,M),L(R.children,c,N,z,C,_,E,W)):Y>0&&Y&64&&ie&&A.dynamicChildren?(H(A.dynamicChildren,ie,c,z,C,_,E),(R.key!=null||z&&R===z.subTree)&&Al(A,R,!0)):Se(A,R,c,N,z,C,_,E,W)},U=(A,R,c,M,z,C,_,E,W)=>{R.slotScopeIds=E,A==null?R.shapeFlag&512?z.ctx.activate(R,c,M,_,W):p(R,c,M,z,C,_,W):Q(A,R,W)},p=(A,R,c,M,z,C,_)=>{const E=A.component=xd(A,M,z);if(nr(A)&&(E.ctx.renderer=Be),Od(E),E.asyncDep){if(z&&z.registerDep(E,ye),!A.el){const W=E.subTree=de(Ht);y(null,W,R,c)}return}ye(E,A,R,c,z,C,_)},Q=(A,R,c)=>{const M=R.component=A.component;if(Nu(A,R,c))if(M.asyncDep&&!M.asyncResolved){ee(M,R,c);return}else M.next=R,zu(M.update),M.update();else R.el=A.el,M.vnode=R},ye=(A,R,c,M,z,C,_)=>{const E=()=>{if(A.isMounted){let{next:N,bu:Y,u:ie,parent:ne,vnode:me}=A,Ae=N,$e;Mn(A,!1),N?(N.el=me.el,ee(A,N,_)):N=me,Y&&zi(Y),($e=N.props&&N.props.onVnodeBeforeUpdate)&&en($e,ne,N,me),Mn(A,!0);const Ue=Dr(A),lt=A.subTree;A.subTree=Ue,f(lt,Ue,m(lt.el),Re(lt),A,z,C),N.el=Ue.el,Ae===null&&Ru(A,Ue.el),ie&&At(ie,z),($e=N.props&&N.props.onVnodeUpdated)&&At(()=>en($e,ne,N,me),z)}else{let N;const{el:Y,props:ie}=R,{bm:ne,m:me,parent:Ae}=A,$e=Do(R);if(Mn(A,!1),ne&&zi(ne),!$e&&(N=ie&&ie.onVnodeBeforeMount)&&en(N,Ae,R),Mn(A,!0),Y&&Ge){const Ue=()=>{A.subTree=Dr(A),Ge(Y,A.subTree,A,z,null)};$e?R.type.__asyncLoader().then(()=>!A.isUnmounted&&Ue()):Ue()}else{const Ue=A.subTree=Dr(A);f(null,Ue,c,M,A,z,C),R.el=Ue.el}if(me&&At(me,z),!$e&&(N=ie&&ie.onVnodeMounted)){const Ue=R;At(()=>en(N,Ae,Ue),z)}(R.shapeFlag&256||Ae&&Do(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&A.a&&At(A.a,z),A.isMounted=!0,R=c=M=null}},W=A.effect=new ls(E,()=>ms(j),A.scope),j=A.update=()=>W.run();j.id=A.uid,Mn(A,!0),j()},ee=(A,R,c)=>{R.component=A;const M=A.vnode.props;A.vnode=R,A.next=null,hd(A,R.props,M,c),gd(A,R.children,c),go(),Ys(),vo()},Se=(A,R,c,M,z,C,_,E,W=!1)=>{const j=A&&A.children,N=A?A.shapeFlag:0,Y=R.children,{patchFlag:ie,shapeFlag:ne}=R;if(ie>0){if(ie&128){he(j,Y,c,M,z,C,_,E,W);return}else if(ie&256){ue(j,Y,c,M,z,C,_,E,W);return}}ne&8?(N&16&&Ee(j,z,C),Y!==j&&h(c,Y)):N&16?ne&16?he(j,Y,c,M,z,C,_,E,W):Ee(j,z,C,!0):(N&8&&h(c,""),ne&16&&L(Y,c,M,z,C,_,E,W))},ue=(A,R,c,M,z,C,_,E,W)=>{A=A||ro,R=R||ro;const j=A.length,N=R.length,Y=Math.min(j,N);let ie;for(ie=0;ie<Y;ie++){const ne=R[ie]=W?xn(R[ie]):tn(R[ie]);f(A[ie],ne,c,null,z,C,_,E,W)}j>N?Ee(A,z,C,!0,!1,Y):L(R,c,M,z,C,_,E,W,Y)},he=(A,R,c,M,z,C,_,E,W)=>{let j=0;const N=R.length;let Y=A.length-1,ie=N-1;for(;j<=Y&&j<=ie;){const ne=A[j],me=R[j]=W?xn(R[j]):tn(R[j]);if(Rn(ne,me))f(ne,me,c,null,z,C,_,E,W);else break;j++}for(;j<=Y&&j<=ie;){const ne=A[Y],me=R[ie]=W?xn(R[ie]):tn(R[ie]);if(Rn(ne,me))f(ne,me,c,null,z,C,_,E,W);else break;Y--,ie--}if(j>Y){if(j<=ie){const ne=ie+1,me=ne<N?R[ne].el:M;for(;j<=ie;)f(null,R[j]=W?xn(R[j]):tn(R[j]),c,me,z,C,_,E,W),j++}}else if(j>ie)for(;j<=Y;)q(A[j],z,C,!0),j++;else{const ne=j,me=j,Ae=new Map;for(j=me;j<=ie;j++){const et=R[j]=W?xn(R[j]):tn(R[j]);et.key!=null&&Ae.set(et.key,j)}let $e,Ue=0;const lt=ie-me+1;let We=!1,bt=0;const Te=new Array(lt);for(j=0;j<lt;j++)Te[j]=0;for(j=ne;j<=Y;j++){const et=A[j];if(Ue>=lt){q(et,z,C,!0);continue}let Qe;if(et.key!=null)Qe=Ae.get(et.key);else for($e=me;$e<=ie;$e++)if(Te[$e-me]===0&&Rn(et,R[$e])){Qe=$e;break}Qe===void 0?q(et,z,C,!0):(Te[Qe-me]=j+1,Qe>=bt?bt=Qe:We=!0,f(et,R[Qe],c,null,z,C,_,E,W),Ue++)}const Pe=We?bd(Te):ro;for($e=Pe.length-1,j=lt-1;j>=0;j--){const et=me+j,Qe=R[et],zt=et+1<N?R[et+1].el:M;Te[j]===0?f(null,Qe,c,zt,z,C,_,E,W):We&&($e<0||j!==Pe[$e]?G(Qe,c,zt,2):$e--)}}},G=(A,R,c,M,z=null)=>{const{el:C,type:_,transition:E,children:W,shapeFlag:j}=A;if(j&6){G(A.component.subTree,R,c,M);return}if(j&128){A.suspense.move(R,c,M);return}if(j&64){_.move(A,R,c,Be);return}if(_===Ye){o(C,R,c);for(let Y=0;Y<W.length;Y++)G(W[Y],R,c,M);o(A.anchor,R,c);return}if(_===Tr){P(A,R,c);return}if(M!==2&&j&1&&E)if(M===0)E.beforeEnter(C),o(C,R,c),At(()=>E.enter(C),z);else{const{leave:Y,delayLeave:ie,afterLeave:ne}=E,me=()=>o(C,R,c),Ae=()=>{Y(C,()=>{me(),ne&&ne()})};ie?ie(C,me,Ae):Ae()}else o(C,R,c)},q=(A,R,c,M=!1,z=!1)=>{const{type:C,props:_,ref:E,children:W,dynamicChildren:j,shapeFlag:N,patchFlag:Y,dirs:ie}=A;if(E!=null&&Kr(E,null,c,A,!0),N&256){R.ctx.deactivate(A);return}const ne=N&1&&ie,me=!Do(A);let Ae;if(me&&(Ae=_&&_.onVnodeBeforeUnmount)&&en(Ae,R,A),N&6)te(A.component,c,M);else{if(N&128){A.suspense.unmount(c,M);return}ne&&Tn(A,null,R,"beforeUnmount"),N&64?A.type.remove(A,R,c,z,Be,M):j&&(C!==Ye||Y>0&&Y&64)?Ee(j,R,c,!1,!0):(C===Ye&&Y&384||!z&&N&16)&&Ee(W,R,c),M&&Ce(A)}(me&&(Ae=_&&_.onVnodeUnmounted)||ne)&&At(()=>{Ae&&en(Ae,R,A),ne&&Tn(A,null,R,"unmounted")},c)},Ce=A=>{const{type:R,el:c,anchor:M,transition:z}=A;if(R===Ye){we(c,M);return}if(R===Tr){T(A);return}const C=()=>{i(c),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(A.shapeFlag&1&&z&&!z.persisted){const{leave:_,delayLeave:E}=z,W=()=>_(c,C);E?E(A.el,C,W):W()}else C()},we=(A,R)=>{let c;for(;A!==R;)c=g(A),i(A),A=c;i(R)},te=(A,R,c)=>{const{bum:M,scope:z,update:C,subTree:_,um:E}=A;M&&zi(M),z.stop(),C&&(C.active=!1,q(_,A,R,c)),E&&At(E,R),At(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Ee=(A,R,c,M=!1,z=!1,C=0)=>{for(let _=C;_<A.length;_++)q(A[_],R,c,M,z)},Re=A=>A.shapeFlag&6?Re(A.component.subTree):A.shapeFlag&128?A.suspense.next():g(A.anchor||A.el),Ie=(A,R,c)=>{A==null?R._vnode&&q(R._vnode,null,null,!0):f(R._vnode||null,A,R,null,null,null,c),Ys(),pl(),R._vnode=A},Be={p:f,um:q,m:G,r:Ce,mt:p,mc:L,pc:Se,pbc:H,n:Re,o:e};let Ze,Ge;return t&&([Ze,Ge]=t(Be)),{render:Ie,hydrate:Ze,createApp:cd(Ie,Ze)}}function Mn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Al(e,t,n=!1){const o=e.children,i=t.children;if(Le(o)&&Le(i))for(let r=0;r<o.length;r++){const s=o[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=xn(i[r]),a.el=s.el),n||Al(s,a)),a.type===rr&&(a.el=s.el)}}function bd(e){const t=e.slice(),n=[0];let o,i,r,s,a;const l=e.length;for(o=0;o<l;o++){const u=e[o];if(u!==0){if(i=n[n.length-1],e[i]<u){t[o]=i,n.push(o);continue}for(r=0,s=n.length-1;r<s;)a=r+s>>1,e[n[a]]<u?r=a+1:s=a;u<e[n[r]]&&(r>0&&(t[o]=n[r-1]),n[r]=o)}}for(r=n.length,s=n[r-1];r-- >0;)n[r]=s,s=t[s];return n}const _d=e=>e.__isTeleport,Ye=Symbol.for("v-fgt"),rr=Symbol.for("v-txt"),Ht=Symbol.for("v-cmt"),Tr=Symbol.for("v-stc"),To=[];let Gt=null;function K(e=!1){To.push(Gt=e?null:[])}function wd(){To.pop(),Gt=To[To.length-1]||null}let Ho=1;function ca(e){Ho+=e}function Tl(e){return e.dynamicChildren=Ho>0?Gt||ro:null,wd(),Ho>0&&Gt&&Gt.push(e),e}function fe(e,t,n,o,i,r){return Tl(_e(e,t,n,o,i,r,!0))}function Ne(e,t,n,o,i){return Tl(de(e,t,n,o,i,!0))}function ji(e){return e?e.__v_isVNode===!0:!1}function Rn(e,t){return e.type===t.type&&e.key===t.key}const sr="__vInternal",Ml=({key:e})=>e??null,Ai=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?mt(e)||ft(e)||Ve(e)?{i:xt,r:e,k:t,f:!!n}:e:null);function _e(e,t=null,n=null,o=0,i=null,r=e===Ye?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ml(t),ref:t&&Ai(t),scopeId:vl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:xt};return a?(Is(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=mt(n)?8:16),Ho>0&&!s&&Gt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Gt.push(l),l}const de=Cd;function Cd(e,t=null,n=null,o=0,i=null,r=!1){if((!e||e===Sl)&&(e=Ht),ji(e)){const a=Pn(e,t,!0);return n&&Is(a,n),Ho>0&&!r&&Gt&&(a.shapeFlag&6?Gt[Gt.indexOf(e)]=a:Gt.push(a)),a.patchFlag|=-2,a}if(zd(e)&&(e=e.__vccOpts),t){t=Cs(t);let{class:a,style:l}=t;a&&!mt(a)&&(t.class=Je(a)),it(l)&&(al(l)&&!Le(l)&&(l=_t({},l)),t.style=rt(l))}const s=mt(e)?1:Fu(e)?128:_d(e)?64:it(e)?4:Ve(e)?2:0;return _e(e,t,n,o,i,s,r,!0)}function Cs(e){return e?al(e)||sr in e?_t({},e):e:null}function Pn(e,t,n=!1){const{props:o,ref:i,patchFlag:r,children:s}=e,a=t?Bl(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ml(a),ref:t&&t.ref?n&&i?Le(i)?i.concat(Ai(t)):[i,Ai(t)]:Ai(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pn(e.ssContent),ssFallback:e.ssFallback&&Pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ss(e=" ",t=0){return de(rr,null,e,t)}function ht(e="",t=!1){return t?(K(),Ne(Ht,null,e)):de(Ht,null,e)}function tn(e){return e==null||typeof e=="boolean"?de(Ht):Le(e)?de(Ye,null,e.slice()):typeof e=="object"?xn(e):de(rr,null,String(e))}function xn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pn(e)}function Is(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Le(t))n=16;else if(typeof t=="object")if(o&65){const i=t.default;i&&(i._c&&(i._d=!1),Is(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(sr in t)?t._ctx=xt:i===3&&xt&&(xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:xt},n=32):(t=String(t),o&64?(n=16,t=[Ss(t)]):n=8);e.children=t,e.shapeFlag|=n}function Bl(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const i in o)if(i==="class")t.class!==o.class&&(t.class=Je([t.class,o.class]));else if(i==="style")t.style=rt([t.style,o.style]);else if(qi(i)){const r=t[i],s=o[i];s&&r!==s&&!(Le(r)&&r.includes(s))&&(t[i]=r?[].concat(r,s):s)}else i!==""&&(t[i]=o[i])}return t}function en(e,t,n,o=null){Ut(e,t,7,[n,o])}const Sd=Ol();let Id=0;function xd(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||Sd,r={uid:Id++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new qa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$l(o,i),emitsOptions:gl(o,i),emit:null,emitted:null,propsDefaults:st,inheritAttrs:o.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Mu.bind(null,r),e.ce&&e.ce(r),r}let Ct=null;const Ed=()=>Ct||xt;let xs,no,ua="__VUE_INSTANCE_SETTERS__";(no=Nr()[ua])||(no=Nr()[ua]=[]),no.push(e=>Ct=e),xs=e=>{no.length>1?no.forEach(t=>t(e)):no[0](e)};const fo=e=>{xs(e),e.scope.on()},Un=()=>{Ct&&Ct.scope.off(),xs(null)};function Ll(e){return e.vnode.shapeFlag&4}let Wo=!1;function Od(e,t=!1){Wo=t;const{props:n,children:o}=e.vnode,i=Ll(e);fd(e,n,i,t),md(e,o);const r=i?kd(e,t):void 0;return Wo=!1,r}function kd(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ji(new Proxy(e.ctx,nd));const{setup:o}=n;if(o){const i=e.setupContext=o.length>1?Pd(e):null;fo(e),go();const r=On(o,e,0,[e.props,i]);if(vo(),Un(),ja(r)){if(r.then(Un,Un),t)return r.then(s=>{da(e,s,t)}).catch(s=>{Qi(s,e,0)});e.asyncDep=r}else da(e,r,t)}else Nl(e,t)}function da(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:it(t)&&(e.setupState=ul(t)),Nl(e,n)}let fa;function Nl(e,t,n){const o=e.type;if(!e.render){if(!t&&fa&&!o.render){const i=o.template||_s(e).template;if(i){const{isCustomElement:r,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=o,u=_t(_t({isCustomElement:r,delimiters:a},s),l);o.render=fa(i,u)}}e.render=o.render||Kt}fo(e),go(),od(e),vo(),Un()}function $d(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Tt(e,"get","$attrs"),t[n]}}))}function Pd(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return $d(e)},slots:e.slots,emit:e.emit,expose:t}}function ar(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ul(Ji(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zo)return zo[n](e)},has(t,n){return n in t||n in zo}}))}function Dd(e,t=!0){return Ve(e)?e.displayName||e.name:e.name||t&&e.__name}function zd(e){return Ve(e)&&"__vccOpts"in e}const tt=(e,t)=>$u(e,t,Wo);function Es(e,t,n){const o=arguments.length;return o===2?it(t)&&!Le(t)?ji(t)?de(e,null,[t]):de(e,t):de(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&ji(n)&&(n=[n]),de(e,t,n))}const Ad=Symbol.for("v-scx"),Td=()=>Ao(Ad),Md="3.3.4",Bd="http://www.w3.org/2000/svg",Fn=typeof document<"u"?document:null,ha=Fn&&Fn.createElement("template"),Ld={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const i=t?Fn.createElementNS(Bd,e):Fn.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>Fn.createTextNode(e),createComment:e=>Fn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Fn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,i,r){const s=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{ha.innerHTML=o?`<svg>${e}</svg>`:e;const a=ha.content;if(o){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Nd(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Rd(e,t,n){const o=e.style,i=mt(n);if(n&&!i){if(t&&!mt(t))for(const r in t)n[r]==null&&Xr(o,r,"");for(const r in n)Xr(o,r,n[r])}else{const r=o.display;i?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=r)}}const pa=/\s*!important$/;function Xr(e,t,n){if(Le(n))n.forEach(o=>Xr(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Fd(e,t);pa.test(n)?e.setProperty(qn(o),n.replace(pa,""),"important"):e[o]=n}}const ma=["Webkit","Moz","ms"],Mr={};function Fd(e,t){const n=Mr[t];if(n)return n;let o=rn(t);if(o!=="filter"&&o in e)return Mr[t]=o;o=Ki(o);for(let i=0;i<ma.length;i++){const r=ma[i]+o;if(r in e)return Mr[t]=r}return t}const ga="http://www.w3.org/1999/xlink";function jd(e,t,n,o,i){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ga,t.slice(6,t.length)):e.setAttributeNS(ga,t,n);else{const r=Vc(t);n==null||r&&!Wa(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function Vd(e,t,n,o,i,r,s){if(t==="innerHTML"||t==="textContent"){o&&s(o,i,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const u=a==="OPTION"?e.getAttribute("value"):e.value,h=n??"";u!==h&&(e.value=h),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Wa(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function cn(e,t,n,o){e.addEventListener(t,n,o)}function Ud(e,t,n,o){e.removeEventListener(t,n,o)}function Hd(e,t,n,o,i=null){const r=e._vei||(e._vei={}),s=r[t];if(o&&s)s.value=o;else{const[a,l]=Wd(t);if(o){const u=r[t]=Gd(o,i);cn(e,a,u,l)}else s&&(Ud(e,a,s,l),r[t]=void 0)}}const va=/(?:Once|Passive|Capture)$/;function Wd(e){let t;if(va.test(e)){t={};let o;for(;o=e.match(va);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):qn(e.slice(2)),t]}let Br=0;const Zd=Promise.resolve(),qd=()=>Br||(Zd.then(()=>Br=0),Br=Date.now());function Gd(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Ut(Kd(o,n.value),t,5,[o])};return n.value=e,n.attached=qd(),n}function Kd(e,t){if(Le(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>i=>!i._stopped&&o&&o(i))}else return t}const ya=/^on[a-z]/,Xd=(e,t,n,o,i=!1,r,s,a,l)=>{t==="class"?Nd(e,o,i):t==="style"?Rd(e,n,o):qi(t)?os(t)||Hd(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Yd(e,t,o,i))?Vd(e,t,o,r,s,a,l):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),jd(e,t,o,i))};function Yd(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&ya.test(t)&&Ve(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ya.test(t)&&mt(n)?!1:t in e}const Cn="transition",ko="animation",Xo=(e,{slots:t})=>Es(Wu,Jd(e),t);Xo.displayName="Transition";const Rl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Xo.props=_t({},bl,Rl);const Bn=(e,t=[])=>{Le(e)?e.forEach(n=>n(...t)):e&&e(...t)},ba=e=>e?Le(e)?e.some(t=>t.length>1):e.length>1:!1;function Jd(e){const t={};for(const I in e)I in Rl||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:o,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=s,appearToClass:h=a,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,v=Qd(i),f=v&&v[0],b=v&&v[1],{onBeforeEnter:y,onEnter:S,onEnterCancelled:P,onLeave:T,onLeaveCancelled:D,onBeforeAppear:X=y,onAppear:F=S,onAppearCancelled:L=P}=t,x=(I,U,p)=>{Ln(I,U?h:a),Ln(I,U?u:s),p&&p()},H=(I,U)=>{I._isLeaving=!1,Ln(I,m),Ln(I,d),Ln(I,g),U&&U()},se=I=>(U,p)=>{const Q=I?F:S,ye=()=>x(U,I,p);Bn(Q,[U,ye]),_a(()=>{Ln(U,I?l:r),Sn(U,I?h:a),ba(Q)||wa(U,o,f,ye)})};return _t(t,{onBeforeEnter(I){Bn(y,[I]),Sn(I,r),Sn(I,s)},onBeforeAppear(I){Bn(X,[I]),Sn(I,l),Sn(I,u)},onEnter:se(!1),onAppear:se(!0),onLeave(I,U){I._isLeaving=!0;const p=()=>H(I,U);Sn(I,m),nf(),Sn(I,g),_a(()=>{I._isLeaving&&(Ln(I,m),Sn(I,d),ba(T)||wa(I,o,b,p))}),Bn(T,[I,p])},onEnterCancelled(I){x(I,!1),Bn(P,[I])},onAppearCancelled(I){x(I,!0),Bn(L,[I])},onLeaveCancelled(I){H(I),Bn(D,[I])}})}function Qd(e){if(e==null)return null;if(it(e))return[Lr(e.enter),Lr(e.leave)];{const t=Lr(e);return[t,t]}}function Lr(e){return Bc(e)}function Sn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ln(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function _a(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ef=0;function wa(e,t,n,o){const i=e._endId=++ef,r=()=>{i===e._endId&&o()};if(n)return setTimeout(r,n);const{type:s,timeout:a,propCount:l}=tf(e,t);if(!s)return o();const u=s+"end";let h=0;const m=()=>{e.removeEventListener(u,g),r()},g=d=>{d.target===e&&++h>=l&&m()};setTimeout(()=>{h<l&&m()},a+1),e.addEventListener(u,g)}function tf(e,t){const n=window.getComputedStyle(e),o=v=>(n[v]||"").split(", "),i=o(`${Cn}Delay`),r=o(`${Cn}Duration`),s=Ca(i,r),a=o(`${ko}Delay`),l=o(`${ko}Duration`),u=Ca(a,l);let h=null,m=0,g=0;t===Cn?s>0&&(h=Cn,m=s,g=r.length):t===ko?u>0&&(h=ko,m=u,g=l.length):(m=Math.max(s,u),h=m>0?s>u?Cn:ko:null,g=h?h===Cn?r.length:l.length:0);const d=h===Cn&&/\b(transform|all)(,|$)/.test(o(`${Cn}Property`).toString());return{type:h,timeout:m,propCount:g,hasTransform:d}}function Ca(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Sa(n)+Sa(e[o])))}function Sa(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function nf(){return document.body.offsetHeight}const Dn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Le(t)?n=>zi(t,n):t};function of(e){e.target.composing=!0}function Ia(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xa={created(e,{modifiers:{lazy:t,trim:n,number:o}},i){e._assign=Dn(i);const r=o||i.props&&i.props.type==="number";cn(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Bi(a)),e._assign(a)}),n&&cn(e,"change",()=>{e.value=e.value.trim()}),t||(cn(e,"compositionstart",of),cn(e,"compositionend",Ia),cn(e,"change",Ia))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:i}},r){if(e._assign=Dn(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===t||(i||e.type==="number")&&Bi(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},Os={deep:!0,created(e,t,n){e._assign=Dn(n),cn(e,"change",()=>{const o=e._modelValue,i=ho(e),r=e.checked,s=e._assign;if(Le(o)){const a=ss(o,i),l=a!==-1;if(r&&!l)s(o.concat(i));else if(!r&&l){const u=[...o];u.splice(a,1),s(u)}}else if(mo(o)){const a=new Set(o);r?a.add(i):a.delete(i),s(a)}else s(Fl(e,r))})},mounted:Ea,beforeUpdate(e,t,n){e._assign=Dn(n),Ea(e,t,n)}};function Ea(e,{value:t,oldValue:n},o){e._modelValue=t,Le(t)?e.checked=ss(t,o.props.value)>-1:mo(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=Hn(t,Fl(e,!0)))}const rf={created(e,{value:t},n){e.checked=Hn(t,n.props.value),e._assign=Dn(n),cn(e,"change",()=>{e._assign(ho(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e._assign=Dn(o),t!==n&&(e.checked=Hn(t,o.props.value))}},ks={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=mo(t);cn(e,"change",()=>{const r=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Bi(ho(s)):ho(s));e._assign(e.multiple?i?new Set(r):r:r[0])}),e._assign=Dn(o)},mounted(e,{value:t}){Oa(e,t)},beforeUpdate(e,t,n){e._assign=Dn(n)},updated(e,{value:t}){Oa(e,t)}};function Oa(e,t){const n=e.multiple;if(!(n&&!Le(t)&&!mo(t))){for(let o=0,i=e.options.length;o<i;o++){const r=e.options[o],s=ho(r);if(n)Le(t)?r.selected=ss(t,s)>-1:r.selected=t.has(s);else if(Hn(ho(r),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ho(e){return"_value"in e?e._value:e.value}function Fl(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const jl={created(e,t,n){Oi(e,t,n,null,"created")},mounted(e,t,n){Oi(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){Oi(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){Oi(e,t,n,o,"updated")}};function sf(e,t){switch(e){case"SELECT":return ks;case"TEXTAREA":return xa;default:switch(t){case"checkbox":return Os;case"radio":return rf;default:return xa}}}function Oi(e,t,n,o,i){const s=sf(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,o)}const af=["ctrl","shift","alt","meta"],lf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>af.some(n=>e[`${n}Key`]&&!t.includes(n))},Wn=(e,t)=>(n,...o)=>{for(let i=0;i<t.length;i++){const r=lf[t[i]];if(r&&r(n,t))return}return e(n,...o)},cf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kn=(e,t)=>n=>{if(!("key"in n))return;const o=qn(n.key);if(t.some(i=>i===o||cf[i]===o))return e(n)},uf=_t({patchProp:Xd},Ld);let ka;function df(){return ka||(ka=vd(uf))}const ff=(...e)=>{const t=df().createApp(...e),{mount:n}=t;return t.mount=o=>{const i=hf(o);if(!i)return;const r=t._component;!Ve(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function hf(e){return mt(e)?document.querySelector(e):e}var pf=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Vl;const lr=e=>Vl=e,Ul=Symbol();function Yr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Mo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Mo||(Mo={}));function mf(){const e=Ga(!0),t=e.run(()=>He({}));let n=[],o=[];const i=Ji({install(r){lr(i),i._a=r,r.provide(Ul,i),r.config.globalProperties.$pinia=i,o.forEach(s=>n.push(s)),o=[]},use(r){return!this._a&&!pf?o.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Hl=()=>{};function $a(e,t,n,o=Hl){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),o())};return!n&&Ka()&&Wc(i),i}function oo(e,...t){e.slice().forEach(n=>{n(...t)})}const gf=e=>e();function Jr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],i=e[n];Yr(i)&&Yr(o)&&e.hasOwnProperty(n)&&!ft(o)&&!dn(o)?e[n]=Jr(i,o):e[n]=o}return e}const vf=Symbol();function yf(e){return!Yr(e)||!e.hasOwnProperty(vf)}const{assign:In}=Object;function bf(e){return!!(ft(e)&&e.effect)}function _f(e,t,n,o){const{state:i,actions:r,getters:s}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=i?i():{});const h=Iu(n.state.value[e]);return In(h,r,Object.keys(s||{}).reduce((m,g)=>(m[g]=Ji(tt(()=>{lr(n);const d=n._s.get(e);return s[g].call(d,d)})),m),{}))}return l=Wl(e,u,t,n,o,!0),l}function Wl(e,t,n={},o,i,r){let s;const a=In({actions:{}},n),l={deep:!0};let u,h,m=[],g=[],d;const v=o.state.value[e];!r&&!v&&(o.state.value[e]={}),He({});let f;function b(L){let x;u=h=!1,typeof L=="function"?(L(o.state.value[e]),x={type:Mo.patchFunction,storeId:e,events:d}):(Jr(o.state.value[e],L),x={type:Mo.patchObject,payload:L,storeId:e,events:d});const H=f=Symbol();er().then(()=>{f===H&&(u=!0)}),h=!0,oo(m,x,o.state.value[e])}const y=r?function(){const{state:x}=n,H=x?x():{};this.$patch(se=>{In(se,H)})}:Hl;function S(){s.stop(),m=[],g=[],o._s.delete(e)}function P(L,x){return function(){lr(o);const H=Array.from(arguments),se=[],I=[];function U(ye){se.push(ye)}function p(ye){I.push(ye)}oo(g,{args:H,name:L,store:D,after:U,onError:p});let Q;try{Q=x.apply(this&&this.$id===e?this:D,H)}catch(ye){throw oo(I,ye),ye}return Q instanceof Promise?Q.then(ye=>(oo(se,ye),ye)).catch(ye=>(oo(I,ye),Promise.reject(ye))):(oo(se,Q),Q)}}const T={_p:o,$id:e,$onAction:$a.bind(null,g),$patch:b,$reset:y,$subscribe(L,x={}){const H=$a(m,L,x.detached,()=>se()),se=s.run(()=>fn(()=>o.state.value[e],I=>{(x.flush==="sync"?h:u)&&L({storeId:e,type:Mo.direct,events:d},I)},In({},l,x)));return H},$dispose:S},D=Yi(T);o._s.set(e,D);const X=o._a&&o._a.runWithContext||gf,F=o._e.run(()=>(s=Ga(),X(()=>s.run(t))));for(const L in F){const x=F[L];if(ft(x)&&!bf(x)||dn(x))r||(v&&yf(x)&&(ft(x)?x.value=v[L]:Jr(x,v[L])),o.state.value[e][L]=x);else if(typeof x=="function"){const H=P(L,x);F[L]=H,a.actions[L]=x}}return In(D,F),In(qe(D),F),Object.defineProperty(D,"$state",{get:()=>o.state.value[e],set:L=>{b(x=>{In(x,L)})}}),o._p.forEach(L=>{In(D,s.run(()=>L({store:D,app:o._a,pinia:o,options:a})))}),v&&r&&n.hydrate&&n.hydrate(D.$state,v),u=!0,h=!0,D}function cr(e,t,n){let o,i;const r=typeof t=="function";typeof e=="string"?(o=e,i=r?n:t):(i=e,o=e.id);function s(a,l){const u=dd();return a=a||(u?Ao(Ul,null):null),a&&lr(a),a=Vl,a._s.has(o)||(r?Wl(o,t,i,a):_f(o,i,a)),a._s.get(o)}return s.$id=o,s}function Zo(e){{e=qe(e);const t={};for(const n in e){const o=e[n];(ft(o)||dn(o))&&(t[n]=Ou(e,n))}return t}}/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var wf={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M464 16c-17.67 0-32 14.31-32 32v74.09C392.1 66.52 327.4 32 256 32C161.5 32 78.59 92.34 49.58 182.2c-5.438 16.81 3.797 34.88 20.61 40.28c16.89 5.5 34.88-3.812 40.3-20.59C130.9 138.5 189.4 96 256 96c50.5 0 96.26 24.55 124.4 64H336c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32V48C496 30.31 481.7 16 464 16zM441.8 289.6c-16.92-5.438-34.88 3.812-40.3 20.59C381.1 373.5 322.6 416 256 416c-50.5 0-96.25-24.55-124.4-64H176c17.67 0 32-14.31 32-32s-14.33-32-32-32h-128c-17.67 0-32 14.31-32 32v144c0 17.69 14.33 32 32 32s32-14.31 32-32v-74.09C119.9 445.5 184.6 480 255.1 480c94.45 0 177.4-60.34 206.4-150.2C467.9 313 458.6 294.1 441.8 289.6z"]},Zl={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM99.5 144.8C77.15 176.1 64 214.5 64 256C64 362 149.1 448 256 448C297.5 448 335.9 434.9 367.2 412.5L99.5 144.8zM448 256C448 149.1 362 64 256 64C214.5 64 176.1 77.15 144.8 99.5L412.5 367.2C434.9 335.9 448 297.5 448 256V256z"]},Cf={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"]},Sf={prefix:"fas",iconName:"bug",icon:[512,512,[],"f188","M352 96V99.56C352 115.3 339.3 128 323.6 128H188.4C172.7 128 159.1 115.3 159.1 99.56V96C159.1 42.98 202.1 0 255.1 0C309 0 352 42.98 352 96zM41.37 105.4C53.87 92.88 74.13 92.88 86.63 105.4L150.6 169.4C151.3 170 151.9 170.7 152.5 171.4C166.8 164.1 182.9 160 199.1 160H312C329.1 160 345.2 164.1 359.5 171.4C360.1 170.7 360.7 170 361.4 169.4L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L406.6 214.6C405.1 215.3 405.3 215.9 404.6 216.5C410.7 228.5 414.6 241.9 415.7 256H480C497.7 256 512 270.3 512 288C512 305.7 497.7 320 480 320H416C416 344.6 410.5 367.8 400.6 388.6C402.7 389.9 404.8 391.5 406.6 393.4L470.6 457.4C483.1 469.9 483.1 490.1 470.6 502.6C458.1 515.1 437.9 515.1 425.4 502.6L362.3 439.6C337.8 461.4 306.5 475.8 272 479.2V240C272 231.2 264.8 224 255.1 224C247.2 224 239.1 231.2 239.1 240V479.2C205.5 475.8 174.2 461.4 149.7 439.6L86.63 502.6C74.13 515.1 53.87 515.1 41.37 502.6C28.88 490.1 28.88 469.9 41.37 457.4L105.4 393.4C107.2 391.5 109.3 389.9 111.4 388.6C101.5 367.8 96 344.6 96 320H32C14.33 320 0 305.7 0 288C0 270.3 14.33 256 32 256H96.3C97.38 241.9 101.3 228.5 107.4 216.5C106.7 215.9 106 215.3 105.4 214.6L41.37 150.6C28.88 138.1 28.88 117.9 41.37 105.4H41.37z"]},ql={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},Gl={prefix:"fas",iconName:"code-branch",icon:[448,512,[],"f126","M160 80C160 112.8 140.3 140.1 112 153.3V241.1C130.8 230.2 152.7 224 176 224H272C307.3 224 336 195.3 336 160V153.3C307.7 140.1 288 112.8 288 80C288 35.82 323.8 0 368 0C412.2 0 448 35.82 448 80C448 112.8 428.3 140.1 400 153.3V160C400 230.7 342.7 288 272 288H176C140.7 288 112 316.7 112 352V358.7C140.3 371 160 399.2 160 432C160 476.2 124.2 512 80 512C35.82 512 0 476.2 0 432C0 399.2 19.75 371 48 358.7V153.3C19.75 140.1 0 112.8 0 80C0 35.82 35.82 0 80 0C124.2 0 160 35.82 160 80V80zM80 104C93.25 104 104 93.25 104 80C104 66.75 93.25 56 80 56C66.75 56 56 66.75 56 80C56 93.25 66.75 104 80 104zM368 56C354.7 56 344 66.75 344 80C344 93.25 354.7 104 368 104C381.3 104 392 93.25 392 80C392 66.75 381.3 56 368 56zM80 456C93.25 456 104 445.3 104 432C104 418.7 93.25 408 80 408C66.75 408 56 418.7 56 432C56 445.3 66.75 456 80 456z"]},If={prefix:"fas",iconName:"compress",icon:[448,512,[],"f066","M128 320H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32v-96C160 334.3 145.7 320 128 320zM416 320h-96c-17.69 0-32 14.31-32 32v96c0 17.69 14.31 32 32 32s32-14.31 32-32v-64h64c17.69 0 32-14.31 32-32S433.7 320 416 320zM320 192h96c17.69 0 32-14.31 32-32s-14.31-32-32-32h-64V64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96C288 177.7 302.3 192 320 192zM128 32C110.3 32 96 46.31 96 64v64H32C14.31 128 0 142.3 0 160s14.31 32 32 32h96c17.69 0 32-14.31 32-32V64C160 46.31 145.7 32 128 32z"]},xf={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M128 32H32C14.31 32 0 46.31 0 64v96c0 17.69 14.31 32 32 32s32-14.31 32-32V96h64c17.69 0 32-14.31 32-32S145.7 32 128 32zM416 32h-96c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32V64C448 46.31 433.7 32 416 32zM128 416H64v-64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96c0 17.69 14.31 32 32 32h96c17.69 0 32-14.31 32-32S145.7 416 128 416zM416 320c-17.69 0-32 14.31-32 32v64h-64c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c17.69 0 32-14.31 32-32v-96C448 334.3 433.7 320 416 320z"]},Kl={prefix:"fas",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H224V128C224 145.7 238.3 160 256 160H384V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM256 128V0L384 128H256z"]},Ef={prefix:"fas",iconName:"forward-step",icon:[320,512,["step-forward"],"f051","M287.1 447.1c17.67 0 31.1-14.33 31.1-32V96.03c0-17.67-14.33-32-32-32c-17.67 0-31.1 14.33-31.1 31.1v319.9C255.1 433.6 270.3 447.1 287.1 447.1zM52.51 440.6l192-159.1c7.625-6.436 11.43-15.53 11.43-24.62c0-9.094-3.809-18.18-11.43-24.62l-192-159.1C31.88 54.28 0 68.66 0 96.03v319.9C0 443.3 31.88 457.7 52.51 440.6z"]},Of={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M286.3 155.1C287.4 161.9 288 168.9 288 175.1C288 183.1 287.4 190.1 286.3 196.9L308.5 216.7C315.5 223 318.4 232.1 314.7 241.7C312.4 246.1 309.9 252.2 307.1 257.2L304 262.6C300.1 267.6 297.7 272.4 294.2 277.1C288.5 284.7 278.5 287.2 269.5 284.2L241.2 274.9C230.5 283.8 218.3 290.9 205 295.9L198.1 324.9C197 334.2 189.8 341.6 180.4 342.8C173.7 343.6 166.9 344 160 344C153.1 344 146.3 343.6 139.6 342.8C130.2 341.6 122.1 334.2 121 324.9L114.1 295.9C101.7 290.9 89.5 283.8 78.75 274.9L50.53 284.2C41.54 287.2 31.52 284.7 25.82 277.1C22.28 272.4 18.98 267.5 15.94 262.5L12.92 257.2C10.13 252.2 7.592 247 5.324 241.7C1.62 232.1 4.458 223 11.52 216.7L33.7 196.9C32.58 190.1 31.1 183.1 31.1 175.1C31.1 168.9 32.58 161.9 33.7 155.1L11.52 135.3C4.458 128.1 1.62 119 5.324 110.3C7.592 104.1 10.13 99.79 12.91 94.76L15.95 89.51C18.98 84.46 22.28 79.58 25.82 74.89C31.52 67.34 41.54 64.83 50.53 67.79L78.75 77.09C89.5 68.25 101.7 61.13 114.1 56.15L121 27.08C122.1 17.8 130.2 10.37 139.6 9.231C146.3 8.418 153.1 8 160 8C166.9 8 173.7 8.418 180.4 9.23C189.8 10.37 197 17.8 198.1 27.08L205 56.15C218.3 61.13 230.5 68.25 241.2 77.09L269.5 67.79C278.5 64.83 288.5 67.34 294.2 74.89C297.7 79.56 300.1 84.42 304 89.44L307.1 94.83C309.9 99.84 312.4 105 314.7 110.3C318.4 119 315.5 128.1 308.5 135.3L286.3 155.1zM160 127.1C133.5 127.1 112 149.5 112 175.1C112 202.5 133.5 223.1 160 223.1C186.5 223.1 208 202.5 208 175.1C208 149.5 186.5 127.1 160 127.1zM484.9 478.3C478.1 479.4 471.1 480 464 480C456.9 480 449.9 479.4 443.1 478.3L423.3 500.5C416.1 507.5 407 510.4 398.3 506.7C393 504.4 387.8 501.9 382.8 499.1L377.4 496C372.4 492.1 367.6 489.7 362.9 486.2C355.3 480.5 352.8 470.5 355.8 461.5L365.1 433.2C356.2 422.5 349.1 410.3 344.1 397L315.1 390.1C305.8 389 298.4 381.8 297.2 372.4C296.4 365.7 296 358.9 296 352C296 345.1 296.4 338.3 297.2 331.6C298.4 322.2 305.8 314.1 315.1 313L344.1 306.1C349.1 293.7 356.2 281.5 365.1 270.8L355.8 242.5C352.8 233.5 355.3 223.5 362.9 217.8C367.6 214.3 372.5 210.1 377.5 207.9L382.8 204.9C387.8 202.1 392.1 199.6 398.3 197.3C407 193.6 416.1 196.5 423.3 203.5L443.1 225.7C449.9 224.6 456.9 224 464 224C471.1 224 478.1 224.6 484.9 225.7L504.7 203.5C511 196.5 520.1 193.6 529.7 197.3C535 199.6 540.2 202.1 545.2 204.9L550.5 207.9C555.5 210.1 560.4 214.3 565.1 217.8C572.7 223.5 575.2 233.5 572.2 242.5L562.9 270.8C571.8 281.5 578.9 293.7 583.9 306.1L612.9 313C622.2 314.1 629.6 322.2 630.8 331.6C631.6 338.3 632 345.1 632 352C632 358.9 631.6 365.7 630.8 372.4C629.6 381.8 622.2 389 612.9 390.1L583.9 397C578.9 410.3 571.8 422.5 562.9 433.2L572.2 461.5C575.2 470.5 572.7 480.5 565.1 486.2C560.4 489.7 555.6 492.1 550.6 496L545.2 499.1C540.2 501.9 534.1 504.4 529.7 506.7C520.1 510.4 511 507.5 504.7 500.5L484.9 478.3zM512 352C512 325.5 490.5 304 464 304C437.5 304 416 325.5 416 352C416 378.5 437.5 400 464 400C490.5 400 512 378.5 512 352z"]},kf={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},$f={prefix:"fas",iconName:"magnet",icon:[448,512,[129522],"f076","M128 160V256C128 309 170.1 352 224 352C277 352 320 309 320 256V160H448V256C448 379.7 347.7 480 224 480C100.3 480 0 379.7 0 256V160H128zM0 64C0 46.33 14.33 32 32 32H96C113.7 32 128 46.33 128 64V128H0V64zM320 64C320 46.33 334.3 32 352 32H416C433.7 32 448 46.33 448 64V128H320V64z"]},$s={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M160 352h192V160H160V352zM448 176h48C504.8 176 512 168.8 512 160s-7.162-16-16-16H448V128c0-35.35-28.65-64-64-64h-16V16C368 7.164 360.8 0 352 0c-8.836 0-16 7.164-16 16V64h-64V16C272 7.164 264.8 0 256 0C247.2 0 240 7.164 240 16V64h-64V16C176 7.164 168.8 0 160 0C151.2 0 144 7.164 144 16V64H128C92.65 64 64 92.65 64 128v16H16C7.164 144 0 151.2 0 160s7.164 16 16 16H64v64H16C7.164 240 0 247.2 0 256s7.164 16 16 16H64v64H16C7.164 336 0 343.2 0 352s7.164 16 16 16H64V384c0 35.35 28.65 64 64 64h16v48C144 504.8 151.2 512 160 512c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448H384c35.35 0 64-28.65 64-64v-16h48c8.838 0 16-7.164 16-16s-7.162-16-16-16H448v-64h48C504.8 272 512 264.8 512 256s-7.162-16-16-16H448V176zM384 368c0 8.836-7.162 16-16 16h-224C135.2 384 128 376.8 128 368v-224C128 135.2 135.2 128 144 128h224C376.8 128 384 135.2 384 144V368z"]},Pf={prefix:"fas",iconName:"minus",icon:[448,512,[8722,10134,8211,"subtract"],"f068","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"]},Df={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 255.1C512 256.9 511.1 257.8 511.1 258.7C511.6 295.2 478.4 319.1 441.9 319.1H344C317.5 319.1 296 341.5 296 368C296 371.4 296.4 374.7 297 377.9C299.2 388.1 303.5 397.1 307.9 407.8C313.9 421.6 320 435.3 320 449.8C320 481.7 298.4 510.5 266.6 511.8C263.1 511.9 259.5 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256V255.1zM96 255.1C78.33 255.1 64 270.3 64 287.1C64 305.7 78.33 319.1 96 319.1C113.7 319.1 128 305.7 128 287.1C128 270.3 113.7 255.1 96 255.1zM128 191.1C145.7 191.1 160 177.7 160 159.1C160 142.3 145.7 127.1 128 127.1C110.3 127.1 96 142.3 96 159.1C96 177.7 110.3 191.1 128 191.1zM256 63.1C238.3 63.1 224 78.33 224 95.1C224 113.7 238.3 127.1 256 127.1C273.7 127.1 288 113.7 288 95.1C288 78.33 273.7 63.1 256 63.1zM384 191.1C401.7 191.1 416 177.7 416 159.1C416 142.3 401.7 127.1 384 127.1C366.3 127.1 352 142.3 352 159.1C352 177.7 366.3 191.1 384 191.1z"]},zf={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M272 63.1l-32 0c-26.51 0-48 21.49-48 47.1v288c0 26.51 21.49 48 48 48L272 448c26.51 0 48-21.49 48-48v-288C320 85.49 298.5 63.1 272 63.1zM80 63.1l-32 0c-26.51 0-48 21.49-48 48v288C0 426.5 21.49 448 48 448l32 0c26.51 0 48-21.49 48-48v-288C128 85.49 106.5 63.1 80 63.1z"]},Af={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]},Tf={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},Mf={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"]},Bf={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.84 0-95.17-15.58-134.2-44.86c-14.12-10.59-16.97-30.66-6.375-44.81c10.59-14.12 30.62-16.94 44.81-6.375c27.84 20.91 61 31.94 95.88 31.94C344.3 415.8 416 344.1 416 256s-71.69-159.8-159.8-159.8c-37.46 0-73.09 13.49-101.3 36.64l45.12 45.14c17.01 17.02 4.955 46.1-19.1 46.1H35.17C24.58 224.1 16 215.5 16 204.9V59.04c0-24.04 29.07-36.08 46.07-19.07l47.6 47.63C149.9 52.71 201.5 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"]},Lf=Bf,Nf={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M468.9 32.11c13.87 0 27.18 10.77 27.18 27.04v145.9c0 10.59-8.584 19.17-19.17 19.17h-145.7c-16.28 0-27.06-13.32-27.06-27.2c0-6.634 2.461-13.4 7.96-18.9l45.12-45.14c-28.22-23.14-63.85-36.64-101.3-36.64c-88.09 0-159.8 71.69-159.8 159.8S167.8 415.9 255.9 415.9c73.14 0 89.44-38.31 115.1-38.31c18.48 0 31.97 15.04 31.97 31.96c0 35.04-81.59 70.41-147 70.41c-123.4 0-223.9-100.5-223.9-223.9S132.6 32.44 256 32.44c54.6 0 106.2 20.39 146.4 55.26l47.6-47.63C455.5 34.57 462.3 32.11 468.9 32.11z"]},Rf=Nf,Ff={prefix:"fas",iconName:"scissors",icon:[512,512,[9986,9988,9984,"cut"],"f0c4","M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"]},jf={prefix:"fas",iconName:"screwdriver-wrench",icon:[512,512,["tools"],"f7d9","M331.8 224.1c28.29 0 54.88 10.99 74.86 30.97l19.59 19.59c40.01-17.74 71.25-53.3 81.62-96.65c5.725-23.92 5.34-47.08 .2148-68.4c-2.613-10.88-16.43-14.51-24.34-6.604l-68.9 68.9h-75.6V97.2l68.9-68.9c7.912-7.912 4.275-21.73-6.604-24.34c-21.32-5.125-44.48-5.51-68.4 .2148c-55.3 13.23-98.39 60.22-107.2 116.4C224.5 128.9 224.2 137 224.3 145l82.78 82.86C315.2 225.1 323.5 224.1 331.8 224.1zM384 278.6c-23.16-23.16-57.57-27.57-85.39-13.9L191.1 158L191.1 95.99l-127.1-95.99L0 63.1l96 127.1l62.04 .0077l106.7 106.6c-13.67 27.82-9.251 62.23 13.91 85.39l117 117.1c14.62 14.5 38.21 14.5 52.71-.0016l52.75-52.75c14.5-14.5 14.5-38.08-.0016-52.71L384 278.6zM227.9 307L168.7 247.9l-148.9 148.9c-26.37 26.37-26.37 69.08 0 95.45C32.96 505.4 50.21 512 67.5 512s34.54-6.592 47.72-19.78l119.1-119.1C225.5 352.3 222.6 329.4 227.9 307zM64 472c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24S88 434.7 88 448C88 461.3 77.25 472 64 472z"]},Vf={prefix:"fas",iconName:"share",icon:[512,512,["arrow-turn-right","mail-forward"],"f064","M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"]},Uf={prefix:"fas",iconName:"table-cells",icon:[512,512,["th"],"f00a","M448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM152 96H64V160H152V96zM208 160H296V96H208V160zM448 96H360V160H448V96zM64 288H152V224H64V288zM296 224H208V288H296V224zM360 288H448V224H360V288zM152 352H64V416H152V352zM208 416H296V352H208V416zM448 352H360V416H448V352z"]},Hf={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},Wf={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M248.8 4.994C249.9 1.99 252.8 .0001 256 .0001C259.2 .0001 262.1 1.99 263.2 4.994L277.3 42.67L315 56.79C318 57.92 320 60.79 320 64C320 67.21 318 70.08 315 71.21L277.3 85.33L263.2 123C262.1 126 259.2 128 256 128C252.8 128 249.9 126 248.8 123L234.7 85.33L196.1 71.21C193.1 70.08 192 67.21 192 64C192 60.79 193.1 57.92 196.1 56.79L234.7 42.67L248.8 4.994zM427.4 14.06C446.2-4.686 476.6-4.686 495.3 14.06L529.9 48.64C548.6 67.38 548.6 97.78 529.9 116.5L148.5 497.9C129.8 516.6 99.38 516.6 80.64 497.9L46.06 463.3C27.31 444.6 27.31 414.2 46.06 395.4L427.4 14.06zM461.4 59.31L356.3 164.3L379.6 187.6L484.6 82.58L461.4 59.31zM7.491 117.2L64 96L85.19 39.49C86.88 34.98 91.19 32 96 32C100.8 32 105.1 34.98 106.8 39.49L128 96L184.5 117.2C189 118.9 192 123.2 192 128C192 132.8 189 137.1 184.5 138.8L128 160L106.8 216.5C105.1 221 100.8 224 96 224C91.19 224 86.88 221 85.19 216.5L64 160L7.491 138.8C2.985 137.1 0 132.8 0 128C0 123.2 2.985 118.9 7.491 117.2zM359.5 373.2L416 352L437.2 295.5C438.9 290.1 443.2 288 448 288C452.8 288 457.1 290.1 458.8 295.5L480 352L536.5 373.2C541 374.9 544 379.2 544 384C544 388.8 541 393.1 536.5 394.8L480 416L458.8 472.5C457.1 477 452.8 480 448 480C443.2 480 438.9 477 437.2 472.5L416 416L359.5 394.8C354.1 393.1 352 388.8 352 384C352 379.2 354.1 374.9 359.5 373.2z"]},Zf={prefix:"fas",iconName:"wave-square",icon:[640,512,[],"f83e","M476 480h-152c-19.88 0-36-16.12-36-36v-348H192v156c0 19.88-16.12 36-36 36H31.1C14.33 288 0 273.7 0 256s14.33-31.1 31.1-31.1H128v-156c0-19.88 16.12-36 36-36h152c19.88 0 36 16.12 36 36v348h96v-156c0-19.88 16.12-36 36-36h124C625.7 224 640 238.3 640 256s-14.33 32-31.1 32H512v156C512 463.9 495.9 480 476 480z"]},qf={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]},Gf={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]},yo=Gf,un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qr={exports:{}};(function(e,t){(function(n,o){o(t)})(un,function(n){var o,i,r="smooth-dnd-container-instance",s="smooth-dnd-draggable-wrapper",a="animated",l="__smooth_dnd_draggable_translation_value",u="__smooth_dnd_draggable_visibility_value",h="smooth-dnd-ghost",m="smooth-dnd-container",g="smooth-dnd-extra-size-for-insertion",d="smooth-dnd-stretcher-element",v="smooth-dnd-stretcher-instance",f="smooth-dnd-disable-touch-action",b="smooth-dnd-no-user-select",y="smooth-dnd-prevent-auto-scroll-class",S="smooth-dnd-drop-preview-default-class",P="smooth-dnd-drop-preview-inner-class",T="smooth-dnd-drop-preview-constant-class",D="smooth-dnd-drop-preview-flex-container-class",X=Object.freeze({containerInstance:r,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:s,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:a,translationValue:l,visibilityValue:u,ghostClass:h,containerClass:m,extraSizeForInsertion:g,stretcherElementClass:d,stretcherElementInstance:v,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:f,noUserSelectClass:b,preventAutoScrollClass:y,dropPlaceholderDefaultClass:S,dropPlaceholderInnerClass:P,dropPlaceholderWrapperClass:T,dropPlaceholderFlexContainerClass:D}),F={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function L(O){return(L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(O)}function x(O,k,$){return k in O?Object.defineProperty(O,k,{value:$,enumerable:!0,configurable:!0,writable:!0}):O[k]=$,O}function H(O){return function(k){if(Array.isArray(k)){for(var $=0,B=new Array(k.length);$<k.length;$++)B[$]=k[$];return B}}(O)||function(k){if(Symbol.iterator in Object(k)||Object.prototype.toString.call(k)==="[object Arguments]")return Array.from(k)}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i=o||(o={})).x="x",i.y="y",i.xy="xy";function se(O,k,$){return $==="x"?{left:Math.max(O.left,k.left),top:O.top,right:Math.min(O.right,k.right),bottom:O.bottom}:{left:O.left,top:Math.max(O.top,k.top),right:O.right,bottom:Math.min(O.bottom,k.bottom)}}function I(O){var k=window.getComputedStyle(O),$=k.overflow;if($==="auto"||$==="scroll")return o.xy;var B=k["overflow-x"],Z=B==="auto"||B==="scroll",oe=k["overflow-y"],pe=oe==="auto"||oe==="scroll";return Z&&pe?o.xy:Z?o.x:pe?o.y:null}function U(O,k){var $=window.getComputedStyle(O),B=$.overflow,Z=$["overflow-".concat(k)];return B==="auto"||B==="scroll"||Z==="auto"||Z==="scroll"}var p=function(O,k){return{left:Math.max(O.left,k.left),top:Math.max(O.top,k.top),right:Math.min(O.right,k.right),bottom:Math.min(O.bottom,k.bottom)}},Q=function(O){var k=O.getBoundingClientRect(),$={left:k.left,right:k.right,top:k.top,bottom:k.bottom};if(ee(O,"x")&&!ye(O,"x")){var B=$.right-$.left;$.right=$.right+O.scrollWidth-B}if(ee(O,"y")&&!ye(O,"y")){var Z=$.bottom-$.top;$.bottom=$.bottom+O.scrollHeight-Z}return $},ye=function(O,k){var $=window.getComputedStyle(O),B=$.overflow,Z=$["overflow-".concat(k)];return B==="auto"||B==="scroll"||B==="hidden"||Z==="auto"||Z==="scroll"||Z==="hidden"},ee=function(O,k){return k==="x"?O.scrollWidth>O.clientWidth:O.scrollHeight>O.clientHeight},Se=function(O,k){var $=O,B=k||Q(O);for($=O.parentElement;$;)ee($,"x")&&ye($,"x")&&(B=se(B,$.getBoundingClientRect(),"x")),ee($,"y")&&ye($,"y")&&(B=se(B,$.getBoundingClientRect(),"y")),$=$.parentElement;return B},ue=function(O,k){for(var $=O;$;){if($[r]){var B=function(){var Z=$[r];if(k.some(function(oe){return oe===Z}))return{v:Z}}();if(L(B)==="object")return B.v}$=$.parentElement}return null},he=function(O,k){for(var $=O;$;){if($.matches(k))return $;$=$.parentElement}return null},G=function(O,k){return-1<O.className.split(" ").map(function($){return $}).indexOf(k)},q=function(O,k){if(O){var $=O.className.split(" ").filter(function(B){return B});$.indexOf(k)===-1&&($.unshift(k),O.className=$.join(" "))}},Ce=function(O,k){if(O){var $=O.className.split(" ").filter(function(B){return B&&B!==k});O.className=$.join(" ")}},we=function(O,k){return O.removeChild(O.children[k])},te=function(O,k,$){$>=O.children.length?O.appendChild(k):O.insertBefore(k,O.children[$])},Ee=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},Re=function(O){if(O){var k=window.getComputedStyle(O);if(k)return k.cursor}return null};function Ie(O){return!(O.bottom<=O.top||O.right<=O.left)}function Be(O){var k=O.element,$=O.draggables;return function(B,Z){var oe=B,pe=oe.removedIndex,ce=oe.addedIndex,ve=oe.droppedElement,J=null;if(pe!==null&&(J=we(k,pe),$.splice(pe,1)),ce!==null){var re=window.document.createElement("div");re.className="".concat(s),re.appendChild(J&&J.firstElementChild?J.firstElementChild:ve),te(k,re,ce),ce>=$.length?$.push(re):$.splice(ce,0,re)}Z&&Z(B)}}var Ze=Object.freeze({domDropHandler:Be,reactDropHandler:function(){return{handler:function(){return function(O,k){k&&k(O)}}}}}),Ge={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(O){return"translate3d(".concat(O,"px, 0, 0)")}}},A={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(O){return"translate3d(0,".concat(O,"px, 0)")}}};function R(O,k,$){O[g]=0;var B=function(J){return{get:function(re,ge){return re[J[ge]||ge]},set:function(re,ge,ke){re[J[ge]]=J.setters[ge]?J.setters[ge](ke):ke}}}(k==="horizontal"?Ge:A),Z={translation:0};function oe(){pe(O),function(J){var re=J.getBoundingClientRect();Z.scaleX=J.offsetWidth?(re.right-re.left)/J.offsetWidth:1,Z.scaleY=J.offsetHeight?(re.bottom-re.top)/J.offsetHeight:1}(O)}function pe(J){Z.rect=Q(J);var re=Se(J,Z.rect);Ie(re)&&(Z.lastVisibleRect=Z.visibleRect),Z.visibleRect=re}function ce(J){var re=J;if(re.tagName){var ge=re.getBoundingClientRect();return k==="vertical"?ge.bottom-ge.top:ge.right-ge.left}return B.get(J,"size")*B.get(Z,"scale")}function ve(J){return B.get(J,"dragPosition")}return window.addEventListener("resize",function(){pe(O)}),setTimeout(function(){oe()},10),{getSize:ce,getContainerRectangles:function(){return{rect:Z.rect,visibleRect:Z.visibleRect,lastVisibleRect:Z.lastVisibleRect}},getBeginEndOfDOMRect:function(J){return{begin:B.get(J,"begin"),end:B.get(J,"end")}},getBeginEndOfContainer:function(){return{begin:B.get(Z.rect,"begin")+Z.translation,end:B.get(Z.rect,"end")+Z.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:B.get(Z.visibleRect,"begin")+Z.translation,end:B.get(Z.visibleRect,"end")+Z.translation}},getBeginEnd:function(J){var re=function(ge){return(B.get(ge,"distanceToParent")+(ge[l]||0))*B.get(Z,"scale")}(J)+(B.get(Z.rect,"begin")+Z.translation)-B.get(O,"scrollValue");return{begin:re,end:re+ce(J)*B.get(Z,"scale")}},getAxisValue:ve,setTranslation:function(J,re){re?B.set(J.style,"translate",re):J.style.removeProperty("transform"),J[l]=re},getTranslation:function(J){return J[l]},setVisibility:function(J,re){J[u]!==void 0&&J[u]===re||(re?J.style.removeProperty("visibility"):J.style.visibility="hidden",J[u]=re)},isVisible:function(J){return J[u]===void 0||J[u]},isInVisibleRect:function(J,re){var ge=Z.visibleRect,ke=ge.left,ze=ge.top,Me=ge.right,je=ge.bottom;je-ze<2&&(je=ze+30);var w=Z.rect;return k==="vertical"?J>w.left&&J<w.right&&ze<re&&re<je:ke<J&&J<Me&&re>w.top&&re<w.bottom},setSize:function(J,re){B.set(J,"setSize",re)},getTopLeftOfElementBegin:function(J){var re=0;return{top:k==="horizontal"?(re=J,Z.rect.top):(re=Z.rect.left,J),left:re}},getScrollSize:function(J){return B.get(J,"scrollSize")},getScrollValue:function(J){return B.get(J,"scrollValue")},setScrollValue:function(J,re){return B.set(J,"scrollValue",re)},invalidate:oe,invalidateRects:function(){pe(O)},getPosition:function(J){return ve(J)},setBegin:function(J,re){B.set(J,"begin",re)}}}function c(O,k,$){var B,Z,oe,pe=$.left,ce=$.right,ve=$.top,J=$.bottom,re=O.x,ge=O.y;if(re<pe||ce<re||ge<ve||J<ge)return null;oe=k==="x"?(B=pe,Z=ce,re):(B=ve,Z=J,ge);var ke=Z-B,ze=400<ke?100:ke/4;return Z-oe<ze?{direction:"end",speedFactor:(ze-(Z-oe))/ze}:oe-B<ze?{direction:"begin",speedFactor:(ze-(oe-B))/ze}:null}function M(O){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",$=null,B=null,Z=null,oe=null;return{animate:function(pe,ce){Z=pe,oe=ce,function ve(){$===null&&($=requestAnimationFrame(function(J){B===null&&(B=J);var re=J-B;B=J;var ge,ke,ze,Me=re/1e3*oe;ke=k,ze=Me=Z==="begin"?0-Me:Me,(ge=O)&&(ge!==window?ke==="x"?ge.scrollLeft+=ze:ge.scrollTop+=ze:ke==="x"?ge.scrollBy(ze,0):ge.scrollBy(0,ze)),$=null,ve()}))}()},stop:function(){$!==null&&(cancelAnimationFrame($),$=null),B=null}}}function z(O){return function(){return Se(O,O.getBoundingClientRect())}}var C,_,E,W=function(O){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,$=O.reduce(function(B,Z){var oe=function(pe){for(var ce=[],ve=pe.element;ve;){var J=I(ve);if(J&&!G(ve,y)){var re={};switch(J){case o.xy:re.x={animator:M(ve,"x")},re.y={animator:M(ve,"y")};break;case o.x:re.x={animator:M(ve,"x")};break;case o.y:re.y={animator:M(ve,"y")}}ce.push({axisAnimations:re,getRect:z(ve),scrollerElement:ve})}ve=ve.parentElement}return ce}(Z).filter(function(pe){return!B.find(function(ce){return ce.scrollerElement===pe.scrollerElement})});return[].concat(H(B),H(oe))},[]);return function(B){var Z=B.draggableInfo;if(B.reset)$.forEach(function(ce){ce.axisAnimations.x&&ce.axisAnimations.x.animator.stop(),ce.axisAnimations.y&&ce.axisAnimations.y.animator.stop()});else if(Z){(function(ce,ve){ce.forEach(function(J){var re=J.axisAnimations,ge=(0,J.getRect)();re.x&&(re.x.scrollParams=c(ve,"x",ge),J.cachedRect=ge),re.y&&(re.y.scrollParams=c(ve,"y",ge),J.cachedRect=ge)})})($,Z.mousePosition),$.forEach(function(ce){var ve=ce.axisAnimations,J=ve.x,re=ve.y;if(J)if(J.scrollParams){var ge=J.scrollParams,ke=ge.direction,ze=ge.speedFactor;J.animator.animate(ke,ze*k)}else J.animator.stop();if(re)if(re.scrollParams){var Me=re.scrollParams,je=Me.direction,w=Me.speedFactor;re.animator.animate(je,w*k)}else re.animator.stop()});var oe=$.filter(function(ce){return ce.cachedRect});if(oe.length&&1<oe.length){var pe=function(ce,ve){for(var J=document.elementFromPoint(ve.x,ve.y);J;){var re=ce.find(function(ge){return ge.scrollerElement===J});if(re)return re;J=J.parentElement}return null}(oe,Z.mousePosition);pe&&oe.forEach(function(ce){ce!==pe&&(ce.axisAnimations.x&&ce.axisAnimations.x.animator.stop(),ce.axisAnimations.y&&ce.axisAnimations.y.animator.stop())})}}}};typeof window<"u"&&((C=Element)&&C.prototype&&!C.prototype.matches&&(C.prototype.matches=C.prototype.matchesSelector||C.prototype.mozMatchesSelector||C.prototype.msMatchesSelector||C.prototype.oMatchesSelector||C.prototype.webkitMatchesSelector||function(O){for(var k=(this.document||this.ownerDocument).querySelectorAll(O),$=k.length;0<=--$&&k.item($)!==this;);return-1<$}),(_=Node||Element)&&_.prototype&&_.prototype.firstElementChild==null&&Object.defineProperty(_.prototype,"firstElementChild",{get:function(){for(var O,k=this.childNodes,$=0;O=k[$++];)if(O.nodeType===1)return O;return null}}),Array.prototype.some||(Array.prototype.some=function(O){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof O!="function")throw new TypeError;for(var k=Object(this),$=k.length>>>0,B=2<=arguments.length?arguments[1]:void 0,Z=0;Z<$;Z++)if(Z in k&&O.call(B,k[Z],Z,k))return!0;return!1}));var j={overflow:"hidden",display:"block"},N={height:"100%",display:"table-cell","vertical-align":"top"},Y=(x(E={},".".concat(m),{position:"relative","min-height":"30px","min-width":"30px"}),x(E,".".concat(m,".horizontal"),{display:"table"}),x(E,".".concat(m,".horizontal > .").concat(d),{display:"inline-block"}),x(E,".".concat(m,".horizontal > .").concat(s),N),x(E,".".concat(m,".vertical > .").concat(s),j),x(E,".".concat(s),{"box-sizing":"border-box"}),x(E,".".concat(s,".horizontal"),N),x(E,".".concat(s,".vertical"),j),x(E,".".concat(s,".animated"),{transition:"transform ease"}),x(E,".".concat(h),{"box-sizing":"border-box"}),x(E,".".concat(h,".animated"),{transition:"all ease-in-out"}),x(E,".".concat(h," *"),{"pointer-events":"none"}),x(E,".".concat(f," *"),{"touch-action":"none","-ms-touch-action":"none"}),x(E,".".concat(b),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),x(E,".".concat(P),{flex:"1"}),x(E,".".concat(m,".horizontal > .").concat(T),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),x(E,".".concat(m,".vertical > .").concat(T),{overflow:"hidden",display:"block",width:"100%"}),x(E,".".concat(D),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),x(E,".".concat(S),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),E);function ie(O){return Object.keys(O).reduce(function(k,$){var B=O[$];return L(B)==="object"?"".concat(k).concat($,"{").concat(ie(B),"}"):"".concat(k).concat($,":").concat(B,";")},"")}function ne(O){if(O&&typeof window<"u"){var k=window.document.head||window.document.getElementsByTagName("head")[0],$=window.document.createElement("style"),B=ie({"body *":{cursor:"".concat(O," !important")}});return $.type="text/css",$.styleSheet?$.styleSheet.cssText=B:$.appendChild(window.document.createTextNode(B)),k.appendChild($),$}return null}var me,Ae,$e=["mousedown","touchstart"],Ue=["mousemove","touchmove"],lt=["mouseup","touchend"],We=null,bt=null,Te=null,Pe=null,et=[],Qe=!1,zt=!1,Mt=!1,Xt=!1,Lt=null,St=null,Et=null,Nt=null,Yo=(me=null,Ae=!1,{start:function(){Ae||(Ae=!0,function O(){me=requestAnimationFrame(function(){We.forEach(function(k){return k.layout.invalidateRects()}),setTimeout(function(){me!==null&&O()},50)})}())},stop:function(){me!==null&&(cancelAnimationFrame(me),me=null),Ae=!1}}),pr=typeof window<"u"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function mr(){typeof window<"u"&&$e.forEach(function(O){window.document.addEventListener(O,vr,{passive:!1})})}function Jo(){return Pe&&Pe.ghostParent?Pe.ghostParent:bt&&bt.parentElement||window.document.body}var gn,Kn,Yt,Xn,So,Io,gr=(Xn=null,So=1,Io=5,function(O,k,$){gn=Jn(O),Yt=$,(Kn=typeof k=="number"?k:pr?200:0)&&(Xn=setTimeout(ti,Kn)),Ue.forEach(function(B){return window.document.addEventListener(B,Qo)},{passive:!1}),lt.forEach(function(B){return window.document.addEventListener(B,Rt)},{passive:!1}),window.document.addEventListener("drag",ei,{passive:!1})});function Qo(O){var k=Jn(O),$=k.clientX,B=k.clientY;if(Kn)(Math.abs(gn.clientX-$)>Io||Math.abs(gn.clientY-B)>Io)&&Yn();else if(Math.abs(gn.clientX-$)>So||Math.abs(gn.clientY-B)>So)return ti()}function Rt(){Yn()}function ei(){Yn()}function Yn(){clearTimeout(Xn),Ue.forEach(function(O){return window.document.removeEventListener(O,Qo)},{passive:!1}),lt.forEach(function(O){return window.document.removeEventListener(O,Rt)},{passive:!1}),window.document.removeEventListener("drag",ei,{passive:!1})}function ti(){clearTimeout(Xn),Yn(),Yt()}function vr(O){var k=Jn(O);if(!Qe&&(k.button===void 0||k.button===0)&&(bt=he(k.target,"."+s))){var $=he(bt,"."+m),B=et.filter(function(ce){return ce.element===$})[0],Z=B.getOptions().dragHandleSelector,oe=B.getOptions().nonDragAreaSelector,pe=!0;Z&&!he(k.target,Z)&&(pe=!1),oe&&he(k.target,oe)&&(pe=!1),pe&&(B.layout.invalidate(),q(window.document.body,f),q(window.document.body,b),window.document.addEventListener("mouseup",function ce(){Ce(window.document.body,f),Ce(window.document.body,b),window.document.removeEventListener("mouseup",ce)})),pe&&gr(k,B.getOptions().dragBeginDelay,function(){Ee(),li(k,Re(O.target)),Ue.forEach(function(ce){window.document.addEventListener(ce,ni,{passive:!1})}),lt.forEach(function(ce){window.document.addEventListener(ce,Jt,{passive:!1})})})}}function ni(O){O.preventDefault();var k=Jn(O);if(Pe){var $=Pe.container.getOptions();$.behaviour==="contain"?function(B){var Z,oe,pe,ce,ve=B.clientX,J=B.clientY,re=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",ge=Pe.container.layout.getBeginEndOfContainerVisibleRect();ce=re==="vertical"?(Z=J,oe="y",pe="top",Pe.size.offsetHeight):(Z=ve,oe="x",pe="left",Pe.size.offsetWidth);var ke=ge.begin,ze=ge.end-ce,Me=Math.max(ke,Math.min(ze,Z+Te.positionDelta[pe]));Te.topLeft[oe]=Me,Pe.position[oe]=Math.max(ge.begin,Math.min(ge.end,Z+Te.centerDelta[oe])),Pe.mousePosition[oe]=Math.max(ge.begin,Math.min(ge.end,Z)),Pe.position[oe]<ge.begin+ce/2&&(Pe.position[oe]=ge.begin+2),Pe.position[oe]>ge.end-ce/2&&(Pe.position[oe]=ge.end-2)}(k,$.orientation):Et?Et==="y"?(Te.topLeft.y=k.clientY+Te.positionDelta.top,Pe.position.y=k.clientY+Te.centerDelta.y,Pe.mousePosition.y=k.clientY):Et==="x"&&(Te.topLeft.x=k.clientX+Te.positionDelta.left,Pe.position.x=k.clientX+Te.centerDelta.x,Pe.mousePosition.x=k.clientX):(Te.topLeft.x=k.clientX+Te.positionDelta.left,Te.topLeft.y=k.clientY+Te.positionDelta.top,Pe.position.x=k.clientX+Te.centerDelta.x,Pe.position.y=k.clientY+Te.centerDelta.y,Pe.mousePosition.x=k.clientX,Pe.mousePosition.y=k.clientY),yn(),(Xt=!Lt(Pe))&&yr()}else li(k,Re(O.target))}var Ft,oi,ii,vn,yr=(Ft=ri,ii=!(oi=20),vn=null,function(){for(var O=arguments.length,k=new Array(O),$=0;$<O;$++)k[$]=arguments[$];vn&&clearTimeout(vn),ii&&!vn?Ft.call.apply(Ft,[null].concat(k)):vn=setTimeout(function(){vn=null,Ft.call.apply(Ft,[null].concat(k))},oi)});function ri(){Xt&&(Xt=!1,si(Pe,We))}function Jt(){Ue.forEach(function(O){window.document.removeEventListener(O,ni,{passive:!1})}),lt.forEach(function(O){window.document.removeEventListener(O,Jt,{passive:!1})}),St({reset:!0}),Nt&&(function(O){O&&typeof window<"u"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(O)}(Nt),Nt=null),Pe&&(Yo.stop(),ri(),Mt=!0,function(O){function k(){Ce(Te.ghost,"animated"),Te.ghost.style.transitionDuration=null,Jo().removeChild(Te.ghost),O()}function $(w,V,ae){var De=w.top,ct=w.left;q(Te.ghost,"animated"),ae&&q(Te.ghost.firstElementChild,ae),Te.topLeft.x=ct,Te.topLeft.y=De,yn(V),setTimeout(function(){k()},V+20)}function B(w,V){q(Te.ghost,"animated"),yn(w,.9,!0),setTimeout(function(){V()},w+20)}if(Pe.targetElement){var Z=et.filter(function(w){return w.element===Pe.targetElement})[0];!(je=Z.getOptions()).shouldAnimateDrop||je.shouldAnimateDrop(Pe.container.getOptions(),Pe.payload)?$(Z.getDragResult().shadowBeginEnd.rect,Math.max(150,Z.getOptions().animationDuration/2),Z.getOptions().dropClass):k()}else{var oe=et.filter(function(w){return w===Pe.container})[0];if(oe){var pe=oe.getOptions(),ce=pe.behaviour,ve=pe.removeOnDropOut;if(ce!=="move"&&ce!=="contain"||!zt&&ve||!oe.getDragResult())B(oe.getOptions().animationDuration,k);else{var J=oe.layout.getContainerRectangles();if(!Ie(J.visibleRect)&&Ie(J.lastVisibleRect))$({top:J.lastVisibleRect.top,left:J.lastVisibleRect.left},oe.getOptions().animationDuration,oe.getOptions().dropClass);else{var re=oe.getDragResult(),ge=re.removedIndex,ke=re.elementSize,ze=oe.layout;oe.getTranslateCalculator({dragResult:{removedIndex:ge,addedIndex:ge,elementSize:ke,pos:void 0,shadowBeginEnd:void 0}});var Me=0<ge?ze.getBeginEnd(oe.draggables[ge-1]).end:ze.getBeginEndOfContainer().begin;$(ze.getTopLeftOfElementBegin(Me),oe.getOptions().animationDuration,oe.getOptions().dropClass)}}}else B(F.animationDuration,k)}var je}(function(){ai(Qe=!1);for(var O=We||[],k=O.shift();k!==void 0;)k.handleDrop(Pe),k=O.shift();Lt=Et=Pe=Te=bt=We=null,Mt=!1}))}function Jn(O){return O.touches?O.touches[0]:O}function si(O,k){var $=!1;k.forEach(function(B){var Z=B.handleDrag(O);$=!!Z.containerBoxChanged||!1,Z.containerBoxChanged=!1}),$&&($=!1,requestAnimationFrame(function(){et.forEach(function(B){B.layout.invalidateRects(),B.onTranslated()})}))}function xo(O){var k=O,$=null;return function(B){return!($!==null||!Qe||Mt)&&($=requestAnimationFrame(function(){Qe&&!Mt&&(si(B,k),St({draggableInfo:B})),$=null}),!0)}}function Eo(O,k){return O.getOptions().autoScrollEnabled?W(k,O.getScrollMaxSpeed()):function($){return null}}function ai(O){et.forEach(function(k){var $=O?k.getOptions().onDragStart:k.getOptions().onDragEnd;if($){var B={isSource:k===Pe.container,payload:Pe.payload};k.isDragRelevant(Pe.container,Pe.payload)?B.willAcceptDrop=!0:B.willAcceptDrop=!1,$(B)}})}function li(O,k){if(bt!==null){Qe=!0;var $=et.filter(function(B){return bt.parentElement===B.element})[0];$.setDraggables(),Et=$.getOptions().lockAxis?$.getOptions().lockAxis.toLowerCase():null,Pe=function(B){var Z=et.filter(function(ve){return B.parentElement===ve.element})[0],oe=Z.draggables.indexOf(B),pe=Z.getOptions().getGhostParent,ce=B.getBoundingClientRect();return{container:Z,element:B,size:{offsetHeight:ce.bottom-ce.top,offsetWidth:ce.right-ce.left},elementIndex:oe,payload:Z.getOptions().getChildPayload?Z.getOptions().getChildPayload(oe):void 0,targetElement:null,position:{x:0,y:0},groupName:Z.getOptions().groupName,ghostParent:pe?pe():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(bt),Te=function(B,Z,oe,pe){var ce=Z.x,ve=Z.y,J=B.getBoundingClientRect(),re=J.left,ge=J.top,ke=J.right,ze=J.bottom,Me=p(oe.layout.getContainerRectangles().visibleRect,J),je=Me.left+(Me.right-Me.left)/2,w=Me.top+(Me.bottom-Me.top)/2,V=B.cloneNode(!0);return V.style.zIndex="1000",V.style.boxSizing="border-box",V.style.position="fixed",V.style.top="0px",V.style.left="0px",V.style.transform=null,V.style.removeProperty("transform"),oe.shouldUseTransformForGhost()?V.style.transform="translate3d(".concat(re,"px, ").concat(ge,"px, 0)"):(V.style.top="".concat(ge,"px"),V.style.left="".concat(re,"px")),V.style.width=ke-re+"px",V.style.height=ze-ge+"px",V.style.overflow="visible",V.style.transition=null,V.style.removeProperty("transition"),V.style.pointerEvents="none",V.style.userSelect="none",oe.getOptions().dragClass?setTimeout(function(){q(V.firstElementChild,oe.getOptions().dragClass);var ae=window.getComputedStyle(V.firstElementChild).cursor;Nt=ne(ae)}):Nt=ne(pe),q(V,oe.getOptions().orientation||"vertical"),q(V,h),{ghost:V,centerDelta:{x:je-ce,y:w-ve},positionDelta:{left:re-ce,top:ge-ve},topLeft:{x:re,y:ge}}}(bt,{x:O.clientX,y:O.clientY},Pe.container,k),Pe.position={x:O.clientX+Te.centerDelta.x,y:O.clientY+Te.centerDelta.y},Pe.mousePosition={x:O.clientX,y:O.clientY},We=et.filter(function(B){return B.isDragRelevant($,Pe.payload)}),Pe.relevantContainers=We,Lt=xo(We),St&&St({reset:!0,draggableInfo:void 0}),St=Eo($,We),We.forEach(function(B){return B.prepareDrag(B,We)}),ai(!0),Lt(Pe),Jo().appendChild(Te.ghost),Yo.start()}}var zn=null;function yn(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,$=2<arguments.length&&arguments[2]!==void 0&&arguments[2],B=Te,Z=B.ghost,oe=B.topLeft,pe=oe.x,ce=oe.y,ve=!Pe.container||Pe.container.shouldUseTransformForGhost(),J=ve?"translate3d(".concat(pe,"px,").concat(ce,"px, 0)"):null;if(k!==1&&(J=J?"".concat(J," scale(").concat(k,")"):"scale(".concat(k,")")),0<O)return Te.ghost.style.transitionDuration=O+"ms",void requestAnimationFrame(function(){J&&(Z.style.transform=J),ve||(Z.style.left=pe+"px",Z.style.top=ce+"px"),zn=null,$&&(Z.style.opacity="0")});zn===null&&(zn=requestAnimationFrame(function(){J&&(Z.style.transform=J),ve||(Z.style.left=pe+"px",Z.style.top=ce+"px"),zn=null,$&&(Z.style.opacity="0")}))}function br(){if(Qe&&!zt&&!Mt){Xt=!(zt=!0);var O=Object.assign({},Pe,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});We.forEach(function(k){k.handleDrag(O)}),Pe.targetElement=null,Pe.cancelDrop=!0,Jt(),zt=!1}}typeof window<"u"&&function(){if(typeof window<"u"){var O=window.document.head||window.document.getElementsByTagName("head")[0],k=window.document.createElement("style");k.id="smooth-dnd-style-definitions";var $=ie(Y);k.type="text/css",k.styleSheet?k.styleSheet.cssText=$:k.appendChild(window.document.createTextNode($)),O.appendChild(k)}}();var bn=(mr(),{register:function(O){(function(k){et.push(k),Qe&&Pe&&k.isDragRelevant(Pe.container,Pe.payload)&&(We.push(k),k.prepareDrag(k,We),St&&St({reset:!0,draggableInfo:void 0}),St=Eo(k,We),Lt=xo(We),k.handleDrag(Pe))})(O)},unregister:function(O){(function(k){if(et.splice(et.indexOf(k),1),Qe&&Pe){Pe.container===k&&k.fireRemoveElement(),Pe.targetElement===k.element&&(Pe.targetElement=null);var $=We.indexOf(k);-1<$&&(We.splice($,1),St&&St({reset:!0,draggableInfo:void 0}),St=Eo(k,We),Lt=xo(We))}})(O)},isDragging:function(){return Qe},cancelDrag:br});function ci(O,k){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:F.animationDuration;k?(q(O,a),O.style.transitionDuration=$+"ms"):(Ce(O,a),O.style.removeProperty("transition-duration"))}function ui(O){var k=[];return Array.prototype.forEach.call(O.children,function($){if($.nodeType===Node.ELEMENT_NODE){var B=$;G($,s)||(B=function(Z){if(It.wrapChild){var oe=window.document.createElement("div");return oe.className="".concat(s),Z.parentElement.insertBefore(oe,Z),oe.appendChild(Z),oe}return Z}($)),B[l]=0,k.push(B)}else O.removeChild($)}),k}function _r(O){var k=O.layout;return function($,B){var Z=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function oe(pe,ce,ve,J){var re=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(J<ve)return ve;if(ve===J){var ge=k.getBeginEnd(pe[ve]),ke=ge.begin,ze=ge.end;return re?ce<(ze+ke)/2?ve:ve+1:ve}var Me=Math.floor((J+ve)/2),je=k.getBeginEnd(pe[Me]),w=je.begin,V=je.end;return ce<w?oe(pe,ce,ve,Me-1,re):V<ce?oe(pe,ce,Me+1,J,re):re?ce<(V+w)/2?Me:Me+1:Me}($,B,0,$.length-1,Z)}}function wr(O){var k=O.element,$=O.draggables,B=O.layout,Z=O.getOptions,oe=function(ce){var ve=ce.element,J=ce.draggables,re=ce.layout;return function(){J.forEach(function(ge){ci(ge,!1),re.setTranslation(ge,0),re.setVisibility(ge,!0)}),ve[v]&&(ve[v].parentNode.removeChild(ve[v]),ve[v]=null)}}({element:k,draggables:$,layout:B,getOptions:Z}),pe=(It.dropHandler||Be)({element:k,draggables:$,layout:B,getOptions:Z});return function(ce,ve){var J=ve.addedIndex,re=ve.removedIndex,ge=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(oe(),!ce.cancelDrop&&(ce.targetElement||Z().removeOnDropOut||ge)){var ke={removedIndex:re,addedIndex:J!==null?re!==null&&re<J?J-1:J:null,payload:ce.payload};pe(ke,Z().onDrop)}}}function di(O){var k=O.element,$=O.getOptions,B=null;return function(Z){var oe=Z.draggableInfo,pe=B;return B==null&&oe.container.element===k&&$().behaviour!=="copy"&&(pe=B=oe.elementIndex),{removedIndex:pe}}}function fi(O){var k=O.draggables,$=O.layout;return function(B){var Z=B.dragResult;Z.removedIndex!==null&&$.setVisibility(k[Z.removedIndex],!1)}}function Qn(O){var k=O.element,$=O.layout;return function(B){var Z=B.draggableInfo,oe=document.elementFromPoint(Z.position.x,Z.position.y);if(oe){var pe=ue(oe,Z.relevantContainers);if(pe&&pe.element===k)return{pos:$.getPosition(Z.position)}}return{pos:null}}}function hi(O){var k=O.layout,$=null;return function(B){var Z=B.draggableInfo;return B.dragResult.pos===null?$=null:{elementSize:$=$||k.getSize(Z.size)}}}function pi(O){var k=O.element;return function($){var B=$.draggableInfo,Z=$.dragResult;(function(oe,pe){var ce=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];pe&&ce?oe.targetElement=pe:oe.targetElement===pe&&(oe.targetElement=null)})(B,k,!!Z.pos)}}function Cr(){return function(O){return O.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function Sr(O){var k=O.layout,$=null;return function(B){var Z=B.dragResult.addedIndex;if(Z===$)return null;$=Z;var oe=k.getBeginEndOfContainer(),pe=oe.begin;return oe.end,{shadowBeginEnd:{rect:k.getTopLeftOfElementBegin(pe)}}}}function Ir(O){var k=O.layout,$=O.element,B=O.getOptions,Z=null;return function(oe){var pe=oe.dragResult,ce=pe.elementSize,ve=pe.shadowBeginEnd,J=pe.addedIndex,re=pe.dropPlaceholderContainer,ge=B();if(ge.dropPlaceholder){var ke=typeof ge.dropPlaceholder=="boolean"?{}:ge.dropPlaceholder,ze=ke.animationDuration,Me=ke.className,je=ke.showOnTop;if(J===null)return re&&Z!==null&&$.removeChild(re),Z=null,{dropPlaceholderContainer:void 0};if(!re){var w=document.createElement("div"),V=document.createElement("div");V.className=D,w.className="".concat(P," ").concat(Me||S),(re=document.createElement("div")).className="".concat(T),re.style.position="absolute",ze!==void 0&&(re.style.transition="all ".concat(ze,"ms ease")),re.appendChild(V),V.appendChild(w),k.setSize(re.style,ce+"px"),re.style.pointerEvents="none",je?$.appendChild(re):$.insertBefore(re,$.firstElementChild)}return Z!==J&&ve.dropArea&&k.setBegin(re.style,ve.dropArea.begin-k.getBeginEndOfContainer().begin+"px"),Z=J,{dropPlaceholderContainer:re}}return null}}function xr(O){var k=An(O);return function($){var B=$.draggableInfo,Z=$.dragResult;return B.invalidateShadow?k({draggableInfo:B,dragResult:Z}):null}}function Er(O){var k=function($){var B=$.draggables,Z=_r({layout:$.layout});return function(oe){var pe=oe.dragResult,ce=pe.shadowBeginEnd,ve=pe.pos;if(ce)return ce.begin+ce.beginAdjustment<=ve&&ce.end>=ve?null:ve<ce.begin+ce.beginAdjustment?Z(B,ve):ve>ce.end?Z(B,ve)+1:B.length;var J=Z(B,ve,!0);return J!==null?J:B.length}}(O);return function($){var B=$.dragResult,Z=null;return B.pos!==null&&(Z=k({dragResult:B}))===null&&(Z=B.addedIndex),{addedIndex:Z}}}function mi(){var O=null;return function(k){var $=k.dragResult,B=$.addedIndex,Z=$.shadowBeginEnd;B!==O&&O!==null&&Z&&(Z.beginAdjustment=0),O=B}}function Or(O){var k=O.element,$=O.draggables,B=O.layout,Z=O.getOptions,oe=null;return function(pe){var ce=pe.dragResult,ve=ce.addedIndex,J=ce.removedIndex,re=ce.elementSize;if(J===null){if(ve!==null){if(!oe){var ge=B.getBeginEndOfContainer();ge.end=ge.begin+B.getSize(k);var ke=B.getScrollSize(k)>B.getSize(k)?ge.begin+B.getScrollSize(k)-B.getScrollValue(k):ge.end,ze=0<$.length?B.getBeginEnd($[$.length-1]).end-$[$.length-1][l]:ge.begin;if(ke<ze+re){(oe=window.document.createElement("div")).className=d+" "+Z().orientation;var Me=0<$.length?re+ze-ke:re;return B.setSize(oe.style,"".concat(Me,"px")),k.appendChild(oe),k[v]=oe,{containerBoxChanged:!0}}}}else if(oe){B.setTranslation(oe,0);var je=oe;return oe=null,k.removeChild(je),{containerBoxChanged:!(k[v]=null)}}}}}function gi(O){var k=O.draggables,$=O.layout,B=null,Z=null;return function(oe){var pe=oe.dragResult,ce=pe.addedIndex,ve=pe.removedIndex,J=pe.elementSize;if(ce!==B||ve!==Z){for(var re=0;re<k.length;re++)if(re!==ve){var ge=k[re],ke=0;ve!==null&&ve<re&&(ke-=J),ce!==null&&ce<=re&&(ke+=J),$.setTranslation(ge,ke)}return{addedIndex:B=ce,removedIndex:Z=ve}}}}function An(O){var k=O.draggables,$=O.layout,B=null;return function(Z){var oe=Z.draggableInfo,pe=Z.dragResult,ce=pe.addedIndex,ve=pe.removedIndex,J=pe.elementSize,re=pe.pos,ge=pe.shadowBeginEnd;if(re===null)return{shadowBeginEnd:B=null};if(ce===null||!oe.invalidateShadow&&ce===B)return null;var ke=ce-1,ze=Number.MIN_SAFE_INTEGER,Me=0,je=0,w=null,V=null;if(ke===ve&&ke--,-1<ke){var ae=$.getSize(k[ke]);if(V=$.getBeginEnd(k[ke]),J<ae){var De=(ae-J)/2;ze=V.end-De}else ze=V.end;Me=V.end}else V={end:$.getBeginEndOfContainer().begin},Me=$.getBeginEndOfContainer().begin;var ct=Number.MAX_SAFE_INTEGER,gt=ce;if(gt===ve&&gt++,gt<k.length){var Pt=$.getSize(k[gt]);if(w=$.getBeginEnd(k[gt]),J<Pt){var kt=(Pt-J)/2;ct=w.begin+kt}else ct=w.begin;je=w.begin}else w={begin:$.getContainerRectangles().rect.end},je=$.getContainerRectangles().rect.end-$.getContainerRectangles().rect.begin;var bi=V&&w?$.getTopLeftOfElementBegin(V.end):null;return B=ce,{shadowBeginEnd:{dropArea:{begin:Me,end:je},begin:ze,end:ct,rect:bi,beginAdjustment:ge?ge.beginAdjustment:0}}}}function _n(){var O=null;return function(k){var $=k.dragResult,B=$.pos,Z=$.addedIndex,oe=$.shadowBeginEnd;if(B!==null){if(Z!=null&&O===null){if(B<oe.begin){var pe=B-oe.begin-5;oe.beginAdjustment=pe}O=Z}}else O=null}}function Oo(O){var k=O.getOptions,$=!1,B=k();return function(Z){var oe=!!Z.dragResult.pos;oe!==$&&(($=oe)?B.onDragEnter&&B.onDragEnter():B.onDragLeave&&B.onDragLeave())}}function Qt(O){var k=O.getOptions,$=null,B=k();return function(Z){var oe=Z.dragResult,pe=oe.addedIndex,ce=oe.removedIndex,ve=Z.draggableInfo,J=ve.payload,re=ve.element;if(B.onDropReady&&pe!==null&&$!==pe){var ge=$=pe;ce!==null&&ce<pe&&ge--,B.onDropReady({addedIndex:ge,removedIndex:ce,payload:J,element:re?re.firstElementChild:void 0})}}}function vi(O){return O.getOptions().behaviour==="drop-zone"?yi(O)(di,fi,Qn,hi,pi,Cr,Sr,Oo,Qt):yi(O)(di,fi,Qn,hi,pi,xr,Er,mi,Or,gi,An,Ir,_n,Oo,Qt)}function yi(O){return function(){for(var k=arguments.length,$=new Array(k),B=0;B<k;B++)$[B]=arguments[B];var Z=$.map(function(pe){return pe(O)}),oe=null;return function(pe){return oe=Z.reduce(function(ce,ve){return Object.assign(ce,ve({draggableInfo:pe,dragResult:ce}))},oe||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function kr(O){return function(k){var $=Object.assign({},F,k),B=null,Z=null,oe=function(ke,ze){var Me=ui(ke),je=ze();return q(ke,"".concat(m," ").concat(je.orientation)),{element:ke,draggables:Me,getOptions:ze,layout:R(ke,je.orientation,je.animationDuration)}}(O,ge),pe=vi(oe),ce=wr(oe),ve=function(ke,ze){var Me=[];function je(){Me&&(Me.forEach(function(w){return w.removeEventListener("scroll",ze)}),window.removeEventListener("scroll",ze))}return function(){for(var w=ke;w;)(U(w,"x")||U(w,"y"))&&Me.push(w),w=w.parentElement}(),{dispose:function(){je(),Me=null},start:function(){Me&&(Me.forEach(function(w){return w.addEventListener("scroll",ze)}),window.addEventListener("scroll",ze))},stop:je}}(O,function(){oe.layout.invalidateRects(),J()});function J(){Z!==null&&(Z.invalidateShadow=!0,B=pe(Z),Z.invalidateShadow=!1)}function re(ke,ze){for(var Me=ui(ze),je=0;je<Me.length;je++)ke[je]=Me[je];for(var w=0;w<ke.length-Me.length;w++)ke.pop()}function ge(){return $}return{element:O,draggables:oe.draggables,isDragRelevant:function(ke){var ze=ke.element,Me=ke.getOptions;return function(je,w){var V=Me();if(V.shouldAcceptDrop)return V.shouldAcceptDrop(je.getOptions(),w);var ae=je.getOptions();return V.behaviour!=="copy"&&he(ze,"."+s)!==je.element&&(je.element===ze||!(!ae.groupName||ae.groupName!==V.groupName))}}(oe),layout:oe.layout,dispose:function(ke){ve.dispose(),function(ze){It.wrapChild&&Array.prototype.forEach.call(ze.children,function(Me){Me.nodeType===Node.ELEMENT_NODE&&G(Me,s)&&(ze.insertBefore(Me.firstElementChild,Me),ze.removeChild(Me))})}(ke.element)},prepareDrag:function(ke,ze){var Me=ke.element,je=oe.draggables;re(je,Me),ke.layout.invalidateRects(),je.forEach(function(w){return ci(w,!0,ge().animationDuration)}),ve.start()},handleDrag:function(ke){return B=pe(Z=ke)},handleDrop:function(ke){ve.stop(),B&&B.dropPlaceholderContainer&&O.removeChild(B.dropPlaceholderContainer),Z=null,pe=vi(oe),ce(ke,B),B=null},fireRemoveElement:function(){ce(Z,Object.assign({},B,{addedIndex:null}),!0),B=null},getDragResult:function(){return B},getTranslateCalculator:function(ke){return gi(oe)(ke)},onTranslated:function(){J()},setDraggables:function(){re(oe.draggables,O)},getScrollMaxSpeed:function(){return It.maxScrollSpeed},shouldUseTransformForGhost:function(){return It.useTransformForGhost===!0},getOptions:ge,setOptions:function(ke){var ze=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];$=ze===!1?Object.assign({},F,ke):Object.assign({},F,$,ke)}}}}var It=function(O,k){var $=kr(O)(k);return O[r]=$,bn.register($),{dispose:function(){bn.unregister($),$.dispose($)},setOptions:function(B,Z){$.setOptions(B,Z)}}};function eo(O,k,$){Object.defineProperty(O,$,{set:function(B){k[$]=B},get:function(){return k[$]}})}It.wrapChild=!0,It.cancelDrag=function(){bn.cancelDrag()},It.isDragging=function(){return bn.isDragging()};function an(O,k){return console.warn('default export is deprecated. please use named export "smoothDnD"'),It(O,k)}an.cancelDrag=function(){It.cancelDrag()},an.isDragging=function(){return It.isDragging()},eo(an,It,"useTransformForGhost"),eo(an,It,"maxScrollSpeed"),eo(an,It,"wrapChild"),eo(an,It,"dropHandler"),n.smoothDnD=It,n.constants=X,n.dropHandlers=Ze,n.default=an,Object.defineProperty(n,"__esModule",{value:!0})})})(Qr,Qr.exports);var qo=Qr.exports;const Kf=function(e){return Array.isArray(e)};function Xl(e){return e?typeof e=="string"||typeof e=="object"&&(typeof e.value=="string"||typeof e.value=="function"||typeof e.value=="object"):!0}function Yl(e,t){const n=e.$props.tag;if(n){if(typeof n=="string"){const o={value:n};return t&&(o.props={class:t}),o}else if(typeof n=="object"){const o={value:n.value||"div",props:n.props||{}};return t&&(o.props.class?Kf(o.props.class)?o.props.class.push(t):o.props.class=[t,o.props.class]:o.props.class=t),o}}return{value:"div"}}qo.smoothDnD.dropHandler=qo.dropHandlers.reactDropHandler().handler;qo.smoothDnD.wrapChild=!1;const Pa={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var Jl=xe({name:"Container",mounted(){const e=Object.assign({},this.$props);for(const t in Pa)e[Pa[t]]=n=>{this.$emit(t,n)};this.containerElement=this.$refs.container||this.$el,this.container=qo.smoothDnD(this.containerElement,e)},unmounted(){this.container&&this.container.dispose()},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,animationDuration:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:Xl,default:"div"}},render(){const e=Yl(this);return Es(e.value,Object.assign({},{ref:"container"},e.props),this.$slots.default())}}),Xf=xe({name:"Draggable",props:{tag:{validator:Xl,default:"div"}},render:function(){const e=Yl(this,qo.constants.wrapperClass);return Es(e.value,Object.assign({},e.props),this.$slots.default())}});const Yf=xe({name:"BuilderEditableLabel",props:{modelValue:{type:String,default:"node"}},setup(e,{emit:t}){const n=He(!0),o=He();function i(){n.value=!1,er(()=>{o.value&&(o.value.focus(),o.value.select())})}function r(s){const{value:a}=s.target;t("update:modelValue",a)}return{isReadOnly:n,inputRef:o,onFocus:i,onInput:r}}});const Oe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},Jf={class:"builder-editable-label"},Qf=["value"];function eh(e,t,n,o,i,r){return K(),fe("div",Jf,[_e("div",{tabindex:0,class:Je([{"builder-editable-label__read-only--hidden":!e.isReadOnly},"builder-editable-label__read-only"]),onFocus:t[0]||(t[0]=(...s)=>e.onFocus&&e.onFocus(...s))},ut(e.modelValue),35),e.isReadOnly?ht("",!0):(K(),fe("input",{key:0,class:"builder-editable-label__textbox",type:"text",ref:"inputRef",value:e.modelValue,onInput:t[1]||(t[1]=(...s)=>e.onInput&&e.onInput(...s)),onBlur:t[2]||(t[2]=s=>e.isReadOnly=!0)},null,40,Qf)),dt(e.$slots,"default")])}const Ql=Oe(Yf,[["render",eh]]),th=xe({name:"PortHandle",props:{active:{type:Boolean,default:!1},hue:{type:Number,default:0}},setup(e){return{backgroundColor:tt(()=>e.hue>0?`hsla(${e.hue}, var(--lightness), var(--saturation), 0.8)`:"var(--color-bg-secondary)")}}});const nh={class:"port-handle"};function oh(e,t,n,o,i,r){return K(),fe("div",nh,[_e("div",{class:Je(["port-handle__display",{"port-handle__display--active":e.active}])},[_e("div",{class:"port-handle__hue",style:rt({backgroundColor:e.backgroundColor})},null,4)],2)])}const Ds=Oe(th,[["render",oh]]),ih=xe({name:"PortWire",props:{type:{type:String,default:"top"}}});const rh={class:"wire__port"};function sh(e,t,n,o,i,r){return K(),fe("div",{class:Je(`wire wire--${e.type}`)},[_e("div",{class:Je(`wire__connector wire__connector--${e.type}`)},null,2),_e("div",rh,[dt(e.$slots,"default")])],2)}const ec=Oe(ih,[["render",sh]]),ah=xe({name:"BuilderDropZone",components:{BuilderEditableLabel:Ql,Container:Jl,Draggable:Xf,PortHandle:Ds,PortWire:ec},emits:{drop:(e,t)=>!!(e&&t)},props:{ports:{type:Array,default:()=>[]},getChildPayload:{type:Function,required:!0},type:{type:String,required:!0}},computed:{orientation(){return["left","right"].includes(this.type)?"vertical":"horizontal"}},setup(e,{emit:t}){const n=/--([a-z]+)/ig;let o="";function i(u){document.querySelectorAll(".smooth-dnd-ghost, .smooth-dnd-ghost div").forEach(h=>{const m=h.className.match(n);m&&(o=m.pop()||""),h.className=h.className.replace(n,u)})}function r(){i(`--${e.type}`)}function s(){i(o)}function a(u){t("drop",e.type,u)}function l(){return document.querySelector(".modal")}return{onDragEnter:r,onDragLeave:s,onDrop:a,getGhostParent:l}}});function lh(e,t,n,o,i,r){const s=be("port-handle"),a=be("port-wire"),l=be("builder-editable-label"),u=be("Draggable"),h=be("Container");return K(),Ne(h,{orientation:e.orientation,"animation-duration":500,"group-name":e.type,class:Je(`builder-drop-zone builder-drop-zone--${e.orientation}`),onDrop:e.onDrop,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,"should-accept-drop":()=>!0,"get-child-payload":e.getChildPayload,"get-ghost-parent":e.getGhostParent},{default:Fe(()=>[(K(!0),fe(Ye,null,wt(e.ports,m=>(K(),Ne(u,{key:m.id,tag:{value:"div",props:{class:`builder-drop-zone__io builder-drop-zone__io--${e.type}`}}},{default:Fe(()=>[de(l,{modelValue:m.name,"onUpdate:modelValue":g=>m.name=g},{default:Fe(()=>[de(a,{type:e.type},{default:Fe(()=>[de(s)]),_:1},8,["type"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["tag"]))),128))]),_:1},8,["orientation","group-name","class","onDrop","onDragEnter","onDragLeave","get-child-payload","get-ghost-parent"])}const ch=Oe(ah,[["render",lh]]);var yt=(e=>(e[e.Output=0]="Output",e[e.Input=1]="Input",e))(yt||{});const uh=(e,t)=>{const{removedIndex:n,addedIndex:o,payload:i}=t;if(n===null&&o===null)return e;const r=[...e];let s=i;return n!==null&&(s=r.splice(n,1)[0]),o!==null&&r.splice(o,0,s),r},dh=xe({name:"Builder",components:{BuilderDropZone:ch,BuilderEditableLabel:Ql,Container:Jl},emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0}},setup(e,{emit:t}){const n=He({left:{children:[]},top:{children:[]},right:{children:[]},bottom:{children:[]}});e.modelValue.portIds.forEach(s=>{var l;const a=(l=e.modelValue.integratedCircuit)==null?void 0:l.ports[s];a&&n.value[a.type===yt.Input?"left":"right"].children.push(a)});function o(){const s=["left","top","right","bottom"];e.modelValue.portIds=[],Object.keys(n.value).forEach(a=>{const l=a,{children:u}=n.value[l];u.forEach(h=>{h.orientation=s.indexOf(l),e.modelValue.portIds.push(h.id)})}),t("update:modelValue",e.modelValue)}function i(s,a){const l=Object.assign({},n.value[s]);n.value[s].children=uh(l.children,a),o()}function r(s){return a=>n.value[s].children[a]}return{item:e.modelValue,ports:n,onWireDrop:i,getCardPayload:r}}});const fh={class:"builder__center"};function hh(e,t,n,o,i,r){const s=be("builder-drop-zone"),a=be("builder-editable-label"),l=be("container");return K(),Ne(l,{class:"builder"},{default:Fe(()=>[de(s,{type:"top","get-child-payload":e.getCardPayload("top"),ports:e.ports.top.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),_e("div",fh,[de(s,{type:"left","get-child-payload":e.getCardPayload("left"),ports:e.ports.left.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),de(a,{modelValue:e.item.name,"onUpdate:modelValue":t[0]||(t[0]=u=>e.item.name=u)},null,8,["modelValue"]),de(s,{type:"right","get-child-payload":e.getCardPayload("right"),ports:e.ports.right.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),de(s,{type:"bottom","get-child-payload":e.getCardPayload("bottom"),ports:e.ports.bottom.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),_:1})}const ph=Oe(dh,[["render",hh]]);var Vi={exports:{}};Vi.exports;(function(e,t){var n=200,o="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",m="[object GeneratorFunction]",g="[object Map]",d="[object Number]",v="[object Object]",f="[object Promise]",b="[object RegExp]",y="[object Set]",S="[object String]",P="[object Symbol]",T="[object WeakMap]",D="[object ArrayBuffer]",X="[object DataView]",F="[object Float32Array]",L="[object Float64Array]",x="[object Int8Array]",H="[object Int16Array]",se="[object Int32Array]",I="[object Uint8Array]",U="[object Uint8ClampedArray]",p="[object Uint16Array]",Q="[object Uint32Array]",ye=/[\\^$.*+?()[\]{}|]/g,ee=/\w*$/,Se=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,he={};he[r]=he[s]=he[D]=he[X]=he[a]=he[l]=he[F]=he[L]=he[x]=he[H]=he[se]=he[g]=he[d]=he[v]=he[b]=he[y]=he[S]=he[P]=he[I]=he[U]=he[p]=he[Q]=!0,he[u]=he[h]=he[T]=!1;var G=typeof un=="object"&&un&&un.Object===Object&&un,q=typeof self=="object"&&self&&self.Object===Object&&self,Ce=G||q||Function("return this")(),we=t&&!t.nodeType&&t,te=we&&!0&&e&&!e.nodeType&&e,Ee=te&&te.exports===we;function Re(w,V){return w.set(V[0],V[1]),w}function Ie(w,V){return w.add(V),w}function Be(w,V){for(var ae=-1,De=w?w.length:0;++ae<De&&V(w[ae],ae,w)!==!1;);return w}function Ze(w,V){for(var ae=-1,De=V.length,ct=w.length;++ae<De;)w[ct+ae]=V[ae];return w}function Ge(w,V,ae,De){var ct=-1,gt=w?w.length:0;for(De&&gt&&(ae=w[++ct]);++ct<gt;)ae=V(ae,w[ct],ct,w);return ae}function A(w,V){for(var ae=-1,De=Array(w);++ae<w;)De[ae]=V(ae);return De}function R(w,V){return w==null?void 0:w[V]}function c(w){var V=!1;if(w!=null&&typeof w.toString!="function")try{V=!!(w+"")}catch{}return V}function M(w){var V=-1,ae=Array(w.size);return w.forEach(function(De,ct){ae[++V]=[ct,De]}),ae}function z(w,V){return function(ae){return w(V(ae))}}function C(w){var V=-1,ae=Array(w.size);return w.forEach(function(De){ae[++V]=De}),ae}var _=Array.prototype,E=Function.prototype,W=Object.prototype,j=Ce["__core-js_shared__"],N=function(){var w=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),Y=E.toString,ie=W.hasOwnProperty,ne=W.toString,me=RegExp("^"+Y.call(ie).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=Ee?Ce.Buffer:void 0,$e=Ce.Symbol,Ue=Ce.Uint8Array,lt=z(Object.getPrototypeOf,Object),We=Object.create,bt=W.propertyIsEnumerable,Te=_.splice,Pe=Object.getOwnPropertySymbols,et=Ae?Ae.isBuffer:void 0,Qe=z(Object.keys,Object),zt=_n(Ce,"DataView"),Mt=_n(Ce,"Map"),Xt=_n(Ce,"Promise"),Lt=_n(Ce,"Set"),St=_n(Ce,"WeakMap"),Et=_n(Object,"create"),Nt=k(zt),Yo=k(Mt),pr=k(Xt),mr=k(Lt),Jo=k(St),gn=$e?$e.prototype:void 0,Kn=gn?gn.valueOf:void 0;function Yt(w){var V=-1,ae=w?w.length:0;for(this.clear();++V<ae;){var De=w[V];this.set(De[0],De[1])}}function Xn(){this.__data__=Et?Et(null):{}}function So(w){return this.has(w)&&delete this.__data__[w]}function Io(w){var V=this.__data__;if(Et){var ae=V[w];return ae===o?void 0:ae}return ie.call(V,w)?V[w]:void 0}function gr(w){var V=this.__data__;return Et?V[w]!==void 0:ie.call(V,w)}function Qo(w,V){var ae=this.__data__;return ae[w]=Et&&V===void 0?o:V,this}Yt.prototype.clear=Xn,Yt.prototype.delete=So,Yt.prototype.get=Io,Yt.prototype.has=gr,Yt.prototype.set=Qo;function Rt(w){var V=-1,ae=w?w.length:0;for(this.clear();++V<ae;){var De=w[V];this.set(De[0],De[1])}}function ei(){this.__data__=[]}function Yn(w){var V=this.__data__,ae=yn(V,w);if(ae<0)return!1;var De=V.length-1;return ae==De?V.pop():Te.call(V,ae,1),!0}function ti(w){var V=this.__data__,ae=yn(V,w);return ae<0?void 0:V[ae][1]}function vr(w){return yn(this.__data__,w)>-1}function ni(w,V){var ae=this.__data__,De=yn(ae,w);return De<0?ae.push([w,V]):ae[De][1]=V,this}Rt.prototype.clear=ei,Rt.prototype.delete=Yn,Rt.prototype.get=ti,Rt.prototype.has=vr,Rt.prototype.set=ni;function Ft(w){var V=-1,ae=w?w.length:0;for(this.clear();++V<ae;){var De=w[V];this.set(De[0],De[1])}}function oi(){this.__data__={hash:new Yt,map:new(Mt||Rt),string:new Yt}}function ii(w){return An(this,w).delete(w)}function vn(w){return An(this,w).get(w)}function yr(w){return An(this,w).has(w)}function ri(w,V){return An(this,w).set(w,V),this}Ft.prototype.clear=oi,Ft.prototype.delete=ii,Ft.prototype.get=vn,Ft.prototype.has=yr,Ft.prototype.set=ri;function Jt(w){this.__data__=new Rt(w)}function Jn(){this.__data__=new Rt}function si(w){return this.__data__.delete(w)}function xo(w){return this.__data__.get(w)}function Eo(w){return this.__data__.has(w)}function ai(w,V){var ae=this.__data__;if(ae instanceof Rt){var De=ae.__data__;if(!Mt||De.length<n-1)return De.push([w,V]),this;ae=this.__data__=new Ft(De)}return ae.set(w,V),this}Jt.prototype.clear=Jn,Jt.prototype.delete=si,Jt.prototype.get=xo,Jt.prototype.has=Eo,Jt.prototype.set=ai;function li(w,V){var ae=oe(w)||Z(w)?A(w.length,String):[],De=ae.length,ct=!!De;for(var gt in w)(V||ie.call(w,gt))&&!(ct&&(gt=="length"||It(gt,De)))&&ae.push(gt);return ae}function zn(w,V,ae){var De=w[V];(!(ie.call(w,V)&&B(De,ae))||ae===void 0&&!(V in w))&&(w[V]=ae)}function yn(w,V){for(var ae=w.length;ae--;)if(B(w[ae][0],V))return ae;return-1}function br(w,V){return w&&mi(V,ze(V),w)}function bn(w,V,ae,De,ct,gt,Pt){var kt;if(De&&(kt=gt?De(w,ct,gt,Pt):De(w)),kt!==void 0)return kt;if(!ge(w))return w;var bi=oe(w);if(bi){if(kt=vi(w),!V)return Er(w,kt)}else{var to=Qt(w),Rs=to==h||to==m;if(ve(w))return fi(w,V);if(to==v||to==r||Rs&&!gt){if(c(w))return gt?w:{};if(kt=yi(Rs?{}:w),!V)return Or(w,br(kt,w))}else{if(!he[to])return gt?w:{};kt=kr(w,to,bn,V)}}Pt||(Pt=new Jt);var Fs=Pt.get(w);if(Fs)return Fs;if(Pt.set(w,kt),!bi)var js=ae?gi(w):ze(w);return Be(js||w,function($r,_i){js&&(_i=$r,$r=w[_i]),zn(kt,_i,bn($r,V,ae,De,_i,w,Pt))}),kt}function ci(w){return ge(w)?We(w):{}}function ui(w,V,ae){var De=V(w);return oe(w)?De:Ze(De,ae(w))}function _r(w){return ne.call(w)}function wr(w){if(!ge(w)||an(w))return!1;var V=J(w)||c(w)?me:Se;return V.test(k(w))}function di(w){if(!O(w))return Qe(w);var V=[];for(var ae in Object(w))ie.call(w,ae)&&ae!="constructor"&&V.push(ae);return V}function fi(w,V){if(V)return w.slice();var ae=new w.constructor(w.length);return w.copy(ae),ae}function Qn(w){var V=new w.constructor(w.byteLength);return new Ue(V).set(new Ue(w)),V}function hi(w,V){var ae=V?Qn(w.buffer):w.buffer;return new w.constructor(ae,w.byteOffset,w.byteLength)}function pi(w,V,ae){var De=V?ae(M(w),!0):M(w);return Ge(De,Re,new w.constructor)}function Cr(w){var V=new w.constructor(w.source,ee.exec(w));return V.lastIndex=w.lastIndex,V}function Sr(w,V,ae){var De=V?ae(C(w),!0):C(w);return Ge(De,Ie,new w.constructor)}function Ir(w){return Kn?Object(Kn.call(w)):{}}function xr(w,V){var ae=V?Qn(w.buffer):w.buffer;return new w.constructor(ae,w.byteOffset,w.length)}function Er(w,V){var ae=-1,De=w.length;for(V||(V=Array(De));++ae<De;)V[ae]=w[ae];return V}function mi(w,V,ae,De){ae||(ae={});for(var ct=-1,gt=V.length;++ct<gt;){var Pt=V[ct],kt=De?De(ae[Pt],w[Pt],Pt,ae,w):void 0;zn(ae,Pt,kt===void 0?w[Pt]:kt)}return ae}function Or(w,V){return mi(w,Oo(w),V)}function gi(w){return ui(w,ze,Oo)}function An(w,V){var ae=w.__data__;return eo(V)?ae[typeof V=="string"?"string":"hash"]:ae.map}function _n(w,V){var ae=R(w,V);return wr(ae)?ae:void 0}var Oo=Pe?z(Pe,Object):Me,Qt=_r;(zt&&Qt(new zt(new ArrayBuffer(1)))!=X||Mt&&Qt(new Mt)!=g||Xt&&Qt(Xt.resolve())!=f||Lt&&Qt(new Lt)!=y||St&&Qt(new St)!=T)&&(Qt=function(w){var V=ne.call(w),ae=V==v?w.constructor:void 0,De=ae?k(ae):void 0;if(De)switch(De){case Nt:return X;case Yo:return g;case pr:return f;case mr:return y;case Jo:return T}return V});function vi(w){var V=w.length,ae=w.constructor(V);return V&&typeof w[0]=="string"&&ie.call(w,"index")&&(ae.index=w.index,ae.input=w.input),ae}function yi(w){return typeof w.constructor=="function"&&!O(w)?ci(lt(w)):{}}function kr(w,V,ae,De){var ct=w.constructor;switch(V){case D:return Qn(w);case a:case l:return new ct(+w);case X:return hi(w,De);case F:case L:case x:case H:case se:case I:case U:case p:case Q:return xr(w,De);case g:return pi(w,De,ae);case d:case S:return new ct(w);case b:return Cr(w);case y:return Sr(w,De,ae);case P:return Ir(w)}}function It(w,V){return V=V??i,!!V&&(typeof w=="number"||ue.test(w))&&w>-1&&w%1==0&&w<V}function eo(w){var V=typeof w;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?w!=="__proto__":w===null}function an(w){return!!N&&N in w}function O(w){var V=w&&w.constructor,ae=typeof V=="function"&&V.prototype||W;return w===ae}function k(w){if(w!=null){try{return Y.call(w)}catch{}try{return w+""}catch{}}return""}function $(w){return bn(w,!0,!0)}function B(w,V){return w===V||w!==w&&V!==V}function Z(w){return ce(w)&&ie.call(w,"callee")&&(!bt.call(w,"callee")||ne.call(w)==r)}var oe=Array.isArray;function pe(w){return w!=null&&re(w.length)&&!J(w)}function ce(w){return ke(w)&&pe(w)}var ve=et||je;function J(w){var V=ge(w)?ne.call(w):"";return V==h||V==m}function re(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=i}function ge(w){var V=typeof w;return!!w&&(V=="object"||V=="function")}function ke(w){return!!w&&typeof w=="object"}function ze(w){return pe(w)?li(w):di(w)}function Me(){return[]}function je(){return!1}e.exports=$})(Vi,Vi.exports);var mh=Vi.exports;const Zt=Ps(mh);let ki;const gh=new Uint8Array(16);function vh(){if(!ki&&(ki=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ki))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ki(gh)}const Ot=[];for(let e=0;e<256;++e)Ot.push((e+256).toString(16).slice(1));function yh(e,t=0){return(Ot[e[t+0]]+Ot[e[t+1]]+Ot[e[t+2]]+Ot[e[t+3]]+"-"+Ot[e[t+4]]+Ot[e[t+5]]+"-"+Ot[e[t+6]]+Ot[e[t+7]]+"-"+Ot[e[t+8]]+Ot[e[t+9]]+"-"+Ot[e[t+10]]+Ot[e[t+11]]+Ot[e[t+12]]+Ot[e[t+13]]+Ot[e[t+14]]+Ot[e[t+15]]).toLowerCase()}const bh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Da={randomUUID:bh};function ot(e,t,n){if(Da.randomUUID&&!t&&!e)return Da.randomUUID();e=e||{};const o=e.random||(e.rng||vh)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=o[i];return t}return yh(o)}var at=(e=>(e.Buffer="Buffer",e.CircuitNode="CircuitNode",e.Freeport="Freeport",e.InputNode="InputNode",e.IntegratedCircuit="IntegratedCircuit",e.LogicGate="LogicGate",e.OutputNode="OutputNode",e))(at||{}),vt=(e=>(e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom",e))(vt||{});function bo(e,t,n,o,i,r=[]){return{id:e,name:"",type:t,subtype:n,portIds:r.map(({id:s})=>s),groupId:null,rotation:0,boundingBox:{top:0,left:0,right:o,bottom:i},position:{x:0,y:0},zIndex:0,width:o,height:i,isSelected:!1,properties:{name:{type:"text",label:"Name",value:""}}}}var Ke=(e=>(e.None="None",e.CustomCircuit="CustomCircuit",e.Switch="Switch",e.PushButton="PushButton",e.Clock="Clock",e.Lightbulb="Lightbulb",e.DigitDisplay="DigitDisplay",e.Buffer="Buffer",e.Not="Not",e.Tristate="Tristate",e.And="And",e.Or="Or",e.Nand="Nand",e.Nor="Nor",e.Xnor="Xnor",e.Xor="Xor",e))(Ke||{});function tc(e,t,n,o,i=Ke.CustomCircuit){const{ports:r,items:s,connections:a,groups:l}=Zt(e),u=bo(ot(),at.IntegratedCircuit,i,n,o);return Object.values(s).forEach(h=>{const m=h.portIds.map(f=>r[f]);let g=0;const d=m.reduce((f,b)=>f===void 0||f===b.type?b.type:null,void 0);if(typeof d!="number")return;const v=d===yt.Input?vt.Right:vt.Left;m.filter(f=>f.type===d).forEach(f=>{var S;const b=ot(),y=((S=h.properties.name)==null?void 0:S.value)||h.name;r[b]={...Zt(f),type:d===yt.Input?yt.Output:yt.Input,name:m.length>1?`${y} ${g++}`:y,id:b,elementId:h.id,orientation:v,value:0},h.portIds.push(b),u.portIds.push(b)}),h.type=at.Buffer}),u.name=t,u.integratedCircuit={items:s,connections:a,ports:r,groups:l,serializedState:JSON.stringify({items:e.items,connections:e.connections,ports:e.ports,groups:e.groups})},u}function $i(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nc={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(o,i,r){function s(u,h){if(!i[u]){if(!o[u]){var m=typeof $i=="function"&&$i;if(!h&&m)return m(u,!0);if(a)return a(u,!0);var g=new Error("Cannot find module '"+u+"'");throw g.code="MODULE_NOT_FOUND",g}var d=i[u]={exports:{}};o[u][0].call(d.exports,function(v){var f=o[u][1][v];return s(f||v)},d,d.exports,n,o,i,r)}return i[u].exports}for(var a=typeof $i=="function"&&$i,l=0;l<r.length;l++)s(r[l]);return s}({1:[function(n,o,i){var r=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,h,m,g,d,v,f,b=[],y=0,S=l.length,P=S,T=r.getTypeOf(l)!=="string";y<l.length;)P=S-y,m=T?(u=l[y++],h=y<S?l[y++]:0,y<S?l[y++]:0):(u=l.charCodeAt(y++),h=y<S?l.charCodeAt(y++):0,y<S?l.charCodeAt(y++):0),g=u>>2,d=(3&u)<<4|h>>4,v=1<P?(15&h)<<2|m>>6:64,f=2<P?63&m:64,b.push(a.charAt(g)+a.charAt(d)+a.charAt(v)+a.charAt(f));return b.join("")},i.decode=function(l){var u,h,m,g,d,v,f=0,b=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var S,P=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&P--,l.charAt(l.length-2)===a.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=s.uint8array?new Uint8Array(0|P):new Array(0|P);f<l.length;)u=a.indexOf(l.charAt(f++))<<2|(g=a.indexOf(l.charAt(f++)))>>4,h=(15&g)<<4|(d=a.indexOf(l.charAt(f++)))>>2,m=(3&d)<<6|(v=a.indexOf(l.charAt(f++))),S[b++]=u,d!==64&&(S[b++]=h),v!==64&&(S[b++]=m);return S}},{"./support":30,"./utils":32}],2:[function(n,o,i){var r=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(h,m,g,d,v){this.compressedSize=h,this.uncompressedSize=m,this.crc32=g,this.compression=d,this.compressedContent=v}u.prototype={getContentWorker:function(){var h=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,m,g){return h.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},o.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,i){var r=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,i){var r=n("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();o.exports=function(a,l){return a!==void 0&&a.length?r.getTypeOf(a)!=="string"?function(u,h,m,g){var d=s,v=g+m;u^=-1;for(var f=g;f<v;f++)u=u>>>8^d[255&(u^h[f])];return-1^u}(0|l,a,a.length,0):function(u,h,m,g){var d=s,v=g+m;u^=-1;for(var f=g;f<v;f++)u=u>>>8^d[255&(u^h.charCodeAt(f))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,o,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,o,i){var r=null;r=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:r}},{lie:37}],7:[function(n,o,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=r?"uint8array":"array";function h(m,g){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",a.inherits(h,l),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new h("Deflate",m)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,i){function r(d,v){var f,b="";for(f=0;f<v;f++)b+=String.fromCharCode(255&d),d>>>=8;return b}function s(d,v,f,b,y,S){var P,T,D=d.file,X=d.compression,F=S!==u.utf8encode,L=a.transformTo("string",S(D.name)),x=a.transformTo("string",u.utf8encode(D.name)),H=D.comment,se=a.transformTo("string",S(H)),I=a.transformTo("string",u.utf8encode(H)),U=x.length!==D.name.length,p=I.length!==H.length,Q="",ye="",ee="",Se=D.dir,ue=D.date,he={crc32:0,compressedSize:0,uncompressedSize:0};v&&!f||(he.crc32=d.crc32,he.compressedSize=d.compressedSize,he.uncompressedSize=d.uncompressedSize);var G=0;v&&(G|=8),F||!U&&!p||(G|=2048);var q=0,Ce=0;Se&&(q|=16),y==="UNIX"?(Ce=798,q|=function(te,Ee){var Re=te;return te||(Re=Ee?16893:33204),(65535&Re)<<16}(D.unixPermissions,Se)):(Ce=20,q|=function(te){return 63&(te||0)}(D.dosPermissions)),P=ue.getUTCHours(),P<<=6,P|=ue.getUTCMinutes(),P<<=5,P|=ue.getUTCSeconds()/2,T=ue.getUTCFullYear()-1980,T<<=4,T|=ue.getUTCMonth()+1,T<<=5,T|=ue.getUTCDate(),U&&(ye=r(1,1)+r(h(L),4)+x,Q+="up"+r(ye.length,2)+ye),p&&(ee=r(1,1)+r(h(se),4)+I,Q+="uc"+r(ee.length,2)+ee);var we="";return we+=`
\0`,we+=r(G,2),we+=X.magic,we+=r(P,2),we+=r(T,2),we+=r(he.crc32,4),we+=r(he.compressedSize,4),we+=r(he.uncompressedSize,4),we+=r(L.length,2),we+=r(Q.length,2),{fileRecord:m.LOCAL_FILE_HEADER+we+L+Q,dirRecord:m.CENTRAL_FILE_HEADER+r(Ce,2)+we+r(se.length,2)+"\0\0\0\0"+r(q,4)+r(b,4)+L+Q+se}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),h=n("../crc32"),m=n("../signature");function g(d,v,f,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=f,this.encodeFileName=b,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(g,l),g.prototype.push=function(d){var v=d.meta.percent||0,f=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:f?(v+100*(f-b-1))/f:100}}))},g.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var v=this.streamFiles&&!d.file.dir;if(v){var f=s(d,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(d){this.accumulate=!1;var v=this.streamFiles&&!d.file.dir,f=s(d,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),v)this.push({data:function(b){return m.DATA_DESCRIPTOR+r(b.crc32,4)+r(b.compressedSize,4)+r(b.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var d=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var f=this.bytesWritten-d,b=function(y,S,P,T,D){var X=a.transformTo("string",D(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(y,2)+r(y,2)+r(S,4)+r(P,4)+r(X.length,2)+X}(this.dirRecords.length,f,d,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(d){this._sources.push(d);var v=this;return d.on("data",function(f){v.processChunk(f)}),d.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),d.on("error",function(f){v.error(f)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(d){var v=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var f=0;f<v.length;f++)try{v[f].error(d)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,v=0;v<d.length;v++)d[v].lock()},o.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,i){var r=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var h=new s(l.streamFiles,u,l.platform,l.encodeFileName),m=0;try{a.forEach(function(g,d){m++;var v=function(S,P){var T=S||P,D=r[T];if(!D)throw new Error(T+" is not a valid compression method !");return D}(d.options.compression,l.compression),f=d.options.compressionOptions||l.compressionOptions||{},b=d.dir,y=d.date;d._compressWorker(v,f).withStreamInfo("file",{name:g,dir:b,date:y,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(g){h.error(g)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new r;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(s,a){return new r().loadAsync(s,a)},r.external=n("./external"),o.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,i){var r=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function m(g){return new s.Promise(function(d,v){var f=g.decompressed.getContentWorker().pipe(new u);f.on("error",function(b){v(b)}).on("end",function(){f.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}o.exports=function(g,d){var v=this;return d=r.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",g,!0,d.optimizedBinaryString,d.base64).then(function(f){var b=new l(d);return b.load(f),b}).then(function(f){var b=[s.Promise.resolve(f)],y=f.files;if(d.checkCRC32)for(var S=0;S<y.length;S++)b.push(m(y[S]));return s.Promise.all(b)}).then(function(f){for(var b=f.shift(),y=b.files,S=0;S<y.length;S++){var P=y[S],T=P.fileNameStr,D=r.resolve(P.fileNameStr);v.file(D,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:d.createFolders}),P.dir||(v.file(D).unsafeOriginalName=T)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,i){var r=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}r.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,i){var r=n("readable-stream").Readable;function s(a,l,u){r.call(this,l),this._helper=a;var h=this;a.on("data",function(m,g){h.push(m)||h._helper.pause(),u&&u(g)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}n("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,i){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,s);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,s)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var s=new Buffer(r);return s.fill(0),s},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,o,i){function r(D,X,F){var L,x=a.getTypeOf(X),H=a.extend(F||{},h);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(D=y(D)),H.createFolders&&(L=b(D))&&S.call(this,L,!0);var se=x==="string"&&H.binary===!1&&H.base64===!1;F&&F.binary!==void 0||(H.binary=!se),(X instanceof m&&X.uncompressedSize===0||H.dir||!X||X.length===0)&&(H.base64=!1,H.binary=!0,X="",H.compression="STORE",x="string");var I=null;I=X instanceof m||X instanceof l?X:v.isNode&&v.isStream(X)?new f(D,X):a.prepareContent(D,X,H.binary,H.optimizedBinaryString,H.base64);var U=new g(D,I,H);this.files[D]=U}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),h=n("./defaults"),m=n("./compressedObject"),g=n("./zipObject"),d=n("./generate"),v=n("./nodejsUtils"),f=n("./nodejs/NodejsStreamInputAdapter"),b=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var X=D.lastIndexOf("/");return 0<X?D.substring(0,X):""},y=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},S=function(D,X){return X=X!==void 0?X:h.createFolders,D=y(D),this.files[D]||r.call(this,D,null,{dir:!0,createFolders:X}),this.files[D]};function P(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var X,F,L;for(X in this.files)L=this.files[X],(F=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&D(F,L)},filter:function(D){var X=[];return this.forEach(function(F,L){D(F,L)&&X.push(L)}),X},file:function(D,X,F){if(arguments.length!==1)return D=this.root+D,r.call(this,D,X,F),this;if(P(D)){var L=D;return this.filter(function(H,se){return!se.dir&&L.test(H)})}var x=this.files[this.root+D];return x&&!x.dir?x:null},folder:function(D){if(!D)return this;if(P(D))return this.filter(function(x,H){return H.dir&&D.test(x)});var X=this.root+D,F=S.call(this,X),L=this.clone();return L.root=F.name,L},remove:function(D){D=this.root+D;var X=this.files[D];if(X||(D.slice(-1)!=="/"&&(D+="/"),X=this.files[D]),X&&!X.dir)delete this.files[D];else for(var F=this.filter(function(x,H){return H.name.slice(0,D.length)===D}),L=0;L<F.length;L++)delete this.files[F[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var X,F={};try{if((F=a.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var L=F.comment||this.comment||"";X=d.generateWorker(this,F,L)}catch(x){(X=new l("error")).error(x)}return new u(X,F.type||"string",F.mimeType)},generateAsync:function(D,X){return this.generateInternalStream(D).accumulate(X)},generateNodeStream:function(D,X){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(X)}};o.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,i){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,i){var r=n("./DataReader");function s(a){r.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),m=a.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===u&&this.data[g+2]===h&&this.data[g+3]===m)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),m=a.charCodeAt(3),g=this.readData(4);return l===g[0]&&u===g[1]&&h===g[2]&&m===g[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,i){var r=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return r.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,i){var r=n("./Uint8ArrayReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,i){var r=n("./DataReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,i){var r=n("./ArrayReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,i){var r=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");o.exports=function(m){var g=r.getTypeOf(m);return r.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new u(m):s.uint8array?new h(r.transformTo("uint8array",m)):new a(r.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,i){var r=n("./GenericWorker"),s=n("../utils");function a(l){r.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,r),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,i){var r=n("./GenericWorker"),s=n("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,r),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,i){var r=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,i){var r=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=r.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}r.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,i){function r(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=r},{}],29:[function(n,o,i){var r=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),h=n("../external"),m=null;if(u.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,f){return new h.Promise(function(b,y){var S=[],P=v._internalType,T=v._outputType,D=v._mimeType;v.on("data",function(X,F){S.push(X),f&&f(F)}).on("error",function(X){S=[],y(X)}).on("end",function(){try{var X=function(F,L,x){switch(F){case"blob":return r.newBlob(r.transformTo("arraybuffer",L),x);case"base64":return l.encode(L);default:return r.transformTo(F,L)}}(T,function(F,L){var x,H=0,se=null,I=0;for(x=0;x<L.length;x++)I+=L[x].length;switch(F){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(se=new Uint8Array(I),x=0;x<L.length;x++)se.set(L[x],H),H+=L[x].length;return se;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+F+"'")}}(P,S),D);b(X)}catch(F){y(F)}S=[]}).resume()})}function d(v,f,b){var y=f;switch(f){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=f,this._mimeType=b,r.checkSupport(y),this._worker=v.pipe(new s(y)),v.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}d.prototype={accumulate:function(v){return g(this,v)},on:function(v,f){var b=this;return v==="data"?this._worker.on(v,function(y){f.call(b,y.data,y.meta)}):this._worker.on(v,function(){r.delay(f,arguments,b)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},v)}},o.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,i){for(var r=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return s.nodebuffer?a.newBufferFrom(d,"utf-8"):function(v){var f,b,y,S,P,T=v.length,D=0;for(S=0;S<T;S++)(64512&(b=v.charCodeAt(S)))==55296&&S+1<T&&(64512&(y=v.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),S++),D+=b<128?1:b<2048?2:b<65536?3:4;for(f=s.uint8array?new Uint8Array(D):new Array(D),S=P=0;P<D;S++)(64512&(b=v.charCodeAt(S)))==55296&&S+1<T&&(64512&(y=v.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),S++),b<128?f[P++]=b:(b<2048?f[P++]=192|b>>>6:(b<65536?f[P++]=224|b>>>12:(f[P++]=240|b>>>18,f[P++]=128|b>>>12&63),f[P++]=128|b>>>6&63),f[P++]=128|63&b);return f}(d)},i.utf8decode=function(d){return s.nodebuffer?r.transformTo("nodebuffer",d).toString("utf-8"):function(v){var f,b,y,S,P=v.length,T=new Array(2*P);for(f=b=0;f<P;)if((y=v[f++])<128)T[b++]=y;else if(4<(S=u[y]))T[b++]=65533,f+=S-1;else{for(y&=S===2?31:S===3?15:7;1<S&&f<P;)y=y<<6|63&v[f++],S--;1<S?T[b++]=65533:y<65536?T[b++]=y:(y-=65536,T[b++]=55296|y>>10&1023,T[b++]=56320|1023&y)}return T.length!==b&&(T.subarray?T=T.subarray(0,b):T.length=b),r.applyFromCharCode(T)}(d=r.transformTo(s.uint8array?"uint8array":"array",d))},r.inherits(m,l),m.prototype.processChunk=function(d){var v=r.transformTo(s.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=v;(v=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),v.set(f,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=function(S,P){var T;for((P=P||S.length)>S.length&&(P=S.length),T=P-1;0<=T&&(192&S[T])==128;)T--;return T<0||T===0?P:T+u[S[T]]>P?T:P}(v),y=v;b!==v.length&&(s.uint8array?(y=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(y=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:i.utf8decode(y),meta:d.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,r.inherits(g,l),g.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,i){var r=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(f){return f}function h(f,b){for(var y=0;y<f.length;++y)b[y]=255&f.charCodeAt(y);return b}n("setimmediate"),i.newBlob=function(f,b){i.checkSupport("blob");try{return new Blob([f],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(f),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(f,b,y){var S=[],P=0,T=f.length;if(T<=y)return String.fromCharCode.apply(null,f);for(;P<T;)b==="array"||b==="nodebuffer"?S.push(String.fromCharCode.apply(null,f.slice(P,Math.min(P+y,T)))):S.push(String.fromCharCode.apply(null,f.subarray(P,Math.min(P+y,T)))),P+=y;return S.join("")},stringifyByChar:function(f){for(var b="",y=0;y<f.length;y++)b+=String.fromCharCode(f[y]);return b},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function g(f){var b=65536,y=i.getTypeOf(f),S=!0;if(y==="uint8array"?S=m.applyCanBeUsed.uint8array:y==="nodebuffer"&&(S=m.applyCanBeUsed.nodebuffer),S)for(;1<b;)try{return m.stringifyByChunk(f,y,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(f)}function d(f,b){for(var y=0;y<f.length;y++)b[y]=f[y];return b}i.applyFromCharCode=g;var v={};v.string={string:u,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return v.string.uint8array(f).buffer},uint8array:function(f){return h(f,new Uint8Array(f.length))},nodebuffer:function(f){return h(f,a.allocBuffer(f.length))}},v.array={string:g,array:u,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(f)}},v.arraybuffer={string:function(f){return g(new Uint8Array(f))},array:function(f){return d(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:u,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(new Uint8Array(f))}},v.uint8array={string:g,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:u,nodebuffer:function(f){return a.newBufferFrom(f)}},v.nodebuffer={string:g,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return v.nodebuffer.uint8array(f).buffer},uint8array:function(f){return d(f,new Uint8Array(f.length))},nodebuffer:u},i.transformTo=function(f,b){if(b=b||"",!f)return b;i.checkSupport(f);var y=i.getTypeOf(b);return v[y][f](b)},i.resolve=function(f){for(var b=f.split("/"),y=[],S=0;S<b.length;S++){var P=b[S];P==="."||P===""&&S!==0&&S!==b.length-1||(P===".."?y.pop():y.push(P))}return y.join("/")},i.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":r.nodebuffer&&a.isBuffer(f)?"nodebuffer":r.uint8array&&f instanceof Uint8Array?"uint8array":r.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(f){if(!r[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(f){var b,y,S="";for(y=0;y<(f||"").length;y++)S+="\\x"+((b=f.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return S},i.delay=function(f,b,y){setImmediate(function(){f.apply(y||null,b||[])})},i.inherits=function(f,b){function y(){}y.prototype=b.prototype,f.prototype=new y},i.extend=function(){var f,b,y={};for(f=0;f<arguments.length;f++)for(b in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],b)&&y[b]===void 0&&(y[b]=arguments[f][b]);return y},i.prepareContent=function(f,b,y,S,P){return l.Promise.resolve(b).then(function(T){return r.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new l.Promise(function(D,X){var F=new FileReader;F.onload=function(L){D(L.target.result)},F.onerror=function(L){X(L.target.error)},F.readAsArrayBuffer(T)}):T}).then(function(T){var D=i.getTypeOf(T);return D?(D==="arraybuffer"?T=i.transformTo("uint8array",T):D==="string"&&(P?T=s.decode(T):y&&S!==!0&&(T=function(X){return h(X,r.uint8array?new Uint8Array(X.length):new Array(X.length))}(T))),T):l.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,i){var r=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(m)+")")}},isSignature:function(m,g){var d=this.reader.index;this.reader.setIndex(m);var v=this.reader.readString(4)===g;return this.reader.setIndex(d),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=u.uint8array?"uint8array":"array",d=s.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,d,v=this.zip64EndOfCentralSize-44;0<v;)m=this.reader.readInt(2),g=this.reader.readInt(4),d=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var v=g-d;if(0<v)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(m){this.reader=r(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,i){var r=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),h=n("./compressions"),m=n("./support");function g(d,v){this.options=d,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var v,f;if(d.skip(22),this.fileNameLength=d.readInt(2),f=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(b){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===b)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var v=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(v),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var v,f,b,y=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<y;)v=d.readInt(2),f=d.readInt(2),b=d.readData(f),this.extraFields[v]={id:v,length:f,value:b};d.setIndex(y)},handleUTF8:function(){var d=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var f=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var v=r(d.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var v=r(d.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null}},o.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,i){function r(v,f,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=f,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),h=n("./stream/GenericWorker");r.prototype={internalStream:function(v){var f=null,b="string";try{if(!v)throw new Error("No output type specified.");var y=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),f=this._decompressWorker();var S=!this._dataBinary;S&&!y&&(f=f.pipe(new l.Utf8EncodeWorker)),!S&&y&&(f=f.pipe(new l.Utf8DecodeWorker))}catch(P){(f=new h("error")).error(P)}return new s(f,b,"")},async:function(v,f){return this.internalStream(v).accumulate(f)},nodeStream:function(v,f){return this.internalStream(v||"nodebuffer").toNodejsStream(f)},_compressWorker:function(v,f){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,v,f)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<m.length;d++)r.prototype[m[d]]=g;o.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,i){(function(r){var s,a,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var u=0,h=new l(v),m=r.document.createTextNode("");h.observe(m,{characterData:!0}),s=function(){m.data=u=++u%2}}else if(r.setImmediate||r.MessageChannel===void 0)s="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var f=r.document.createElement("script");f.onreadystatechange=function(){v(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},r.document.documentElement.appendChild(f)}:function(){setTimeout(v,0)};else{var g=new r.MessageChannel;g.port1.onmessage=v,s=function(){g.port2.postMessage(0)}}var d=[];function v(){var f,b;a=!0;for(var y=d.length;y;){for(b=d,d=[],f=-1;++f<y;)b[f]();y=d.length}a=!1}o.exports=function(f){d.push(f)!==1||a||s()}}).call(this,typeof un<"u"?un:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,i){var r=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function m(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==s&&f(this,y)}function g(y,S,P){this.promise=y,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function d(y,S,P){r(function(){var T;try{T=S(P)}catch(D){return a.reject(y,D)}T===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,T)})}function v(y){var S=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof S=="function")return function(){S.apply(y,arguments)}}function f(y,S){var P=!1;function T(F){P||(P=!0,a.reject(y,F))}function D(F){P||(P=!0,a.resolve(y,F))}var X=b(function(){S(D,T)});X.status==="error"&&T(X.value)}function b(y,S){var P={};try{P.value=y(S),P.status="success"}catch(T){P.status="error",P.value=T}return P}(o.exports=m).prototype.finally=function(y){if(typeof y!="function")return this;var S=this.constructor;return this.then(function(P){return S.resolve(y()).then(function(){return P})},function(P){return S.resolve(y()).then(function(){throw P})})},m.prototype.catch=function(y){return this.then(null,y)},m.prototype.then=function(y,S){if(typeof y!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var P=new this.constructor(s);return this.state!==h?d(P,this.state===u?y:S,this.outcome):this.queue.push(new g(P,y,S)),P},g.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},g.prototype.otherCallFulfilled=function(y){d(this.promise,this.onFulfilled,y)},g.prototype.callRejected=function(y){a.reject(this.promise,y)},g.prototype.otherCallRejected=function(y){d(this.promise,this.onRejected,y)},a.resolve=function(y,S){var P=b(v,S);if(P.status==="error")return a.reject(y,P.value);var T=P.value;if(T)f(y,T);else{y.state=u,y.outcome=S;for(var D=-1,X=y.queue.length;++D<X;)y.queue[D].callFulfilled(S)}return y},a.reject=function(y,S){y.state=l,y.outcome=S;for(var P=-1,T=y.queue.length;++P<T;)y.queue[P].callRejected(S);return y},m.resolve=function(y){return y instanceof this?y:a.resolve(new this(s),y)},m.reject=function(y){var S=new this(s);return a.reject(S,y)},m.all=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=y.length,T=!1;if(!P)return this.resolve([]);for(var D=new Array(P),X=0,F=-1,L=new this(s);++F<P;)x(y[F],F);return L;function x(H,se){S.resolve(H).then(function(I){D[se]=I,++X!==P||T||(T=!0,a.resolve(L,D))},function(I){T||(T=!0,a.reject(L,I))})}},m.race=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=y.length,T=!1;if(!P)return this.resolve([]);for(var D=-1,X=new this(s);++D<P;)F=y[D],S.resolve(F).then(function(L){T||(T=!0,a.resolve(X,L))},function(L){T||(T=!0,a.reject(X,L))});var F;return X}},{immediate:36}],38:[function(n,o,i){var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,i){var r=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),h=Object.prototype.toString,m=0,g=-1,d=0,v=8;function f(y){if(!(this instanceof f))return new f(y);this.options=s.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},y||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var P=r.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(P!==m)throw new Error(l[P]);if(S.header&&r.deflateSetHeader(this.strm,S.header),S.dictionary){var T;if(T=typeof S.dictionary=="string"?a.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(P=r.deflateSetDictionary(this.strm,T))!==m)throw new Error(l[P]);this._dict_set=!0}}function b(y,S){var P=new f(S);if(P.push(y,!0),P.err)throw P.msg||l[P.err];return P.result}f.prototype.push=function(y,S){var P,T,D=this.strm,X=this.options.chunkSize;if(this.ended)return!1;T=S===~~S?S:S===!0?4:0,typeof y=="string"?D.input=a.string2buf(y):h.call(y)==="[object ArrayBuffer]"?D.input=new Uint8Array(y):D.input=y,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new s.Buf8(X),D.next_out=0,D.avail_out=X),(P=r.deflate(D,T))!==1&&P!==m)return this.onEnd(P),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(D.output,D.next_out))):this.onData(s.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&P!==1);return T===4?(P=r.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===m):T!==2||(this.onEnd(m),!(D.avail_out=0))},f.prototype.onData=function(y){this.chunks.push(y)},f.prototype.onEnd=function(y){y===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=f,i.deflate=b,i.deflateRaw=function(y,S){return(S=S||{}).raw=!0,b(y,S)},i.gzip=function(y,S){return(S=S||{}).gzip=!0,b(y,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,i){var r=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),h=n("./zlib/zstream"),m=n("./zlib/gzheader"),g=Object.prototype.toString;function d(f){if(!(this instanceof d))return new d(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||f&&f.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=r.inflateInit2(this.strm,b.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new m,r.inflateGetHeader(this.strm,this.header)}function v(f,b){var y=new d(b);if(y.push(f,!0),y.err)throw y.msg||u[y.err];return y.result}d.prototype.push=function(f,b){var y,S,P,T,D,X,F=this.strm,L=this.options.chunkSize,x=this.options.dictionary,H=!1;if(this.ended)return!1;S=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof f=="string"?F.input=a.binstring2buf(f):g.call(f)==="[object ArrayBuffer]"?F.input=new Uint8Array(f):F.input=f,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(L),F.next_out=0,F.avail_out=L),(y=r.inflate(F,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&x&&(X=typeof x=="string"?a.string2buf(x):g.call(x)==="[object ArrayBuffer]"?new Uint8Array(x):x,y=r.inflateSetDictionary(this.strm,X)),y===l.Z_BUF_ERROR&&H===!0&&(y=l.Z_OK,H=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&y!==l.Z_STREAM_END&&(F.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=a.utf8border(F.output,F.next_out),T=F.next_out-P,D=a.buf2string(F.output,P),F.next_out=T,F.avail_out=L-T,T&&s.arraySet(F.output,F.output,P,T,0),this.onData(D)):this.onData(s.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(H=!0)}while((0<F.avail_in||F.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(y=r.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(F.avail_out=0))},d.prototype.onData=function(f){this.chunks.push(f)},d.prototype.onEnd=function(f){f===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Inflate=d,i.inflate=v,i.inflateRaw=function(f,b){return(b=b||{}).raw=!0,v(f,b)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,h,m,g){if(u.subarray&&l.subarray)l.set(u.subarray(h,h+m),g);else for(var d=0;d<m;d++)l[g+d]=u[h+d]},flattenChunks:function(l){var u,h,m,g,d,v;for(u=m=0,h=l.length;u<h;u++)m+=l[u].length;for(v=new Uint8Array(m),u=g=0,h=l.length;u<h;u++)d=l[u],v.set(d,g),g+=d.length;return v}},a={arraySet:function(l,u,h,m,g){for(var d=0;d<m;d++)l[g+d]=u[h+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(r)},{}],42:[function(n,o,i){var r=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new r.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(m,g){if(g<65537&&(m.subarray&&a||!m.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(m,g));for(var d="",v=0;v<g;v++)d+=String.fromCharCode(m[v]);return d}l[254]=l[254]=1,i.string2buf=function(m){var g,d,v,f,b,y=m.length,S=0;for(f=0;f<y;f++)(64512&(d=m.charCodeAt(f)))==55296&&f+1<y&&(64512&(v=m.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),f++),S+=d<128?1:d<2048?2:d<65536?3:4;for(g=new r.Buf8(S),f=b=0;b<S;f++)(64512&(d=m.charCodeAt(f)))==55296&&f+1<y&&(64512&(v=m.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),f++),d<128?g[b++]=d:(d<2048?g[b++]=192|d>>>6:(d<65536?g[b++]=224|d>>>12:(g[b++]=240|d>>>18,g[b++]=128|d>>>12&63),g[b++]=128|d>>>6&63),g[b++]=128|63&d);return g},i.buf2binstring=function(m){return h(m,m.length)},i.binstring2buf=function(m){for(var g=new r.Buf8(m.length),d=0,v=g.length;d<v;d++)g[d]=m.charCodeAt(d);return g},i.buf2string=function(m,g){var d,v,f,b,y=g||m.length,S=new Array(2*y);for(d=v=0;d<y;)if((f=m[d++])<128)S[v++]=f;else if(4<(b=l[f]))S[v++]=65533,d+=b-1;else{for(f&=b===2?31:b===3?15:7;1<b&&d<y;)f=f<<6|63&m[d++],b--;1<b?S[v++]=65533:f<65536?S[v++]=f:(f-=65536,S[v++]=55296|f>>10&1023,S[v++]=56320|1023&f)}return h(S,v)},i.utf8border=function(m,g){var d;for((g=g||m.length)>m.length&&(g=m.length),d=g-1;0<=d&&(192&m[d])==128;)d--;return d<0||d===0?g:d+l[m[d]]>g?d:g}},{"./common":41}],43:[function(n,o,i){o.exports=function(r,s,a,l){for(var u=65535&r|0,h=r>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;h=h+(u=u+s[l++]|0)|0,--m;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(n,o,i){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,i){var r=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();o.exports=function(s,a,l,u){var h=r,m=u+l;s^=-1;for(var g=u;g<m;g++)s=s>>>8^h[255&(s^a[g])];return-1^s}},{}],46:[function(n,o,i){var r,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),h=n("./messages"),m=0,g=4,d=0,v=-2,f=-1,b=4,y=2,S=8,P=9,T=286,D=30,X=19,F=2*T+1,L=15,x=3,H=258,se=H+x+1,I=42,U=113,p=1,Q=2,ye=3,ee=4;function Se(c,M){return c.msg=h[M],M}function ue(c){return(c<<1)-(4<c?9:0)}function he(c){for(var M=c.length;0<=--M;)c[M]=0}function G(c){var M=c.state,z=M.pending;z>c.avail_out&&(z=c.avail_out),z!==0&&(s.arraySet(c.output,M.pending_buf,M.pending_out,z,c.next_out),c.next_out+=z,M.pending_out+=z,c.total_out+=z,c.avail_out-=z,M.pending-=z,M.pending===0&&(M.pending_out=0))}function q(c,M){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,M),c.block_start=c.strstart,G(c.strm)}function Ce(c,M){c.pending_buf[c.pending++]=M}function we(c,M){c.pending_buf[c.pending++]=M>>>8&255,c.pending_buf[c.pending++]=255&M}function te(c,M){var z,C,_=c.max_chain_length,E=c.strstart,W=c.prev_length,j=c.nice_match,N=c.strstart>c.w_size-se?c.strstart-(c.w_size-se):0,Y=c.window,ie=c.w_mask,ne=c.prev,me=c.strstart+H,Ae=Y[E+W-1],$e=Y[E+W];c.prev_length>=c.good_match&&(_>>=2),j>c.lookahead&&(j=c.lookahead);do if(Y[(z=M)+W]===$e&&Y[z+W-1]===Ae&&Y[z]===Y[E]&&Y[++z]===Y[E+1]){E+=2,z++;do;while(Y[++E]===Y[++z]&&Y[++E]===Y[++z]&&Y[++E]===Y[++z]&&Y[++E]===Y[++z]&&Y[++E]===Y[++z]&&Y[++E]===Y[++z]&&Y[++E]===Y[++z]&&Y[++E]===Y[++z]&&E<me);if(C=H-(me-E),E=me-H,W<C){if(c.match_start=M,j<=(W=C))break;Ae=Y[E+W-1],$e=Y[E+W]}}while((M=ne[M&ie])>N&&--_!=0);return W<=c.lookahead?W:c.lookahead}function Ee(c){var M,z,C,_,E,W,j,N,Y,ie,ne=c.w_size;do{if(_=c.window_size-c.lookahead-c.strstart,c.strstart>=ne+(ne-se)){for(s.arraySet(c.window,c.window,ne,ne,0),c.match_start-=ne,c.strstart-=ne,c.block_start-=ne,M=z=c.hash_size;C=c.head[--M],c.head[M]=ne<=C?C-ne:0,--z;);for(M=z=ne;C=c.prev[--M],c.prev[M]=ne<=C?C-ne:0,--z;);_+=ne}if(c.strm.avail_in===0)break;if(W=c.strm,j=c.window,N=c.strstart+c.lookahead,Y=_,ie=void 0,ie=W.avail_in,Y<ie&&(ie=Y),z=ie===0?0:(W.avail_in-=ie,s.arraySet(j,W.input,W.next_in,ie,N),W.state.wrap===1?W.adler=l(W.adler,j,ie,N):W.state.wrap===2&&(W.adler=u(W.adler,j,ie,N)),W.next_in+=ie,W.total_in+=ie,ie),c.lookahead+=z,c.lookahead+c.insert>=x)for(E=c.strstart-c.insert,c.ins_h=c.window[E],c.ins_h=(c.ins_h<<c.hash_shift^c.window[E+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[E+x-1])&c.hash_mask,c.prev[E&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=E,E++,c.insert--,!(c.lookahead+c.insert<x)););}while(c.lookahead<se&&c.strm.avail_in!==0)}function Re(c,M){for(var z,C;;){if(c.lookahead<se){if(Ee(c),c.lookahead<se&&M===m)return p;if(c.lookahead===0)break}if(z=0,c.lookahead>=x&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+x-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),z!==0&&c.strstart-z<=c.w_size-se&&(c.match_length=te(c,z)),c.match_length>=x)if(C=a._tr_tally(c,c.strstart-c.match_start,c.match_length-x),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=x){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+x-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else C=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(C&&(q(c,!1),c.strm.avail_out===0))return p}return c.insert=c.strstart<x-1?c.strstart:x-1,M===g?(q(c,!0),c.strm.avail_out===0?ye:ee):c.last_lit&&(q(c,!1),c.strm.avail_out===0)?p:Q}function Ie(c,M){for(var z,C,_;;){if(c.lookahead<se){if(Ee(c),c.lookahead<se&&M===m)return p;if(c.lookahead===0)break}if(z=0,c.lookahead>=x&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+x-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=x-1,z!==0&&c.prev_length<c.max_lazy_match&&c.strstart-z<=c.w_size-se&&(c.match_length=te(c,z),c.match_length<=5&&(c.strategy===1||c.match_length===x&&4096<c.strstart-c.match_start)&&(c.match_length=x-1)),c.prev_length>=x&&c.match_length<=c.prev_length){for(_=c.strstart+c.lookahead-x,C=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-x),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=_&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+x-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=x-1,c.strstart++,C&&(q(c,!1),c.strm.avail_out===0))return p}else if(c.match_available){if((C=a._tr_tally(c,0,c.window[c.strstart-1]))&&q(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return p}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(C=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<x-1?c.strstart:x-1,M===g?(q(c,!0),c.strm.avail_out===0?ye:ee):c.last_lit&&(q(c,!1),c.strm.avail_out===0)?p:Q}function Be(c,M,z,C,_){this.good_length=c,this.max_lazy=M,this.nice_length=z,this.max_chain=C,this.func=_}function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*F),this.dyn_dtree=new s.Buf16(2*(2*D+1)),this.bl_tree=new s.Buf16(2*(2*X+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*T+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(c){var M;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=y,(M=c.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?I:U,c.adler=M.wrap===2?0:1,M.last_flush=m,a._tr_init(M),d):Se(c,v)}function A(c){var M=Ge(c);return M===d&&function(z){z.window_size=2*z.w_size,he(z.head),z.max_lazy_match=r[z.level].max_lazy,z.good_match=r[z.level].good_length,z.nice_match=r[z.level].nice_length,z.max_chain_length=r[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=x-1,z.match_available=0,z.ins_h=0}(c.state),M}function R(c,M,z,C,_,E){if(!c)return v;var W=1;if(M===f&&(M=6),C<0?(W=0,C=-C):15<C&&(W=2,C-=16),_<1||P<_||z!==S||C<8||15<C||M<0||9<M||E<0||b<E)return Se(c,v);C===8&&(C=9);var j=new Ze;return(c.state=j).strm=c,j.wrap=W,j.gzhead=null,j.w_bits=C,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=_+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+x-1)/x),j.window=new s.Buf8(2*j.w_size),j.head=new s.Buf16(j.hash_size),j.prev=new s.Buf16(j.w_size),j.lit_bufsize=1<<_+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new s.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=M,j.strategy=E,j.method=z,A(c)}r=[new Be(0,0,0,0,function(c,M){var z=65535;for(z>c.pending_buf_size-5&&(z=c.pending_buf_size-5);;){if(c.lookahead<=1){if(Ee(c),c.lookahead===0&&M===m)return p;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var C=c.block_start+z;if((c.strstart===0||c.strstart>=C)&&(c.lookahead=c.strstart-C,c.strstart=C,q(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-se&&(q(c,!1),c.strm.avail_out===0))return p}return c.insert=0,M===g?(q(c,!0),c.strm.avail_out===0?ye:ee):(c.strstart>c.block_start&&(q(c,!1),c.strm.avail_out),p)}),new Be(4,4,8,4,Re),new Be(4,5,16,8,Re),new Be(4,6,32,32,Re),new Be(4,4,16,16,Ie),new Be(8,16,32,32,Ie),new Be(8,16,128,128,Ie),new Be(8,32,128,256,Ie),new Be(32,128,258,1024,Ie),new Be(32,258,258,4096,Ie)],i.deflateInit=function(c,M){return R(c,M,S,15,8,0)},i.deflateInit2=R,i.deflateReset=A,i.deflateResetKeep=Ge,i.deflateSetHeader=function(c,M){return c&&c.state?c.state.wrap!==2?v:(c.state.gzhead=M,d):v},i.deflate=function(c,M){var z,C,_,E;if(!c||!c.state||5<M||M<0)return c?Se(c,v):v;if(C=c.state,!c.output||!c.input&&c.avail_in!==0||C.status===666&&M!==g)return Se(c,c.avail_out===0?-5:v);if(C.strm=c,z=C.last_flush,C.last_flush=M,C.status===I)if(C.wrap===2)c.adler=0,Ce(C,31),Ce(C,139),Ce(C,8),C.gzhead?(Ce(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),Ce(C,255&C.gzhead.time),Ce(C,C.gzhead.time>>8&255),Ce(C,C.gzhead.time>>16&255),Ce(C,C.gzhead.time>>24&255),Ce(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ce(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(Ce(C,255&C.gzhead.extra.length),Ce(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(c.adler=u(c.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(Ce(C,0),Ce(C,0),Ce(C,0),Ce(C,0),Ce(C,0),Ce(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ce(C,3),C.status=U);else{var W=S+(C.w_bits-8<<4)<<8;W|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(W|=32),W+=31-W%31,C.status=U,we(C,W),C.strstart!==0&&(we(C,c.adler>>>16),we(C,65535&c.adler)),c.adler=1}if(C.status===69)if(C.gzhead.extra){for(_=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),G(c),_=C.pending,C.pending!==C.pending_buf_size));)Ce(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),G(c),_=C.pending,C.pending===C.pending_buf_size)){E=1;break}E=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,Ce(C,E)}while(E!==0);C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),E===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),G(c),_=C.pending,C.pending===C.pending_buf_size)){E=1;break}E=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,Ce(C,E)}while(E!==0);C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),E===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&G(c),C.pending+2<=C.pending_buf_size&&(Ce(C,255&c.adler),Ce(C,c.adler>>8&255),c.adler=0,C.status=U)):C.status=U),C.pending!==0){if(G(c),c.avail_out===0)return C.last_flush=-1,d}else if(c.avail_in===0&&ue(M)<=ue(z)&&M!==g)return Se(c,-5);if(C.status===666&&c.avail_in!==0)return Se(c,-5);if(c.avail_in!==0||C.lookahead!==0||M!==m&&C.status!==666){var j=C.strategy===2?function(N,Y){for(var ie;;){if(N.lookahead===0&&(Ee(N),N.lookahead===0)){if(Y===m)return p;break}if(N.match_length=0,ie=a._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,ie&&(q(N,!1),N.strm.avail_out===0))return p}return N.insert=0,Y===g?(q(N,!0),N.strm.avail_out===0?ye:ee):N.last_lit&&(q(N,!1),N.strm.avail_out===0)?p:Q}(C,M):C.strategy===3?function(N,Y){for(var ie,ne,me,Ae,$e=N.window;;){if(N.lookahead<=H){if(Ee(N),N.lookahead<=H&&Y===m)return p;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=x&&0<N.strstart&&(ne=$e[me=N.strstart-1])===$e[++me]&&ne===$e[++me]&&ne===$e[++me]){Ae=N.strstart+H;do;while(ne===$e[++me]&&ne===$e[++me]&&ne===$e[++me]&&ne===$e[++me]&&ne===$e[++me]&&ne===$e[++me]&&ne===$e[++me]&&ne===$e[++me]&&me<Ae);N.match_length=H-(Ae-me),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=x?(ie=a._tr_tally(N,1,N.match_length-x),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(ie=a._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),ie&&(q(N,!1),N.strm.avail_out===0))return p}return N.insert=0,Y===g?(q(N,!0),N.strm.avail_out===0?ye:ee):N.last_lit&&(q(N,!1),N.strm.avail_out===0)?p:Q}(C,M):r[C.level].func(C,M);if(j!==ye&&j!==ee||(C.status=666),j===p||j===ye)return c.avail_out===0&&(C.last_flush=-1),d;if(j===Q&&(M===1?a._tr_align(C):M!==5&&(a._tr_stored_block(C,0,0,!1),M===3&&(he(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),G(c),c.avail_out===0))return C.last_flush=-1,d}return M!==g?d:C.wrap<=0?1:(C.wrap===2?(Ce(C,255&c.adler),Ce(C,c.adler>>8&255),Ce(C,c.adler>>16&255),Ce(C,c.adler>>24&255),Ce(C,255&c.total_in),Ce(C,c.total_in>>8&255),Ce(C,c.total_in>>16&255),Ce(C,c.total_in>>24&255)):(we(C,c.adler>>>16),we(C,65535&c.adler)),G(c),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?d:1)},i.deflateEnd=function(c){var M;return c&&c.state?(M=c.state.status)!==I&&M!==69&&M!==73&&M!==91&&M!==103&&M!==U&&M!==666?Se(c,v):(c.state=null,M===U?Se(c,-3):d):v},i.deflateSetDictionary=function(c,M){var z,C,_,E,W,j,N,Y,ie=M.length;if(!c||!c.state||(E=(z=c.state).wrap)===2||E===1&&z.status!==I||z.lookahead)return v;for(E===1&&(c.adler=l(c.adler,M,ie,0)),z.wrap=0,ie>=z.w_size&&(E===0&&(he(z.head),z.strstart=0,z.block_start=0,z.insert=0),Y=new s.Buf8(z.w_size),s.arraySet(Y,M,ie-z.w_size,z.w_size,0),M=Y,ie=z.w_size),W=c.avail_in,j=c.next_in,N=c.input,c.avail_in=ie,c.next_in=0,c.input=M,Ee(z);z.lookahead>=x;){for(C=z.strstart,_=z.lookahead-(x-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[C+x-1])&z.hash_mask,z.prev[C&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=C,C++,--_;);z.strstart=C,z.lookahead=x-1,Ee(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=x-1,z.match_available=0,c.next_in=j,c.input=N,c.avail_in=W,z.wrap=E,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,i){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,i){o.exports=function(r,s){var a,l,u,h,m,g,d,v,f,b,y,S,P,T,D,X,F,L,x,H,se,I,U,p,Q;a=r.state,l=r.next_in,p=r.input,u=l+(r.avail_in-5),h=r.next_out,Q=r.output,m=h-(s-r.avail_out),g=h+(r.avail_out-257),d=a.dmax,v=a.wsize,f=a.whave,b=a.wnext,y=a.window,S=a.hold,P=a.bits,T=a.lencode,D=a.distcode,X=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;e:do{P<15&&(S+=p[l++]<<P,P+=8,S+=p[l++]<<P,P+=8),L=T[S&X];t:for(;;){if(S>>>=x=L>>>24,P-=x,(x=L>>>16&255)===0)Q[h++]=65535&L;else{if(!(16&x)){if(!(64&x)){L=T[(65535&L)+(S&(1<<x)-1)];continue t}if(32&x){a.mode=12;break e}r.msg="invalid literal/length code",a.mode=30;break e}H=65535&L,(x&=15)&&(P<x&&(S+=p[l++]<<P,P+=8),H+=S&(1<<x)-1,S>>>=x,P-=x),P<15&&(S+=p[l++]<<P,P+=8,S+=p[l++]<<P,P+=8),L=D[S&F];n:for(;;){if(S>>>=x=L>>>24,P-=x,!(16&(x=L>>>16&255))){if(!(64&x)){L=D[(65535&L)+(S&(1<<x)-1)];continue n}r.msg="invalid distance code",a.mode=30;break e}if(se=65535&L,P<(x&=15)&&(S+=p[l++]<<P,(P+=8)<x&&(S+=p[l++]<<P,P+=8)),d<(se+=S&(1<<x)-1)){r.msg="invalid distance too far back",a.mode=30;break e}if(S>>>=x,P-=x,(x=h-m)<se){if(f<(x=se-x)&&a.sane){r.msg="invalid distance too far back",a.mode=30;break e}if(U=y,(I=0)===b){if(I+=v-x,x<H){for(H-=x;Q[h++]=y[I++],--x;);I=h-se,U=Q}}else if(b<x){if(I+=v+b-x,(x-=b)<H){for(H-=x;Q[h++]=y[I++],--x;);if(I=0,b<H){for(H-=x=b;Q[h++]=y[I++],--x;);I=h-se,U=Q}}}else if(I+=b-x,x<H){for(H-=x;Q[h++]=y[I++],--x;);I=h-se,U=Q}for(;2<H;)Q[h++]=U[I++],Q[h++]=U[I++],Q[h++]=U[I++],H-=3;H&&(Q[h++]=U[I++],1<H&&(Q[h++]=U[I++]))}else{for(I=h-se;Q[h++]=Q[I++],Q[h++]=Q[I++],Q[h++]=Q[I++],2<(H-=3););H&&(Q[h++]=Q[I++],1<H&&(Q[h++]=Q[I++]))}break}}break}}while(l<u&&h<g);l-=H=P>>3,S&=(1<<(P-=H<<3))-1,r.next_in=l,r.next_out=h,r.avail_in=l<u?u-l+5:5-(l-u),r.avail_out=h<g?g-h+257:257-(h-g),a.hold=S,a.bits=P}},{}],49:[function(n,o,i){var r=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),h=1,m=2,g=0,d=-2,v=1,f=852,b=592;function y(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(I){var U;return I&&I.state?(U=I.state,I.total_in=I.total_out=U.total=0,I.msg="",U.wrap&&(I.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new r.Buf32(f),U.distcode=U.distdyn=new r.Buf32(b),U.sane=1,U.back=-1,g):d}function T(I){var U;return I&&I.state?((U=I.state).wsize=0,U.whave=0,U.wnext=0,P(I)):d}function D(I,U){var p,Q;return I&&I.state?(Q=I.state,U<0?(p=0,U=-U):(p=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?d:(Q.window!==null&&Q.wbits!==U&&(Q.window=null),Q.wrap=p,Q.wbits=U,T(I))):d}function X(I,U){var p,Q;return I?(Q=new S,(I.state=Q).window=null,(p=D(I,U))!==g&&(I.state=null),p):d}var F,L,x=!0;function H(I){if(x){var U;for(F=new r.Buf32(512),L=new r.Buf32(32),U=0;U<144;)I.lens[U++]=8;for(;U<256;)I.lens[U++]=9;for(;U<280;)I.lens[U++]=7;for(;U<288;)I.lens[U++]=8;for(u(h,I.lens,0,288,F,0,I.work,{bits:9}),U=0;U<32;)I.lens[U++]=5;u(m,I.lens,0,32,L,0,I.work,{bits:5}),x=!1}I.lencode=F,I.lenbits=9,I.distcode=L,I.distbits=5}function se(I,U,p,Q){var ye,ee=I.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new r.Buf8(ee.wsize)),Q>=ee.wsize?(r.arraySet(ee.window,U,p-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(Q<(ye=ee.wsize-ee.wnext)&&(ye=Q),r.arraySet(ee.window,U,p-Q,ye,ee.wnext),(Q-=ye)?(r.arraySet(ee.window,U,p-Q,Q,0),ee.wnext=Q,ee.whave=ee.wsize):(ee.wnext+=ye,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=ye))),0}i.inflateReset=T,i.inflateReset2=D,i.inflateResetKeep=P,i.inflateInit=function(I){return X(I,15)},i.inflateInit2=X,i.inflate=function(I,U){var p,Q,ye,ee,Se,ue,he,G,q,Ce,we,te,Ee,Re,Ie,Be,Ze,Ge,A,R,c,M,z,C,_=0,E=new r.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return d;(p=I.state).mode===12&&(p.mode=13),Se=I.next_out,ye=I.output,he=I.avail_out,ee=I.next_in,Q=I.input,ue=I.avail_in,G=p.hold,q=p.bits,Ce=ue,we=he,M=g;e:for(;;)switch(p.mode){case v:if(p.wrap===0){p.mode=13;break}for(;q<16;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(2&p.wrap&&G===35615){E[p.check=0]=255&G,E[1]=G>>>8&255,p.check=a(p.check,E,2,0),q=G=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&G)<<8)+(G>>8))%31){I.msg="incorrect header check",p.mode=30;break}if((15&G)!=8){I.msg="unknown compression method",p.mode=30;break}if(q-=4,c=8+(15&(G>>>=4)),p.wbits===0)p.wbits=c;else if(c>p.wbits){I.msg="invalid window size",p.mode=30;break}p.dmax=1<<c,I.adler=p.check=1,p.mode=512&G?10:12,q=G=0;break;case 2:for(;q<16;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(p.flags=G,(255&p.flags)!=8){I.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){I.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=G>>8&1),512&p.flags&&(E[0]=255&G,E[1]=G>>>8&255,p.check=a(p.check,E,2,0)),q=G=0,p.mode=3;case 3:for(;q<32;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}p.head&&(p.head.time=G),512&p.flags&&(E[0]=255&G,E[1]=G>>>8&255,E[2]=G>>>16&255,E[3]=G>>>24&255,p.check=a(p.check,E,4,0)),q=G=0,p.mode=4;case 4:for(;q<16;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}p.head&&(p.head.xflags=255&G,p.head.os=G>>8),512&p.flags&&(E[0]=255&G,E[1]=G>>>8&255,p.check=a(p.check,E,2,0)),q=G=0,p.mode=5;case 5:if(1024&p.flags){for(;q<16;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}p.length=G,p.head&&(p.head.extra_len=G),512&p.flags&&(E[0]=255&G,E[1]=G>>>8&255,p.check=a(p.check,E,2,0)),q=G=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(ue<(te=p.length)&&(te=ue),te&&(p.head&&(c=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),r.arraySet(p.head.extra,Q,ee,te,c)),512&p.flags&&(p.check=a(p.check,Q,te,ee)),ue-=te,ee+=te,p.length-=te),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(ue===0)break e;for(te=0;c=Q[ee+te++],p.head&&c&&p.length<65536&&(p.head.name+=String.fromCharCode(c)),c&&te<ue;);if(512&p.flags&&(p.check=a(p.check,Q,te,ee)),ue-=te,ee+=te,c)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(ue===0)break e;for(te=0;c=Q[ee+te++],p.head&&c&&p.length<65536&&(p.head.comment+=String.fromCharCode(c)),c&&te<ue;);if(512&p.flags&&(p.check=a(p.check,Q,te,ee)),ue-=te,ee+=te,c)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;q<16;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(G!==(65535&p.check)){I.msg="header crc mismatch",p.mode=30;break}q=G=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),I.adler=p.check=0,p.mode=12;break;case 10:for(;q<32;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}I.adler=p.check=y(G),q=G=0,p.mode=11;case 11:if(p.havedict===0)return I.next_out=Se,I.avail_out=he,I.next_in=ee,I.avail_in=ue,p.hold=G,p.bits=q,2;I.adler=p.check=1,p.mode=12;case 12:if(U===5||U===6)break e;case 13:if(p.last){G>>>=7&q,q-=7&q,p.mode=27;break}for(;q<3;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}switch(p.last=1&G,q-=1,3&(G>>>=1)){case 0:p.mode=14;break;case 1:if(H(p),p.mode=20,U!==6)break;G>>>=2,q-=2;break e;case 2:p.mode=17;break;case 3:I.msg="invalid block type",p.mode=30}G>>>=2,q-=2;break;case 14:for(G>>>=7&q,q-=7&q;q<32;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if((65535&G)!=(G>>>16^65535)){I.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&G,q=G=0,p.mode=15,U===6)break e;case 15:p.mode=16;case 16:if(te=p.length){if(ue<te&&(te=ue),he<te&&(te=he),te===0)break e;r.arraySet(ye,Q,ee,te,Se),ue-=te,ee+=te,he-=te,Se+=te,p.length-=te;break}p.mode=12;break;case 17:for(;q<14;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(p.nlen=257+(31&G),G>>>=5,q-=5,p.ndist=1+(31&G),G>>>=5,q-=5,p.ncode=4+(15&G),G>>>=4,q-=4,286<p.nlen||30<p.ndist){I.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;q<3;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}p.lens[W[p.have++]]=7&G,G>>>=3,q-=3}for(;p.have<19;)p.lens[W[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,z={bits:p.lenbits},M=u(0,p.lens,0,19,p.lencode,0,p.work,z),p.lenbits=z.bits,M){I.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;Be=(_=p.lencode[G&(1<<p.lenbits)-1])>>>16&255,Ze=65535&_,!((Ie=_>>>24)<=q);){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(Ze<16)G>>>=Ie,q-=Ie,p.lens[p.have++]=Ze;else{if(Ze===16){for(C=Ie+2;q<C;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(G>>>=Ie,q-=Ie,p.have===0){I.msg="invalid bit length repeat",p.mode=30;break}c=p.lens[p.have-1],te=3+(3&G),G>>>=2,q-=2}else if(Ze===17){for(C=Ie+3;q<C;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}q-=Ie,c=0,te=3+(7&(G>>>=Ie)),G>>>=3,q-=3}else{for(C=Ie+7;q<C;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}q-=Ie,c=0,te=11+(127&(G>>>=Ie)),G>>>=7,q-=7}if(p.have+te>p.nlen+p.ndist){I.msg="invalid bit length repeat",p.mode=30;break}for(;te--;)p.lens[p.have++]=c}}if(p.mode===30)break;if(p.lens[256]===0){I.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,z={bits:p.lenbits},M=u(h,p.lens,0,p.nlen,p.lencode,0,p.work,z),p.lenbits=z.bits,M){I.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,z={bits:p.distbits},M=u(m,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,z),p.distbits=z.bits,M){I.msg="invalid distances set",p.mode=30;break}if(p.mode=20,U===6)break e;case 20:p.mode=21;case 21:if(6<=ue&&258<=he){I.next_out=Se,I.avail_out=he,I.next_in=ee,I.avail_in=ue,p.hold=G,p.bits=q,l(I,we),Se=I.next_out,ye=I.output,he=I.avail_out,ee=I.next_in,Q=I.input,ue=I.avail_in,G=p.hold,q=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;Be=(_=p.lencode[G&(1<<p.lenbits)-1])>>>16&255,Ze=65535&_,!((Ie=_>>>24)<=q);){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(Be&&!(240&Be)){for(Ge=Ie,A=Be,R=Ze;Be=(_=p.lencode[R+((G&(1<<Ge+A)-1)>>Ge)])>>>16&255,Ze=65535&_,!(Ge+(Ie=_>>>24)<=q);){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}G>>>=Ge,q-=Ge,p.back+=Ge}if(G>>>=Ie,q-=Ie,p.back+=Ie,p.length=Ze,Be===0){p.mode=26;break}if(32&Be){p.back=-1,p.mode=12;break}if(64&Be){I.msg="invalid literal/length code",p.mode=30;break}p.extra=15&Be,p.mode=22;case 22:if(p.extra){for(C=p.extra;q<C;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}p.length+=G&(1<<p.extra)-1,G>>>=p.extra,q-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;Be=(_=p.distcode[G&(1<<p.distbits)-1])>>>16&255,Ze=65535&_,!((Ie=_>>>24)<=q);){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(!(240&Be)){for(Ge=Ie,A=Be,R=Ze;Be=(_=p.distcode[R+((G&(1<<Ge+A)-1)>>Ge)])>>>16&255,Ze=65535&_,!(Ge+(Ie=_>>>24)<=q);){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}G>>>=Ge,q-=Ge,p.back+=Ge}if(G>>>=Ie,q-=Ie,p.back+=Ie,64&Be){I.msg="invalid distance code",p.mode=30;break}p.offset=Ze,p.extra=15&Be,p.mode=24;case 24:if(p.extra){for(C=p.extra;q<C;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}p.offset+=G&(1<<p.extra)-1,G>>>=p.extra,q-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){I.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(he===0)break e;if(te=we-he,p.offset>te){if((te=p.offset-te)>p.whave&&p.sane){I.msg="invalid distance too far back",p.mode=30;break}Ee=te>p.wnext?(te-=p.wnext,p.wsize-te):p.wnext-te,te>p.length&&(te=p.length),Re=p.window}else Re=ye,Ee=Se-p.offset,te=p.length;for(he<te&&(te=he),he-=te,p.length-=te;ye[Se++]=Re[Ee++],--te;);p.length===0&&(p.mode=21);break;case 26:if(he===0)break e;ye[Se++]=p.length,he--,p.mode=21;break;case 27:if(p.wrap){for(;q<32;){if(ue===0)break e;ue--,G|=Q[ee++]<<q,q+=8}if(we-=he,I.total_out+=we,p.total+=we,we&&(I.adler=p.check=p.flags?a(p.check,ye,we,Se-we):s(p.check,ye,we,Se-we)),we=he,(p.flags?G:y(G))!==p.check){I.msg="incorrect data check",p.mode=30;break}q=G=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;q<32;){if(ue===0)break e;ue--,G+=Q[ee++]<<q,q+=8}if(G!==(4294967295&p.total)){I.msg="incorrect length check",p.mode=30;break}q=G=0}p.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return d}return I.next_out=Se,I.avail_out=he,I.next_in=ee,I.avail_in=ue,p.hold=G,p.bits=q,(p.wsize||we!==I.avail_out&&p.mode<30&&(p.mode<27||U!==4))&&se(I,I.output,I.next_out,we-I.avail_out)?(p.mode=31,-4):(Ce-=I.avail_in,we-=I.avail_out,I.total_in+=Ce,I.total_out+=we,p.total+=we,p.wrap&&we&&(I.adler=p.check=p.flags?a(p.check,ye,we,I.next_out-we):s(p.check,ye,we,I.next_out-we)),I.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(Ce==0&&we===0||U===4)&&M===g&&(M=-5),M)},i.inflateEnd=function(I){if(!I||!I.state)return d;var U=I.state;return U.window&&(U.window=null),I.state=null,g},i.inflateGetHeader=function(I,U){var p;return I&&I.state&&2&(p=I.state).wrap?((p.head=U).done=!1,g):d},i.inflateSetDictionary=function(I,U){var p,Q=U.length;return I&&I.state?(p=I.state).wrap!==0&&p.mode!==11?d:p.mode===11&&s(1,U,Q,0)!==p.check?-3:se(I,U,Q,Q)?(p.mode=31,-4):(p.havedict=1,g):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,i){var r=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(h,m,g,d,v,f,b,y){var S,P,T,D,X,F,L,x,H,se=y.bits,I=0,U=0,p=0,Q=0,ye=0,ee=0,Se=0,ue=0,he=0,G=0,q=null,Ce=0,we=new r.Buf16(16),te=new r.Buf16(16),Ee=null,Re=0;for(I=0;I<=15;I++)we[I]=0;for(U=0;U<d;U++)we[m[g+U]]++;for(ye=se,Q=15;1<=Q&&we[Q]===0;Q--);if(Q<ye&&(ye=Q),Q===0)return v[f++]=20971520,v[f++]=20971520,y.bits=1,0;for(p=1;p<Q&&we[p]===0;p++);for(ye<p&&(ye=p),I=ue=1;I<=15;I++)if(ue<<=1,(ue-=we[I])<0)return-1;if(0<ue&&(h===0||Q!==1))return-1;for(te[1]=0,I=1;I<15;I++)te[I+1]=te[I]+we[I];for(U=0;U<d;U++)m[g+U]!==0&&(b[te[m[g+U]]++]=U);if(F=h===0?(q=Ee=b,19):h===1?(q=s,Ce-=257,Ee=a,Re-=257,256):(q=l,Ee=u,-1),I=p,X=f,Se=U=G=0,T=-1,D=(he=1<<(ee=ye))-1,h===1&&852<he||h===2&&592<he)return 1;for(;;){for(L=I-Se,H=b[U]<F?(x=0,b[U]):b[U]>F?(x=Ee[Re+b[U]],q[Ce+b[U]]):(x=96,0),S=1<<I-Se,p=P=1<<ee;v[X+(G>>Se)+(P-=S)]=L<<24|x<<16|H|0,P!==0;);for(S=1<<I-1;G&S;)S>>=1;if(S!==0?(G&=S-1,G+=S):G=0,U++,--we[I]==0){if(I===Q)break;I=m[g+b[U]]}if(ye<I&&(G&D)!==T){for(Se===0&&(Se=ye),X+=p,ue=1<<(ee=I-Se);ee+Se<Q&&!((ue-=we[ee+Se])<=0);)ee++,ue<<=1;if(he+=1<<ee,h===1&&852<he||h===2&&592<he)return 1;v[T=G&D]=ye<<24|ee<<16|X-f|0}}return G!==0&&(v[X+G]=I-Se<<24|64<<16|0),y.bits=ye,0}},{"../utils/common":41}],51:[function(n,o,i){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,i){var r=n("../utils/common"),s=0,a=1;function l(_){for(var E=_.length;0<=--E;)_[E]=0}var u=0,h=29,m=256,g=m+1+h,d=30,v=19,f=2*g+1,b=15,y=16,S=7,P=256,T=16,D=17,X=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(g+2));l(se);var I=new Array(2*d);l(I);var U=new Array(512);l(U);var p=new Array(256);l(p);var Q=new Array(h);l(Q);var ye,ee,Se,ue=new Array(d);function he(_,E,W,j,N){this.static_tree=_,this.extra_bits=E,this.extra_base=W,this.elems=j,this.max_length=N,this.has_stree=_&&_.length}function G(_,E){this.dyn_tree=_,this.max_code=0,this.stat_desc=E}function q(_){return _<256?U[_]:U[256+(_>>>7)]}function Ce(_,E){_.pending_buf[_.pending++]=255&E,_.pending_buf[_.pending++]=E>>>8&255}function we(_,E,W){_.bi_valid>y-W?(_.bi_buf|=E<<_.bi_valid&65535,Ce(_,_.bi_buf),_.bi_buf=E>>y-_.bi_valid,_.bi_valid+=W-y):(_.bi_buf|=E<<_.bi_valid&65535,_.bi_valid+=W)}function te(_,E,W){we(_,W[2*E],W[2*E+1])}function Ee(_,E){for(var W=0;W|=1&_,_>>>=1,W<<=1,0<--E;);return W>>>1}function Re(_,E,W){var j,N,Y=new Array(b+1),ie=0;for(j=1;j<=b;j++)Y[j]=ie=ie+W[j-1]<<1;for(N=0;N<=E;N++){var ne=_[2*N+1];ne!==0&&(_[2*N]=Ee(Y[ne]++,ne))}}function Ie(_){var E;for(E=0;E<g;E++)_.dyn_ltree[2*E]=0;for(E=0;E<d;E++)_.dyn_dtree[2*E]=0;for(E=0;E<v;E++)_.bl_tree[2*E]=0;_.dyn_ltree[2*P]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function Be(_){8<_.bi_valid?Ce(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function Ze(_,E,W,j){var N=2*E,Y=2*W;return _[N]<_[Y]||_[N]===_[Y]&&j[E]<=j[W]}function Ge(_,E,W){for(var j=_.heap[W],N=W<<1;N<=_.heap_len&&(N<_.heap_len&&Ze(E,_.heap[N+1],_.heap[N],_.depth)&&N++,!Ze(E,j,_.heap[N],_.depth));)_.heap[W]=_.heap[N],W=N,N<<=1;_.heap[W]=j}function A(_,E,W){var j,N,Y,ie,ne=0;if(_.last_lit!==0)for(;j=_.pending_buf[_.d_buf+2*ne]<<8|_.pending_buf[_.d_buf+2*ne+1],N=_.pending_buf[_.l_buf+ne],ne++,j===0?te(_,N,E):(te(_,(Y=p[N])+m+1,E),(ie=F[Y])!==0&&we(_,N-=Q[Y],ie),te(_,Y=q(--j),W),(ie=L[Y])!==0&&we(_,j-=ue[Y],ie)),ne<_.last_lit;);te(_,P,E)}function R(_,E){var W,j,N,Y=E.dyn_tree,ie=E.stat_desc.static_tree,ne=E.stat_desc.has_stree,me=E.stat_desc.elems,Ae=-1;for(_.heap_len=0,_.heap_max=f,W=0;W<me;W++)Y[2*W]!==0?(_.heap[++_.heap_len]=Ae=W,_.depth[W]=0):Y[2*W+1]=0;for(;_.heap_len<2;)Y[2*(N=_.heap[++_.heap_len]=Ae<2?++Ae:0)]=1,_.depth[N]=0,_.opt_len--,ne&&(_.static_len-=ie[2*N+1]);for(E.max_code=Ae,W=_.heap_len>>1;1<=W;W--)Ge(_,Y,W);for(N=me;W=_.heap[1],_.heap[1]=_.heap[_.heap_len--],Ge(_,Y,1),j=_.heap[1],_.heap[--_.heap_max]=W,_.heap[--_.heap_max]=j,Y[2*N]=Y[2*W]+Y[2*j],_.depth[N]=(_.depth[W]>=_.depth[j]?_.depth[W]:_.depth[j])+1,Y[2*W+1]=Y[2*j+1]=N,_.heap[1]=N++,Ge(_,Y,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function($e,Ue){var lt,We,bt,Te,Pe,et,Qe=Ue.dyn_tree,zt=Ue.max_code,Mt=Ue.stat_desc.static_tree,Xt=Ue.stat_desc.has_stree,Lt=Ue.stat_desc.extra_bits,St=Ue.stat_desc.extra_base,Et=Ue.stat_desc.max_length,Nt=0;for(Te=0;Te<=b;Te++)$e.bl_count[Te]=0;for(Qe[2*$e.heap[$e.heap_max]+1]=0,lt=$e.heap_max+1;lt<f;lt++)Et<(Te=Qe[2*Qe[2*(We=$e.heap[lt])+1]+1]+1)&&(Te=Et,Nt++),Qe[2*We+1]=Te,zt<We||($e.bl_count[Te]++,Pe=0,St<=We&&(Pe=Lt[We-St]),et=Qe[2*We],$e.opt_len+=et*(Te+Pe),Xt&&($e.static_len+=et*(Mt[2*We+1]+Pe)));if(Nt!==0){do{for(Te=Et-1;$e.bl_count[Te]===0;)Te--;$e.bl_count[Te]--,$e.bl_count[Te+1]+=2,$e.bl_count[Et]--,Nt-=2}while(0<Nt);for(Te=Et;Te!==0;Te--)for(We=$e.bl_count[Te];We!==0;)zt<(bt=$e.heap[--lt])||(Qe[2*bt+1]!==Te&&($e.opt_len+=(Te-Qe[2*bt+1])*Qe[2*bt],Qe[2*bt+1]=Te),We--)}}(_,E),Re(Y,Ae,_.bl_count)}function c(_,E,W){var j,N,Y=-1,ie=E[1],ne=0,me=7,Ae=4;for(ie===0&&(me=138,Ae=3),E[2*(W+1)+1]=65535,j=0;j<=W;j++)N=ie,ie=E[2*(j+1)+1],++ne<me&&N===ie||(ne<Ae?_.bl_tree[2*N]+=ne:N!==0?(N!==Y&&_.bl_tree[2*N]++,_.bl_tree[2*T]++):ne<=10?_.bl_tree[2*D]++:_.bl_tree[2*X]++,Y=N,Ae=(ne=0)===ie?(me=138,3):N===ie?(me=6,3):(me=7,4))}function M(_,E,W){var j,N,Y=-1,ie=E[1],ne=0,me=7,Ae=4;for(ie===0&&(me=138,Ae=3),j=0;j<=W;j++)if(N=ie,ie=E[2*(j+1)+1],!(++ne<me&&N===ie)){if(ne<Ae)for(;te(_,N,_.bl_tree),--ne!=0;);else N!==0?(N!==Y&&(te(_,N,_.bl_tree),ne--),te(_,T,_.bl_tree),we(_,ne-3,2)):ne<=10?(te(_,D,_.bl_tree),we(_,ne-3,3)):(te(_,X,_.bl_tree),we(_,ne-11,7));Y=N,Ae=(ne=0)===ie?(me=138,3):N===ie?(me=6,3):(me=7,4)}}l(ue);var z=!1;function C(_,E,W,j){we(_,(u<<1)+(j?1:0),3),function(N,Y,ie,ne){Be(N),ne&&(Ce(N,ie),Ce(N,~ie)),r.arraySet(N.pending_buf,N.window,Y,ie,N.pending),N.pending+=ie}(_,E,W,!0)}i._tr_init=function(_){z||(function(){var E,W,j,N,Y,ie=new Array(b+1);for(N=j=0;N<h-1;N++)for(Q[N]=j,E=0;E<1<<F[N];E++)p[j++]=N;for(p[j-1]=N,N=Y=0;N<16;N++)for(ue[N]=Y,E=0;E<1<<L[N];E++)U[Y++]=N;for(Y>>=7;N<d;N++)for(ue[N]=Y<<7,E=0;E<1<<L[N]-7;E++)U[256+Y++]=N;for(W=0;W<=b;W++)ie[W]=0;for(E=0;E<=143;)se[2*E+1]=8,E++,ie[8]++;for(;E<=255;)se[2*E+1]=9,E++,ie[9]++;for(;E<=279;)se[2*E+1]=7,E++,ie[7]++;for(;E<=287;)se[2*E+1]=8,E++,ie[8]++;for(Re(se,g+1,ie),E=0;E<d;E++)I[2*E+1]=5,I[2*E]=Ee(E,5);ye=new he(se,F,m+1,g,b),ee=new he(I,L,0,d,b),Se=new he(new Array(0),x,0,v,S)}(),z=!0),_.l_desc=new G(_.dyn_ltree,ye),_.d_desc=new G(_.dyn_dtree,ee),_.bl_desc=new G(_.bl_tree,Se),_.bi_buf=0,_.bi_valid=0,Ie(_)},i._tr_stored_block=C,i._tr_flush_block=function(_,E,W,j){var N,Y,ie=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(ne){var me,Ae=4093624447;for(me=0;me<=31;me++,Ae>>>=1)if(1&Ae&&ne.dyn_ltree[2*me]!==0)return s;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return a;for(me=32;me<m;me++)if(ne.dyn_ltree[2*me]!==0)return a;return s}(_)),R(_,_.l_desc),R(_,_.d_desc),ie=function(ne){var me;for(c(ne,ne.dyn_ltree,ne.l_desc.max_code),c(ne,ne.dyn_dtree,ne.d_desc.max_code),R(ne,ne.bl_desc),me=v-1;3<=me&&ne.bl_tree[2*H[me]+1]===0;me--);return ne.opt_len+=3*(me+1)+5+5+4,me}(_),N=_.opt_len+3+7>>>3,(Y=_.static_len+3+7>>>3)<=N&&(N=Y)):N=Y=W+5,W+4<=N&&E!==-1?C(_,E,W,j):_.strategy===4||Y===N?(we(_,2+(j?1:0),3),A(_,se,I)):(we(_,4+(j?1:0),3),function(ne,me,Ae,$e){var Ue;for(we(ne,me-257,5),we(ne,Ae-1,5),we(ne,$e-4,4),Ue=0;Ue<$e;Ue++)we(ne,ne.bl_tree[2*H[Ue]+1],3);M(ne,ne.dyn_ltree,me-1),M(ne,ne.dyn_dtree,Ae-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,ie+1),A(_,_.dyn_ltree,_.dyn_dtree)),Ie(_),j&&Be(_)},i._tr_tally=function(_,E,W){return _.pending_buf[_.d_buf+2*_.last_lit]=E>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&E,_.pending_buf[_.l_buf+_.last_lit]=255&W,_.last_lit++,E===0?_.dyn_ltree[2*W]++:(_.matches++,E--,_.dyn_ltree[2*(p[W]+m+1)]++,_.dyn_dtree[2*q(E)]++),_.last_lit===_.lit_bufsize-1},i._tr_align=function(_){we(_,2,3),te(_,P,se),function(E){E.bi_valid===16?(Ce(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(n,o,i){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,i){(function(r){(function(s,a){if(!s.setImmediate){var l,u,h,m,g=1,d={},v=!1,f=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){S(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,D=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=D,T}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",P,!1):s.attachEvent("onmessage",P),function(T){s.postMessage(m+T,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(T){S(T.data)},function(T){h.port2.postMessage(T)}):f&&"onreadystatechange"in f.createElement("script")?(u=f.documentElement,function(T){var D=f.createElement("script");D.onreadystatechange=function(){S(T),D.onreadystatechange=null,u.removeChild(D),D=null},u.appendChild(D)}):function(T){setTimeout(S,0,T)},b.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var D=new Array(arguments.length-1),X=0;X<D.length;X++)D[X]=arguments[X+1];var F={callback:T,args:D};return d[g]=F,l(g),g++},b.clearImmediate=y}function y(T){delete d[T]}function S(T){if(v)setTimeout(S,0,T);else{var D=d[T];if(D){v=!0;try{(function(X){var F=X.callback,L=X.args;switch(L.length){case 0:F();break;case 1:F(L[0]);break;case 2:F(L[0],L[1]);break;case 3:F(L[0],L[1],L[2]);break;default:F.apply(a,L)}})(D)}finally{y(T),v=!1}}}}function P(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(m)===0&&S(+T.data.slice(m.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof un<"u"?un:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(nc);var _h=nc.exports;const za=Ps(_h);class Bo{static async open(t){const n=new za,o=window.api.openFile(t),{files:i}=await n.loadAsync(o);return await i.content.async("text")}static async writeBlob(t,n){const o=await n.arrayBuffer();window.api.saveFile(t,o)}static async save(t,n){const o=new za;o.file("content",JSON.stringify(n));const i=await o.generateAsync({type:"blob"});this.writeBlob(t,i)}}function zs(e,t={}){let{items:n,connections:o,ports:i,groups:r}=Zt(e);function s(d){return Object.values(d).forEach(v=>{const f=v.id,b=ot();t[f]=b,d[b]=Zt(v),delete d[f]}),d}function a(d,v){return Object.values(d).forEach(f=>{f.groupId=f.groupId!==null?t[f.groupId]:null}),Object.values(v).forEach(f=>{f.groupId=f.groupId!==null?t[f.groupId]:null}),{connections:d,items:v}}function l(d){return Object.values(d).forEach(v=>{const f=v.id,b=ot();t[f]=b,d[b]=Zt(v),d[b].id=b,d[b].source=t[d[b].source],d[b].target=t[d[b].target],delete d[f]}),d}function u(d){return Object.values(d).forEach(v=>{d[v.id].connectionChainId=t[d[v.id].connectionChainId]}),d}function h(d){return Object.values(d).forEach(v=>{const f=v.id,b=ot();t[f]=b,d[b]=Zt(v),v.integratedCircuit?d[b].integratedCircuit={serializedState:v.integratedCircuit.serializedState,...zs(Zt(v.integratedCircuit),t)}:d[b].id=b,d[b].portIds=v.portIds.map(y=>t[y]),delete d[f]}),d}function m(d){return Object.values(d).forEach(v=>{d[v.id].elementId=t[v.elementId]}),d}function g(d){return Object.values(d).forEach(v=>{const f=v.id,b=ot();t[f]=b,d[b]=Zt(v),d[b].id=b,delete d[f]}),d}return i=g(i),n=h(n),i=m(i),o=l(o),o=u(o),r=s(r),{...a(o,n),ports:i,groups:r}}function wh(e){if(!e.integratedCircuit)return e;const{items:t}=zs({items:{[e.id]:e},connections:{},ports:{},groups:{}}),n=Object.values(t)[0];return n.id=ot(),n}const As={mapStandardCircuitIds:zs,mapIntegratedCircuitIds:wh},Ui=cr("integratedCircuit",{state:()=>({isBuilderOpen:!1,model:null,factories:{},resolve:()=>{}}),actions:{launchBuilder(e){return this.isBuilderOpen=!0,this.model=tc(e,"My integrated circuit",400,400),new Promise(t=>{this.resolve=t})},async loadLibrary(){const e=window.api.getFilePaths(window.api.getDefaultSavePath(),"aicx");for(let t=0;t<e.length;t++)await this.loadCircuit(e[t])},async loadCircuit(e){try{const t=await Bo.open(e),n=JSON.parse(t);this.factories[n.name]=()=>{const o=As.mapIntegratedCircuitIds(n),i=o.portIds.map(r=>{var s;return(s=o.integratedCircuit)==null?void 0:s.ports[r]});return{item:o,ports:i}}}catch(t){console.log(t),window.api.showMessageBox({message:`Could not load ${e} into the integrated circuit library. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},async save(){if(this.model){try{const e=`${this.model.name}.aicx`,t=window.api.showSaveFileDialog([{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}],e);if(!t)return;await Bo.save(t,this.model),await this.loadCircuit(t),window.api.showMessageBox({message:"Integrated circuit successfully created. You can find it in the toolbox.",title:"Success",type:"info"})}catch{window.api.showMessageBox({message:"An error occurred while trying to save the integrated circuit.",title:"Error",type:"error"})}this.close()}},close(){this.resolve(),this.isBuilderOpen=!0}}}),Ch=xe({name:"Icon",props:{icon:{type:Object,required:!0}},setup(e){const t=tt(()=>e.icon.icon[0]),n=tt(()=>e.icon.icon[1]),o=tt(()=>e.icon.icon[4]);return{width:t,height:n,svgPath:o}}});const Sh=["viewBox"],Ih=["d"];function xh(e,t,n,o,i,r){return K(),fe("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:`0 0 ${e.width} ${e.height}`},[_e("path",{fill:"currentColor",d:e.svgPath},null,8,Ih)],8,Sh)}const Wt=Oe(Ch,[["render",xh]]),Eh=xe({name:"Modal",components:{Icon:Wt},props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:""}},setup(){const e=He(!1);return{faClose:yo,show:e}}});const Oh={key:0,class:"modal"},kh={class:"modal__inner"},$h={class:"modal__title"},Ph={class:"modal__title-text"},Dh={class:"modal__content"},zh={key:0,class:"modal__buttons"};function Ah(e,t,n,o,i,r){const s=be("icon");return K(),Ne(Xo,{name:"modal",appear:""},{default:Fe(()=>[e.modelValue?(K(),fe("div",Oh,[_e("div",kh,[_e("div",$h,[_e("div",Ph,ut(e.title),1),_e("button",{title:"Close",onClick:t[0]||(t[0]=a=>e.$emit("update:modelValue",!1)),class:"modal__close"},[de(s,{icon:e.faClose},null,8,["icon"])])]),_e("div",Dh,[dt(e.$slots,"default")]),e.$slots.buttons?(K(),fe("div",zh,[dt(e.$slots,"buttons")])):ht("",!0)])])):ht("",!0)]),_:3})}const Th=Oe(Eh,[["render",Ah]]),Mh=xe({name:"ModalButton",props:{text:{type:String,required:!0},disabled:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1}}});function Bh(e,t,n,o,i,r){return K(),fe("button",{class:Je(["modal-button",{"modal-button--inverted":e.inverted}]),role:"button"},ut(e.text),3)}const Lh=Oe(Mh,[["render",Bh]]),Nh=xe({name:"BuilderView",components:{Builder:ph,Modal:Th,ModalButton:Lh},setup(){const{isBuilderOpen:e,model:t,save:n,close:o}=Ui(),i=He(!1);return i.value=!0,{item:t,isBuilderOpen:e,save:n,close:o,isOpen:i}}});const Rh={class:"builder-canvas"};function Fh(e,t,n,o,i,r){const s=be("builder"),a=be("modal-button"),l=be("modal");return K(),Ne(l,{modelValue:e.isBuilderOpen,"onUpdate:modelValue":[t[1]||(t[1]=u=>e.isBuilderOpen=u),e.close],title:"Build Circuit"},{buttons:Fe(()=>[de(a,{text:"Cancel",onClick:e.close,inverted:""},null,8,["onClick"]),de(a,{text:"Save",onClick:e.save},null,8,["onClick"])]),default:Fe(()=>[_e("div",Rh,[de(s,{modelValue:e.item,"onUpdate:modelValue":t[0]||(t[0]=u=>e.item=u)},null,8,["modelValue"])])]),_:1},8,["modelValue","onUpdate:modelValue"])}const jh=Oe(Nh,[["render",Fh]]);var Vt=(e=>(e[e.Outer=0]="Outer",e[e.Inner=1]="Inner",e[e.Radial=2]="Radial",e[e.Grid=3]="Grid",e[e.None=4]="None",e))(Vt||{});function Hi(e,t){return Math.round(e/t)*t}function oc(e,t,n){return Math.hypot(e.x-t.x,e.y-t.y)<=n}function ic(e,t){return{x:Hi(e.left,t)-e.left,y:Hi(e.top,t)-e.top}}function rc(e,t,n){for(let o=0;o<e.length;o++){const i=e[o];if(oc({x:i.left,y:i.top},{x:t.left,y:t.top},n))return{x:i.left-t.left,y:i.top-t.top}}return{x:0,y:0}}function sc(e,t,n){const o={x:0,y:0};for(let i=0;i<e.length;i++){const r=e[i],s=Math.abs(r.top-t.bottom)<=n,a=Math.abs(r.bottom-t.top)<=n,l=Math.abs(r.left-t.right)<=n,u=Math.abs(r.right-t.left)<=n;(t.left<=r.right&&t.left>=r.left||t.right>=r.left&&t.right<=r.right||t.left<=r.left&&t.right>=r.right)&&(s&&(o.y=r.top-t.bottom),a&&(o.y=r.bottom-t.top)),(t.top<=r.bottom&&t.top>=r.top||t.bottom>=r.top&&t.bottom<=r.bottom||t.top<=r.top&&t.bottom>=r.bottom)&&(l&&(o.x=r.left-t.right),u&&(o.x=r.right-t.left))}return o}function Vh(e,t,n,o){switch(n){case Vt.Radial:return rc(e,t,o);case Vt.Grid:return ic(t,o);case Vt.Outer:default:return sc(e,t,o)}}function Pi(e,t,n,o){const i=(r,s,a)=>(a.y-r.y)*(s.x-r.x)>(s.y-r.y)*(a.x-r.x);return i(e,n,o)!==i(t,n,o)&&i(e,t,n)!==i(e,t,o)}function Uh(e,t,n){const o={x:n.left,y:n.top},i={x:n.right,y:n.top},r={x:n.right,y:n.bottom},s={x:n.left,y:n.bottom};return Pi(e,t,o,i)||Pi(e,t,i,r)||Pi(e,t,r,s)||Pi(e,t,s,o)}function Hh(e,t){return!(e.left>=t.right||t.left>=e.right||e.top>=t.bottom||t.top>=e.bottom)}function Wh(e,t){return{left:e.left*t,top:e.top*t,bottom:e.bottom*t,right:e.right*t}}function Zh(e){return e.left!==e.right||e.top!==e.bottom}function qh(e){return[{left:e.x,right:e.x,top:-1/0,bottom:1/0},{left:-1/0,right:1/0,top:e.y,bottom:e.y}]}function Gh(e){return{left:e.x,top:e.y,right:e.x,bottom:e.y}}function Kh(e,t,n,o){if(t%2===0)return{left:e.x,top:e.y,bottom:o+e.y,right:n+e.x};const i=e.x+n/2,r=e.y+o/2;return{left:i-o/2,top:r-n/2,right:i+o/2,bottom:r+n/2}}function Xh(e){return e.reduce((t,n)=>({left:Math.min(t.left,n.left),top:Math.min(t.top,n.top),right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)}),{left:1/0,top:1/0,right:0,bottom:0})}function ac(e){const t=e.right-e.left,n=e.bottom-e.top;return{x:t/2,y:n/2}}function Yh(e,t,n){const o=ac(e),i=t.right-t.left,r=t.bottom-t.top;return{x:Hi(o.x-i/2,n),y:Hi(o.y-r/2,n)}}function Jh(e,...t){const n=Math[e](...t.map(({x:i})=>i)),o=Math[e](...t.map(({y:i})=>i));return{x:n,y:o}}const pt={isInNeighborhood:oc,getRadialSnapOffset:rc,getOuterSnapOffset:sc,getGridSnapPosition:ic,isLineIntersectingRectangle:Uh,scaleBoundingBox:Wh,isOneOrTwoDimensional:Zh,getLinearBoundaries:qh,getPointBoundary:Gh,hasIntersection:Hh,getBoundingBox:Kh,getGroupBoundingBox:Xh,getBoundingBoxMidpoint:ac,getCenteredScreenPoint:Yh,getSnapOffset:Vh,getExtremePoint:Jh};var lc=function(){if(typeof Map<"u")return Map;function e(t,n){var o=-1;return t.some(function(i,r){return i[0]===n?(o=r,!0):!1}),o}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var o=e(this.__entries__,n),i=this.__entries__[o];return i&&i[1]},t.prototype.set=function(n,o){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=o:this.__entries__.push([n,o])},t.prototype.delete=function(n){var o=this.__entries__,i=e(o,n);~i&&o.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,o){o===void 0&&(o=null);for(var i=0,r=this.__entries__;i<r.length;i++){var s=r[i];n.call(o,s[1],s[0])}},t}()}(),es=typeof window<"u"&&typeof document<"u"&&window.document===document,Wi=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Qh=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Wi):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),ep=2;function tp(e,t){var n=!1,o=!1,i=0;function r(){n&&(n=!1,e()),o&&a()}function s(){Qh(r)}function a(){var l=Date.now();if(n){if(l-i<ep)return;o=!0}else n=!0,o=!1,setTimeout(s,t);i=l}return a}var np=20,op=["top","right","bottom","left","width","height","size","weight"],ip=typeof MutationObserver<"u",rp=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=tp(this.refresh.bind(this),np)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,o=n.indexOf(t);~o&&n.splice(o,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!es||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ip?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!es||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,o=n===void 0?"":n,i=op.some(function(r){return!!~o.indexOf(r)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),cc=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},po=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Wi},uc=ur(0,0,0,0);function Zi(e){return parseFloat(e)||0}function Aa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(o,i){var r=e["border-"+i+"-width"];return o+Zi(r)},0)}function sp(e){for(var t=["top","right","bottom","left"],n={},o=0,i=t;o<i.length;o++){var r=i[o],s=e["padding-"+r];n[r]=Zi(s)}return n}function ap(e){var t=e.getBBox();return ur(0,0,t.width,t.height)}function lp(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return uc;var o=po(e).getComputedStyle(e),i=sp(o),r=i.left+i.right,s=i.top+i.bottom,a=Zi(o.width),l=Zi(o.height);if(o.boxSizing==="border-box"&&(Math.round(a+r)!==t&&(a-=Aa(o,"left","right")+r),Math.round(l+s)!==n&&(l-=Aa(o,"top","bottom")+s)),!up(e)){var u=Math.round(a+r)-t,h=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(h)!==1&&(l-=h)}return ur(i.left,i.top,a,l)}var cp=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof po(e).SVGGraphicsElement}:function(e){return e instanceof po(e).SVGElement&&typeof e.getBBox=="function"}}();function up(e){return e===po(e).document.documentElement}function dp(e){return es?cp(e)?ap(e):lp(e):uc}function fp(e){var t=e.x,n=e.y,o=e.width,i=e.height,r=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(r.prototype);return cc(s,{x:t,y:n,width:o,height:i,top:n,right:t+o,bottom:i+n,left:t}),s}function ur(e,t,n,o){return{x:e,y:t,width:n,height:o}}var hp=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ur(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=dp(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),pp=function(){function e(t,n){var o=fp(n);cc(this,{target:t,contentRect:o})}return e}(),mp=function(){function e(t,n,o){if(this.activeObservations_=[],this.observations_=new lc,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=o}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof po(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new hp(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof po(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(o){return new pp(o.target,o.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),dc=typeof WeakMap<"u"?new WeakMap:new lc,fc=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=rp.getInstance(),o=new mp(t,n,this);dc.set(this,o)}return e}();["observe","unobserve","disconnect"].forEach(function(e){fc.prototype[e]=function(){var t;return(t=dc.get(this))[e].apply(t,arguments)}});var gp=function(){return typeof Wi.ResizeObserver<"u"?Wi.ResizeObserver:fc}();const vp=xe({name:"Resizable",emits:{resize:e=>!0},setup(e,{emit:t}){const n=He();function o([r]){t("resize",r.target.getBoundingClientRect())}const i=new gp(o);return sn(()=>{n.value&&i.observe(n.value)}),{onSizeChanged:o,resizable:n}}}),yp={ref:"resizable"};function bp(e,t,n,o,i,r){return K(),fe("div",yp,[dt(e.$slots,"default")],512)}const _o=Oe(vp,[["render",bp]]),_p=xe({name:"Draggable",components:{Resizable:_o},props:{position:{type:Object,default:()=>({x:0,y:0})},isSelected:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1},allowTouchDrag:{type:Boolean,default:!0}},emits:{dragStart:(e,t)=>!0,drag:(e,t)=>!0,dragEnd:(e,t)=>!0,select:e=>!0,deselect:()=>!0,touchhold:e=>!0},setup(e,{emit:t}){const n=tt(()=>({left:`${e.position.x}px`,top:`${e.position.y}px`})),o=He();let i=0,r=!1,s=!1,a=!1,l={x:0,y:0},u={x:0,y:0},h={x:0,y:0};sn(()=>{window.addEventListener("mousemove",b),window.addEventListener("mouseup",v)}),Gn(()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",v)}),Vo(()=>{var D;e.isSelected&&((D=o.value)==null||D.$el.focus())});function m(){setTimeout(()=>{e.isSelected||t("select",!1)})}function g({clientX:D,clientY:X}){r&&(u.x===D&&u.y===X||(u={x:D,y:X},t(a?"drag":"dragStart",u,h),a=!0,s=!0))}function d({clientX:D,clientY:X}){if(!o.value)return;const{x:F,y:L,width:x,height:H}=o.value.$el.getBoundingClientRect();u={x:D,y:X},h={x:D-(F+x/2),y:X-(L+H/2)},r=!0,a=!1}function v(){r&&(r=!1,s&&t("dragEnd",u,h))}function f(D){d(D)}function b(D){r&&(D.stopImmediatePropagation(),D.preventDefault(),g(D))}function y(D){}function S(D){s=!1,l={x:D.touches[0].clientX,y:D.touches[0].clientY},i=window.setTimeout(()=>{t("touchhold",D)},500)}function P(D){const X={x:D.touches[0].clientX,y:D.touches[0].clientY};!pt.isInNeighborhood(l,X,5)&&D.touches.length===1&&(s=!0,clearTimeout(i)),e.allowTouchDrag&&(D.stopPropagation(),D.preventDefault(),r||d(D.touches[0])),r&&g(D.touches[0])}function T(){clearTimeout(i),r?v():s||(e.isSelected?t("deselect"):t("select",!0))}return{style:n,draggable:o,onMouseDown:f,onMouseUp:y,onTouchStart:S,onTouchMove:P,onTouchEnd:T,dragEnd:v,onFocus:m}}});function wp(e,t,n,o,i,r){const s=be("resizable");return K(),Ne(s,{class:"draggable",ref:"draggable",style:rt(e.style),onMousedown:Wn(e.onMouseDown,["left"]),onMouseup:e.onMouseUp,onTouchstart:e.onTouchStart,onTouchmove:e.onTouchMove,onTouchend:e.onTouchEnd,onTouchcancel:e.dragEnd,onFocus:e.onFocus},{default:Fe(()=>[dt(e.$slots,"default")]),_:3},8,["style","onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend","onTouchcancel","onFocus"])}const dr=Oe(_p,[["render",wp]]),Cp=xe({name:"Wire",props:{isAnimated:{type:Boolean,default:!1},source:{type:Object,required:!0},target:{type:Object,required:!0},label:{type:String,default:""},isPreview:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},geometry:{type:Object,required:!0}}});const Sp=["width","height"],Ip=["transform","d"],xp=["transform","d"],Ep=["transform","d"],Op=["transform","d"];function kp(e,t,n,o,i,r){return K(),fe("svg",{class:Je(["wire",{"wire--selected":e.isSelected,"wire--flash":e.flash,"wire--preview":e.isPreview}]),width:e.geometry.width,height:e.geometry.height},[_e("title",null,ut(e.label),1),_e("path",{class:"wire__outline",fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,8,Ip),_e("path",{class:Je(["wire__display",{"wire__display--on":e.source.value===1,"wire__display--off":e.source.value===-1}]),fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,10,xp),e.isAnimated?(K(),fe("path",{key:0,class:"wire__animation",fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,8,Ep)):ht("",!0),_e("path",{class:"wire__clickable",fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,8,Op)],10,Sp)}const $p=Oe(Cp,[["render",kp]]);function Pp(e,t=0){return(e+t%4+4)%4}function Dp(e,t,n){const o=e.right-e.left,i=e.bottom-e.top,r=e.left+o/2,s=e.top+i/2,a=t.position.x,l=t.position.y,u=a+t.width/2,h=l+t.height/2,m=Math.hypot(r-u,s-h),g=Math.atan2(h-s,u-r),d=90*n*(Math.PI/180)+g,v=m*Math.cos(d)+r,f=m*Math.sin(d)+s;return{x:v-t.width/2,y:f-t.height/2}}const Go={rotate:Pp,getGroupedItemRotatedPosition:Dp},nn=15;function zp(e,t){const n=e.position,o=t.position,{start:i,end:r}=Tp(n,o);if(i.x===r.x||i.y===r.y||r.x<=1&&i.x<=1||r.y<=1&&i.y<=1)return Ap(i,r);const s=Ta(e,n,o),a=Ta(t,n,o);return Mp(s,a,i,r)}function Ap(e,t){return{path:`M ${e.x},${e.y} L ${t.x},${t.y}`,width:Math.abs(e.x-t.x)+nn,height:Math.abs(e.y-t.y)+nn,minX:-(nn/2),minY:-(nn/2)}}function hc(e,t,n){switch(e){case vt.Left:return t.y>n.y?vt.Right:vt.Left;case vt.Top:return t.x<n.x?vt.Bottom:vt.Top;case vt.Right:return t.y>n.y?vt.Left:vt.Right;case vt.Bottom:return t.x<n.x?vt.Top:vt.Bottom;default:return hc(Go.rotate(e),t,n)}}function Ta(e,t,n){let o=Go.rotate(e.orientation+e.rotation-1);return e.isFreeport&&(o=hc(o,t,n),(e.rotation%4===1||e.rotation%4===2)&&(o=Go.rotate(o-2))),o}function Tp(e,t){return e.x<=t.x?e.y<=t.y?{start:{x:0,y:0},end:{x:Math.floor(t.x-e.x),y:Math.floor(t.y-e.y)}}:{start:{x:0,y:Math.floor(e.y-t.y)},end:{x:Math.floor(t.x-e.x),y:0}}:e.y<=t.y?{start:{x:Math.floor(e.x-t.x),y:0},end:{x:0,y:Math.floor(t.y-e.y)}}:{start:{x:Math.floor(e.x-t.x),y:Math.floor(e.y-t.y)},end:{x:0,y:0}}}function Mp(e,t,n,o){const i=n.x,r=n.y,s=o.x,a=o.y,l=Math.max(Math.abs(i-s)/2,10),u=Math.max(Math.abs(r-a)/2,10),h=[i,i+l,i,i-l][e].toFixed(3),m=[r-u,r,r+u,r][e].toFixed(3),g=[s,s+l,s,s-l][t].toFixed(3),d=[a-u,a,a+u,a][t].toFixed(3),v=["M",i.toFixed(3),r.toFixed(3),"C",h,m,g,d,s.toFixed(3),a.toFixed(3)].join(" "),f=(...X)=>X.map(F=>parseInt(F.toString(),10)),b=Math.min(...f(i,h,g,s))-nn/2,y=Math.max(...f(i,h,g,s))+nn/2,S=Math.min(...f(r,m,d,a))-nn/2,P=Math.max(...f(r,m,d,a))+nn/2,T=y-b+nn,D=P-S+nn;return{width:T,height:D,path:v,minX:b,minY:S}}function pc(e,t=[]){const n=e();let o=[{label:"&Undo",enabled:n.canUndo,accelerator:"CommandOrControl+Z",click:n.undo},{type:"separator"},{role:"cut",enabled:n.hasSelection},{role:"copy",enabled:n.hasSelection},{role:"paste",enabled:n.hasSelection},{label:"Delete",accelerator:"Delete",enabled:n.hasSelection,click:n.deleteSelection},{type:"separator"},{role:"selectAll",enabled:n.baseItems.length>0}];return n.selectedItemIds.length>0&&(o.push({type:"separator"}),o.push({label:"&Rotate",submenu:[{label:"Rotate 90° &CW",accelerator:"CmdOrCtrl+R",click:()=>n.rotate(1)},{label:"Rotate 90° CC&W",accelerator:"CmdOrCtrl+Shift+R",click:()=>n.rotate(-1)}]})),n.hasSelection&&(o.push({type:"separator"}),o.push({label:"&Bring to Front",submenu:[{label:"&Bring to Front",click:()=>n.setZIndex(n.zIndex)},{label:"Bring &Forward",click:()=>n.incrementZIndex(1)}]}),o.push({label:"&Send to Back",submenu:[{label:"&Send to Back",click:()=>n.setZIndex(n.zIndex)},{label:"Send &Backward",click:()=>n.incrementZIndex(-1)}]})),n.canGroup&&o.push({label:"&Group",submenu:[{label:"&Group"},{label:"&Ungroup",enabled:n.canUngroup}]}),t.length>0&&(o.push({type:"separator"}),o=o.concat(t)),n.selectedItemIds.length===1&&(o.push({type:"separator"}),o.push({label:"&Item Properties"})),n.activePortId&&(o.push({type:"separator"}),o.push({type:"checkbox",label:"Show in &Oscilloscope",checked:!0})),o}function mc(e){return e(),[{label:"&Grid",submenu:[{label:"&Show grid"},{type:"separator"},{label:"Snap to &grid"},{label:"Snap to &elements"}]}]}function Ts(e){return pc(e,mc(e).concat({type:"separator"}))}const Bp=xe({name:"Connection",components:{Draggable:dr,Wire:$p},props:{isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},zIndex:{type:Number,default:0},isPreview:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(e){const t=e.store(),n=He(t.connections[e.id]),o=He(),i=tt(()=>t.ports[n.value.source]),r=tt(()=>t.ports[n.value.target]),s=tt(()=>pt.getExtremePoint("min",i.value.position,r.value.position)),a=tt(()=>zp(i.value,r.value)),l=tt(()=>({y:s.value.y+a.value.minY,x:s.value.x+a.value.minX})),u=He(null);function h({touches:f}){m({x:f[0].clientX,y:f[0].clientY})}function m(f){var b;!((b=o.value)!=null&&b.$el)||n.value.groupId!==null||(o.value.$el.style.opacity="0",u.value=ot(),navigator.vibrate(20),t.createFreeport({itemId:u.value,inputPortId:ot(),outputPortId:ot(),connectionChainId:n.value.connectionChainId,sourceId:i.value.id,targetId:r.value.id,value:i.value.value}),t.setSnapBoundaries(u.value),t.dragItem(u.value,f))}async function g(f){u.value?t.dragItem(u.value,f):m(f)}function d(){u&&t.destroyConnection({source:n.value.source,target:n.value.target}),u.value=null}function v(){e.isSelected||t.selectItem(e.id),window.api.showContextMenu(Ts(e.store))}return{root:o,geometry:a,position:l,onDragStart:h,onDrag:g,onDragEnd:d,onContextMenu:v,source:i,target:r,freeportId:u,selectItem:t.selectItem,deselectItem:t.deselectItem}}});function Lp(e,t,n,o,i,r){const s=be("wire"),a=be("draggable");return K(),Ne(a,{style:rt({zIndex:e.zIndex}),position:e.position,"is-selected":e.isSelected,"allow-touch-drag":e.freeportId!==null,onTouchhold:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onSelect:t[0]||(t[0]=l=>e.selectItem(e.id,l)),onDeselect:t[1]||(t[1]=l=>e.deselectItem(e.id)),onContextmenu:e.onContextMenu},{default:Fe(()=>[de(s,{source:e.source,target:e.target,geometry:e.geometry,"is-selected":e.isSelected,"is-preview":e.isPreview,flash:e.flash,label:"TODO",ref:"root","data-test":"wire"},null,8,["source","target","geometry","is-selected","is-preview","flash"])]),_:1},8,["style","position","is-selected","allow-touch-drag","onTouchhold","onDrag","onDragEnd","onContextmenu"])}const Np=Oe(Bp,[["render",Lp]]),Rp=xe({name:"Freeport",components:{PortHandle:Ds}});function Fp(e,t,n,o,i,r){const s=be("port-handle");return K(),Ne(s)}const jp=Oe(Rp,[["render",Fp]]),Vp=xe({name:"InputNode",props:{ports:{type:Array,default:()=>[]}},emits:{signal:e=>!0},setup(e,{emit:t}){const n=He(0);Vo(()=>{var i;n.value=((i=e.ports[0])==null?void 0:i.value)||0});function o(i){i.preventDefault(),i.stopPropagation(),n.value=n.value===1?-1:1,t("signal",{id:e.ports[0].id,value:n.value})}return{model:n,onInput:o}}});const Up={class:"input-node"},Hp={key:0},Wp={key:1},Zp={key:2};function qp(e,t,n,o,i,r){return K(),fe("div",Up,[_e("button",{type:"button",class:Je(["input-node__flipper",{"input-node__flipper--on":e.model===1,"input-node__flipper--off":e.model===-1,"input-node__flipper--high-z":e.model===0}]),tabindex:0,onMousedown:t[0]||(t[0]=Wn((...s)=>e.onInput&&e.onInput(...s),["stop"])),onTouchstart:t[1]||(t[1]=Wn((...s)=>e.onInput&&e.onInput(...s),["stop"]))},[e.model===1?(K(),fe("span",Hp,"ON")):e.model===-1?(K(),fe("span",Wp,"OFF")):(K(),fe("span",Zp,"?"))],34)])}const Gp=Oe(Vp,[["render",qp]]),Kp=xe({name:"CustomCircuitPort",components:{PortWire:ec},props:{label:{type:String,default:""},type:{type:String,required:!0}}});const Xp={class:"custom-circuit-port"},Yp={class:"custom-circuit-port__label"};function Jp(e,t,n,o,i,r){const s=be("port-wire");return K(),fe("div",Xp,[_e("div",Yp,ut(e.label),1),de(s,{type:e.type},null,8,["type"])])}const Qp=Oe(Kp,[["render",Jp]]),e1=xe({name:"CustomCircuitPortZone",components:{CustomCircuitPort:Qp},props:{ports:{type:Array,default:()=>[]},orientation:{type:String,required:!0},type:{type:String,required:!0}}});function t1(e,t,n,o,i,r){const s=be("custom-circuit-port");return K(),fe("div",{class:Je(`custom-circuit-port-zone custom-circuit-port-zone--${e.orientation}`)},[(K(!0),fe(Ye,null,wt(e.ports,a=>(K(),fe("div",{key:a.id,class:Je([`custom-circuit-port-zone__io--${e.type}`,"custom-circuit-port-zone__io"])},[de(s,{label:a.name,type:e.type},null,8,["label","type"])],2))),128))],2)}const n1=Oe(e1,[["render",t1]]),o1=xe({name:"CustomCircuit",components:{CustomCircuitPortZone:n1},props:{ports:{type:Array,default:()=>[]},name:{type:String,default:"circuit"}}});const i1={class:"custom-circuit"},r1={class:"custom-circuit__center"},s1={class:"custom-circuit__name"};function a1(e,t,n,o,i,r){const s=be("custom-circuit-port-zone");return K(),fe("div",i1,[de(s,{ports:e.ports.filter(a=>a.orientation===1),orientation:"horizontal",type:"top"},null,8,["ports"]),_e("div",r1,[de(s,{ports:e.ports.filter(a=>a.orientation===0),orientation:"vertical",type:"left"},null,8,["ports"]),_e("div",s1,ut(e.name),1),de(s,{ports:e.ports.filter(a=>a.orientation===2),orientation:"vertical",type:"right"},null,8,["ports"])]),de(s,{ports:e.ports.filter(a=>a.orientation===3),orientation:"horizontal",type:"bottom"},null,8,["ports"])])}const l1=Oe(o1,[["render",a1]]),c1={" ":[0,0,0,0,0,0,0],0:[1,1,1,1,1,1,0],1:[0,0,1,1,0,0,0],2:[0,1,1,0,1,1,1],3:[0,1,1,1,1,0,1],4:[1,0,1,1,0,0,1],5:[1,1,0,1,1,0,1],6:[1,1,0,1,1,1,1],7:[0,1,1,1,0,0,0],8:[1,1,1,1,1,1,1],9:[1,1,1,1,0,0,1],a:[1,1,1,1,0,1,1],b:[1,0,0,1,1,1,1],c:[1,1,0,0,1,1,0],d:[0,0,1,1,1,1,1],e:[1,1,0,0,1,1,1],f:[1,1,0,0,0,1,1]},u1=["M 8,10 L 12,14 L 12,42 L 8,46 L 4,42 L 4,14 L 8,10 z","M 10,8 L 14,4 L 42,4 L 46,8 L 42,12 L 14,12 L 10,8 z","M 48,10 L 52,14 L 52,42 L 48,46 L 44,42 L 44,14 L 48,10 z","M 48,50 L 52,54 L 52,82 L 48,86 L 44,82 L 44,54 L 48,50 z","M 10,88 L 14,84 L 42,84 L 46,88 L 42,92 L 14,92 L 10,88 z","M 8,50 L 12,54 L 12,82 L 8,86 L 4,82 L 4,54 L 8,50 z","M 10,48 L 14,44 L 42,44 L 46,48 L 42,52 L 14,52 L 10,48 z"],d1=xe({name:"DigitDisplay",props:{ports:{type:Array,default:()=>[]}},setup(e){return{segments:tt(()=>{const n=e.ports.map(i=>i.value===1?1:0).join(""),o=parseInt(n,2).toString(16).toLowerCase();return c1[o].map((i,r)=>{const s=i?"on":"bg-tertiary";return{path:u1[r],style:{fill:`var(--color-${s})`}}})})}}});const f1={class:"digit"},h1={width:"58",height:"98"},p1=["d"];function m1(e,t,n,o,i,r){return K(),fe("div",f1,[(K(),fe("svg",h1,[_e("g",null,[(K(!0),fe(Ye,null,wt(e.segments,(s,a)=>(K(),fe("path",{key:a,style:rt(s.style),d:s.path},null,12,p1))),128))])]))])}const g1=Oe(d1,[["render",m1]]),v1={CustomCircuit:l1,DigitDisplay:g1},y1=xe({name:"IntegratedCircuit",components:v1,props:{ports:{type:Array,default:()=>[]},subtype:{type:String,required:!0},name:{type:String,default:""}}});function b1(e,t,n,o,i,r){return K(),Ne(ir(e.subtype),Ha(Cs(e.$props)),null,16)}const _1=Oe(y1,[["render",b1]]),w1=xe({name:"And",props:{isNegated:{type:Boolean,default:!1}}});const C1={class:"and",width:"100",height:"50",viewBox:"0 -1 100 50"},S1=_e("path",{transform:"translate(20, 0)",class:"and__element",d:"M 0 0 V 48 H 24 C 36 48 48 36 48 24 C 48 12 36 0 24 0 Z"},null,-1),I1={key:0,cx:"73",cy:"24",r:"5",class:"and__negation"};function x1(e,t,n,o,i,r){return K(),fe("svg",C1,[S1,e.isNegated?(K(),fe("circle",I1)):ht("",!0)])}const gc=Oe(w1,[["render",x1]]),E1=xe({name:"Or",props:{isNegated:{type:Boolean,default:!1},isXor:{type:Boolean,default:!1}}});const O1={width:"100",height:"50",viewBox:"0 -1 100 50",class:"or"},k1=_e("path",{transform:"translate(10, 0)",fill:"#fff",d:"M 0 0 C 12 12 12 36 0 48 H 0 H 24 C 48 48 60 36 72 24 C 60 12 48 0 24 0 Z",class:"or__element"},null,-1),$1={key:0,fill:"none",d:"M 0 0 C 12 12 12 36 0 48",class:"or__tail"},P1={key:1,cx:"88",cy:"24",r:"5",class:"or__negation"};function D1(e,t,n,o,i,r){return K(),fe("svg",O1,[k1,e.isXor?(K(),fe("path",$1)):ht("",!0),e.isNegated?(K(),fe("circle",P1)):ht("",!0)])}const fr=Oe(E1,[["render",D1]]),z1=xe({name:"Nor",components:{Or:fr}});function A1(e,t,n,o,i,r){const s=be("or");return K(),Ne(s,{"is-negated":!0})}const T1=Oe(z1,[["render",A1]]),M1=xe({name:"Buffer",props:{isNegated:{type:Boolean,default:!1}}});const B1={class:"buffer",width:"100",height:"50",viewBox:"0 -1 100 50"},L1=_e("path",{class:"buffer__element",transform:"translate(40, 0)",stroke:"#000","stroke-width":"2",fill:"#fff",d:"M 0 0 V 48 L 36 24 Z"},null,-1),N1={key:0,class:"buffer__negation",stroke:"#000","stroke-width":"2",cx:"88",cy:"24",r:"5",fill:"#fff"};function R1(e,t,n,o,i,r){return K(),fe("svg",B1,[L1,e.isNegated?(K(),fe("circle",N1)):ht("",!0)])}const F1=Oe(M1,[["render",R1]]),j1=xe({name:"Not",components:{Buffer:F1}});function V1(e,t,n,o,i,r){const s=be("buffer");return K(),Ne(s,{"is-negated":!0})}const U1=Oe(j1,[["render",V1]]),H1=xe({name:"Nand",components:{And:gc}});function W1(e,t,n,o,i,r){const s=be("and");return K(),Ne(s,{"is-negated":!0})}const Z1=Oe(H1,[["render",W1]]),q1=xe({name:"Xnor",components:{Or:fr}});function G1(e,t,n,o,i,r){const s=be("or");return K(),Ne(s,{"is-negated":!0,"is-xor":!0})}const K1=Oe(q1,[["render",G1]]),X1=xe({name:"Xor",components:{Or:fr}});function Y1(e,t,n,o,i,r){const s=be("or");return K(),Ne(s,{"is-xor":!0})}const J1=Oe(X1,[["render",Y1]]),Q1=xe({name:"LogicGate",components:{And:gc,Or:fr,Nor:T1,Not:U1,Nand:Z1,Xnor:K1,Xor:J1},props:{properties:{type:Object,default:()=>({})},subtype:{subtype:String,required:!0}},setup(e){return{inputCount:tt(()=>{var n;return((n=e.properties.inputCount)==null?void 0:n.value)||2})}}});const em=_e("div",{class:"logic-gate__wire"},null,-1),tm={key:0,class:"logic-gate__wires--multiwire"},nm=_e("div",{class:"logic-gate__wires-divider"},[_e("div",{class:"logic-gate__wire"})],-1);function om(e,t,n,o,i,r){return K(),fe("div",{style:rt({height:`${25*e.inputCount}px`}),class:"logic-gate"},[_e("div",{style:rt({width:(e.inputCount>2,100+"%")}),class:"logic-gate__wires"},[_e("div",{class:Je([{"logic-gate__wires-divider--multiwire":e.inputCount>2},"logic-gate__wires-divider"])},[(K(!0),fe(Ye,null,wt(e.inputCount-1,s=>(K(),fe("div",{key:s,class:"logic-gate__wire"}))),128)),em],2),e.inputCount>2?(K(),fe("div",tm)):ht("",!0),nm],4),(K(),Ne(ir(e.subtype),{class:"logic-gate__component"}))],4)}const im=Oe(Q1,[["render",om]]),rm=xe({name:"Lightbulb",props:{ports:{type:Array,default:()=>[]}},setup(e){return{modifier:tt(()=>{var n;switch((n=e.ports[0])==null?void 0:n.value){case 1:return"on";case-1:return"off";default:return"high-z"}})}}});const sm=["title"];function am(e,t,n,o,i,r){var s;return K(),fe("div",{class:Je(["lightbulb",`lightbulb--${e.modifier}`]),title:(s=e.ports[0])==null?void 0:s.value},null,10,sm)}const lm=Oe(rm,[["render",am]]),cm={Lightbulb:lm},um=xe({name:"OutputNode",components:cm,props:{ports:{type:Array,default:()=>[]},subtype:{type:String,required:!0}}});function dm(e,t,n,o,i,r){return K(),Ne(ir(e.subtype),Ha(Cs(e.$props)),null,16)}const fm=Oe(um,[["render",dm]]),hm={Freeport:jp,InputNode:Gp,IntegratedCircuit:_1,LogicGate:im,OutputNode:fm},pm=xe({name:"CircuitComponent",components:hm,emits:{signal:e=>!0},props:{isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},type:{type:String,required:!0},subtype:{type:String,required:!0},name:{type:String,default:""},ports:{type:Array,default:()=>[]},properties:{type:Object,default:()=>({})}},setup(e,{emit:t}){return{onChange(n){t("signal",n)},ItemType:at,ItemSubtype:Ke}}});function mm(e,t,n,o,i,r){return K(),fe("div",{class:Je(["circuit-component",{"circuit-component--selected":e.isSelected,"circuit-component--flash":e.flash,"circuit-component--custom":e.subtype===e.ItemSubtype.CustomCircuit}])},[(K(),Ne(ir(e.type),Bl(e.$props,{onSignal:e.onChange}),null,16,["onSignal"])),e.type!==e.ItemType.Freeport?(K(),fe(Ye,{key:0},wt(["left","top","right","bottom"],(s,a)=>_e("div",{key:a,class:Je([`circuit-component__ports--${s}`,"circuit-component__ports"])},[dt(e.$slots,a)],2)),64)):ht("",!0)],2)}const vc=Oe(pm,[["render",mm]]),gm=xe({name:"Properties",components:{Icon:Wt},props:{properties:{type:Object,default:()=>({})},id:{type:String,default:""},viewport:{type:Object,required:!0}},emits:{update:(e,t)=>!0,pan:(e,t)=>!0},setup(e,{emit:t}){const n=He(),o=He(!1),i=He(Zt(e.properties));fn(e.properties,h=>{i.value=Zt(h)},{deep:!0});function r(h){o.value=!1,h.preventDefault()}function s(h){var m;r(h),(m=n.value)==null||m.focus()}function a(h){h.stopPropagation()}function l(){t("update",e.id,i.value)}function u(){o.value=!0,er(()=>{if(!n.value)return;const{bottom:h,right:m}=n.value.getBoundingClientRect(),g=Math.max(m-e.viewport.right,0),d=Math.max(h-e.viewport.bottom,0);(g>0||d>0)&&t("pan",{x:-g,y:-d},!0)})}return{faClose:yo,faWrench:qf,model:i,isOpen:o,propertiesRef:n,close:r,onKeyDown:s,onChange:l,openProperties:u,stopPropagation:a}}});const vm=["aria-hidden"],ym={class:"properties__heading",role:"title"},bm=["for"],_m=["onUpdate:modelValue","id"],wm=["value"],Cm=["onUpdate:modelValue","id"],Sm=["onUpdate:modelValue","min","max","type","id"];function Im(e,t,n,o,i,r){const s=be("icon");return K(),fe("div",{onContextmenu:t[3]||(t[3]=(...a)=>e.stopPropagation&&e.stopPropagation(...a)),onMousedown:t[4]||(t[4]=(...a)=>e.stopPropagation&&e.stopPropagation(...a)),onMouseup:t[5]||(t[5]=(...a)=>e.stopPropagation&&e.stopPropagation(...a)),onKeydown:t[6]||(t[6]=kn((...a)=>e.onKeyDown&&e.onKeyDown(...a),["esc"])),class:"properties"},[e.isOpen?(K(),fe("div",{key:0,class:"properties__dialog",ref:"propertiesRef","aria-hidden":!e.isOpen},[_e("div",ym,[Ss(" Properties "),de(s,{tabindex:0,icon:e.faClose,onClick:e.close,role:"button",class:"properties__close"},null,8,["icon","onClick"])]),(K(!0),fe(Ye,null,wt(e.model,(a,l)=>(K(),fe("div",{key:l,class:"properties__entry"},[_e("label",{for:`${e.id}_${l}`,class:"properties__label"},ut(a.label),9,bm),a.options?lo((K(),fe("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${e.id}_${l}`,class:"properties__input",onChange:t[0]||(t[0]=(...u)=>e.onChange&&e.onChange(...u))},[(K(!0),fe(Ye,null,wt(a.options,(u,h)=>(K(),fe("option",{key:h,value:u},ut(h),9,wm))),128))],40,_m)),[[ks,a.value]]):a.type==="boolean"?lo((K(),fe("input",{key:1,"onUpdate:modelValue":u=>a.value=u,id:`${e.id}_${l}`,type:"checkbox",class:"properties__input",onChange:t[1]||(t[1]=(...u)=>e.onChange&&e.onChange(...u))},null,40,Cm)),[[Os,a.value]]):lo((K(),fe("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${e.id}_${l}`,class:"properties__input",onChange:t[2]||(t[2]=(...u)=>e.onChange&&e.onChange(...u))},null,40,Sm)),[[jl,a.value]])]))),128))],8,vm)):(K(),Ne(s,{key:1,onKeydown:kn(e.openProperties,["space"]),onClick:e.openProperties,tabindex:0,icon:e.faWrench,class:"properties__icon"},null,8,["onKeydown","onClick","icon"]))],32)}const xm=Oe(gm,[["render",Im]]),Em=xe({name:"PortPivot",components:{Resizable:_o},props:{rotation:{type:Number,default:0}}});function Om(e,t,n,o,i,r){const s=be("resizable");return K(),Ne(s,{class:"port-pivot",style:rt({transform:`rotate(-${e.rotation*90}deg)`}),onKeydown:t[0]||(t[0]=kn(a=>e.$emit("connect"),["space"]))},{default:Fe(()=>[dt(e.$slots,"default")]),_:3},8,["style"])}const km=Oe(Em,[["render",Om]]),$m=xe({name:"PortItem",components:{PortHandle:Ds,PortPivot:km,Draggable:dr,Resizable:_o},props:{id:{type:String,default:""},rotation:{type:Number,default:0},position:{type:Object,default:()=>({x:0,y:0})},isFreeport:{type:Boolean,default:!1},type:{type:Number,default:0},orientation:{type:Number,default:0},hue:{type:Number,default:0},connectedPortIds:{type:Object,default:[]},store:{type:Function,required:!0}},setup(e,{emit:t}){const n=e.store(),o=Vt.Radial;let i=null,r="",s=!1;function a(f){f.preventDefault(),f.stopPropagation(),t("deselect",f)}function l(){n.unsetConnectionPreview(),n.cachedState=null}function u(){i={itemId:ot()},r=ot(),s=!1,e.type===yt.Input?(i.outputPortId=r,i.targetId=e.id):(i.inputPortId=r,i.sourceId=e.id)}function h({x:f,y:b}){i!==null&&(s||(n.createFreeport(i,!1),n.setConnectablePortIds({portId:e.id,isDragging:!0}),n.setSnapBoundaries(r)),n.dragItem(i.itemId,{x:f,y:b},Vt.Radial))}function m(){i!==null&&(i.inputPortId?n.connectFreeport({portId:i.inputPortId,sourceId:e.id}):i.outputPortId&&n.connectFreeport({portId:i.outputPortId,targetId:e.id}))}function g(f){f.stopPropagation(),f.preventDefault(),navigator.vibrate(100),n.togglePortMonitoring(e.id)}function d(f){n.setPortRelativePosition(f,e.id)}function v(f){f.stopPropagation(),f.preventDefault(),n.togglePortMonitoring(e.id)}return{store:n,snapMode:o,onDragStart:u,onDrag:h,onDragEnd:m,onEscapeKey:a,onBlur:l,onTouchHold:g,onResize:d,onDoubleClick:v,PortType:yt}}});function Pm(e,t,n,o,i,r){const s=be("port-handle"),a=be("draggable"),l=be("port-pivot");return K(),Ne(l,{rotation:e.rotation,onBlur:e.onBlur,onKeydown:[kn(e.onEscapeKey,["esc"]),t[0]||(t[0]=kn(u=>e.store.cycleConnectionPreviews(e.id),["space"])),kn(e.store.commitPreviewedConnection,["enter"])],onResize:e.onResize,onContextmenu:t[1]||(t[1]=u=>e.store.setActivePortId(e.id))},{default:Fe(()=>[e.isFreeport?(K(),Ne(s,{key:1,type:e.type,hue:e.hue,active:e.store.activePortId===e.id||e.store.connectablePortIds.includes(e.id)},null,8,["type","hue","active"])):(K(),Ne(a,{key:0,onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onTouchhold:e.onTouchHold,onDblclick:e.onDoubleClick,tabindex:-1},{default:Fe(()=>[de(s,{type:e.type,hue:e.hue,active:e.store.activePortId===e.id||e.store.connectablePortIds.includes(e.id),"touch-friendly":""},null,8,["type","hue","active"])]),_:1},8,["onDragStart","onDrag","onDragEnd","onTouchhold","onDblclick"]))]),_:1},8,["rotation","onBlur","onKeydown","onResize"])}const Dm=Oe($m,[["render",Pm]]),zm={},Am={switch1_nor1_conn:{id:"switch1_nor1_conn",connectionChainId:"switch1_nor1_conn",source:"switchOutputPort1",target:"nor1InputPort1",isSelected:!1,groupId:null,zIndex:7},switch2_nor2_conn:{id:"switch2_nor2_conn",connectionChainId:"switch2_nor2_conn",source:"switchOutputPort2",target:"nor2InputPort1",isSelected:!1,groupId:null,zIndex:8},nor1_nor2_conn:{id:"nor1_nor2_conn",connectionChainId:"nor1_nor2_conn",source:"nor1OutputPort1",target:"nor2InputPort2",isSelected:!1,groupId:null,zIndex:9},nor2_nor1_conn:{id:"nor2_nor1_conn",connectionChainId:"nor2_nor1_conn",source:"nor2OutputPort1",target:"nor1InputPort2",isSelected:!1,groupId:null,zIndex:10},nor1_lightbulb1_conn:{id:"nor1_lightbulb1_conn",connectionChainId:"nor1_lightbulb1_conn",source:"nor1OutputPort1",target:"lightbulbInputPort1",isSelected:!1,groupId:null,zIndex:11},nor2_lightbulb2_conn:{id:"nor2_lightbulb2_conn",connectionChainId:"nor2_lightbulb2_conn",source:"nor2OutputPort1",target:"lightbulbInputPort2",isSelected:!1,groupId:null,zIndex:12}},Tm={nor1InputPort1:{id:"nor1InputPort1",elementId:"nor1",name:"Input Port 1",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1InputPort2:{id:"nor1InputPort2",elementId:"nor1",name:"Input Port 2",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1OutputPort1:{id:"nor1OutputPort1",elementId:"nor1",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},nor2InputPort1:{id:"nor2InputPort1",elementId:"nor2",name:"Input Port 1",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2InputPort2:{id:"nor2InputPort2",elementId:"nor2",name:"Input Port 2",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2OutputPort1:{id:"nor2OutputPort1",elementId:"nor2",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort1:{id:"switchOutputPort1",elementId:"switch1",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort2:{id:"switchOutputPort2",elementId:"switch2",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},lightbulbInputPort1:{id:"lightbulbInputPort1",elementId:"lightbulb1",name:"Input Port",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},lightbulbInputPort2:{id:"lightbulbInputPort2",elementId:"lightbulb2",name:"Input Port",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1}},Mm={nor1:{id:"nor1",type:"LogicGate",subtype:"Nor",portIds:["nor1InputPort1","nor1InputPort2","nor1OutputPort1"],position:{x:300,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2}},groupId:null,zIndex:1,width:100,height:150},nor2:{id:"nor2",type:"LogicGate",subtype:"Nor",portIds:["nor2InputPort2","nor2InputPort1","nor2OutputPort1"],position:{x:300,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2}},groupId:null,zIndex:2,width:120,height:51},switch1:{id:"switch1",type:"InputNode",subtype:"Clock",portIds:["switchOutputPort1"],position:{x:100,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},interval:{label:"Interval",value:1e3,type:"number",min:100,step:100},startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:3,width:40,height:40},switch2:{id:"switch2",type:"InputNode",subtype:"Switch",portIds:["switchOutputPort2"],position:{x:100,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},startValue:{label:"Start value",value:1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:4,width:40,height:40},lightbulb1:{id:"lightbulb1",type:"OutputNode",subtype:"Lightbulb",portIds:["lightbulbInputPort1"],position:{x:700,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:5,width:40,height:40},lightbulb2:{id:"lightbulb2",type:"OutputNode",subtype:"Lightbulb",portIds:["lightbulbInputPort2"],position:{x:700,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:6,width:40,height:40}},Bm={groups:zm,connections:Am,ports:Tm,items:Mm};class Lm{constructor(t,n){le(this,"node");le(this,"id");this.node=t,this.id=n}}const nt={TRUE:1,FALSE:-1,UNKNOWN:0};class mn{constructor(t,n=[]){le(this,"inputValues",{});le(this,"outputs",[]);le(this,"isValueChanged",!0);le(this,"forceContinue",!1);le(this,"name");le(this,"value",nt.UNKNOWN);le(this,"newValue",nt.UNKNOWN);le(this,"events",[]);le(this,"setValue",t=>{this.newValue=t});le(this,"invokeEvent",(t,n,o)=>{this.events.forEach(i=>{i.eventType===t&&i.callback(n,o)})});le(this,"eval",()=>this.value);le(this,"valueCount",t=>Object.values(this.inputValues).filter(n=>n===t).length);le(this,"updateOutputs",t=>{const n=[];this.outputs.forEach(({node:o,id:i})=>{o.update(t,i),n.push(i)}),this.invokeEvent("change",t,n)});le(this,"update",(t,n)=>{this.inputValues[n]=t,this.newValue=this.eval(),this.invokeEvent("change",this.newValue,this.outputs.map(({id:o})=>o))});le(this,"propagate",()=>{let t=[];return this.value!==this.newValue&&(this.isValueChanged=!0,this.value=this.newValue,this.updateOutputs(this.newValue),this.outputs.forEach(({node:n})=>{n.forceContinue?t=t.concat(n.propagate()):t.push(n)})),t});le(this,"reset",()=>{this.value=nt.UNKNOWN,this.newValue=nt.UNKNOWN,this.invokeEvent("change",this.newValue,this.outputs.map(({id:t})=>t))});le(this,"on",(t,n)=>{this.events.push({eventType:t,callback:n})});le(this,"getProjectedValue",()=>this.eval()||this.newValue||this.value);this.name=t,this.inputValues=n.reduce((o,i)=>({...o,[i]:nt.UNKNOWN}),{})}}class ts extends mn{constructor(){super(...arguments);le(this,"reset",()=>{})}}class yc extends mn{constructor(){super(...arguments);le(this,"update",n=>{this.newValue!==n&&(this.newValue=n,this.invokeEvent("change",this.newValue,[]))})}}class Nm{constructor(){le(this,"queue",[]);le(this,"nodes",[]);le(this,"inputNodes",[]);le(this,"addNode",t=>{t instanceof ts&&(this.inputNodes.push(t),this.enqueue(t)),this.nodes.push(t)});le(this,"removeNode",t=>{if(t instanceof ts){const o=this.inputNodes.findIndex(({name:i})=>i===t.name);o!==-1&&this.inputNodes.splice(o,1)}const n=this.nodes.findIndex(({name:o})=>o===t.name);n!==-1&&(this.removeNodeOutputs(t),this.nodes.splice(n,1)),this.next()});le(this,"addConnection",(t,n,o,i=nt.UNKNOWN)=>{t.outputs.push(new Lm(n,o)),t.value=i,i||this.enqueue(t)});le(this,"removeConnection",(t,n,o=nt.UNKNOWN)=>{t.outputs.concat().forEach(({node:i,id:r},s)=>{n===i&&(n.update(o,r),t.outputs.splice(s,1),this.enqueue(n))})});le(this,"removeNodeOutputs",t=>{for(let n=0;n<t.outputs.length;n++)this.removeConnection(t,t.outputs[n].node)});le(this,"enqueue",(...t)=>{t.forEach(n=>{~this.queue.indexOf(n)||this.queue.push(n)})});le(this,"dequeue",t=>{const n=this.queue.indexOf(t);~n&&this.queue.splice(n,1)});le(this,"reset",()=>{this.nodes.forEach(t=>t.reset())});le(this,"next",()=>{let t=!1,n=[];for(;this.queue.length>0;){const o=this.queue.shift();o&&(n=n.concat(o.propagate()),this.dequeue(o),o.isValueChanged&&(t=!0),o.forceContinue&&(this.enqueue(...n),n=[]))}t&&this.enqueue(...n)});le(this,"isComplete",()=>{let t=!0;return this.queue.length===0?!0:(this.queue.forEach(n=>{n.getProjectedValue()!==n.value&&!(n instanceof yc)&&(t=!1)}),t&&(this.queue=[]),t)})}}class Ma extends mn{constructor(){super(...arguments);le(this,"eval",()=>this.valueCount(nt.TRUE)?nt.FALSE:this.valueCount(nt.UNKNOWN)?nt.UNKNOWN:nt.TRUE)}}class Rm extends mn{constructor(){super(...arguments);le(this,"eval",()=>this.valueCount(nt.TRUE)?nt.TRUE:this.valueCount(nt.UNKNOWN)?nt.UNKNOWN:nt.FALSE)}}let Fm=class extends mn{constructor(){super(...arguments);le(this,"forceContinue",!0);le(this,"update",n=>{const o=Object.keys(this.inputValues).pop();o&&(this.inputValues[o]=n,this.newValue=this.eval())});le(this,"eval",()=>Object.values(this.inputValues).pop()||nt.UNKNOWN)}};var bc={exports:{}};function Ms(){}Ms.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function i(){o.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var r=0,s=o.length;r<s;r++)o[r].fn!==t&&o[r].fn._!==t&&i.push(o[r]);return i.length?n[e]=i:delete n[e],this}};bc.exports=Ms;var Bs=bc.exports.TinyEmitter=Ms;class Ti{constructor(t,n,o,i){le(this,"id");le(this,"name");le(this,"width",0);le(this,"lastY",0);le(this,"segments",[]);le(this,"hue",0);le(this,"initialize",t=>{const n={x:1,y:1};t===1?(n.y=0,this.lastY=1):(n.y=1,this.lastY=0),this.addSegment(n),this.updateWidth()});le(this,"reset",()=>{this.segments=[],this.width=0,this.initialize(this.lastY===1?0:1)});le(this,"update",t=>{this.drawPulseConstant()});le(this,"addSegment",t=>{const n=this.segments[this.segments.length-1];!n&&t.x>0?this.segments.push({x:0,y:t.y}):n&&n.x!==t.x&&n.y!==t.y&&this.segments.pop(),this.segments.push(t),this.updateWidth()});le(this,"drawPulseChange",t=>{const{x:n}=this.segments[this.segments.length-1],o=t===nt.TRUE?0:1;this.updateWidth(),this.addSegment({x:n,y:o})});le(this,"drawPulseConstant",()=>{const t=this.segments[this.segments.length-1],n=this.lastY!==t.y?t:this.segments.pop();n&&(this.updateWidth(),this.addSegment({x:n.x+1,y:n.y})),this.lastY=t.y});le(this,"truncateSegments",t=>{if(t>this.width)return;const n=this.width-t;for(let o=0;o<this.segments.length;o++){const{x:i,y:r}=this.segments[o];if(i>n){this.segments.splice(0,o),this.segments.unshift({x:0,y:r});break}}for(let o=1;o<this.segments.length;o++){const{x:i,y:r}=this.segments[o];this.segments[o]={x:i-n,y:r}}this.updateWidth()});le(this,"updateWidth",()=>{var t;this.width=((t=this.segments.slice(-1)[0])==null?void 0:t.x)||0});this.id=t,this.name=n,this.hue=i,this.initialize(o)}}class jm{constructor(t,n,o){le(this,"id",ot());le(this,"name");le(this,"signal",0);le(this,"interval",0);le(this,"lastUpdate");le(this,"emitter",new Bs);le(this,"isStopped",!1);le(this,"on",(t,n)=>{this.emitter.on(t,n)});le(this,"stop",()=>{this.isStopped=!0});le(this,"start",()=>{this.isStopped=!1});le(this,"update",t=>{!this.isStopped&&t>=this.lastUpdate+this.interval&&(this.signal=this.signal===-1?1:-1,this.lastUpdate=t,this.emitter.emit("change",this.signal))});this.name=t,this.signal=o,this.interval=n,this.lastUpdate=-n}}class Vm{constructor(){le(this,"isPaused",!0);le(this,"waves",{});le(this,"refreshRate",20);le(this,"lastUpdateTime",Date.now());le(this,"timeMsElapsed",0);le(this,"timeMsOffset",0);le(this,"emitter",new Bs);le(this,"start",()=>{if(!this.isPaused)return;const t=this.lastUpdateTime%this.refreshRate;this.lastUpdateTime=Date.now()+t,this.isPaused=!1,this.tick()});le(this,"stop",()=>{this.isPaused=!0});le(this,"clear",()=>{Object.values(this.waves).forEach(t=>{t instanceof Ti&&t.reset()})});le(this,"computeWaveGeometry",t=>{const n={},o=i=>i.map(({x:r,y:s})=>`${r},${s}`);for(const i in t)if(t[i]instanceof Ti){const r=t[i],s=o(r.segments);n[i]={points:s.join(" "),width:r.width,hue:r.hue}}return n});le(this,"on",(t,n)=>{this.emitter.on(t,n)});le(this,"broadcast",()=>{const t=window.screen.width,n=1e3/this.refreshRate,o=t/n;this.timeMsElapsed>=this.timeMsOffset+o/2*1e3&&(this.timeMsOffset=this.timeMsElapsed,Object.values(this.waves).forEach(i=>{i instanceof Ti&&i.truncateSegments(t)})),this.emitter.emit("change",this.computeWaveGeometry(this.waves))});le(this,"tick",()=>{if(this.isPaused)return;const t=Date.now(),n=1e4;let o=!1;if(t>=this.lastUpdateTime+n){this.stop(),this.start();return}for(;t>=this.lastUpdateTime+this.refreshRate;){const i=Math.min(this.refreshRate,t-this.lastUpdateTime);o=!0,this.timeMsElapsed+=i,this.lastUpdateTime+=i,this.update()}o&&this.broadcast(),requestAnimationFrame(this.tick)});le(this,"update",()=>{Object.values(this.waves).forEach(t=>t.update(this.timeMsElapsed))});le(this,"add",t=>{this.waves.hasOwnProperty(t.id)||(this.waves[t.id]=t,this.timeMsElapsed===0&&this.broadcast())});le(this,"remove",({id:t})=>{delete this.waves[t],Object.keys(this.waves).length===0&&(this.stop(),this.clear())})}}class Um extends mn{constructor(){super(...arguments);le(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n&&o===nt.TRUE,!0)?nt.TRUE:nt.FALSE)}}class Hm extends mn{constructor(){super(...arguments);le(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n||o===nt.FALSE,!1)?nt.TRUE:nt.FALSE)}}class Wm extends mn{constructor(){super(...arguments);le(this,"eval",()=>{switch(Object.values(this.inputValues).pop()){case nt.TRUE:return nt.FALSE;case nt.FALSE:return nt.TRUE;default:return nt.UNKNOWN}})}}function _c(e,t,n){switch(e){case Ke.And:return new Um(t,n);case Ke.Nand:return new Hm(t,n);case Ke.Or:return new Rm(t,n);case Ke.Nor:return new Ma(t,n);case Ke.Not:return new Wm(t,n);default:return new Ma(t,n)}}function Zm({id:e,type:t,subtype:n},o){switch(t){case at.CircuitNode:return new mn(e,o);case at.InputNode:return new ts(e,o);case at.LogicGate:return _c(n,e,o);case at.Buffer:case at.Freeport:return new Fm(e,o);default:return new yc(e,o)}}const qm={getLogicGateNode:_c,getCircuitNode:Zm};class wc{constructor(t,n,o){le(this,"nodes",{});le(this,"waves",{});le(this,"clocks",{});le(this,"valueMap",{});le(this,"circuit",new Nm);le(this,"oscillator",new Vm);le(this,"emitter",new Bs);le(this,"oscillogram",{});le(this,"canContinue",!1);le(this,"nextState",null);le(this,"isDebug",!1);le(this,"nextValueMap",{});le(this,"addElements",(t,n,o)=>{t.forEach(i=>this.addNode(i,o)),n.forEach(i=>this.addConnection(i.source,i.target))});le(this,"onChange",t=>{this.emitter.on("change",t)});le(this,"onError",t=>{this.emitter.on("error",t)});le(this,"emit",()=>{this.emitter.emit("change",this.valueMap)});le(this,"step",(t=0)=>{this.circuit.next();const n=this.circuit.queue.length>0;t>1e3&&this.emitter.emit("error","INFINITE_LOOP"),n&&this.step(++t),this.isDebug||this.emit()});le(this,"toggleClocks",t=>{Object.values(this.clocks).forEach(n=>n[t]())});le(this,"start",()=>{this.isDebug||this.toggleClocks("start"),this.oscillator.start()});le(this,"stop",()=>{this.toggleClocks("stop"),this.oscillator.stop()});le(this,"startDebugging",()=>{this.isDebug=!0,this.computeNextState(),this.toggleClocks("stop")});le(this,"stopDebugging",()=>{this.isDebug=!1,this.advanceDebuggerStep(),this.nextState=null,this.toggleClocks("start")});le(this,"advanceDebuggerStep",()=>{if(!this.isDebug)return this.step();const t=Object.keys(this.nextValueMap);t.length>0?t.forEach(n=>this.updatePortValue(n,this.nextValueMap[n])):this.nextState&&(this.valueMap=JSON.parse(this.nextState)),this.nextValueMap={},this.computeNextState(),this.emit()});le(this,"computeNextState",()=>{const t=JSON.stringify(this.valueMap);this.circuit.next();const n=JSON.stringify(this.valueMap);t!==n?this.nextState=n:this.nextState=null,this.canContinue=this.nextState!==null});le(this,"updatePortValue",(t,n)=>{var o;this.nodes[t].setValue(n),this.circuit.enqueue(this.nodes[t]),(o=this.waves[t])==null||o.drawPulseChange(n)});le(this,"enqueuePortValueChange",(t,n)=>{this.nextValueMap[t]=n,this.canContinue=Object.keys(this.nextValueMap).reduce((o,i)=>o||this.valueMap[i]!==this.nextValueMap[i],!1)});le(this,"setPortValue",(t,n)=>{if(this.isDebug)return this.enqueuePortValueChange(t,n);this.nodes[t]&&this.nodes[t].value!==n&&(this.updatePortValue(t,n),this.step())});le(this,"addIntegratedCircuit",t=>{if(!t.integratedCircuit)return;const{items:n,connections:o,ports:i}=t.integratedCircuit;Object.values(n).forEach(r=>{this.addNode(r,i)}),Object.values(o).forEach(r=>{this.addConnection(r.source,r.target)})});le(this,"addNode",(t,n,o=!1)=>{var a;if(t.portIds.length===0)return;if(t.integratedCircuit)return this.addIntegratedCircuit(t);const i=t.portIds.filter(l=>n[l].type===yt.Input),r=t.portIds.filter(l=>n[l].type===yt.Output),s=qm.getCircuitNode(t,i);o&&(s.forceContinue=!0),t.portIds.forEach(l=>this.addPort(l,s)),s.on("change",(l,u)=>{u.concat(r).forEach(h=>{var m;this.valueMap[h]=l,(m=this.waves[h])==null||m.drawPulseChange(l)})}),t.type===at.InputNode&&t.subtype===Ke.Clock&&this.addClock(r[0],(a=t.properties.interval)==null?void 0:a.value),this.circuit.addNode(s),t.portIds.forEach(l=>{const u=n[l];u.isMonitored&&this.monitorPort(l,u.value,u.hue)})});le(this,"removeNode",t=>{const n=o=>o.integratedCircuit?Object.values(o.integratedCircuit.items).reduce((i,r)=>r.integratedCircuit?i.concat(n(r)).concat(r.portIds):i.concat(r.portIds),[]):[];t.portIds.concat(n(t)).forEach(o=>{const i=this.nodes[o];i&&(this.circuit.removeNode(i),this.removePort(o))}),this.emit()});le(this,"addClock",(t,n=1e3)=>{this.clocks[t]=new jm(t,n,1),this.clocks[t].on("change",o=>{this.setPortValue(t,o)}),this.oscillator.add(this.clocks[t])});le(this,"setClockInterval",(t,n)=>{this.clocks[t]&&(this.clocks[t].interval=n)});le(this,"addPort",(t,n)=>{this.nodes[t]=n});le(this,"removePort",t=>{this.clocks[t]&&this.oscillator.remove(this.clocks[t]),this.unmonitorPort(t),delete this.nodes[t],delete this.valueMap[t],delete this.clocks[t],delete this.waves[t]});le(this,"addConnection",(t,n,o)=>{this.nodes[t]&&this.nodes[n]&&(this.circuit.addConnection(this.nodes[t],this.nodes[n],n,o),this.advanceDebuggerStep())});le(this,"removeConnection",(t,n,o)=>{this.nodes[t]&&this.nodes[n]&&(this.circuit.removeConnection(this.nodes[t],this.nodes[n],o),this.advanceDebuggerStep())});le(this,"monitorPort",(t,n,o)=>{this.waves[t]||(this.waves[t]=new Ti(t,t,n,o),this.oscillator.add(this.waves[t]))});le(this,"unmonitorPort",t=>{this.waves[t]&&(this.oscillator.remove(this.waves[t]),this.oscillator.broadcast()),delete this.waves[t],delete this.oscillator.waves[t],delete this.oscillogram[t]});this.addElements(t,n,o)}}const Gm=()=>({undoStack:[],redoStack:[],simulation:new wc([],[],{}),oscillogram:{},itemNames:[],zoomLevel:1,zIndex:1,oscilloscopeHeight:200,isOscilloscopeOpen:!1,isOscilloscopeRecording:!0,isCircuitEvaluated:!1,isDebugging:!1,isDirty:!1,hasLoaded:!1,isPrinting:!1,isCreatingImage:!1,animatePan:!1,debugger:{timeout:0,hasUpdated:!1},viewport:new DOMRect,canvas:{top:0,left:0,bottom:0,right:0},snapBoundaries:[],connectablePortIds:[],selectedConnectionIds:[],selectedItemIds:[],selectedPortIndex:-1,cachedState:null,activeFreeportId:null,activePortId:null,connectionPreviewId:null,items:{},connections:{},ports:{},groups:{}});function Km(){this.copy(),this.deleteSelection()}function Xm(){if(!this.hasSelection)return;const e={},t={};this.selectedItemIds.forEach(r=>{e[r]=this.items[r],e[r].portIds.forEach(s=>{t[s]=this.ports[s]})});const n=Object.values(this.connections).reduce((r,s)=>(t[s.source]&&t[s.target]&&(r[s.id]=s),r),{}),o=Object.values(this.groups).filter(({isSelected:r})=>r).reduce((r,s)=>({...r,[s.id]:s}),{}),i={items:e,ports:t,connections:n,groups:o,pasteCount:1};window.api.copy(JSON.stringify(i))}function Ym(){try{const e=window.api.paste(),t=JSON.parse(e),n=As.mapStandardCircuitIds(t);this.commitState(),this.deselectAll(),Object.keys(n.ports).forEach(i=>{n.ports[i].value=0}),Object.values(n.items).forEach(i=>{i.position.x+=20*t.pasteCount,i.position.y+=20*t.pasteCount,i.isSelected=!1,this.addItem({item:i,ports:n.ports}),this.setSelectionState({id:i.id,value:!0})}),Object.values(n.connections).forEach(i=>this.connect(i)),Object.values(n.groups).forEach(i=>{this.groups[i.id]=i,this.setGroupBoundingBox(i.id),this.setSelectionState({id:i.id,value:!0})});const o={...JSON.parse(e),pasteCount:t.pasteCount+1};window.api.copy(JSON.stringify(o))}catch(e){console.log("ERROR: ",e)}}const Jm=Object.defineProperty({__proto__:null,copy:Xm,cut:Km,paste:Ym},Symbol.toStringTag,{value:"Module"});function Qm(e){if(this.activePortId&&e){let t=this.activePortId,n=e;this.ports[this.activePortId].type===yt.Input&&(t=e,n=this.activePortId);const o=ot();this.unsetConnectionPreview(),this.connect({source:t,target:n,id:o}),this.connectionPreviewId=o}}function eg(){this.connectionPreviewId&&this.disconnect(this.connections[this.connectionPreviewId]),this.connectionPreviewId=null}function tg(){if(this.connectionPreviewId){const{source:e,target:t}=this.connections[this.connectionPreviewId];this.disconnect({source:e,target:t}),this.commitState(),this.connect({source:e,target:t}),this.connectionPreviewId=null}}function ng(e){var o;e&&e!==this.activePortId&&this.setActivePortId(e);let t=this.selectedPortIndex+1;t<=0&&(t=0),t>=this.connectablePortIds.length&&(t=-1);const n=this.connectablePortIds[t];n&&!((o=this.ports[e])!=null&&o.connectedPortIds.includes(n))?this.setConnectionPreview(n):(this.connectablePortIds.length===0&&window.api.beep(),this.unsetConnectionPreview()),this.selectedPortIndex=t}function og(e){const t=e.id||ot();this.connections[t]={...e,id:t,connectionChainId:e.connectionChainId||t,groupId:null,zIndex:++this.zIndex,isSelected:!1},this.ports[e.source].connectedPortIds.push(e.target),this.ports[e.target].connectedPortIds.push(e.source)}function ig(e){!this.ports[e.source]||!this.ports[e.target]||(this.createConnection(e),this.simulation.addConnection(e.source,e.target),this.simulation.circuit.next())}function rg({source:e,target:t}){const n=Object.values(this.connections).find(o=>o.source===e&&o.target===t);if(n){const o=this.ports[e].connectedPortIds.findIndex(r=>r===t),i=this.ports[t].connectedPortIds.findIndex(r=>r===e);this.ports[e].connectedPortIds.splice(o,1),this.ports[t].connectedPortIds.splice(i,1),delete this.connections[n.id]}}function sg({source:e,target:t}){this.simulation.removeConnection(e,t),this.simulation.circuit.next(),this.destroyConnection({source:e,target:t})}const ag=Object.defineProperty({__proto__:null,commitPreviewedConnection:tg,connect:ig,createConnection:og,cycleConnectionPreviews:ng,destroyConnection:rg,disconnect:sg,setConnectionPreview:Qm,unsetConnectionPreview:eg},Symbol.toStringTag,{value:"Module"});function lg(e){const t=JSON.parse(e),n=t.integratedCircuit?JSON.stringify(t.integratedCircuit):e;this.applyState(n),this.resetCircuit()}function cg(){this.isPrinting=!0}function ug(){this.isCreatingImage=!0}const dg=Object.defineProperty({__proto__:null,createImage:ug,loadDocument:lg,print:cg},Symbol.toStringTag,{value:"Module"});function Zn(e,t,n,o,i){return{id:t,orientation:n,name:i,position:{x:0,y:0},type:o,rotation:0,elementId:e,value:0,hue:0,isMonitored:!1,isFreeport:!1,connectedPortIds:[]}}const wo=cr({id:"preferences",state:()=>({colors:{onColor:{type:"color",label:"High state",value:"#0000ff",description:"When a signal is present."},offColor:{type:"color",label:"Low state",value:"#c0c0c0",description:"When no signal is present."},unknownColor:{type:"color",label:"Unknown state",value:"#ff0000",description:"High impedance (Hi-Z)."}},snapping:{snapToGrid:{type:"boolean",label:"Snap to grid",value:!1,description:"Snap elements to the grid lines.",excludes:["snapToAlign"]},snapToAlign:{type:"boolean",label:"Snap to align",value:!0,description:"Snap elements together.",excludes:["snapToGrid"]},snapTolerance:{type:"number",label:"Snap tolerance",value:15,description:"Maximum distance from a dragging object to snap to another element."}},grid:{showGrid:{type:"boolean",label:"Show grid",value:!0,description:"Display a grid on the canvas."},gridSize:{type:"number",label:"Grid size",value:20,description:"Distance between grid lines.",excludes:["snapToAlign"]}},simulation:{startPaused:{type:"boolean",label:"Pause on startup",value:!0,description:"Start simulation paused."}},experience:{vibration:{type:"boolean",label:"Vibration",value:!0,description:"Haptic feedback on gestures.",mobileOnly:!0},autosave:{type:"boolean",label:"Auto-save",value:!0,description:"Automatically save your work.",desktopOnly:!0},darkMode:{type:"boolean",label:"Dark mode",value:!0}}}),actions:{async writeSettings(){},async updateSettings(e){await this.writeSettings()}}});function fg({itemId:e,inputPortId:t,outputPortId:n,value:o=0}){const i=[];n&&(this.ports[n]=Zn(e,n,vt.Left,yt.Output,n),this.ports[n].value=o,this.ports[n].isFreeport=!0,i.push(this.ports[n])),t&&(this.ports[t]=Zn(e,t,vt.Right,yt.Input,t),this.ports[t].value=o,this.ports[t].isFreeport=!0,i.push(this.ports[t])),this.items[e]=bo(e,at.Freeport,Ke.None,1,1,i),this.items[e].zIndex=this.zIndex++,this.simulation.addNode(this.items[e],this.ports,!0)}function hg(e){const t=this.items[e];let n="",o="";Object.values(this.connections).forEach(i=>{i.target===t.portIds[1]&&(n=i.source),i.source===t.portIds[0]&&(o=i.target)}),n&&this.disconnect({source:n,target:t.portIds[1]}),o&&this.disconnect({source:t.portIds[0],target:o}),n&&o&&this.connect({source:n,target:o})}function pg(e,t=!0){if(this.items[e.itemId])return;e.sourceId&&e.targetId&&this.commitState(),this.deselectAll(),this.addFreeportItem(e),this.setItemBoundingBox(e.itemId),this.activeFreeportId=e.itemId;let n=[];e.sourceId&&e.inputPortId&&n.push({source:e.sourceId,target:e.inputPortId}),e.targetId&&e.outputPortId&&n.push({source:e.outputPortId,target:e.targetId}),n.forEach(o=>{this.createConnection({...o,connectionChainId:e.connectionChainId}),t&&this.simulation.addConnection(o.source,o.target,this.ports[o.source].value)}),e.sourceId&&e.targetId&&this.simulation.removeConnection(e.sourceId,e.targetId,this.ports[e.sourceId].value),e.sourceId&&e.targetId&&(this.deselectAll(),this.setSelectionState({id:e.itemId,value:!0}),this.incrementZIndex(1)),this.simulation.circuit.next()}function mg({sourceId:e,targetId:t,portId:n}){const o=this.ports[n],i=wo().snapping.snapTolerance.value,r=Object.values(this.ports).find(a=>a.id!==n&&this.connectablePortIds.includes(a.id)&&pt.isInNeighborhood(a.position,o.position,i));r?e?(this.disconnect({source:e,target:n}),this.connect({source:e,target:r.id})):t&&(this.disconnect({source:n,target:t}),this.connect({source:r.id,target:t})):this.disconnect({source:e||n,target:t||n});const s=Object.values(this.items).find(({portIds:a})=>a.includes(n));s&&this.removeElement(s.id),this.clearStatelessInfo()}const gg=Object.defineProperty({__proto__:null,addFreeportItem:fg,connectFreeport:mg,createFreeport:pg,disconnectFreeport:hg},Symbol.toStringTag,{value:"Module"});function vg(){this.commitState();const e=ot(),t=Object.values(this.items).filter(({isSelected:s})=>s),n=t.reduce((s,a)=>s.concat(a.portIds),[]),o=Object.values(this.connections).filter(s=>n.includes(s.source)&&n.includes(s.target)&&s.isSelected);t.forEach(s=>s.groupId&&this.destroyGroup(s.groupId)),o.forEach(s=>s.groupId&&this.destroyGroup(s.groupId));const i=[...t,...o].reduce((s,a)=>Math.max(a.zIndex,s),0),r={id:e,itemIds:t.map(({id:s})=>s),connectionIds:o.map(({id:s})=>s),isSelected:!0,boundingBox:{left:0,top:0,right:0,bottom:0},position:{x:0,y:0},zIndex:i};this.groups[e]=r,r.itemIds.forEach(s=>{this.items[s].groupId=r.id}),r.connectionIds.forEach(s=>{this.connections[s].groupId=r.id}),this.setZIndex(i),this.setGroupBoundingBox(e)}function yg(){this.commitState();for(const e in this.groups)this.groups[e].isSelected&&this.destroyGroup(e)}function bg(e){const t=this.groups[e];t.itemIds.forEach(n=>{this.items[n].groupId=null,this.selectedItemIds.push(n)}),t.connectionIds.forEach(n=>{this.connections[n].groupId=null,this.selectedConnectionIds.push(n)}),delete this.groups[e]}const _g=Object.defineProperty({__proto__:null,destroyGroup:bg,group:vg,ungroup:yg},Symbol.toStringTag,{value:"Module"});function hr(e,t,n,o){return{x:(n.x-t.x-e.left)/o,y:(n.y-t.y-e.top)/o}}function wg({item:e,ports:t}){var r;const n=((r=e.integratedCircuit)==null?void 0:r.ports)||t;e.portIds.forEach(s=>{const a=n[s];a&&(this.ports[a.id]=a,a.isMonitored&&this.monitorPort(a.id))});let o=e.name,i=0;for(;this.itemNames.includes(o);)o=`${e.name} ${++i}`;e.name=o,this.items[e.id]=e,this.items[e.id].zIndex=++this.zIndex,this.simulation.addNode(e,this.ports),this.resetItemValue(e),this.setProperties(e.id,e.properties),this.setItemBoundingBox(e.id)}function Cg({item:e,ports:t},n=null){if(!n){const i=pt.getBoundingBoxMidpoint(this.viewport);n={x:i.x+this.viewport.left,y:i.y+this.viewport.top}}const o=hr(this.canvas,this.viewport,n,this.zoomLevel);o.x-=e.width/2,o.y-=e.height/2,e.position=o,this.commitState(),this.addItem({item:e,ports:t.reduce((i,r)=>({...i,[r.id]:r}),{})}),this.setItemBoundingBox(e.id),this.setSelectionState({id:e.id,value:!0})}function Sg(e){var o;const t=(o=e.properties)==null?void 0:o.startValue;if(!t)return;const n=t.value;e.portIds.forEach(i=>this.setPortValue({id:i,value:n}))}function Ig(e){const t=this.items[e];if(!t)return;t.type===at.Freeport&&this.disconnectFreeport(e),this.simulation.removeNode(t),[...t.portIds].forEach(o=>this.removePort(o)),delete this.items[e]}function xg(e,t){const o=this.items[e].properties.inputCount.value;if(o>t)this.items[e].portIds.filter(i=>this.ports[i].type===yt.Input).slice(t).forEach(i=>this.removePort(i));else for(let i=o;i<t;i++){const r=ot();this.addPort(e,{id:r,name:"",connectedPortIds:[],type:yt.Input,elementId:e,virtualElementId:e,orientation:vt.Left,isFreeport:!1,isMonitored:!1,hue:0,position:{x:0,y:0},rotation:0,value:0})}}function Eg(e,t){const n=this.items[e];for(const o in t){const i=t[o];if(n.properties[o].value!==i.value){switch(this.commitState(),o){case"inputCount":this.setInputCount(e,i.value);break;case"interval":this.simulation.setClockInterval(n.portIds.slice(-1)[0],i.value);break}this.items[e].properties[o].value=i.value}}}const Og=Object.defineProperty({__proto__:null,addItem:wg,insertItemAtPosition:Cg,removeElement:Ig,resetItemValue:Sg,setInputCount:xg,setProperties:Eg},Symbol.toStringTag,{value:"Module"});function kg(e,t=!1){this.panDelta({x:e.x-this.canvas.left,y:e.y-this.canvas.top},t)}function $g(e,t=!1){this.animatePan=t;const n={...this.canvas},o=(i=0)=>{const s=(u=>1-(1-u)*(1-u))(i/100),a=e.x*s,l=e.y*s;this.canvas.left=n.left+a,this.canvas.right=n.right+a,this.canvas.top=n.top+l,this.canvas.bottom=n.bottom+l,i<100&&this.animatePan?requestAnimationFrame(o.bind(this,i+5)):this.animatePan=!1};t?requestAnimationFrame(o.bind(this,0)):(this.canvas.left+=e.x,this.canvas.right+=e.x,this.canvas.top+=e.y,this.canvas.bottom+=e.y)}function Pg(){const e=pt.getBoundingBoxMidpoint(this.canvas),t={x:this.viewport.width/2-e.x,y:this.viewport.height/2-e.y};this.panTo(t)}const Dg=Object.defineProperty({__proto__:null,panDelta:$g,panTo:kg,panToCenter:Pg},Symbol.toStringTag,{value:"Module"});function Cc(e,t,n){const{connectionIds:o,freeportIds:i}=Object.values(e).reduce(({connectionIds:r,freeportIds:s},a)=>{if(n===a.connectionChainId){const l=t[a.source],u=t[a.target];r.add(a.id),l!=null&&l.isFreeport&&s.add(l.elementId),u!=null&&u.isFreeport&&s.add(u.elementId)}return{connectionIds:r,freeportIds:s}},{connectionIds:new Set,freeportIds:new Set});return{connectionIds:Array.from(o),freeportIds:Array.from(i)}}function zg(e,t){const n=Object.values(this.simulation.nodes).find(({name:o})=>this.items[e].portIds.includes(o));this.ports[t.id]=t,this.items[e].portIds.push(t.id),n?this.simulation.addPort(t.id,n):this.simulation.addNode(this.items[e],this.ports)}function Ag(e){var o;if(!this.items[(o=this.ports[e])==null?void 0:o.elementId])return;Object.values(this.connections).filter(({source:i,target:r})=>i===e||r===e).forEach(i=>{const{connectionIds:r,freeportIds:s}=Cc(Object.values(this.connections),this.ports,i.connectionChainId);r.forEach(a=>this.disconnect(this.connections[a])),s.forEach(a=>{this.items[a].portIds.forEach(l=>{delete this.ports[l],this.simulation.removePort(l)}),delete this.items[a]})}),this.simulation.removePort(e);const t=this.ports[e].elementId,n=this.items[t].portIds.indexOf(e);n!==-1&&this.items[t].portIds.splice(n,1),delete this.ports[e]}function Tg(e){this.activePortId!==e&&(e?this.setConnectablePortIds({portId:e}):this.connectablePortIds=[],this.activePortId=e,this.selectedPortIndex=-1)}function Mg({portId:e,isDragging:t}){const n=this.ports[e];if(n.isFreeport)return;const o=Object.values(this.connections).reduce((r,s)=>r.concat([s.source,s.target]),[]);t&&o.splice(-2);const i=n.type===yt.Output?r=>r.type===yt.Input&&!r.isFreeport&&!o.includes(r.id)&&r.elementId!==n.elementId:r=>r.type===yt.Output&&!r.isFreeport&&!o.includes(n.id)&&r.elementId!==n.elementId;this.connectablePortIds=Object.values(this.ports).filter(i).map(({id:r})=>r)}function Bg({id:e,value:t}){this.simulation.setPortValue(e,t),this.isDebugging&&(this.isCircuitEvaluated=!this.simulation.canContinue)}function Lg(e){this.ports[e].isMonitored?this.unmonitorPort(e):this.monitorPort(e)}function Ng(e){const t=this.ports[e];t.hue=t.hue||~~(360*Math.random()),t.isMonitored=!0,this.simulation.monitorPort(e,t.value,t.hue),this.isOscilloscopeOpen=!0}function Rg(e){const t=this.ports[e];t.isMonitored=!1,this.simulation.unmonitorPort(e),this.isOscilloscopeOpen=Object.keys(this.oscillogram).length>0}const Fg=Object.defineProperty({__proto__:null,addPort:zg,monitorPort:Ng,removePort:Ag,setActivePortId:Tg,setConnectablePortIds:Mg,setPortValue:Bg,togglePortMonitoring:Lg,unmonitorPort:Rg},Symbol.toStringTag,{value:"Module"});function jg(){const{grid:e}=wo(),t=e.gridSize.value,n=Object.values(this.items).map(({boundingBox:l})=>l),o=pt.getGroupBoundingBox(n),{x:i,y:r}=pt.getCenteredScreenPoint(this.canvas,o,t),s=i-o.left,a=r-o.top;Object.values(this.items).forEach(l=>{this.setItemPosition({id:l.id,position:{x:l.position.x+s,y:l.position.y+a}})})}function Vg(e,t){const n=this.ports[t];n.position=hr(this.canvas,this.viewport,e,this.zoom)}function Ug({id:e,position:t}){const n=this.items[e],o={x:t.x-n.position.x,y:t.y-n.position.y};this.items[e].position=t,this.setItemBoundingBox(e),n.portIds.forEach(i=>{const r=this.ports[i];this.ports[i].position={x:r.position.x+o.x,y:r.position.y+o.y}})}function Hg(e,t,n){const{snapping:o,grid:i}=wo(),{x:r,y:s}=hr(this.canvas,this.viewport,t,this.zoom),{width:a,height:l,rotation:u}=this.items[e],h=pt.getBoundingBox({x:r,y:s},u,a,l),m=(()=>n||(o.snapToGrid.value?Vt.Grid:o.snapToAlign.value?Vt.Outer:Vt.None))(),g=(()=>{switch(m){case Vt.Grid:return i.gridSize.value;case Vt.Outer:case Vt.Radial:return o.snapTolerance.value;default:return 0}})(),d=pt.getSnapOffset(this.snapBoundaries,h,n||m,g);this.setSelectionPosition({id:e,position:{x:r+d.x,y:s+d.y}})}function Wg(e){const t=this.selectedItemIds[0];if(t){const n=this.items[t],o={x:n.position.x+e.x,y:n.position.y+e.y};this.commitState(),this.setSelectionPosition({id:t,position:o})}}function Zg({id:e,position:t}){const n=this.items[e],o={x:t.x-n.position.x,y:t.y-n.position.y},i=new Set;if(this.setSelectionState({id:e,value:!0}),n.type===at.Freeport)return this.setItemPosition({id:e,position:t});this.selectedItemIds.forEach(r=>{const s=this.items[r],a={x:s.position.x+o.x,y:s.position.y+o.y};s.groupId&&i.add(s.groupId),this.setItemPosition({id:r,position:a})}),i.forEach(this.setGroupBoundingBox)}const qg=Object.defineProperty({__proto__:null,centerAll:jg,dragItem:Hg,moveSelectionPosition:Wg,setItemPosition:Ug,setPortRelativePosition:Vg,setSelectionPosition:Zg},Symbol.toStringTag,{value:"Module"});function Gg(e){this.commitState();const t=Object.values(this.items).filter(({isSelected:r})=>r),n=t.map(({boundingBox:r})=>r),o=pt.getGroupBoundingBox(n),i=new Set;t.forEach(r=>{const s=Go.rotate(r.rotation+e);r.groupId&&i.add(r.groupId),this.items[r.id].rotation=s,this.items[r.id].portIds.forEach(a=>{this.ports[a].rotation=s}),this.setItemPosition({id:r.id,position:Go.getGroupedItemRotatedPosition(o,r,e)})}),i.forEach(r=>{this.setGroupBoundingBox(r)})}const Kg=Object.defineProperty({__proto__:null,rotate:Gg},Symbol.toStringTag,{value:"Module"});function Xg(e){this.setSelectionState({id:e,value:!1})}function Yg(e,t=!1){t||this.deselectAll(),this.setSelectionState({id:e,value:!0})}function Jg(){this.clearStatelessInfo();for(let e in this.connections)this.connections[e].isSelected=!0,this.selectedConnectionIds.push(e);for(let e in this.items)this.items[e].isSelected=!0,this.selectedItemIds.push(e)}function Qg(){this.clearStatelessInfo();for(let e in this.connections)this.connections[e].isSelected=!1,this.selectedConnectionIds=[];for(let e in this.items)this.items[e].isSelected=!1,this.selectedItemIds.push(e),this.selectedItemIds=[]}function e0(e){if(!pt.isOneOrTwoDimensional(e))return;const t=Object.keys(this.items).filter(o=>pt.hasIntersection(e,this.items[o].boundingBox)),n=Object.keys(this.connections).filter(o=>{const i=this.connections[o],r=this.ports[i.source],s=this.ports[i.target];return pt.isLineIntersectingRectangle(r.position,s.position,e)});t.concat(n).forEach(o=>{this.updateSelectionList({id:o,isSelected:!0})}),this.selectItemConnections(t)}function t0(e){const t=e.reduce((n,o)=>n.concat(this.items[o].portIds),[]);for(let n in this.connections){const o=this.connections[n];t.includes(o.source)&&t.includes(o.target)&&this.updateSelectionList({id:n,isSelected:!0})}}function n0({id:e,isSelected:t}){const n=(o,i)=>{const r=this[i].findIndex(s=>s===o);t&&r===-1&&this[i].push(o),!t&&r!==-1&&this[i].splice(r,1)};if(this.items[e])this.items[e].isSelected=t,n(e,"selectedItemIds");else if(this.connections[e]){const{connectionChainId:o}=this.connections[e],{connectionIds:i,freeportIds:r}=Cc(Object.values(this.connections),this.ports,o);i.forEach(s=>{this.connections[s].isSelected=t,n(s,"selectedConnectionIds")}),r.forEach(s=>{this.items[s].isSelected=t,n(s,"selectedItemIds")})}}function o0({id:e,value:t}){const n=this.items[e]||this.connections[e],o=t;if(!(!n||n.isSelected===o))if(n.groupId){const{itemIds:i,connectionIds:r}=this.groups[n.groupId];i.concat(r).forEach(s=>{this.updateSelectionList({id:s,isSelected:o})}),this.updateSelectionList({id:n.groupId,isSelected:o})}else this.updateSelectionList({id:e,isSelected:o})}function i0(e){const t=e?this.baseItems[0]:this.baseItems.slice(-1)[0];t&&(this.deselectAll(),this.setSelectionState({id:t.id,value:!0}))}function r0(){this.hasSelection&&(this.commitState(),this.selectedConnectionIds.forEach(e=>this.disconnect(this.connections[e])),this.selectedItemIds.forEach(e=>this.removeElement(e)),this.selectedGroupIds.forEach(e=>e!==null&&delete this.groups[e]),this.deselectAll())}function s0(){this.unsetConnectionPreview(),this.connectablePortIds=[],this.selectedConnectionIds=[],this.selectedItemIds=[],this.selectedPortIndex=-1,this.cachedState=null,this.activePortId=null,this.connectionPreviewId=null}const a0=Object.defineProperty({__proto__:null,clearStatelessInfo:s0,createSelection:e0,deleteSelection:r0,deselectAll:Qg,deselectItem:Xg,recycleSelection:i0,selectAll:Jg,selectItem:Yg,selectItemConnections:t0,setSelectionState:o0,updateSelectionList:n0},Symbol.toStringTag,{value:"Module"});function l0(){this.simulation.oscillator.isPaused?this.simulation.oscillator.start():this.simulation.oscillator.stop(),this.isOscilloscopeRecording=!this.simulation.oscillator.isPaused}function c0(e){for(const t in e)if(this.ports[t]){const n=this.ports[t];this.items[n.elementId]&&n.value!==e[t]&&(this.debugger.hasUpdated=!0),n.value=e[t]}this.isCircuitEvaluated=!this.simulation.canContinue,clearTimeout(this.debugger.timeout),this.debugger.timeout=window.setTimeout(()=>{!this.debugger.hasUpdated&&this.simulation.canContinue&&this.isDebugging&&(this.debugger.hasUpdated=!1,this.simulation.advanceDebuggerStep())})}function u0(e){window.api.showMessageBox({message:"An infinite loop was detected! Entering debugger mode.",type:"error"}),this.isDebugging=!0,this.simulation.startDebugging()}function d0(){const e=Object.values(this.items),t=Object.values(this.connections);Object.values(this.ports).forEach(n=>{n.value=0}),this.simulation.stop(),this.simulation=new wc(e,t,this.ports),this.simulation.onChange(this.onSimulationUpdate),this.simulation.onError(this.onError),this.simulation.oscillator.on("change",n=>{this.oscillogram=n}),Object.values(this.items).forEach(({properties:n,portIds:o})=>{n!=null&&n.startValue&&o.forEach(i=>this.setPortValue({id:i,value:n.startValue.value}))}),this.simulation.start(),this.isDebugging&&(this.simulation.startDebugging(),this.isCircuitEvaluated=!this.simulation.canContinue)}function f0(){this.debugger.hasUpdated=!1,this.simulation.advanceDebuggerStep(),this.isCircuitEvaluated=!this.simulation.canContinue}function h0(){this.isDebugging?this.simulation.stopDebugging():this.simulation.startDebugging(),this.isDebugging=!this.isDebugging}function p0(){this.isOscilloscopeOpen?this.closeOscilloscope():this.openOscilloscope()}function m0(){Object.values(this.ports).forEach(e=>{e.isMonitored&&this.simulation.monitorPort(e.id,e.value,e.hue)}),this.isOscilloscopeOpen=!0}function g0(e){this.isOscilloscopeOpen&&(Object.keys(this.ports).forEach(this.simulation.unmonitorPort),this.simulation.oscillator.clear(),this.isOscilloscopeOpen=!1,e&&(this.oscilloscopeHeight=e))}function v0(){this.simulation.oscillator.clear()}const y0=Object.defineProperty({__proto__:null,clearOscilloscope:v0,closeOscilloscope:g0,onError:u0,onSimulationUpdate:c0,openOscilloscope:m0,resetCircuit:d0,stepThroughCircuit:f0,toggleDebugger:h0,toggleOscillatorRecording:l0,toggleOscilloscope:p0},Symbol.toStringTag,{value:"Module"}),Ba=.1;function b0(){const e=Object.values(this.items).map(s=>s.boundingBox),t=pt.getGroupBoundingBox(e),n=t.right-t.left,o=t.bottom-t.top,i=this.canvas.right-this.canvas.left,r=this.canvas.bottom-this.canvas.top;(n>i||o>r)&&(this.canvas={left:0,top:0,right:n*2,bottom:o*2},this.centerAll(),this.panToCenter()),setTimeout(()=>{this.setZoom({zoom:Math.min(this.viewport.width/n,this.viewport.height/o,1)})})}function _0(e){this.viewport=e,this.canvas.right=screen.width/Ba,this.canvas.bottom=screen.height/Ba,!this.hasLoaded&&e.width>0&&e.height>0&&(this.hasLoaded=!0,this.updateCanvasSize(),this.centerAll(),this.panToCenter())}function w0({rect:e,id:t}){const n=this.items[t],o=e.width/this.zoomLevel,i=e.height/this.zoomLevel,r=n.position.x+n.width/2,s=n.position.y+n.height/2,a=r-o/2,l=s-i/2;this.items[t].position={x:a,y:l},this.items[t].width=o,this.items[t].height=i,this.setItemBoundingBox(t),this.items[t].groupId&&this.setGroupBoundingBox(this.items[t].groupId)}function C0(e){if(!this.items[e])return;const{position:t,rotation:n,width:o,height:i}=this.items[e];this.items[e].boundingBox=pt.getBoundingBox(t,n,o,i)}function S0(e){if(!this.groups[e])return;const t=this.groups[e].itemIds.map(n=>this.items[n].boundingBox);this.groups[e].boundingBox=pt.getGroupBoundingBox(t)}const I0=Object.defineProperty({__proto__:null,setGroupBoundingBox:S0,setItemBoundingBox:C0,setItemSize:w0,setViewerSize:_0,updateCanvasSize:b0},Symbol.toStringTag,{value:"Module"});function x0(e){this.snapBoundaries=(()=>{if(this.connectablePortIds.length)return this.connectablePortIds.filter(n=>n!==e).map(n=>pt.getPointBoundary(this.ports[n].position));const t=this.items[e];if(t&&!t.groupId)if(t.type===at.Freeport){if(t.portIds.length>1)return Object.values(this.connections).reduce((n,o)=>t.portIds.includes(o.source)?n.concat(pt.getLinearBoundaries(this.ports[o.target].position)):t.portIds.includes(o.target)?n.concat(pt.getLinearBoundaries(this.ports[o.source].position)):n,[])}else return Object.values(this.items).filter(n=>n.id!==e&&n.type!==at.Freeport).map(n=>n.boundingBox);return[]})()}const E0=Object.defineProperty({__proto__:null,setSnapBoundaries:x0},Symbol.toStringTag,{value:"Module"});function O0(){const e=this.undoStack.slice(-1).pop();e&&(this.redoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applyState(e),this.undoStack.pop(),this.isDirty=!0)}function k0(){const e=this.redoStack.slice(-1).pop();e&&(this.undoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applyState(e),this.redoStack.pop(),this.isDirty=!0)}function $0(){this.cacheState(),this.commitCachedState()}function P0(){this.cachedState=JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})}function D0(){this.cachedState&&(this.undoStack.push(this.cachedState.toString()),this.cachedState=null,this.redoStack=[],this.isDirty=!0)}function z0(e){const t=JSON.parse(e),{items:n,connections:o,ports:i,groups:r}=t;function s(m,g){const d=Object.keys(m),v=Object.keys(g);return d.filter(f=>!v.includes(f))}const a=s(this.items,n),l=s(this.connections,o),u=s(n,this.items),h=s(o,this.connections);l.forEach(m=>this.disconnect(this.connections[m])),a.forEach(this.removeElement),this.ports=i,this.items=n,this.groups=r,u.forEach(m=>{this.addItem({item:n[m],ports:i})}),h.forEach(m=>this.connect(o[m]))}const A0=Object.defineProperty({__proto__:null,applyState:z0,cacheState:P0,commitCachedState:D0,commitState:$0,redo:k0,undo:O0},Symbol.toStringTag,{value:"Module"});function Ls(e,t){return e.zIndex>t.zIndex?1:e.zIndex<t.zIndex?-1:0}function T0(){this.commitState(),this.incrementZIndex(-1)}function M0(){this.commitState(),this.incrementZIndex(1)}function B0(){this.commitState(),this.setZIndex(1)}function L0(){this.commitState(),this.setZIndex(this.zIndex)}function N0(e){const t=Object.values(this.items),n=Object.values(this.connections),o=t.concat(n).sort(Ls),i=o.filter(({isSelected:s})=>s).map(({id:s})=>s);e>0&&i.reverse();const r=[];i.forEach(s=>{var u;const a=o.findIndex(h=>h.id===s),l=a+e;if(l<0||l>=o.length){r.push(o[a].id);return}if(!r.includes((u=o[l])==null?void 0:u.id)){const h=o[a];o.splice(a,1),o.splice(l,0,h)}}),o.forEach((s,a)=>{s.zIndex=a+1}),this.zIndex=Object.keys(o).length}function R0(e){const t=Object.values(this.items),n=Object.values(this.connections);let o=t.concat(n).sort(Ls);const i=o.filter(({isSelected:r})=>r);for(let r=0;r<o.length;r++)o[r].isSelected&&(o.splice(r,1),r--);o.splice(e-1,0,...i),o.forEach((r,s)=>{r.zIndex=s+1}),this.zIndex=Object.keys(o).length}const F0=Object.defineProperty({__proto__:null,bringForward:M0,bringToFront:L0,incrementZIndex:N0,sendBackward:T0,sendToBack:B0,setZIndex:R0},Symbol.toStringTag,{value:"Module"}),La=.1,Na=2,j0=.1;function V0(e=1){this.setZoom({zoom:this.zoomLevel+j0*e})}function U0({zoom:e,point:t}){e<La&&(e=La),e>Na&&(e=Na),e=Math.round(e*100)/100,t||(t=pt.getBoundingBoxMidpoint(this.viewport),t.x+=this.viewport.left,t.y+=this.viewport.top);const n=hr(this.canvas,this.viewport,t,this.zoomLevel),o={x:n.x*e,y:n.y*e},i={x:t.x-this.viewport.x,y:t.y-this.viewport.y};this.panTo({x:Math.round(Math.min(i.x-o.x,0)),y:Math.round(Math.min(i.y-o.y,0))}),this.zoomLevel=e}const H0=Object.defineProperty({__proto__:null,incrementZoom:V0,setZoom:U0},Symbol.toStringTag,{value:"Module"}),Ra=e=>cr({id:e,state:Gm,getters:{baseItems(t){return Object.values(t.connections).concat(Object.values(t.items)).sort(Ls)},zoom(t){return t.zoomLevel},hasSelection(t){return t.selectedItemIds.length>0||t.selectedConnectionIds.length>0},hasSelectedItems(t){return t.selectedItemIds.length>0},selectedGroupIds(t){const n=new Set;return t.selectedItemIds.forEach(o=>{var i;return n.add((i=t.items[o])==null?void 0:i.groupId)}),Array.from(n)},canGroup(){return this.selectedGroupIds.length>1||[].slice.call(this.selectedGroupIds)[0]===null},canUngroup(){return!![].slice.call(this.selectedGroupIds).find(t=>!!t)},canUndo(t){return t.undoStack.length>0},canRedo(t){return t.redoStack.length>0}},actions:{...Jm,...ag,...dg,...gg,..._g,...Og,...Dg,...Fg,...qg,...Kg,...a0,...y0,...E0,...I0,...A0,...F0,...H0}});function Fa(e){var t;return((t=e.split("\\").pop())==null?void 0:t.split("/").pop())||""}const Co=cr({id:"root",state:()=>({documents:{},clipboard:null,activeDocumentId:null,canExit:!1,isFullscreen:!1,isBuilderOpen:!1,isToolboxOpen:!1,isSettingsOpen:!1,isDocumentSelectOpen:!1}),getters:{hasOpenDocuments(e){return Object.keys(e.documents).length>0},activeDocument(e){return e.activeDocumentId?e.documents[e.activeDocumentId]:null},isDialogOpen(e){return e.isBuilderOpen}},actions:{async launchIntegratedCircuitBuilder(){const e=Ui(),t=this.activeDocument;if(t){this.isBuilderOpen=!0;try{await e.launchBuilder(t.store().$state);const n=t.store(),o=As.mapIntegratedCircuitIds(e.model);n.insertItemAtPosition({item:o,ports:[]}),n.setItemBoundingBox(o.id),n.setSelectionState({id:o.id,value:!0})}catch{window.api.showMessageBox({message:"That's okay."})}this.isBuilderOpen=!1}},openIntegratedCircuit(e){e.integratedCircuit&&this.openDocument("",e.integratedCircuit.serializedState,e.id,e.name)},async saveImage(e){if(this.activeDocument)try{const n=`${this.activeDocument.displayName.replace(/\.[^/.]+$/,"")}.png`,o=window.api.showSaveFileDialog([{name:"PNG Image",extensions:[".png"]}],n);if(!o)return;await Bo.writeBlob(o,e)}catch(t){console.log("ERROR: ",t),window.api.showMessageBox({message:"An error occurred while trying to save the image.",title:"Error",type:"error"})}},newDocument(){const e=ot(),t=Ra(e);t().resetCircuit(),this.documents[e]={fileName:"Untitled Circuit",displayName:"Untitled Circuit",store:t},this.activateDocument(e)},async closeAll(){if(this.activeDocumentId){const e=await this.closeDocument(this.activeDocumentId);return await new Promise(t=>setTimeout(t)),e?this.closeAll():!1}return!0},printActiveDocument(){this.activeDocument&&(this.activeDocument.store().isPrinting=!0)},async closeDocument(e){const t=this.documents[e],n=t.store();let o=!0;if(this.activateDocument(e),n.isDirty){const r=window.api.showMessageBox({message:`Save changes to ${t.fileName}?`,title:"Confirm",buttons:["Yes","No","Cancel"]});if(r===0&&(o=await this.saveActiveDocument()),r===2)return!1}this.activeDocumentId=null,n.simulation.stop(),n.$reset(),n.$dispose(),delete this.documents[e];const i=Object.keys(this.documents).pop();return i&&this.activateDocument(i),o},async saveActiveDocument(e=!1){try{if(!this.activeDocument)return!0;if(!this.activeDocument.filePath||e){const n=this.activeDocument.fileName||`${this.activeDocument.fileName}.alfx`,o=window.api.showSaveFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]}],n);if(!o)return!0;if(o){const i=Fa(o);this.activeDocument.filePath=o,this.activeDocument.fileName=i,this.activeDocument.displayName=i}}if(!this.activeDocument.filePath)return!0;const t=this.activeDocument.store();return Bo.save(this.activeDocument.filePath,{items:t.items,connections:t.connections,groups:t.groups,ports:t.ports}),t.isDirty=!1,!0}catch{return window.api.showMessageBox({message:"An error occurred while trying to save the file.",title:"Error",type:"error"}),!1}},async selectDocument(){const e=window.api.showOpenFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]},{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}]);for(let t=0;t<e.length;t++)await this.openDocumentFromPath(e[t])},async openDocumentFromPath(e){try{const t=await Bo.open(e);t&&this.openDocument(e,t,ot())}catch(t){console.log(t),window.api.showMessageBox({message:`Could not open ${e}. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},openDocument(e,t,n,o=""){if(this.documents[n])return this.activateDocument(n);const i=Ra(n),r=i(),s=Fa(e);r.loadDocument(t),this.documents[n]={fileName:s,filePath:/^.*.aicx$/i.test(e)?void 0:e,displayName:o||s,store:i},this.activateDocument(n)},switchDocument(e){const t=Object.keys(this.documents),n=t.findIndex(i=>this.activeDocumentId===i);let o=n+e;t.length!==0&&(n===-1||o>=t.length?o=0:o<0&&(o=t.length-1),this.activateDocument(t[o]))},pauseActivity(){var e;(e=this.activeDocument)==null||e.store().simulation.stop()},resumeActivity(){var e;(e=this.activeDocument)==null||e.store().simulation.start()},activateDocument(e){this.pauseActivity(),this.activeDocumentId=e,this.resumeActivity()},openTestDocuments(){this.openDocument("flip-flop.alfx",JSON.stringify(Bm),ot(),"flip-flop.alfx"),Ui().loadLibrary()},navigateDocumentList(e){const t=Object.keys(this.documents);let o=t.findIndex(i=>i===this.activeDocumentId)+e;o<0&&(o=t.length-1),o>=t.length&&(o=0),this.activateDocument(t[o])},toggleFullscreen(){this.isFullscreen=!this.isFullscreen,window.api.setFullscreen(this.isFullscreen)},toggleToolbox(){this.isToolboxOpen=!this.isToolboxOpen}}}),W0=xe({name:"Item",components:{CircuitComponent:vc,Draggable:dr,PortItem:Dm,Properties:xm},props:{zIndex:{type:Number,default:1},isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(e,{emit:t}){const n=e.store(),o=tt(()=>n.items[e.id]),i=tt(()=>n.viewport),r=He(),s=He(0);fn(()=>{var y;return(y=o.value)==null?void 0:y.rotation},()=>s.value++),fn(()=>{var y,S;return(S=(y=o.value)==null?void 0:y.properties.inputCount)==null?void 0:S.value},()=>s.value++);const a=tt(()=>n.items[e.id].portIds.map(y=>n.ports[y])),l=tt(()=>e.isSelected&&n.selectedItemIds.length===1&&o.value.type!==at.Freeport);function u(){var y;(y=r.value)==null||y.$el.focus()}function h(){var y;((y=o.value)==null?void 0:y.subtype)===Ke.CustomCircuit&&Co().openIntegratedCircuit(o.value)}function m(){n.cacheState(),n.setSnapBoundaries(e.id)}function g(y,S){n.dragItem(e.id,{x:y.x-S.x-o.value.width/2*n.zoomLevel,y:y.y-S.y-o.value.height/2*n.zoomLevel})}function d(y){var S;document.activeElement===((S=r.value)==null?void 0:S.$el)?r.value.$el.blur():y.preventDefault()}function v(y){n.activePortId===y&&n.setActivePortId(null)}function f(y){n.setItemSize({id:e.id,rect:y})}function b(){e.isSelected||n.selectItem(e.id),window.api.showContextMenu(Ts(e.store))}return{item:o,itemRef:r,store:n,ports:a,viewport:i,isPropertiesEnabled:l,portUpdates:s,focus:u,onDrag:g,onDragStart:m,onEscapeKey:d,onResize:f,onPortBlur:v,onContextMenu:b,revealCustomCircuit:h,ItemSubtype:Ke,ItemType:at}}});function Z0(e,t,n,o,i,r){const s=be("properties"),a=be("port-item"),l=be("circuit-component"),u=be("draggable");return K(),Ne(u,{style:rt({outline:"none",pointerEvents:"none",zIndex:e.zIndex}),position:e.item.position,"is-selected":e.isSelected,"allow-touch-drag":e.isSelected,onResize:e.onResize,onKeydown:kn(e.onEscapeKey,["esc"]),onDrag:e.onDrag,onDragStart:e.onDragStart,onContextmenu:e.onContextMenu,onDblclick:e.revealCustomCircuit,onTouchhold:e.revealCustomCircuit,onDragEnd:e.store.commitCachedState,onSelect:t[1]||(t[1]=h=>e.store.selectItem(e.id,h)),onDeselect:t[2]||(t[2]=h=>e.store.deselectItem(e.id)),ref:"itemRef","data-test":"item"},{default:Fe(()=>[e.isPropertiesEnabled?(K(),Ne(s,{key:0,properties:e.item.properties,id:e.id,viewport:e.viewport,onUpdate:e.store.setProperties,onFocus:t[0]||(t[0]=h=>e.store.setActivePortId(null)),onPan:e.store.panDelta,"aria-label":"Properties dialog","data-test":"properties"},null,8,["properties","id","viewport","onUpdate","onPan"])):ht("",!0),de(l,{type:e.item.type,subtype:e.item.subtype,name:e.item.name,ports:e.ports,properties:e.item.properties,"is-selected":e.isSelected,flash:e.flash,style:rt({transform:`rotate(${90*e.item.rotation}deg)`}),onSignal:e.store.setPortValue},bs({_:2},[wt(4,(h,m)=>({name:m,fn:Fe(()=>[(K(!0),fe(Ye,null,wt(e.ports.filter(g=>g.orientation===m),g=>(K(),Ne(a,{tabindex:0,store:e.$props.store,id:g.id,key:`${g.id}_${e.portUpdates}`,title:g.name,type:g.type,position:g.position,orientation:g.orientation+e.item.rotation,"connected-port-ids":g.connectedPortIds,hue:g.isMonitored?g.hue:0,rotation:e.item.rotation,onKeypress:kn(e.onEscapeKey,["esc"]),onFocus:d=>e.store.setActivePortId(g.id),onBlur:d=>e.onPortBlur(g.id),onDeselect:e.focus,"data-test":"port-item"},null,8,["store","id","title","type","position","orientation","connected-port-ids","hue","rotation","onKeypress","onFocus","onBlur","onDeselect"]))),128))])}))]),1032,["type","subtype","name","ports","properties","is-selected","flash","style","onSignal"])]),_:1},8,["style","position","is-selected","allow-touch-drag","onResize","onKeydown","onDrag","onDragStart","onContextmenu","onDblclick","onTouchhold","onDragEnd"])}const q0=Oe(W0,[["render",Z0]]),G0=xe({name:"Selector",emits:{selectionStart:e=>!0,selectionEnd:e=>!0},props:{zoom:{type:Number,default:1}},setup(e,{emit:t}){const n=He({x:0,y:0}),o=He({x:0,y:0}),i=He(null),r=He(!1),s=()=>({left:Math.min(n.value.x,o.value.x),top:Math.min(n.value.y,o.value.y),width:Math.abs(n.value.x-o.value.x),height:Math.abs(n.value.y-o.value.y)}),a=tt(()=>{const d=s();return{left:`${d.left}px`,top:`${d.top}px`,width:`${d.width}px`,height:`${d.height}px`}});sn(()=>{window.addEventListener("mousemove",m),window.addEventListener("mouseup",g)}),Gn(()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g)});function l(d){if(!i.value)return{x:0,y:0};const{top:v,left:f}=i.value.getBoundingClientRect(),b=(d.x-f)/e.zoom,y=(d.y-v)/e.zoom;return{x:b,y}}function u(){const{left:d,top:v,width:f,height:b}=s();t("selectionEnd",{left:d,top:v,bottom:b+v,right:d+f})}function h(d){const v=l(d);r.value=!0,n.value=v,o.value=v,t("selectionStart",d)}function m(d){r.value&&(o.value=l(d))}function g(){r.value&&(u(),r.value=!1,n.value.x=0,n.value.y=0,o.value.x=0,o.value.y=0)}return{selector:i,hasSelection:r,style:a,onMouseDown:h}}});function K0(e,t,n,o,i,r){return K(),fe("div",{onMousedown:t[0]||(t[0]=Wn((...s)=>e.onMouseDown&&e.onMouseDown(...s),["left","self"])),class:"selector",ref:"selector"},[e.hasSelection?(K(),fe("div",{key:0,style:rt(e.style),class:"selector__selection"},null,4)):ht("",!0)],544)}const X0=Oe(G0,[["render",K0]]),Y0=xe({name:"Editor",emits:{resize:e=>!0,pan:(e,t)=>!0,selection:e=>!0,deselect:()=>!0,zoom:e=>!0,contextmenu:e=>!0},components:{Selector:X0,Resizable:_o},props:{zoom:{type:Number,default:1},gridSize:{type:Number,default:0},width:{type:Number,default:0},height:{type:Number,default:0},offset:{type:Object,default:()=>({x:0,y:0})},animatePan:{type:Boolean,default:!1}},setup(e,{emit:t}){let n={x:0,y:0},o={x:0,y:0},i={y:0,x:0},r=0,s=0,a=!1,l=0,u=1;const h=He(null),m=tt(()=>({backgroundSize:`${e.gridSize}px ${e.gridSize}px`,transform:`scale(${e.zoom})`,left:`${e.offset.x}px`,top:`${e.offset.y}px`,width:`${e.width}px`,height:`${e.height}px`}));sn(()=>{window.addEventListener("mousemove",y),window.addEventListener("mouseup",S)}),Gn(()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",S)});function g({touches:x}){const H=x[0].clientX-x[1].clientX,se=x[0].clientY-x[1].clientY;return Math.hypot(H,se)}function d(x,H){a=!0,n={x:x-e.offset.x,y:H-e.offset.y},i={x,y:H},o={x,y:H},r=0,s=0}function v(x,H){if(a){const se=o.x-x,I=o.y-H;t("pan",{x:Math.min(x-n.x,0),y:Math.min(H-n.y,0)}),r=Math.hypot(se,I),s=Math.atan2(I,se),o={x,y:H}}}function f(){const H=r*Math.cos(s)*2,se=r*Math.sin(s)*2;t("pan",{x:Math.min(e.offset.x-H,0),y:Math.min(e.offset.y-se,0)},!0)}function b(x){d(x.x,x.y),x.preventDefault(),x.stopPropagation()}function y(x){v(x.x,x.y)}function S(x){if(a){if(a=!1,x.button===2&&pt.isInNeighborhood(x,i,5)){t("contextmenu",x);return}f()}}function P(x){const{clientX:H,clientY:se}=x.touches[0];x.targetTouches.length>1?(l=g(x),u=e.zoom):d(H,se),x.preventDefault(),x.stopPropagation()}function T(x){const{clientX:H,clientY:se}=x.touches[0];if(x.preventDefault(),x.stopPropagation(),x.targetTouches.length>1&&x.changedTouches.length>1){const I=g(x),U=Math.max(Math.min(u*(I/l),4),.1),p={x:(H+x.touches[1].clientX)/2,y:(se+x.touches[1].clientY)/2};t("zoom",{zoom:U,point:p})}else l===0&&v(H,se)}function D(x){var H;x.target===((H=h.value)==null?void 0:H.$el)&&t("deselect"),a&&f(),a=!1,l=0}function X(x){const{deltaY:H,x:se,y:I,shiftKey:U}=x;if(!U)return;const p=H<0?1:-1,Q=e.zoom+p/10;t("zoom",{zoom:Q,point:{x:se,y:I}})}function F(x){x.shiftKey||t("deselect")}function L(x){t("selection",x)}return{selector:h,style:m,onTouchStart:P,onTouchMove:T,onTouchEnd:D,onMouseDown:b,onMouseMove:y,onMouseWheel:X,onSelectionStart:F,onSelectionEnd:L}}});function J0(e,t,n,o,i,r){const s=be("selector"),a=be("resizable");return K(),Ne(a,{onMousewheel:e.onMouseWheel,onMousedown:Wn(e.onMouseDown,["right"]),onTouchstart:e.onTouchStart,onTouchmove:e.onTouchMove,onTouchend:e.onTouchEnd,onResize:t[0]||(t[0]=l=>e.$emit("resize",l)),class:"editor"},{default:Fe(()=>[_e("div",{style:rt(e.style),class:"editor__grid"},[de(s,{zoom:e.zoom,onSelectionStart:e.onSelectionStart,onSelectionEnd:e.onSelectionEnd,ref:"selector"},null,8,["zoom","onSelectionStart","onSelectionEnd"]),dt(e.$slots,"default")],4)]),_:3},8,["onMousewheel","onMousedown","onTouchstart","onTouchmove","onTouchend"])}const Q0=Oe(Y0,[["render",J0]]),e2=xe({name:"Group",props:{boundingBox:{type:Object,required:!0},id:{type:String,required:!0},isSelected:{type:Boolean,default:!1},zIndex:{type:Number,default:0},zoom:{type:Number,default:1}}});function t2(e,t,n,o,i,r){return K(),fe("div",{class:Je(["group",{"group--is-selected":e.isSelected}]),tabindex:-1,style:rt({position:"absolute",left:`${e.boundingBox.left}px`,top:`${e.boundingBox.top}px`,width:`${e.boundingBox.right-e.boundingBox.left}px`,height:`${e.boundingBox.bottom-e.boundingBox.top}px`,zIndex:e.zIndex})},null,6)}const n2=Oe(e2,[["render",t2]]);var Sc={exports:{}};(function(e){(function(t){var n=P(),o=T(),i=D(),r=X(),s={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:h,toJpeg:m,toBlob:g,toPixelData:u,impl:{fontFaces:i,images:r,util:n,inliner:o,options:{}}};e.exports=a;function l(F,L){return L=L||{},d(L),Promise.resolve(F).then(function(H){return f(H,L.filter,!0)}).then(b).then(y).then(x).then(function(H){return S(H,L.width||n.width(F),L.height||n.height(F))});function x(H){return L.bgcolor&&(H.style.backgroundColor=L.bgcolor),L.width&&(H.style.width=L.width+"px"),L.height&&(H.style.height=L.height+"px"),L.style&&Object.keys(L.style).forEach(function(se){H.style[se]=L.style[se]}),H}}function u(F,L){return v(F,L||{}).then(function(x){return x.getContext("2d").getImageData(0,0,n.width(F),n.height(F)).data})}function h(F,L){return v(F,L||{}).then(function(x){return x.toDataURL()})}function m(F,L){return L=L||{},v(F,L).then(function(x){return x.toDataURL("image/jpeg",L.quality||1)})}function g(F,L){return v(F,L||{}).then(n.canvasToBlob)}function d(F){typeof F.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=s.imagePlaceholder:a.impl.options.imagePlaceholder=F.imagePlaceholder,typeof F.cacheBust>"u"?a.impl.options.cacheBust=s.cacheBust:a.impl.options.cacheBust=F.cacheBust}function v(F,L){return l(F,L).then(n.makeImage).then(n.delay(100)).then(function(H){var se=x(F);return se.getContext("2d").drawImage(H,0,0),se});function x(H){var se=document.createElement("canvas");if(se.width=L.width||n.width(H),se.height=L.height||n.height(H),L.bgcolor){var I=se.getContext("2d");I.fillStyle=L.bgcolor,I.fillRect(0,0,se.width,se.height)}return se}}function f(F,L,x){if(!x&&L&&!L(F))return Promise.resolve();return Promise.resolve(F).then(H).then(function(U){return se(F,U,L)}).then(function(U){return I(F,U)});function H(U){return U instanceof HTMLCanvasElement?n.makeImage(U.toDataURL()):U.cloneNode(!1)}function se(U,p,Q){var ye=U.childNodes;if(ye.length===0)return Promise.resolve(p);return ee(p,n.asArray(ye),Q).then(function(){return p});function ee(Se,ue,he){var G=Promise.resolve();return ue.forEach(function(q){G=G.then(function(){return f(q,he)}).then(function(Ce){Ce&&Se.appendChild(Ce)})}),G}}function I(U,p){if(!(p instanceof Element))return p;return Promise.resolve().then(Q).then(ye).then(ee).then(Se).then(function(){return p});function Q(){ue(window.getComputedStyle(U),p.style);function ue(he,G){he.cssText?G.cssText=he.cssText:q(he,G);function q(Ce,we){n.asArray(Ce).forEach(function(te){we.setProperty(te,Ce.getPropertyValue(te),Ce.getPropertyPriority(te))})}}}function ye(){[":before",":after"].forEach(function(he){ue(he)});function ue(he){var G=window.getComputedStyle(U,he),q=G.getPropertyValue("content");if(q===""||q==="none")return;var Ce=n.uid();p.className=p.className+" "+Ce;var we=document.createElement("style");we.appendChild(te(Ce,he,G)),p.appendChild(we);function te(Ee,Re,Ie){var Be="."+Ee+":"+Re,Ze=Ie.cssText?Ge(Ie):A(Ie);return document.createTextNode(Be+"{"+Ze+"}");function Ge(R){var c=R.getPropertyValue("content");return R.cssText+" content: "+c+";"}function A(R){return n.asArray(R).map(c).join("; ")+";";function c(M){return M+": "+R.getPropertyValue(M)+(R.getPropertyPriority(M)?" !important":"")}}}}}function ee(){U instanceof HTMLTextAreaElement&&(p.innerHTML=U.value),U instanceof HTMLInputElement&&p.setAttribute("value",U.value)}function Se(){p instanceof SVGElement&&(p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p instanceof SVGRectElement&&["width","height"].forEach(function(ue){var he=p.getAttribute(ue);he&&p.style.setProperty(ue,he)}))}}}function b(F){return i.resolveAll().then(function(L){var x=document.createElement("style");return F.appendChild(x),x.appendChild(document.createTextNode(L)),F})}function y(F){return r.inlineAll(F).then(function(){return F})}function S(F,L,x){return Promise.resolve(F).then(function(H){return H.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(H)}).then(n.escapeXhtml).then(function(H){return'<foreignObject x="0" y="0" width="100%" height="100%">'+H+"</foreignObject>"}).then(function(H){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+L+'" height="'+x+'">'+H+"</svg>"}).then(function(H){return"data:image/svg+xml;charset=utf-8,"+H})}function P(){return{escape:Se,parseExtension:L,mimeType:x,dataAsUrl:ee,isDataUrl:H,canvasToBlob:I,resolveUrl:U,getAndEncode:ye,uid:p(),delay:ue,asArray:he,escapeXhtml:G,makeImage:Q,width:q,height:Ce};function F(){var te="application/font-woff",Ee="image/jpeg";return{woff:te,woff2:te,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function L(te){var Ee=/\.([^\.\/]*?)$/g.exec(te);return Ee?Ee[1]:""}function x(te){var Ee=L(te).toLowerCase();return F()[Ee]||""}function H(te){return te.search(/^(data:)/)!==-1}function se(te){return new Promise(function(Ee){for(var Re=window.atob(te.toDataURL().split(",")[1]),Ie=Re.length,Be=new Uint8Array(Ie),Ze=0;Ze<Ie;Ze++)Be[Ze]=Re.charCodeAt(Ze);Ee(new Blob([Be],{type:"image/png"}))})}function I(te){return te.toBlob?new Promise(function(Ee){te.toBlob(Ee)}):se(te)}function U(te,Ee){var Re=document.implementation.createHTMLDocument(),Ie=Re.createElement("base");Re.head.appendChild(Ie);var Be=Re.createElement("a");return Re.body.appendChild(Be),Ie.href=Ee,Be.href=te,Be.href}function p(){var te=0;return function(){return"u"+Ee()+te++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function Q(te){return new Promise(function(Ee,Re){var Ie=new Image;Ie.onload=function(){Ee(Ie)},Ie.onerror=Re,Ie.src=te})}function ye(te){var Ee=3e4;return a.impl.options.cacheBust&&(te+=(/\?/.test(te)?"&":"?")+new Date().getTime()),new Promise(function(Re){var Ie=new XMLHttpRequest;Ie.onreadystatechange=Ge,Ie.ontimeout=A,Ie.responseType="blob",Ie.timeout=Ee,Ie.open("GET",te,!0),Ie.send();var Be;if(a.impl.options.imagePlaceholder){var Ze=a.impl.options.imagePlaceholder.split(/,/);Ze&&Ze[1]&&(Be=Ze[1])}function Ge(){if(Ie.readyState===4){if(Ie.status!==200){Be?Re(Be):R("cannot fetch resource: "+te+", status: "+Ie.status);return}var c=new FileReader;c.onloadend=function(){var M=c.result.split(/,/)[1];Re(M)},c.readAsDataURL(Ie.response)}}function A(){Be?Re(Be):R("timeout of "+Ee+"ms occured while fetching resource: "+te)}function R(c){console.error(c),Re("")}})}function ee(te,Ee){return"data:"+Ee+";base64,"+te}function Se(te){return te.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function ue(te){return function(Ee){return new Promise(function(Re){setTimeout(function(){Re(Ee)},te)})}}function he(te){for(var Ee=[],Re=te.length,Ie=0;Ie<Re;Ie++)Ee.push(te[Ie]);return Ee}function G(te){return te.replace(/#/g,"%23").replace(/\n/g,"%0A")}function q(te){var Ee=we(te,"border-left-width"),Re=we(te,"border-right-width");return te.scrollWidth+Ee+Re}function Ce(te){var Ee=we(te,"border-top-width"),Re=we(te,"border-bottom-width");return te.scrollHeight+Ee+Re}function we(te,Ee){var Re=window.getComputedStyle(te).getPropertyValue(Ee);return parseFloat(Re.replace("px",""))}}function T(){var F=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:se,shouldProcess:L,impl:{readUrls:x,inline:H}};function L(I){return I.search(F)!==-1}function x(I){for(var U=[],p;(p=F.exec(I))!==null;)U.push(p[1]);return U.filter(function(Q){return!n.isDataUrl(Q)})}function H(I,U,p,Q){return Promise.resolve(U).then(function(ee){return p?n.resolveUrl(ee,p):ee}).then(Q||n.getAndEncode).then(function(ee){return n.dataAsUrl(ee,n.mimeType(U))}).then(function(ee){return I.replace(ye(U),"$1"+ee+"$3")});function ye(ee){return new RegExp(`(url\\(['"]?)(`+n.escape(ee)+`)(['"]?\\))`,"g")}}function se(I,U,p){if(Q())return Promise.resolve(I);return Promise.resolve(I).then(x).then(function(ye){var ee=Promise.resolve(I);return ye.forEach(function(Se){ee=ee.then(function(ue){return H(ue,Se,U,p)})}),ee});function Q(){return!L(I)}}}function D(){return{resolveAll:F,impl:{readAll:L}};function F(){return L().then(function(x){return Promise.all(x.map(function(H){return H.resolve()}))}).then(function(x){return x.join(`
`)})}function L(){return Promise.resolve(n.asArray(document.styleSheets)).then(H).then(x).then(function(I){return I.map(se)});function x(I){return I.filter(function(U){return U.type===CSSRule.FONT_FACE_RULE}).filter(function(U){return o.shouldProcess(U.style.getPropertyValue("src"))})}function H(I){var U=[];return I.forEach(function(p){try{n.asArray(p.cssRules||[]).forEach(U.push.bind(U))}catch(Q){console.log("Error while reading CSS rules from "+p.href,Q.toString())}}),U}function se(I){return{resolve:function(){var p=(I.parentStyleSheet||{}).href;return o.inlineAll(I.cssText,p)},src:function(){return I.style.getPropertyValue("src")}}}}}function X(){return{inlineAll:L,impl:{newImage:F}};function F(x){return{inline:H};function H(se){return n.isDataUrl(x.src)?Promise.resolve():Promise.resolve(x.src).then(se||n.getAndEncode).then(function(I){return n.dataAsUrl(I,n.mimeType(x.src))}).then(function(I){return new Promise(function(U,p){x.onload=U,x.onerror=p,x.src=I})})}}function L(x){if(!(x instanceof Element))return Promise.resolve(x);return H(x).then(function(){return x instanceof HTMLImageElement?F(x).inline():Promise.all(n.asArray(x.childNodes).map(function(se){return L(se)}))});function H(se){var I=se.style.getPropertyValue("background");return I?o.inlineAll(I).then(function(U){se.style.setProperty("background",U,se.style.getPropertyPriority("background"))}).then(function(){return se}):Promise.resolve(se)}}}})()})(Sc);var o2=Sc.exports;const i2=Ps(o2);function Ic(e,t,n,o,i="printer-friendly"){const r=t.cloneNode(!0),s=n.right-n.left+o*2,a=n.bottom-n.top+o*2;for(let l=0;l<r.children.length;l++){const u=r.children[l],h=parseInt(u.style.left.replace("px",""),10)+o,m=parseInt(u.style.top.replace("px",""),10)+o;u.style.left=`${h-n.left}px`,u.style.top=`${m-n.top}px`}return r.style.zoom=e.toString(),r.style.width=`${s}px`,r.style.height=`${a}px`,r.style.position="relative",r.style.top="0",r.style.left="0",r.style.background="none",i&&r.classList.add(i),{printArea:r,width:s,height:a}}function r2(e,t){const n=document.createElement("iframe");n.name="print",n.style.width="1px",n.style.height="1px",n.style.opacity="0",n.style.position="absolute",n.style.top="0px",n.style.left="0px",document.body.appendChild(n);const o=n.contentWindow;if(o){const i=document.createElement("style");i.appendChild(document.createTextNode(`
      @page {
        size: ${t.map(r=>`${r}in`).join(" ")};
        margin: 0in;
      }
    `)),o.document.head.append(i),o.document.body.appendChild(e)}return n}async function s2(e,t){document.body.appendChild(e);const n=await i2[t](e);return e.remove(),n}async function a2(e){return new Promise(t=>{setTimeout(()=>{if(!e)return t();e.addEventListener("afterprint",()=>t()),e.print()})})}async function l2(e,t,n){const{printArea:o,width:i,height:r}=Ic(1/e,t,n,20),s=await co.createImage(o,"toPng"),a=[8.5,11],l=Math.min(...a)*96,u=Math.max(...a)*96,h=new Image;let m=1;if(h.src=s,i>l||i>u||r>l||r>u){const d=i>r;m=d?u/i:u/r,d&&a.reverse()}h.style.width=`${Math.floor(i*m)}px`,h.style.height=`${Math.floor(r*m)}px`;const g=co.createPrintFrame(h,a);await co.printWindow(g==null?void 0:g.contentWindow),g==null||g.remove()}const co={createPrintArea:Ic,createPrintFrame:r2,createImage:s2,printImage:l2,printWindow:a2},c2=xe({name:"Document",components:{Group:n2,Editor:Q0,Connection:Np,Item:q0},props:{store:{type:Function,required:!0}},setup(e){const t=e.store(),n=Co(),o=He(),i=He(0),{colors:r,grid:s}=Zo(wo());let a=1,l={};Vo(()=>{t.isPrinting&&h(),t.isCreatingImage&&m()}),sn(()=>{document.addEventListener("keydown",d),document.addEventListener("keyup",v),document.addEventListener("cut",g("cut")),document.addEventListener("copy",g("copy")),document.addEventListener("paste",g("paste")),window.addEventListener("blur",y)}),Gn(()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",v),document.addEventListener("cut",g("cut")),document.addEventListener("copy",g("copy")),document.addEventListener("paste",g("paste")),window.removeEventListener("blur",y)});function u(S){if(o.value){const P=Object.values(t.items).map(({boundingBox:X})=>X),T=pt.getGroupBoundingBox(P),D=o.value.$el.querySelector(".editor__grid");S(D,T)}}async function h(){u(async(S,P)=>{await co.printImage(t.zoom,S,P),t.isPrinting=!1})}async function m(){u(async(S,P)=>{const{printArea:T}=co.createPrintArea(1/t.zoom,S,P,20,""),D=await co.createImage(T,"toBlob");await n.saveImage(D),t.isCreatingImage=!1})}function g(S){return function(P){P.target instanceof HTMLInputElement||(t[S](),P.preventDefault())}}function d(S){if(!(S.target instanceof HTMLInputElement))switch(S.key){case"Escape":return t.deselectAll();case"a":return S.ctrlKey&&t.selectAll();default:return b(S)}}function v(S){l[S.key]=!1,a=1}function f(S){window.api.showContextMenu(Ts(e.store)),S.preventDefault(),S.stopPropagation()}function b(S){const P=(()=>{switch(S.key){case"ArrowLeft":return{x:-1,y:0};case"ArrowUp":return{x:0,y:-1};case"ArrowRight":return{x:1,y:0};case"ArrowDown":return{x:0,y:1}}})();if(P){const T=Math.min(a,10);t.moveSelectionPosition({x:P.x*T,y:P.y*T}),a*=1.05}}function y(){l={}}return{store:t,editor:o,updates:i,colors:r,grid:s,storeDefinition:e.store,onKeyDown:d,onKeyUp:v,onContextMenu:f,clearKeys:y}}});function u2(e,t,n,o,i,r){const s=be("item"),a=be("connection"),l=be("group"),u=be("editor");return K(),Ne(u,{ref:"editor",zoom:e.store.zoomLevel,"grid-size":e.grid.showGrid.value?e.grid.gridSize.value:0,tabindex:0,offset:{x:e.store.canvas.left,y:e.store.canvas.top},style:rt({"--color-on":e.colors.onColor.value,"--color-off":e.colors.offColor.value,"--color-hi-i":e.colors.unknownColor.value}),width:e.store.canvas.right-e.store.canvas.left,height:e.store.canvas.bottom-e.store.canvas.top,onPan:e.store.panTo,onDeselect:e.store.deselectAll,onSelection:e.store.createSelection,onZoom:e.store.setZoom,onContextmenu:e.onContextMenu,onResize:e.store.setViewerSize},{default:Fe(()=>[_e("div",{tabindex:0,onFocus:t[0]||(t[0]=h=>e.store.recycleSelection(!1))},null,32),e.store.hasLoaded?(K(!0),fe(Ye,{key:0},wt(e.store.baseItems,h=>(K(),fe(Ye,null,["type"in h?(K(),Ne(s,{tabindex:0,store:e.storeDefinition,id:h.id,key:h.id,"is-selected":h.isSelected,flash:e.store.isDebugging&&e.store.isCircuitEvaluated,"z-index":h.zIndex+1e3,onContextmenu:e.onContextMenu},null,8,["store","id","is-selected","flash","z-index","onContextmenu"])):(K(),Ne(a,{tabindex:0,store:e.storeDefinition,id:h.id,key:`c${h.id}`,"is-selected":h.isSelected,"is-preview":e.store.connectionPreviewId===h.id,flash:e.store.isDebugging&&e.store.isCircuitEvaluated,"z-index":h.zIndex,onContextmenu:e.onContextMenu},null,8,["store","id","is-selected","is-preview","flash","z-index","onContextmenu"]))],64))),256)):ht("",!0),_e("div",{tabindex:0,onFocus:t[1]||(t[1]=h=>e.store.recycleSelection(!0))},null,32),(K(!0),fe(Ye,null,wt(e.store.groups,h=>(K(),Ne(l,{key:h.id,id:h.id,"bounding-box":h.boundingBox,"is-selected":h.isSelected,"z-index":e.store.zIndex,zoom:e.store.zoom},null,8,["id","bounding-box","is-selected","z-index","zoom"]))),128))]),_:1},8,["zoom","grid-size","offset","style","width","height","onPan","onDeselect","onSelection","onZoom","onContextmenu","onResize"])}const d2=Oe(c2,[["render",u2]]),f2=xe({name:"MobileButton",components:{Icon:Wt},props:{label:{type:String,default:""},icon:{type:Object,required:!0},chevron:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1}},setup(){return{faChevronDown:ql}}});const h2={class:"mobile-button"},p2={class:"mobile-button__label"};function m2(e,t,n,o,i,r){const s=be("icon");return K(),fe("div",h2,[de(s,{icon:e.icon,class:"mobile-button__icon"},null,8,["icon"]),_e("div",p2,ut(e.label),1),e.chevron?(K(),Ne(s,{key:0,icon:e.faChevronDown,class:Je([{"mobile-button__icon--open":e.isOpen},"mobile-button__icon--chevron"])},null,8,["icon","class"])):ht("",!0)])}const xc=Oe(f2,[["render",m2]]),g2=xe({name:"MobileCollapsiblePanel",components:{MobileButton:xc},props:{title:{type:String,default:""},icon:{type:Object,required:!0}},setup(){const e=He("0"),t=He(),n=He(!1);function o(){var r;e.value=n.value?((r=t.value)==null?void 0:r.clientHeight)+"px":"0px"}function i(){n.value=!n.value,o()}return sn(()=>o()),{faChevronDown:ql,isOpen:n,height:e,content:t,toggle:i}}});const v2={class:"mobile-collapsible-panel"},y2={ref:"content"};function b2(e,t,n,o,i,r){const s=be("mobile-button");return K(),fe("div",v2,[de(s,{label:e.title,icon:e.icon,"is-open":e.isOpen,onClick:e.toggle,chevron:""},null,8,["label","icon","is-open","onClick"]),_e("div",{class:"mobile-collapsible-panel__content",style:rt({height:e.height})},[_e("div",y2,[_e("div",{class:Je(["mobile-collapsible-panel__inner",{"mobile-collapsible-panel__inner--open":e.isOpen}])},[dt(e.$slots,"default")],2)],512)],4)])}const _2=Oe(g2,[["render",b2]]),w2=xe({name:"PropertyForm",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""}},emits:{"update:modelValue":e=>!0},setup(e,{emit:t}){const n=He(e.modelValue);return fn(()=>e.modelValue,()=>{n.value=e.modelValue}),{model:n}}});const C2=["id","disabled"];function S2(e,t,n,o,i,r){return K(),fe("label",{class:Je(["property-switch",{"property-switch--on":e.model,"property-switch--disabled":e.disabled}])},[lo(_e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.model=s),id:e.id,disabled:e.disabled,type:"checkbox",class:"property-switch__input",onInput:t[1]||(t[1]=s=>e.$emit("update:modelValue",!e.model))},null,40,C2),[[Os,e.model]]),_e("div",{class:Je(["property-switch__trigger",{"property-switch__trigger--on":e.model}])},null,2)],2)}const I2=Oe(w2,[["render",S2]]),x2=!1,E2=xe({name:"PropertyForm",components:{Icon:Wt,PropertySwitch:I2},props:{modelValue:{type:Object,default:()=>({})},id:{type:String,default:""}},setup(e,{emit:t}){const n=s=>Object.keys(s).filter(a=>!s[a].mobileOnly).reduce((a,l)=>({...a,[l]:Zt(s[l])}),{}),o=He(n(e.modelValue));fn(()=>e.modelValue,s=>{o.value=n(s)},{deep:!0});function i(s){var l;const a=o.value[s];(l=a.excludes)==null||l.forEach(u=>{a.value&&o.value[u].type==="boolean"&&(o.value[u].value=!1)}),r()}function r(){t("update:modelValue",o.value)}return{model:o,close,onSwitch:i,onChange:r}}});const O2={class:"property-form"},k2=["for"],$2=["onUpdate:modelValue","id","disabled"],P2=["value"],D2={key:1,class:"property-form__switch"},z2=["onUpdate:modelValue","min","max","type","id","disabled"],A2={key:3,class:"property-form__description"};function T2(e,t,n,o,i,r){const s=be("property-switch");return K(),fe("div",O2,[(K(!0),fe(Ye,null,wt(e.model,(a,l)=>(K(),fe("div",{key:l,class:"property-form__entry"},[_e("label",{for:`${e.id}_${l}`,class:Je([{"property-form__label--disabled":a.disabled},"property-form__label"])},ut(a.label),11,k2),a.options?lo((K(),fe("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${e.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:t[0]||(t[0]=(...u)=>e.onChange&&e.onChange(...u))},[(K(!0),fe(Ye,null,wt(a.options,(u,h)=>(K(),fe("option",{key:h,value:u},ut(h),9,P2))),128))],40,$2)),[[ks,a.value]]):a.type==="boolean"?(K(),fe("div",D2,[de(s,{modelValue:a.value,"onUpdate:modelValue":[u=>a.value=u,u=>e.onSwitch(l)],modelModifiers:{boolean:!0},id:`${e.id}_${l}`,disabled:a.disabled},null,8,["modelValue","onUpdate:modelValue","id","disabled"])])):lo((K(),fe("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${e.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:t[1]||(t[1]=(...u)=>e.onChange&&e.onChange(...u))},null,40,z2)),[[jl,a.value]]),a.description?(K(),fe("small",A2,ut(a.description),1)):ht("",!0)]))),128))])}const M2=Oe(E2,[["render",T2]]),B2=xe({components:{MobileButton:xc,MobileCollapsiblePanel:_2,PropertyForm:M2},name:"MobilePreferences",setup(){const e=wo(),{colors:t,grid:n,snapping:o,simulation:i,experience:r}=Zo(e),{updateSettings:s}=e;return{faFile:Kl,faCodeBranch:Gl,faGears:Of,faImage:kf,faMagnet:$f,faMicrochip:$s,faPalette:Df,faTableCells:Uf,faWandMagicSparkles:Wf,colors:t,grid:n,snapping:o,simulation:i,experience:r,updateSettings:s}}});function L2(e,t,n,o,i,r){const s=be("mobile-button"),a=be("property-form"),l=be("mobile-collapsible-panel");return K(),fe(Ye,null,[de(s,{icon:e.faFile,label:"New Circuit"},null,8,["icon"]),de(s,{icon:e.faCodeBranch,label:"Load Circuit"},null,8,["icon"]),de(s,{icon:e.faMicrochip,label:"Import integrated circuit"},null,8,["icon"]),de(s,{icon:e.faImage,label:"Export image"},null,8,["icon"]),de(l,{title:"Colors",icon:e.faPalette},{default:Fe(()=>[de(a,{modelValue:e.colors,"onUpdate:modelValue":t[0]||(t[0]=u=>e.colors=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),de(l,{title:"Grid",icon:e.faTableCells},{default:Fe(()=>[de(a,{modelValue:e.grid,"onUpdate:modelValue":t[1]||(t[1]=u=>e.grid=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),de(l,{title:"Snapping",icon:e.faMagnet},{default:Fe(()=>[de(a,{modelValue:e.snapping,"onUpdate:modelValue":t[2]||(t[2]=u=>e.snapping=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),de(l,{title:"Simulation",icon:e.faGears},{default:Fe(()=>[de(a,{modelValue:e.simulation,"onUpdate:modelValue":t[3]||(t[3]=u=>e.simulation=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),de(l,{title:"Experience",icon:e.faWandMagicSparkles},{default:Fe(()=>[de(a,{modelValue:e.experience,"onUpdate:modelValue":t[4]||(t[4]=u=>e.experience=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"])],64)}const N2=Oe(B2,[["render",L2]]),R2=xe({name:"OscilloscopeTimeline",props:{oscillogram:{type:Object,required:!0}},computed:{totalWidth(){return Object.values(this.oscillogram).reduce((e,{width:t})=>Math.max(t,e),0)}},mounted(){const e=this.$refs.timeline,t=this.$refs.list;this.scrollToNextInterval(),t.addEventListener("scroll",this.onTimelineScroll),e.addEventListener("scroll",this.onTimelineScroll)},beforeUnmount(){const e=this.$refs.timeline;this.$refs.list.removeEventListener("scroll",this.onTimelineScroll),e.removeEventListener("scroll",this.onTimelineScroll)},methods:{onWheel(e){const t=this.$refs.timeline;t.scrollTop+=e.deltaY/10,e.preventDefault()},scrollToNextInterval(){const e=this.$refs.timeline;e.scrollLeft=e.scrollWidth},onTimelineScroll(){const e=this.$refs.list,t=this.$refs.timeline;t&&(e.scrollTop=t.scrollTop)}},watch:{oscillogram:{handler(){this.scrollToNextInterval()},deep:!0}}});const F2={class:"oscilloscope-timeline"},j2={class:"oscilloscope-timeline__list",ref:"list"},V2=["width","viewBox"],U2=["points","stroke"];function H2(e,t,n,o,i,r){return K(),fe("div",F2,[_e("div",j2,[(K(!0),fe(Ye,null,wt(e.oscillogram,(s,a)=>(K(),fe("div",{key:a,style:rt({color:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`}),class:"oscilloscope-timeline__label"},ut(a),5))),128))],512),_e("div",{class:"oscilloscope-timeline__display",ref:"timeline",onWheel:t[0]||(t[0]=(...s)=>e.onWheel&&e.onWheel(...s))},[(K(!0),fe(Ye,null,wt(e.oscillogram,(s,a)=>(K(),fe("div",{style:rt({width:`${e.totalWidth}px`}),key:a,class:"oscilloscope-timeline__item"},[_e("div",{style:rt({width:`${s.width}px`}),class:"oscilloscope-timeline__svg"},[(K(),fe("svg",{width:s.width,viewBox:`0 0 ${s.width} 1`,preserveAspectRatio:"none"},[_e("polyline",{points:s.points,stroke:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`,"stroke-width":"2",fill:"none","vector-effect":"non-scaling-stroke"},null,8,U2)],8,V2))],4)],4))),128))],544)])}const W2=Oe(R2,[["render",H2]]),Z2=xe({name:"OscilloscopeTitleBar",components:{Icon:Wt},props:{clearable:{type:Boolean,default:!0},isRecording:{type:Boolean,default:!0}},setup(){return{faBan:Zl,faClose:yo,faPause:zf,faPlay:Af}}});const q2={class:"oscilloscope-title-bar"},G2=_e("div",{class:"oscilloscope-title-bar__title"},"Oscilloscope",-1),K2={class:"oscilloscope-title-bar__actions"},X2=["disabled"];function Y2(e,t,n,o,i,r){const s=be("icon");return K(),fe("div",q2,[G2,_e("div",K2,[_e("button",{class:"oscilloscope-title-bar__button",title:"Close",onClick:t[0]||(t[0]=a=>e.$emit("close"))},[de(s,{icon:e.faClose},null,8,["icon"])]),_e("button",{class:"oscilloscope-title-bar__button",title:"Clear oscilloscope",disabled:!e.clearable,onClick:t[1]||(t[1]=a=>e.$emit("clear"))},[de(s,{icon:e.faBan},null,8,["icon"])],8,X2),_e("button",{class:"oscilloscope-title-bar__button",title:"Close",onClick:t[2]||(t[2]=a=>e.$emit("toggle"))},[de(s,{icon:e.isRecording?e.faPause:e.faPlay},null,8,["icon"])])])])}const J2=Oe(Z2,[["render",Y2]]),Q2=xe({name:"OscilloscopeViewer",props:{collapseHeight:{type:Number,default:20},modelValue:{type:Number,required:!0}},setup(e,{emit:t}){const n=He(e.modelValue),o=He();let i=0,r=0,s=!1;function a(g){i=n.value,r=g.clientY,s=!0}function l(g){a(g.touches[0])}function u(g){var v;if(!s||!o.value)return;const d=(v=o.value.parentElement)==null?void 0:v.getBoundingClientRect();n.value+=Math.min(r-g.clientY,(d==null?void 0:d.height)||1/0),r=g.clientY,n.value<=e.collapseHeight?t("collapse",i):t("update:modelValue",n.value)}function h(g){u(g.touches[0])}function m(){s=!1}return sn(()=>{window.addEventListener("mousemove",u),window.addEventListener("mouseup",m)}),vs(()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",m)}),{onMouseDown:a,onMouseUp:m,onTouchStart:l,onTouchMove:h,height:n,viewer:o}}});function ev(e,t,n,o,i,r){return K(),fe("div",{ref:"viewer",class:"oscilloscope-viewer",style:rt({height:`${e.height}px`})},[_e("div",{class:"oscilloscope-viewer__touch-resizer",onTouchstart:t[1]||(t[1]=(...s)=>e.onTouchStart&&e.onTouchStart(...s)),onTouchmove:t[2]||(t[2]=(...s)=>e.onTouchMove&&e.onTouchMove(...s)),onTouchcancel:t[3]||(t[3]=(...s)=>e.onMouseUp&&e.onMouseUp(...s)),onTouchend:t[4]||(t[4]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[_e("div",{class:"oscilloscope-viewer__mouse-resizer",onMousedown:t[0]||(t[0]=(...s)=>e.onMouseDown&&e.onMouseDown(...s))},null,32)],32),dt(e.$slots,"default")],4)}const tv=Oe(Q2,[["render",ev]]),nv=xe({name:"Oscilloscope",components:{OscilloscopeTimeline:W2,OscilloscopeTitleBar:J2,OscilloscopeViewer:tv},props:{store:{type:Function,required:!0}},setup(e){const t=e.store(),{oscilloscopeHeight:n,isOscilloscopeOpen:o,isOscilloscopeRecording:i,oscillogram:r}=Zo(t),{clearOscilloscope:s,closeOscilloscope:a,toggleOscillatorRecording:l}=t;return{hasWaves:tt(()=>Object.keys(t.oscillogram).length>0),oscillogram:r,oscilloscopeHeight:n,isOscilloscopeOpen:o,isOscilloscopeRecording:i,clearOscilloscope:s,closeOscilloscope:a,toggleOscillatorRecording:l}}}),ov={key:0};function iv(e,t,n,o,i,r){const s=be("oscilloscope-title-bar"),a=be("oscilloscope-timeline"),l=be("oscilloscope-viewer");return e.isOscilloscopeOpen?(K(),Ne(l,{key:0,modelValue:e.oscilloscopeHeight,"onUpdate:modelValue":t[0]||(t[0]=u=>e.oscilloscopeHeight=u),"collapse-height":40,onCollapse:e.closeOscilloscope},{default:Fe(()=>[de(s,{clearable:e.hasWaves,"is-recording":e.isOscilloscopeRecording,onClear:e.clearOscilloscope,onToggle:e.toggleOscillatorRecording},null,8,["clearable","is-recording","onClear","onToggle"]),e.hasWaves?(K(),Ne(a,{key:1,oscillogram:e.oscillogram},null,8,["oscillogram"])):(K(),fe("div",ov," no waves to observe "))]),_:1},8,["modelValue","onCollapse"])):ht("",!0)}const rv=Oe(nv,[["render",iv]]),sv=xe({name:"StatusBarButton",props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"2em"}}});const av=["disabled","title"];function lv(e,t,n,o,i,r){return K(),fe("button",{class:"status-bar-button",disabled:e.disabled,title:e.title,style:rt({width:e.width})},[dt(e.$slots,"default")],12,av)}const cv=Oe(sv,[["render",lv]]),uv=xe({name:"StatusBarViewer"});const dv={class:"status-bar-viewer"},fv={class:"status-bar-viewer__left"},hv={class:"status-bar-viewer__right"};function pv(e,t,n,o,i,r){return K(),fe("div",dv,[_e("div",fv,[dt(e.$slots,"left")]),_e("div",hv,[dt(e.$slots,"right")])])}const mv=Oe(uv,[["render",pv]]),gv=xe({name:"StatusBarZoom",components:{Icon:Wt},props:{zoom:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:200},step:{type:Number,default:10}},setup(e,{emit:t}){const n=tt(()=>Math.round(e.zoom*100));function o(i){const r=i.target,s=parseFloat(r.value);t("zoom",s/100)}return{onInput:o,value:n}}});const vv=["step","min","max","value"];function yv(e,t,n,o,i,r){return K(),fe("input",{type:"range",class:"status-bar-zoom",step:e.step,min:e.min,max:e.max,value:e.value,onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s))},null,40,vv)}const bv=Oe(gv,[["render",yv]]),_v=xe({name:"StatusBar",components:{Icon:Wt,StatusBarButton:cv,StatusBarViewer:mv,StatusBarZoom:bv},props:{store:{type:Function,required:!0},isFullscreen:{type:Boolean,default:!1}},setup(e){const t=e.store(),n=tt(()=>t.isPrinting),o=tt(()=>t.isCreatingImage),i=tt(()=>Math.round(t.zoomLevel*100));return{store:t,isPrinting:n,isCreatingImage:o,zoomPercent:i,faMinus:Pf,faPlus:Tf,faExpand:xf,faCompress:If}}}),wv={key:0},Cv={key:1},Sv={key:2};function Iv(e,t,n,o,i,r){const s=be("icon"),a=be("status-bar-button"),l=be("status-bar-zoom"),u=be("status-bar-viewer");return K(),Ne(u,null,{left:Fe(()=>[e.isPrinting?(K(),fe("span",wv,"Printing...")):e.isCreatingImage?(K(),fe("span",Cv,"Rendering image...")):(K(),fe("span",Sv,"Ready"))]),right:Fe(()=>[de(a,{title:"Zoom out",disabled:e.store.zoomLevel<=.1,onClick:t[0]||(t[0]=h=>e.store.incrementZoom(-1))},{default:Fe(()=>[de(s,{icon:e.faMinus},null,8,["icon"])]),_:1},8,["disabled"]),de(l,{type:"range",class:"status-bar__range",min:0,step:10,max:200,zoom:e.store.zoomLevel,onZoom:t[1]||(t[1]=h=>e.store.setZoom({zoom:h}))},null,8,["zoom"]),de(a,{title:"Zoom in",disabled:e.store.zoomLevel>=2,onClick:t[2]||(t[2]=h=>e.store.incrementZoom(1))},{default:Fe(()=>[de(s,{icon:e.faPlus},null,8,["icon"])]),_:1},8,["disabled"]),de(a,{width:"3em",onClick:t[3]||(t[3]=h=>e.store.setZoom({zoom:1}))},{default:Fe(()=>[Ss(ut(e.zoomPercent)+"% ",1)]),_:1}),de(a,{title:"Toggle fullscreen",onClick:t[4]||(t[4]=h=>e.$emit("fullscreen"))},{default:Fe(()=>[de(s,{icon:e.isFullscreen?e.faCompress:e.faExpand},null,8,["icon"])]),_:1})]),_:1})}const xv=Oe(_v,[["render",Iv]]);/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Ev={prefix:"far",iconName:"copy",icon:[512,512,[],"f0c5","M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"]},Ov={prefix:"far",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H229.5C246.5 0 262.7 6.743 274.7 18.75L365.3 109.3C377.3 121.3 384 137.5 384 154.5V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM336 448V160H256C238.3 160 224 145.7 224 128V48H64C55.16 48 48 55.16 48 64V448C48 456.8 55.16 464 64 464H320C328.8 464 336 456.8 336 448z"]},kv={prefix:"far",iconName:"floppy-disk",icon:[448,512,[128426,128190,"save"],"f0c7","M224 256c-35.2 0-64 28.8-64 64c0 35.2 28.8 64 64 64c35.2 0 64-28.8 64-64C288 284.8 259.2 256 224 256zM433.1 129.1l-83.9-83.9C341.1 37.06 328.8 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 151.2 442.9 138.9 433.1 129.1zM128 80h144V160H128V80zM400 416c0 8.836-7.164 16-16 16H64c-8.836 0-16-7.164-16-16V96c0-8.838 7.164-16 16-16h16v104c0 13.25 10.75 24 24 24h192C309.3 208 320 197.3 320 184V83.88l78.25 78.25C399.4 163.2 400 164.8 400 166.3V416z"]},$v=kv,Pv={prefix:"far",iconName:"folder-open",icon:[576,512,[128449,61717,128194],"f07c","M572.6 270.3l-96 192C471.2 473.2 460.1 480 447.1 480H64c-35.35 0-64-28.66-64-64V96c0-35.34 28.65-64 64-64h117.5c16.97 0 33.25 6.742 45.26 18.75L275.9 96H416c35.35 0 64 28.66 64 64v32h-48V160c0-8.824-7.178-16-16-16H256L192.8 84.69C189.8 81.66 185.8 80 181.5 80H64C55.18 80 48 87.18 48 96v288l71.16-142.3C124.6 230.8 135.7 224 147.8 224h396.2C567.7 224 583.2 249 572.6 270.3z"]},Dv={prefix:"far",iconName:"object-group",icon:[576,512,[],"f247","M128 160C128 142.3 142.3 128 160 128H288C305.7 128 320 142.3 320 160V256C320 273.7 305.7 288 288 288H160C142.3 288 128 273.7 128 256V160zM288 320C323.3 320 352 291.3 352 256V224H416C433.7 224 448 238.3 448 256V352C448 369.7 433.7 384 416 384H288C270.3 384 256 369.7 256 352V320H288zM48 115.8C38.18 106.1 32 94.22 32 80C32 53.49 53.49 32 80 32C94.22 32 106.1 38.18 115.8 48H460.2C469 38.18 481.8 32 496 32C522.5 32 544 53.49 544 80C544 94.22 537.8 106.1 528 115.8V396.2C537.8 405 544 417.8 544 432C544 458.5 522.5 480 496 480C481.8 480 469 473.8 460.2 464H115.8C106.1 473.8 94.22 480 80 480C53.49 480 32 458.5 32 432C32 417.8 38.18 405 48 396.2V115.8zM96 125.3V386.7C109.6 391.6 120.4 402.4 125.3 416H450.7C455.6 402.4 466.4 391.6 480 386.7V125.3C466.4 120.4 455.6 109.6 450.7 96H125.3C120.4 109.6 109.6 120.4 96 125.3z"]},zv={prefix:"far",iconName:"object-ungroup",icon:[640,512,[],"f248","M64 0C90.86 0 113.9 16.55 123.3 40H324.7C334.1 16.55 357.1 0 384 0C419.3 0 448 28.65 448 64C448 90.86 431.5 113.9 408 123.3V228.7C431.5 238.1 448 261.1 448 288C448 323.3 419.3 352 384 352C357.1 352 334.1 335.5 324.7 312H123.3C113.9 335.5 90.86 352 64 352C28.65 352 0 323.3 0 288C0 261.1 16.55 238.1 40 228.7V123.3C16.55 113.9 0 90.86 0 64C0 28.65 28.65 0 64 0V0zM64 80C72.84 80 80 72.84 80 64C80 56.1 74.28 49.54 66.75 48.24C65.86 48.08 64.94 48 64 48C55.16 48 48 55.16 48 64C48 64.07 48 64.14 48 64.21C48.01 65.07 48.09 65.92 48.24 66.75C49.54 74.28 56.1 80 64 80zM384 48C383.1 48 382.1 48.08 381.2 48.24C373.7 49.54 368 56.1 368 64C368 72.84 375.2 80 384 80C391.9 80 398.5 74.28 399.8 66.75C399.9 65.86 400 64.94 400 64C400 55.16 392.8 48 384 48V48zM324.7 88H123.3C116.9 104 104 116.9 88 123.3V228.7C104 235.1 116.9 247.1 123.3 264H324.7C331.1 247.1 343.1 235.1 360 228.7V123.3C343.1 116.9 331.1 104 324.7 88zM400 288C400 287.1 399.9 286.1 399.8 285.2C398.5 277.7 391.9 272 384 272C375.2 272 368 279.2 368 288C368 295.9 373.7 302.5 381.2 303.8C382.1 303.9 383.1 304 384 304C392.8 304 400 296.8 400 288zM64 272C56.1 272 49.54 277.7 48.24 285.2C48.08 286.1 48 287.1 48 288C48 296.8 55.16 304 64 304L64.22 303.1C65.08 303.1 65.93 303.9 66.75 303.8C74.28 302.5 80 295.9 80 288C80 279.2 72.84 272 64 272zM471.3 248C465.8 235.9 457.8 225.2 448 216.4V200H516.7C526.1 176.5 549.1 160 576 160C611.3 160 640 188.7 640 224C640 250.9 623.5 273.9 600 283.3V388.7C623.5 398.1 640 421.1 640 448C640 483.3 611.3 512 576 512C549.1 512 526.1 495.5 516.7 472H315.3C305.9 495.5 282.9 512 256 512C220.7 512 192 483.3 192 448C192 421.1 208.5 398.1 232 388.7V352H280V388.7C296 395.1 308.9 407.1 315.3 424H516.7C523.1 407.1 535.1 395.1 552 388.7V283.3C535.1 276.9 523.1 264 516.7 248H471.3zM592 224C592 215.2 584.8 208 576 208C575.1 208 574.1 208.1 573.2 208.2C565.7 209.5 560 216.1 560 224C560 232.8 567.2 240 576 240C583.9 240 590.5 234.3 591.8 226.8C591.9 225.9 592 224.9 592 224zM240 448C240 456.8 247.2 464 256 464C256.9 464 257.9 463.9 258.8 463.8C266.3 462.5 272 455.9 272 448C272 439.2 264.8 432 256 432C248.1 432 241.5 437.7 240.2 445.2C240.1 446.1 240 447.1 240 448zM573.2 463.8C574.1 463.9 575.1 464 576 464C584.8 464 592 456.8 592 448C592 447.1 591.9 446.2 591.8 445.3L591.8 445.2C590.5 437.7 583.9 432 576 432C567.2 432 560 439.2 560 448C560 455.9 565.7 462.5 573.2 463.8V463.8z"]},Av={prefix:"far",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M502.6 198.6l-61.25-61.25C435.4 131.4 427.3 128 418.8 128H256C220.7 128 191.1 156.7 192 192l.0065 255.1C192 483.3 220.7 512 256 512h192c35.2 0 64-28.8 64-64l.0098-226.7C512 212.8 508.6 204.6 502.6 198.6zM464 448c0 8.836-7.164 16-16 16h-192c-8.838 0-16-7.164-16-16L240 192.1c0-8.836 7.164-16 16-16h128L384 224c0 17.67 14.33 32 32 32h48.01V448zM317.7 96C310.6 68.45 285.8 48 256 48H215.2C211.3 20.93 188.1 0 160 0C131.9 0 108.7 20.93 104.8 48H64c-35.35 0-64 28.65-64 64V384c0 35.34 28.65 64 64 64h96v-48H64c-8.836 0-16-7.164-16-16V112C48 103.2 55.18 96 64 96h16v16c0 17.67 14.33 32 32 32h61.35C190 115.4 220.6 96 256 96H317.7zM160 72c-8.822 0-16-7.176-16-16s7.178-16 16-16s16 7.176 16 16S168.8 72 160 72z"]},Tv={prefix:"far",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M200 344V280H136C122.7 280 112 269.3 112 256C112 242.7 122.7 232 136 232H200V168C200 154.7 210.7 144 224 144C237.3 144 248 154.7 248 168V232H312C325.3 232 336 242.7 336 256C336 269.3 325.3 280 312 280H248V344C248 357.3 237.3 368 224 368C210.7 368 200 357.3 200 344zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]},Mv=Tv;const Bv=xe({name:"ToolbarButton",components:{Icon:Wt},data(){return{faUser:Hf}},emits:{click:e=>!0},props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isToolbox:{type:Boolean,default:!1},icon:{type:Object,default:null},text:{type:String,default:""}},setup(e,{emit:t}){function n(o){o.stopPropagation(),o.preventDefault(),e.disabled||t("click",o)}return{onClick:n}}});const Lv={class:"toolbar-button__text"};function Nv(e,t,n,o,i,r){const s=be("icon");return K(),fe("button",{tabindex:0,class:Je([{"toolbar-button--active":e.active&&!e.isToolbox,"toolbar-button--toolbox":e.active&&e.isToolbox,"toolbar-button--disabled":e.disabled},"toolbar-button"]),role:"button",onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},[e.icon?(K(),Ne(s,{key:0,icon:e.icon,class:"toolbar-button__icon"},null,8,["icon"])):(K(),Ne(s,{key:1,icon:e.faUser,class:"toolbar-button__icon"},null,8,["icon"])),_e("div",Lv,ut(e.text),1)],2)}const Rv=Oe(Bv,[["render",Nv]]),Fv=xe({name:"ToolbarSeparator"});const jv={class:"toolbar-separator"};function Vv(e,t,n,o,i,r){return K(),fe("div",jv)}const Uv=Oe(Fv,[["render",Vv]]),Hv=xe({name:"ScrollFade",components:{Resizable:_o},props:{hideScrollbar:{type:Boolean,default:!1}},setup(){const e="transparent, black var(--mask-width)",t="black calc(100% - var(--mask-width)), transparent",n=He(),o=He("");function i(s){const{scrollWidth:a,scrollLeft:l,clientWidth:u}=s;if(a>u){const h=[];return l>0&&h.push(e),l+u<a&&h.push(t),o.value=h.join(", "),h.join(", ")}return"transparent transparent"}function r(){n.value&&(o.value=i(n.value.$el))}return{onChange:r,gradientStyle:o,scroll:n}}});function Wv(e,t,n,o,i,r){const s=be("resizable");return K(),Ne(s,{ref:"scroll",class:Je(["scroll-fade",{"scrollbar-fade--show-scrollbar":!e.hideScrollbar}]),style:rt(`--mask-image-content: linear-gradient(to right, ${e.gradientStyle})`),onScroll:e.onChange,onResize:e.onChange},{default:Fe(()=>[dt(e.$slots,"default")]),_:3},8,["class","style","onScroll","onResize"])}const Ns=Oe(Hv,[["render",Wv]]),Zv=xe({name:"Toolbar",components:{ToolbarButton:Rv,ToolbarSeparator:Uv,ScrollFade:Ns},data(){return{faScrewdriverWrench:jf,faFolderOpen:Pv,faFile:Ov,faSave:$v,faScissors:Ff,faCopy:Ev,faPaste:Av,faObjectGroup:Dv,faObjectUngroup:zv,faRotateBackward:Lf,faRotateForward:Rf,faReply:Mf,faShare:Vf,faMicrochip:$s,faBan:Zl,faArrowsRotate:wf,faBug:Sf,faForwardStep:Ef,faWaveSquare:Zf}},props:{store:{type:Function,required:!0}},setup(e){const t=Co(),n=e.store(),o=tt(()=>n.simulation.circuit.isComplete());return{rootStore:t,documentStore:n,isComplete:o}}});const qv={class:"toolbar"},Gv={class:"toolbar__fixed"},Kv={class:"toolbar__left"},Xv={class:"toolbar__right"};function Yv(e,t,n,o,i,r){const s=be("toolbar-button"),a=be("toolbar-separator"),l=be("scroll-fade");return K(),fe("div",qv,[_e("div",Gv,[de(s,{icon:e.faScrewdriverWrench,text:"Toolbox","is-toolbox":"",onClick:e.rootStore.toggleToolbox,active:e.rootStore.isToolboxOpen},null,8,["icon","onClick","active"]),de(a)]),de(l,{class:"toolbar__scrollable"},{default:Fe(()=>[_e("div",Kv,[de(s,{icon:e.faFolderOpen,text:"Open"},null,8,["icon"]),de(s,{icon:e.faFile,text:"New"},null,8,["icon"]),de(s,{icon:e.faSave,text:"Save"},null,8,["icon"]),de(a),de(s,{onClick:e.documentStore.undo,disabled:!e.documentStore.canUndo,icon:e.faReply,text:"Undo"},null,8,["onClick","disabled","icon"]),de(s,{onClick:e.documentStore.redo,disabled:!e.documentStore.canRedo,icon:e.faShare,text:"Redo"},null,8,["onClick","disabled","icon"]),de(a),de(s,{onClick:t[0]||(t[0]=u=>e.documentStore.rotate(1)),disabled:!e.documentStore.hasSelectedItems,icon:e.faRotateForward,text:"Rotate"},null,8,["disabled","icon"]),de(a),de(s,{onClick:e.documentStore.group,disabled:!e.documentStore.canGroup,icon:e.faObjectGroup,text:"Group"},null,8,["onClick","disabled","icon"]),de(s,{onClick:e.documentStore.ungroup,disabled:!e.documentStore.canUngroup,icon:e.faObjectUngroup,text:"Ungroup"},null,8,["onClick","disabled","icon"]),de(a),de(s,{icon:e.faScissors,text:"Cut"},null,8,["icon"]),de(s,{icon:e.faCopy,text:"Copy"},null,8,["icon"]),de(s,{icon:e.faPaste,text:"Paste"},null,8,["icon"]),de(s,{onClick:e.documentStore.deleteSelection,disabled:!e.documentStore.hasSelection,icon:e.faBan,text:"Delete"},null,8,["onClick","disabled","icon"]),de(a),de(s,{onClick:e.rootStore.launchIntegratedCircuitBuilder,icon:e.faMicrochip,text:"Export"},null,8,["onClick","icon"])]),_e("div",Xv,[de(s,{icon:e.faBug,active:e.documentStore.isDebugging,onClick:e.documentStore.toggleDebugger,text:"Debug"},null,8,["icon","active","onClick"]),de(a),de(s,{icon:e.faArrowsRotate,onClick:e.documentStore.resetCircuit,text:"Reset"},null,8,["icon","onClick"]),de(s,{icon:e.faForwardStep,disabled:!e.documentStore.isDebugging||e.documentStore.isCircuitEvaluated,onClick:e.documentStore.stepThroughCircuit,text:"Next"},null,8,["icon","disabled","onClick"]),de(a),de(s,{icon:e.faWaveSquare,disabled:e.documentStore.isDebugging,active:!e.documentStore.isDebugging&&e.documentStore.isOscilloscopeOpen,onClick:e.documentStore.toggleOscilloscope,text:"Analyze"},null,8,["icon","disabled","active","onClick"])])]),_:1})])}const Jv=Oe(Zv,[["render",Yv]]),Qv=xe({name:"ToolboxItem",components:{CircuitComponent:vc,Draggable:dr,Resizable:_o},emits:{drop:(e,t)=>!0},props:{factory:{type:Function,required:!0},zoom:{type:Number,default:1}},setup(e,{emit:t}){const n=He(),o=He(!1),i=He(1),{item:r,ports:s}=e.factory(),a={selectable:new DOMRect,preview:new DOMRect};let l=null;function u(d,v){a[v]=d;const f=a.selectable,b=a.preview,y=Math.max(f.width/b.width,f.height/b.height);i.value=Math.min(1/y,1)}function h(){var v;const d=a.selectable;l=(v=n.value)==null?void 0:v.$el.cloneNode(!0),l.style.position="absolute",l.style.zoom=`${e.zoom}`,l.style.width=`${d.width}px`,l.style.height=`${d.height}px`,o.value=!0,navigator.vibrate(20)}function m({x:d,y:v}){if(!l)return h();document.body.contains(l)||document.body.appendChild(l);const{width:f,height:b}=l.getBoundingClientRect();l.style.left=`${(d-f/2*e.zoom)/e.zoom}px`,l.style.top=`${(v-b/2*e.zoom)/e.zoom}px`}function g(d){l&&(l.remove(),l=null,o.value=!1,t("drop",e.factory,d))}return{onDragStart:h,onDrag:m,onDragEnd:g,onSizeChanged:u,item:r,ports:s,zoom:i,selectable:n,isDragging:o}}});const e4={class:"toolbox-item__parent"},t4={class:"toolbox-item__label"};function n4(e,t,n,o,i,r){const s=be("circuit-component"),a=be("resizable"),l=be("draggable");return K(),Ne(l,{class:"toolbox-item",tabindex:0,onTouchhold:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onClick:t[2]||(t[2]=u=>e.$emit("drop",e.factory)),"allow-touch-drag":e.isDragging},{default:Fe(()=>[_e("div",e4,[de(a,{class:"toolbox-item__preview",ref:"preview",onResize:t[1]||(t[1]=u=>e.onSizeChanged(u,"preview"))},{default:Fe(()=>[de(a,{class:"toolbox-item__inner",ref:"selectable",style:rt({zoom:e.zoom}),onResize:t[0]||(t[0]=u=>e.onSizeChanged(u,"selectable"))},{default:Fe(()=>[de(s,{type:e.item.type,subtype:e.item.subtype,ports:e.ports,properties:e.item.properties},null,8,["type","subtype","ports","properties"])]),_:1},8,["style"])]),_:1},512)]),_e("div",t4,ut(e.item.name||e.item.subtype),1)]),_:1},8,["onTouchhold","onDrag","onDragEnd","allow-touch-drag"])}const o4=Oe(Qv,[["render",n4]]),i4=xe({name:"Toolbox",components:{ScrollFade:Ns},props:{isOpen:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=He(null),o=He(null),i=tt(()=>Object.keys(t)),r=tt(()=>{var a;return e.isOpen?(a=o.value)==null?void 0:a.scrollHeight:0});function s(a){n.value=a}return s(i.value[0]),{categories:i,selected:n,select:s,height:r,toolbox:o}}});const r4=["onClick"];function s4(e,t,n,o,i,r){const s=be("scroll-fade");return K(),fe("div",{ref:"toolbox",class:Je(["toolbox-layout",{"toolbox-layout--open":e.isOpen}]),style:rt({height:`${e.height}px`})},[de(s,{class:"toolbox-layout__categories","hide-scrollbar":!0},{default:Fe(()=>[(K(!0),fe(Ye,null,wt(e.categories,a=>(K(),fe("div",{class:Je(["toolbox-layout__badge",{"toolbox-layout__badge--active":a===e.selected}]),key:a,onClick:l=>e.select(a)},ut(a),11,r4))),128))]),_:1}),de(s,{class:"toolbox-layout__items"},{default:Fe(()=>[dt(e.$slots,e.selected)]),_:3})],6)}const a4=Oe(i4,[["render",s4]]),Ec=(e,t,n,o={})=>{const i=ot(),r=[Zn(i,ot(),vt.Right,yt.Output,"Output Port")],s=bo(i,at.InputNode,e,t,n,r);return s.properties={...s.properties,...o,startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},{item:s,ports:r}},l4=()=>Ec(Ke.Clock,60,60,{interval:{label:"Interval",value:1e3,type:"number",min:100,step:100}});function c4(){const e=[],t=Array(4).fill("").reduce((o,i,r)=>{const s=ot(),a=ot(),l=Zn(a,s,vt.Left,yt.Output,`Input Port ${r+1}`),u=bo(a,at.InputNode,Ke.Switch,0,0,[l]);return e.push(l),{connections:{},groups:{},items:{...o.items,[a]:u},ports:{...o.ports,[s]:l}}},{connections:{},ports:{},items:{},groups:{}});return{item:tc(t,"Digit Display",40,40,Ke.DigitDisplay),ports:e}}function u4(){const e=ot(),t=[Zn(e,ot(),vt.Left,yt.Input,"Input Port")];return{item:bo(e,at.OutputNode,Ke.Lightbulb,40,40,t),ports:t}}function io(e,t,n,o=2){const i=ot(),r=Array(o).fill("").map((a,l)=>Zn(i,ot(),0,1,`Input Port ${l}`)).concat(Zn(i,ot(),2,0,"Output Port")),s=bo(i,at.LogicGate,e,t,n,r);return s.properties={...s.properties,inputCount:{label:"Input count",value:o,type:"number",min:o},showInOscilloscope:{label:"Show in oscilloscope",value:!1,type:"boolean"}},{item:s,ports:r}}const d4={[at.InputNode]:{[Ke.Switch]:Ec.bind(void 0,Ke.Switch,60,60),[Ke.Clock]:l4},[at.OutputNode]:{[Ke.Lightbulb]:u4,[Ke.DigitDisplay]:c4},[at.LogicGate]:{[Ke.And]:io.bind(void 0,Ke.And,140,50),[Ke.Nand]:io.bind(void 0,Ke.Nand,140,50),[Ke.Xnor]:io.bind(void 0,Ke.Xnor,140,50),[Ke.Nor]:io.bind(void 0,Ke.Nor,140,50),[Ke.Or]:io.bind(void 0,Ke.Or,140,50),[Ke.Not]:io.bind(void 0,Ke.Not,140,50,1)}},f4=xe({name:"Toolbox",components:{ScrollFade:Ns,ToolboxItem:o4,ToolboxLayout:a4},props:{store:{type:Function,required:!0},isOpen:{type:Boolean,default:!1}},setup(e){const t=e.store(),n=Ui(),o=tt(()=>t.zoom),i=tt(()=>n.factories);function r(s,a){t.insertItemAtPosition(s(),a)}return{factories:{...d4,[at.IntegratedCircuit]:i.value},zoom:o,onDrop:r}}});function h4(e,t,n,o,i,r){const s=be("toolbox-item"),a=be("toolbox-layout");return K(),Ne(a,{"is-open":e.isOpen},bs({_:2},[wt(e.factories,(l,u)=>({name:u,fn:Fe(()=>[(K(!0),fe(Ye,null,wt(l,(h,m)=>(K(),Ne(s,{factory:h,key:m,label:m,zoom:e.zoom,onDrop:e.onDrop},null,8,["factory","label","zoom","onDrop"]))),128))])}))]),1032,["is-open"])}const p4=Oe(f4,[["render",h4]]),m4=xe({name:"MainView",props:{isBlurred:{type:Boolean,default:!1}}});const g4={class:"main-view__top"},v4={class:"main-view__middle"},y4={class:"main-view__bottom"};function b4(e,t,n,o,i,r){return K(),fe("div",{class:Je(["main-view",{"main-view--blurred":e.isBlurred}])},[_e("div",g4,[dt(e.$slots,"top")]),_e("div",v4,[dt(e.$slots,"middle")]),_e("div",y4,[dt(e.$slots,"bottom")])],2)}const _4=Oe(m4,[["render",b4]]),w4=xe({components:{Icon:Wt},name:"MobileFileName",emits:{close:()=>!0},props:{label:{type:String,required:!0},icon:{type:Object,required:!0},closable:{type:Boolean,default:!0}},setup(){return{faClose:yo}}});const C4={class:"mobile-popout-menu-item"},S4={class:"mobile-popout-menu-item__label"};function I4(e,t,n,o,i,r){const s=be("icon");return K(),fe("div",C4,[de(s,{icon:e.icon,class:"mobile-popout-menu-item__icon"},null,8,["icon"]),_e("div",S4,ut(e.label),1),e.closable?(K(),Ne(s,{key:0,icon:e.faClose,class:"mobile-popout-menu-item__icon",onClick:t[0]||(t[0]=a=>e.$emit("close"))},null,8,["icon"])):ht("",!0)])}const Oc=Oe(w4,[["render",I4]]),x4=xe({components:{MobilePopoutMenuItem:Oc},name:"MobileDocumentTabItem",emits:{activate:()=>!0,close:()=>!0},props:{label:{type:String,required:!0},dirty:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},setup(){return{faMicrochip:$s}}});function E4(e,t,n,o,i,r){const s=be("mobile-popout-menu-item");return K(),Ne(s,{label:`${e.label}${e.dirty?"*":""}`,icon:e.faMicrochip,active:e.active,onClick:t[0]||(t[0]=a=>e.$emit("activate")),onClose:t[1]||(t[1]=a=>e.$emit("close"))},null,8,["label","icon","active"])}const O4=Oe(x4,[["render",E4]]),k4=xe({components:{Icon:Wt},name:"MobileHeader",emits:{select:()=>!0,open:()=>!0},props:{documentName:{type:String,required:!0},documentCount:{type:Number,default:1}},setup(){return{faBars:Cf,faPlusSquare:Mv}}});const $4={class:"mobile-header"},P4={class:"mobile-header__heading"};function D4(e,t,n,o,i,r){const s=be("icon");return K(),fe("div",$4,[_e("div",{class:"mobile-header__button",onClick:t[0]||(t[0]=a=>e.$emit("open"))},[de(s,{icon:e.faBars},null,8,["icon"])]),_e("div",P4,[_e("span",{class:"mobile-header__document-name",onClick:t[1]||(t[1]=a=>e.$emit("select"))},ut(e.documentName),1),e.documentCount>1?(K(),fe("span",{key:0,class:"mobile-header__badge",onClick:t[2]||(t[2]=a=>e.$emit("select"))},ut(e.documentCount),1)):ht("",!0)])])}const z4=Oe(k4,[["render",D4]]),A4=xe({name:"MobilePopoutMenu",props:{modelValue:{type:Boolean,required:!0}}});const T4={key:0,class:"mobile-popout-menu"},M4={class:"mobile-popout-menu__content"};function B4(e,t,n,o,i,r){return K(),Ne(Xo,{name:"mobile-popout-menu"},{default:Fe(()=>[e.modelValue?(K(),fe("div",T4,[_e("div",{class:"mobile-popout-menu__overlay",onClick:t[0]||(t[0]=Wn(s=>e.$emit("update:modelValue",!1),["self"]))},[_e("div",M4,[dt(e.$slots,"default")])])])):ht("",!0)]),_:3})}const L4=Oe(A4,[["render",B4]]),N4=xe({name:"MobilePullout",props:{modelValue:{type:Boolean,required:!0}}});const R4={key:0,class:"mobile-pullout"},F4={class:"mobile-pullout__content"};function j4(e,t,n,o,i,r){return K(),Ne(Xo,{name:"mobile-pullout"},{default:Fe(()=>[e.modelValue?(K(),fe("div",R4,[_e("div",{class:"mobile-pullout__overlay",onClick:t[0]||(t[0]=s=>e.$emit("update:modelValue",!1))}),_e("div",F4,[dt(e.$slots,"default")])])):ht("",!0)]),_:3})}const V4=Oe(N4,[["render",j4]]),U4=xe({name:"MobilePulloutHeading",components:{Icon:Wt},props:{version:{type:String,default:"1.0.0"}},emits:{close:()=>!0},setup(){return{faClose:yo}}}),H4="/web/assets/logo-a680abc5.svg";const W4={class:"mobile-pullout-heading"},Z4=_e("img",{src:H4,class:"mobile-pullout-heading__logo"},null,-1),q4={class:"mobile-pullout-heading__brand"},G4=_e("div",{class:"mobile-pullout-heading__title"}," Aristotle ",-1),K4={class:"mobile-pullout-heading__subtitle"};function X4(e,t,n,o,i,r){const s=be("icon");return K(),fe("div",W4,[Z4,_e("div",q4,[G4,_e("div",K4," v"+ut(e.version),1)]),de(s,{icon:e.faClose,class:"mobile-pullout-heading__close",onClick:t[0]||(t[0]=a=>e.$emit("close"))},null,8,["icon"])])}const Y4=Oe(U4,[["render",X4]]),J4=xe({name:"TabItem",components:{Icon:Wt},props:{active:{type:Boolean,default:!1},label:{type:String,required:!0},dirty:{type:Boolean,default:!1}},setup(){return{faClose:yo,faCodeBranch:Gl}}});const Q4={class:"tab-item__icon"},ey={class:"tab-item__label"};function ty(e,t,n,o,i,r){const s=be("icon");return K(),fe("div",{class:Je([{"tab-item--active":e.active,"tab-item--dirty":e.dirty},"tab-item"]),onMousedown:t[1]||(t[1]=a=>e.$emit("activate")),onTouchstart:t[2]||(t[2]=a=>e.$emit("activate"))},[_e("div",Q4,[de(s,{icon:e.faCodeBranch},null,8,["icon"])]),_e("div",ey,ut(e.label)+ut(e.dirty?"*":""),1),_e("div",{class:"tab-item__icon tab-item__icon--close",onClick:t[0]||(t[0]=Wn(a=>e.$emit("close"),["stop"]))},[de(s,{icon:e.faClose},null,8,["icon"])])],34)}const ny=Oe(J4,[["render",ty]]),oy=xe({name:"TabHost"});const iy={class:"tab-host"},ry={class:"tab-host__list"};function sy(e,t,n,o,i,r){return K(),fe("div",iy,[_e("div",ry,[dt(e.$slots,"tabs")]),dt(e.$slots,"default")])}const ay=Oe(oy,[["render",sy]]),ly=xe({name:"Theme",props:{dark:{type:Boolean,default:!1}}});function cy(e,t,n,o,i,r){return K(),fe("div",{class:Je(["theme",{"theme--dark":e.dark}])},[dt(e.$slots,"default")],2)}const uy=Oe(ly,[["render",cy]]);function dy(){var r;const e=Co(),t=e.activeDocumentId!==null,n=Object.keys(e.documents),o=(r=e.activeDocument)==null?void 0:r.store(),i=[{label:"&New Circuit",accelerator:"CommandOrControl+N",click:e.newDocument},{type:"separator"},{label:"&Open Circuit",accelerator:"CommandOrControl+O",click:e.selectDocument},{label:"Open &Integrated Circuit",accelerator:"CommandOrControl+Shift+O",click:e.selectDocument},{type:"separator"},{label:"Save",enabled:t,accelerator:"CommandOrControl+S",click:()=>e.saveActiveDocument()},{label:"Save As...",enabled:t,accelerator:"CommandOrControl+Shift+S",click:()=>e.saveActiveDocument(!0)},{label:"Save All",enabled:t,accelerator:"CommandOrControl+Shift+A",click:()=>console.log("root store save all")},{type:"separator"},{label:"Print",enabled:t,accelerator:"CommandOrControl+P",click:()=>o==null?void 0:o.print()},{type:"separator"},{label:"Export...",enabled:t,submenu:[{label:"Integrated Circuit",accelerator:"CommandOrControl+Shift+E",click:()=>console.log("export IC")},{label:"PNG Image",accelerator:"CommandOrControl+Shift+I",click:()=>o==null?void 0:o.createImage()}]},{type:"separator"},{label:"Preferences",submenu:[{label:"Global Preferences",accelerator:"CommandOrControl+,",click:()=>console.log("global prefs")},{label:"Document Preferences",accelerator:"CommandOrControl+Shift+,",click:()=>console.log("doc prefs")}]}];if(Object.keys(e.documents).length>1){const s=[{label:"Previous File",accelerator:"Ctrl+Shift+Tab",click:()=>e.switchDocument(-1)},{label:"Next File",accelerator:"Ctrl+Tab",click:()=>e.switchDocument(1)},{type:"separator"}];for(let a=0;a<n.length;a++)s.push({type:"checkbox",label:e.documents[n[a]].displayName,checked:e.activeDocumentId===n[a],click:()=>e.activateDocument(n[a])});i.push({type:"separator"}),i.push({label:"Switch to...",submenu:s})}return i.push({type:"separator"}),i.push({label:"Close Document",accelerator:"CmdOrCtrl+W",enabled:t,click:()=>e.closeDocument(e.activeDocumentId)}),i.push({type:"separator"}),i.push({label:"Exit",accelerator:"CmdOrCtrl+Q",click:()=>window.close()}),i}function fy(e){const t=e(),n=[];let o=!1;for(let r=1;r<=8;r++){const s=r*25/100,a=t.zoomLevel===s;o=o||a,n.push({type:"checkbox",checked:a,label:`${s*100}%`,accelerator:s===1?"CommandOrControl+0":void 0,click:()=>t.setZoom({zoom:s})})}return o||n.unshift({type:"checkbox",checked:!0,label:"Custom"}),[{label:"&Zoom In",accelerator:"CommandOrControl+=",enabled:t.zoomLevel<2,click:()=>t.incrementZoom(1)},{label:"&Zoom Out",accelerator:"CommandOrControl+-",enabled:t.zoomLevel>.1,click:()=>t.incrementZoom(-1)},{label:"&Zoom...",submenu:n},{type:"separator"},{label:"&Pan to Center",accelerator:"CommandOrControl+;",click:t.panToCenter},{type:"separator"}].concat(mc(e))}function hy(){const e=Co();if(e.isDialogOpen)return[{label:"File",submenu:[{label:"Exit"}]}];const t=[{label:"File",submenu:dy()}];return e.activeDocument&&(t.push({label:"Edit",submenu:pc(e.activeDocument.store)}),t.push({label:"View",submenu:fy(e.activeDocument.store).concat([{type:"separator"},{type:"checkbox",click:e.toggleFullscreen,checked:e.isFullscreen,accelerator:"F11",label:"Fullscreen"}])})),t}const py=xe({name:"App",components:{BuilderView:jh,Document:d2,Oscilloscope:rv,MainView:_4,MobileDocumentTabItem:O4,MobileHeader:z4,MobilePopoutMenu:L4,MobilePopoutMenuItem:Oc,MobilePreferences:N2,MobilePullout:V4,MobilePulloutHeading:Y4,StatusBar:xv,TabItem:ny,TabHost:ay,Theme:uy,Toolbar:Jv,Toolbox:p4},setup(){const e=Co(),{experience:t}=Zo(wo()),{activeDocument:n,activeDocumentId:o,documents:i,hasOpenDocuments:r,isFullscreen:s,isDialogOpen:a,isBuilderOpen:l,isToolboxOpen:u,isSettingsOpen:h,isDocumentSelectOpen:m}=Zo(e),g=He(!1);r.value||e.openTestDocuments(),Vo(()=>window.api.setApplicationMenu(hy())),Vo(()=>{document.title=e.activeDocument?`${e.activeDocument.displayName} - Aristotle`:"Aristotle"}),window.api.onBeforeClose(e.closeAll),window.api.onOpenFile(e.openDocumentFromPath),sn(()=>{document.addEventListener("keydown",b),document.addEventListener("dragover",d),document.addEventListener("dragleave",f),document.addEventListener("drop",v)}),Gn(()=>{document.removeEventListener("keydown",b),document.removeEventListener("dragover",d),document.removeEventListener("dragleave",f),document.removeEventListener("drop",v)});function d(S){S.stopPropagation(),S.preventDefault(),S.dataTransfer&&(S.dataTransfer.dropEffect="copy"),g.value=!0}async function v(S){var T;S.stopPropagation(),S.preventDefault();const P=(T=S.dataTransfer)==null?void 0:T.files;if(P)for(let D=0;D<P.length;D++)await e.openDocumentFromPath(P[D].path);g.value=!1}function f(){g.value=!1}function b(S){S.ctrlKey&&S.key.toUpperCase()==="R"&&window.location.reload()}function y(){}return{faFile:Kl,activeDocument:n,activeDocumentId:o,documents:i,experience:t,hasOpenDocuments:r,isDropping:g,isFullscreen:s,isDialogOpen:a,isBuilderOpen:l,isToolboxOpen:u,isSettingsOpen:h,isDocumentSelectOpen:m,onContextMenu:y,toggleFullscreen:e.toggleFullscreen,activateDocument:e.activateDocument,closeDocument:e.closeDocument,switchDocument:e.switchDocument,openIntegratedCircuit:e.openIntegratedCircuit}},data(){return{horizontal:!1,lastPosition:0,toolboxWidth:20,oscilloscopeHeight:80,isMobile:x2}}});const my={key:1};function gy(e,t,n,o,i,r){const s=be("mobile-header"),a=be("mobile-pullout-heading"),l=be("mobile-preferences"),u=be("mobile-pullout"),h=be("mobile-document-tab-item"),m=be("mobile-popout-menu"),g=be("toolbar"),d=be("toolbox"),v=be("tab-item"),f=be("document"),b=be("tab-host"),y=be("oscilloscope"),S=be("status-bar"),P=be("main-view"),T=be("builder-view"),D=be("theme");return K(),Ne(D,{dark:e.experience.darkMode.value},{default:Fe(()=>[_e("div",{class:Je(["app__dropzone",{"app__dropzone--active":e.isDropping}])},null,2),e.activeDocumentId&&e.activeDocument?(K(),Ne(P,{key:0,"is-blurred":e.isDialogOpen,onContextmenu:e.onContextMenu},{top:Fe(()=>[e.isMobile?(K(),fe(Ye,{key:0},[de(s,{onSelect:t[0]||(t[0]=X=>e.isDocumentSelectOpen=!0),onOpen:t[1]||(t[1]=X=>e.isSettingsOpen=!0),"document-name":e.activeDocument.displayName,"document-count":3},null,8,["document-name"]),de(u,{modelValue:e.isSettingsOpen,"onUpdate:modelValue":t[3]||(t[3]=X=>e.isSettingsOpen=X)},{default:Fe(()=>[de(a,{onClose:t[2]||(t[2]=X=>e.isSettingsOpen=!1)}),de(l)]),_:1},8,["modelValue"]),de(m,{modelValue:e.isDocumentSelectOpen,"onUpdate:modelValue":t[4]||(t[4]=X=>e.isDocumentSelectOpen=X)},{default:Fe(()=>[(K(!0),fe(Ye,null,wt(e.documents,(X,F)=>(K(),Ne(h,{key:F,label:X.displayName,dirty:X.store().isDirty,active:e.activeDocumentId===F,onActivate:L=>e.activateDocument(F),onClose:L=>e.closeDocument(F)},null,8,["label","dirty","active","onActivate","onClose"]))),128))]),_:1},8,["modelValue"])],64)):ht("",!0),(K(),Ne(g,{key:e.activeDocumentId,store:e.activeDocument.store},null,8,["store"])),de(d,{"is-open":e.isToolboxOpen,store:e.activeDocument.store},null,8,["is-open","store"])]),middle:Fe(()=>[de(b,null,bs({default:Fe(()=>[(K(),Ne(f,{key:e.activeDocumentId,store:e.activeDocument.store,onSwitch:e.switchDocument,onOpenIntegratedCircuit:e.openIntegratedCircuit},null,8,["store","onSwitch","onOpenIntegratedCircuit"]))]),_:2},[e.isMobile?void 0:{name:"tabs",fn:Fe(()=>[(K(!0),fe(Ye,null,wt(e.documents,(X,F)=>(K(),Ne(v,{key:F,label:X.displayName,active:e.activeDocumentId===F,dirty:X.store().isDirty,onActivate:L=>e.activateDocument(F),onClose:L=>e.closeDocument(F)},null,8,["label","active","dirty","onActivate","onClose"]))),128))]),key:"0"}]),1024)]),bottom:Fe(()=>[(K(),Ne(y,{key:e.activeDocumentId,store:e.activeDocument.store},null,8,["store"])),e.isMobile?ht("",!0):(K(),Ne(S,{key:e.activeDocumentId,store:e.activeDocument.store,"is-fullscreen":e.isFullscreen,onFullscreen:e.toggleFullscreen},null,8,["store","is-fullscreen","onFullscreen"]))]),_:1},8,["is-blurred","onContextmenu"])):(K(),fe("div",my," no documents open "+ut(e.isDropping),1)),e.isBuilderOpen?(K(),Ne(T,{key:2})):ht("",!0)]),_:1},8,["dark"])}const vy=Oe(py,[["render",gy]]);window.api||(window.api={showContextMenu(){},setApplicationMenu(){},showOpenFileDialog(){return[]},showSaveFileDialog(){return""},showMessageBox(){return 0},beep(){},quit(){},copy(){},paste(){return""},onBeforeClose(){},onOpenFile(){},openFile(){return""},saveFile(){},setFullscreen(){},getFilePaths(){return[]},getDefaultSavePath(){return""}});ff(vy).use(mf()).mount("#app");
