{"version":3,"file":"js/index-legacy.4744faa3.js","mappings":"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","sources":["webpack://aristotle/./node_modules/vue-loader/dist/templateLoader.js","webpack://aristotle/./src/types/enums/SnapMode.ts","webpack://aristotle/./src/store/document/geometry/boundaries.ts","webpack://aristotle/./node_modules/vue-loader/dist/index.js","webpack://aristotle/./src/components/interactive/Resizable.vue","webpack://aristotle/./src/components/interactive/Draggable.vue","webpack://aristotle/./src/components/Wire.vue","webpack://aristotle/./src/types/enums/Direction.ts","webpack://aristotle/./src/store/document/geometry/rotate.ts","webpack://aristotle/./src/store/document/geometry/wire.ts","webpack://aristotle/./src/menus/submenus/edit.ts","webpack://aristotle/./src/menus/submenus/grid.ts","webpack://aristotle/./src/menus/context/editor.ts","webpack://aristotle/./src/containers/Connection.vue","webpack://aristotle/./src/components/port/PortHandle.vue","webpack://aristotle/./src/components/item/Freeport.vue","webpack://aristotle/./src/components/item/elements/InputNode.vue","webpack://aristotle/./src/components/port/PortWire.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/CustomCircuit/CustomCircuitPort.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/CustomCircuit/CustomCircuitPortZone.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/CustomCircuit/CustomCircuit.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/DigitDisplay.vue","webpack://aristotle/./src/components/item/elements/IntegratedCircuit.vue","webpack://aristotle/./src/components/item/elements/gates/And.vue","webpack://aristotle/./src/components/item/elements/gates/Or.vue","webpack://aristotle/./src/components/item/elements/gates/Nor.vue","webpack://aristotle/./src/components/item/elements/gates/Buffer.vue","webpack://aristotle/./src/components/item/elements/gates/Not.vue","webpack://aristotle/./src/components/item/elements/gates/Nand.vue","webpack://aristotle/./src/components/item/elements/gates/Xnor.vue","webpack://aristotle/./src/components/item/elements/gates/Xor.vue","webpack://aristotle/./src/components/item/elements/LogicGate.vue","webpack://aristotle/./src/components/item/elements/outputs/Lightbulb.vue","webpack://aristotle/./src/components/item/elements/OutputNode.vue","webpack://aristotle/./src/types/enums/ItemType.ts","webpack://aristotle/./src/types/enums/ItemSubtype.ts","webpack://aristotle/./src/components/item/CircuitComponent.vue","webpack://aristotle/./src/components/Icon.vue","webpack://aristotle/./src/components/item/Properties.vue","webpack://aristotle/./src/components/port/PortPivot.vue","webpack://aristotle/./src/types/enums/PortType.ts","webpack://aristotle/./src/containers/PortItem.vue","webpack://aristotle/./src/circuit/types/Connection.ts","webpack://aristotle/./src/circuit/types/LogicValue.ts","webpack://aristotle/./src/circuit/base/CircuitNode.ts","webpack://aristotle/./src/circuit/base/InputNode.ts","webpack://aristotle/./src/circuit/base/OutputNode.ts","webpack://aristotle/./src/circuit/base/Circuit.ts","webpack://aristotle/./src/circuit/gates/Nor.ts","webpack://aristotle/./src/circuit/gates/Or.ts","webpack://aristotle/./src/circuit/gates/Buffer.ts","webpack://aristotle/./src/services/BinaryWaveService.ts","webpack://aristotle/./src/services/ClockService.ts","webpack://aristotle/./src/services/OscillationService.ts","webpack://aristotle/./src/circuit/gates/And.ts","webpack://aristotle/./src/circuit/gates/Nand.ts","webpack://aristotle/./src/circuit/gates/Not.ts","webpack://aristotle/./src/utils/circuitNodeMapper.ts","webpack://aristotle/./src/services/SimulationService.ts","webpack://aristotle/./src/store/document/state.ts","webpack://aristotle/./src/utils/idMapper.ts","webpack://aristotle/./src/store/document/actions/clipboard.ts","webpack://aristotle/./src/store/document/actions/connection.ts","webpack://aristotle/./src/store/document/actions/editor.ts","webpack://aristotle/./src/factories/itemFactory.ts","webpack://aristotle/./src/factories/portFactory.ts","webpack://aristotle/./src/store/document/actions/freeport.ts","webpack://aristotle/./src/store/document/actions/grouping.ts","webpack://aristotle/./src/utils/fromDocumentToEditorCoordinates.ts","webpack://aristotle/./src/store/document/actions/item.ts","webpack://aristotle/./src/store/document/actions/panning.ts","webpack://aristotle/./src/utils/getConnectionChain.ts","webpack://aristotle/./src/store/document/actions/port.ts","webpack://aristotle/./src/store/document/actions/positioning.ts","webpack://aristotle/./src/store/document/geometry/rotation.ts","webpack://aristotle/./src/store/document/actions/rotation.ts","webpack://aristotle/./src/store/document/actions/selection.ts","webpack://aristotle/./src/store/document/actions/simulation.ts","webpack://aristotle/./src/store/document/actions/sizing.ts","webpack://aristotle/./src/store/document/actions/snapping.ts","webpack://aristotle/./src/store/document/actions/undoRedo.ts","webpack://aristotle/./src/utils/sortByZIndex.ts","webpack://aristotle/./src/store/document/actions/zIndex.ts","webpack://aristotle/./src/store/document/actions/zooming.ts","webpack://aristotle/./src/store/document/index.ts","webpack://aristotle/./src/factories/integratedCircuitFactory.ts","webpack://aristotle/./src/services/FileService.ts","webpack://aristotle/./src/store/integratedCircuit.ts","webpack://aristotle/./src/utils/getFileName.ts","webpack://aristotle/./src/store/root.ts","webpack://aristotle/./src/containers/Item.vue","webpack://aristotle/./src/components/editor/Selector.vue","webpack://aristotle/./src/components/editor/Editor.vue","webpack://aristotle/./src/components/Group.vue","webpack://aristotle/./src/utils/printing.ts","webpack://aristotle/./src/containers/Document.vue","webpack://aristotle/./src/components/toolbar/ToolbarButton.vue","webpack://aristotle/./src/components/toolbar/ToolbarSeparator.vue","webpack://aristotle/./src/components/layout/ScrollFade.vue","webpack://aristotle/./src/containers/Toolbar.vue","webpack://aristotle/./src/components/toolbox/ToolboxItem.vue","webpack://aristotle/./src/components/toolbox/ToolboxLayout.vue","webpack://aristotle/./src/factories/inputFactory.ts","webpack://aristotle/./src/factories/clockFactory.ts","webpack://aristotle/./src/factories/digitDisplayFactory.ts","webpack://aristotle/./src/factories/lightbulbFactory.ts","webpack://aristotle/./src/factories/logicGateFactory.ts","webpack://aristotle/./src/factories/index.ts","webpack://aristotle/./src/containers/Toolbox.vue","webpack://aristotle/./src/components/tab/TabItem.vue","webpack://aristotle/./src/components/tab/TabHost.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeTimeline.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeTitleBar.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeViewer.vue","webpack://aristotle/./src/containers/Oscilloscope.vue","webpack://aristotle/./src/components/statusbar/StatusBarButton.vue","webpack://aristotle/./src/components/statusbar/StatusBarViewer.vue","webpack://aristotle/./src/components/statusbar/StatusBarZoom.vue","webpack://aristotle/./src/containers/StatusBar.vue","webpack://aristotle/./src/menus/submenus/file.ts","webpack://aristotle/./src/menus/submenus/view.ts","webpack://aristotle/./src/menus/index.ts","webpack://aristotle/./src/components/layout/MainView.vue","webpack://aristotle/./src/utils/isMobile.ts","webpack://aristotle/./src/components/builder/BuilderEditableLabel.vue","webpack://aristotle/./src/components/builder/BuilderDropZone.vue","webpack://aristotle/./src/components/builder/Builder.vue","webpack://aristotle/./src/components/modal/Modal.vue","webpack://aristotle/./src/components/modal/ModalButton.vue","webpack://aristotle/./src/views/BuilderView.vue","webpack://aristotle/./src/App.vue","webpack://aristotle/./src/main.ts","webpack://aristotle/webpack/bootstrap","webpack://aristotle/webpack/runtime/chunk loaded","webpack://aristotle/webpack/runtime/compat get default export","webpack://aristotle/webpack/runtime/define property getters","webpack://aristotle/webpack/runtime/global","webpack://aristotle/webpack/runtime/hasOwnProperty shorthand","webpack://aristotle/webpack/runtime/make namespace object","webpack://aristotle/webpack/runtime/node module decorator","webpack://aristotle/webpack/runtime/jsonp chunk loading","webpack://aristotle/webpack/startup"],"sourcesContent":["import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, withCtx as _withCtx, createSlots as _createSlots, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { key: 1 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_toolbar = _resolveComponent(\"toolbar\")!\n  const _component_toolbox = _resolveComponent(\"toolbox\")!\n  const _component_tab_item = _resolveComponent(\"tab-item\")!\n  const _component_document = _resolveComponent(\"document\")!\n  const _component_tab_host = _resolveComponent(\"tab-host\")!\n  const _component_oscilloscope = _resolveComponent(\"oscilloscope\")!\n  const _component_status_bar = _resolveComponent(\"status-bar\")!\n  const _component_main_view = _resolveComponent(\"main-view\")!\n  const _component_builder_view = _resolveComponent(\"builder-view\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"app__dropzone\", {\n      'app__dropzone--active': _ctx.isDropping\n    }])\n    }, null, 2),\n    (_ctx.activeDocumentId && _ctx.activeDocument)\n      ? (_openBlock(), _createBlock(_component_main_view, {\n          key: 0,\n          \"is-blurred\": _ctx.isDialogOpen,\n          onContextmenu: _ctx.onContextMenu\n        }, {\n          top: _withCtx(() => [\n            (_ctx.isMobile)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"mobile bar\"))\n              : _createCommentVNode(\"\", true),\n            (_openBlock(), _createBlock(_component_toolbar, {\n              key: _ctx.activeDocumentId,\n              store: _ctx.activeDocument.store\n            }, null, 8, [\"store\"])),\n            _createVNode(_component_toolbox, {\n              \"is-open\": _ctx.isToolboxOpen,\n              store: _ctx.activeDocument.store\n            }, null, 8, [\"is-open\", \"store\"])\n          ]),\n          middle: _withCtx(() => [\n            _createVNode(_component_tab_host, null, _createSlots({\n              default: _withCtx(() => [\n                (_openBlock(), _createBlock(_component_document, {\n                  key: _ctx.activeDocumentId,\n                  store: _ctx.activeDocument.store,\n                  onSwitch: _ctx.switchDocument,\n                  onOpenIntegratedCircuit: _ctx.openIntegratedCircuit\n                }, null, 8, [\"store\", \"onSwitch\", \"onOpenIntegratedCircuit\"]))\n              ]),\n              _: 2\n            }, [\n              (!_ctx.isMobile)\n                ? {\n                    name: \"tabs\",\n                    fn: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.documents, (document, id) => {\n                        return (_openBlock(), _createBlock(_component_tab_item, {\n                          key: id,\n                          label: document.displayName,\n                          active: _ctx.activeDocumentId === id,\n                          dirty: document.store().isDirty,\n                          onActivate: ($event: any) => (_ctx.activateDocument(id.toString())),\n                          onClose: ($event: any) => (_ctx.closeDocument(id.toString()))\n                        }, null, 8, [\"label\", \"active\", \"dirty\", \"onActivate\", \"onClose\"]))\n                      }), 128))\n                    ])\n                  }\n                : undefined\n            ]), 1024)\n          ]),\n          bottom: _withCtx(() => [\n            (_openBlock(), _createBlock(_component_oscilloscope, {\n              key: _ctx.activeDocumentId,\n              store: _ctx.activeDocument.store\n            }, null, 8, [\"store\"])),\n            (!_ctx.isMobile)\n              ? (_openBlock(), _createBlock(_component_status_bar, {\n                  key: _ctx.activeDocumentId,\n                  store: _ctx.activeDocument.store,\n                  \"is-fullscreen\": _ctx.isFullscreen,\n                  onFullscreen: _ctx.toggleFullscreen\n                }, null, 8, [\"store\", \"is-fullscreen\", \"onFullscreen\"]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }, 8, [\"is-blurred\", \"onContextmenu\"]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \" no documents open \" + _toDisplayString(_ctx.isDropping), 1)),\n    (_ctx.isBuilderOpen)\n      ? (_openBlock(), _createBlock(_component_builder_view, { key: 2 }))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","enum SnapMode {\n  Outer,\n  Inner,\n  Radial,\n  Grid,\n  None\n}\n\nexport default SnapMode\n","import SnapMode from \"@/types/enums/SnapMode\"\n\n/**\n * Rounds x to the nearest n.\n */\nfunction roundToNth (x: number, n: number) {\n  return Math.round(x / n) * n\n}\n\n/**\n * Returns true if a is within the radial distance of b.\n */\nfunction isInNeighborhood (a: Point, b: Point, radius: number): boolean {\n  return Math.hypot(a.x - b.x, a.y - b.y) <= radius\n}\n\n/**\n * Returns the delta of rounding the top-left point of the given bounding box to the nearest distance.\n * This will achieve the effect of \"snapping to grid.\"\n *\n * @param a - the bounding box of the element moving\n * @param distance - the grid size\n */\nfunction getGridSnapPosition (a: BoundingBox, distance: number): Point {\n  return {\n    x: roundToNth(a.left, distance) - a.left,\n    y: roundToNth(a.top, distance) - a.top\n  }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the radial `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getRadialSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n\n    if (isInNeighborhood({ x: b.left, y: b.top }, { x: a.left, y: a.top }, distance)) {\n      return {\n        x: b.left - a.left,\n        y: b.top - a.top\n      }\n    }\n  }\n\n  return { x: 0, y: 0 }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the linear `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getOuterSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  const offset: Point = { x: 0, y: 0 }\n\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n    const ts = Math.abs(b.top - a.bottom) <= distance\n    const bs = Math.abs(b.bottom - a.top) <= distance\n    const ls = Math.abs(b.left - a.right) <= distance\n    const rs = Math.abs(b.right - a.left) <= distance\n\n    if (\n      (a.left <= b.right && a.left >= b.left) ||\n      (a.right >= b.left && a.right <= b.right) ||\n      (a.left <= b.left && a.right >= b.right)\n    ) {\n      // a is within the y-axis boundaries\n      if (ts) offset.y = b.top - a.bottom\n      if (bs) offset.y = b.bottom - a.top\n    }\n\n    if (\n      (a.top <= b.bottom && a.top >= b.top) ||\n      (a.bottom >= b.top && a.bottom <= b.bottom) ||\n      (a.top <= b.top && a.bottom >= b.bottom)\n    ) {\n      // a is within the x-axis boundaries\n      if (ls) offset.x = b.left - a.right\n      if (rs) offset.x = b.right - a.left\n    }\n  }\n\n  return offset\n}\n\nfunction getSnapOffset (boundingBoxes: BoundingBox[], boundingBox: BoundingBox, snapMode: SnapMode, distance: number) {\n  switch (snapMode) {\n    case SnapMode.Radial:\n      return getRadialSnapOffset(boundingBoxes, boundingBox, distance)\n    case SnapMode.Grid:\n      return getGridSnapPosition(boundingBox, distance)\n    case SnapMode.Outer:\n    default:\n      return getOuterSnapOffset(boundingBoxes, boundingBox, distance)\n  }\n}\n\n/**\n * Returns true if line a intersects with line B.\n *\n * @param a1 - first point of a\n * @param a2 - second point of a\n * @param b1 - first point of b\n * @param b2 - second point of b\n */\nfunction hasLinearIntersection (a1: Point, a2: Point, b1: Point, b2: Point): boolean {\n  const ccw = (a: Point, b: Point, c: Point) => {\n    return (c.y-a.y) * (b.x-a.x) > (b.y-a.y) * (c.x-a.x)\n  }\n\n  return ccw(a1, b1, b2) !== ccw(a2, b1, b2) && ccw(a1, a2, b1) !== ccw(a1, a2, b2)\n}\n\n/**\n * Returns true if the overlaps with the given bounding box.\n *\n * @param a1 - first point of the line\n * @param a2 - second point of the line\n * @param boundingBox - the rectange\n */\nfunction isLineIntersectingRectangle (a1: Point, a2: Point, boundingBox: BoundingBox): boolean {\n  const b1 = { x: boundingBox.left, y: boundingBox.top }\n  const b2 = { x: boundingBox.right, y: boundingBox.top }\n  const b3 = { x: boundingBox.right, y: boundingBox.bottom }\n  const b4 = { x: boundingBox.left, y: boundingBox.bottom }\n\n  return hasLinearIntersection(a1, a2, b1, b2)\n    || hasLinearIntersection(a1, a2, b2, b3)\n    || hasLinearIntersection(a1, a2, b3, b4)\n    || hasLinearIntersection(a1, a2, b4, b1)\n}\n\n/**\n * Returns true if a and b intersect.\n *\n * @param a\n * @param b\n * @returns boolean result of intersection\n */\nfunction hasIntersection (a: BoundingBox, b: BoundingBox): boolean {\n  if (a.left >= b.right || b.left >= a.right) {\n    // one rect is on left side of other\n    return false\n  }\n\n  if (a.top >= b.bottom || b.top >= a.bottom) {\n    // one rect is above other\n    return false\n  }\n\n  return true\n}\n\n/**\n * Scales the bounding box by the given scalar.\n *\n * @param box\n * @param scale\n */\nfunction scaleBoundingBox (box: BoundingBox, scale: number): BoundingBox {\n  return {\n    left: box.left * scale,\n    top: box.top * scale,\n    bottom: box.bottom * scale,\n    right: box.right * scale\n  }\n}\n\n/**\n * Returns true if the given bounding box is one- or two-dimensional.\n */\nfunction isOneOrTwoDimensional (box: BoundingBox) {\n  return box.left !== box.right || box.top !== box.bottom\n}\n\n/**\n * Returns a list of one infinitely-horizontal and one infinitely-vertical boundaries.\n *\n * @param point - the point to compute boundaries for\n * @returns list of bounding boxes\n */\nfunction getLinearBoundaries (point: Point): BoundingBox[] {\n  return [\n    {\n      left: point.x,\n      right: point.x,\n      top: -Infinity,\n      bottom: Infinity\n    },\n    {\n      left: -Infinity,\n      right: Infinity,\n      top: point.y,\n      bottom: point.y\n    }\n  ]\n}\n\n/**\n * Returns a point as a boundary.\n *\n * @param point\n * @returns point boundary\n */\nfunction getPointBoundary (point: Point): BoundingBox {\n  return {\n    left: point.x,\n    top: point.y,\n    right: point.x,\n    bottom: point.y\n  }\n}\n\n/**\n * Computes the bounding box of the given item.\n *\n * @param item\n * @returns computed bounding box\n */\nfunction getBoundingBox (position: Point, rotation: number, width: number, height: number): BoundingBox {\n  if (rotation % 2 === 0) {\n    // item is right side up or upside down\n    return {\n      left: position.x,\n      top: position.y,\n      bottom: height + position.y,\n      right: width + position.x\n    }\n  }\n\n  // item is rotated at a 90 degree angle (CW or CCW)\n  const midX = position.x + (width / 2)\n  const midY = position.y + (height / 2)\n\n  return {\n    left: midX - (height / 2),\n    top: midY - (width / 2),\n    right: midX + (height / 2),\n    bottom: midY + (width / 2)\n  }\n}\n\n/**\n * Computes the group bounding box for the given list of bounding boxes.\n *\n * @param boundingBoxes - list of bounding boxes contained\n * @returns computed bounding box\n */\nfunction getGroupBoundingBox (boundingBoxes: BoundingBox[]): BoundingBox {\n  return boundingBoxes.reduce((rect, boundingBox) => ({\n    left: Math.min(rect.left, boundingBox.left),\n    top: Math.min(rect.top, boundingBox.top),\n    right: Math.max(rect.right, boundingBox.right),\n    bottom: Math.max(rect.bottom, boundingBox.bottom)\n  }), {\n    left: Infinity,\n    top: Infinity,\n    right: 0,\n    bottom: 0\n  })\n}\n\n/**\n * Returns the center point of the given bounding box.\n */\nfunction getBoundingBoxMidpoint (boundingBox: BoundingBox): Point {\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n\n  return {\n    x: width / 2,\n    y: height / 2\n  }\n}\n\n/**\n * Given parent and child bounding boxes, determines the screen point (top left) of the child centered in the parent.\n *\n * @param parentBox\n * @param childBox\n * @param factor - any factor to round by\n */\nfunction getCenteredScreenPoint (parentBox: BoundingBox, childBox: BoundingBox, factor: number): Point {\n  const parentMidpoint = getBoundingBoxMidpoint(parentBox)\n  const childWidth = childBox.right - childBox.left\n  const childHeight = childBox.bottom - childBox.top\n\n  return {\n    x: roundToNth(parentMidpoint.x - (childWidth / 2), factor),\n    y: roundToNth(parentMidpoint.y - (childHeight / 2), factor)\n  }\n}\n\n/**\n * Computes the minima or maxima between the given points.\n *\n * @param a\n * @param b\n * @param fn\n */\nfunction getExtremePoint (fn: 'min' | 'max', ...points: Point[]): Point {\n  const x = Math[fn](...points.map(({ x }) => x))\n  const y = Math[fn](...points.map(({ y }) => y))\n\n  return { x, y }\n}\n\nexport default {\n  isInNeighborhood,\n  getRadialSnapOffset,\n  getOuterSnapOffset,\n  getGridSnapPosition,\n  isLineIntersectingRectangle,\n  scaleBoundingBox,\n  isOneOrTwoDimensional,\n  getLinearBoundaries,\n  getPointBoundary,\n  hasIntersection,\n  getBoundingBox,\n  getGroupBoundingBox,\n  getBoundingBoxMidpoint,\n  getCenteredScreenPoint,\n  getSnapOffset,\n  getExtremePoint\n}\n","\nimport ResizeObserver from 'resize-observer-polyfill'\nimport { defineComponent, onMounted, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'Resizable',\n  emits: {\n    resize: (rect: DOMRect) => true\n  },\n  setup (props, { emit }) {\n    const resizable = ref<HTMLElement>()\n\n    /**\n     * Element resize event handler.\n     *\n     * @emits `resize` with the new DOMRect of the element\n     * @param {ResizeObserverEntry[]} targets - target element that has been resized\n     */\n    function onSizeChanged ([ target ]: ResizeObserverEntry[]) {\n      emit('resize', target.target.getBoundingClientRect())\n    }\n\n    const observer = new ResizeObserver(onSizeChanged)\n\n    onMounted(() => {\n      if (resizable.value) {\n        observer.observe(resizable.value)\n      }\n    })\n\n    return {\n      onSizeChanged,\n      resizable\n    }\n  }\n})\n","import { render } from \"./Resizable.vue?vue&type=template&id=649bf65f&ts=true\"\nimport script from \"./Resizable.vue?vue&type=script&lang=ts\"\nexport * from \"./Resizable.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Draggable.vue?vue&type=template&id=5b88e607&ts=true\"\nimport script from \"./Draggable.vue?vue&type=script&lang=ts\"\nexport * from \"./Draggable.vue?vue&type=script&lang=ts\"\n\nimport \"./Draggable.vue?vue&type=style&index=0&id=5b88e607&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Wire.vue?vue&type=template&id=4124d7de&ts=true\"\nimport script from \"./Wire.vue?vue&type=script&lang=ts\"\nexport * from \"./Wire.vue?vue&type=script&lang=ts\"\n\nimport \"./Wire.vue?vue&type=style&index=0&id=4124d7de&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum Direction {\n  Left = 0,\n  Top,\n  Right,\n  Bottom\n}\n\nexport default Direction\n","import Direction from '@/types/enums/Direction'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nexport default function rotate (rotation: Direction, additional: Direction = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n","import Direction from '@/types/enums/Direction'\nimport rotate from './rotate'\n\nconst WIRE_PADDING = 15\n\n/**\n * Renders the wire geometry for the given source and target ports.\n *\n * @param source\n * @param target\n */\nexport default function renderLayout (source: Port, target: Port): WireGeometry {\n  const a = source.position\n  const b = target.position\n  const { start, end } = getEndpoints(a, b)\n\n  if (start.x === end.x || start.y === end.y || end.x <= 1 && start.x <= 1 || end.y <= 1 && start.y <= 1) {\n    return computeStraightLine(start, end)\n  }\n\n  const sourceDirection = getPortDirection(source, a, b)\n  const targetDirection = getPortDirection(target, a, b)\n\n  return computeBezier(sourceDirection, targetDirection, start, end)\n}\n\n\nexport function computeStraightLine (a: Point, b: Point) {\n  return {\n    path: `M ${a.x},${a.y} L ${b.x},${b.y}`,\n    width: Math.abs(a.x - b.x) + WIRE_PADDING,\n    height: Math.abs(a.y - b.y) + WIRE_PADDING,\n    minX: -(WIRE_PADDING / 2),\n    minY: -(WIRE_PADDING / 2)\n  }\n}\n\n/**\n * Reverses the orientation of a FreePort by 180 degrees, if the dimension on an axis exceeds that of its wire's opposite end.\n * This gives the visual effect of \"pinching the wire\" so that weird, unnecessary curves aren't sticking out of FreePorts.\n *\n * @param {number} direction\n * @returns {number}\n */\nexport function inflectDirection (direction: number, a: Point, b: Point): Direction {\n  switch (direction) {\n    case Direction.Left:\n      return a.y > b.y ? Direction.Right : Direction.Left\n    case Direction.Top:\n      return a.x < b.x ? Direction.Bottom : Direction.Top\n    case Direction.Right:\n      return a.y > b.y ? Direction.Left : Direction.Right\n    case Direction.Bottom:\n      return a.x < b.x ? Direction.Top : Direction.Bottom\n    default:\n      return inflectDirection(rotate(direction), a, b) // normalize direction to [0,3] and try again\n  }\n}\n\n/**\n * Returns the wire direction for a given port.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {number}\n */\nexport function getPortDirection (port: Port, a: Point, b: Point) {\n  // the true direction needs to take into account inherent orientation + its rotation\n  // bezier index directions are one integer off (see computeBezier()) -- subtract by 1\n  let direction = rotate(port.orientation + port.rotation - 1)\n\n  if (port.isFreeport) {\n    // inflect direction for FreePorts to give the \"pinched\" appearance when dragged out of range\n    direction = inflectDirection(direction, a, b)\n\n    if (port.rotation % 4 === 1 || port.rotation % 4 === 2) {\n      direction = rotate(direction - 2)\n    }\n  }\n\n  return direction\n}\n\n/**\n * Updates the source and target endpoints such that the start and end are true.\n * This prevents translations or rotations from \"swapping\" the start and end points.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {object<{ start: Point, end: Point }>}\n */\nexport function getEndpoints (a: Point, b: Point): { start: Point, end: Point } {\n  if (a.x <= b.x) {\n    if (a.y <= b.y) {\n      // top left (a) to bottom right (b)\n      return {\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: Math.floor(b.x - a.x),\n          y: Math.floor(b.y - a.y)\n        }\n      }\n    }\n    // bottom left (a) to top right (b)\n    return {\n      start: {\n        x: 0,\n        y: Math.floor(a.y - b.y)\n      },\n      end: {\n        x: Math.floor(b.x - a.x),\n        y: 0\n      }\n    }\n  }\n\n  if (a.y <= b.y) {\n    // bottom left (b) to top right (a)\n    return {\n      start: {\n        x: Math.floor(a.x - b.x),\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: Math.floor(b.y - a.y)\n      }\n    }\n  }\n\n  // top left (b) to bottom right (a)\n  return {\n    start: {\n      x: Math.floor(a.x - b.x),\n      y: Math.floor(a.y - b.y)\n    },\n    end: {\n      x: 0,\n      y: 0\n    }\n  }\n}\n\n/**\n * Computes a Bezier SVG curve path with respect to given source and target directions and positions.\n *\n * @param {number} sourceDirection - the direction that the source is pointing to\n * @param {number} targetDirection - the direction that the target is pointing from\n * @param {Point} start - the source port position\n * @param {Point} end - the target port position\n */\nexport function computeBezier (sourceDirection: number, targetDirection: number, start: Point, end: Point): WireGeometry {\n  const x1 = start.x\n  const y1 = start.y\n  const x4 = end.x\n  const y4 = end.y\n\n  // TODO: change dx/dy to be more user-friendly\n  const dx = Math.max(Math.abs(x1 - x4) / 2, 10)\n  const dy = Math.max(Math.abs(y1 - y4) / 2, 10)\n\n  const x2 = [x1, x1 + dx, x1, x1 - dx][sourceDirection].toFixed(3)\n  const y2 = [y1 - dy, y1, y1 + dy, y1][sourceDirection].toFixed(3)\n  const x3 = [x4, x4 + dx, x4, x4 - dx][targetDirection].toFixed(3)\n  const y3 = [y4 - dy, y4, y4 + dy, y4][targetDirection].toFixed(3)\n\n  const path = [\n    'M', x1.toFixed(3), y1.toFixed(3),\n    'C', x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)\n  ].join(' ')\n\n  const toNumArr = (...n: Array<string | number>) => n.map(k => parseInt(k.toString(), 10))\n\n  const minX = Math.min(...toNumArr(x1, x2, x3, x4)) - WIRE_PADDING / 2\n  const maxX = Math.max(...toNumArr(x1, x2, x3, x4)) + WIRE_PADDING / 2\n  const minY = Math.min(...toNumArr(y1, y2, y3, y4)) - WIRE_PADDING / 2\n  const maxY = Math.max(...toNumArr(y1, y2, y3, y4)) + WIRE_PADDING / 2\n\n  const width = maxX - minX + WIRE_PADDING\n  const height = maxY - minY + WIRE_PADDING\n\n  return { width, height, path, minX, minY }\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function edit (useDocumentStore: DocumentStore, submenus: MenuItemConstructorOptions[] = []): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  let menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Undo',\n      enabled: store.canUndo,\n      accelerator: 'CommandOrControl+Z',\n      click: store.undo\n    },\n    { type: 'separator' },\n    {\n      role: 'cut',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'copy',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'paste',\n      enabled: store.hasSelection\n    },\n    {\n      label: 'Delete',\n      accelerator: 'Delete',\n      enabled: store.hasSelection,\n      click: store.deleteSelection\n    },\n    { type: 'separator' },\n    {\n      role: 'selectAll',\n      enabled: store.baseItems.length > 0\n    }\n  ]\n\n  if (store.selectedItemIds.length > 0) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Rotate',\n      submenu: [\n        {\n          label: 'Rotate 90 &CW',\n          accelerator: 'CmdOrCtrl+R',\n          click: () => store.rotate(1)\n        },\n        {\n          label: 'Rotate 90 CC&W',\n          accelerator: 'CmdOrCtrl+Shift+R',\n          click: () => store.rotate(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.hasSelection) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Bring to Front',\n      submenu: [\n        {\n          label: '&Bring to Front',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Bring &Forward',\n          click: () => store.incrementZIndex(1)\n        }\n      ]\n    })\n    menu.push({\n      label: '&Send to Back',\n      submenu: [\n        {\n          label: '&Send to Back',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Send &Backward',\n          click: () => store.incrementZIndex(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.canGroup) {\n    menu.push({\n      label: '&Group',\n      submenu: [\n        { label: '&Group' },\n        {\n          label: '&Ungroup',\n          enabled: store.canUngroup\n        }\n      ]\n    })\n  }\n\n  if (submenus.length > 0) {\n    menu.push({ type: 'separator' })\n    menu = menu.concat(submenus)\n  }\n\n  if (store.selectedItemIds.length === 1) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Item Properties'\n    })\n  }\n\n  if (store.activePortId) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      type: 'checkbox',\n      label: 'Show in &Oscilloscope',\n      checked: true\n    })\n  }\n\n  return menu\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function grid (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  return [\n    {\n      label: '&Grid',\n      submenu: [\n        {\n          label: '&Show grid'\n        },\n        { type: 'separator' },\n        { label: 'Snap to &grid' },\n        { label: 'Snap to &elements' }\n      ]\n    }\n  ]\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport { DocumentStore } from '@/store/document'\nimport edit from '../submenus/edit'\nimport grid from '../submenus/grid'\n\nexport default function editor (store: DocumentStore): MenuItemConstructorOptions[] {\n  return edit(store, grid(store).concat({ type: 'separator' }))\n}\n","import { render } from \"./Connection.vue?vue&type=template&id=1a5111e2&ts=true\"\nimport script from \"./Connection.vue?vue&type=script&lang=ts\"\nexport * from \"./Connection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortHandle.vue?vue&type=template&id=64812d45&ts=true\"\nimport script from \"./PortHandle.vue?vue&type=script&lang=ts\"\nexport * from \"./PortHandle.vue?vue&type=script&lang=ts\"\n\nimport \"./PortHandle.vue?vue&type=style&index=0&id=64812d45&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Freeport.vue?vue&type=template&id=0c565b2c&ts=true\"\nimport script from \"./Freeport.vue?vue&type=script&lang=ts\"\nexport * from \"./Freeport.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InputNode.vue?vue&type=template&id=2d7ab5b3&ts=true\"\nimport script from \"./InputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./InputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./InputNode.vue?vue&type=style&index=0&id=2d7ab5b3&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortWire.vue?vue&type=template&id=7e5f8892&ts=true\"\nimport script from \"./PortWire.vue?vue&type=script&lang=ts\"\nexport * from \"./PortWire.vue?vue&type=script&lang=ts\"\n\nimport \"./PortWire.vue?vue&type=style&index=0&id=7e5f8892&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CustomCircuitPort.vue?vue&type=template&id=7c86d268&ts=true\"\nimport script from \"./CustomCircuitPort.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomCircuitPort.vue?vue&type=script&lang=ts\"\n\nimport \"./CustomCircuitPort.vue?vue&type=style&index=0&id=7c86d268&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CustomCircuitPortZone.vue?vue&type=template&id=164f4e76&ts=true\"\nimport script from \"./CustomCircuitPortZone.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomCircuitPortZone.vue?vue&type=script&lang=ts\"\n\nimport \"./CustomCircuitPortZone.vue?vue&type=style&index=0&id=164f4e76&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CustomCircuit.vue?vue&type=template&id=f58f3db6&ts=true\"\nimport script from \"./CustomCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomCircuit.vue?vue&type=script&lang=ts\"\n\nimport \"./CustomCircuit.vue?vue&type=style&index=0&id=f58f3db6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DigitDisplay.vue?vue&type=template&id=05ba6998&ts=true\"\nimport script from \"./DigitDisplay.vue?vue&type=script&lang=ts\"\nexport * from \"./DigitDisplay.vue?vue&type=script&lang=ts\"\n\nimport \"./DigitDisplay.vue?vue&type=style&index=0&id=05ba6998&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./IntegratedCircuit.vue?vue&type=template&id=209f747d&ts=true\"\nimport script from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./And.vue?vue&type=template&id=451c19e4&ts=true\"\nimport script from \"./And.vue?vue&type=script&lang=ts\"\nexport * from \"./And.vue?vue&type=script&lang=ts\"\n\nimport \"./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Or.vue?vue&type=template&id=4e6eb8f2&ts=true\"\nimport script from \"./Or.vue?vue&type=script&lang=ts\"\nexport * from \"./Or.vue?vue&type=script&lang=ts\"\n\nimport \"./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nor.vue?vue&type=template&id=7803c0c0&ts=true\"\nimport script from \"./Nor.vue?vue&type=script&lang=ts\"\nexport * from \"./Nor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Buffer.vue?vue&type=template&id=353fbcc5&ts=true\"\nimport script from \"./Buffer.vue?vue&type=script&lang=ts\"\nexport * from \"./Buffer.vue?vue&type=script&lang=ts\"\n\nimport \"./Buffer.vue?vue&type=style&index=0&id=353fbcc5&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Not.vue?vue&type=template&id=67c16094&ts=true\"\nimport script from \"./Not.vue?vue&type=script&lang=ts\"\nexport * from \"./Not.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nand.vue?vue&type=template&id=1bef5bae&ts=true\"\nimport script from \"./Nand.vue?vue&type=script&lang=ts\"\nexport * from \"./Nand.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xnor.vue?vue&type=template&id=3e58dbce&ts=true\"\nimport script from \"./Xnor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xnor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xor.vue?vue&type=template&id=2e4c44f6&ts=true\"\nimport script from \"./Xor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LogicGate.vue?vue&type=template&id=f2a89218&ts=true\"\nimport script from \"./LogicGate.vue?vue&type=script&lang=ts\"\nexport * from \"./LogicGate.vue?vue&type=script&lang=ts\"\n\nimport \"./LogicGate.vue?vue&type=style&index=0&id=f2a89218&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Lightbulb.vue?vue&type=template&id=49489f78&ts=true\"\nimport script from \"./Lightbulb.vue?vue&type=script&lang=ts\"\nexport * from \"./Lightbulb.vue?vue&type=script&lang=ts\"\n\nimport \"./Lightbulb.vue?vue&type=style&index=0&id=49489f78&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OutputNode.vue?vue&type=template&id=e31799ba&ts=true\"\nimport script from \"./OutputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./OutputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./OutputNode.vue?vue&type=style&index=0&id=e31799ba&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum ItemType {\n  Buffer = 'Buffer',\n  CircuitNode = 'CircuitNode',\n  Freeport = 'Freeport',\n  InputNode = 'InputNode',\n  IntegratedCircuit = 'IntegratedCircuit',\n  LogicGate = 'LogicGate',\n  OutputNode = 'OutputNode'\n}\n\nexport default ItemType\n","enum ItemSubtype {\n  None = 'None',\n\n  CustomCircuit = 'CustomCircuit',\n\n  /* input nodes */\n  Switch = 'Switch',\n  PushButton = 'PushButton',\n  Clock = 'Clock',\n\n  /* output nodes */\n  Lightbulb = 'Lightbulb',\n  DigitDisplay = 'DigitDisplay',\n\n  /* buffers */\n  Buffer = 'Buffer',\n  Not = 'Not',\n\n  /* tri-state */\n  Tristate = 'Tristate',\n\n  /* logic gates */\n  And = 'And',\n  Or = 'Or',\n  Nand = 'Nand',\n  Nor = 'Nor',\n  Xnor = 'Xnor',\n  Xor = 'Xor'\n}\n\nexport default ItemSubtype\n","import { render } from \"./CircuitComponent.vue?vue&type=template&id=aec06ea2&ts=true\"\nimport script from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./CircuitComponent.vue?vue&type=style&index=0&id=aec06ea2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Icon.vue?vue&type=template&id=c2deb328&ts=true\"\nimport script from \"./Icon.vue?vue&type=script&lang=ts\"\nexport * from \"./Icon.vue?vue&type=script&lang=ts\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=20a4d0f1&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=20a4d0f1&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortPivot.vue?vue&type=template&id=2dd5a235&ts=true\"\nimport script from \"./PortPivot.vue?vue&type=script&lang=ts\"\nexport * from \"./PortPivot.vue?vue&type=script&lang=ts\"\n\nimport \"./PortPivot.vue?vue&type=style&index=0&id=2dd5a235&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum PortType {\n  Output = 0,\n  Input\n}\n\nexport default PortType\n","import { render } from \"./PortItem.vue?vue&type=template&id=632b3e1c&ts=true\"\nimport script from \"./PortItem.vue?vue&type=script&lang=ts\"\nexport * from \"./PortItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import CircuitNode from '../base/CircuitNode'\n\nclass Connection {\n  node: CircuitNode\n  id: string\n\n  constructor (node: CircuitNode, id: string) {\n    this.node = node\n    this.id = id\n  }\n}\n\nexport default Connection\n","const LogicValue = {\n  TRUE: 1,\n  FALSE: -1,\n  UNKNOWN: 0\n}\n\nexport default LogicValue\n","import Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\n\nclass CircuitNode {\n  /**\n   * Incoming values, to be used for calculation of the node's state.\n   *\n   * @type {Array<LogicValue>}\n   */\n  public inputValues: { [id: string]: number } = {}\n\n  /**\n   * List of outgoing connections.\n   *\n   * @type {Array<Connection>}\n   */\n  public outputs: Array<Connection> = []\n\n  /**\n   * Set to true if the value of the node has changed since last circuit evaluation.\n   *\n   * @type {Boolean}\n   */\n  public isValueChanged: boolean = true\n\n  /**\n   * Set to true to have the debugger continue regardless of whether this node changed or not.\n   *\n   * @type {Boolean}\n   */\n  public forceContinue: boolean = false\n\n  /**\n   * Name of the node.\n   *\n   * @type {String}\n   */\n  public name: string\n\n  /**\n   * Current value of the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public value: number = LogicValue.UNKNOWN\n\n  /**\n   * Next value for the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public newValue: number = LogicValue.UNKNOWN\n\n  /**\n   * List of dictionaries containing event types and their respective callbacks.\n   * Used for the invocation of event listeners when their respective events are fired.\n   *\n   * @type {Array<Object>}\n   */\n  public events: Array<{ eventType: string, callback: Function }> = []\n\n  /**\n   * Constructor.\n   *\n   * @param {String} name - name of the node\n   * @param {Number} [inputIds = []] - ids for each input port\n   */\n  constructor (name: string, inputIds: string[] = []) {\n    this.name = name\n    this.inputValues = inputIds.reduce((map, id) => ({\n      ...map,\n      [id]: LogicValue.UNKNOWN\n    }), {})\n  }\n\n  /**\n   * Updates the node's value to be static having the given value.\n   *\n   * @param {LogicValue} value\n   */\n  public setValue = (value: number): void => {\n    this.newValue = value\n  }\n\n  /**\n   * Invokes the registered events having the given `eventType`.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {LogicValue} value\n   */\n  public invokeEvent = (eventType: string, value: number, outputIds: string[]): void => {\n    this.events.forEach((event) => {\n      if (event.eventType === eventType) {\n        event.callback(value, outputIds)\n      }\n    })\n  }\n\n  /**\n   * Evaluates the node. Default behavior returns the current value.\n   *\n   * @returns {LogicValue}\n   */\n  public eval = (): number => {\n    return this.value\n  }\n\n  /**\n   * Calculates how many input values equal the given comparison value.\n   *\n   * @param {LogicValue} compare - value to get count of\n   * @returns {Number}\n   */\n  public valueCount = (compare: number): number => {\n    return Object\n      .values(this.inputValues)\n      .filter((value) => value === compare)\n      .length\n  }\n\n  /**\n   * Updates all outgoing connected nodes with the given value.\n   *\n   * @param {LogicValue} newValue - new value to output to the nodes\n   */\n  public updateOutputs = (newValue: number): void => {\n    const outputIds: string[] = []\n\n    this.outputs.forEach(({ node, id }: Connection) => {\n      node.update(newValue, id)\n      outputIds.push(id)\n    })\n\n    this.invokeEvent('change', newValue, outputIds)\n  }\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @param {LogicValue} value - new value\n   * @param {Number} id - source port id\n   */\n  public update = (value: number, id: string): void => {\n    this.inputValues[id] = value\n    this.newValue = this.eval()\n    this.invokeEvent('change', this.newValue, this.outputs.map(({ id }) => id))\n  }\n\n  /**\n   * Propagates a signal, if the value of the node has changed.\n   *\n   * @returns {CircuitNodes[]} queue of all resulting nodes to be evaluated in the next state\n   */\n  public propagate = (): Array<CircuitNode> => {\n    let queue: CircuitNode[] = []\n\n    if (this.value !== this.newValue) {\n      this.isValueChanged = true\n      this.value = this.newValue\n      this.updateOutputs(this.newValue)\n\n      this\n        .outputs\n        .forEach(({ node }) => {\n          if (node.forceContinue) {\n            // if this node is forced to continue propagation, enqueue its result\n            queue = queue.concat(node.propagate())\n          } else {\n            // otherwise, just enqueue the node itself\n            queue.push(node)\n          }\n        })\n    }\n\n    return queue\n  }\n\n  /**\n   * Resets the value and subsequent value of the node with Hi-Z.\n   */\n  public reset = (): void => {\n    this.value = LogicValue.UNKNOWN\n    this.newValue = LogicValue.UNKNOWN\n    this.invokeEvent('change', this.newValue, this.outputs.map(({ id }) => id))\n  }\n\n  /**\n   * Registers an event listener.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {Function} callback - method to invoke on event\n   */\n  public on = (eventType: string, callback: Function): void => {\n    this.events.push({ eventType, callback })\n  }\n\n  /**\n   * Returns the value of the node next time the circuit is evaluated.\n   *\n   * @returns {Number}\n   */\n  public getProjectedValue = (): number => {\n    return this.eval() || this.newValue || this.value\n  }\n}\n\n\nexport default CircuitNode\n","import CircuitNode from './CircuitNode'\n\nclass InputNode extends CircuitNode {\n  /**\n   * Resets the node.\n   *\n   * @override CircuitNode.reset\n   */\n  public reset = (): void => {\n    // do nothing\n  }\n}\n\nexport default InputNode\n","import CircuitNode from './CircuitNode'\n\nclass OutputNode extends CircuitNode {\n  /**\n   * Updates the value of the node.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value\n   */\n  public update = (value: number): void => {\n    if (this.newValue !== value) {\n      this.newValue = value\n      this.invokeEvent('change', this.newValue, [])\n    }\n  }\n}\n\nexport default OutputNode\n","import CircuitNode from '../base/CircuitNode'\nimport Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\nimport InputNode from './InputNode'\nimport OutputNode from './OutputNode'\n\nclass Circuit {\n  /**\n   * The debugger processing queue.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public queue: Array<CircuitNode> = []\n\n  /**\n   * A list of all the nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public nodes: Array<CircuitNode> = []\n\n  /**\n   * A list of all input nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public inputNodes: Array<InputNode> = []\n\n  /**\n   * Adds a node to the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to add\n   */\n  public addNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      this.inputNodes.push(node)\n      this.enqueue(node)\n    }\n    this.nodes.push(node)\n  }\n\n  /**\n   * Removes a node from the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to remove\n   */\n  public removeNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      const inputIndex = this.inputNodes.findIndex(({ name }) => name === node.name)\n\n      if (inputIndex !== -1) {\n        this.inputNodes.splice(inputIndex, 1)\n      }\n      // this.reset() // TODO: why?\n    }\n\n    const index = this.nodes.findIndex(({ name }) => name === node.name)\n\n    if (index !== -1) {\n      this.removeNodeOutputs(node)\n      this.nodes.splice(index, 1)\n    }\n\n    this.next()\n  }\n\n  /**\n   * Adds a connection entry from the source node to the target node on the given index.\n   *\n   * @param {CircuitNode} source - source node\n   * @param {CircuitNode} target - target node\n   * @param {Number} targetId - entry port id on the target node for the connection\n   */\n  public addConnection = (source: CircuitNode, target: CircuitNode, targetId: string, sourceValue: number = LogicValue.UNKNOWN): void => {\n    source.outputs.push(new Connection(target, targetId))\n    source.value = sourceValue\n\n    if (!sourceValue) {\n      this.enqueue(source)\n    }\n  }\n\n  /**\n   * Removes the connection on the source node at the source index and the connection at its target node.\n   * The input value at the target index will be reset to Hi-Z.\n   *\n   * @param {CircuitNode} sourceNode - source node to disconnect\n   * @param {CircuitNode} targetNode - target node to disconnect\n   */\n  public removeConnection = (sourceNode: CircuitNode, targetNode: CircuitNode, sourceValue: number = LogicValue.UNKNOWN): void => {\n    sourceNode\n      .outputs\n      .concat()\n      .forEach(({ node, id }: Connection, i: number) => {\n        if (targetNode === node) {\n          // reset the input of the target for this connection to hi-Z\n          targetNode.update(sourceValue, id)\n\n          // remove the output entry at the source\n          sourceNode.outputs.splice(i, 1)\n\n          // place the target node in the queue for processing\n          this.enqueue(targetNode)\n        }\n      })\n  }\n\n  /**\n   * Removes all connections from the given source node.\n   *\n   * @param {CircuitNode} source\n   */\n  removeNodeOutputs = (source: CircuitNode): void => {\n    for (let i: number = 0; i < source.outputs.length; i++) {\n      this.removeConnection(source, source.outputs[i].node)\n    }\n  }\n\n  /**\n   * Appends the given node(s) to the processing queue.\n   *\n   * @param {...CircuitNode} added - node(s) to add to the queue\n   */\n  public enqueue = (...added: CircuitNode[]): void => {\n    added.forEach((node) => {\n      if (!~this.queue.indexOf(node)) {\n        this.queue.push(node)\n      }\n    })\n  }\n\n  /**\n   * Removes the given node from the processing queue.\n   *\n   * @param {CircuitNode} removed - node to remove from the queue\n   */\n  public dequeue = (removed: CircuitNode): void => {\n    const removedIndex = this.queue.indexOf(removed)\n\n    if (~removedIndex) {\n      this.queue.splice(removedIndex, 1)\n    }\n  }\n\n  /**\n   * Resets the circuit.\n   */\n  public reset = (): void => {\n    this.nodes.forEach((node) => node.reset())\n  }\n\n  /**\n   * Advances the circuit simulation one step. If none of the node values have changed,\n   * it continues stepping through until either a value changes or the queue is empty.\n   */\n  public next = (): void => {\n    let isValueChanged = false\n    let localQueue: CircuitNode[] = []\n\n    while (this.queue.length > 0) {\n      const node = this.queue.shift()\n\n      if (!node) continue\n\n      localQueue = localQueue.concat(node.propagate())\n\n      this.dequeue(node)\n\n      if (node.isValueChanged) {\n        isValueChanged = true\n      }\n\n      if (node.forceContinue) {\n        this.enqueue(...localQueue)\n        localQueue = []\n      }\n    }\n\n    if (isValueChanged) {\n      this.enqueue(...localQueue)\n    }\n  }\n\n  /**\n   * Returns true when the queue is finished processing.\n   *\n   * @returns {Boolean}\n   */\n  public isComplete = (): boolean => {\n    let isComplete = true\n\n    if (this.queue.length === 0) {\n      return true\n    }\n\n    this.queue.forEach(node => {\n      const nextValue = node.getProjectedValue()\n\n      if (nextValue !== node.value && !(node instanceof OutputNode)) {\n        isComplete = false\n      }\n    })\n\n    if (isComplete) {\n      this.queue = []\n    }\n\n    return isComplete\n  }\n}\n\nexport default Circuit\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nor extends CircuitNode {\n  public eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.FALSE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.TRUE\n  }\n}\n\nexport default Nor\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Or extends CircuitNode {\n  public eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.TRUE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.FALSE\n  }\n}\n\nexport default Or\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Buffer extends CircuitNode {\n  public forceContinue: boolean = true\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value - new value\n   * @param {Number} index - source index\n   */\n  public update = (value: number): void => {\n    const id = Object\n      .keys(this.inputValues)\n      .pop()\n\n    if (id) {\n      this.inputValues[id] = value\n      this.newValue = this.eval()\n    }\n  }\n\n  public eval = (): number => {\n    return Object.values(this.inputValues).pop() || LogicValue.UNKNOWN\n  }\n}\n\nexport default Buffer\n","import { LogicValue } from '@/circuit'\n\n/**\n * @class BinaryWaveService\n * @description this service provides functionality for a graphical illustration of a wave in the oscilloscope.\n * Instances of these waves are the values of the active oscillogram.\n */\nexport default class BinaryWaveService implements Pulse {\n  /** Wave ID. */\n  public id: string\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Width (in pixels) of the wave. */\n  public width: number = 0\n\n  /** The y value for the last segment. */\n  private lastY: number = 0\n\n  /** Cartesian point values for each pixel segment. */\n  public segments: Point[] = []\n\n  /** Hue color value for the wave. */\n  public hue: number = 0\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param signal - current signal value to initialize at\n   * @param hue - color value for the wave\n   */\n  constructor (id: string, name: string, signal: number, hue: number) {\n    this.id = id\n    this.name = name\n    this.hue = hue\n    this.initialize(signal)\n  }\n\n  /**\n   * Creates an initial segment based on the given signal.\n   *\n   * @param signal\n   */\n  public initialize = (signal: number) => {\n    const segment = { x: 1, y: 1 }\n\n    if (signal === 1) {\n      segment.y = 0 // draw a vertical line from 0 up to 1\n      this.lastY = 1\n    } else {\n      segment.y = 1 // draw a vertical line from 1 down to 0\n      this.lastY = 0\n    }\n\n    this.addSegment(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Clears out the existing wave data.\n   */\n  public reset = () => {\n    this.segments = []\n    this.width = 0\n    this.initialize(this.lastY === 1 ? 0 : 1)\n  }\n\n  /**\n   * Periodic update function.\n   *\n   * @param elapsed - (no value necessary)\n   */\n  public update = (elapsed: number): void => {\n    this.drawPulseConstant()\n  }\n\n  /**\n   * Adds a new segment.\n   * This will correct for any mismatches between the segment and the previous one (if any).\n   *\n   * @param segment - new segment to add\n   */\n  addSegment = (segment: Point) => {\n    const previous = this.segments[this.segments.length - 1]\n\n    if (!previous && segment.x > 0) {\n      this.segments.push({ x: 0, y: segment.y })\n    } else if (previous && previous.x !== segment.x && previous.y !== segment.y) {\n      // if a previous segment exists, and both its x and y values mismatch, then remove it\n      this.segments.pop()\n    }\n\n    this.segments.push(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Draws the next segment of the wave with an inverted signal line.\n   *\n   * @param signal - incoming signal change value\n   */\n  drawPulseChange = (signal: number) => {\n    const { x } = this.segments[this.segments.length - 1]\n    const y = signal === LogicValue.TRUE ? 0 : 1\n\n    this.updateWidth()\n    this.addSegment({ x, y })\n  }\n\n  /**\n   * Draws the next segment of the wave, continued from the current signal line.\n   */\n  drawPulseConstant = () => {\n    const previous = this.segments[this.segments.length - 1]\n    // if the y value from the previous segment is unchanged, just extend its x value\n    const pos = this.lastY !== previous.y\n      ? previous\n      : this.segments.pop()\n\n\n    if (pos) {\n      this.updateWidth()\n      this.addSegment({\n        x: pos.x + 1,\n        y: pos.y\n      })\n    }\n    this.lastY = previous.y\n  }\n\n  /**\n   * Truncates the wave from the back such that the resulting wave is no wider than the given value.\n   *\n   * @param widthToKeep - the width, in pixels, to keep from the wave\n   */\n  truncateSegments = (widthToKeep: number) => {\n    if (widthToKeep > this.width) {\n      return\n    }\n\n    const widthToTruncate = this.width - widthToKeep\n\n    let deltaX = 0\n\n    for (let i = 0; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      if (x > widthToTruncate) {\n        deltaX = x - widthToTruncate\n\n        this.segments.splice(0, i)\n        this.segments.unshift({ x: 0, y })\n\n        break\n      }\n    }\n\n    for (let i = 1; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      this.segments[i] = {\n        x: x - widthToTruncate,\n        y\n      }\n    }\n\n    this.updateWidth()\n  }\n\n  updateWidth = () => {\n    this.width = this.segments.slice(-1)[0]?.x || 0\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * @class ClockService\n * @description This provides an oscillating clock wave. It oscillates between TRUE and FALSE.\n */\nexport default class ClockService implements Pulse {\n  /** Wave ID. */\n  public id: string = uuid()\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Current signal value. */\n  public signal: number = 0\n\n  /** Interval, in milliseconds, to oscillate at. */\n  public interval: number = 0\n\n  /** Last update time, in milliseconds. */\n  private lastUpdate: number\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  private isStopped = false\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param interval - time, in milliseconds, to oscillate at\n   * @param signal - current signal value to initialize at\n   */\n  constructor (name: string, interval: number, signal: number) {\n    this.name = name\n    this.signal = signal\n    this.interval = interval\n    this.lastUpdate = -interval\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (signal: number) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  stop = () => {\n    this.isStopped = true\n  }\n\n  start = () => {\n    this.isStopped = false\n  }\n\n  /**\n   * Updates all waves with the given time elapsed.\n   *\n   * @param elapsed - time elapsed during simulation\n   */\n  public update = (elapsed: number): void => {\n    if (!this.isStopped && elapsed >= this.lastUpdate + this.interval) {\n      this.signal = this.signal === -1 ? 1 : -1\n      this.lastUpdate = elapsed\n      this.emitter.emit('change', this.signal)\n    }\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\n\n/**\n * @class OscillationService\n * @description Manages all oscillating services, including binary waves and clock pulses.\n * This service uses system time to determine proper sequencing and updating.\n */\nexport default class OscillationService {\n  /** Whether or not the oscillator is paused. */\n  public isPaused: boolean = true\n\n  /** Key-value pair of all waves. */\n  public waves: Record<string, Pulse> = {}\n\n  /** The refresh rate for the oscilloscope. */\n  public refreshRate: number = 20 // TODO: this can be configured to make the waves wider/oscilloscope run faster\n\n  /** The last time the oscillator was updated, in milliseconds. */\n  public lastUpdateTime: number = Date.now()\n\n  /** Elapsed total time, in milliseconds. */\n  public timeMsElapsed: number = 0\n\n  /** Offset wave time, in milliseconds. */\n  public timeMsOffset: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Starts the oscillator.\n   */\n  start = () => {\n    if (!this.isPaused) return\n\n    // this is the time that has elapsed prior to the completion of a full period\n    // when the oscillator is stopped, we want to maintain the time progressed before the next period\n    const remainingPeriodTime = this.lastUpdateTime % this.refreshRate\n\n    this.lastUpdateTime = Date.now() + remainingPeriodTime\n    this.isPaused = false\n    this.tick()\n  }\n\n  /**\n   * Stops the oscillator.\n   */\n  stop = () => {\n    this.isPaused = true\n  }\n\n  /**\n   * Clears all current binary wave geometries.\n   */\n  clear = () => {\n    Object\n      .values(this.waves)\n      .forEach(wave => {\n        if (wave instanceof BinaryWaveService) {\n          (wave as BinaryWaveService).reset()\n        }\n      })\n  }\n\n  /**\n   * Computes the SVG points for each given binary wave.\n   *\n   * @param waves\n   * @returns oscillogram result\n   */\n  computeWaveGeometry = (waves: Record<string, Pulse>) => {\n    const displays: Oscillogram = {}\n    const getPoints = (segments: Point[]) => segments.map(({ x, y }) => `${x},${y}`)\n\n    for (const name in waves) {\n      if (waves[name] instanceof BinaryWaveService) {\n        const wave = waves[name] as BinaryWaveService\n        const points = getPoints(wave.segments)\n\n        displays[name] = {\n          points: points.join(' '),\n          width: wave.width,\n          hue: wave.hue\n        }\n      }\n    }\n\n    return displays\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Broadcasts the oscillogram.\n   *\n   * @emits change containing the oscillogram data\n   */\n  broadcast = () => {\n    // set the max history to be twice the size of the user's screen, then cut half of it when it is exceeded\n    const screenWidth = window.screen.width\n    const widthOfOneSecond = 1000 / this.refreshRate\n    const maxHistorySeconds = screenWidth / widthOfOneSecond\n\n    if (this.timeMsElapsed >= this.timeMsOffset + ((maxHistorySeconds / 2) * 1000)) {\n      this.timeMsOffset = this.timeMsElapsed\n\n      Object\n        .values(this.waves)\n        .forEach((wave: Pulse) => {\n          if (wave instanceof BinaryWaveService) {\n            wave.truncateSegments(screenWidth)\n          }\n        })\n    }\n\n    this.emitter.emit('change', this.computeWaveGeometry(this.waves))\n  }\n\n  /**\n   * Triggers all oscillation update events.\n   */\n  tick = (): void => {\n    if (this.isPaused) return\n\n    const now = Date.now()\n    const MAX_IDLE_TIME = 10000 // 10 seconds\n    let hasUpdated = false\n\n    if (now >= this.lastUpdateTime + MAX_IDLE_TIME) {\n      // if the oscilloscope has been idle for a while, then re-start it rather than try to catch up to the current time\n      this.stop()\n      this.start()\n      return\n    }\n\n    while (now >= this.lastUpdateTime + this.refreshRate) {\n      // loop through each refresh period elapsed and simulate as if they actually elapsed\n      const delta = Math.min(this.refreshRate, now - this.lastUpdateTime)\n\n      hasUpdated = true\n      this.timeMsElapsed += delta\n      this.lastUpdateTime += delta\n      this.update()\n    }\n\n    if (hasUpdated) {\n      this.broadcast()\n    }\n\n    requestAnimationFrame(this.tick)\n  }\n\n  /**\n   * Updates all waves with the given tick count.\n   */\n  update = (): void => {\n    Object\n      .values(this.waves)\n      .forEach((wave) => wave.update(this.timeMsElapsed))\n  }\n\n  /**\n   * Adds the given wave to the oscillator instance.\n   *\n   * @param {Pulse} wave\n   */\n  add = (wave: Pulse): void => {\n    if (!this.waves.hasOwnProperty(wave.id)) {\n      this.waves[wave.id] = wave\n\n      if (this.timeMsElapsed === 0) {\n        this.broadcast()\n      }\n    }\n  }\n\n  /**\n   * Removes the wave having the given id.\n   *\n   * @param {Pulse} wave\n   */\n  remove = ({ id }: Pulse): void => {\n    delete this.waves[id]\n\n    if (Object.keys(this.waves).length === 0) {\n      this.stop()\n      this.clear()\n    }\n  }\n}\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass And extends CircuitNode {\n  public eval = (): number => {\n    return Object\n      .values(this.inputValues)\n      .reduce((result, value) => {\n        return result && value === LogicValue.TRUE\n      }, true) ? LogicValue.TRUE : LogicValue.FALSE\n  }\n}\n\nexport default And\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nand extends CircuitNode {\n  public eval = (): number => {\n    return Object\n      .values(this.inputValues)\n      .reduce((result, value) => {\n        return result || value === LogicValue.FALSE\n      }, false) ? LogicValue.TRUE : LogicValue.FALSE\n  }\n}\n\nexport default Nand\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Not extends CircuitNode {\n  public eval = (): number => {\n    const value = Object\n      .values(this.inputValues)\n      .pop()\n\n    switch (value) {\n      case LogicValue.TRUE:\n        return LogicValue.FALSE\n      case LogicValue.FALSE:\n        return LogicValue.TRUE\n      default:\n        return LogicValue.UNKNOWN\n    }\n  }\n}\n\nexport default Not\n","import CircuitNode from '@/circuit/base/CircuitNode'\nimport InputNode from '@/circuit/base/InputNode'\nimport OutputNode from '@/circuit/base/OutputNode'\nimport Buffer from '@/circuit/gates/Buffer'\nimport And from '@/circuit/gates/And'\nimport Nand from '@/circuit/gates/Nand'\nimport Or from '@/circuit/gates/Or'\nimport Nor from '@/circuit/gates/Nor'\nimport Not from '@/circuit/gates/Not'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nfunction getLogicGateNode (subtype: string, id: string, inputIds: string[]): CircuitNode {\n  switch (subtype) {\n    case ItemSubtype.And:\n      return new And(id, inputIds)\n    case ItemSubtype.Nand:\n      return new Nand(id, inputIds)\n    case ItemSubtype.Or:\n      return new Or(id, inputIds)\n    case ItemSubtype.Nor:\n      return new Nor(id, inputIds)\n    case ItemSubtype.Not:\n      return new Not(id, inputIds)\n    default:\n      return new Nor(id, inputIds)\n  }\n}\n\nfunction getCircuitNode ({ id, type, subtype }: Item, inputIds: string[]): CircuitNode {\n  switch (type) {\n    case ItemType.CircuitNode:\n      return new CircuitNode(id, inputIds)\n    case ItemType.InputNode:\n      return new InputNode(id, inputIds)\n    case ItemType.LogicGate:\n      return getLogicGateNode(subtype, id, inputIds)\n    case ItemType.Buffer:\n    case ItemType.Freeport:\n      return new Buffer(id, inputIds)\n    default:\n      return new OutputNode(id, inputIds) // TODO: use generic CircuitNode instead?\n  }\n}\n\nexport default {\n  getLogicGateNode,\n  getCircuitNode\n}\n","import { Circuit, CircuitNode } from '@/circuit'\nimport { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\nimport ClockService from './ClockService'\nimport OscillationService from './OscillationService'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\nimport circuitNodeMapper from '@/utils/circuitNodeMapper'\n\n/**\n * The SimulationService ties together all aspects of a running simulation, including clock pulses, oscilloscope\n * wave management, and circuit component I/O. Effectively serves as an oracle for all circuit computations.\n *\n * It is important that the simulation maintains the state of the circuit separately from the editor state, as\n * components may be removed/added/changed in the editor by the user at any time. Maintaining them separate allows\n * the signal state of components present in the editor to persist.\n *\n * There is a one-to-one relationship between SimulationService instances and Document instances.\n */\nexport default class SimulationService {\n  /** Mapping of port IDs to their respective circuit nodes. */\n  nodes: Record<string, CircuitNode> = {}\n\n  /** Mapping of port IDs to their respective nodes' binary wave instances. */\n  waves: Record<string, BinaryWaveService> = {}\n\n  /** Mapping of port IDs to their respective nodes' clock instances. */\n  clocks: Record<string, ClockService> = {}\n\n  /** Mapping of port IDs to their respective current values. */\n  valueMap: Record<string, number> = {}\n\n  /** Logical circuit instance. */\n  circuit: Circuit = new Circuit()\n\n  /** Circuit oscillator. */\n  oscillator: OscillationService = new OscillationService()\n\n  /** Event emitter. */\n  emitter: TinyEmitter = new TinyEmitter()\n\n  /** Oscillogram data, containing each BinaryWave instance observed in the oscilloscope. */\n  oscillogram: Oscillogram = {}\n\n  canContinue: boolean = false\n\n  nextState: string | null = null\n\n  isDebug: boolean = false\n\n  nextValueMap: Record<string, number> = {}\n\n  /**\n   * Constructor.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  constructor (items: Item[], connections: Connection[], ports: Record<string, Port>) {\n    this.addElements(items, connections, ports)\n  }\n\n  /**\n   * Adds the given items and connections with the given ports to the simulation.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  addElements = (items: Item[], connections: Connection[], ports: Record<string, Port>) => {\n    items.forEach(item => this.addNode(item, ports))\n    connections.forEach(c => this.addConnection(c.source, c.target))\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the port-value mapping as the first argument and oscillogram data as the second\n   */\n  onChange = (fn: (valueMap: Record<string, number>) => void) => {\n    this.emitter.on('change', fn)\n  }\n\n  onError = (fn: (error: string) => void) => {\n    this.emitter.on('error', fn)\n  }\n\n  /**\n   * Emits a change event.\n   *\n   * @emits change when the oscillogram or any value changes changes\n   */\n  emit = () => {\n    this.emitter.emit('change', this.valueMap)\n  }\n\n  /**\n   * Advances the simulation by one step.\n   *\n   * @param [iteration = 0] - internal iteration count (should always invoke using `0` or undefined)\n   */\n  step = (iteration: number = 0) => {\n    this.circuit.next()\n\n    const shouldContinue = this.circuit.queue.length > 0 // TODO: use circuit.isComplete()?\n\n    if (iteration > 1000) {\n      // TODO: configure this to detect infinite loops...\n      this.emitter.emit('error', 'INFINITE_LOOP')\n    }\n\n    if (shouldContinue) {\n      this.step(++iteration)\n    }\n\n    if (!this.isDebug) this.emit()\n  }\n\n  toggleClocks = (fn: 'start' | 'stop') => {\n    Object\n      .values(this.clocks)\n      .forEach(clock => clock[fn]())\n  }\n\n  start = () => {\n    if (!this.isDebug) {\n      this.toggleClocks('start')\n    }\n    this.oscillator.start()\n  }\n\n  stop = () => {\n    this.toggleClocks('stop')\n    this.oscillator.stop()\n  }\n\n  startDebugging = () => {\n    this.isDebug = true\n    this.computeNextState()\n    this.toggleClocks('stop')\n  }\n\n  stopDebugging = () => {\n    this.isDebug = false\n    this.advanceDebuggerStep()\n    this.nextState = null\n    this.toggleClocks('start')\n  }\n\n  advanceDebuggerStep = () => {\n    if (!this.isDebug) return this.step()\n\n    const nextValues = Object.keys(this.nextValueMap)\n\n    if (nextValues.length > 0) {\n      // at least one value change was triggered by the editor since last advance\n      nextValues.forEach(portId => this.updatePortValue(portId, this.nextValueMap[portId]))\n    } else if (this.nextState) {\n      // no inputs are pending updates, and there is a new state to advance to\n      this.valueMap = JSON.parse(this.nextState) as Record<string, number>\n    }\n\n    this.nextValueMap = {}\n    this.computeNextState()\n    this.emit()\n  }\n\n  computeNextState = () => {\n    const currentState = JSON.stringify(this.valueMap)\n\n    this.circuit.next()\n\n    const nextState = JSON.stringify(this.valueMap)\n\n    if (currentState !== nextState) {\n      this.nextState = nextState\n    } else {\n      this.nextState = null\n    }\n\n    this.canContinue = this.nextState !== null\n  }\n\n  updatePortValue = (portId: string, value: number) => {\n    this.nodes[portId].setValue(value)\n    this.circuit.enqueue(this.nodes[portId])\n    this.waves[portId]?.drawPulseChange(value)\n  }\n\n  enqueuePortValueChange = (portId: string, value: number) => {\n    this.nextValueMap[portId] = value\n\n    // circuit can continue only if one or more port values have changed\n    this.canContinue = Object\n      .keys(this.nextValueMap)\n      .reduce((anyValueChanged: boolean, portId) => {\n        return anyValueChanged || this.valueMap[portId] !== this.nextValueMap[portId]\n      }, false)\n  }\n\n  /**\n   * Sets a port's value logical value, performing all necessary simulation operations that result from such an action.\n   *\n   * This should be invoked by the document.\n   *\n   * @param portId\n   * @param value - new logical value\n   */\n  setPortValue = (portId: string, value: number) => {\n    if (this.isDebug) {\n      return this.enqueuePortValueChange(portId, value)\n    }\n\n    if (this.nodes[portId] && this.nodes[portId].value !== value) {\n      this.updatePortValue(portId, value)\n      this.step()\n    }\n  }\n\n  /**\n   * Adds an integrated circuit to the simulation.\n   *\n   * @param item - the high-level integrated circuit item\n   */\n  addIntegratedCircuit = (icItem: Item) => {\n    if (!icItem.integratedCircuit) return\n\n    const { items, connections, ports } = icItem.integratedCircuit\n\n    Object\n      .values(items)\n      .forEach(item => {\n        this.addNode(item, ports)\n      })\n\n    Object\n      .values(connections)\n      .forEach(c => {\n        this.addConnection(c.source, c.target)\n      })\n  }\n\n  /**\n   * Adds new a node to the simulation.\n   *\n   * @param item - item to add\n   * @param ports - port mapping to reference (if an IC, then use the ports within the document itself)\n   * @param [forceContinue] - if true, forces the circuit node to evaluate immediately\n   */\n  addNode = (item: Item, ports: Record<string, Port>, forceContinue: boolean = false) => {\n    if (item.portIds.length === 0) return // if there are no ports, then there is nothing to add to the simulation\n\n    if (item.integratedCircuit) {\n      return this.addIntegratedCircuit(item)\n    }\n\n    const inputIds = item.portIds.filter(portId => ports[portId].type === PortType.Input)\n    const outputIds = item.portIds.filter(portId => ports[portId].type === PortType.Output)\n    const node = circuitNodeMapper.getCircuitNode(item, inputIds)\n\n    if (forceContinue) {\n      node.forceContinue = true\n    }\n\n    item.portIds.forEach(portId => this.addPort(portId, node))\n\n    node.on('change', (value: number, outputs: string[]) => {\n      // each time the node value changes, update its oscillogram wave (if any) and the value map to emit to the consumer\n      outputs\n        .concat(outputIds) // include all output ports\n        .forEach(id => {\n          this.valueMap[id] = value\n          this.waves[id]?.drawPulseChange(value)\n        })\n    })\n\n    if (item.type === ItemType.InputNode && item.subtype === ItemSubtype.Clock) {\n      this.addClock(outputIds[0], item.properties.interval?.value as number)\n    }\n\n    this.circuit.addNode(node)\n\n    item.portIds.forEach(portId => {\n      const port = ports[portId]\n\n      if (port.isMonitored) {\n        this.monitorPort(portId, port.value, port.hue)\n      }\n    })\n  }\n\n  /**\n   * Removes a node and all of its ports from the simulation.\n   *\n   * @param portIds - list of IDs of ports associated with the node (at least one matching is required)\n   */\n  removeNode = (item: Item) => {\n    /** returns the port IDs of all ports that are related to the given integrated circuit */\n    const getIntegratedCircuitPortIds = (ic: Item): string[] => {\n      if (!ic.integratedCircuit) return []\n\n      return Object\n        .values(ic.integratedCircuit.items)\n        .reduce((portIds, i) => {\n          if (i.integratedCircuit) {\n            return portIds\n              .concat(getIntegratedCircuitPortIds(i))\n              .concat(i.portIds)\n          }\n          return portIds.concat(i.portIds)\n        }, [] as string[])\n    }\n\n    // remove all nodes that are referenced to port IDs of the given item\n    item\n      .portIds\n      .concat(getIntegratedCircuitPortIds(item)) // ...including IC ports\n      .forEach(portId => {\n        const node = this.nodes[portId]\n\n        if (node) {\n          this.circuit.removeNode(node)\n          this.removePort(portId)\n        }\n      })\n\n    this.emit()\n  }\n\n  /**\n   * Adds an interval clock to the circuit.\n   *\n   * @param portId\n   */\n  addClock = (portId: string, interval = 1000) => { // TODO: make 1000 a constant (default interval)\n    this.clocks[portId] = new ClockService(portId, interval, 1)\n    this.clocks[portId].on('change', (signal: number) => {\n      this.setPortValue(portId, signal)\n    })\n    this.oscillator.add(this.clocks[portId])\n  }\n\n  setClockInterval = (portId: string, interval: number) => {\n    if (this.clocks[portId]) {\n      this.clocks[portId].interval = interval\n    }\n  }\n\n  /**\n   * Adds a port to the simulation.\n   *\n   * @param portId - ID of the port associated with the node\n   * @param node - circuit node\n   */\n  addPort = (portId: string, node: CircuitNode) => {\n    this.nodes[portId] = node\n\n  }\n\n  /**\n   * Removes a port from the simulation and all associations of it.\n   * Associations include circuit nodes, value mappings, and any active clocks and waves.\n   *\n   * @param portId\n   */\n  removePort = (portId: string) => { // TODO: need to remove wave from oscillation\n    if (this.clocks[portId]) {\n      this.oscillator.remove(this.clocks[portId])\n    }\n\n    this.unmonitorPort(portId)\n\n    delete this.nodes[portId]\n    delete this.valueMap[portId]\n    delete this.clocks[portId]\n    delete this.waves[portId]\n  }\n\n  /**\n   * Adds a new connection between the given source and target ports.\n   * This requires that the circuit nodes for both the source and target have been added to the simulation.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  addConnection = (sourceId: string, targetId: string, sourceValue?: number) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.addConnection(this.nodes[sourceId], this.nodes[targetId], targetId, sourceValue)\n      this.advanceDebuggerStep()\n    }\n  }\n\n  /**\n   * Removes a connection that exists between the given source and target ports.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  removeConnection = (sourceId: string, targetId: string, sourceValue?: number) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.removeConnection(this.nodes[sourceId], this.nodes[targetId], sourceValue)\n      this.advanceDebuggerStep()\n    }\n  }\n\n  /**\n   * Begins monitoring an individual port in the oscilloscope.\n   *\n   * @param portId\n   * @param value - current port value\n   */\n  monitorPort = (portId: string, value: number, hue: number) => {\n    if (!this.waves[portId]) {\n      this.waves[portId] = new BinaryWaveService(portId, portId, value, hue)\n      this.oscillator.add(this.waves[portId])\n    }\n  }\n\n  /**\n   * Removes a port from being monitored in the oscilloscope.\n   *\n   * @param portId\n   */\n  unmonitorPort = (portId: string) => {\n    if (this.waves[portId]) {\n      this.oscillator.remove(this.waves[portId])\n      this.oscillator.broadcast()\n    }\n\n    delete this.waves[portId]\n    delete this.oscillator.waves[portId]\n    delete this.oscillogram[portId]\n  }\n}\n","import SimulationService from '@/services/SimulationService'\n\nexport interface DocumentState extends SerializableState {\n  viewport: DOMRect\n  canvas: BoundingBox\n  oscilloscopeHeight: number\n  hasLoaded: boolean\n  cachedState: string | null\n  undoStack: string[]\n  redoStack: string[]\n  snapBoundaries: BoundingBox[]\n  connectablePortIds: string[]\n  itemNames: string[],\n  zoomLevel: number\n  simulation: SimulationService\n  oscillogram: Oscillogram\n  isOscilloscopeOpen: boolean\n  isOscilloscopeRecording: boolean\n  isCircuitEvaluated: boolean\n  isDebugging: boolean\n  isDirty: boolean\n  activeFreeportId: string | null\n  selectedItemIds: string[]\n  selectedConnectionIds: string[]\n  selectedPortIndex: number\n  zIndex: number\n  activePortId: string | null\n  connectionPreviewId: string | null\n  isPrinting: boolean\n  isCreatingImage: boolean\n  animatePan: boolean\n  debugger: {\n    timeout: number\n    hasUpdated: boolean\n  }\n}\n\nexport const state = (): DocumentState => ({\n  undoStack: [],\n  redoStack: [],\n  simulation: new SimulationService([], [], {}),\n  oscillogram: {},\n  itemNames: [],\n  zoomLevel: 1,\n  zIndex: 1,\n  oscilloscopeHeight: 200,\n  isOscilloscopeOpen: false,\n  isOscilloscopeRecording: true,\n  isCircuitEvaluated: false,\n  isDebugging: false,\n  isDirty: false,\n  hasLoaded: false,\n  isPrinting: false,\n  isCreatingImage: false,\n  animatePan: false,\n\n  /** debugger status */\n  debugger: {\n    timeout: 0,\n    hasUpdated: false\n  },\n\n  /* canvas dimensions */\n  viewport: new DOMRect(),\n  canvas: {\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n\n  /* the following variables are 'temporary' information */\n  snapBoundaries: [],\n  connectablePortIds: [],\n  selectedConnectionIds: [],\n  selectedItemIds: [],\n  selectedPortIndex: -1,\n  cachedState: null,\n  activeFreeportId: null,\n  activePortId: null,\n  connectionPreviewId: null,\n\n  /* serializable state items */\n  items: {},\n  connections: {},\n  ports: {},\n  groups: {}\n})\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\n\ntype IdMap = Record<string, string>\n\nfunction mapStandardCircuitIds (circuit: SerializableState, idMap: IdMap = {}) {\n\n  let { items, connections, ports, groups } = cloneDeep(circuit)\n\n  function mapGroups (groups: Record<string, Group>) {\n    Object\n      .values(groups)\n      .forEach(group => {\n        const oldId = group.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        groups[newId] = cloneDeep(group)\n\n        delete groups[oldId]\n      })\n\n    return groups\n  }\n\n  function mapGroupIds (connections: Record<string, Connection>, items: Record<string, Item>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connection.groupId = connection.groupId !== null\n          ? idMap[connection.groupId]\n          : null\n      })\n\n    Object\n      .values(items)\n      .forEach(item => {\n        item.groupId = item.groupId !== null\n          ? idMap[item.groupId]\n          : null\n      })\n\n    return { connections, items }\n  }\n\n  function mapConnections (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        const oldId = connection.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        connections[newId] = cloneDeep<Connection>(connection)\n        connections[newId].id = newId\n        connections[newId].source = idMap[connections[newId].source]\n        connections[newId].target = idMap[connections[newId].target]\n\n        delete connections[oldId]\n      })\n\n      return connections\n  }\n\n  function mapConnectionChainIds (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connections[connection.id].connectionChainId = idMap[connections[connection.id].connectionChainId]\n      })\n\n    return connections\n  }\n\n  function mapItems (items: Record<string, Item>) {\n    Object\n      .values(items)\n      .forEach(item => {\n        const oldId = item.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        items[newId] = cloneDeep<Item>(item)\n\n        if (item.integratedCircuit) {\n          items[newId].integratedCircuit = {\n            serializedState: item.integratedCircuit.serializedState,\n            ...mapStandardCircuitIds(cloneDeep(item.integratedCircuit), idMap)\n          }\n        } else {\n          items[newId].id = newId\n        }\n\n        items[newId].portIds = item.portIds.map(oldId => idMap[oldId])\n\n        delete items[oldId]\n      })\n\n      return items\n  }\n\n  function mapItemIds (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        ports[port.id].elementId = idMap[port.elementId]\n      })\n\n    return ports\n  }\n\n  function mapPorts (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        const oldId = port.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        ports[newId] = cloneDeep<Port>(port)\n        ports[newId].id = newId\n\n        delete ports[oldId]\n      })\n\n    return ports\n  }\n\n  ports = mapPorts(ports)\n  items = mapItems(items)\n  ports = mapItemIds(ports)\n  connections = mapConnections(connections)\n  connections = mapConnectionChainIds(connections)\n  groups = mapGroups(groups)\n\n  return {\n    ...mapGroupIds(connections, items),\n    ports,\n    groups\n  }\n}\n\nfunction mapIntegratedCircuitIds (item: Item) {\n  if (!item.integratedCircuit) return item\n\n  const { items } = mapStandardCircuitIds({\n    items: {\n      [item.id]: item\n    },\n    connections: {},\n    ports: {},\n    groups: {}\n  })\n  const mappedItem = Object.values(items)[0]\n\n  mappedItem.id = uuid()\n\n  return mappedItem // Object.values(items)[0]\n}\n\nexport default {\n  mapStandardCircuitIds,\n  mapIntegratedCircuitIds\n}\n","import { DocumentStoreInstance } from '..'\nimport idMapper from '@/utils/idMapper'\n\nexport function cut (this: DocumentStoreInstance) {\n  this.copy()\n  this.deleteSelection()\n}\n\nexport function copy (this: DocumentStoreInstance) {\n  if (!this.hasSelection) return\n\n  const items: Record<string, Item> = {}\n  const ports: Record<string, Port> = {}\n\n  this.selectedItemIds.forEach(id => {\n    items[id] = this.items[id]\n    items[id].portIds.forEach(portId => {\n      ports[portId] = this.ports[portId]\n    })\n  })\n\n  const connections = Object\n    .values(this.connections)\n    .reduce((map, connection) => {\n      if (ports[connection.source] && ports[connection.target]) {\n        map[connection.id] = connection\n      }\n\n      return map\n    }, {} as Record<string, Connection>)\n\n  const groups = Object\n    .values(this.groups)\n    .filter(({ isSelected }) => isSelected)\n    .reduce((map, group) => ({ ...map, [group.id]: group }), {})\n\n  const clipboardData: ClipboardData = {\n    items,\n    ports,\n    connections,\n    groups,\n    pasteCount: 1\n  }\n\n  window.api.copy(JSON.stringify(clipboardData))\n}\n\nexport function paste (this: DocumentStoreInstance) {\n  try {\n    const state = window.api.paste()\n    const parsed = JSON.parse(state as string) as ClipboardData\n    const mapped = idMapper.mapStandardCircuitIds(parsed) as ClipboardData\n\n    this.commitState()\n    this.deselectAll()\n\n    Object\n      .keys(mapped.ports)\n      .forEach(portId => {\n        mapped.ports[portId].value = 0\n      })\n\n    Object\n      .values(mapped.items)\n      .forEach(item => {\n        item.position.x += 20 * parsed.pasteCount\n        item.position.y += 20 * parsed.pasteCount\n        item.isSelected = false\n\n        this.addItem({\n          item,\n          ports: mapped.ports\n        })\n        this.setSelectionState({ id: item.id, value: true })\n      })\n\n    Object\n      .values(mapped.connections)\n      .forEach(connection => this.connect(connection))\n\n    Object\n      .values(mapped.groups)\n      .forEach(group => {\n        this.groups[group.id] = group\n\n        this.setGroupBoundingBox(group.id)\n        this.setSelectionState({ id: group.id, value: true })\n      })\n\n    const clipboardData: ClipboardData = {\n      ...JSON.parse(state),\n      pasteCount: parsed.pasteCount + 1\n    }\n\n    window.api.copy(JSON.stringify(clipboardData))\n  } catch (error) {\n    console.log('ERROR: ', error)\n    // TODO: clear clipboard?\n  }\n}\n","import PortType from '@/types/enums/PortType'\nimport { v4 as uuid } from 'uuid'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n *\n * @param portId - the ID of the port previewing connections for\n */\nexport function setConnectionPreview (this: DocumentStoreInstance, portId: string | null) {\n  if (this.activePortId && portId) {\n    let source = this.activePortId\n    let target = portId\n\n    if (this.ports[this.activePortId].type === PortType.Input) {\n      source = portId\n      target = this.activePortId\n    }\n\n    const id = uuid()\n\n    this.unsetConnectionPreview()\n    this.connect({ source, target, id })\n    this.connectionPreviewId = id\n  }\n}\n\n/**\n * Clears the active connection preview.\n */\nexport function unsetConnectionPreview (this: DocumentStoreInstance) {\n  if (this.connectionPreviewId) {\n    this.disconnect(this.connections[this.connectionPreviewId])\n  }\n  this.connectionPreviewId = null\n}\n\n/**\n * Commits the previewed connection action as an undo-able state.\n */\nexport function commitPreviewedConnection (this: DocumentStoreInstance) {\n  if (this.connectionPreviewId) {\n    const { source, target } = this.connections[this.connectionPreviewId]\n\n    this.disconnect({ source, target })\n    this.commitState()\n    this.connect({ source, target })\n    this.connectionPreviewId = null\n  }\n}\n\n/**\n * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n *\n * @param portId - the ID of the port previewing connections for\n */\nexport function cycleConnectionPreviews (this: DocumentStoreInstance, portId: string) {\n  if (portId && portId !== this.activePortId) {\n    this.setActivePortId(portId)\n  }\n\n  let index = this.selectedPortIndex + 1\n\n  if (index <= 0) index = 0\n  if (index >= this.connectablePortIds.length) index = -1\n\n  const previewPortId = this.connectablePortIds[index]\n\n  if (previewPortId && !this.ports[portId]?.connectedPortIds.includes(previewPortId)) {\n    this.setConnectionPreview(previewPortId)\n  } else {\n    if (this.connectablePortIds.length === 0) {\n      window.api.beep() // audibly inform the user they can't connect to anything\n    }\n    this.unsetConnectionPreview()\n  }\n  this.selectedPortIndex = index\n}\n\n/**\n * Establishes a new connection between two ports.\n *\n * @param payload\n * @param payload.source - source port ID\n * @param payload.target - target port ID\n * @param payload.connectionChainId - optional connection chain ID to add the connection segment to\n */\nexport function createConnection (this: DocumentStoreInstance, data: { source: string, target: string, id?: string, connectionChainId?: string }) {\n  const id = data.id || uuid()\n\n  this.connections[id] = {\n    ...data,\n    id,\n    connectionChainId: data.connectionChainId || id,\n    groupId: null,\n    zIndex: ++this.zIndex,\n    isSelected: false\n  }\n\n  this.ports[data.source].connectedPortIds.push(data.target)\n  this.ports[data.target].connectedPortIds.push(data.source)\n}\n\nexport function connect (this: DocumentStoreInstance, data: { source: string, target: string, id?: string, connectionChainId?: string }) {\n  this.createConnection(data)\n\n  this\n    .simulation\n    .addConnection(data.source, data.target)\n\n  this.simulation.circuit.next()\n}\n\n/**\n * Disconnects two ports.\n *\n * @param payload\n * @param payload.source - source port ID\n * @param payload.target - target port ID\n */\nexport function destroyConnection (this: DocumentStoreInstance, { source, target }: { source: string, target: string }) {\n  const connection = Object\n    .values(this.connections)\n    .find(c => c.source === source && c.target === target)\n\n  if (connection) {\n    const sourceIndex = this.ports[source].connectedPortIds.findIndex(id => id === target)\n    const targetIndex = this.ports[target].connectedPortIds.findIndex(id => id === source)\n\n    this.ports[source].connectedPortIds.splice(sourceIndex, 1)\n    this.ports[target].connectedPortIds.splice(targetIndex, 1)\n\n    delete this.connections[connection.id]\n  }\n}\n\nexport function disconnect (this: DocumentStoreInstance, { source, target }: { source: string, target: string }) {\n  this\n    .simulation\n    .removeConnection(source, target)\n\n  this.simulation.circuit.next()\n\n  this.destroyConnection({ source, target })\n}\n","import { DocumentStoreInstance } from '..'\n\nexport function loadDocument (this: DocumentStoreInstance, document: string) {\n  const parsed = JSON.parse(document)\n  const state = parsed.integratedCircuit\n    ? JSON.stringify(parsed.integratedCircuit)\n    : document\n\n  this.applyState(state)\n  this.resetCircuit()\n}\n\nexport function print (this: DocumentStoreInstance) {\n  this.isPrinting = true\n}\n\nexport function createImage (this: DocumentStoreInstance) {\n  this.isCreatingImage = true\n}\n\n\nexport function clearStatelessInfo (this: DocumentStoreInstance) {\n  this.unsetConnectionPreview()\n  this.connectablePortIds = []\n  this.selectedConnectionIds = []\n  this.selectedItemIds = []\n  this.selectedPortIndex = -1\n  this.cachedState = null\n  this.activePortId = null\n  this.connectionPreviewId = null\n}\n\nexport function clearBaseItems (this: DocumentStoreInstance, itemIds: string[], connectionIds: string[], groupIds: string[]) {\n  const portIds = itemIds.reduce((portIds, itemId) => {\n    return portIds.concat(this.items[itemId].portIds)\n  }, [] as string[])\n  const connectionChainIds = new Set<string>()\n\n  Object\n    .values(this.connections)\n    .forEach(({ source, target, connectionChainId }) => {\n      if (portIds.includes(source) || portIds.includes(target)) {\n        connectionChainIds.add(connectionChainId)\n      }\n    })\n\n  const connections = Object\n    .values(this.connections)\n    .filter(({ connectionChainId }) => connectionChainIds.has(connectionChainId))\n    .concat(connectionIds.map(id => this.connections[id]))\n\n  connections.forEach(connection => {\n    this.disconnect(connection)\n\n    if (this.ports[connection.source]?.isFreeport) {\n      // if the source is a freeport, remove its parent item\n      this.removeElement(this.ports[connection.source].elementId)\n    }\n  })\n  itemIds.forEach(this.removeElement)\n  groupIds.forEach(groupId => {\n    delete this.groups[groupId]\n  })\n}\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\n\nexport default function itemFactory (id: string, type: ItemType, subtype: ItemSubtype, width: number, height: number, ports: Port[] = []): Item {\n  return {\n    id,\n    name: '',\n    type,\n    subtype,\n    portIds: ports.map(({ id }) => id),\n    groupId: null,\n    rotation: 0,\n    boundingBox: {\n      top: 0,\n      left: 0,\n      right: width,\n      bottom: height\n    },\n    position: {\n      x: 0,\n      y: 0\n    },\n    zIndex: 0,\n    width,\n    height,\n    isSelected: false,\n    properties: {\n      name: {\n        type: 'text',\n        label: 'Name',\n        value: ''\n      }\n    }\n  }\n}\n","import Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function portFactory (elementId: string, id: string, orientation: Direction, type: PortType, name: string): Port {\n  return {\n    id,\n    orientation,\n    name,\n    position: {\n      x: 0,\n      y: 0\n    },\n    type,\n    rotation: 0,\n    elementId,\n    value: 0,\n    hue: 0,\n    isMonitored: false,\n    isFreeport: false,\n    connectedPortIds: []\n  }\n}\n","import boundaries from '../geometry/boundaries'\nimport { DocumentStoreInstance } from '..'\nimport itemFactory from '@/factories/itemFactory'\nimport portFactory from '@/factories/portFactory'\nimport Direction from '@/types/enums/Direction'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\n\n/**\n * Adds a new freeport element. This can be used in either of two scenarios:\n *\n *  1. when a user is dragging a port to establish a connection to another port\n *  2. when a user drags on a connection to create a new \"pivot point\" on the wire\n *\n * @param payload\n * @param payload.itemId - desired ID for the new freeport\n * @param payload.inputPortId - the ID of the input port (omit for a wire drag from an output port)\n * @param payload.outputPortId - the ID of the output port (omit for a wire drag from an input port)\n * @param payload.position - the initial position of this port\n * @param payload.value - optional value of the port\n */\nexport function addFreeportItem (this: DocumentStoreInstance, { itemId, inputPortId, outputPortId, value = 0 }: {\n  itemId: string\n  outputPortId?: string\n  inputPortId?: string\n  value?: number\n}) {\n  const ports: Port[] = []\n\n  if (outputPortId) {\n    this.ports[outputPortId] = portFactory(itemId, outputPortId, Direction.Left, PortType.Output, outputPortId)\n    this.ports[outputPortId].value = value\n    this.ports[outputPortId].isFreeport = true\n    ports.push(this.ports[outputPortId])\n  }\n\n  if (inputPortId) {\n    this.ports[inputPortId] = portFactory(itemId, inputPortId, Direction.Right, PortType.Input, inputPortId)\n    this.ports[inputPortId].value = value\n    this.ports[inputPortId].isFreeport = true\n    ports.push(this.ports[inputPortId])\n  }\n\n  this.items[itemId] = itemFactory(itemId, ItemType.Freeport, ItemSubtype.None, 1, 1, ports)\n  this.items[itemId].zIndex = this.zIndex++\n\n  this\n    .simulation\n    .addNode(this.items[itemId], this.ports, true)\n}\n\n/**\n * Removes a Freeport from the document.\n * This can remove either a dragged freeport or a connector between two wire segments.\n *\n * @param id - ID of the freeport item\n */\nexport function disconnectFreeport (this: DocumentStoreInstance, id: string) {\n  const item = this.items[id]\n\n  let originalSourceId = ''\n  let originalTargetId = ''\n\n  // find the true source and target port ids\n  Object\n    .values(this.connections)\n    .forEach(c => {\n      if (c.target === item.portIds[1]) originalSourceId = c.source\n      if (c.source === item.portIds[0]) originalTargetId = c.target\n    })\n\n  if (originalSourceId) this.disconnect({ source: originalSourceId, target: item.portIds[1] })\n  if (originalTargetId) this.disconnect({ source: item.portIds[0], target: originalTargetId })\n  if (originalSourceId && originalTargetId) {\n    // reconnect the true source and target\n    this.connect({ source: originalSourceId, target: originalTargetId })\n  }\n}\n\n/**\n * Creates a new freeport item with the given set of IDs in the payload.\n * This can either be a dragged port (to connect a port) or a joint between two connection segments.\n *\n * For a joint, include all required params, including the IDs of the destination ports and the freeport ports.\n * For a dragged port, include the source IDs (if dragged from an output) or the target IDs (if dragged from an input).\n *\n * @param data - IDs for apply the new freeport\n */\nexport function createFreeport (this: DocumentStoreInstance, data: Freeport, createCircuitConnection: boolean = true) {\n  if (this.items[data.itemId]) return\n\n  if (data.sourceId && data.targetId) {\n    this.commitState()\n  }\n\n  this.deselectAll()\n  this.addFreeportItem(data)\n  this.setItemBoundingBox(data.itemId)\n  this.activeFreeportId = data.itemId\n\n  let connections: { source: string, target: string }[] = []\n\n  if (data.sourceId && data.inputPortId) {\n    connections.push({\n      source: data.sourceId,\n      target: data.inputPortId\n    })\n  }\n\n  if (data.targetId && data.outputPortId) {\n    connections.push({\n      source: data.outputPortId,\n      target: data.targetId\n    })\n  }\n\n  connections.forEach(connection => {\n    this.createConnection({\n      ...connection,\n      connectionChainId: data.connectionChainId\n    })\n\n    if (createCircuitConnection) {\n      this\n        .simulation\n        .addConnection(connection.source, connection.target, this.ports[connection.source].value)\n    }\n  })\n\n  if (data.sourceId && data.targetId) {\n    // only remove the circuit connection (not the store connection), as its component may still be in action (i.e., handling dragging)\n    // once the dragging operation is complete, it will be the responsibility of the connection component to destroy itself\n    this\n      .simulation\n      .removeConnection(data.sourceId, data.targetId, this.ports[data.sourceId].value)\n  }\n\n  if (data.sourceId && data.targetId) {\n    // bring forward the freeport item so that it is between the two new connections\n    this.deselectAll()\n    this.setSelectionState({\n      id: data.itemId,\n      value: true\n    })\n    this.incrementZIndex(1)\n  }\n\n  this.simulation.circuit.next()\n}\n\n/**\n * Establishes a connection after a user drags a port to connect it to an item.\n * This will disconnect the temporary wire and port being dragged, and establish a new connection between the two items.\n *\n * @param payload\n * @param payload.sourceId - the ID of the source port (if being dragged from one)\n * @param payload.targetId - the ID of the target port (if being dragged from one)\n * @param payload.portId - the ID of the temporary freeport being dragged\n */\nexport function connectFreeport (this: DocumentStoreInstance, { sourceId, targetId, portId }: { sourceId?: string, targetId?: string, portId: string }) {\n  const port = this.ports[portId]\n  const newPort = Object\n    .values(this.ports)\n    .find((p: Port) => {\n      // TODO: make '10' a user-configurable number\n      return p.id !== portId && this.connectablePortIds.includes(p.id) && boundaries.isInNeighborhood(p.position, port.position, 10)\n    })\n\n  if (newPort) {\n    if (sourceId) {\n      this.disconnect({\n        source: sourceId,\n        target: portId\n      })\n      this.connect({\n        source: sourceId,\n        target: newPort.id\n      })\n    } else if (targetId) {\n      this.disconnect({\n        source: portId,\n        target: targetId\n      })\n      this.connect({\n        source: newPort.id,\n        target: targetId\n      })\n    }\n  } else {\n    // no port can be connected, so disconnect the temporary dragged wire\n    this.disconnect({\n      source: sourceId || portId,\n      target: targetId || portId\n    })\n  }\n\n  const item = Object\n    .values(this.items)\n    .find(({ portIds }) => portIds.includes(portId))\n\n  if (item) {\n    this.removeElement(item.id)\n  }\n\n  this.clearStatelessInfo()\n}\n","import { DocumentStoreInstance } from '..'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * Groups together all selected items and connections.\n * If any of those selected elements are a member of a group, that group will be destroyed.\n */\nexport function group (this: DocumentStoreInstance) {\n  this.commitState()\n\n  const id = uuid()\n  const items = Object\n    .values(this.items)\n    .filter(({ isSelected }) => isSelected)\n\n  const portIds = items.reduce((portIds, item) => {\n    return portIds.concat(item.portIds)\n  }, [] as string[])\n\n  const connections = Object\n    .values(this.connections)\n    .filter(c => {\n      // ensure both source and target ports are associated with items in the group\n      return portIds.includes(c.source) && portIds.includes(c.target) && c.isSelected\n    })\n\n  // if any of the items or connections are part of another group, ungroup those\n  items.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n  connections.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n\n  // update the zIndex of all items to be the highest one among the selected\n  const zIndex = [...items, ...connections].reduce((zIndex: number, item: BaseItem) => {\n    return Math.max(item.zIndex, zIndex)\n  }, 0)\n\n  const group = {\n    id,\n    itemIds: items.map(({ id }) => id),\n    connectionIds: connections.map(({ id }) => id),\n    isSelected: true,\n    boundingBox: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    },\n    position: {\n      x: 0, y: 0\n    },\n    zIndex\n  }\n\n  this.groups[id] = group\n\n  // set the groupId of all items in the group\n  group.itemIds.forEach(id => {\n    this.items[id].groupId = group.id\n  })\n\n  // set the groupId of all connections in the group\n  group.connectionIds.forEach(id => {\n    this.connections[id].groupId = group.id\n  })\n\n  this.setZIndex(zIndex)\n  this.setGroupBoundingBox(id)\n}\n\n/**\n * Destroys all selected groups.\n */\n export function ungroup (this: DocumentStoreInstance) {\n  this.commitState()\n\n  for (const id in this.groups) {\n    if (this.groups[id].isSelected) {\n      this.destroyGroup(id)\n    }\n  }\n}\n\n/**\n * Destroys the group having the given ID.\n *\n * @param groupId\n */\nexport function destroyGroup (this: DocumentStoreInstance, groupId: string) {\n  const group = this.groups[groupId]\n\n  // remove the groupId of all items in the group and select them\n  group.itemIds.forEach(id => {\n    this.items[id].groupId = null\n    this.selectedItemIds.push(id)\n  })\n\n  // remove the groupId of all connections in the group and select them\n  group.connectionIds.forEach(id => {\n    this.connections[id].groupId = null\n    this.selectedConnectionIds.push(id)\n  })\n\n  delete this.groups[groupId]\n}\n","export default function fromDocumentToEditorCoordinates (canvas: BoundingBox, viewport: DOMRect, point: Point, z: number) {\n  return {\n    x: (point.x - viewport.x - canvas.left) / z,\n    y: (point.y - viewport.y - canvas.top) / z\n  }\n}\n","import { v4 as uuid } from 'uuid'\nimport { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\nimport ItemType from '@/types/enums/ItemType'\n\n/**\n * Adds any non-IC component to the state.\n *\n * @param payload\n * @param payload.item - new item to add\n * @param payload.ports - mapping of IDs-to-ports, containing a subset of ports belonging to the new item\n */\nexport function addItem (this: DocumentStoreInstance, { item, ports }: { item: Item, ports: Record<string, Port> }) {\n  // add all ports associated to this item\n  // if the item is an integrated circuit, only add the ports that it defines (ones visible to the user)\n  const portList = item.integratedCircuit?.ports || ports\n\n  item\n    .portIds\n    .forEach(portId => {\n      const port = portList[portId]\n\n      if (port) {\n        this.ports[port.id] = port\n\n        if (port.isMonitored) {\n          this.monitorPort(port.id)\n        }\n      }\n    })\n\n  let name = item.name\n  let c = 0\n\n  while (this.itemNames.includes(name)) {\n    name = `${item.name} ${++c}`\n  }\n\n  item.name = name\n\n  // add the item to the document and create its corresponding circuit node\n  this.items[item.id] = item\n  this.items[item.id].zIndex = ++this.zIndex\n\n  this\n    .simulation\n    .addNode(item, this.ports)\n\n  this.resetItemValue(item)\n  this.setProperties(item.id, item.properties)\n  this.setItemBoundingBox(item.id)\n}\n\nexport function insertItemAtPosition (this: DocumentStoreInstance, { item, ports }: { item: Item, ports: Port[] }, documentPosition: Point | null = null) {\n  if (!documentPosition) {\n    const midpoint = boundaries.getBoundingBoxMidpoint(this.viewport)\n\n    documentPosition = {\n      x: midpoint.x + this.viewport.left,\n      y: midpoint.y + this.viewport.top\n    }\n  }\n\n  const position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, documentPosition, this.zoomLevel)\n\n  position.x -= item.width / 2\n  position.y -= item.height / 2\n\n  item.position = position\n\n  this.commitState()\n  this.addItem({\n    item,\n    ports: ports.reduce((map: Record<string, Port>, port) => ({ ...map, [port.id]: port }), {})\n  })\n  this.setItemBoundingBox(item.id)\n  this.setSelectionState({ id: item.id, value: true })\n}\n\nexport function resetItemValue (this: DocumentStoreInstance, item: Item) {\n  const property = item.properties?.startValue\n\n  if (!property) return\n\n  const value = property.value as number\n\n  item.portIds.forEach(id => this.setPortValue({ id, value }))\n}\n\n/**\n * Removes an element and all its associated ports and circuit nodes from the state.\n *\n * @param id - ID of the item to remove\n */\nexport function removeElement (this: DocumentStoreInstance, id: string) {\n  const item = this.items[id]\n\n  if (!item) return\n  if (item.type === ItemType.Freeport) {\n    this.disconnectFreeport(id)\n  }\n\n  this\n    .simulation\n    .removeNode(item)\n\n  // remove all ports associated with the item\n  const ids = [...item.portIds]\n\n  ids.forEach(portId => this.removePort(portId))\n\n  // remove the item\n  delete this.items[id]\n}\n\n/**\n * Sets the number of input ports that a LogicGate should have.\n * If the number is less than the current number of ports, take away the difference number of existing ports.\n *\n * @param payload\n * @param payload.id - LogicGate ID\n * @param payload.count - new number of input ports\n */\n export function setInputCount (this: DocumentStoreInstance, id: string, count: number) {\n  const item = this.items[id]\n  const oldCount = item.properties.inputCount.value as number\n\n  if (oldCount > count) {\n    // if the count has decreased, find the last remaining port IDs which will be removed\n    this.items[id].portIds\n      .filter(portId => this.ports[portId].type === PortType.Input)\n      .slice(count)\n      .forEach(portId => this.removePort(portId))\n  } else {\n    for (let i = oldCount; i < count; i++) {\n      const portId = uuid()\n\n      // add the difference of ports one by one\n      this.addPort(id, {\n        id: portId,\n        name: '', // TODO\n        connectedPortIds: [],\n        type: PortType.Input,\n        elementId: id,\n        virtualElementId: id,\n        orientation: Direction.Left,\n        isFreeport: false,\n        isMonitored: false,\n        hue: 0,\n        position: {\n          x: 0,\n          y: 0\n        },\n        rotation: 0,\n        value: 0\n      })\n    }\n  }\n}\n\n/**\n * Updates the properties values. If no properties have changed, then no changes will take effect.\n * This will perform any actions necessary to occur when a property value changes.\n *\n * @param payload\n * @param payload.id - item ID\n * @param payload.properties - new version of the properties\n */\nexport function setProperties (this: DocumentStoreInstance, id: string, properties: PropertySet) {\n  const item = this.items[id]\n\n  for (const propertyName in properties) {\n    const property = properties[propertyName]\n\n    if (item.properties[propertyName].value === property.value) {\n      continue // do nothing if the property value has not changed\n    }\n\n    this.commitState()\n\n    switch (propertyName) {\n      case 'inputCount':\n        this.setInputCount(id, property.value as number)\n        break\n      case 'interval':\n        this.simulation.setClockInterval(item.portIds.slice(-1)[0], property.value as number)\n        break\n    }\n\n    this.items[id].properties[propertyName].value = property.value\n  }\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\n\n/**\n * Pans to the given point.\n */\nexport function panTo (this: DocumentStoreInstance, pan: Point, animate = false) {\n  this.panDelta({\n    x: pan.x - this.canvas.left,\n    y: pan.y - this.canvas.top\n  }, animate)\n}\n\nexport function panDelta (this: DocumentStoreInstance, delta: Point, animate = false) {\n  this.animatePan = animate\n\n  const from: BoundingBox = { ...this.canvas }\n\n  const animatePan = (c = 0) => {\n    const easeOut = (x: number) => 1 - (1 - x) * (1 - x)\n    const percent = easeOut(c / 100)\n    const deltaX = delta.x * percent\n    const deltaY = delta.y * percent\n\n    this.canvas.left = from.left + deltaX\n    this.canvas.right = from.right + deltaX\n    this.canvas.top = from.top + deltaY\n    this.canvas.bottom = from.bottom + deltaY\n\n    if (c < 100 && this.animatePan) {\n      requestAnimationFrame(animatePan.bind(this, c + 5))\n    } else {\n      this.animatePan = false\n    }\n  }\n\n  if (animate) {\n    requestAnimationFrame(animatePan.bind(this, 0))\n  } else {\n    this.canvas.left += delta.x\n    this.canvas.right += delta.x\n    this.canvas.top += delta.y\n    this.canvas.bottom += delta.y\n  }\n}\n\n/**\n * Pans to the center of the available canvas, such that its center is visible in the center of the viewport.\n */\nexport function panToCenter (this: DocumentStoreInstance) {\n  const midpoint = boundaries.getBoundingBoxMidpoint(this.canvas)\n  const pan = {\n    x: (this.viewport.width / 2) - midpoint.x,\n    y: (this.viewport.height / 2) - midpoint.y\n  }\n\n  this.panTo(pan)\n}\n","/**\n * Returns all connections and any associated freeport items within a connection chain.\n *\n * @param connections - list of all connections to explore\n * @param portMap - ID-to-port mapping of the entire document\n * @param connectionChainId - ID of the connection chain to explore\n * @returns the IDs of the connections and the freeports discovered in the chain\n */\nexport default function getConnectionChain (connections: Connection[], portMap: Record<string, Port>, connectionChainId: string) {\n  const { connectionIds, freeportIds } = Object\n    .values(connections)\n    .reduce(({ connectionIds, freeportIds }, connection) => {\n      if (connectionChainId === connection.connectionChainId) {\n        const sourcePort = portMap[connection.source]\n        const targetPort = portMap[connection.target]\n\n        connectionIds.add(connection.id)\n\n        if (sourcePort?.isFreeport) freeportIds.add(sourcePort.elementId)\n        if (targetPort?.isFreeport) freeportIds.add(targetPort.elementId)\n      }\n\n      return { connectionIds, freeportIds }\n    }, {\n      connectionIds: new Set<string>(),\n      freeportIds: new Set<string>()\n    })\n\n  return {\n    connectionIds: Array.from(connectionIds),\n    freeportIds: Array.from(freeportIds)\n  }\n}\n","import { CircuitNode } from '@/circuit'\nimport { DocumentStoreInstance } from '..'\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport PortType from '@/types/enums/PortType'\n\nexport function addPort (this: DocumentStoreInstance, itemId: string, port: Port) {\n  const node = Object\n    .values(this.simulation.nodes)\n    .find(({ name }) => this.items[itemId].portIds.includes(name))\n\n  this.ports[port.id] = port\n  this.items[itemId].portIds.push(port.id)\n\n  // if (port.type === PortType.Output) {\n    if (node) {\n      this.simulation.addPort(port.id, node as CircuitNode)\n    } else {\n      this.simulation.addNode(this.items[itemId], this.ports)\n    }\n  // }\n}\n\n/**\n * Removes a port from the state.\n * This will destroy the entire connection chain that it is a part of (if any).\n *\n * @param portId - ID of the port to destroy\n */\nexport function removePort (this: DocumentStoreInstance, portId: string) {\n  // check to make sure that the element this port is attached to exists in the editor\n  // (note: some ports may be embedded in ICs and therefore not in the editor directly)\n  if (!this.items[this.ports[portId]?.elementId]) return\n\n  // remove all connections associated with this port\n  Object\n    .values(this.connections)\n    .filter(({ source, target }) => source === portId || target === portId)\n    .forEach(c => {\n      // find all segments and freeports of this connection and remove them\n      const {\n        connectionIds,\n        freeportIds\n      } = getConnectionChain(Object.values(this.connections), this.ports, c.connectionChainId)\n\n      connectionIds.forEach(id => this.disconnect(this.connections[id]))\n\n      freeportIds.forEach(id => {\n        // delete all freeports associated with the chain\n        this.items[id].portIds.forEach(portId => {\n          delete this.ports[portId]\n          this.simulation.removePort(portId)\n        })\n\n        delete this.items[id]\n      })\n    })\n\n  this.simulation.removePort(portId)\n\n  const itemId = this.ports[portId].elementId\n  const portIndex = this.items[itemId].portIds.indexOf(portId)\n\n  if (portIndex !== -1) {\n    this.items[itemId].portIds.splice(portIndex, 1)\n  }\n\n  delete this.ports[portId]\n}\n\n/**\n * Sets the ID of the active (i.e., 'previewed'/'enlarged') port.\n *\n * @param portId - ID of the port to activate, or null to remove it\n */\nexport function setActivePortId (this: DocumentStoreInstance, portId: string | null) {\n  if (this.activePortId !== portId) {\n    if (portId) {\n      this.setConnectablePortIds({ portId })\n    } else {\n      this.connectablePortIds = []\n    }\n\n    this.activePortId = portId\n    this.selectedPortIndex = -1\n  }\n}\n\n/**\n * Sets the list of connectable port IDs.\n * This should be invoked whenever a user starts dragging a port.\n *\n * @param portId - the ID of the port being dragged\n */\nexport function setConnectablePortIds (this: DocumentStoreInstance, { portId, isDragging }: { portId: string, isDragging?: boolean }) {\n  const port = this.ports[portId]\n\n  if (port.isFreeport) return // freeports cannot connect to anything\n\n  // generate a list of all port IDs that have at least one connection to/from it\n  const connectedPortIds = Object\n    .values(this.connections)\n    .reduce((portIds: string[], connection: Connection) => {\n      return portIds.concat([connection.source, connection.target])\n    }, [])\n\n  if (isDragging) {\n    // if this port is being dragged, then the user intends to establish a new connection with it\n    // remove the last two ports (the two ports on opposite ends of the \"preview\" connection)\n    connectedPortIds.splice(-2)\n  }\n\n  const filter = port.type === PortType.Output\n    ? (p: Port) => p.type === PortType.Input && !p.isFreeport && !connectedPortIds.includes(p.id) && p.elementId !== port.elementId\n    : (p: Port) => p.type === PortType.Output && !p.isFreeport && !connectedPortIds.includes(port.id) && p.elementId !== port.elementId\n\n  this.connectablePortIds = Object\n    .values(this.ports)\n    .filter(filter)\n    .map(({ id }) => id)\n}\n\n/**\n * Sets the value of the port in the circuit.\n *\n * @param payload.id - ID of the port\n * @param payload.value - new port value\n */\nexport function setPortValue (this: DocumentStoreInstance, { id, value }: { id: string, value: number }) {\n  this\n    .simulation\n    .setPortValue(id, value)\n\n\n  if (this.isDebugging) {\n    this.isCircuitEvaluated = !this.simulation.canContinue\n  }\n}\n\nexport function togglePortMonitoring (this: DocumentStoreInstance, portId: string) {\n  if (this.ports[portId].isMonitored) {\n    this.unmonitorPort(portId)\n  } else {\n    this.monitorPort(portId)\n  }\n}\n\nexport function monitorPort (this: DocumentStoreInstance, portId: string) {\n  const port = this.ports[portId]\n\n  port.hue = port.hue ||  ~~(360 * Math.random())\n  port.isMonitored = true\n\n  this\n    .simulation\n    .monitorPort(portId, port.value, port.hue)\n\n  this.isOscilloscopeOpen = true\n}\n\nexport function unmonitorPort (this: DocumentStoreInstance, portId: string) {\n  const port = this.ports[portId]\n\n  port.isMonitored = false\n\n  this\n    .simulation\n    .unmonitorPort(portId)\n\n  this.isOscilloscopeOpen = Object.keys(this.oscillogram).length > 0\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport rotation from '../geometry/rotation'\nimport Direction from '@/types/enums/Direction'\nimport SnapMode from '@/types/enums/SnapMode'\nimport ItemType from '@/types/enums/ItemType'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\n\n/**\n * Centers all items (together as a group) to the center of the canvas.\n * All distances between items are maintained when this occurs.\n */\nexport function centerAll (this: DocumentStoreInstance) {\n  const boundingBoxes = Object\n    .values(this.items)\n    .map(({ boundingBox }) => boundingBox)\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const { x, y } = boundaries.getCenteredScreenPoint(this.canvas, boundingBox, 20) // TODO: make 20 configurable as grid size\n\n  const deltaX = x - boundingBox.left\n  const deltaY = y - boundingBox.top\n\n  Object\n    .values(this.items)\n    .forEach(item => {\n      this.setItemPosition({\n        id: item.id,\n        position: {\n          x: item.position.x + deltaX,\n          y: item.position.y + deltaY\n        }\n      })\n    })\n}\n\nexport function setPortRelativePosition (this: DocumentStoreInstance, position: Point, portId: string) {\n  const port = this.ports[portId]\n\n  port.position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, position, this.zoom)\n}\n\n/**\n * Sets the position of an item.\n *\n * @param payload\n * @param payload.id - ID of the item\n * @param payload.position - new position to move to\n */\nexport function setItemPosition (this: DocumentStoreInstance, { id, position }: { id: string, position: Point }) {\n  const item = this.items[id]\n  const delta: Point = {\n    x: position.x - item.position.x,\n    y: position.y - item.position.y\n  }\n\n  this.items[id].position = position\n  this.setItemBoundingBox(id)\n\n  item\n    .portIds\n    .forEach(portId => {\n      const port = this.ports[portId]\n\n      this.ports[portId].position = {\n        x: port.position.x + delta.x,\n        y: port.position.y + delta.y\n      }\n    })\n}\n\nexport function dragItem (this: DocumentStoreInstance, id: string, position: Point, snapMode?: SnapMode) {\n  const { x, y } = fromDocumentToEditorCoordinates(this.canvas, this.viewport, position, this.zoom)\n  const { width, height, rotation } = this.items[id]\n  const boundingBox = boundaries.getBoundingBox({ x, y }, rotation, width, height)\n  const offset = boundaries.getSnapOffset(this.snapBoundaries, boundingBox, snapMode || SnapMode.Outer, 15) // TODO: configurable snap position and tolerance\n\n  this.setSelectionPosition({\n    id,\n    position: {\n      x: x + offset.x,\n      y: y + offset.y\n    }\n  })\n}\n\n/**\n * Moves all selected items according to the delta provided.\n *\n * @param delta - delta to move the items by\n */\nexport function moveSelectionPosition (this: DocumentStoreInstance, delta: Point) {\n  const id: string | undefined = this.selectedItemIds[0]\n\n  if (id) {\n    const item = this.items[id]\n    const position: Point = {\n      x: item.position.x + delta.x,\n      y: item.position.y + delta.y\n    }\n\n    this.commitState()\n    this.setSelectionPosition({ id, position })\n  }\n}\n\n/**\n * Moves all selected items according to the delta that the given item has moved by.\n *\n * @param payload\n * @param payload.id - ID of the reference item moving\n * @param payload.position - new position that the reference item has moved to\n */\nexport function setSelectionPosition (this: DocumentStoreInstance, { id, position }: { id: string, position: Point }) {\n  const referenceItem = this.items[id]\n  const delta: Point = {\n    x: position.x - referenceItem.position.x,\n    y: position.y - referenceItem.position.y\n  }\n  const groupIds = new Set<string>()\n\n  this.setSelectionState({ id, value: true })\n\n  if (referenceItem.type === ItemType.Freeport) {\n    // if this item is a freeport, drag only this and nothing else\n    return this.setItemPosition({ id, position })\n  }\n\n  this\n    .selectedItemIds\n    .forEach((itemId: string) => {\n      const item = this.items[itemId]\n      const position: Point = {\n        x: item.position.x + delta.x,\n        y: item.position.y + delta.y\n      }\n\n      if (item.groupId) {\n        groupIds.add(item.groupId)\n      }\n\n      this.setItemPosition({ id: itemId, position })\n    })\n\n  groupIds.forEach(this.setGroupBoundingBox)\n}\n","\nimport Direction from '@/types/enums/Direction'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nfunction rotate (rotation: number, additional = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n\n/**\n * Returns the absolute Cartesian position of an item based on its parent group's rotation and position.\n *\n * @param groupBoundingBox - group for which the item is a member of\n * @param item - item to compute position for\n * @param direction - rotation direction (1 for CW, -1 for CCW)\n * @returns\n */\nfunction getGroupedItemRotatedPosition (groupBoundingBox: BoundingBox, item: Item, direction: number): Point {\n  const w = groupBoundingBox.right - groupBoundingBox.left\n  const h = groupBoundingBox.bottom - groupBoundingBox.top\n  const mx = groupBoundingBox.left + (w / 2)\n  const my = groupBoundingBox.top + (h / 2)\n  const cx = item.position.x\n  const cy = item.position.y\n  const ax = cx + (item.width / 2)\n  const ay = cy + (item.height / 2)\n  const L = Math.hypot(mx - ax, my - ay)\n  const currentAngleRad = Math.atan2((ay - my), (ax - mx))\n  const newAngle = (90 * direction * (Math.PI / 180)) + currentAngleRad\n  const newAx = (L * Math.cos(newAngle)) + mx\n  const newAy = (L * Math.sin(newAngle)) + my\n\n  return {\n    x: newAx - (item.width / 2),\n    y: newAy - (item.height / 2)\n  }\n}\n\nexport default {\n  rotate,\n  getGroupedItemRotatedPosition\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport rotation from '../geometry/rotation'\n\n/**\n * Rotates all selected elements by 90 degrees.\n * If multiple items are selected, this will rotate them as if they are all part of a group.\n *\n * @param direction - direction of rotation (1 = CW, -1 = CCW)\n */\nexport function rotate (this: DocumentStoreInstance, direction: number) {\n  this.commitState()\n\n  const selectedItems = Object\n    .values(this.items)\n    .filter(({ isSelected }) => isSelected)\n  const boundingBoxes = selectedItems.map(({ boundingBox }) => boundingBox)\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const groupIds = new Set<string>()\n\n  selectedItems.forEach(item => {\n    const newRotation = rotation.rotate(item.rotation + direction)\n\n    if (item.groupId) {\n      groupIds.add(item.groupId)\n    }\n\n    this.items[item.id].rotation = newRotation\n    this\n      .items[item.id]\n      .portIds\n      .forEach(portId => {\n        this.ports[portId].rotation = newRotation\n      })\n\n    this.setItemPosition({\n      id: item.id,\n      position: rotation.getGroupedItemRotatedPosition(boundingBox, item, direction)\n    })\n  })\n\n  groupIds.forEach(groupId => {\n    this.setGroupBoundingBox(groupId)\n  })\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport ItemType from '@/types/enums/ItemType'\n\n\nexport function deselectItem (this: DocumentStoreInstance, id: string) {\n  this.setSelectionState({ id, value: false })\n}\n\nexport function selectItem (this: DocumentStoreInstance, id: string, keepSelection: boolean = false) {\n  if (!keepSelection) {\n    this.deselectAll()\n  }\n\n  this.setSelectionState({ id, value: true })\n}\n\n/**\n * Selects all items and connections.\n */\nexport function selectAll (this: DocumentStoreInstance) {\n  this.clearStatelessInfo()\n\n  for (let id in this.connections) {\n    this.connections[id].isSelected = true\n    this.selectedConnectionIds.push(id)\n  }\n\n  for (let id in this.items) {\n    this.items[id].isSelected = true\n    this.selectedItemIds.push(id)\n  }\n}\n\n/**\n * Deselects all elements.\n */\nexport function deselectAll (this: DocumentStoreInstance) {\n  this.clearStatelessInfo()\n\n  for (let id in this.connections) {\n    this.connections[id].isSelected = false\n    this.selectedConnectionIds = []\n  }\n\n  for (let id in this.items) {\n    this.items[id].isSelected = false\n    this.selectedItemIds.push(id)\n    this.selectedItemIds = []\n  }\n}\n\n/**\n * Selects all connections and items (and its connections) that live within the given boundary.\n *\n * @param boundingBox - two-dimensional boundary\n */\nexport function createSelection (this: DocumentStoreInstance, selection: BoundingBox) {\n  if (!boundaries.isOneOrTwoDimensional(selection)) return // omit selection lines or points\n\n  const itemIds = Object\n    .keys(this.items)\n    .filter(id => boundaries.hasIntersection(selection, this.items[id].boundingBox))\n  const connectionIds = Object\n    .keys(this.connections)\n    .filter(id => {\n      const connection = this.connections[id]\n      const source = this.ports[connection.source]\n      const target = this.ports[connection.target]\n\n      return boundaries.isLineIntersectingRectangle(source.position, target.position, selection)\n    })\n\n  itemIds\n    .concat(connectionIds)\n    .forEach(id => {\n      this.updateSelectionList({ id, isSelected: true })\n    })\n\n  this.selectItemConnections(itemIds)\n}\n\n/**\n * Selects all connections that are connected to any of the items in the given list.\n *\n * @param itemIds - list of items to select their connections for\n */\nexport function selectItemConnections (this: DocumentStoreInstance, itemIds: string[]) {\n  const portIds = itemIds.reduce((portIds: string[], itemId: string) => {\n    return portIds.concat(this.items[itemId].portIds)\n  }, [])\n\n  for (let id in this.connections) {\n    const c = this.connections[id]\n\n    if (portIds.includes(c.source) && portIds.includes(c.target)) {\n      this.updateSelectionList({ id, isSelected: true })\n    }\n  }\n}\n\n/**\n * Sets the selection this of the given element to the value provided.\n * If the item is a connection segment, then its entire connection chain will take on the same value.\n *\n * @param payload\n * @param payload.id - ID of the item, group, or connection to select\n * @param payload.isSelected - selection this to change to\n */\nexport function updateSelectionList (this: DocumentStoreInstance, { id, isSelected }: { id: string, isSelected: boolean }) {\n  const updateSelectionList = (id: string, key: 'selectedConnectionIds' | 'selectedItemIds') => {\n    const index = this[key].findIndex((i: string) => i === id)\n\n    if (isSelected && index === -1) {\n      this[key].push(id)\n    }\n\n    if (!isSelected && index !== -1) {\n      this[key].splice(index, 1)\n    }\n  }\n\n  if (this.items[id]) {\n    // select an individual item\n    this.items[id].isSelected = isSelected\n    updateSelectionList(id, 'selectedItemIds')\n  } else if (this.connections[id]) {\n    // select a connection (chain)\n    const { connectionChainId } = this.connections[id]\n    const {\n      connectionIds,\n      freeportIds\n    } = getConnectionChain(Object.values(this.connections), this.ports, connectionChainId)\n\n    // select all connection segments that are part of this connection chain\n    connectionIds.forEach(id => {\n      this.connections[id].isSelected = isSelected\n      updateSelectionList(id, 'selectedConnectionIds')\n    })\n\n    // select all freeports that are part of this connection chain\n    freeportIds.forEach(id => {\n      this.items[id].isSelected = isSelected\n      updateSelectionList(id, 'selectedItemIds')\n    })\n  }\n}\n\n/**\n * Inverts the selection this of the element having the given ID, or forces it to the value provided.\n * If the element is a member of a group, every item in that group will be selected.\n *\n * @param payload.id - the ID of the element to toggle its selection\n * @param payload.value - new selection this value to set to\n */\nexport function setSelectionState (this: DocumentStoreInstance, { id, value }: { id: string, value: boolean }) {\n  const element = this.items[id] || this.connections[id]\n  const isSelected = value\n\n  if (!element || element.isSelected === isSelected) return\n\n  if (element.groupId) {\n    // if item is part of a group, select all items in that group\n    const { itemIds, connectionIds } = this.groups[element.groupId]\n\n    itemIds\n      .concat(connectionIds)\n      .forEach(id => {\n        this.updateSelectionList({ id, isSelected })\n      })\n\n    this.updateSelectionList({ id: element.groupId, isSelected })\n  } else {\n    // otherwise, just select this one item\n    this.updateSelectionList({ id, isSelected })\n  }\n}\n\n/**\n * Places focus back to the last base item or forward to the first base item (according to z-index).\n *\n * @param {boolean} backToFirstItem - true if the next item to focus is the first item, or to the first item otherwise\n */\nexport function recycleSelection (this: DocumentStoreInstance, backToFirstItem: boolean) {\n  const id = backToFirstItem\n    ? this.baseItems[0]\n    : this.baseItems.slice(-1)[0]\n\n  if (id) {\n    this.deselectAll()\n    this.setSelectionState({ id: id.id, value: true })\n  }\n}\n\n/**\n * Deletes all selected items and connections.\n */\nexport function deleteSelection (this: DocumentStoreInstance) {\n  if (!this.hasSelection) return\n\n  this.commitState()\n  this.clearBaseItems(this.selectedItemIds, this.selectedConnectionIds, this.selectedGroupIds.filter(id => id !== null) as string[])\n  this.deselectAll()\n}\n","import SimulationService from '@/services/SimulationService'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Restarts the simulation (if not in debugging mode).\n */\nexport function toggleOscillatorRecording (this: DocumentStoreInstance) {\n  if (this.simulation.oscillator.isPaused) {\n    this.simulation.oscillator.start()\n  } else {\n    this.simulation.oscillator.stop()\n  }\n\n  this.isOscilloscopeRecording = !this.simulation.oscillator.isPaused\n}\n\n/**\n * Updates the store according to the port-value mapping provided.\n * This also accepts oscillogram to update the visual oscilloscope.\n */\nexport function onSimulationUpdate (this: DocumentStoreInstance, valueMap: Record<string, number>) {\n  for (const portId in valueMap) {\n    if (this.ports[portId]) {\n      const port = this.ports[portId]\n      const item = this.items[port.elementId]\n\n      if (item && port.value !== valueMap[portId]) {\n        this.debugger.hasUpdated = true\n      }\n\n      port.value = valueMap[portId]\n    }\n  }\n\n  this.isCircuitEvaluated = !this.simulation.canContinue\n\n  clearTimeout(this.debugger.timeout)\n\n  this.debugger.timeout = window.setTimeout(() => {\n    // if the user can still advance a step and the circuit hasn't finished evaluating yet, step over again\n    // this is in a timeout in order to wait for the next JS frame (by which time all event emissions will have completed)\n    if (!this.debugger.hasUpdated && this.simulation.canContinue && this.isDebugging) {\n      this.debugger.hasUpdated = false\n      this.simulation.advanceDebuggerStep()\n    }\n  })\n}\n\nexport function onError (this: DocumentStoreInstance, error: string) {\n  window.api.showMessageBox({\n    message: 'An infinite loop was detected! Entering debugger mode.',\n    type: 'error'\n  })\n\n  this.isDebugging = true\n  this.simulation.startDebugging()\n}\n\nexport function resetCircuit (this: DocumentStoreInstance) {\n  const items = Object.values(this.items)\n  const connections = Object.values(this.connections)\n\n  Object\n    .values(this.ports)\n    .forEach(port => {\n      port.value = 0\n    })\n\n  this.simulation.stop()\n  this.simulation = new SimulationService(items, connections, this.ports)\n  this.simulation.onChange(this.onSimulationUpdate)\n  this.simulation.onError(this.onError)\n\n  // set the callback to update the oscilloscope when the oscillogram updates\n  this.simulation.oscillator.on('change', oscillogram => {\n    this.oscillogram = oscillogram\n  })\n\n  // apply the initial port values\n  Object\n    .values(this.items)\n    .forEach(({ properties, portIds }) => {\n      if (properties?.startValue) {\n        portIds.forEach(portId => this.setPortValue({\n          id: portId,\n          value: properties.startValue.value as number\n        }))\n      }\n    })\n\n  this.simulation.start()\n\n  if (this.isDebugging) {\n    this.simulation.startDebugging()\n    this.isCircuitEvaluated = !this.simulation.canContinue\n  }\n}\n\nexport function stepThroughCircuit (this: DocumentStoreInstance) {\n  this.debugger.hasUpdated = false\n  this.simulation.advanceDebuggerStep()\n  this.isCircuitEvaluated = !this.simulation.canContinue\n}\n\nexport function toggleDebugger (this: DocumentStoreInstance) {\n\n\n  if (this.isDebugging) {\n    this.simulation.stopDebugging()\n  } else {\n    this.simulation.startDebugging()\n  }\n\n  this.isDebugging = !this.isDebugging\n}\n\nexport function toggleOscilloscope (this: DocumentStoreInstance) {\n  if (this.isOscilloscopeOpen) {\n    this.closeOscilloscope()\n  } else {\n    this.openOscilloscope()\n  }\n}\n\nexport function openOscilloscope (this: DocumentStoreInstance) {\n  Object\n    .values(this.ports)\n    .forEach(port => {\n      if (port.isMonitored) {\n        this.simulation.monitorPort(port.id, port.value, port.hue)\n      }\n    })\n\n  this.isOscilloscopeOpen = true\n}\n\nexport function closeOscilloscope (this: DocumentStoreInstance, lastHeight?: number) {\n  if (!this.isOscilloscopeOpen) return\n\n  Object\n    .keys(this.ports)\n    .forEach(this.simulation.unmonitorPort)\n\n  this.simulation.oscillator.clear()\n  this.isOscilloscopeOpen = false\n\n  if (lastHeight) {\n    this.oscilloscopeHeight = lastHeight\n  }\n}\n\nexport function clearOscilloscope (this: DocumentStoreInstance) {\n  this.simulation.oscillator.clear()\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\nexport function updateCanvasSize (this: DocumentStoreInstance) {\n  const boundingBoxes = Object\n    .values(this.items)\n    .map(item => item.boundingBox)\n\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n  const canvasWidth = this.canvas.right - this.canvas.left\n  const canvasHeight = this.canvas.bottom - this.canvas.top\n\n  if (width > canvasWidth || height > canvasHeight) {\n    // if the boundaries of item(s) exceeds the canvas dimensions, then resize the canvas\n    // the new canvas size should be twice the dimensions of the boundary of all the items\n    this.canvas = {\n      left: 0,\n      top: 0,\n      right: width * 2,\n      bottom: height * 2\n    }\n    this.centerAll()\n    this.panToCenter()\n  }\n\n  // zoom to fit everything on the screen (within the editor viewport)\n  setTimeout(() => {\n    this.setZoom({\n      zoom: Math.min(this.viewport.width / width, this.viewport.height / height, 1)\n    })\n  })\n}\n\n/**\n * Assigns the rects of the canvas and viewport according to the screen size and rect provided.\n *\n * @param {DOMRectReadOnly} payload.rect - the rect of the item's DOM element\n */\nexport function setViewerSize (this: DocumentStoreInstance, rect: DOMRect) {\n  this.viewport = rect\n  this.canvas.right = screen.width / MIN_SCALE\n  this.canvas.bottom =  screen.height / MIN_SCALE\n\n  if (!this.hasLoaded && rect.width > 0 && rect.height > 0) {\n    this.hasLoaded = true\n    this.updateCanvasSize()\n    this.centerAll()\n    this.panToCenter()\n    // this.setZoom({ zoom: 1.4 }) // TODO: set the user-defined default zoom like this\n  }\n}\n\n/**\n * Updates the size of the item.\n * This re-positions the item such that its centroid is in the same location as it was with its old size.\n *\n * @param {object} payload\n * @param {DOMRectReadOnly} payload.rect - the rect of the item's DOM element\n * @param {string} payload.id - ID of the item\n */\nexport function setItemSize (this: DocumentStoreInstance, { rect, id }: { rect: DOMRectReadOnly, id: string }) {\n  const item = this.items[id]\n\n  const width = rect.width / this.zoomLevel\n  const height = rect.height / this.zoomLevel\n\n  // reposition w.r.t. the centroid\n  const centerX = item.position.x + (item.width / 2)\n  const centerY = item.position.y + (item.height / 2)\n  const newX = centerX - width / 2\n  const newY = centerY - height / 2\n\n  this.items[id].position = {\n    x: newX,\n    y: newY\n  }\n  this.items[id].width = width\n  this.items[id].height = height\n\n  this.setItemBoundingBox(id)\n\n  if (this.items[id].groupId) {\n    this.setGroupBoundingBox(this.items[id].groupId as string)\n  }\n}\n\n/**\n * Sets the bounding box of an item.\n *\n * @param {string} payload.id - ID of the item\n */\nexport function setItemBoundingBox (this: DocumentStoreInstance, id: string) {\n  if (!this.items[id]) return\n\n  const {\n    position,\n    rotation,\n    width,\n    height\n  } = this.items[id]\n\n  this.items[id].boundingBox = boundaries.getBoundingBox(position, rotation, width, height)\n}\n\n/**\n * Sets the bounding box of a group.\n *\n * @param {string} payload.id - ID of the group\n */\nexport function setGroupBoundingBox (this: DocumentStoreInstance, id: string) {\n  if (!this.groups[id]) return\n\n  const boundingBoxes = this\n    .groups[id]\n    .itemIds\n    .map(id => this.items[id].boundingBox)\n\n  this.groups[id].boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n}\n","import ItemType from '@/types/enums/ItemType'\nimport boundaries from '../geometry/boundaries'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Sets the computed boundaries that an actively-dragged item to snap to.\n *\n * @param id - ID of the item or port being dragged\n */\n  export function setSnapBoundaries (this: DocumentStoreInstance, id: string) {\n  this.snapBoundaries = ((): BoundingBox[] => {\n    if (this.connectablePortIds.length) {\n      // if there are connectable port ids, then use those for boundaries\n      return this\n        .connectablePortIds\n        .filter(portId => portId !== id)\n        .map(portId => boundaries.getPointBoundary(this.ports[portId].position))\n    }\n\n    const item = this.items[id]\n\n    if (item && !item.groupId) {\n      // the item with the given id is an item that does not belong to a group\n      if (item.type === ItemType.Freeport) {\n        if (item.portIds.length > 1) {\n          // if only one port exists on the freeport, then it is a port being dragged by the user and does not apply\n          // freeports should snap to \"straighten out\" wires\n          return Object\n            .values(this.connections)\n            .reduce((boundingBoxes: BoundingBox[], connection: Connection) => {\n              if (item.portIds.includes(connection.source)) {\n                return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.target].position))\n              }\n\n              if (item.portIds.includes(connection.target)) {\n                return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.source].position))\n              }\n\n              return boundingBoxes\n            }, [])\n        }\n      } else {\n        // this an item that can snap to align with the outer edge of any non-freeport item\n        return Object\n          .values(this.items)\n          .filter(e => e.id !== id && e.type !== ItemType.Freeport)\n          .map(e => e.boundingBox)\n      }\n    }\n    return []\n  })()\n}\n","import { DocumentStoreInstance } from '..'\n\n/**\n * Reverts to the most-recently committed document this.\n */\nexport function undo (this: DocumentStoreInstance) {\n  const undoState = this.undoStack.slice(-1).pop()\n\n  if (undoState) {\n    this.redoStack.push(JSON.stringify({\n      connections: this.connections,\n      items: this.items,\n      ports: this.ports,\n      groups: this.groups\n    }))\n    this.applyState(undoState)\n    this.undoStack.pop()\n    this.isDirty = true\n  }\n}\n\n/**\n * Reverts to the most-recently-reverted this.\n */\nexport function redo (this: DocumentStoreInstance) {\n  const redoState = this.redoStack.slice(-1).pop()\n\n  if (redoState) {\n    this.undoStack.push(JSON.stringify({\n      connections: this.connections,\n      items: this.items,\n      ports: this.ports,\n      groups: this.groups\n    }))\n    this.applyState(redoState)\n    this.redoStack.pop()\n    this.isDirty = true\n  }\n}\n\nexport function commitState (this: DocumentStoreInstance) {\n  this.cacheState()\n  this.commitCachedState()\n}\n\n/**\n * Stringifies and caches the current document this.\n * This will save all connections, items, ports, and groups.\n */\nexport function cacheState (this: DocumentStoreInstance) {\n  this.cachedState = JSON.stringify({\n    connections: this.connections,\n    items: this.items,\n    ports: this.ports,\n    groups: this.groups\n  })\n}\n\n/**\n * Commits the actively-cached this to the undo stack.\n * This will clear the redo stack.\n */\nexport function commitCachedState (this: DocumentStoreInstance) {\n  if (this.cachedState) {\n    this.undoStack.push(this.cachedState.toString())\n    this.cachedState = null\n    this.redoStack = []\n    this.isDirty = true\n  }\n}\n\n/**\n * Applies the given serialized this to the active document.\n *\n * This this must contain exactly these maps: `items`, `connections`, `ports`, `groups`.\n * Any other properties will not be applied.\n *\n * @param {string} savedState - JSON-serialized this string\n */\nexport function applyState (this: DocumentStoreInstance, savedState: string) {\n  const parsedState = JSON.parse(savedState) as SerializableState\n  const { items, connections, ports, groups } = parsedState\n\n  /* returns everything in a that is not in b */\n  function getExcludedMembers (a: Record<string, BaseItem>, b: Record<string, BaseItem>) {\n    const aIds = Object.keys(a)\n    const bIds = Object.keys(b)\n\n    return aIds.filter(id => !bIds.includes(id))\n  }\n\n  // find all items and connections in current this that are not in the applied this and remove them from the circuit\n  const removedItems = getExcludedMembers(this.items, items)\n  const removedConnections = getExcludedMembers(this.connections, connections)\n\n  // add any new items from the the applied this to the circuit\n  const addedItems = getExcludedMembers(items, this.items)\n  const addedConnections = getExcludedMembers(connections, this.connections)\n\n  this.clearBaseItems(removedItems, removedConnections, [])\n\n  this.ports = ports\n  this.items = items\n  this.groups = groups\n\n  addedItems.forEach(id => {\n    this.addItem({\n      item: items[id],\n      ports\n    })\n  })\n\n  addedConnections.forEach(id => this.connect(connections[id]))\n\n  this.stepThroughCircuit()\n}\n","/**\n * Sorting function to sort BaseItems by their zIndex values in ascending order.\n */\nexport default function sortByZIndex (a: BaseItem, b: BaseItem) {\n  if (a.zIndex > b.zIndex) return 1\n  else if (a.zIndex < b.zIndex) return -1\n  return 0\n}\n","import { DocumentStoreInstance } from '..'\nimport sortByZIndex from '@/utils/sortByZIndex'\n\n/**\n * Sends the selected base item(s) to the back.\n */\nexport function sendBackward (this: DocumentStoreInstance) {\n  this.commitState()\n  this.incrementZIndex(-1)\n}\n\n/**\n * Brings the selected base item(s) to the front.\n */\nexport function bringForward (this: DocumentStoreInstance) {\n  this.commitState()\n  this.incrementZIndex(1)\n}\n\n/**\n * Sends the selected base item(s) backward by one z-index.\n */\nexport function sendToBack (this: DocumentStoreInstance) {\n  this.commitState()\n  this.setZIndex(1)\n}\n\n/**\n * Brings the selected base item(s) forward by one z-index.\n */\nexport function bringToFront (this: DocumentStoreInstance) {\n  this.commitState()\n  this.setZIndex(this.zIndex)\n}\n\n/**\n * Increments the zIndex of all items selected.\n * If an item's movement collides with another item's movement, or it becomes out of bounds, its zIndex will not change.\n *\n * @param {number} direction - 1 to increment, -1 to decrement\n */\nexport function incrementZIndex (this: DocumentStoreInstance, direction: number) {\n  const items: BaseItem[] = Object.values(this.items)\n  const connections: BaseItem[] = Object.values(this.connections)\n  const baseItems = items\n    .concat(connections)\n    .sort(sortByZIndex)\n  const selectedItemIds = baseItems\n    .filter(({ isSelected }) => isSelected)\n    .map(({ id }) => id)\n\n  if (direction > 0) {\n    // if the direction is forward, then reverse the selected IDs\n    // this is because the next item that an item may want to swap with may also be swapping (and therefore frozen)\n    // reversing the order that we look at the items will prevent that from happening\n    selectedItemIds.reverse()\n  }\n\n  const frozenIds: string[] = []\n\n  selectedItemIds.forEach(id => {\n    const currentIndex = baseItems.findIndex(i => i.id === id)\n    const nextIndex = currentIndex + direction\n\n    if (nextIndex < 0 || nextIndex >= baseItems.length) {\n      // if the next zIndex pushes it out of bounds, freeze it\n      frozenIds.push(baseItems[currentIndex].id)\n      return\n    }\n\n    if (!frozenIds.includes(baseItems[nextIndex]?.id)) {\n      const item = baseItems[currentIndex]\n      // if the item to swap with is not frozen, then swap places with it\n      baseItems.splice(currentIndex, 1)\n      baseItems.splice(nextIndex, 0, item)\n    }\n  })\n\n  baseItems.forEach((item, index) => {\n    item.zIndex = index + 1\n  })\n\n  this.zIndex = Object.keys(baseItems).length\n}\n\n/**\n * Moves all selected items to the given zIndex values.\n * If those items aren't siblings already, they will be when this is invoked.\n *\n * @param {number} zIndex - new zIndex to move items to\n */\nexport function setZIndex (this: DocumentStoreInstance, zIndex: number) {\n  const items: BaseItem[] = Object.values(this.items)\n  const connections: BaseItem[] = Object.values(this.connections)\n  let baseItems = items\n    .concat(connections)\n    .sort(sortByZIndex)\n  const selectedItems = baseItems.filter(({ isSelected }) => isSelected)\n\n  for (let i = 0; i < baseItems.length; i++) {\n    if (baseItems[i].isSelected) {\n      baseItems.splice(i, 1)\n      i--\n    }\n  }\n\n  baseItems.splice(zIndex - 1, 0, ...selectedItems)\n  baseItems.forEach((item, index) => {\n    item.zIndex = index + 1\n  })\n\n  this.zIndex = Object.keys(baseItems).length\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\n/**\n * Increments the current zoom by one scale step (in the positive or negative direction).\n *\n * @param [direction = 1] - directional scalar (1 or -1)\n */\nexport function incrementZoom (this: DocumentStoreInstance, direction = 1) {\n  this.setZoom({\n    zoom: this.zoomLevel + (SCALE_STEP * direction)\n  })\n}\n\n/**\n * Sets the zoom level for the document.\n * This will zoom on the focal point (if provided) or the center of the visible area (viewport).\n *\n * @param zoom - percentage of zoom by decimal (e.g., 1.0 = 100%)\n * @param [point] - focal point to zoom on\n */\nexport function setZoom (this: DocumentStoreInstance, { zoom, point }: { zoom: number, point?: Point }) {\n  if (zoom < MIN_SCALE) zoom = MIN_SCALE\n  if (zoom > MAX_SCALE) zoom = MAX_SCALE\n\n  zoom = Math.round(zoom * 100) / 100\n\n  if (!point) {\n    point = boundaries.getBoundingBoxMidpoint(this.viewport)\n    point.x += this.viewport.left\n    point.y += this.viewport.top\n  }\n\n  const zoomedPoint = fromDocumentToEditorCoordinates(this.canvas, this.viewport, point, this.zoomLevel)\n  const scaledPoint = { // the canvas coordinate, scaled by the new zoom factor\n    x: zoomedPoint.x * zoom,\n    y: zoomedPoint.y * zoom\n  }\n  const viewportPoint = { // the point w.r.t. the top left offset of the viewport\n    x: point.x - this.viewport.x,\n    y: point.y - this.viewport.y\n  }\n\n  this.panTo({\n    x: Math.round(Math.min(viewportPoint.x - scaledPoint.x, 0)),\n    y: Math.round(Math.min(viewportPoint.y - scaledPoint.y, 0))\n  })\n\n  this.zoomLevel = zoom\n}\n","import { defineStore } from 'pinia'\nimport { state, DocumentState } from './state'\nimport * as clipboardActions from './actions/clipboard'\nimport * as connectionActions from './actions/connection'\nimport * as editorActions from './actions/editor'\nimport * as freeportActions from './actions/freeport'\nimport * as groupingActions from './actions/grouping'\nimport * as itemActions from './actions/item'\nimport * as panningActions from './actions/panning'\nimport * as portActions from './actions/port'\nimport * as positioningActions from './actions/positioning'\nimport * as rotationActions from './actions/rotation'\nimport * as selectionActions from './actions/selection'\nimport * as simulationActions from './actions/simulation'\nimport * as sizingActions from './actions/sizing'\nimport * as snappingActions from './actions/snapping'\nimport * as undoRedoActions from './actions/undoRedo'\nimport * as zIndexActions from './actions/zIndex'\nimport * as zoomingActions from './actions/zooming'\nimport sortByZIndex from '@/utils/sortByZIndex'\n\nexport const createDocumentStore = (documentId: string) => defineStore({\n  id: documentId,\n  state,\n  getters: {\n    baseItems (state) {\n      return (Object\n        .values(state.connections) as BaseItem[])\n        .concat(Object.values(state.items) as BaseItem[])\n        .sort(sortByZIndex)\n    },\n\n    zoom (state) {\n      return state.zoomLevel\n    },\n\n    hasSelection (state) {\n      return state.selectedItemIds.length > 0 || state.selectedConnectionIds.length > 0\n    },\n\n    hasSelectedItems (state) {\n      return state.selectedItemIds.length > 0\n    },\n\n    selectedGroupIds (state) {\n      const selectedGroupIds = new Set<string | null>()\n\n      state\n        .selectedItemIds\n        .forEach(id => selectedGroupIds.add(state.items[id]?.groupId))\n\n      return Array.from(selectedGroupIds)\n    },\n\n    canGroup () {\n      return this.selectedGroupIds.length > 1 || [].slice.call(this.selectedGroupIds)[0] === null\n    },\n\n    canUngroup () {\n      return !![].slice.call(this.selectedGroupIds).find(id => !!id)\n    },\n\n    canUndo (state) {\n      return state.undoStack.length > 0\n    },\n\n    canRedo (state) {\n      return state.redoStack.length > 0\n    }\n  },\n  actions: {\n    ...clipboardActions,\n    ...connectionActions,\n    ...editorActions,\n    ...freeportActions,\n    ...groupingActions,\n    ...itemActions,\n    ...panningActions,\n    ...portActions,\n    ...positioningActions,\n    ...rotationActions,\n    ...selectionActions,\n    ...simulationActions,\n    ...snappingActions,\n    ...sizingActions,\n    ...undoRedoActions,\n    ...zIndexActions,\n    ...zoomingActions\n  }\n})\n\nexport type DocumentStore = ReturnType<typeof createDocumentStore>\n\nexport type DocumentStoreInstance = ReturnType<DocumentStore>\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\nimport ItemType from '@/types/enums/ItemType'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport itemFactory from './itemFactory'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\n/**\n * Creates an integrated circuit item.\n * This will embed the ports, connections, and items provided as internal circuit elements and expose input and output ports for each input and output node, respectively.\n *\n * @param statePorts - ports belonging to all elements to embed\n * @param stateItems - items to embed\n * @param stateConnections - connections between items to embed\n */\nexport default function integratedCircuitFactory (state: SerializableState, name: string, width: number, height: number, subtype = ItemSubtype.CustomCircuit) {\n  const { ports, items, connections, groups } = cloneDeep(state)\n  const integratedCircuitItem = itemFactory(uuid(), ItemType.IntegratedCircuit, subtype, width, height)\n\n  Object\n    .values(items)\n    .forEach(item => {\n      const itemPorts = item\n        .portIds\n        .map(portId => ports[portId])\n\n      let portSequenceNumber = 0\n\n      // find the port type (either all input or all output)\n      const homogenousPortType = itemPorts.reduce((portType: PortType | null | undefined, port) => {\n        return portType === undefined || portType === port.type ? port.type : null\n      }, undefined)\n\n      // if there is no homogenous port type (either mixed or no ports), then it's not an I/O element\n      if (typeof homogenousPortType !== 'number') return\n\n      // by default, the inputs will be on the left and the outputs on the right, but the user can change this\n      const orientation = homogenousPortType === PortType.Input\n        ? Direction.Right\n        : Direction.Left\n\n      // loop through each input node (switch, button, etc.) and each output node (lightbulb, etc.) in the circuit\n      // input nodes will convert to buffers and will take in a signal from the outside world\n      // output nodes will convert to buffers and signals it receives and broadcast them to the outside world\n      itemPorts\n        .filter(port => port.type === homogenousPortType)\n        .forEach(port => {\n          const newId = uuid()\n          const name = item.properties.name?.value as string || item.name\n\n          // each input node (switch, button, etc.) will become a buffer node when simulated\n          // therefore each input node (now buffer) will receive an additional input port to receive signals from the outside world\n          // likewise, each output node (also now a buffer) will receive an additional output port to broadcast signals to the outside world\n          // these new input and output ports will be used by both the embedded nodes and the integrated circuit element itself\n          ports[newId] = {\n            ...cloneDeep<Port>(port),\n            type: homogenousPortType === PortType.Input\n              ? PortType.Output\n              : PortType.Input,\n            name: itemPorts.length > 1\n              ? `${name} ${portSequenceNumber++}`\n              : name,\n            id: newId,\n            elementId: item.id,\n            orientation,\n            value: 0\n          }\n\n          item.portIds.push(newId)\n          integratedCircuitItem.portIds.push(newId)\n        })\n\n      item.type = ItemType.Buffer\n    })\n\n  integratedCircuitItem.name = name\n  integratedCircuitItem.integratedCircuit = {\n    items,\n    connections,\n    ports,\n    groups,\n    serializedState: JSON.stringify({\n      items: state.items,\n      connections: state.connections,\n      ports: state.ports,\n      groups: state.groups\n    })\n  }\n\n  return integratedCircuitItem\n}\n","import { Buffer } from 'buffer'\nimport JSZip from 'jszip'\n\nexport default class FileService {\n  static async open (filePath: string) {\n    const zip = new JSZip()\n\n    const compressedContent = window.api.openFile(filePath)\n    const { files } = await zip.loadAsync(compressedContent)\n    const data = await files.content.async('text')\n\n    return data\n  }\n\n  static async writeBlob (filePath: string, blob: Blob) {\n    const blobby = await blob.arrayBuffer()\n    const buf = Buffer.from(blobby)\n\n    window.api.saveFile(filePath, buf)\n  }\n\n  static async save (filePath: string, content: object) {\n    const zip = new JSZip()\n\n    zip.file('content', JSON.stringify(content))\n\n    const compressedContent = await zip.generateAsync({ type: 'blob' })\n\n    this.writeBlob(filePath, compressedContent)\n  }\n}\n","import { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport integratedCircuitFactory from '@/factories/integratedCircuitFactory'\nimport FileService from '@/services/FileService'\nimport idMapper from '@/utils/idMapper'\n\ntype IntegratedCircuitState = {\n  isBuilderOpen: boolean\n  model: Item | null\n  factories: {\n    [id: string]: ItemFactory\n  }\n  resolve: () => void\n}\n\nexport const useIntegratedCircuitStore = defineStore('integratedCircuit', {\n  state: (): IntegratedCircuitState => ({\n    isBuilderOpen: false,\n    model: null,\n    factories: {},\n    resolve: () => {}\n  }),\n\n  actions: {\n\n    launchBuilder (circuit: SerializableState) {\n      this.isBuilderOpen = true\n      this.model = integratedCircuitFactory(circuit, 'My integrated circuit', 400, 400)\n\n      return new Promise(resolve => {\n        this.resolve = resolve as () => void\n      })\n    },\n\n    async loadLibrary () {\n      const filePaths = window.api.getFilePaths('../../Desktop', 'aicx')\n\n      for (let i = 0; i < filePaths.length; i++) {\n        await this.loadCircuit(filePaths[i])\n      }\n    },\n\n    async loadCircuit (filePath: string) {\n      try {\n        const content = await FileService.open(filePath)\n        const parsed = JSON.parse(content) as Item\n\n        this.factories[parsed.name] = () => {\n          const item = idMapper.mapIntegratedCircuitIds(parsed)\n          const ports = item\n            .portIds\n            .map(portId => item.integratedCircuit?.ports[portId] as Port)\n\n          return { item, ports }\n        }\n      } catch (error) {\n        console.log(error)\n        window.api.showMessageBox({\n          message: `Could not load ${filePath} into the integrated circuit library. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n\n    async save () {\n      if (!this.model) return\n\n      try {\n        const fileName = `${this.model.name}.aicx`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'Aristotle Integrated Circuit (*.aicx)',\n            extensions: ['aicx']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.save(filePath, this.model)\n        await this.loadCircuit(filePath)\n\n        window.api.showMessageBox({\n          message: 'Integrated circuit successfully created. You can find it in the toolbox.',\n          title: 'Success',\n          type: 'info'\n        })\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the integrated circuit.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n\n      this.close()\n    },\n\n    close () {\n      this.resolve()\n      this.isBuilderOpen = true\n    }\n  }\n})\n","export default function getFileName (filePath: string) {\n  return filePath.split('\\\\').pop()?.split('/').pop() || ''\n}\n","// @ts-check\nimport { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport basic from '../containers/fixtures/basic.json'\nimport flipFlop from '../containers/fixtures/flipflop.json'\nimport integratedCircuit from '../containers/fixtures/ic.json'\nimport testIc from '../containers/fixtures/test.json'\n\nimport { createDocumentStore, DocumentStore } from './document'\nimport { useIntegratedCircuitStore } from './integratedCircuit'\nimport FileService from '@/services/FileService'\nimport getFileName from '@/utils/getFileName'\nimport idMapper from '@/utils/idMapper'\n\nexport type RootStore = {\n  documents: {\n    [id: string]: {\n      fileName: string\n      filePath?: string\n      displayName: string\n      store: DocumentStore\n    }\n  }\n  clipboard: string | null\n  activeDocumentId: string | null\n  canExit: boolean\n  isFullscreen: boolean\n  isBuilderOpen: boolean\n  isToolboxOpen: boolean\n}\n\nexport const useRootStore = defineStore({\n  id: 'root',\n  state: (): RootStore => ({\n    documents: {},\n    clipboard: null,\n    activeDocumentId: null,\n    canExit: false,\n    isFullscreen: false,\n    isBuilderOpen: false,\n    isToolboxOpen: false\n  }),\n  getters: {\n    hasOpenDocuments (state) {\n      return Object\n        .keys(state.documents)\n        .length > 0\n    },\n    activeDocument (state) {\n      if (state.activeDocumentId) {\n        return state.documents[state.activeDocumentId]\n      }\n\n      return null\n    },\n    isDialogOpen (state) {\n      return state.isBuilderOpen\n    }\n  },\n  actions: {\n    async launchIntegratedCircuitBuilder () {\n      const integratedCircuitStore = useIntegratedCircuitStore()\n      const document = this.activeDocument\n\n      if (document) {\n        this.isBuilderOpen = true\n\n        try {\n          await integratedCircuitStore.launchBuilder(document.store().$state)\n\n          const store = document.store()\n\n          // const dialogResult = window.api.showMessageBox({\n          //   message: `Integrated circuit successfully created. Do you want to add it to the current document?`,\n          //   title: 'Confirm',\n          //   buttons: ['Yes', 'No']\n          // })\n\n          const idMappedIcItem = idMapper.mapIntegratedCircuitIds(integratedCircuitStore.model as Item)\n\n\n\n          store.insertItemAtPosition({ item: idMappedIcItem, ports: [] })\n          store.setItemBoundingBox(idMappedIcItem.id)\n          store.setSelectionState({ id: idMappedIcItem.id, value: true })\n\n        } catch (e) {\n          window.api.showMessageBox({ message: 'That\\'s okay.' })\n        }\n\n        this.isBuilderOpen = false\n      }\n\n    },\n    openIntegratedCircuit (item: Item) {\n      if (item.integratedCircuit) {\n        this.openDocument('', item.integratedCircuit.serializedState, item.id, item.name)\n      }\n    },\n    async saveImage (data: Blob) {\n      if (!this.activeDocument) return\n\n      try {\n        const partialName = this.activeDocument.displayName.replace(/\\.[^/.]+$/, \"\")\n        const fileName = `${partialName}.png`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'PNG Image',\n            extensions: ['.png']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.writeBlob(filePath, data)\n      } catch (error) {\n        console.log('ERROR: ', error)\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the image.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    newDocument () {\n      const id = uuid()\n      const store = createDocumentStore(id)\n      const document = store()\n\n      document.resetCircuit()\n\n      this.documents[id] = {\n        fileName: 'Untitled Circuit',\n        displayName: 'Untitled Circuit',\n        store\n      }\n      this.activateDocument(id)\n    },\n    async closeAll (): Promise<boolean> {\n      if (this.activeDocumentId) {\n        const closedSuccessfully = await this.closeDocument(this.activeDocumentId)\n\n        // wait for the next window frame to show the next active document\n        await new Promise(resolve => setTimeout(resolve))\n\n        if (closedSuccessfully) {\n          return this.closeAll()\n        }\n\n        return false // a document refused to close\n      }\n\n      return true // all documents successfully closed\n    },\n    printActiveDocument () {\n      if (this.activeDocument) {\n        this.activeDocument.store().isPrinting = true\n      }\n    },\n    async closeDocument (id: string): Promise<boolean> {\n      const document = this.documents[id]\n      const store = document.store()\n      let isSuccessful = true\n\n      this.activateDocument(id)\n\n      if (store.isDirty) {\n        const dialogResult = window.api.showMessageBox({\n          message: `Save changes to ${document.fileName}?`,\n          title: 'Confirm',\n          buttons: ['Yes', 'No', 'Cancel']\n        })\n\n        if (dialogResult === 0) {\n          // user selected 'Yes' (to save the active document)\n          isSuccessful = await this.saveActiveDocument()\n        }\n\n        if (dialogResult === 2) {\n          // user selected 'Cancel' to continue editing their document\n          return false\n        }\n      }\n\n      this.activeDocumentId = null\n      store.simulation.stop()\n      store.$reset()\n      store.$dispose()\n      delete this.documents[id]\n\n      const remainingId = Object.keys(this.documents).pop()\n\n      if (remainingId) {\n        this.activateDocument(remainingId)\n      }\n\n      return isSuccessful\n    },\n    async saveActiveDocument (setFileName: boolean = false): Promise<boolean> {\n      try {\n        if (!this.activeDocument) return true\n        if (!this.activeDocument.filePath || setFileName) {\n          // if no file name is defined yet, ask the user for the location to save it\n          const fileName = this.activeDocument.fileName || `${this.activeDocument.fileName}.alfx`\n          const filePath = window.api.showSaveFileDialog([\n            {\n              name: 'Aristotle Logic Circuit (*.alfx)',\n              extensions: ['alfx']\n            }\n          ], fileName)\n\n          if (!filePath) return true\n          if (filePath) {\n            const fileName = getFileName(filePath)\n\n            this.activeDocument.filePath = filePath\n            this.activeDocument.fileName = fileName\n            this.activeDocument.displayName = fileName\n          }\n        }\n\n        if (!this.activeDocument.filePath) return true\n\n        const store = this.activeDocument.store()\n\n        FileService.save(this.activeDocument.filePath, {\n          items: store.items,\n          connections: store.connections,\n          groups: store.groups,\n          ports: store.ports\n        })\n\n        store.isDirty = false\n\n        return true\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the file.',\n          title: 'Error',\n          type: 'error'\n        })\n\n        return false\n      }\n    },\n    async selectDocument () {\n      const files = window.api.showOpenFileDialog([\n        {\n          name: 'Aristotle Logic Circuit (*.alfx)',\n          extensions: ['alfx']\n        },\n        {\n          name: 'Aristotle Integrated Circuit (*.aicx)',\n          extensions: ['aicx']\n        }\n      ])\n\n      for (let i = 0; i < files.length; i++) {\n        await this.openDocumentFromPath(files[i])\n      }\n    },\n    async openDocumentFromPath (filePath: string) {\n      try {\n        // TODO: need to create lock on file while open\n        const content = await FileService.open(filePath)\n\n        if (content) {\n          this.openDocument(filePath, content, uuid())\n        }\n      } catch (error) {\n        console.log(error)\n        window.api.showMessageBox({\n          message: `Could not open ${filePath}. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    openDocument (filePath: string, content: string, id: string, displayName: string = '') {\n      if (this.documents[id]) {\n        return this.activateDocument(id)\n      }\n\n      const store = createDocumentStore(id)\n      const document = store()\n      const fileName = getFileName(filePath)\n\n      document.loadDocument(content)\n\n      this.documents[id] = {\n        fileName,\n        // if this is an integrated circuit file (.aicx), then it cannot be directly saved\n        filePath: /^.*.aicx$/i.test(filePath)\n          ? undefined // omit the file path for IC files\n          : filePath, // otherwise, use the file path for a typical circuit\n        displayName: displayName || fileName,\n        store\n      }\n      this.activateDocument(id)\n    },\n    switchDocument (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => this.activeDocumentId === id)\n\n      let nextIndex = currentIndex + direction\n\n      if (documentIds.length === 0) return\n      if (currentIndex === -1 || nextIndex >= documentIds.length) nextIndex = 0\n      else if (nextIndex < 0) nextIndex = documentIds.length - 1\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n    pauseActivity () {\n      this.activeDocument?.store().simulation.stop()\n    },\n    resumeActivity () {\n      this.activeDocument?.store().simulation.start()\n    },\n    activateDocument (id: string) {\n      this.pauseActivity()\n      this.activeDocumentId = id\n      this.resumeActivity()\n    },\n    openTestDocuments () {\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify({\n      //   connections: {},\n      //   items: {},\n      //   ports: {},\n      //   groups: {}\n      // }))\n      // this.openDocument('test.alfx', JSON.stringify(testIc))\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify(integratedCircuit))\n      // this.pauseActivity()\n      this.openDocument('flip-flop.alfx', JSON.stringify(flipFlop), uuid(), 'flip-flop.alfx')\n      useIntegratedCircuitStore().loadLibrary()\n    },\n\n    navigateDocumentList (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => id === this.activeDocumentId)\n      let nextIndex = currentIndex + direction\n\n      if (nextIndex < 0) nextIndex = documentIds.length - 1\n      if (nextIndex >= documentIds.length) nextIndex = 0\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n\n    toggleFullscreen () {\n      this.isFullscreen = !this.isFullscreen\n\n      window.api.setFullscreen(this.isFullscreen)\n    },\n\n    toggleToolbox () {\n      this.isToolboxOpen = !this.isToolboxOpen\n    }\n  }\n})\n","import { render } from \"./Item.vue?vue&type=template&id=a4cc4e56&ts=true\"\nimport script from \"./Item.vue?vue&type=script&lang=ts\"\nexport * from \"./Item.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Selector.vue?vue&type=template&id=52db8e2a&ts=true\"\nimport script from \"./Selector.vue?vue&type=script&lang=ts\"\nexport * from \"./Selector.vue?vue&type=script&lang=ts\"\n\nimport \"./Selector.vue?vue&type=style&index=0&id=52db8e2a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Editor.vue?vue&type=template&id=d5506d70&ts=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=d5506d70&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=2e6e8258&ts=true\"\nimport script from \"./Group.vue?vue&type=script&lang=ts\"\nexport * from \"./Group.vue?vue&type=script&lang=ts\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=2e6e8258&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import domToImage from 'dom-to-image'\n\n/**\n * Renders a printer-friendly HTML DOM clone of the given editor element.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n * @param padding - number of pixels to use as surrounding padding\n */\nfunction createPrintArea (zoom: number, editor: HTMLElement, boundingBox: BoundingBox, padding: number, className: string = 'printer-friendly') {\n  const printArea = editor.cloneNode(true) as HTMLElement\n  const width = boundingBox.right - boundingBox.left + (padding * 2)\n  const height = boundingBox.bottom - boundingBox.top + (padding * 2)\n\n  for (let i = 0; i < printArea.children.length; i++) {\n    const child = printArea.children[i] as HTMLElement\n    const left = parseInt(child.style.left.replace('px', ''), 10) + padding\n    const top = parseInt(child.style.top.replace('px', ''), 10) + padding\n\n    child.style.left = `${(left - boundingBox.left)}px`\n    child.style.top = `${(top - boundingBox.top)}px`\n  }\n\n  printArea.style['zoom' as any] = zoom.toString()\n  printArea.style.width = `${width}px`\n  printArea.style.height = `${height}px`\n  printArea.style.position = 'relative'\n  printArea.style.top = '0'\n  printArea.style.left = '0'\n  printArea.style.background = 'none'\n\n  if (className) {\n    printArea.classList.add(className)\n  }\n\n  return { printArea, width, height }\n}\n\n/**\n * Renders a hidden iframe on the page for printing.\n *\n * @param image - the image to print\n * @param pageSize - list of [width, height] dimensions, in inches\n */\nfunction createPrintFrame (image: HTMLImageElement, pageSize: number[]) {\n  const iframe = document.createElement('iframe')\n\n  iframe.name = 'print'\n  iframe.style.width = '1px'\n  iframe.style.height = '1px'\n  iframe.style.opacity = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.top = '0px'\n  iframe.style.left = '0px'\n\n  document.body.appendChild(iframe)\n\n  const printFrame = iframe.contentWindow\n\n  if (printFrame) {\n    const styleTag = document.createElement('style')\n\n    styleTag.appendChild(document.createTextNode(`\n      @page {\n        size: ${pageSize.map(s => `${s}in`).join(' ')};\n        margin: 0in;\n      }\n    `))\n\n    printFrame.document.head.append(styleTag)\n    printFrame.document.body.appendChild(image)\n  }\n\n  return iframe\n}\n\n/**\n * Renders a binary PNG screenshot of the given HTML element.\n *\n * @param printArea\n */\nasync function createImage<T extends string | Blob> (printArea: HTMLElement, fn: 'toBlob' | 'toPng') {\n  document.body.appendChild(printArea)\n\n  const dataUrl = await domToImage[fn](printArea) as T\n\n  printArea.remove()\n\n  return dataUrl\n}\n\n/**\n * Prints (using a physical printer) the contents of the given window.\n */\nasync function printWindow (win: Window | null) {\n  return new Promise<void>(resolve => {\n    setTimeout(() => {\n      if (!win) return resolve()\n\n      win.addEventListener('afterprint', () => resolve())\n      win.print()\n    })\n  })\n}\n\n/**\n * Prints (using a physical printer) the editor.\n * The version printed will be rendered as a printer-friendly (read: ink-friendly) screenshot of the given editor.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n */\nasync function printImage (zoom: number, editor: HTMLElement, boundingBox: BoundingBox) {\n  const { printArea, width, height } = createPrintArea(1 / zoom, editor, boundingBox, 20)\n  const dataUrl = await printing.createImage<string>(printArea, 'toPng')\n  const pageSize = [8.5, 11] // inches\n  const minSize = Math.min(...pageSize) * 96 // pixels\n  const maxSize = Math.max(...pageSize) * 96 // pixels\n  const image = new Image()\n\n  let percent = 1 // percentage to resize the image by (to fit printable window area)\n\n  image.src = dataUrl as string\n\n  if (width > minSize || width > maxSize || height > minSize || height > maxSize) {\n    // make the image print in either landscape or portrait, whichever fits better\n    const isLandscape = width > height\n\n    // if the image exceeds one of the dimensions, resize it in ratio to match the dimension\n    percent = isLandscape\n      ? maxSize / width\n      : maxSize / height\n\n    if (isLandscape) {\n      pageSize.reverse()\n    }\n  }\n\n  image.style.width = `${Math.floor(width * percent)}px`\n  image.style.height = `${Math.floor(height * percent)}px`\n\n  const iframe = printing.createPrintFrame(image, pageSize)\n\n  await printing.printWindow(iframe?.contentWindow)\n\n  iframe?.remove()\n}\n\nconst printing = {\n  createPrintArea,\n  createPrintFrame,\n  createImage,\n  printImage,\n  printWindow\n}\n\nexport default printing\n","import { render } from \"./Document.vue?vue&type=template&id=e70d6f22&ts=true\"\nimport script from \"./Document.vue?vue&type=script&lang=ts\"\nexport * from \"./Document.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarButton.vue?vue&type=template&id=7bbf6728&ts=true\"\nimport script from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarButton.vue?vue&type=style&index=0&id=7bbf6728&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarSeparator.vue?vue&type=template&id=3396867d&ts=true\"\nimport script from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarSeparator.vue?vue&type=style&index=0&id=3396867d&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ScrollFade.vue?vue&type=template&id=33168494&ts=true\"\nimport script from \"./ScrollFade.vue?vue&type=script&lang=ts\"\nexport * from \"./ScrollFade.vue?vue&type=script&lang=ts\"\n\nimport \"./ScrollFade.vue?vue&type=style&index=0&id=33168494&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Toolbar.vue?vue&type=template&id=0f9b5f79&ts=true\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Toolbar.vue?vue&type=style&index=0&id=0f9b5f79&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxItem.vue?vue&type=template&id=1372f053&ts=true\"\nimport script from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxItem.vue?vue&type=style&index=0&id=1372f053&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxLayout.vue?vue&type=template&id=4b5fba5b&ts=true\"\nimport script from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxLayout.vue?vue&type=style&index=0&id=4b5fba5b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nconst inputFactory: ItemFactory = (type: ItemSubtype, width: number, height: number, properties: PropertySet = {}) => {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Right, PortType.Output, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.InputNode, type, width, height, ports)\n\n  item.properties = {\n    ...item.properties,\n    ...properties,\n    startValue: {\n      label: 'Start value',\n      value: -1,\n      type: 'number',\n      options: {\n        'True': 1,\n        'Hi-Z': 0,\n        'False': -1\n      }\n    },\n  }\n\n  return { item, ports }\n}\n\nexport default inputFactory\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport inputFactory from './inputFactory'\n\nconst clockFactory: ItemFactory = () => inputFactory(ItemSubtype.Clock, 60, 60, {\n  interval: {\n    label: 'Interval',\n    value: 1000,\n    type: 'number',\n    min: 100,\n    step: 100\n  }\n})\n\nexport default clockFactory\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\nimport integratedCircuitFactory from './integratedCircuitFactory'\n\nexport default function digitFactory () {\n  const ports: Port[] = []\n  const state: SerializableState = Array(4)\n    .fill('')\n    .reduce((map, a, i) => {\n      const portId = uuid()\n      const itemId = uuid()\n      const port = portFactory(itemId, portId, Direction.Left, PortType.Output, `Input Port ${i + 1}`)\n      const item = itemFactory(itemId, ItemType.InputNode, ItemSubtype.Switch, 0, 0, [port])\n\n      ports.push(port)\n\n      return {\n        connections: {},\n        groups: {},\n        items: {\n          ...map.items,\n          [itemId]: item\n        },\n        ports: {\n          ...map.ports,\n          [portId]: port\n        }\n      }\n    }, {\n      connections: {},\n      ports: {},\n      items: {},\n      groups: {}\n    })\n\n  const item = integratedCircuitFactory(state, 'Digit Display', 40, 40, ItemSubtype.DigitDisplay)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function lightbulbFactory () {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Left, PortType.Input, 'Input Port')\n  ]\n  const item = itemFactory(elementId, ItemType.OutputNode, ItemSubtype.Lightbulb, 40, 40, ports)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\n\nexport default function logicGateFactory (type: ItemSubtype, width: number, height: number, inputCount: number = 2) {\n  const elementId = uuid()\n  const ports = Array(inputCount)\n    .fill('')\n    .map((a, i) => portFactory(elementId, uuid(), 0, 1, `Input Port ${i}`))\n    .concat(portFactory(elementId, uuid(), 2, 0, 'Output Port'))\n  const item = itemFactory(elementId, ItemType.LogicGate, type, width, height, ports)\n\n  item.properties = {\n    ...item.properties,\n    inputCount: {\n      label: 'Input count',\n      value: inputCount,\n      type: 'number',\n      min: inputCount\n    },\n    showInOscilloscope: {\n      label: 'Show in oscilloscope',\n      value: false,\n      type: 'boolean'\n    }\n  }\n\n  return { item, ports }\n}\n","import clockFactory from './clockFactory'\nimport inputFactory from './inputFactory'\nimport digitDisplayFactory from './digitDisplayFactory'\nimport lightbulbFactory from './lightbulbFactory'\nimport logicGateFactory from './logicGateFactory'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\ntype FactoryDictionary = {\n  [type: string]: {\n    [subtype: string]: ItemFactory\n  }\n}\n\nexport default {\n  [ItemType.InputNode]: {\n    [ItemSubtype.Switch]: inputFactory.bind(this, ItemSubtype.Switch, 60, 60),\n    [ItemSubtype.Clock]: clockFactory\n  },\n  [ItemType.OutputNode]: {\n    [ItemSubtype.Lightbulb]: lightbulbFactory,\n    [ItemSubtype.DigitDisplay]: digitDisplayFactory\n  },\n  [ItemType.LogicGate]: {\n    [ItemSubtype.And]: logicGateFactory.bind(this, ItemSubtype.And, 140, 50),\n    [ItemSubtype.Nand]: logicGateFactory.bind(this, ItemSubtype.Nand, 140, 50),\n    [ItemSubtype.Xnor]: logicGateFactory.bind(this, ItemSubtype.Xnor, 140, 50),\n    [ItemSubtype.Nor]: logicGateFactory.bind(this, ItemSubtype.Nor, 140, 50),\n    [ItemSubtype.Or]: logicGateFactory.bind(this, ItemSubtype.Or, 140, 50),\n    [ItemSubtype.Not]: logicGateFactory.bind(this, ItemSubtype.Not, 140, 50, 1)\n  }\n} as FactoryDictionary\n","import { render } from \"./Toolbox.vue?vue&type=template&id=205b4647&ts=true\"\nimport script from \"./Toolbox.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbox.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabItem.vue?vue&type=template&id=10855886&ts=true\"\nimport script from \"./TabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TabItem.vue?vue&type=script&lang=ts\"\n\nimport \"./TabItem.vue?vue&type=style&index=0&id=10855886&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabHost.vue?vue&type=template&id=df89a472&ts=true\"\nimport script from \"./TabHost.vue?vue&type=script&lang=ts\"\nexport * from \"./TabHost.vue?vue&type=script&lang=ts\"\n\nimport \"./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTimeline.vue?vue&type=template&id=fc2278b6&ts=true\"\nimport script from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTimeline.vue?vue&type=style&index=0&id=fc2278b6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTitleBar.vue?vue&type=template&id=7ed3e2d7&ts=true\"\nimport script from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=7ed3e2d7&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeViewer.vue?vue&type=template&id=e3956fc6&ts=true\"\nimport script from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeViewer.vue?vue&type=style&index=0&id=e3956fc6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Oscilloscope.vue?vue&type=template&id=c01905de&ts=true\"\nimport script from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\nexport * from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarButton.vue?vue&type=template&id=3ddd451b&ts=true\"\nimport script from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarViewer.vue?vue&type=template&id=dc432b1a&ts=true\"\nimport script from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarViewer.vue?vue&type=style&index=0&id=dc432b1a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarZoom.vue?vue&type=template&id=2cb57bfb&ts=true\"\nimport script from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBar.vue?vue&type=template&id=644f170d&ts=true\"\nimport script from \"./StatusBar.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\n\nexport default function file (): MenuItemConstructorOptions[] {\n  const rootStore = useRootStore()\n  const hasDocument = rootStore.activeDocumentId !== null\n  const documentList = Object.keys(rootStore.documents)\n  const store = rootStore.activeDocument?.store()\n  const items: MenuItemConstructorOptions[] = [\n    {\n      label: '&New Circuit',\n      accelerator: 'CommandOrControl+N',\n      click: rootStore.newDocument\n    },\n    { type: 'separator' },\n    {\n      label: '&Open Circuit',\n      accelerator: 'CommandOrControl+O',\n      click: rootStore.selectDocument\n    },\n    {\n      label: 'Open &Integrated Circuit',\n      accelerator: 'CommandOrControl+Shift+O',\n      click: rootStore.selectDocument\n    },\n    { type: 'separator' },\n    {\n      label: 'Save',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+S',\n      click: () => rootStore.saveActiveDocument()\n    },\n    {\n      label: 'Save As...',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+S',\n      click: () => rootStore.saveActiveDocument(true)\n    },\n    {\n      label: 'Save All',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+A',\n      click: () => console.log('root store save all')\n    },\n    { type: 'separator' },\n    {\n      label: 'Print',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+P',\n      click: () => store?.print()\n    },\n    { type: 'separator' },\n    {\n      label: 'Export...',\n      enabled: hasDocument,\n      submenu: [\n        {\n          label: 'Integrated Circuit',\n          accelerator: 'CommandOrControl+Shift+E',\n          click: () => console.log('export IC')\n        },\n        {\n          label: 'PNG Image',\n          accelerator: 'CommandOrControl+Shift+I',\n          click: () => store?.createImage()\n        }\n      ]\n    },\n    { type: 'separator' },\n    {\n      label: 'Preferences',\n      submenu: [\n        {\n          label: 'Global Preferences',\n          accelerator: 'CommandOrControl+,',\n          click: () => console.log('global prefs')\n        },\n        {\n          label: 'Document Preferences',\n          accelerator: 'CommandOrControl+Shift+,',\n          click: () => console.log('doc prefs')\n        }\n      ]\n    }\n  ]\n\n  if (Object.keys(rootStore.documents).length > 1) {\n    const submenu: MenuItemConstructorOptions[] = [\n      {\n        label: 'Previous File',\n        accelerator: 'Ctrl+Shift+Tab',\n        click: () => rootStore.switchDocument(-1)\n      },\n      {\n        label: 'Next File',\n        accelerator: 'Ctrl+Tab',\n        click: () => rootStore.switchDocument(1)\n      },\n      { type: 'separator' }\n    ]\n\n    for (let i = 0; i < documentList.length; i++) {\n      submenu.push({\n        type: \"checkbox\",\n        label: rootStore.documents[documentList[i]].displayName,\n        checked: rootStore.activeDocumentId === documentList[i],\n        click: () => rootStore.activateDocument(documentList[i])\n      })\n    }\n\n    items.push({ type: 'separator' })\n    items.push({\n      label: 'Switch to...',\n      submenu\n    })\n  }\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Close Document',\n    accelerator: 'CmdOrCtrl+W',\n    enabled: hasDocument,\n    click: () => rootStore.closeDocument(rootStore.activeDocumentId as string)\n  })\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Exit',\n    accelerator: 'CmdOrCtrl+Q',\n    click: () => window.close()\n  })\n\n  return items\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\nimport grid from './grid'\n\nexport default function edit (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n  const zoomSubmenu: MenuItemConstructorOptions[] = []\n  let hasFixedZoom = false\n\n  for (let i = 1; i <= 8; i++) {\n    const zoom = (i * 25) / 100\n    const checked = store.zoomLevel === zoom\n\n    hasFixedZoom = hasFixedZoom || checked\n\n    zoomSubmenu.push({\n      type: 'checkbox',\n      checked,\n      label: `${zoom * 100}%`,\n      accelerator: zoom === 1 ? 'CommandOrControl+0' : undefined,\n      click: () => store.setZoom({ zoom })\n    })\n  }\n\n  if (!hasFixedZoom) {\n    zoomSubmenu.unshift({\n      type: 'checkbox',\n      checked: true,\n      label: 'Custom'\n    })\n  }\n\n  const menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Zoom In',\n      accelerator: 'CommandOrControl+=',\n      enabled: store.zoomLevel < 2, // TODO: const\n      click: () => store.incrementZoom(1)\n    },\n    {\n      label: '&Zoom Out',\n      accelerator: 'CommandOrControl+-',\n      enabled: store.zoomLevel > 0.1, // TODO: const\n      click: () => store.incrementZoom(-1)\n    },\n    {\n      label: '&Zoom...',\n      submenu: zoomSubmenu\n    },\n    { type: 'separator' },\n    {\n      label: '&Pan to Center',\n      accelerator: 'CommandOrControl+;',\n      click: store.panToCenter\n    },\n    { type: 'separator' }\n  ]\n\n  return menu.concat(grid(useDocumentStore))\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\nimport edit from './submenus/edit'\nimport file from './submenus/file'\nimport view from './submenus/view'\n\nexport default function createApplicationMenu (): MenuItemConstructorOptions[] {\n  const store = useRootStore()\n\n  if (store.isDialogOpen) {\n    // TODO: set only basic menus (file and help)\n    return [\n      {\n        label: 'File',\n        submenu: [{\n          label: 'Exit'\n        }]\n      }\n    ]\n  }\n\n  const menus: MenuItemConstructorOptions[] = [\n    {\n      label: 'File',\n      submenu: file()\n    }\n  ]\n\n  if (store.activeDocument) {\n    menus.push({\n      label: 'Edit',\n      submenu: edit(store.activeDocument.store)\n    })\n\n    menus.push({\n      label: 'View',\n      submenu: view(store.activeDocument.store).concat([\n        { type: 'separator' },\n        {\n          type: 'checkbox',\n          click: store.toggleFullscreen,\n          checked: store.isFullscreen,\n          accelerator: 'F11',\n          label: 'Fullscreen'\n        }\n      ])\n    })\n  }\n\n  return menus\n}\n","import { render } from \"./MainView.vue?vue&type=template&id=5453adfa&ts=true\"\nimport script from \"./MainView.vue?vue&type=script&lang=ts\"\nexport * from \"./MainView.vue?vue&type=script&lang=ts\"\n\nimport \"./MainView.vue?vue&type=style&index=0&id=5453adfa&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const isMobile = true\n\nexport default false\n","import { render } from \"./BuilderEditableLabel.vue?vue&type=template&id=b885e1fc&ts=true\"\nimport script from \"./BuilderEditableLabel.vue?vue&type=script&lang=ts\"\nexport * from \"./BuilderEditableLabel.vue?vue&type=script&lang=ts\"\n\nimport \"./BuilderEditableLabel.vue?vue&type=style&index=0&id=b885e1fc&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BuilderDropZone.vue?vue&type=template&id=3660ffa0&ts=true\"\nimport script from \"./BuilderDropZone.vue?vue&type=script&lang=ts\"\nexport * from \"./BuilderDropZone.vue?vue&type=script&lang=ts\"\n\nimport \"./BuilderDropZone.vue?vue&type=style&index=0&id=3660ffa0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Builder.vue?vue&type=template&id=bd99e1ac&ts=true\"\nimport script from \"./Builder.vue?vue&type=script&lang=ts\"\nexport * from \"./Builder.vue?vue&type=script&lang=ts\"\n\nimport \"./Builder.vue?vue&type=style&index=0&id=bd99e1ac&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Modal.vue?vue&type=template&id=ccd36f9e&ts=true\"\nimport script from \"./Modal.vue?vue&type=script&lang=ts\"\nexport * from \"./Modal.vue?vue&type=script&lang=ts\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=ccd36f9e&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ModalButton.vue?vue&type=template&id=675bfb9a&ts=true\"\nimport script from \"./ModalButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ModalButton.vue?vue&type=style&index=0&id=675bfb9a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BuilderView.vue?vue&type=template&id=5763befb&ts=true\"\nimport script from \"./BuilderView.vue?vue&type=script&lang=ts\"\nexport * from \"./BuilderView.vue?vue&type=script&lang=ts\"\n\nimport \"./BuilderView.vue?vue&type=style&index=0&id=5763befb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=060e7202&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=060e7202&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createPinia } from 'pinia'\nimport { createApp } from 'vue'\nimport App from '@/App.vue'\nimport '@/styles/main.scss'\n\nif (!window.api) {\n  // stub the ipc api for non-electron environments\n  // TODO: once the app is fully electron, move this to jest setup file\n  window.api = {\n    showContextMenu () {},\n    setApplicationMenu () {},\n    showOpenFileDialog () { return [] },\n    showSaveFileDialog () { return '' },\n    showMessageBox () { return 0 },\n    beep () {},\n    quit () {},\n    copy () {},\n    paste () { return '' },\n    onBeforeClose () {},\n    onOpenFile () {},\n    openFile () { return '' },\n    saveFile () {},\n    setFullscreen () {},\n    getFilePaths () { return [] }\n  }\n}\n\ncreateApp(App)\n  .use(createPinia())\n  .mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkaristotle\"] = self[\"webpackChunkaristotle\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(354); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","key","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_toolbar","_resolveComponent","_component_toolbox","_component_tab_item","_component_document","_component_tab_host","_component_oscilloscope","_component_status_bar","_component_main_view","_component_builder_view","_openBlock","_createElementBlock","_Fragment","_createElementVNode","class","_normalizeClass","isDropping","activeDocumentId","activeDocument","_createBlock","isDialogOpen","onContextmenu","onContextMenu","top","_withCtx","isMobile","_createCommentVNode","store","_createVNode","isToolboxOpen","middle","_createSlots","default","onSwitch","switchDocument","onOpenIntegratedCircuit","openIntegratedCircuit","_","undefined","name","fn","_renderList","documents","document","id","label","displayName","active","dirty","isDirty","onActivate","$event","activateDocument","toString","onClose","closeDocument","bottom","isFullscreen","onFullscreen","toggleFullscreen","_toDisplayString","isBuilderOpen","_component_item","_component_connection","_component_group","_component_editor","ref","zoom","zoomLevel","gridSize","tabindex","offset","x","canvas","left","y","width","right","height","onPan","panTo","onDeselect","deselectAll","onSelection","createSelection","onZoom","setZoom","onResize","setViewerSize","onFocus","recycleSelection","hasLoaded","baseItems","baseItem","storeDefinition","isSelected","flash","isDebugging","isCircuitEvaluated","zIndex","connectionPreviewId","groups","group","boundingBox","_component_wire","_component_draggable","style","_normalizeStyle","position","freeportId","onTouchhold","onDragStart","onDrag","onDragEnd","onSelect","selectItem","k","deselectItem","source","target","geometry","isPreview","_component_resizable","onMousedown","_withModifiers","onMouseDown","onMouseup","onMouseUp","onTouchstart","onTouchStart","onTouchmove","onTouchMove","onTouchend","onTouchEnd","onTouchcancel","dragEnd","_renderSlot","$slots","SnapMode","roundToNth","n","Math","round","isInNeighborhood","a","b","radius","hypot","getGridSnapPosition","distance","getRadialSnapOffset","boundingBoxes","i","length","getOuterSnapOffset","ts","abs","bs","ls","rs","getSnapOffset","snapMode","hasLinearIntersection","a1","a2","b1","b2","ccw","c","isLineIntersectingRectangle","b3","b4","hasIntersection","scaleBoundingBox","box","scale","isOneOrTwoDimensional","getLinearBoundaries","point","Infinity","getPointBoundary","getBoundingBox","rotation","midX","midY","getGroupBoundingBox","reduce","rect","min","max","getBoundingBoxMidpoint","getCenteredScreenPoint","parentBox","childBox","factor","parentMidpoint","childWidth","childHeight","getExtremePoint","points","map","defineComponent","emits","resize","setup","props","emit","resizable","onSizeChanged","getBoundingClientRect","observer","ResizeObserver","onMounted","value","observe","__exports__","components","Resizable","type","Object","Boolean","allowTouchDrag","dragStart","drag","select","deselect","touchhold","computed","draggable","touchTimeout","isDragging","hasMovedSubstantially","hasEmittedDragStart","initialTouchPosition","setTimeout","clientX","clientY","$el","onMouseMove","stopImmediatePropagation","preventDefault","touches","window","newPosition","boundaries","clearTimeout","stopPropagation","addEventListener","onBeforeUnmount","removeEventListener","watchEffect","focus","_hoisted_3","_hoisted_4","_hoisted_5","fill","transform","minX","minY","d","path","isAnimated","required","String","Direction","rotate","additional","WIRE_PADDING","renderLayout","getEndpoints","start","end","computeStraightLine","sourceDirection","getPortDirection","targetDirection","computeBezier","inflectDirection","direction","port","orientation","isFreeport","floor","x1","y1","x4","y4","dx","dy","x2","toFixed","y2","x3","y3","join","toNumArr","parseInt","maxX","maxY","edit","useDocumentStore","submenus","menu","enabled","canUndo","accelerator","click","undo","role","hasSelection","deleteSelection","selectedItemIds","push","submenu","setZIndex","incrementZIndex","canGroup","canUngroup","concat","activePortId","checked","grid","editor","Draggable","Wire","Number","Function","connection","connections","root","ports","topLeft","createFreeport","groupId","opacity","uuid","navigator","vibrate","itemId","inputPortId","outputPortId","connectionChainId","sourceId","targetId","setSnapBoundaries","dragItem","destroyConnection","api","showContextMenu","editorContextMenu","_component_properties","_component_port_item","_component_circuit_component","outline","pointerEvents","item","onKeydown","_withKeys","onEscapeKey","onDblclick","revealCustomCircuit","commitCachedState","isPropertiesEnabled","properties","viewport","onUpdate","setProperties","setActivePortId","panDelta","subtype","onSignal","setPortValue","o","filter","p","portUpdates","title","connectedPortIds","hue","isMonitored","onKeypress","onBlur","onPortBlur","ItemSubtype","CustomCircuit","_resolveDynamicComponent","_mergeProps","onChange","ItemType","Freeport","index","_component_port_handle","backgroundColor","PortHandle","model","onInput","Array","signal","data","_normalizeProps","_guardReactiveProps","_component_custom_circuit_port_zone","_component_custom_circuit_port","_component_port_wire","PortWire","CustomCircuitPort","CustomCircuitPortZone","segments","segment","charMap","e","f","paths","binaryString","node","hexString","toLowerCase","suffix","DigitDisplay","inputCount","viewBox","cx","cy","r","isNegated","isXor","_component_or","Or","_component_buffer","stroke","Buffer","_component_and","And","Nor","Not","Nand","Xnor","Xor","modifier","Lightbulb","InputNode","IntegratedCircuit","LogicGate","OutputNode","args","_createTextVNode","_hoisted_6","_hoisted_7","_hoisted_8","_component_icon","onKeyDown","isOpen","icon","faClose","onClick","close","propertyName","for","options","_withDirectives","_vModelSelect","_vModelCheckbox","_vModelDynamic","openProperties","faWrench","xmlns","svgPath","Icon","update","pan","animate","propertiesRef","cloneDeep","nextTick","deltaX","deltaY","watch","deep","_component_port_pivot","cycleConnectionPreviews","commitPreviewedConnection","connectablePortIds","includes","onTouchHold","onDoubleClick","$emit","PortType","PortPivot","newFreeport","draggedPortId","isAdded","unsetConnectionPreview","cachedState","setConnectablePortIds","portId","connectFreeport","togglePortMonitoring","setPortRelativePosition","Connection","this","LogicValue","TRUE","FALSE","UNKNOWN","CircuitNode","inputIds","newValue","eventType","outputIds","events","forEach","event","callback","compare","values","inputValues","outputs","invokeEvent","eval","queue","isValueChanged","updateOutputs","forceContinue","propagate","Circuit","inputNodes","enqueue","nodes","inputIndex","findIndex","splice","removeNodeOutputs","next","sourceValue","sourceNode","targetNode","removeConnection","added","indexOf","removed","removedIndex","reset","localQueue","shift","dequeue","isComplete","nextValue","getProjectedValue","valueCount","keys","pop","BinaryWaveService","lastY","addSegment","updateWidth","initialize","elapsed","drawPulseConstant","previous","pos","widthToKeep","widthToTruncate","unshift","slice","ClockService","interval","TinyEmitter","emitter","on","isStopped","lastUpdate","OscillationService","Date","now","isPaused","remainingPeriodTime","lastUpdateTime","refreshRate","tick","waves","wave","displays","getPoints","screenWidth","screen","widthOfOneSecond","maxHistorySeconds","timeMsElapsed","timeMsOffset","truncateSegments","computeWaveGeometry","MAX_IDLE_TIME","hasUpdated","stop","delta","broadcast","requestAnimationFrame","hasOwnProperty","clear","result","getLogicGateNode","getCircuitNode","SimulationService","items","addNode","addConnection","valueMap","iteration","circuit","shouldContinue","step","isDebug","clocks","clock","toggleClocks","oscillator","computeNextState","advanceDebuggerStep","nextState","nextValues","nextValueMap","updatePortValue","JSON","parse","currentState","stringify","canContinue","setValue","drawPulseChange","anyValueChanged","enqueuePortValueChange","icItem","integratedCircuit","portIds","addIntegratedCircuit","circuitNodeMapper","addPort","addClock","monitorPort","getIntegratedCircuitPortIds","ic","removeNode","removePort","add","remove","unmonitorPort","oscillogram","addElements","state","undoStack","redoStack","simulation","itemNames","oscilloscopeHeight","isOscilloscopeOpen","isOscilloscopeRecording","isPrinting","isCreatingImage","animatePan","debugger","timeout","DOMRect","snapBoundaries","selectedConnectionIds","selectedPortIndex","activeFreeportId","mapStandardCircuitIds","idMap","mapGroups","oldId","newId","mapGroupIds","mapConnections","mapConnectionChainIds","mapItems","serializedState","mapItemIds","elementId","mapPorts","mapIntegratedCircuitIds","mappedItem","cut","copy","clipboardData","pasteCount","paste","parsed","mapped","idMapper","commitState","addItem","setSelectionState","connect","setGroupBoundingBox","error","console","log","setConnectionPreview","disconnect","previewPortId","beep","createConnection","find","sourceIndex","targetIndex","loadDocument","applyState","resetCircuit","print","createImage","clearStatelessInfo","clearBaseItems","itemIds","connectionIds","groupIds","connectionChainIds","Set","has","removeElement","itemFactory","portFactory","addFreeportItem","disconnectFreeport","originalSourceId","originalTargetId","createCircuitConnection","setItemBoundingBox","newPort","destroyGroup","ungroup","fromDocumentToEditorCoordinates","z","portList","resetItemValue","insertItemAtPosition","documentPosition","midpoint","property","startValue","ids","setInputCount","count","oldCount","virtualElementId","setClockInterval","from","easeOut","percent","bind","panToCenter","getConnectionChain","portMap","freeportIds","sourcePort","targetPort","portIndex","random","centerAll","setItemPosition","setSelectionPosition","moveSelectionPosition","referenceItem","getGroupedItemRotatedPosition","groupBoundingBox","w","h","mx","my","ax","ay","L","currentAngleRad","atan2","newAngle","PI","newAx","cos","newAy","sin","selectedItems","newRotation","keepSelection","selectAll","selection","updateSelectionList","selectItemConnections","element","backToFirstItem","selectedGroupIds","toggleOscillatorRecording","onSimulationUpdate","onError","showMessageBox","message","startDebugging","stepThroughCircuit","toggleDebugger","stopDebugging","toggleOscilloscope","closeOscilloscope","openOscilloscope","lastHeight","clearOscilloscope","MIN_SCALE","updateCanvasSize","canvasWidth","canvasHeight","setItemSize","centerX","centerY","newX","newY","undoState","redo","redoState","cacheState","savedState","parsedState","getExcludedMembers","aIds","bIds","removedItems","removedConnections","addedItems","addedConnections","sortByZIndex","sendBackward","bringForward","sendToBack","bringToFront","sort","reverse","frozenIds","currentIndex","nextIndex","MAX_SCALE","SCALE_STEP","incrementZoom","zoomedPoint","scaledPoint","viewportPoint","createDocumentStore","documentId","defineStore","getters","hasSelectedItems","call","canRedo","actions","clipboardActions","connectionActions","editorActions","freeportActions","groupingActions","itemActions","panningActions","portActions","positioningActions","rotationActions","selectionActions","simulationActions","snappingActions","sizingActions","undoRedoActions","zIndexActions","zoomingActions","integratedCircuitFactory","integratedCircuitItem","itemPorts","portSequenceNumber","homogenousPortType","portType","FileService","filePath","zip","JSZip","compressedContent","openFile","loadAsync","files","content","async","blob","arrayBuffer","blobby","buf","saveFile","file","generateAsync","writeBlob","useIntegratedCircuitStore","factories","resolve","launchBuilder","Promise","loadLibrary","filePaths","getFilePaths","loadCircuit","open","save","fileName","showSaveFileDialog","extensions","getFileName","split","useRootStore","clipboard","canExit","hasOpenDocuments","launchIntegratedCircuitBuilder","integratedCircuitStore","$state","idMappedIcItem","openDocument","saveImage","partialName","replace","newDocument","closeAll","closedSuccessfully","printActiveDocument","isSuccessful","dialogResult","buttons","saveActiveDocument","$reset","$dispose","remainingId","setFileName","selectDocument","showOpenFileDialog","openDocumentFromPath","test","documentIds","pauseActivity","resumeActivity","openTestDocuments","flipFlop","navigateDocumentList","setFullscreen","toggleToolbox","CircuitComponent","PortItem","Properties","itemRef","activeElement","blur","_component_selector","onMousewheel","onMouseWheel","onSelectionStart","onSelectionEnd","selectionStart","selectionEnd","selector","bbox","getPosition","payload","contextmenu","Selector","panStartPosition","previousPosition","originalMousePosition","speed","angle","isPanning","firstPinchDistance","initialZoom","backgroundSize","getTouchDistance","startPanning","endPanning","friction","button","targetTouches","changedTouches","shiftKey","wheel","boundary","createPrintArea","padding","className","printArea","cloneNode","children","child","background","classList","createPrintFrame","image","pageSize","iframe","createElement","body","appendChild","printFrame","contentWindow","styleTag","createTextNode","s","head","append","domToImage","dataUrl","printWindow","win","printImage","printing","minSize","maxSize","Image","src","isLandscape","Group","Editor","Item","rootStore","updates","acceleration","initiatePrint","editorElement","querySelector","exportImage","onClipboard","action","HTMLInputElement","ctrlKey","moveItemsByArrowKey","onKeyUp","clearKeys","_component_toolbar_button","_component_toolbar_separator","_component_scroll_fade","faScrewdriverWrench","text","faFolderOpen","faFile","faSave","documentStore","disabled","faReply","faShare","faRotateForward","faObjectGroup","faObjectUngroup","faScissors","faCopy","faPaste","faBan","faMicrochip","faBug","faArrowsRotate","faForwardStep","faWaveSquare","isToolbox","faUser","hideScrollbar","gradientStyle","onScroll","scroll","getGradientStyle","scrollWidth","scrollLeft","clientWidth","modifiers","ToolbarButton","ToolbarSeparator","ScrollFade","faRotateBackward","_component_toolbox_item","_component_toolbox_layout","factorySubtypes","factory","onDrop","drop","selectable","rects","preview","draggedElement","inner","outer","ratio","contains","categories","cat","selected","slots","toolbox","scrollHeight","categoryName","inputFactory","clockFactory","digitFactory","lightbulbFactory","logicGateFactory","showInOscilloscope","digitDisplayFactory","ToolboxItem","ToolboxLayout","circuits","faCodeBranch","_component_oscilloscope_title_bar","_component_oscilloscope_timeline","_component_oscilloscope_viewer","modelValue","onCollapse","clearable","hasWaves","onClear","onToggle","v","color","onWheel","totalWidth","preserveAspectRatio","mounted","timeline","$refs","list","scrollToNextInterval","onTimelineScroll","beforeUnmount","methods","scrollTop","handler","isRecording","faPause","faPlay","collapseHeight","viewer","originalY","currentY","parentElement","onUnmounted","OscilloscopeTimeline","OscilloscopeTitleBar","OscilloscopeViewer","storeToRefs","_component_status_bar_button","_component_status_bar_zoom","_component_status_bar_viewer","faMinus","faPlus","zoomPercent","faCompress","faExpand","parseFloat","StatusBarButton","StatusBarViewer","StatusBarZoom","hasDocument","documentList","zoomSubmenu","hasFixedZoom","createApplicationMenu","menus","view","isBlurred","_component_builder","_component_modal_button","_component_modal","inverted","_component_builder_drop_zone","_component_builder_editable_label","_component_container","getCardPayload","onWireDrop","_component_Draggable","_component_Container","onDragEnter","onDragLeave","getChildPayload","getGhostParent","tag","isReadOnly","inputRef","BuilderEditableLabel","Container","l","pattern","draggedOrientation","replaceModifiers","replacement","querySelectorAll","matches","match","applyDrag","arr","dragResult","addedIndex","itemToAdd","BuilderDropZone","emitModel","orientations","location","dropResult","newWires","assign","_Transition","appear","show","Builder","Modal","ModalButton","Document","Toolbar","TabItem","TabHost","Toolbox","Oscilloscope","StatusBar","MainView","BuilderView","onDragOver","dataTransfer","dropEffect","toUpperCase","reload","setApplicationMenu","onBeforeClose","onOpenFile","horizontal","lastPosition","toolboxWidth","quit","createApp","App","use","createPinia","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","deferred","O","chunkIds","priority","notFulfilled","fulfilled","j","every","getter","__esModule","definition","defineProperty","enumerable","get","g","globalThis","obj","prop","prototype","Symbol","toStringTag","nmd","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}