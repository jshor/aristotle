var Ac=Object.defineProperty;var Tc=(t,e,n)=>e in t?Ac(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wt=(t,e,n)=>(Tc(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function is(t,e){const n=Object.create(null),o=t.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const ae={},lo=[],Ke=()=>{},zc=()=>!1,Mc=/^on[^a-z]/,Zr=t=>Mc.test(t),ss=t=>t.startsWith("onUpdate:"),be=Object.assign,as=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bc=Object.prototype.hasOwnProperty,te=(t,e)=>Bc.call(t,e),Lt=Array.isArray,co=t=>qo(t)==="[object Map]",yo=t=>qo(t)==="[object Set]",Hs=t=>qo(t)==="[object Date]",Ht=t=>typeof t=="function",ge=t=>typeof t=="string",Bo=t=>typeof t=="symbol",se=t=>t!==null&&typeof t=="object",ja=t=>se(t)&&Ht(t.then)&&Ht(t.catch),Va=Object.prototype.toString,qo=t=>Va.call(t),Lc=t=>qo(t).slice(8,-1),Ua=t=>qo(t)==="[object Object]",ls=t=>ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$r=is(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Nc=/-(\w)/g,sn=Kr(t=>t.replace(Nc,(e,n)=>n?n.toUpperCase():"")),Rc=/\B([A-Z])/g,Gn=Kr(t=>t.replace(Rc,"-$1").toLowerCase()),Xr=Kr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Di=Kr(t=>t?`on${Xr(t)}`:""),Lo=(t,e)=>!Object.is(t,e),Dr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},zr=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Mr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Fc=t=>{const e=ge(t)?Number(t):NaN;return isNaN(e)?t:e};let Ws;const Ri=()=>Ws||(Ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ne(t){if(Lt(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],r=ge(o)?Hc(o):ne(o);if(r)for(const i in r)e[i]=r[i]}return e}else{if(ge(t))return t;if(se(t))return t}}const jc=/;(?![^(]*\))/g,Vc=/:([^]+)/,Uc=/\/\*[^]*?\*\//g;function Hc(t){const e={};return t.replace(Uc,"").split(jc).forEach(n=>{if(n){const o=n.split(Vc);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Qt(t){let e="";if(ge(t))e=t;else if(Lt(t))for(let n=0;n<t.length;n++){const o=Qt(t[n]);o&&(e+=o+" ")}else if(se(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Ha(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ge(e)&&(t.class=Qt(e)),n&&(t.style=ne(n)),t}const Wc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gc=is(Wc);function Wa(t){return!!t||t===""}function qc(t,e){if(t.length!==e.length)return!1;let n=!0;for(let o=0;n&&o<t.length;o++)n=Wn(t[o],e[o]);return n}function Wn(t,e){if(t===e)return!0;let n=Hs(t),o=Hs(e);if(n||o)return n&&o?t.getTime()===e.getTime():!1;if(n=Bo(t),o=Bo(e),n||o)return t===e;if(n=Lt(t),o=Lt(e),n||o)return n&&o?qc(t,e):!1;if(n=se(t),o=se(e),n||o){if(!n||!o)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!Wn(t[s],e[s]))return!1}}return String(t)===String(e)}function cs(t,e){return t.findIndex(n=>Wn(n,e))}const he=t=>ge(t)?t:t==null?"":Lt(t)||se(t)&&(t.toString===Va||!Ht(t.toString))?JSON.stringify(t,Ga,2):String(t),Ga=(t,e)=>e&&e.__v_isRef?Ga(t,e.value):co(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,r])=>(n[`${o} =>`]=r,n),{})}:yo(e)?{[`Set(${e.size})`]:[...e.values()]}:se(e)&&!Lt(e)&&!Ua(e)?String(e):e;let Be;class qa{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Be,!e&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Be;try{return Be=this,e()}finally{Be=n}}}on(){Be=this}off(){Be=this.parent}stop(e){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Za(t){return new qa(t)}function Zc(t,e=Be){e&&e.active&&e.effects.push(t)}function Ka(){return Be}function Kc(t){Be&&Be.cleanups.push(t)}const us=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Xa=t=>(t.w&kn)>0,Ya=t=>(t.n&kn)>0,Xc=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=kn},Yc=t=>{const{deps:e}=t;if(e.length){let n=0;for(let o=0;o<e.length;o++){const r=e[o];Xa(r)&&!Ya(r)?r.delete(t):e[n++]=r,r.w&=~kn,r.n&=~kn}e.length=n}},Br=new WeakMap;let Po=0,kn=1;const Fi=30;let qe;const Un=Symbol(""),ji=Symbol("");class ds{constructor(e,n=null,o){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Zc(this,o)}run(){if(!this.active)return this.fn();let e=qe,n=En;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=qe,qe=this,En=!0,kn=1<<++Po,Po<=Fi?Xc(this):Gs(this),this.fn()}finally{Po<=Fi&&Yc(this),kn=1<<--Po,qe=this.parent,En=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){qe===this?this.deferStop=!0:this.active&&(Gs(this),this.onStop&&this.onStop(),this.active=!1)}}function Gs(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let En=!0;const Ja=[];function bo(){Ja.push(En),En=!1}function _o(){const t=Ja.pop();En=t===void 0?!0:t}function ze(t,e,n){if(En&&qe){let o=Br.get(t);o||Br.set(t,o=new Map);let r=o.get(n);r||o.set(n,r=us()),Qa(r)}}function Qa(t,e){let n=!1;Po<=Fi?Ya(t)||(t.n|=kn,n=!Xa(t)):n=!t.has(qe),n&&(t.add(qe),qe.deps.push(t))}function fn(t,e,n,o,r,i){const s=Br.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&Lt(t)){const l=Number(o);s.forEach((u,h)=>{(h==="length"||h>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":Lt(t)?ls(n)&&a.push(s.get("length")):(a.push(s.get(Un)),co(t)&&a.push(s.get(ji)));break;case"delete":Lt(t)||(a.push(s.get(Un)),co(t)&&a.push(s.get(ji)));break;case"set":co(t)&&a.push(s.get(Un));break}if(a.length===1)a[0]&&Vi(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Vi(us(l))}}function Vi(t,e){const n=Lt(t)?t:[...t];for(const o of n)o.computed&&qs(o);for(const o of n)o.computed||qs(o)}function qs(t,e){(t!==qe||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Jc(t,e){var n;return(n=Br.get(t))==null?void 0:n.get(e)}const Qc=is("__proto__,__v_isRef,__isVue"),tl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bo)),tu=fs(),eu=fs(!1,!0),nu=fs(!0),Zs=ou();function ou(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const o=Yt(this);for(let i=0,s=this.length;i<s;i++)ze(o,"get",i+"");const r=o[e](...n);return r===-1||r===!1?o[e](...n.map(Yt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){bo();const o=Yt(this)[e].apply(this,n);return _o(),o}}),t}function ru(t){const e=Yt(this);return ze(e,"has",t),e.hasOwnProperty(t)}function fs(t=!1,e=!1){return function(o,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?_u:il:e?rl:ol).get(o))return o;const s=Lt(o);if(!t){if(s&&te(Zs,r))return Reflect.get(Zs,r,i);if(r==="hasOwnProperty")return ru}const a=Reflect.get(o,r,i);return(Bo(r)?tl.has(r):Qc(r))||(t||ze(o,"get",r),e)?a:fe(a)?s&&ls(r)?a:a.value:se(a)?t?sl(a):Jr(a):a}}const iu=el(),su=el(!0);function el(t=!1){return function(n,o,r,i){let s=n[o];if(po(s)&&fe(s)&&!fe(r))return!1;if(!t&&(!Lr(r)&&!po(r)&&(s=Yt(s),r=Yt(r)),!Lt(n)&&fe(s)&&!fe(r)))return s.value=r,!0;const a=Lt(n)&&ls(o)?Number(o)<n.length:te(n,o),l=Reflect.set(n,o,r,i);return n===Yt(i)&&(a?Lo(r,s)&&fn(n,"set",o,r):fn(n,"add",o,r)),l}}function au(t,e){const n=te(t,e);t[e];const o=Reflect.deleteProperty(t,e);return o&&n&&fn(t,"delete",e,void 0),o}function lu(t,e){const n=Reflect.has(t,e);return(!Bo(e)||!tl.has(e))&&ze(t,"has",e),n}function cu(t){return ze(t,"iterate",Lt(t)?"length":Un),Reflect.ownKeys(t)}const nl={get:tu,set:iu,deleteProperty:au,has:lu,ownKeys:cu},uu={get:nu,set(t,e){return!0},deleteProperty(t,e){return!0}},du=be({},nl,{get:eu,set:su}),hs=t=>t,Yr=t=>Reflect.getPrototypeOf(t);function _r(t,e,n=!1,o=!1){t=t.__v_raw;const r=Yt(t),i=Yt(e);n||(e!==i&&ze(r,"get",e),ze(r,"get",i));const{has:s}=Yr(r),a=o?hs:n?gs:No;if(s.call(r,e))return a(t.get(e));if(s.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function wr(t,e=!1){const n=this.__v_raw,o=Yt(n),r=Yt(t);return e||(t!==r&&ze(o,"has",t),ze(o,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Cr(t,e=!1){return t=t.__v_raw,!e&&ze(Yt(t),"iterate",Un),Reflect.get(t,"size",t)}function Ks(t){t=Yt(t);const e=Yt(this);return Yr(e).has.call(e,t)||(e.add(t),fn(e,"add",t,t)),this}function Xs(t,e){e=Yt(e);const n=Yt(this),{has:o,get:r}=Yr(n);let i=o.call(n,t);i||(t=Yt(t),i=o.call(n,t));const s=r.call(n,t);return n.set(t,e),i?Lo(e,s)&&fn(n,"set",t,e):fn(n,"add",t,e),this}function Ys(t){const e=Yt(this),{has:n,get:o}=Yr(e);let r=n.call(e,t);r||(t=Yt(t),r=n.call(e,t)),o&&o.call(e,t);const i=e.delete(t);return r&&fn(e,"delete",t,void 0),i}function Js(){const t=Yt(this),e=t.size!==0,n=t.clear();return e&&fn(t,"clear",void 0,void 0),n}function Sr(t,e){return function(o,r){const i=this,s=i.__v_raw,a=Yt(s),l=e?hs:t?gs:No;return!t&&ze(a,"iterate",Un),s.forEach((u,h)=>o.call(r,l(u),l(h),i))}}function Ir(t,e,n){return function(...o){const r=this.__v_raw,i=Yt(r),s=co(i),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=r[t](...o),h=n?hs:e?gs:No;return!e&&ze(i,"iterate",l?ji:Un),{next(){const{value:p,done:g}=u.next();return g?{value:p,done:g}:{value:a?[h(p[0]),h(p[1])]:h(p),done:g}},[Symbol.iterator](){return this}}}}function _n(t){return function(...e){return t==="delete"?!1:this}}function fu(){const t={get(i){return _r(this,i)},get size(){return Cr(this)},has:wr,add:Ks,set:Xs,delete:Ys,clear:Js,forEach:Sr(!1,!1)},e={get(i){return _r(this,i,!1,!0)},get size(){return Cr(this)},has:wr,add:Ks,set:Xs,delete:Ys,clear:Js,forEach:Sr(!1,!0)},n={get(i){return _r(this,i,!0)},get size(){return Cr(this,!0)},has(i){return wr.call(this,i,!0)},add:_n("add"),set:_n("set"),delete:_n("delete"),clear:_n("clear"),forEach:Sr(!0,!1)},o={get(i){return _r(this,i,!0,!0)},get size(){return Cr(this,!0)},has(i){return wr.call(this,i,!0)},add:_n("add"),set:_n("set"),delete:_n("delete"),clear:_n("clear"),forEach:Sr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ir(i,!1,!1),n[i]=Ir(i,!0,!1),e[i]=Ir(i,!1,!0),o[i]=Ir(i,!0,!0)}),[t,n,e,o]}const[hu,pu,mu,gu]=fu();function ps(t,e){const n=e?t?gu:mu:t?pu:hu;return(o,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(te(n,r)&&r in o?n:o,r,i)}const vu={get:ps(!1,!1)},yu={get:ps(!1,!0)},bu={get:ps(!0,!1)},ol=new WeakMap,rl=new WeakMap,il=new WeakMap,_u=new WeakMap;function wu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cu(t){return t.__v_skip||!Object.isExtensible(t)?0:wu(Lc(t))}function Jr(t){return po(t)?t:ms(t,!1,nl,vu,ol)}function Su(t){return ms(t,!1,du,yu,rl)}function sl(t){return ms(t,!0,uu,bu,il)}function ms(t,e,n,o,r){if(!se(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const s=Cu(t);if(s===0)return t;const a=new Proxy(t,s===2?o:n);return r.set(t,a),a}function dn(t){return po(t)?dn(t.__v_raw):!!(t&&t.__v_isReactive)}function po(t){return!!(t&&t.__v_isReadonly)}function Lr(t){return!!(t&&t.__v_isShallow)}function al(t){return dn(t)||po(t)}function Yt(t){const e=t&&t.__v_raw;return e?Yt(e):t}function Qr(t){return zr(t,"__v_skip",!0),t}const No=t=>se(t)?Jr(t):t,gs=t=>se(t)?sl(t):t;function ll(t){En&&qe&&(t=Yt(t),Qa(t.dep||(t.dep=us())))}function cl(t,e){t=Yt(t);const n=t.dep;n&&Vi(n)}function fe(t){return!!(t&&t.__v_isRef===!0)}function Gt(t){return Iu(t,!1)}function Iu(t,e){return fe(t)?t:new xu(t,e)}class xu{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Yt(e),this._value=n?e:No(e)}get value(){return ll(this),this._value}set value(e){const n=this.__v_isShallow||Lr(e)||po(e);e=n?e:Yt(e),Lo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:No(e),cl(this))}}function Eu(t){return fe(t)?t.value:t}const Ou={get:(t,e,n)=>Eu(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const r=t[e];return fe(r)&&!fe(n)?(r.value=n,!0):Reflect.set(t,e,n,o)}};function ul(t){return dn(t)?t:new Proxy(t,Ou)}function Pu(t){const e=Lt(t)?new Array(t.length):{};for(const n in t)e[n]=dl(t,n);return e}class ku{constructor(e,n,o){this._object=e,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Jc(Yt(this._object),this._key)}}class $u{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Du(t,e,n){return fe(t)?t:Ht(t)?new $u(t):se(t)&&arguments.length>1?dl(t,e,n):Gt(t)}function dl(t,e,n){const o=t[e];return fe(o)?o:new ku(t,e,n)}class Au{constructor(e,n,o,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ds(e,()=>{this._dirty||(this._dirty=!0,cl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const e=Yt(this);return ll(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Tu(t,e,n=!1){let o,r;const i=Ht(t);return i?(o=t,r=Ke):(o=t.get,r=t.set),new Au(o,r,i||!r,n)}function On(t,e,n,o){let r;try{r=o?t(...o):t()}catch(i){ti(i,e,n)}return r}function Ve(t,e,n,o){if(Ht(t)){const i=On(t,e,n,o);return i&&ja(i)&&i.catch(s=>{ti(s,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Ve(t[i],e,n,o));return r}function ti(t,e,n,o=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,s,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){On(l,null,10,[t,s,a]);return}}zu(t,n,r,o)}function zu(t,e,n,o=!0){console.error(t)}let Ro=!1,Ui=!1;const ke=[];let rn=0;const uo=[];let ln=null,Rn=0;const fl=Promise.resolve();let vs=null;function Zo(t){const e=vs||fl;return t?e.then(this?t.bind(this):t):e}function Mu(t){let e=rn+1,n=ke.length;for(;e<n;){const o=e+n>>>1;Fo(ke[o])<t?e=o+1:n=o}return e}function ys(t){(!ke.length||!ke.includes(t,Ro&&t.allowRecurse?rn+1:rn))&&(t.id==null?ke.push(t):ke.splice(Mu(t.id),0,t),hl())}function hl(){!Ro&&!Ui&&(Ui=!0,vs=fl.then(ml))}function Bu(t){const e=ke.indexOf(t);e>rn&&ke.splice(e,1)}function Lu(t){Lt(t)?uo.push(...t):(!ln||!ln.includes(t,t.allowRecurse?Rn+1:Rn))&&uo.push(t),hl()}function Qs(t,e=Ro?rn+1:0){for(;e<ke.length;e++){const n=ke[e];n&&n.pre&&(ke.splice(e,1),e--,n())}}function pl(t){if(uo.length){const e=[...new Set(uo)];if(uo.length=0,ln){ln.push(...e);return}for(ln=e,ln.sort((n,o)=>Fo(n)-Fo(o)),Rn=0;Rn<ln.length;Rn++)ln[Rn]();ln=null,Rn=0}}const Fo=t=>t.id==null?1/0:t.id,Nu=(t,e)=>{const n=Fo(t)-Fo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function ml(t){Ui=!1,Ro=!0,ke.sort(Nu);const e=Ke;try{for(rn=0;rn<ke.length;rn++){const n=ke[rn];n&&n.active!==!1&&On(n,null,14)}}finally{rn=0,ke.length=0,pl(),Ro=!1,vs=null,(ke.length||uo.length)&&ml()}}function Ru(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||ae;let r=n;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in o){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:p,trim:g}=o[h]||ae;g&&(r=n.map(d=>ge(d)?d.trim():d)),p&&(r=n.map(Mr))}let a,l=o[a=Di(e)]||o[a=Di(sn(e))];!l&&i&&(l=o[a=Di(Gn(e))]),l&&Ve(l,t,6,r);const u=o[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ve(u,t,6,r)}}function gl(t,e,n=!1){const o=e.emitsCache,r=o.get(t);if(r!==void 0)return r;const i=t.emits;let s={},a=!1;if(!Ht(t)){const l=u=>{const h=gl(u,e,!0);h&&(a=!0,be(s,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(se(t)&&o.set(t,null),null):(Lt(i)?i.forEach(l=>s[l]=null):be(s,i),se(t)&&o.set(t,s),s)}function ei(t,e){return!t||!Zr(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,Gn(e))||te(t,e))}let Se=null,vl=null;function Nr(t){const e=Se;return Se=t,vl=t&&t.type.__scopeId||null,e}function Ft(t,e=Se,n){if(!e||t._n)return t;const o=(...r)=>{o._d&&da(-1);const i=Nr(e);let s;try{s=t(...r)}finally{Nr(i),o._d&&da(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function Ai(t){const{type:e,vnode:n,proxy:o,withProxy:r,props:i,propsOptions:[s],slots:a,attrs:l,emit:u,render:h,renderCache:p,data:g,setupState:d,ctx:v,inheritAttrs:f}=t;let b,y;const I=Nr(t);try{if(n.shapeFlag&4){const k=r||o;b=nn(h.call(k,k,p,i,d,g,v)),y=l}else{const k=e;b=nn(k.length>1?k(i,{attrs:l,slots:a,emit:u}):k(i,null)),y=e.props?l:Fu(l)}}catch(k){To.length=0,ti(k,t,1),b=ut(Ue)}let E=b;if(y&&f!==!1){const k=Object.keys(y),{shapeFlag:L}=E;k.length&&L&7&&(s&&k.some(ss)&&(y=ju(y,s)),E=$n(E,y))}return n.dirs&&(E=$n(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),b=E,Nr(I),b}const Fu=t=>{let e;for(const n in t)(n==="class"||n==="style"||Zr(n))&&((e||(e={}))[n]=t[n]);return e},ju=(t,e)=>{const n={};for(const o in t)(!ss(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function Vu(t,e,n){const{props:o,children:r,component:i}=t,{props:s,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?ta(o,s,u):!!s;if(l&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const g=h[p];if(s[g]!==o[g]&&!ei(u,g))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?ta(o,s,u):!0:!!s;return!1}function ta(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(e[i]!==t[i]&&!ei(n,i))return!0}return!1}function Uu({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Hu=t=>t.__isSuspense;function Wu(t,e){e&&e.pendingBranch?Lt(t)?e.effects.push(...t):e.effects.push(t):Lu(t)}function Rr(t,e){return bs(t,null,e)}const xr={};function Pn(t,e,n){return bs(t,e,n)}function bs(t,e,{immediate:n,deep:o,flush:r,onTrack:i,onTrigger:s}=ae){var a;const l=Ka()===((a=_e)==null?void 0:a.scope)?_e:null;let u,h=!1,p=!1;if(fe(t)?(u=()=>t.value,h=Lr(t)):dn(t)?(u=()=>t,o=!0):Lt(t)?(p=!0,h=t.some(k=>dn(k)||Lr(k)),u=()=>t.map(k=>{if(fe(k))return k.value;if(dn(k))return Vn(k);if(Ht(k))return On(k,l,2)})):Ht(t)?e?u=()=>On(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return g&&g(),Ve(t,l,3,[d])}:u=Ke,e&&o){const k=u;u=()=>Vn(k())}let g,d=k=>{g=I.onStop=()=>{On(k,l,4)}},v;if(Uo)if(d=Ke,e?n&&Ve(e,l,3,[u(),p?[]:void 0,d]):u(),r==="sync"){const k=Nd();v=k.__watcherHandles||(k.__watcherHandles=[])}else return Ke;let f=p?new Array(t.length).fill(xr):xr;const b=()=>{if(I.active)if(e){const k=I.run();(o||h||(p?k.some((L,U)=>Lo(L,f[U])):Lo(k,f)))&&(g&&g(),Ve(e,l,3,[k,f===xr?void 0:p&&f[0]===xr?[]:f,d]),f=k)}else I.run()};b.allowRecurse=!!e;let y;r==="sync"?y=b:r==="post"?y=()=>Te(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),y=()=>ys(b));const I=new ds(u,y);e?n?b():f=I.run():r==="post"?Te(I.run.bind(I),l&&l.suspense):I.run();const E=()=>{I.stop(),l&&l.scope&&as(l.scope.effects,I)};return v&&v.push(E),E}function Gu(t,e,n){const o=this.proxy,r=ge(t)?t.includes(".")?yl(o,t):()=>o[t]:t.bind(o,o);let i;Ht(e)?i=e:(i=e.handler,n=e);const s=_e;mo(this);const a=bs(r,i.bind(o),n);return s?mo(s):Hn(),a}function yl(t,e){const n=e.split(".");return()=>{let o=t;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}function Vn(t,e){if(!se(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),fe(t))Vn(t.value,e);else if(Lt(t))for(let n=0;n<t.length;n++)Vn(t[n],e);else if(yo(t)||co(t))t.forEach(n=>{Vn(n,e)});else if(Ua(t))for(const n in t)Vn(t[n],e);return t}function fo(t,e){const n=Se;if(n===null)return t;const o=ai(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,l,u=ae]=e[i];s&&(Ht(s)&&(s={mounted:s,updated:s}),s.deep&&Vn(a),r.push({dir:s,instance:o,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function Mn(t,e,n,o){const r=t.dirs,i=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];i&&(a.oldValue=i[s].value);let l=a.dir[o];l&&(bo(),Ve(l,n,8,[t.el,a,t,e]),_o())}}function qu(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xe(()=>{t.isMounted=!0}),qn(()=>{t.isUnmounting=!0}),t}const je=[Function,Array],bl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:je,onEnter:je,onAfterEnter:je,onEnterCancelled:je,onBeforeLeave:je,onLeave:je,onAfterLeave:je,onLeaveCancelled:je,onBeforeAppear:je,onAppear:je,onAfterAppear:je,onAppearCancelled:je},Zu={name:"BaseTransition",props:bl,setup(t,{slots:e}){const n=$d(),o=qu();let r;return()=>{const i=e.default&&wl(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const f of i)if(f.type!==Ue){s=f;break}}const a=Yt(t),{mode:l}=a;if(o.isLeaving)return Ti(s);const u=ea(s);if(!u)return Ti(s);const h=Hi(u,a,o,n);Wi(u,h);const p=n.subTree,g=p&&ea(p);let d=!1;const{getTransitionKey:v}=u.type;if(v){const f=v();r===void 0?r=f:f!==r&&(r=f,d=!0)}if(g&&g.type!==Ue&&(!Fn(u,g)||d)){const f=Hi(g,a,o,n);if(Wi(g,f),l==="out-in")return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,n.update.active!==!1&&n.update()},Ti(s);l==="in-out"&&u.type!==Ue&&(f.delayLeave=(b,y,I)=>{const E=_l(o,g);E[String(g.key)]=g,b._leaveCb=()=>{y(),b._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=I})}return s}}},Ku=Zu;function _l(t,e){const{leavingVNodes:n}=t;let o=n.get(e.type);return o||(o=Object.create(null),n.set(e.type,o)),o}function Hi(t,e,n,o){const{appear:r,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:g,onAfterLeave:d,onLeaveCancelled:v,onBeforeAppear:f,onAppear:b,onAfterAppear:y,onAppearCancelled:I}=e,E=String(t.key),k=_l(n,t),L=(z,$)=>{z&&Ve(z,o,9,$)},U=(z,$)=>{const Z=$[1];L(z,$),Lt(z)?z.every(G=>G.length<=1)&&Z():z.length<=1&&Z()},M={mode:i,persisted:s,beforeEnter(z){let $=a;if(!n.isMounted)if(r)$=f||a;else return;z._leaveCb&&z._leaveCb(!0);const Z=k[E];Z&&Fn(t,Z)&&Z.el._leaveCb&&Z.el._leaveCb(),L($,[z])},enter(z){let $=l,Z=u,G=h;if(!n.isMounted)if(r)$=b||l,Z=y||u,G=I||h;else return;let S=!1;const F=z._enterCb=m=>{S||(S=!0,m?L(G,[z]):L(Z,[z]),M.delayedLeave&&M.delayedLeave(),z._enterCb=void 0)};$?U($,[z,F]):F()},leave(z,$){const Z=String(t.key);if(z._enterCb&&z._enterCb(!0),n.isUnmounting)return $();L(p,[z]);let G=!1;const S=z._leaveCb=F=>{G||(G=!0,$(),F?L(v,[z]):L(d,[z]),z._leaveCb=void 0,k[Z]===t&&delete k[Z])};k[Z]=t,g?U(g,[z,S]):S()},clone(z){return Hi(z,e,n,o)}};return M}function Ti(t){if(ni(t))return t=$n(t),t.children=null,t}function ea(t){return ni(t)?t.children?t.children[0]:void 0:t}function Wi(t,e){t.shapeFlag&6&&t.component?Wi(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wl(t,e=!1,n){let o=[],r=0;for(let i=0;i<t.length;i++){let s=t[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===Zt?(s.patchFlag&128&&r++,o=o.concat(wl(s.children,e,a))):(e||s.type!==Ue)&&o.push(a!=null?$n(s,{key:a}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function xt(t,e){return Ht(t)?(()=>be({name:t.name},e,{setup:t}))():t}const $o=t=>!!t.type.__asyncLoader,ni=t=>t.type.__isKeepAlive;function Xu(t,e){Cl(t,"a",e)}function Yu(t,e){Cl(t,"da",e)}function Cl(t,e,n=_e){const o=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(oi(e,o,n),n){let r=n.parent;for(;r&&r.parent;)ni(r.parent.vnode)&&Ju(o,e,n,r),r=r.parent}}function Ju(t,e,n,o){const r=oi(e,t,o,!0);_s(()=>{as(o[e],r)},n)}function oi(t,e,n=_e,o=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;bo(),mo(n);const a=Ve(e,n,t,s);return Hn(),_o(),a});return o?r.unshift(i):r.push(i),i}}const hn=t=>(e,n=_e)=>(!Uo||t==="sp")&&oi(t,(...o)=>e(...o),n),Qu=hn("bm"),Xe=hn("m"),td=hn("bu"),ed=hn("u"),qn=hn("bum"),_s=hn("um"),nd=hn("sp"),od=hn("rtg"),rd=hn("rtc");function id(t,e=_e){oi("ec",t,e)}const ws="components";function bt(t,e){return Il(ws,t,!0,e)||t}const Sl=Symbol.for("v-ndc");function ri(t){return ge(t)?Il(ws,t,!1)||t:t||Sl}function Il(t,e,n=!0,o=!1){const r=Se||_e;if(r){const i=r.type;if(t===ws){const a=Md(i,!1);if(a&&(a===e||a===sn(e)||a===Xr(sn(e))))return i}const s=na(r[t]||i[t],e)||na(r.appContext[t],e);return!s&&o?i:s}}function na(t,e){return t&&(t[e]||t[sn(e)]||t[Xr(sn(e))])}function pe(t,e,n,o){let r;const i=n&&n[o];if(Lt(t)||ge(t)){r=new Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=e(t[s],s,void 0,i&&i[s])}else if(typeof t=="number"){r=new Array(t);for(let s=0;s<t;s++)r[s]=e(s+1,s,void 0,i&&i[s])}else if(se(t))if(t[Symbol.iterator])r=Array.from(t,(s,a)=>e(s,a,void 0,i&&i[a]));else{const s=Object.keys(t);r=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];r[a]=e(t[u],u,a,i&&i[a])}}else r=[];return n&&(n[o]=r),r}function Cs(t,e){for(let n=0;n<e.length;n++){const o=e[n];if(Lt(o))for(let r=0;r<o.length;r++)t[o[r].name]=o[r].fn;else o&&(t[o.name]=o.key?(...r)=>{const i=o.fn(...r);return i&&(i.key=o.key),i}:o.fn)}return t}function ue(t,e,n={},o,r){if(Se.isCE||Se.parent&&$o(Se.parent)&&Se.parent.isCE)return e!=="default"&&(n.name=e),ut("slot",n,o&&o());let i=t[e];i&&i._c&&(i._d=!1),Y();const s=i&&xl(i(n)),a=Rt(Zt,{key:n.key||s&&s.key||`_${e}`},s||(o?o():[]),s&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function xl(t){return t.some(e=>jr(e)?!(e.type===Ue||e.type===Zt&&!xl(e.children)):!0)?t:null}const Gi=t=>t?Ll(t)?ai(t)||t.proxy:Gi(t.parent):null,Do=be(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gi(t.parent),$root:t=>Gi(t.root),$emit:t=>t.emit,$options:t=>Ss(t),$forceUpdate:t=>t.f||(t.f=()=>ys(t.update)),$nextTick:t=>t.n||(t.n=Zo.bind(t.proxy)),$watch:t=>Gu.bind(t)}),zi=(t,e)=>t!==ae&&!t.__isScriptSetup&&te(t,e),sd={get({_:t},e){const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return o[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(zi(o,e))return s[e]=1,o[e];if(r!==ae&&te(r,e))return s[e]=2,r[e];if((u=t.propsOptions[0])&&te(u,e))return s[e]=3,i[e];if(n!==ae&&te(n,e))return s[e]=4,n[e];qi&&(s[e]=0)}}const h=Do[e];let p,g;if(h)return e==="$attrs"&&ze(t,"get",e),h(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==ae&&te(n,e))return s[e]=4,n[e];if(g=l.config.globalProperties,te(g,e))return g[e]},set({_:t},e,n){const{data:o,setupState:r,ctx:i}=t;return zi(r,e)?(r[e]=n,!0):o!==ae&&te(o,e)?(o[e]=n,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let a;return!!n[s]||t!==ae&&te(t,s)||zi(e,s)||(a=i[0])&&te(a,s)||te(o,s)||te(Do,s)||te(r.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function oa(t){return Lt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let qi=!0;function ad(t){const e=Ss(t),n=t.proxy,o=t.ctx;qi=!1,e.beforeCreate&&ra(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:s,watch:a,provide:l,inject:u,created:h,beforeMount:p,mounted:g,beforeUpdate:d,updated:v,activated:f,deactivated:b,beforeDestroy:y,beforeUnmount:I,destroyed:E,unmounted:k,render:L,renderTracked:U,renderTriggered:M,errorCaptured:z,serverPrefetch:$,expose:Z,inheritAttrs:G,components:S,directives:F,filters:m}=e;if(u&&ld(u,o,null),s)for(const et in s){const St=s[et];Ht(St)&&(o[et]=St.bind(n))}if(r){const et=r.call(n,n);se(et)&&(t.data=Jr(et))}if(qi=!0,i)for(const et in i){const St=i[et],ct=Ht(St)?St.bind(n,n):Ht(St.get)?St.get.bind(n,n):Ke,ft=!Ht(St)&&Ht(St.set)?St.set.bind(n):Ke,X=Kt({get:ct,set:ft});Object.defineProperty(o,et,{enumerable:!0,configurable:!0,get:()=>X.value,set:K=>X.value=K})}if(a)for(const et in a)El(a[et],o,n,et);if(l){const et=Ht(l)?l.call(n):l;Reflect.ownKeys(et).forEach(St=>{pd(St,et[St])})}h&&ra(h,t,"c");function vt(et,St){Lt(St)?St.forEach(ct=>et(ct.bind(n))):St&&et(St.bind(n))}if(vt(Qu,p),vt(Xe,g),vt(td,d),vt(ed,v),vt(Xu,f),vt(Yu,b),vt(id,z),vt(rd,U),vt(od,M),vt(qn,I),vt(_s,k),vt(nd,$),Lt(Z))if(Z.length){const et=t.exposed||(t.exposed={});Z.forEach(St=>{Object.defineProperty(et,St,{get:()=>n[St],set:ct=>n[St]=ct})})}else t.exposed||(t.exposed={});L&&t.render===Ke&&(t.render=L),G!=null&&(t.inheritAttrs=G),S&&(t.components=S),F&&(t.directives=F)}function ld(t,e,n=Ke){Lt(t)&&(t=Zi(t));for(const o in t){const r=t[o];let i;se(r)?"default"in r?i=Ao(r.from||o,r.default,!0):i=Ao(r.from||o):i=Ao(r),fe(i)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[o]=i}}function ra(t,e,n){Ve(Lt(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function El(t,e,n,o){const r=o.includes(".")?yl(n,o):()=>n[o];if(ge(t)){const i=e[t];Ht(i)&&Pn(r,i)}else if(Ht(t))Pn(r,t.bind(n));else if(se(t))if(Lt(t))t.forEach(i=>El(i,e,n,o));else{const i=Ht(t.handler)?t.handler.bind(n):e[t.handler];Ht(i)&&Pn(r,i,t)}}function Ss(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!o?l=e:(l={},r.length&&r.forEach(u=>Fr(l,u,s,!0)),Fr(l,e,s)),se(e)&&i.set(e,l),l}function Fr(t,e,n,o=!1){const{mixins:r,extends:i}=e;i&&Fr(t,i,n,!0),r&&r.forEach(s=>Fr(t,s,n,!0));for(const s in e)if(!(o&&s==="expose")){const a=cd[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const cd={data:ia,props:sa,emits:sa,methods:ko,computed:ko,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:ko,directives:ko,watch:dd,provide:ia,inject:ud};function ia(t,e){return e?t?function(){return be(Ht(t)?t.call(this,this):t,Ht(e)?e.call(this,this):e)}:e:t}function ud(t,e){return ko(Zi(t),Zi(e))}function Zi(t){if(Lt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function De(t,e){return t?[...new Set([].concat(t,e))]:e}function ko(t,e){return t?be(Object.create(null),t,e):e}function sa(t,e){return t?Lt(t)&&Lt(e)?[...new Set([...t,...e])]:be(Object.create(null),oa(t),oa(e??{})):e}function dd(t,e){if(!t)return e;if(!e)return t;const n=be(Object.create(null),t);for(const o in e)n[o]=De(t[o],e[o]);return n}function Ol(){return{app:null,config:{isNativeTag:zc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fd=0;function hd(t,e){return function(o,r=null){Ht(o)||(o=be({},o)),r!=null&&!se(r)&&(r=null);const i=Ol(),s=new Set;let a=!1;const l=i.app={_uid:fd++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:Rd,get config(){return i.config},set config(u){},use(u,...h){return s.has(u)||(u&&Ht(u.install)?(s.add(u),u.install(l,...h)):Ht(u)&&(s.add(u),u(l,...h))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,h){return h?(i.components[u]=h,l):i.components[u]},directive(u,h){return h?(i.directives[u]=h,l):i.directives[u]},mount(u,h,p){if(!a){const g=ut(o,r);return g.appContext=i,h&&e?e(g,u):t(g,u,p),a=!0,l._container=u,u.__vue_app__=l,ai(g.component)||g.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,h){return i.provides[u]=h,l},runWithContext(u){jo=l;try{return u()}finally{jo=null}}};return l}}let jo=null;function pd(t,e){if(_e){let n=_e.provides;const o=_e.parent&&_e.parent.provides;o===n&&(n=_e.provides=Object.create(o)),n[t]=e}}function Ao(t,e,n=!1){const o=_e||Se;if(o||jo){const r=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:jo._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Ht(e)?e.call(o&&o.proxy):e}}function md(){return!!(_e||Se||jo)}function gd(t,e,n,o=!1){const r={},i={};zr(i,si,1),t.propsDefaults=Object.create(null),Pl(t,e,r,i);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=o?r:Su(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function vd(t,e,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=t,a=Yt(r),[l]=t.propsOptions;let u=!1;if((o||s>0)&&!(s&16)){if(s&8){const h=t.vnode.dynamicProps;for(let p=0;p<h.length;p++){let g=h[p];if(ei(t.emitsOptions,g))continue;const d=e[g];if(l)if(te(i,g))d!==i[g]&&(i[g]=d,u=!0);else{const v=sn(g);r[v]=Ki(l,a,v,d,t,!1)}else d!==i[g]&&(i[g]=d,u=!0)}}}else{Pl(t,e,r,i)&&(u=!0);let h;for(const p in a)(!e||!te(e,p)&&((h=Gn(p))===p||!te(e,h)))&&(l?n&&(n[p]!==void 0||n[h]!==void 0)&&(r[p]=Ki(l,a,p,void 0,t,!0)):delete r[p]);if(i!==a)for(const p in i)(!e||!te(e,p))&&(delete i[p],u=!0)}u&&fn(t,"set","$attrs")}function Pl(t,e,n,o){const[r,i]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if($r(l))continue;const u=e[l];let h;r&&te(r,h=sn(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:ei(t.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,s=!0)}if(i){const l=Yt(n),u=a||ae;for(let h=0;h<i.length;h++){const p=i[h];n[p]=Ki(r,l,p,u[p],t,!te(u,p))}}return s}function Ki(t,e,n,o,r,i){const s=t[n];if(s!=null){const a=te(s,"default");if(a&&o===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ht(l)){const{propsDefaults:u}=r;n in u?o=u[n]:(mo(r),o=u[n]=l.call(null,e),Hn())}else o=l}s[0]&&(i&&!a?o=!1:s[1]&&(o===""||o===Gn(n))&&(o=!0))}return o}function kl(t,e,n=!1){const o=e.propsCache,r=o.get(t);if(r)return r;const i=t.props,s={},a=[];let l=!1;if(!Ht(t)){const h=p=>{l=!0;const[g,d]=kl(p,e,!0);be(s,g),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return se(t)&&o.set(t,lo),lo;if(Lt(i))for(let h=0;h<i.length;h++){const p=sn(i[h]);aa(p)&&(s[p]=ae)}else if(i)for(const h in i){const p=sn(h);if(aa(p)){const g=i[h],d=s[p]=Lt(g)||Ht(g)?{type:g}:be({},g);if(d){const v=ua(Boolean,d.type),f=ua(String,d.type);d[0]=v>-1,d[1]=f<0||v<f,(v>-1||te(d,"default"))&&a.push(p)}}}const u=[s,a];return se(t)&&o.set(t,u),u}function aa(t){return t[0]!=="$"}function la(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function ca(t,e){return la(t)===la(e)}function ua(t,e){return Lt(e)?e.findIndex(n=>ca(n,t)):Ht(e)&&ca(e,t)?0:-1}const $l=t=>t[0]==="_"||t==="$stable",Is=t=>Lt(t)?t.map(nn):[nn(t)],yd=(t,e,n)=>{if(e._n)return e;const o=Ft((...r)=>Is(e(...r)),n);return o._c=!1,o},Dl=(t,e,n)=>{const o=t._ctx;for(const r in t){if($l(r))continue;const i=t[r];if(Ht(i))e[r]=yd(r,i,o);else if(i!=null){const s=Is(i);e[r]=()=>s}}},Al=(t,e)=>{const n=Is(e);t.slots.default=()=>n},bd=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Yt(e),zr(e,"_",n)):Dl(e,t.slots={})}else t.slots={},e&&Al(t,e);zr(t.slots,si,1)},_d=(t,e,n)=>{const{vnode:o,slots:r}=t;let i=!0,s=ae;if(o.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(be(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Dl(e,r)),s=e}else e&&(Al(t,e),s={default:1});if(i)for(const a in r)!$l(a)&&!(a in s)&&delete r[a]};function Xi(t,e,n,o,r=!1){if(Lt(t)){t.forEach((g,d)=>Xi(g,e&&(Lt(e)?e[d]:e),n,o,r));return}if($o(o)&&!r)return;const i=o.shapeFlag&4?ai(o.component)||o.component.proxy:o.el,s=r?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===ae?a.refs={}:a.refs,p=a.setupState;if(u!=null&&u!==l&&(ge(u)?(h[u]=null,te(p,u)&&(p[u]=null)):fe(u)&&(u.value=null)),Ht(l))On(l,a,12,[s,h]);else{const g=ge(l),d=fe(l);if(g||d){const v=()=>{if(t.f){const f=g?te(p,l)?p[l]:h[l]:l.value;r?Lt(f)&&as(f,i):Lt(f)?f.includes(i)||f.push(i):g?(h[l]=[i],te(p,l)&&(p[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else g?(h[l]=s,te(p,l)&&(p[l]=s)):d&&(l.value=s,t.k&&(h[t.k]=s))};s?(v.id=-1,Te(v,n)):v()}}}const Te=Wu;function wd(t){return Cd(t)}function Cd(t,e){const n=Ri();n.__VUE__=!0;const{insert:o,remove:r,patchProp:i,createElement:s,createText:a,createComment:l,setText:u,setElementText:h,parentNode:p,nextSibling:g,setScopeId:d=Ke,insertStaticContent:v}=t,f=(T,j,c,B=null,A=null,C=null,_=!1,x=null,W=!!j.dynamicChildren)=>{if(T===j)return;T&&!Fn(T,j)&&(B=Nt(T),K(T,A,C,!0),T=null),j.patchFlag===-2&&(W=!1,j.dynamicChildren=null);const{type:V,ref:R,shapeFlag:J}=j;switch(V){case ii:b(T,j,c,B);break;case Ue:y(T,j,c,B);break;case Mi:T==null&&I(j,c,B,_);break;case Zt:S(T,j,c,B,A,C,_,x,W);break;default:J&1?L(T,j,c,B,A,C,_,x,W):J&6?F(T,j,c,B,A,C,_,x,W):(J&64||J&128)&&V.process(T,j,c,B,A,C,_,x,W,Bt)}R!=null&&A&&Xi(R,T&&T.ref,C,j||T,!j)},b=(T,j,c,B)=>{if(T==null)o(j.el=a(j.children),c,B);else{const A=j.el=T.el;j.children!==T.children&&u(A,j.children)}},y=(T,j,c,B)=>{T==null?o(j.el=l(j.children||""),c,B):j.el=T.el},I=(T,j,c,B)=>{[T.el,T.anchor]=v(T.children,j,c,B,T.el,T.anchor)},E=({el:T,anchor:j},c,B)=>{let A;for(;T&&T!==j;)A=g(T),o(T,c,B),T=A;o(j,c,B)},k=({el:T,anchor:j})=>{let c;for(;T&&T!==j;)c=g(T),r(T),T=c;r(j)},L=(T,j,c,B,A,C,_,x,W)=>{_=_||j.type==="svg",T==null?U(j,c,B,A,C,_,x,W):$(T,j,A,C,_,x,W)},U=(T,j,c,B,A,C,_,x)=>{let W,V;const{type:R,props:J,shapeFlag:it,transition:ot,dirs:pt}=T;if(W=T.el=s(T.type,C,J&&J.is,J),it&8?h(W,T.children):it&16&&z(T.children,W,null,B,A,C&&R!=="foreignObject",_,x),pt&&Mn(T,null,B,"created"),M(W,T,T.scopeId,_,B),J){for(const kt in J)kt!=="value"&&!$r(kt)&&i(W,kt,null,J[kt],C,T.children,B,A,Et);"value"in J&&i(W,"value",null,J.value),(V=J.onVnodeBeforeMount)&&en(V,B,T)}pt&&Mn(T,null,B,"beforeMount");const Tt=(!A||A&&!A.pendingBranch)&&ot&&!ot.persisted;Tt&&ot.beforeEnter(W),o(W,j,c),((V=J&&J.onVnodeMounted)||Tt||pt)&&Te(()=>{V&&en(V,B,T),Tt&&ot.enter(W),pt&&Mn(T,null,B,"mounted")},A)},M=(T,j,c,B,A)=>{if(c&&d(T,c),B)for(let C=0;C<B.length;C++)d(T,B[C]);if(A){let C=A.subTree;if(j===C){const _=A.vnode;M(T,_,_.scopeId,_.slotScopeIds,A.parent)}}},z=(T,j,c,B,A,C,_,x,W=0)=>{for(let V=W;V<T.length;V++){const R=T[V]=x?In(T[V]):nn(T[V]);f(null,R,j,c,B,A,C,_,x)}},$=(T,j,c,B,A,C,_)=>{const x=j.el=T.el;let{patchFlag:W,dynamicChildren:V,dirs:R}=j;W|=T.patchFlag&16;const J=T.props||ae,it=j.props||ae;let ot;c&&Bn(c,!1),(ot=it.onVnodeBeforeUpdate)&&en(ot,c,j,T),R&&Mn(j,T,c,"beforeUpdate"),c&&Bn(c,!0);const pt=A&&j.type!=="foreignObject";if(V?Z(T.dynamicChildren,V,x,c,B,pt,C):_||St(T,j,x,null,c,B,pt,C,!1),W>0){if(W&16)G(x,j,J,it,c,B,A);else if(W&2&&J.class!==it.class&&i(x,"class",null,it.class,A),W&4&&i(x,"style",J.style,it.style,A),W&8){const Tt=j.dynamicProps;for(let kt=0;kt<Tt.length;kt++){const Wt=Tt[kt],le=J[Wt],qt=it[Wt];(qt!==le||Wt==="value")&&i(x,Wt,le,qt,A,T.children,c,B,Et)}}W&1&&T.children!==j.children&&h(x,j.children)}else!_&&V==null&&G(x,j,J,it,c,B,A);((ot=it.onVnodeUpdated)||R)&&Te(()=>{ot&&en(ot,c,j,T),R&&Mn(j,T,c,"updated")},B)},Z=(T,j,c,B,A,C,_)=>{for(let x=0;x<j.length;x++){const W=T[x],V=j[x],R=W.el&&(W.type===Zt||!Fn(W,V)||W.shapeFlag&70)?p(W.el):c;f(W,V,R,null,B,A,C,_,!0)}},G=(T,j,c,B,A,C,_)=>{if(c!==B){if(c!==ae)for(const x in c)!$r(x)&&!(x in B)&&i(T,x,c[x],null,_,j.children,A,C,Et);for(const x in B){if($r(x))continue;const W=B[x],V=c[x];W!==V&&x!=="value"&&i(T,x,V,W,_,j.children,A,C,Et)}"value"in B&&i(T,"value",c.value,B.value)}},S=(T,j,c,B,A,C,_,x,W)=>{const V=j.el=T?T.el:a(""),R=j.anchor=T?T.anchor:a("");let{patchFlag:J,dynamicChildren:it,slotScopeIds:ot}=j;ot&&(x=x?x.concat(ot):ot),T==null?(o(V,c,B),o(R,c,B),z(j.children,c,R,A,C,_,x,W)):J>0&&J&64&&it&&T.dynamicChildren?(Z(T.dynamicChildren,it,c,A,C,_,x),(j.key!=null||A&&j===A.subTree)&&Tl(T,j,!0)):St(T,j,c,R,A,C,_,x,W)},F=(T,j,c,B,A,C,_,x,W)=>{j.slotScopeIds=x,T==null?j.shapeFlag&512?A.ctx.activate(j,c,B,_,W):m(j,c,B,A,C,_,W):tt(T,j,W)},m=(T,j,c,B,A,C,_)=>{const x=T.component=kd(T,B,A);if(ni(T)&&(x.ctx.renderer=Bt),Dd(x),x.asyncDep){if(A&&A.registerDep(x,vt),!T.el){const W=x.subTree=ut(Ue);y(null,W,j,c)}return}vt(x,T,j,c,A,C,_)},tt=(T,j,c)=>{const B=j.component=T.component;if(Vu(T,j,c))if(B.asyncDep&&!B.asyncResolved){et(B,j,c);return}else B.next=j,Bu(B.update),B.update();else j.el=T.el,B.vnode=j},vt=(T,j,c,B,A,C,_)=>{const x=()=>{if(T.isMounted){let{next:R,bu:J,u:it,parent:ot,vnode:pt}=T,Tt=R,kt;Bn(T,!1),R?(R.el=pt.el,et(T,R,_)):R=pt,J&&Dr(J),(kt=R.props&&R.props.onVnodeBeforeUpdate)&&en(kt,ot,R,pt),Bn(T,!0);const Wt=Ai(T),le=T.subTree;T.subTree=Wt,f(le,Wt,p(le.el),Nt(le),T,A,C),R.el=Wt.el,Tt===null&&Uu(T,Wt.el),it&&Te(it,A),(kt=R.props&&R.props.onVnodeUpdated)&&Te(()=>en(kt,ot,R,pt),A)}else{let R;const{el:J,props:it}=j,{bm:ot,m:pt,parent:Tt}=T,kt=$o(j);if(Bn(T,!1),ot&&Dr(ot),!kt&&(R=it&&it.onVnodeBeforeMount)&&en(R,Tt,j),Bn(T,!0),J&&Jt){const Wt=()=>{T.subTree=Ai(T),Jt(J,T.subTree,T,A,null)};kt?j.type.__asyncLoader().then(()=>!T.isUnmounted&&Wt()):Wt()}else{const Wt=T.subTree=Ai(T);f(null,Wt,c,B,T,A,C),j.el=Wt.el}if(pt&&Te(pt,A),!kt&&(R=it&&it.onVnodeMounted)){const Wt=j;Te(()=>en(R,Tt,Wt),A)}(j.shapeFlag&256||Tt&&$o(Tt.vnode)&&Tt.vnode.shapeFlag&256)&&T.a&&Te(T.a,A),T.isMounted=!0,j=c=B=null}},W=T.effect=new ds(x,()=>ys(V),T.scope),V=T.update=()=>W.run();V.id=T.uid,Bn(T,!0),V()},et=(T,j,c)=>{j.component=T;const B=T.vnode.props;T.vnode=j,T.next=null,vd(T,j.props,B,c),_d(T,j.children,c),bo(),Qs(),_o()},St=(T,j,c,B,A,C,_,x,W=!1)=>{const V=T&&T.children,R=T?T.shapeFlag:0,J=j.children,{patchFlag:it,shapeFlag:ot}=j;if(it>0){if(it&128){ft(V,J,c,B,A,C,_,x,W);return}else if(it&256){ct(V,J,c,B,A,C,_,x,W);return}}ot&8?(R&16&&Et(V,A,C),J!==V&&h(c,J)):R&16?ot&16?ft(V,J,c,B,A,C,_,x,W):Et(V,A,C,!0):(R&8&&h(c,""),ot&16&&z(J,c,B,A,C,_,x,W))},ct=(T,j,c,B,A,C,_,x,W)=>{T=T||lo,j=j||lo;const V=T.length,R=j.length,J=Math.min(V,R);let it;for(it=0;it<J;it++){const ot=j[it]=W?In(j[it]):nn(j[it]);f(T[it],ot,c,null,A,C,_,x,W)}V>R?Et(T,A,C,!0,!1,J):z(j,c,B,A,C,_,x,W,J)},ft=(T,j,c,B,A,C,_,x,W)=>{let V=0;const R=j.length;let J=T.length-1,it=R-1;for(;V<=J&&V<=it;){const ot=T[V],pt=j[V]=W?In(j[V]):nn(j[V]);if(Fn(ot,pt))f(ot,pt,c,null,A,C,_,x,W);else break;V++}for(;V<=J&&V<=it;){const ot=T[J],pt=j[it]=W?In(j[it]):nn(j[it]);if(Fn(ot,pt))f(ot,pt,c,null,A,C,_,x,W);else break;J--,it--}if(V>J){if(V<=it){const ot=it+1,pt=ot<R?j[ot].el:B;for(;V<=it;)f(null,j[V]=W?In(j[V]):nn(j[V]),c,pt,A,C,_,x,W),V++}}else if(V>it)for(;V<=J;)K(T[V],A,C,!0),V++;else{const ot=V,pt=V,Tt=new Map;for(V=pt;V<=it;V++){const oe=j[V]=W?In(j[V]):nn(j[V]);oe.key!=null&&Tt.set(oe.key,V)}let kt,Wt=0;const le=it-pt+1;let qt=!1,ye=0;const zt=new Array(le);for(V=0;V<le;V++)zt[V]=0;for(V=ot;V<=J;V++){const oe=T[V];if(Wt>=le){K(oe,A,C,!0);continue}let ee;if(oe.key!=null)ee=Tt.get(oe.key);else for(kt=pt;kt<=it;kt++)if(zt[kt-pt]===0&&Fn(oe,j[kt])){ee=kt;break}ee===void 0?K(oe,A,C,!0):(zt[ee-pt]=V+1,ee>=ye?ye=ee:qt=!0,f(oe,j[ee],c,null,A,C,_,x,W),Wt++)}const $t=qt?Sd(zt):lo;for(kt=$t.length-1,V=le-1;V>=0;V--){const oe=pt+V,ee=j[oe],Ae=oe+1<R?j[oe+1].el:B;zt[V]===0?f(null,ee,c,Ae,A,C,_,x,W):qt&&(kt<0||V!==$t[kt]?X(ee,c,Ae,2):kt--)}}},X=(T,j,c,B,A=null)=>{const{el:C,type:_,transition:x,children:W,shapeFlag:V}=T;if(V&6){X(T.component.subTree,j,c,B);return}if(V&128){T.suspense.move(j,c,B);return}if(V&64){_.move(T,j,c,Bt);return}if(_===Zt){o(C,j,c);for(let J=0;J<W.length;J++)X(W[J],j,c,B);o(T.anchor,j,c);return}if(_===Mi){E(T,j,c);return}if(B!==2&&V&1&&x)if(B===0)x.beforeEnter(C),o(C,j,c),Te(()=>x.enter(C),A);else{const{leave:J,delayLeave:it,afterLeave:ot}=x,pt=()=>o(C,j,c),Tt=()=>{J(C,()=>{pt(),ot&&ot()})};it?it(C,pt,Tt):Tt()}else o(C,j,c)},K=(T,j,c,B=!1,A=!1)=>{const{type:C,props:_,ref:x,children:W,dynamicChildren:V,shapeFlag:R,patchFlag:J,dirs:it}=T;if(x!=null&&Xi(x,null,c,T,!0),R&256){j.ctx.deactivate(T);return}const ot=R&1&&it,pt=!$o(T);let Tt;if(pt&&(Tt=_&&_.onVnodeBeforeUnmount)&&en(Tt,j,T),R&6)nt(T.component,c,B);else{if(R&128){T.suspense.unmount(c,B);return}ot&&Mn(T,null,j,"beforeUnmount"),R&64?T.type.remove(T,j,c,A,Bt,B):V&&(C!==Zt||J>0&&J&64)?Et(V,j,c,!1,!0):(C===Zt&&J&384||!A&&R&16)&&Et(W,j,c),B&&Ct(T)}(pt&&(Tt=_&&_.onVnodeUnmounted)||ot)&&Te(()=>{Tt&&en(Tt,j,T),ot&&Mn(T,null,j,"unmounted")},c)},Ct=T=>{const{type:j,el:c,anchor:B,transition:A}=T;if(j===Zt){_t(c,B);return}if(j===Mi){k(T);return}const C=()=>{r(c),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(T.shapeFlag&1&&A&&!A.persisted){const{leave:_,delayLeave:x}=A,W=()=>_(c,C);x?x(T.el,C,W):W()}else C()},_t=(T,j)=>{let c;for(;T!==j;)c=g(T),r(T),T=c;r(j)},nt=(T,j,c)=>{const{bum:B,scope:A,update:C,subTree:_,um:x}=T;B&&Dr(B),A.stop(),C&&(C.active=!1,K(_,T,j,c)),x&&Te(x,j),Te(()=>{T.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Et=(T,j,c,B=!1,A=!1,C=0)=>{for(let _=C;_<T.length;_++)K(T[_],j,c,B,A)},Nt=T=>T.shapeFlag&6?Nt(T.component.subTree):T.shapeFlag&128?T.suspense.next():g(T.anchor||T.el),It=(T,j,c)=>{T==null?j._vnode&&K(j._vnode,null,null,!0):f(j._vnode||null,T,j,null,null,null,c),Qs(),pl(),j._vnode=T},Bt={p:f,um:K,m:X,r:Ct,mt:m,mc:z,pc:St,pbc:Z,n:Nt,o:t};let Xt,Jt;return e&&([Xt,Jt]=e(Bt)),{render:It,hydrate:Xt,createApp:hd(It,Xt)}}function Bn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Tl(t,e,n=!1){const o=t.children,r=e.children;if(Lt(o)&&Lt(r))for(let i=0;i<o.length;i++){const s=o[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=In(r[i]),a.el=s.el),n||Tl(s,a)),a.type===ii&&(a.el=s.el)}}function Sd(t){const e=t.slice(),n=[0];let o,r,i,s,a;const l=t.length;for(o=0;o<l;o++){const u=t[o];if(u!==0){if(r=n[n.length-1],t[r]<u){e[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<u?i=a+1:s=a;u<t[n[i]]&&(i>0&&(e[o]=n[i-1]),n[i]=o)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}const Id=t=>t.__isTeleport,Zt=Symbol.for("v-fgt"),ii=Symbol.for("v-txt"),Ue=Symbol.for("v-cmt"),Mi=Symbol.for("v-stc"),To=[];let Ze=null;function Y(t=!1){To.push(Ze=t?null:[])}function xd(){To.pop(),Ze=To[To.length-1]||null}let Vo=1;function da(t){Vo+=t}function zl(t){return t.dynamicChildren=Vo>0?Ze||lo:null,xd(),Vo>0&&Ze&&Ze.push(t),t}function dt(t,e,n,o,r,i){return zl(yt(t,e,n,o,r,i,!0))}function Rt(t,e,n,o,r){return zl(ut(t,e,n,o,r,!0))}function jr(t){return t?t.__v_isVNode===!0:!1}function Fn(t,e){return t.type===e.type&&t.key===e.key}const si="__vInternal",Ml=({key:t})=>t??null,Ar=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ge(t)||fe(t)||Ht(t)?{i:Se,r:t,k:e,f:!!n}:t:null);function yt(t,e=null,n=null,o=0,r=null,i=t===Zt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ml(e),ref:e&&Ar(e),scopeId:vl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Se};return a?(Os(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ge(n)?8:16),Vo>0&&!s&&Ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ze.push(l),l}const ut=Ed;function Ed(t,e=null,n=null,o=0,r=null,i=!1){if((!t||t===Sl)&&(t=Ue),jr(t)){const a=$n(t,e,!0);return n&&Os(a,n),Vo>0&&!i&&Ze&&(a.shapeFlag&6?Ze[Ze.indexOf(t)]=a:Ze.push(a)),a.patchFlag|=-2,a}if(Bd(t)&&(t=t.__vccOpts),e){e=xs(e);let{class:a,style:l}=e;a&&!ge(a)&&(e.class=Qt(a)),se(l)&&(al(l)&&!Lt(l)&&(l=be({},l)),e.style=ne(l))}const s=ge(t)?1:Hu(t)?128:Id(t)?64:se(t)?4:Ht(t)?2:0;return yt(t,e,n,o,r,s,i,!0)}function xs(t){return t?al(t)||si in t?be({},t):t:null}function $n(t,e,n=!1){const{props:o,ref:r,patchFlag:i,children:s}=t,a=e?Bl(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ml(a),ref:e&&e.ref?n&&r?Lt(r)?r.concat(Ar(e)):[r,Ar(e)]:Ar(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Zt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$n(t.ssContent),ssFallback:t.ssFallback&&$n(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Es(t=" ",e=0){return ut(ii,null,t,e)}function de(t="",e=!1){return e?(Y(),Rt(Ue,null,t)):ut(Ue,null,t)}function nn(t){return t==null||typeof t=="boolean"?ut(Ue):Lt(t)?ut(Zt,null,t.slice()):typeof t=="object"?In(t):ut(ii,null,String(t))}function In(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$n(t)}function Os(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(Lt(e))n=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),Os(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(si in e)?e._ctx=Se:r===3&&Se&&(Se.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ht(e)?(e={default:e,_ctx:Se},n=32):(e=String(e),o&64?(n=16,e=[Es(e)]):n=8);t.children=e,t.shapeFlag|=n}function Bl(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=Qt([e.class,o.class]));else if(r==="style")e.style=ne([e.style,o.style]);else if(Zr(r)){const i=e[r],s=o[r];s&&i!==s&&!(Lt(i)&&i.includes(s))&&(e[r]=i?[].concat(i,s):s)}else r!==""&&(e[r]=o[r])}return e}function en(t,e,n,o=null){Ve(t,e,7,[n,o])}const Od=Ol();let Pd=0;function kd(t,e,n){const o=t.type,r=(e?e.appContext:t.appContext)||Od,i={uid:Pd++,vnode:t,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new qa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kl(o,r),emitsOptions:gl(o,r),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:o.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ru.bind(null,i),t.ce&&t.ce(i),i}let _e=null;const $d=()=>_e||Se;let Ps,ro,fa="__VUE_INSTANCE_SETTERS__";(ro=Ri()[fa])||(ro=Ri()[fa]=[]),ro.push(t=>_e=t),Ps=t=>{ro.length>1?ro.forEach(e=>e(t)):ro[0](t)};const mo=t=>{Ps(t),t.scope.on()},Hn=()=>{_e&&_e.scope.off(),Ps(null)};function Ll(t){return t.vnode.shapeFlag&4}let Uo=!1;function Dd(t,e=!1){Uo=e;const{props:n,children:o}=t.vnode,r=Ll(t);gd(t,n,r,e),bd(t,o);const i=r?Ad(t,e):void 0;return Uo=!1,i}function Ad(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Qr(new Proxy(t.ctx,sd));const{setup:o}=n;if(o){const r=t.setupContext=o.length>1?zd(t):null;mo(t),bo();const i=On(o,t,0,[t.props,r]);if(_o(),Hn(),ja(i)){if(i.then(Hn,Hn),e)return i.then(s=>{ha(t,s,e)}).catch(s=>{ti(s,t,0)});t.asyncDep=i}else ha(t,i,e)}else Nl(t,e)}function ha(t,e,n){Ht(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:se(e)&&(t.setupState=ul(e)),Nl(t,n)}let pa;function Nl(t,e,n){const o=t.type;if(!t.render){if(!e&&pa&&!o.render){const r=o.template||Ss(t).template;if(r){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=o,u=be(be({isCustomElement:i,delimiters:a},s),l);o.render=pa(r,u)}}t.render=o.render||Ke}mo(t),bo(),ad(t),_o(),Hn()}function Td(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ze(t,"get","$attrs"),e[n]}}))}function zd(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Td(t)},slots:t.slots,emit:t.emit,expose:e}}function ai(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ul(Qr(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Do)return Do[n](t)},has(e,n){return n in e||n in Do}}))}function Md(t,e=!0){return Ht(t)?t.displayName||t.name:t.name||e&&t.__name}function Bd(t){return Ht(t)&&"__vccOpts"in t}const Kt=(t,e)=>Tu(t,e,Uo);function ks(t,e,n){const o=arguments.length;return o===2?se(e)&&!Lt(e)?jr(e)?ut(t,null,[e]):ut(t,e):ut(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&jr(n)&&(n=[n]),ut(t,e,n))}const Ld=Symbol.for("v-scx"),Nd=()=>Ao(Ld),Rd="3.3.4",Fd="http://www.w3.org/2000/svg",jn=typeof document<"u"?document:null,ma=jn&&jn.createElement("template"),jd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const r=e?jn.createElementNS(Fd,t):jn.createElement(t,n?{is:n}:void 0);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>jn.createTextNode(t),createComment:t=>jn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>jn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,r,i){const s=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{ma.innerHTML=o?`<svg>${t}</svg>`:t;const a=ma.content;if(o){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Vd(t,e,n){const o=t._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Ud(t,e,n){const o=t.style,r=ge(n);if(n&&!r){if(e&&!ge(e))for(const i in e)n[i]==null&&Yi(o,i,"");for(const i in n)Yi(o,i,n[i])}else{const i=o.display;r?e!==n&&(o.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(o.display=i)}}const ga=/\s*!important$/;function Yi(t,e,n){if(Lt(n))n.forEach(o=>Yi(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=Hd(t,e);ga.test(n)?t.setProperty(Gn(o),n.replace(ga,""),"important"):t[o]=n}}const va=["Webkit","Moz","ms"],Bi={};function Hd(t,e){const n=Bi[e];if(n)return n;let o=sn(e);if(o!=="filter"&&o in t)return Bi[e]=o;o=Xr(o);for(let r=0;r<va.length;r++){const i=va[r]+o;if(i in t)return Bi[e]=i}return e}const ya="http://www.w3.org/1999/xlink";function Wd(t,e,n,o,r){if(o&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ya,e.slice(6,e.length)):t.setAttributeNS(ya,e,n);else{const i=Gc(e);n==null||i&&!Wa(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Gd(t,e,n,o,r,i,s){if(e==="innerHTML"||e==="textContent"){o&&s(o,r,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,h=n??"";u!==h&&(t.value=h),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Wa(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function cn(t,e,n,o){t.addEventListener(e,n,o)}function qd(t,e,n,o){t.removeEventListener(e,n,o)}function Zd(t,e,n,o,r=null){const i=t._vei||(t._vei={}),s=i[e];if(o&&s)s.value=o;else{const[a,l]=Kd(e);if(o){const u=i[e]=Jd(o,r);cn(t,a,u,l)}else s&&(qd(t,a,s,l),i[e]=void 0)}}const ba=/(?:Once|Passive|Capture)$/;function Kd(t){let e;if(ba.test(t)){e={};let o;for(;o=t.match(ba);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gn(t.slice(2)),e]}let Li=0;const Xd=Promise.resolve(),Yd=()=>Li||(Xd.then(()=>Li=0),Li=Date.now());function Jd(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Ve(Qd(o,n.value),e,5,[o])};return n.value=t,n.attached=Yd(),n}function Qd(t,e){if(Lt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const _a=/^on[a-z]/,tf=(t,e,n,o,r=!1,i,s,a,l)=>{e==="class"?Vd(t,o,r):e==="style"?Ud(t,n,o):Zr(e)?ss(e)||Zd(t,e,n,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ef(t,e,o,r))?Gd(t,e,o,i,s,a,l):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),Wd(t,e,o,r))};function ef(t,e,n,o){return o?!!(e==="innerHTML"||e==="textContent"||e in t&&_a.test(e)&&Ht(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||_a.test(e)&&ge(n)?!1:e in t}const wn="transition",Oo="animation",Ko=(t,{slots:e})=>ks(Ku,nf(t),e);Ko.displayName="Transition";const Rl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ko.props=be({},bl,Rl);const Ln=(t,e=[])=>{Lt(t)?t.forEach(n=>n(...e)):t&&t(...e)},wa=t=>t?Lt(t)?t.some(e=>e.length>1):t.length>1:!1;function nf(t){const e={};for(const S in t)S in Rl||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:o,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=s,appearToClass:h=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,v=of(r),f=v&&v[0],b=v&&v[1],{onBeforeEnter:y,onEnter:I,onEnterCancelled:E,onLeave:k,onLeaveCancelled:L,onBeforeAppear:U=y,onAppear:M=I,onAppearCancelled:z=E}=e,$=(S,F,m)=>{Nn(S,F?h:a),Nn(S,F?u:s),m&&m()},Z=(S,F)=>{S._isLeaving=!1,Nn(S,p),Nn(S,d),Nn(S,g),F&&F()},G=S=>(F,m)=>{const tt=S?M:I,vt=()=>$(F,S,m);Ln(tt,[F,vt]),Ca(()=>{Nn(F,S?l:i),Cn(F,S?h:a),wa(tt)||Sa(F,o,f,vt)})};return be(e,{onBeforeEnter(S){Ln(y,[S]),Cn(S,i),Cn(S,s)},onBeforeAppear(S){Ln(U,[S]),Cn(S,l),Cn(S,u)},onEnter:G(!1),onAppear:G(!0),onLeave(S,F){S._isLeaving=!0;const m=()=>Z(S,F);Cn(S,p),af(),Cn(S,g),Ca(()=>{S._isLeaving&&(Nn(S,p),Cn(S,d),wa(k)||Sa(S,o,b,m))}),Ln(k,[S,m])},onEnterCancelled(S){$(S,!1),Ln(E,[S])},onAppearCancelled(S){$(S,!0),Ln(z,[S])},onLeaveCancelled(S){Z(S),Ln(L,[S])}})}function of(t){if(t==null)return null;if(se(t))return[Ni(t.enter),Ni(t.leave)];{const e=Ni(t);return[e,e]}}function Ni(t){return Fc(t)}function Cn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Nn(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Ca(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rf=0;function Sa(t,e,n,o){const r=t._endId=++rf,i=()=>{r===t._endId&&o()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=sf(t,e);if(!s)return o();const u=s+"end";let h=0;const p=()=>{t.removeEventListener(u,g),i()},g=d=>{d.target===t&&++h>=l&&p()};setTimeout(()=>{h<l&&p()},a+1),t.addEventListener(u,g)}function sf(t,e){const n=window.getComputedStyle(t),o=v=>(n[v]||"").split(", "),r=o(`${wn}Delay`),i=o(`${wn}Duration`),s=Ia(r,i),a=o(`${Oo}Delay`),l=o(`${Oo}Duration`),u=Ia(a,l);let h=null,p=0,g=0;e===wn?s>0&&(h=wn,p=s,g=i.length):e===Oo?u>0&&(h=Oo,p=u,g=l.length):(p=Math.max(s,u),h=p>0?s>u?wn:Oo:null,g=h?h===wn?i.length:l.length:0);const d=h===wn&&/\b(transform|all)(,|$)/.test(o(`${wn}Property`).toString());return{type:h,timeout:p,propCount:g,hasTransform:d}}function Ia(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,o)=>xa(n)+xa(t[o])))}function xa(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function af(){return document.body.offsetHeight}const Dn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Lt(e)?n=>Dr(e,n):e};function lf(t){t.target.composing=!0}function Ea(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Oa={created(t,{modifiers:{lazy:e,trim:n,number:o}},r){t._assign=Dn(r);const i=o||r.props&&r.props.type==="number";cn(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Mr(a)),t._assign(a)}),n&&cn(t,"change",()=>{t.value=t.value.trim()}),e||(cn(t,"compositionstart",lf),cn(t,"compositionend",Ea),cn(t,"change",Ea))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:o,number:r}},i){if(t._assign=Dn(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||o&&t.value.trim()===e||(r||t.type==="number")&&Mr(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},$s={deep:!0,created(t,e,n){t._assign=Dn(n),cn(t,"change",()=>{const o=t._modelValue,r=go(t),i=t.checked,s=t._assign;if(Lt(o)){const a=cs(o,r),l=a!==-1;if(i&&!l)s(o.concat(r));else if(!i&&l){const u=[...o];u.splice(a,1),s(u)}}else if(yo(o)){const a=new Set(o);i?a.add(r):a.delete(r),s(a)}else s(Fl(t,i))})},mounted:Pa,beforeUpdate(t,e,n){t._assign=Dn(n),Pa(t,e,n)}};function Pa(t,{value:e,oldValue:n},o){t._modelValue=e,Lt(e)?t.checked=cs(e,o.props.value)>-1:yo(e)?t.checked=e.has(o.props.value):e!==n&&(t.checked=Wn(e,Fl(t,!0)))}const cf={created(t,{value:e},n){t.checked=Wn(e,n.props.value),t._assign=Dn(n),cn(t,"change",()=>{t._assign(go(t))})},beforeUpdate(t,{value:e,oldValue:n},o){t._assign=Dn(o),e!==n&&(t.checked=Wn(e,o.props.value))}},Ds={deep:!0,created(t,{value:e,modifiers:{number:n}},o){const r=yo(e);cn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?Mr(go(s)):go(s));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=Dn(o)},mounted(t,{value:e}){ka(t,e)},beforeUpdate(t,e,n){t._assign=Dn(n)},updated(t,{value:e}){ka(t,e)}};function ka(t,e){const n=t.multiple;if(!(n&&!Lt(e)&&!yo(e))){for(let o=0,r=t.options.length;o<r;o++){const i=t.options[o],s=go(i);if(n)Lt(e)?i.selected=cs(e,s)>-1:i.selected=e.has(s);else if(Wn(go(i),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function go(t){return"_value"in t?t._value:t.value}function Fl(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const jl={created(t,e,n){Er(t,e,n,null,"created")},mounted(t,e,n){Er(t,e,n,null,"mounted")},beforeUpdate(t,e,n,o){Er(t,e,n,o,"beforeUpdate")},updated(t,e,n,o){Er(t,e,n,o,"updated")}};function uf(t,e){switch(t){case"SELECT":return Ds;case"TEXTAREA":return Oa;default:switch(e){case"checkbox":return $s;case"radio":return cf;default:return Oa}}}function Er(t,e,n,o,r){const s=uf(t.tagName,n.props&&n.props.type)[r];s&&s(t,e,n,o)}const df=["ctrl","shift","alt","meta"],ff={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>df.some(n=>t[`${n}Key`]&&!e.includes(n))},An=(t,e)=>(n,...o)=>{for(let r=0;r<e.length;r++){const i=ff[e[r]];if(i&&i(n,e))return}return t(n,...o)},hf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ao=(t,e)=>n=>{if(!("key"in n))return;const o=Gn(n.key);if(e.some(r=>r===o||hf[r]===o))return t(n)},pf=be({patchProp:tf},jd);let $a;function mf(){return $a||($a=wd(pf))}const gf=(...t)=>{const e=mf().createApp(...t),{mount:n}=e;return e.mount=o=>{const r=vf(o);if(!r)return;const i=e._component;!Ht(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function vf(t){return ge(t)?document.querySelector(t):t}var yf=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Vl;const li=t=>Vl=t,Ul=Symbol();function Ji(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zo||(zo={}));function bf(){const t=Za(!0),e=t.run(()=>Gt({}));let n=[],o=[];const r=Qr({install(i){li(r),r._a=i,i.provide(Ul,r),i.config.globalProperties.$pinia=r,o.forEach(s=>n.push(s)),o=[]},use(i){return!this._a&&!yf?o.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Hl=()=>{};function Da(t,e,n,o=Hl){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),o())};return!n&&Ka()&&Kc(r),r}function io(t,...e){t.slice().forEach(n=>{n(...e)})}const _f=t=>t();function Qi(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,o)=>t.set(o,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],r=t[n];Ji(r)&&Ji(o)&&t.hasOwnProperty(n)&&!fe(o)&&!dn(o)?t[n]=Qi(r,o):t[n]=o}return t}const wf=Symbol();function Cf(t){return!Ji(t)||!t.hasOwnProperty(wf)}const{assign:Sn}=Object;function Sf(t){return!!(fe(t)&&t.effect)}function If(t,e,n,o){const{state:r,actions:i,getters:s}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=r?r():{});const h=Pu(n.state.value[t]);return Sn(h,i,Object.keys(s||{}).reduce((p,g)=>(p[g]=Qr(Kt(()=>{li(n);const d=n._s.get(t);return s[g].call(d,d)})),p),{}))}return l=Wl(t,u,e,n,o,!0),l}function Wl(t,e,n={},o,r,i){let s;const a=Sn({actions:{}},n),l={deep:!0};let u,h,p=[],g=[],d;const v=o.state.value[t];!i&&!v&&(o.state.value[t]={}),Gt({});let f;function b(z){let $;u=h=!1,typeof z=="function"?(z(o.state.value[t]),$={type:zo.patchFunction,storeId:t,events:d}):(Qi(o.state.value[t],z),$={type:zo.patchObject,payload:z,storeId:t,events:d});const Z=f=Symbol();Zo().then(()=>{f===Z&&(u=!0)}),h=!0,io(p,$,o.state.value[t])}const y=i?function(){const{state:$}=n,Z=$?$():{};this.$patch(G=>{Sn(G,Z)})}:Hl;function I(){s.stop(),p=[],g=[],o._s.delete(t)}function E(z,$){return function(){li(o);const Z=Array.from(arguments),G=[],S=[];function F(vt){G.push(vt)}function m(vt){S.push(vt)}io(g,{args:Z,name:z,store:L,after:F,onError:m});let tt;try{tt=$.apply(this&&this.$id===t?this:L,Z)}catch(vt){throw io(S,vt),vt}return tt instanceof Promise?tt.then(vt=>(io(G,vt),vt)).catch(vt=>(io(S,vt),Promise.reject(vt))):(io(G,tt),tt)}}const k={_p:o,$id:t,$onAction:Da.bind(null,g),$patch:b,$reset:y,$subscribe(z,$={}){const Z=Da(p,z,$.detached,()=>G()),G=s.run(()=>Pn(()=>o.state.value[t],S=>{($.flush==="sync"?h:u)&&z({storeId:t,type:zo.direct,events:d},S)},Sn({},l,$)));return Z},$dispose:I},L=Jr(k);o._s.set(t,L);const U=o._a&&o._a.runWithContext||_f,M=o._e.run(()=>(s=Za(),U(()=>s.run(e))));for(const z in M){const $=M[z];if(fe($)&&!Sf($)||dn($))i||(v&&Cf($)&&(fe($)?$.value=v[z]:Qi($,v[z])),o.state.value[t][z]=$);else if(typeof $=="function"){const Z=E(z,$);M[z]=Z,a.actions[z]=$}}return Sn(L,M),Sn(Yt(L),M),Object.defineProperty(L,"$state",{get:()=>o.state.value[t],set:z=>{b($=>{Sn($,z)})}}),o._p.forEach(z=>{Sn(L,s.run(()=>z({store:L,app:o._a,pinia:o,options:a})))}),v&&i&&n.hydrate&&n.hydrate(L.$state,v),u=!0,h=!0,L}function ci(t,e,n){let o,r;const i=typeof e=="function";typeof t=="string"?(o=t,r=i?n:e):(r=t,o=t.id);function s(a,l){const u=md();return a=a||(u?Ao(Ul,null):null),a&&li(a),a=Vl,a._s.has(o)||(i?Wl(o,e,r,a):If(o,r,a)),a._s.get(o)}return s.$id=o,s}function Ho(t){{t=Yt(t);const e={};for(const n in t){const o=t[n];(fe(o)||dn(o))&&(e[n]=Du(t,n))}return e}}/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var xf={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M464 16c-17.67 0-32 14.31-32 32v74.09C392.1 66.52 327.4 32 256 32C161.5 32 78.59 92.34 49.58 182.2c-5.438 16.81 3.797 34.88 20.61 40.28c16.89 5.5 34.88-3.812 40.3-20.59C130.9 138.5 189.4 96 256 96c50.5 0 96.26 24.55 124.4 64H336c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32V48C496 30.31 481.7 16 464 16zM441.8 289.6c-16.92-5.438-34.88 3.812-40.3 20.59C381.1 373.5 322.6 416 256 416c-50.5 0-96.25-24.55-124.4-64H176c17.67 0 32-14.31 32-32s-14.33-32-32-32h-128c-17.67 0-32 14.31-32 32v144c0 17.69 14.33 32 32 32s32-14.31 32-32v-74.09C119.9 445.5 184.6 480 255.1 480c94.45 0 177.4-60.34 206.4-150.2C467.9 313 458.6 294.1 441.8 289.6z"]},Gl={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM99.5 144.8C77.15 176.1 64 214.5 64 256C64 362 149.1 448 256 448C297.5 448 335.9 434.9 367.2 412.5L99.5 144.8zM448 256C448 149.1 362 64 256 64C214.5 64 176.1 77.15 144.8 99.5L412.5 367.2C434.9 335.9 448 297.5 448 256V256z"]},Ef={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"]},Of={prefix:"fas",iconName:"bug",icon:[512,512,[],"f188","M352 96V99.56C352 115.3 339.3 128 323.6 128H188.4C172.7 128 159.1 115.3 159.1 99.56V96C159.1 42.98 202.1 0 255.1 0C309 0 352 42.98 352 96zM41.37 105.4C53.87 92.88 74.13 92.88 86.63 105.4L150.6 169.4C151.3 170 151.9 170.7 152.5 171.4C166.8 164.1 182.9 160 199.1 160H312C329.1 160 345.2 164.1 359.5 171.4C360.1 170.7 360.7 170 361.4 169.4L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L406.6 214.6C405.1 215.3 405.3 215.9 404.6 216.5C410.7 228.5 414.6 241.9 415.7 256H480C497.7 256 512 270.3 512 288C512 305.7 497.7 320 480 320H416C416 344.6 410.5 367.8 400.6 388.6C402.7 389.9 404.8 391.5 406.6 393.4L470.6 457.4C483.1 469.9 483.1 490.1 470.6 502.6C458.1 515.1 437.9 515.1 425.4 502.6L362.3 439.6C337.8 461.4 306.5 475.8 272 479.2V240C272 231.2 264.8 224 255.1 224C247.2 224 239.1 231.2 239.1 240V479.2C205.5 475.8 174.2 461.4 149.7 439.6L86.63 502.6C74.13 515.1 53.87 515.1 41.37 502.6C28.88 490.1 28.88 469.9 41.37 457.4L105.4 393.4C107.2 391.5 109.3 389.9 111.4 388.6C101.5 367.8 96 344.6 96 320H32C14.33 320 0 305.7 0 288C0 270.3 14.33 256 32 256H96.3C97.38 241.9 101.3 228.5 107.4 216.5C106.7 215.9 106 215.3 105.4 214.6L41.37 150.6C28.88 138.1 28.88 117.9 41.37 105.4H41.37z"]},ql={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},Zl={prefix:"fas",iconName:"code-branch",icon:[448,512,[],"f126","M160 80C160 112.8 140.3 140.1 112 153.3V241.1C130.8 230.2 152.7 224 176 224H272C307.3 224 336 195.3 336 160V153.3C307.7 140.1 288 112.8 288 80C288 35.82 323.8 0 368 0C412.2 0 448 35.82 448 80C448 112.8 428.3 140.1 400 153.3V160C400 230.7 342.7 288 272 288H176C140.7 288 112 316.7 112 352V358.7C140.3 371 160 399.2 160 432C160 476.2 124.2 512 80 512C35.82 512 0 476.2 0 432C0 399.2 19.75 371 48 358.7V153.3C19.75 140.1 0 112.8 0 80C0 35.82 35.82 0 80 0C124.2 0 160 35.82 160 80V80zM80 104C93.25 104 104 93.25 104 80C104 66.75 93.25 56 80 56C66.75 56 56 66.75 56 80C56 93.25 66.75 104 80 104zM368 56C354.7 56 344 66.75 344 80C344 93.25 354.7 104 368 104C381.3 104 392 93.25 392 80C392 66.75 381.3 56 368 56zM80 456C93.25 456 104 445.3 104 432C104 418.7 93.25 408 80 408C66.75 408 56 418.7 56 432C56 445.3 66.75 456 80 456z"]},Pf={prefix:"fas",iconName:"compress",icon:[448,512,[],"f066","M128 320H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32v-96C160 334.3 145.7 320 128 320zM416 320h-96c-17.69 0-32 14.31-32 32v96c0 17.69 14.31 32 32 32s32-14.31 32-32v-64h64c17.69 0 32-14.31 32-32S433.7 320 416 320zM320 192h96c17.69 0 32-14.31 32-32s-14.31-32-32-32h-64V64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96C288 177.7 302.3 192 320 192zM128 32C110.3 32 96 46.31 96 64v64H32C14.31 128 0 142.3 0 160s14.31 32 32 32h96c17.69 0 32-14.31 32-32V64C160 46.31 145.7 32 128 32z"]},kf={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M128 32H32C14.31 32 0 46.31 0 64v96c0 17.69 14.31 32 32 32s32-14.31 32-32V96h64c17.69 0 32-14.31 32-32S145.7 32 128 32zM416 32h-96c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32V64C448 46.31 433.7 32 416 32zM128 416H64v-64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96c0 17.69 14.31 32 32 32h96c17.69 0 32-14.31 32-32S145.7 416 128 416zM416 320c-17.69 0-32 14.31-32 32v64h-64c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c17.69 0 32-14.31 32-32v-96C448 334.3 433.7 320 416 320z"]},Kl={prefix:"fas",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H224V128C224 145.7 238.3 160 256 160H384V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM256 128V0L384 128H256z"]},$f={prefix:"fas",iconName:"forward-step",icon:[320,512,["step-forward"],"f051","M287.1 447.1c17.67 0 31.1-14.33 31.1-32V96.03c0-17.67-14.33-32-32-32c-17.67 0-31.1 14.33-31.1 31.1v319.9C255.1 433.6 270.3 447.1 287.1 447.1zM52.51 440.6l192-159.1c7.625-6.436 11.43-15.53 11.43-24.62c0-9.094-3.809-18.18-11.43-24.62l-192-159.1C31.88 54.28 0 68.66 0 96.03v319.9C0 443.3 31.88 457.7 52.51 440.6z"]},Df={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M286.3 155.1C287.4 161.9 288 168.9 288 175.1C288 183.1 287.4 190.1 286.3 196.9L308.5 216.7C315.5 223 318.4 232.1 314.7 241.7C312.4 246.1 309.9 252.2 307.1 257.2L304 262.6C300.1 267.6 297.7 272.4 294.2 277.1C288.5 284.7 278.5 287.2 269.5 284.2L241.2 274.9C230.5 283.8 218.3 290.9 205 295.9L198.1 324.9C197 334.2 189.8 341.6 180.4 342.8C173.7 343.6 166.9 344 160 344C153.1 344 146.3 343.6 139.6 342.8C130.2 341.6 122.1 334.2 121 324.9L114.1 295.9C101.7 290.9 89.5 283.8 78.75 274.9L50.53 284.2C41.54 287.2 31.52 284.7 25.82 277.1C22.28 272.4 18.98 267.5 15.94 262.5L12.92 257.2C10.13 252.2 7.592 247 5.324 241.7C1.62 232.1 4.458 223 11.52 216.7L33.7 196.9C32.58 190.1 31.1 183.1 31.1 175.1C31.1 168.9 32.58 161.9 33.7 155.1L11.52 135.3C4.458 128.1 1.62 119 5.324 110.3C7.592 104.1 10.13 99.79 12.91 94.76L15.95 89.51C18.98 84.46 22.28 79.58 25.82 74.89C31.52 67.34 41.54 64.83 50.53 67.79L78.75 77.09C89.5 68.25 101.7 61.13 114.1 56.15L121 27.08C122.1 17.8 130.2 10.37 139.6 9.231C146.3 8.418 153.1 8 160 8C166.9 8 173.7 8.418 180.4 9.23C189.8 10.37 197 17.8 198.1 27.08L205 56.15C218.3 61.13 230.5 68.25 241.2 77.09L269.5 67.79C278.5 64.83 288.5 67.34 294.2 74.89C297.7 79.56 300.1 84.42 304 89.44L307.1 94.83C309.9 99.84 312.4 105 314.7 110.3C318.4 119 315.5 128.1 308.5 135.3L286.3 155.1zM160 127.1C133.5 127.1 112 149.5 112 175.1C112 202.5 133.5 223.1 160 223.1C186.5 223.1 208 202.5 208 175.1C208 149.5 186.5 127.1 160 127.1zM484.9 478.3C478.1 479.4 471.1 480 464 480C456.9 480 449.9 479.4 443.1 478.3L423.3 500.5C416.1 507.5 407 510.4 398.3 506.7C393 504.4 387.8 501.9 382.8 499.1L377.4 496C372.4 492.1 367.6 489.7 362.9 486.2C355.3 480.5 352.8 470.5 355.8 461.5L365.1 433.2C356.2 422.5 349.1 410.3 344.1 397L315.1 390.1C305.8 389 298.4 381.8 297.2 372.4C296.4 365.7 296 358.9 296 352C296 345.1 296.4 338.3 297.2 331.6C298.4 322.2 305.8 314.1 315.1 313L344.1 306.1C349.1 293.7 356.2 281.5 365.1 270.8L355.8 242.5C352.8 233.5 355.3 223.5 362.9 217.8C367.6 214.3 372.5 210.1 377.5 207.9L382.8 204.9C387.8 202.1 392.1 199.6 398.3 197.3C407 193.6 416.1 196.5 423.3 203.5L443.1 225.7C449.9 224.6 456.9 224 464 224C471.1 224 478.1 224.6 484.9 225.7L504.7 203.5C511 196.5 520.1 193.6 529.7 197.3C535 199.6 540.2 202.1 545.2 204.9L550.5 207.9C555.5 210.1 560.4 214.3 565.1 217.8C572.7 223.5 575.2 233.5 572.2 242.5L562.9 270.8C571.8 281.5 578.9 293.7 583.9 306.1L612.9 313C622.2 314.1 629.6 322.2 630.8 331.6C631.6 338.3 632 345.1 632 352C632 358.9 631.6 365.7 630.8 372.4C629.6 381.8 622.2 389 612.9 390.1L583.9 397C578.9 410.3 571.8 422.5 562.9 433.2L572.2 461.5C575.2 470.5 572.7 480.5 565.1 486.2C560.4 489.7 555.6 492.1 550.6 496L545.2 499.1C540.2 501.9 534.1 504.4 529.7 506.7C520.1 510.4 511 507.5 504.7 500.5L484.9 478.3zM512 352C512 325.5 490.5 304 464 304C437.5 304 416 325.5 416 352C416 378.5 437.5 400 464 400C490.5 400 512 378.5 512 352z"]},Af={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},Tf={prefix:"fas",iconName:"magnet",icon:[448,512,[129522],"f076","M128 160V256C128 309 170.1 352 224 352C277 352 320 309 320 256V160H448V256C448 379.7 347.7 480 224 480C100.3 480 0 379.7 0 256V160H128zM0 64C0 46.33 14.33 32 32 32H96C113.7 32 128 46.33 128 64V128H0V64zM320 64C320 46.33 334.3 32 352 32H416C433.7 32 448 46.33 448 64V128H320V64z"]},As={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M160 352h192V160H160V352zM448 176h48C504.8 176 512 168.8 512 160s-7.162-16-16-16H448V128c0-35.35-28.65-64-64-64h-16V16C368 7.164 360.8 0 352 0c-8.836 0-16 7.164-16 16V64h-64V16C272 7.164 264.8 0 256 0C247.2 0 240 7.164 240 16V64h-64V16C176 7.164 168.8 0 160 0C151.2 0 144 7.164 144 16V64H128C92.65 64 64 92.65 64 128v16H16C7.164 144 0 151.2 0 160s7.164 16 16 16H64v64H16C7.164 240 0 247.2 0 256s7.164 16 16 16H64v64H16C7.164 336 0 343.2 0 352s7.164 16 16 16H64V384c0 35.35 28.65 64 64 64h16v48C144 504.8 151.2 512 160 512c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448H384c35.35 0 64-28.65 64-64v-16h48c8.838 0 16-7.164 16-16s-7.162-16-16-16H448v-64h48C504.8 272 512 264.8 512 256s-7.162-16-16-16H448V176zM384 368c0 8.836-7.162 16-16 16h-224C135.2 384 128 376.8 128 368v-224C128 135.2 135.2 128 144 128h224C376.8 128 384 135.2 384 144V368z"]},zf={prefix:"fas",iconName:"minus",icon:[448,512,[8722,10134,8211,"subtract"],"f068","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"]},Mf={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 255.1C512 256.9 511.1 257.8 511.1 258.7C511.6 295.2 478.4 319.1 441.9 319.1H344C317.5 319.1 296 341.5 296 368C296 371.4 296.4 374.7 297 377.9C299.2 388.1 303.5 397.1 307.9 407.8C313.9 421.6 320 435.3 320 449.8C320 481.7 298.4 510.5 266.6 511.8C263.1 511.9 259.5 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256V255.1zM96 255.1C78.33 255.1 64 270.3 64 287.1C64 305.7 78.33 319.1 96 319.1C113.7 319.1 128 305.7 128 287.1C128 270.3 113.7 255.1 96 255.1zM128 191.1C145.7 191.1 160 177.7 160 159.1C160 142.3 145.7 127.1 128 127.1C110.3 127.1 96 142.3 96 159.1C96 177.7 110.3 191.1 128 191.1zM256 63.1C238.3 63.1 224 78.33 224 95.1C224 113.7 238.3 127.1 256 127.1C273.7 127.1 288 113.7 288 95.1C288 78.33 273.7 63.1 256 63.1zM384 191.1C401.7 191.1 416 177.7 416 159.1C416 142.3 401.7 127.1 384 127.1C366.3 127.1 352 142.3 352 159.1C352 177.7 366.3 191.1 384 191.1z"]},Bf={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M272 63.1l-32 0c-26.51 0-48 21.49-48 47.1v288c0 26.51 21.49 48 48 48L272 448c26.51 0 48-21.49 48-48v-288C320 85.49 298.5 63.1 272 63.1zM80 63.1l-32 0c-26.51 0-48 21.49-48 48v288C0 426.5 21.49 448 48 448l32 0c26.51 0 48-21.49 48-48v-288C128 85.49 106.5 63.1 80 63.1z"]},Lf={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]},Nf={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},Rf={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"]},Ff={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.84 0-95.17-15.58-134.2-44.86c-14.12-10.59-16.97-30.66-6.375-44.81c10.59-14.12 30.62-16.94 44.81-6.375c27.84 20.91 61 31.94 95.88 31.94C344.3 415.8 416 344.1 416 256s-71.69-159.8-159.8-159.8c-37.46 0-73.09 13.49-101.3 36.64l45.12 45.14c17.01 17.02 4.955 46.1-19.1 46.1H35.17C24.58 224.1 16 215.5 16 204.9V59.04c0-24.04 29.07-36.08 46.07-19.07l47.6 47.63C149.9 52.71 201.5 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"]},jf=Ff,Vf={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M468.9 32.11c13.87 0 27.18 10.77 27.18 27.04v145.9c0 10.59-8.584 19.17-19.17 19.17h-145.7c-16.28 0-27.06-13.32-27.06-27.2c0-6.634 2.461-13.4 7.96-18.9l45.12-45.14c-28.22-23.14-63.85-36.64-101.3-36.64c-88.09 0-159.8 71.69-159.8 159.8S167.8 415.9 255.9 415.9c73.14 0 89.44-38.31 115.1-38.31c18.48 0 31.97 15.04 31.97 31.96c0 35.04-81.59 70.41-147 70.41c-123.4 0-223.9-100.5-223.9-223.9S132.6 32.44 256 32.44c54.6 0 106.2 20.39 146.4 55.26l47.6-47.63C455.5 34.57 462.3 32.11 468.9 32.11z"]},Uf=Vf,Hf={prefix:"fas",iconName:"scissors",icon:[512,512,[9986,9988,9984,"cut"],"f0c4","M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"]},Wf={prefix:"fas",iconName:"screwdriver-wrench",icon:[512,512,["tools"],"f7d9","M331.8 224.1c28.29 0 54.88 10.99 74.86 30.97l19.59 19.59c40.01-17.74 71.25-53.3 81.62-96.65c5.725-23.92 5.34-47.08 .2148-68.4c-2.613-10.88-16.43-14.51-24.34-6.604l-68.9 68.9h-75.6V97.2l68.9-68.9c7.912-7.912 4.275-21.73-6.604-24.34c-21.32-5.125-44.48-5.51-68.4 .2148c-55.3 13.23-98.39 60.22-107.2 116.4C224.5 128.9 224.2 137 224.3 145l82.78 82.86C315.2 225.1 323.5 224.1 331.8 224.1zM384 278.6c-23.16-23.16-57.57-27.57-85.39-13.9L191.1 158L191.1 95.99l-127.1-95.99L0 63.1l96 127.1l62.04 .0077l106.7 106.6c-13.67 27.82-9.251 62.23 13.91 85.39l117 117.1c14.62 14.5 38.21 14.5 52.71-.0016l52.75-52.75c14.5-14.5 14.5-38.08-.0016-52.71L384 278.6zM227.9 307L168.7 247.9l-148.9 148.9c-26.37 26.37-26.37 69.08 0 95.45C32.96 505.4 50.21 512 67.5 512s34.54-6.592 47.72-19.78l119.1-119.1C225.5 352.3 222.6 329.4 227.9 307zM64 472c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24S88 434.7 88 448C88 461.3 77.25 472 64 472z"]},Gf={prefix:"fas",iconName:"share",icon:[512,512,["arrow-turn-right","mail-forward"],"f064","M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"]},qf={prefix:"fas",iconName:"table-cells",icon:[512,512,["th"],"f00a","M448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM152 96H64V160H152V96zM208 160H296V96H208V160zM448 96H360V160H448V96zM64 288H152V224H64V288zM296 224H208V288H296V224zM360 288H448V224H360V288zM152 352H64V416H152V352zM208 416H296V352H208V416zM448 352H360V416H448V352z"]},Zf={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},Kf={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M248.8 4.994C249.9 1.99 252.8 .0001 256 .0001C259.2 .0001 262.1 1.99 263.2 4.994L277.3 42.67L315 56.79C318 57.92 320 60.79 320 64C320 67.21 318 70.08 315 71.21L277.3 85.33L263.2 123C262.1 126 259.2 128 256 128C252.8 128 249.9 126 248.8 123L234.7 85.33L196.1 71.21C193.1 70.08 192 67.21 192 64C192 60.79 193.1 57.92 196.1 56.79L234.7 42.67L248.8 4.994zM427.4 14.06C446.2-4.686 476.6-4.686 495.3 14.06L529.9 48.64C548.6 67.38 548.6 97.78 529.9 116.5L148.5 497.9C129.8 516.6 99.38 516.6 80.64 497.9L46.06 463.3C27.31 444.6 27.31 414.2 46.06 395.4L427.4 14.06zM461.4 59.31L356.3 164.3L379.6 187.6L484.6 82.58L461.4 59.31zM7.491 117.2L64 96L85.19 39.49C86.88 34.98 91.19 32 96 32C100.8 32 105.1 34.98 106.8 39.49L128 96L184.5 117.2C189 118.9 192 123.2 192 128C192 132.8 189 137.1 184.5 138.8L128 160L106.8 216.5C105.1 221 100.8 224 96 224C91.19 224 86.88 221 85.19 216.5L64 160L7.491 138.8C2.985 137.1 0 132.8 0 128C0 123.2 2.985 118.9 7.491 117.2zM359.5 373.2L416 352L437.2 295.5C438.9 290.1 443.2 288 448 288C452.8 288 457.1 290.1 458.8 295.5L480 352L536.5 373.2C541 374.9 544 379.2 544 384C544 388.8 541 393.1 536.5 394.8L480 416L458.8 472.5C457.1 477 452.8 480 448 480C443.2 480 438.9 477 437.2 472.5L416 416L359.5 394.8C354.1 393.1 352 388.8 352 384C352 379.2 354.1 374.9 359.5 373.2z"]},Xf={prefix:"fas",iconName:"wave-square",icon:[640,512,[],"f83e","M476 480h-152c-19.88 0-36-16.12-36-36v-348H192v156c0 19.88-16.12 36-36 36H31.1C14.33 288 0 273.7 0 256s14.33-31.1 31.1-31.1H128v-156c0-19.88 16.12-36 36-36h152c19.88 0 36 16.12 36 36v348h96v-156c0-19.88 16.12-36 36-36h124C625.7 224 640 238.3 640 256s-14.33 32-31.1 32H512v156C512 463.9 495.9 480 476 480z"]},Yf={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]},Jf={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]},wo=Jf,un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ts={exports:{}};(function(t,e){(function(n,o){o(e)})(un,function(n){var o,r,i="smooth-dnd-container-instance",s="smooth-dnd-draggable-wrapper",a="animated",l="__smooth_dnd_draggable_translation_value",u="__smooth_dnd_draggable_visibility_value",h="smooth-dnd-ghost",p="smooth-dnd-container",g="smooth-dnd-extra-size-for-insertion",d="smooth-dnd-stretcher-element",v="smooth-dnd-stretcher-instance",f="smooth-dnd-disable-touch-action",b="smooth-dnd-no-user-select",y="smooth-dnd-prevent-auto-scroll-class",I="smooth-dnd-drop-preview-default-class",E="smooth-dnd-drop-preview-inner-class",k="smooth-dnd-drop-preview-constant-class",L="smooth-dnd-drop-preview-flex-container-class",U=Object.freeze({containerInstance:i,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:s,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:a,translationValue:l,visibilityValue:u,ghostClass:h,containerClass:p,extraSizeForInsertion:g,stretcherElementClass:d,stretcherElementInstance:v,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:f,noUserSelectClass:b,preventAutoScrollClass:y,dropPlaceholderDefaultClass:I,dropPlaceholderInnerClass:E,dropPlaceholderWrapperClass:k,dropPlaceholderFlexContainerClass:L}),M={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function z(O){return(z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(O)}function $(O,P,D){return P in O?Object.defineProperty(O,P,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[P]=D,O}function Z(O){return function(P){if(Array.isArray(P)){for(var D=0,N=new Array(P.length);D<P.length;D++)N[D]=P[D];return N}}(O)||function(P){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]")return Array.from(P)}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r=o||(o={})).x="x",r.y="y",r.xy="xy";function G(O,P,D){return D==="x"?{left:Math.max(O.left,P.left),top:O.top,right:Math.min(O.right,P.right),bottom:O.bottom}:{left:O.left,top:Math.max(O.top,P.top),right:O.right,bottom:Math.min(O.bottom,P.bottom)}}function S(O){var P=window.getComputedStyle(O),D=P.overflow;if(D==="auto"||D==="scroll")return o.xy;var N=P["overflow-x"],q=N==="auto"||N==="scroll",rt=P["overflow-y"],ht=rt==="auto"||rt==="scroll";return q&&ht?o.xy:q?o.x:ht?o.y:null}function F(O,P){var D=window.getComputedStyle(O),N=D.overflow,q=D["overflow-".concat(P)];return N==="auto"||N==="scroll"||q==="auto"||q==="scroll"}var m=function(O,P){return{left:Math.max(O.left,P.left),top:Math.max(O.top,P.top),right:Math.min(O.right,P.right),bottom:Math.min(O.bottom,P.bottom)}},tt=function(O){var P=O.getBoundingClientRect(),D={left:P.left,right:P.right,top:P.top,bottom:P.bottom};if(et(O,"x")&&!vt(O,"x")){var N=D.right-D.left;D.right=D.right+O.scrollWidth-N}if(et(O,"y")&&!vt(O,"y")){var q=D.bottom-D.top;D.bottom=D.bottom+O.scrollHeight-q}return D},vt=function(O,P){var D=window.getComputedStyle(O),N=D.overflow,q=D["overflow-".concat(P)];return N==="auto"||N==="scroll"||N==="hidden"||q==="auto"||q==="scroll"||q==="hidden"},et=function(O,P){return P==="x"?O.scrollWidth>O.clientWidth:O.scrollHeight>O.clientHeight},St=function(O,P){var D=O,N=P||tt(O);for(D=O.parentElement;D;)et(D,"x")&&vt(D,"x")&&(N=G(N,D.getBoundingClientRect(),"x")),et(D,"y")&&vt(D,"y")&&(N=G(N,D.getBoundingClientRect(),"y")),D=D.parentElement;return N},ct=function(O,P){for(var D=O;D;){if(D[i]){var N=function(){var q=D[i];if(P.some(function(rt){return rt===q}))return{v:q}}();if(z(N)==="object")return N.v}D=D.parentElement}return null},ft=function(O,P){for(var D=O;D;){if(D.matches(P))return D;D=D.parentElement}return null},X=function(O,P){return-1<O.className.split(" ").map(function(D){return D}).indexOf(P)},K=function(O,P){if(O){var D=O.className.split(" ").filter(function(N){return N});D.indexOf(P)===-1&&(D.unshift(P),O.className=D.join(" "))}},Ct=function(O,P){if(O){var D=O.className.split(" ").filter(function(N){return N&&N!==P});O.className=D.join(" ")}},_t=function(O,P){return O.removeChild(O.children[P])},nt=function(O,P,D){D>=O.children.length?O.appendChild(P):O.insertBefore(P,O.children[D])},Et=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},Nt=function(O){if(O){var P=window.getComputedStyle(O);if(P)return P.cursor}return null};function It(O){return!(O.bottom<=O.top||O.right<=O.left)}function Bt(O){var P=O.element,D=O.draggables;return function(N,q){var rt=N,ht=rt.removedIndex,lt=rt.addedIndex,gt=rt.droppedElement,Q=null;if(ht!==null&&(Q=_t(P,ht),D.splice(ht,1)),lt!==null){var st=window.document.createElement("div");st.className="".concat(s),st.appendChild(Q&&Q.firstElementChild?Q.firstElementChild:gt),nt(P,st,lt),lt>=D.length?D.push(st):D.splice(lt,0,st)}q&&q(N)}}var Xt=Object.freeze({domDropHandler:Bt,reactDropHandler:function(){return{handler:function(){return function(O,P){P&&P(O)}}}}}),Jt={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(O){return"translate3d(".concat(O,"px, 0, 0)")}}},T={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(O){return"translate3d(0,".concat(O,"px, 0)")}}};function j(O,P,D){O[g]=0;var N=function(Q){return{get:function(st,mt){return st[Q[mt]||mt]},set:function(st,mt,Ot){st[Q[mt]]=Q.setters[mt]?Q.setters[mt](Ot):Ot}}}(P==="horizontal"?Jt:T),q={translation:0};function rt(){ht(O),function(Q){var st=Q.getBoundingClientRect();q.scaleX=Q.offsetWidth?(st.right-st.left)/Q.offsetWidth:1,q.scaleY=Q.offsetHeight?(st.bottom-st.top)/Q.offsetHeight:1}(O)}function ht(Q){q.rect=tt(Q);var st=St(Q,q.rect);It(st)&&(q.lastVisibleRect=q.visibleRect),q.visibleRect=st}function lt(Q){var st=Q;if(st.tagName){var mt=st.getBoundingClientRect();return P==="vertical"?mt.bottom-mt.top:mt.right-mt.left}return N.get(Q,"size")*N.get(q,"scale")}function gt(Q){return N.get(Q,"dragPosition")}return window.addEventListener("resize",function(){ht(O)}),setTimeout(function(){rt()},10),{getSize:lt,getContainerRectangles:function(){return{rect:q.rect,visibleRect:q.visibleRect,lastVisibleRect:q.lastVisibleRect}},getBeginEndOfDOMRect:function(Q){return{begin:N.get(Q,"begin"),end:N.get(Q,"end")}},getBeginEndOfContainer:function(){return{begin:N.get(q.rect,"begin")+q.translation,end:N.get(q.rect,"end")+q.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:N.get(q.visibleRect,"begin")+q.translation,end:N.get(q.visibleRect,"end")+q.translation}},getBeginEnd:function(Q){var st=function(mt){return(N.get(mt,"distanceToParent")+(mt[l]||0))*N.get(q,"scale")}(Q)+(N.get(q.rect,"begin")+q.translation)-N.get(O,"scrollValue");return{begin:st,end:st+lt(Q)*N.get(q,"scale")}},getAxisValue:gt,setTranslation:function(Q,st){st?N.set(Q.style,"translate",st):Q.style.removeProperty("transform"),Q[l]=st},getTranslation:function(Q){return Q[l]},setVisibility:function(Q,st){Q[u]!==void 0&&Q[u]===st||(st?Q.style.removeProperty("visibility"):Q.style.visibility="hidden",Q[u]=st)},isVisible:function(Q){return Q[u]===void 0||Q[u]},isInVisibleRect:function(Q,st){var mt=q.visibleRect,Ot=mt.left,At=mt.top,Mt=mt.right,Vt=mt.bottom;Vt-At<2&&(Vt=At+30);var w=q.rect;return P==="vertical"?Q>w.left&&Q<w.right&&At<st&&st<Vt:Ot<Q&&Q<Mt&&st>w.top&&st<w.bottom},setSize:function(Q,st){N.set(Q,"setSize",st)},getTopLeftOfElementBegin:function(Q){var st=0;return{top:P==="horizontal"?(st=Q,q.rect.top):(st=q.rect.left,Q),left:st}},getScrollSize:function(Q){return N.get(Q,"scrollSize")},getScrollValue:function(Q){return N.get(Q,"scrollValue")},setScrollValue:function(Q,st){return N.set(Q,"scrollValue",st)},invalidate:rt,invalidateRects:function(){ht(O)},getPosition:function(Q){return gt(Q)},setBegin:function(Q,st){N.set(Q,"begin",st)}}}function c(O,P,D){var N,q,rt,ht=D.left,lt=D.right,gt=D.top,Q=D.bottom,st=O.x,mt=O.y;if(st<ht||lt<st||mt<gt||Q<mt)return null;rt=P==="x"?(N=ht,q=lt,st):(N=gt,q=Q,mt);var Ot=q-N,At=400<Ot?100:Ot/4;return q-rt<At?{direction:"end",speedFactor:(At-(q-rt))/At}:rt-N<At?{direction:"begin",speedFactor:(At-(rt-N))/At}:null}function B(O){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",D=null,N=null,q=null,rt=null;return{animate:function(ht,lt){q=ht,rt=lt,function gt(){D===null&&(D=requestAnimationFrame(function(Q){N===null&&(N=Q);var st=Q-N;N=Q;var mt,Ot,At,Mt=st/1e3*rt;Ot=P,At=Mt=q==="begin"?0-Mt:Mt,(mt=O)&&(mt!==window?Ot==="x"?mt.scrollLeft+=At:mt.scrollTop+=At:Ot==="x"?mt.scrollBy(At,0):mt.scrollBy(0,At)),D=null,gt()}))}()},stop:function(){D!==null&&(cancelAnimationFrame(D),D=null),N=null}}}function A(O){return function(){return St(O,O.getBoundingClientRect())}}var C,_,x,W=function(O){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,D=O.reduce(function(N,q){var rt=function(ht){for(var lt=[],gt=ht.element;gt;){var Q=S(gt);if(Q&&!X(gt,y)){var st={};switch(Q){case o.xy:st.x={animator:B(gt,"x")},st.y={animator:B(gt,"y")};break;case o.x:st.x={animator:B(gt,"x")};break;case o.y:st.y={animator:B(gt,"y")}}lt.push({axisAnimations:st,getRect:A(gt),scrollerElement:gt})}gt=gt.parentElement}return lt}(q).filter(function(ht){return!N.find(function(lt){return lt.scrollerElement===ht.scrollerElement})});return[].concat(Z(N),Z(rt))},[]);return function(N){var q=N.draggableInfo;if(N.reset)D.forEach(function(lt){lt.axisAnimations.x&&lt.axisAnimations.x.animator.stop(),lt.axisAnimations.y&&lt.axisAnimations.y.animator.stop()});else if(q){(function(lt,gt){lt.forEach(function(Q){var st=Q.axisAnimations,mt=(0,Q.getRect)();st.x&&(st.x.scrollParams=c(gt,"x",mt),Q.cachedRect=mt),st.y&&(st.y.scrollParams=c(gt,"y",mt),Q.cachedRect=mt)})})(D,q.mousePosition),D.forEach(function(lt){var gt=lt.axisAnimations,Q=gt.x,st=gt.y;if(Q)if(Q.scrollParams){var mt=Q.scrollParams,Ot=mt.direction,At=mt.speedFactor;Q.animator.animate(Ot,At*P)}else Q.animator.stop();if(st)if(st.scrollParams){var Mt=st.scrollParams,Vt=Mt.direction,w=Mt.speedFactor;st.animator.animate(Vt,w*P)}else st.animator.stop()});var rt=D.filter(function(lt){return lt.cachedRect});if(rt.length&&1<rt.length){var ht=function(lt,gt){for(var Q=document.elementFromPoint(gt.x,gt.y);Q;){var st=lt.find(function(mt){return mt.scrollerElement===Q});if(st)return st;Q=Q.parentElement}return null}(rt,q.mousePosition);ht&&rt.forEach(function(lt){lt!==ht&&(lt.axisAnimations.x&&lt.axisAnimations.x.animator.stop(),lt.axisAnimations.y&&lt.axisAnimations.y.animator.stop())})}}}};typeof window<"u"&&((C=Element)&&C.prototype&&!C.prototype.matches&&(C.prototype.matches=C.prototype.matchesSelector||C.prototype.mozMatchesSelector||C.prototype.msMatchesSelector||C.prototype.oMatchesSelector||C.prototype.webkitMatchesSelector||function(O){for(var P=(this.document||this.ownerDocument).querySelectorAll(O),D=P.length;0<=--D&&P.item(D)!==this;);return-1<D}),(_=Node||Element)&&_.prototype&&_.prototype.firstElementChild==null&&Object.defineProperty(_.prototype,"firstElementChild",{get:function(){for(var O,P=this.childNodes,D=0;O=P[D++];)if(O.nodeType===1)return O;return null}}),Array.prototype.some||(Array.prototype.some=function(O){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof O!="function")throw new TypeError;for(var P=Object(this),D=P.length>>>0,N=2<=arguments.length?arguments[1]:void 0,q=0;q<D;q++)if(q in P&&O.call(N,P[q],q,P))return!0;return!1}));var V={overflow:"hidden",display:"block"},R={height:"100%",display:"table-cell","vertical-align":"top"},J=($(x={},".".concat(p),{position:"relative","min-height":"30px","min-width":"30px"}),$(x,".".concat(p,".horizontal"),{display:"table"}),$(x,".".concat(p,".horizontal > .").concat(d),{display:"inline-block"}),$(x,".".concat(p,".horizontal > .").concat(s),R),$(x,".".concat(p,".vertical > .").concat(s),V),$(x,".".concat(s),{"box-sizing":"border-box"}),$(x,".".concat(s,".horizontal"),R),$(x,".".concat(s,".vertical"),V),$(x,".".concat(s,".animated"),{transition:"transform ease"}),$(x,".".concat(h),{"box-sizing":"border-box"}),$(x,".".concat(h,".animated"),{transition:"all ease-in-out"}),$(x,".".concat(h," *"),{"pointer-events":"none"}),$(x,".".concat(f," *"),{"touch-action":"none","-ms-touch-action":"none"}),$(x,".".concat(b),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),$(x,".".concat(E),{flex:"1"}),$(x,".".concat(p,".horizontal > .").concat(k),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),$(x,".".concat(p,".vertical > .").concat(k),{overflow:"hidden",display:"block",width:"100%"}),$(x,".".concat(L),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),$(x,".".concat(I),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),x);function it(O){return Object.keys(O).reduce(function(P,D){var N=O[D];return z(N)==="object"?"".concat(P).concat(D,"{").concat(it(N),"}"):"".concat(P).concat(D,":").concat(N,";")},"")}function ot(O){if(O&&typeof window<"u"){var P=window.document.head||window.document.getElementsByTagName("head")[0],D=window.document.createElement("style"),N=it({"body *":{cursor:"".concat(O," !important")}});return D.type="text/css",D.styleSheet?D.styleSheet.cssText=N:D.appendChild(window.document.createTextNode(N)),P.appendChild(D),D}return null}var pt,Tt,kt=["mousedown","touchstart"],Wt=["mousemove","touchmove"],le=["mouseup","touchend"],qt=null,ye=null,zt=null,$t=null,oe=[],ee=!1,Ae=!1,Me=!1,Ye=!1,Le=null,we=null,Ie=null,Ne=null,Xo=(pt=null,Tt=!1,{start:function(){Tt||(Tt=!0,function O(){pt=requestAnimationFrame(function(){qt.forEach(function(P){return P.layout.invalidateRects()}),setTimeout(function(){pt!==null&&O()},50)})}())},stop:function(){pt!==null&&(cancelAnimationFrame(pt),pt=null),Tt=!1}}),mi=typeof window<"u"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function gi(){typeof window<"u"&&kt.forEach(function(O){window.document.addEventListener(O,yi,{passive:!1})})}function Yo(){return $t&&$t.ghostParent?$t.ghostParent:ye&&ye.parentElement||window.document.body}var mn,Yn,Je,Jn,Co,So,vi=(Jn=null,Co=1,So=5,function(O,P,D){mn=to(O),Je=D,(Yn=typeof P=="number"?P:mi?200:0)&&(Jn=setTimeout(tr,Yn)),Wt.forEach(function(N){return window.document.addEventListener(N,Jo)},{passive:!1}),le.forEach(function(N){return window.document.addEventListener(N,Re)},{passive:!1}),window.document.addEventListener("drag",Qo,{passive:!1})});function Jo(O){var P=to(O),D=P.clientX,N=P.clientY;if(Yn)(Math.abs(mn.clientX-D)>So||Math.abs(mn.clientY-N)>So)&&Qn();else if(Math.abs(mn.clientX-D)>Co||Math.abs(mn.clientY-N)>Co)return tr()}function Re(){Qn()}function Qo(){Qn()}function Qn(){clearTimeout(Jn),Wt.forEach(function(O){return window.document.removeEventListener(O,Jo)},{passive:!1}),le.forEach(function(O){return window.document.removeEventListener(O,Re)},{passive:!1}),window.document.removeEventListener("drag",Qo,{passive:!1})}function tr(){clearTimeout(Jn),Qn(),Je()}function yi(O){var P=to(O);if(!ee&&(P.button===void 0||P.button===0)&&(ye=ft(P.target,"."+s))){var D=ft(ye,"."+p),N=oe.filter(function(lt){return lt.element===D})[0],q=N.getOptions().dragHandleSelector,rt=N.getOptions().nonDragAreaSelector,ht=!0;q&&!ft(P.target,q)&&(ht=!1),rt&&ft(P.target,rt)&&(ht=!1),ht&&(N.layout.invalidate(),K(window.document.body,f),K(window.document.body,b),window.document.addEventListener("mouseup",function lt(){Ct(window.document.body,f),Ct(window.document.body,b),window.document.removeEventListener("mouseup",lt)})),ht&&vi(P,N.getOptions().dragBeginDelay,function(){Et(),ar(P,Nt(O.target)),Wt.forEach(function(lt){window.document.addEventListener(lt,er,{passive:!1})}),le.forEach(function(lt){window.document.addEventListener(lt,Qe,{passive:!1})})})}}function er(O){O.preventDefault();var P=to(O);if($t){var D=$t.container.getOptions();D.behaviour==="contain"?function(N){var q,rt,ht,lt,gt=N.clientX,Q=N.clientY,st=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",mt=$t.container.layout.getBeginEndOfContainerVisibleRect();lt=st==="vertical"?(q=Q,rt="y",ht="top",$t.size.offsetHeight):(q=gt,rt="x",ht="left",$t.size.offsetWidth);var Ot=mt.begin,At=mt.end-lt,Mt=Math.max(Ot,Math.min(At,q+zt.positionDelta[ht]));zt.topLeft[rt]=Mt,$t.position[rt]=Math.max(mt.begin,Math.min(mt.end,q+zt.centerDelta[rt])),$t.mousePosition[rt]=Math.max(mt.begin,Math.min(mt.end,q)),$t.position[rt]<mt.begin+lt/2&&($t.position[rt]=mt.begin+2),$t.position[rt]>mt.end-lt/2&&($t.position[rt]=mt.end-2)}(P,D.orientation):Ie?Ie==="y"?(zt.topLeft.y=P.clientY+zt.positionDelta.top,$t.position.y=P.clientY+zt.centerDelta.y,$t.mousePosition.y=P.clientY):Ie==="x"&&(zt.topLeft.x=P.clientX+zt.positionDelta.left,$t.position.x=P.clientX+zt.centerDelta.x,$t.mousePosition.x=P.clientX):(zt.topLeft.x=P.clientX+zt.positionDelta.left,zt.topLeft.y=P.clientY+zt.positionDelta.top,$t.position.x=P.clientX+zt.centerDelta.x,$t.position.y=P.clientY+zt.centerDelta.y,$t.mousePosition.x=P.clientX,$t.mousePosition.y=P.clientY),vn(),(Ye=!Le($t))&&bi()}else ar(P,Nt(O.target))}var Fe,nr,or,gn,bi=(Fe=rr,or=!(nr=20),gn=null,function(){for(var O=arguments.length,P=new Array(O),D=0;D<O;D++)P[D]=arguments[D];gn&&clearTimeout(gn),or&&!gn?Fe.call.apply(Fe,[null].concat(P)):gn=setTimeout(function(){gn=null,Fe.call.apply(Fe,[null].concat(P))},nr)});function rr(){Ye&&(Ye=!1,ir($t,qt))}function Qe(){Wt.forEach(function(O){window.document.removeEventListener(O,er,{passive:!1})}),le.forEach(function(O){window.document.removeEventListener(O,Qe,{passive:!1})}),we({reset:!0}),Ne&&(function(O){O&&typeof window<"u"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(O)}(Ne),Ne=null),$t&&(Xo.stop(),rr(),Me=!0,function(O){function P(){Ct(zt.ghost,"animated"),zt.ghost.style.transitionDuration=null,Yo().removeChild(zt.ghost),O()}function D(w,H,at){var Dt=w.top,ce=w.left;K(zt.ghost,"animated"),at&&K(zt.ghost.firstElementChild,at),zt.topLeft.x=ce,zt.topLeft.y=Dt,vn(H),setTimeout(function(){P()},H+20)}function N(w,H){K(zt.ghost,"animated"),vn(w,.9,!0),setTimeout(function(){H()},w+20)}if($t.targetElement){var q=oe.filter(function(w){return w.element===$t.targetElement})[0];!(Vt=q.getOptions()).shouldAnimateDrop||Vt.shouldAnimateDrop($t.container.getOptions(),$t.payload)?D(q.getDragResult().shadowBeginEnd.rect,Math.max(150,q.getOptions().animationDuration/2),q.getOptions().dropClass):P()}else{var rt=oe.filter(function(w){return w===$t.container})[0];if(rt){var ht=rt.getOptions(),lt=ht.behaviour,gt=ht.removeOnDropOut;if(lt!=="move"&&lt!=="contain"||!Ae&&gt||!rt.getDragResult())N(rt.getOptions().animationDuration,P);else{var Q=rt.layout.getContainerRectangles();if(!It(Q.visibleRect)&&It(Q.lastVisibleRect))D({top:Q.lastVisibleRect.top,left:Q.lastVisibleRect.left},rt.getOptions().animationDuration,rt.getOptions().dropClass);else{var st=rt.getDragResult(),mt=st.removedIndex,Ot=st.elementSize,At=rt.layout;rt.getTranslateCalculator({dragResult:{removedIndex:mt,addedIndex:mt,elementSize:Ot,pos:void 0,shadowBeginEnd:void 0}});var Mt=0<mt?At.getBeginEnd(rt.draggables[mt-1]).end:At.getBeginEndOfContainer().begin;D(At.getTopLeftOfElementBegin(Mt),rt.getOptions().animationDuration,rt.getOptions().dropClass)}}}else N(M.animationDuration,P)}var Vt}(function(){sr(ee=!1);for(var O=qt||[],P=O.shift();P!==void 0;)P.handleDrop($t),P=O.shift();Le=Ie=$t=zt=ye=qt=null,Me=!1}))}function to(O){return O.touches?O.touches[0]:O}function ir(O,P){var D=!1;P.forEach(function(N){var q=N.handleDrag(O);D=!!q.containerBoxChanged||!1,q.containerBoxChanged=!1}),D&&(D=!1,requestAnimationFrame(function(){oe.forEach(function(N){N.layout.invalidateRects(),N.onTranslated()})}))}function Io(O){var P=O,D=null;return function(N){return!(D!==null||!ee||Me)&&(D=requestAnimationFrame(function(){ee&&!Me&&(ir(N,P),we({draggableInfo:N})),D=null}),!0)}}function xo(O,P){return O.getOptions().autoScrollEnabled?W(P,O.getScrollMaxSpeed()):function(D){return null}}function sr(O){oe.forEach(function(P){var D=O?P.getOptions().onDragStart:P.getOptions().onDragEnd;if(D){var N={isSource:P===$t.container,payload:$t.payload};P.isDragRelevant($t.container,$t.payload)?N.willAcceptDrop=!0:N.willAcceptDrop=!1,D(N)}})}function ar(O,P){if(ye!==null){ee=!0;var D=oe.filter(function(N){return ye.parentElement===N.element})[0];D.setDraggables(),Ie=D.getOptions().lockAxis?D.getOptions().lockAxis.toLowerCase():null,$t=function(N){var q=oe.filter(function(gt){return N.parentElement===gt.element})[0],rt=q.draggables.indexOf(N),ht=q.getOptions().getGhostParent,lt=N.getBoundingClientRect();return{container:q,element:N,size:{offsetHeight:lt.bottom-lt.top,offsetWidth:lt.right-lt.left},elementIndex:rt,payload:q.getOptions().getChildPayload?q.getOptions().getChildPayload(rt):void 0,targetElement:null,position:{x:0,y:0},groupName:q.getOptions().groupName,ghostParent:ht?ht():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(ye),zt=function(N,q,rt,ht){var lt=q.x,gt=q.y,Q=N.getBoundingClientRect(),st=Q.left,mt=Q.top,Ot=Q.right,At=Q.bottom,Mt=m(rt.layout.getContainerRectangles().visibleRect,Q),Vt=Mt.left+(Mt.right-Mt.left)/2,w=Mt.top+(Mt.bottom-Mt.top)/2,H=N.cloneNode(!0);return H.style.zIndex="1000",H.style.boxSizing="border-box",H.style.position="fixed",H.style.top="0px",H.style.left="0px",H.style.transform=null,H.style.removeProperty("transform"),rt.shouldUseTransformForGhost()?H.style.transform="translate3d(".concat(st,"px, ").concat(mt,"px, 0)"):(H.style.top="".concat(mt,"px"),H.style.left="".concat(st,"px")),H.style.width=Ot-st+"px",H.style.height=At-mt+"px",H.style.overflow="visible",H.style.transition=null,H.style.removeProperty("transition"),H.style.pointerEvents="none",H.style.userSelect="none",rt.getOptions().dragClass?setTimeout(function(){K(H.firstElementChild,rt.getOptions().dragClass);var at=window.getComputedStyle(H.firstElementChild).cursor;Ne=ot(at)}):Ne=ot(ht),K(H,rt.getOptions().orientation||"vertical"),K(H,h),{ghost:H,centerDelta:{x:Vt-lt,y:w-gt},positionDelta:{left:st-lt,top:mt-gt},topLeft:{x:st,y:mt}}}(ye,{x:O.clientX,y:O.clientY},$t.container,P),$t.position={x:O.clientX+zt.centerDelta.x,y:O.clientY+zt.centerDelta.y},$t.mousePosition={x:O.clientX,y:O.clientY},qt=oe.filter(function(N){return N.isDragRelevant(D,$t.payload)}),$t.relevantContainers=qt,Le=Io(qt),we&&we({reset:!0,draggableInfo:void 0}),we=xo(D,qt),qt.forEach(function(N){return N.prepareDrag(N,qt)}),sr(!0),Le($t),Yo().appendChild(zt.ghost),Xo.start()}}var Tn=null;function vn(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,D=2<arguments.length&&arguments[2]!==void 0&&arguments[2],N=zt,q=N.ghost,rt=N.topLeft,ht=rt.x,lt=rt.y,gt=!$t.container||$t.container.shouldUseTransformForGhost(),Q=gt?"translate3d(".concat(ht,"px,").concat(lt,"px, 0)"):null;if(P!==1&&(Q=Q?"".concat(Q," scale(").concat(P,")"):"scale(".concat(P,")")),0<O)return zt.ghost.style.transitionDuration=O+"ms",void requestAnimationFrame(function(){Q&&(q.style.transform=Q),gt||(q.style.left=ht+"px",q.style.top=lt+"px"),Tn=null,D&&(q.style.opacity="0")});Tn===null&&(Tn=requestAnimationFrame(function(){Q&&(q.style.transform=Q),gt||(q.style.left=ht+"px",q.style.top=lt+"px"),Tn=null,D&&(q.style.opacity="0")}))}function _i(){if(ee&&!Ae&&!Me){Ye=!(Ae=!0);var O=Object.assign({},$t,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});qt.forEach(function(P){P.handleDrag(O)}),$t.targetElement=null,$t.cancelDrop=!0,Qe(),Ae=!1}}typeof window<"u"&&function(){if(typeof window<"u"){var O=window.document.head||window.document.getElementsByTagName("head")[0],P=window.document.createElement("style");P.id="smooth-dnd-style-definitions";var D=it(J);P.type="text/css",P.styleSheet?P.styleSheet.cssText=D:P.appendChild(window.document.createTextNode(D)),O.appendChild(P)}}();var yn=(gi(),{register:function(O){(function(P){oe.push(P),ee&&$t&&P.isDragRelevant($t.container,$t.payload)&&(qt.push(P),P.prepareDrag(P,qt),we&&we({reset:!0,draggableInfo:void 0}),we=xo(P,qt),Le=Io(qt),P.handleDrag($t))})(O)},unregister:function(O){(function(P){if(oe.splice(oe.indexOf(P),1),ee&&$t){$t.container===P&&P.fireRemoveElement(),$t.targetElement===P.element&&($t.targetElement=null);var D=qt.indexOf(P);-1<D&&(qt.splice(D,1),we&&we({reset:!0,draggableInfo:void 0}),we=xo(P,qt),Le=Io(qt))}})(O)},isDragging:function(){return ee},cancelDrag:_i});function lr(O,P){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:M.animationDuration;P?(K(O,a),O.style.transitionDuration=D+"ms"):(Ct(O,a),O.style.removeProperty("transition-duration"))}function cr(O){var P=[];return Array.prototype.forEach.call(O.children,function(D){if(D.nodeType===Node.ELEMENT_NODE){var N=D;X(D,s)||(N=function(q){if(Ce.wrapChild){var rt=window.document.createElement("div");return rt.className="".concat(s),q.parentElement.insertBefore(rt,q),rt.appendChild(q),rt}return q}(D)),N[l]=0,P.push(N)}else O.removeChild(D)}),P}function wi(O){var P=O.layout;return function(D,N){var q=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function rt(ht,lt,gt,Q){var st=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(Q<gt)return gt;if(gt===Q){var mt=P.getBeginEnd(ht[gt]),Ot=mt.begin,At=mt.end;return st?lt<(At+Ot)/2?gt:gt+1:gt}var Mt=Math.floor((Q+gt)/2),Vt=P.getBeginEnd(ht[Mt]),w=Vt.begin,H=Vt.end;return lt<w?rt(ht,lt,gt,Mt-1,st):H<lt?rt(ht,lt,Mt+1,Q,st):st?lt<(H+w)/2?Mt:Mt+1:Mt}(D,N,0,D.length-1,q)}}function Ci(O){var P=O.element,D=O.draggables,N=O.layout,q=O.getOptions,rt=function(lt){var gt=lt.element,Q=lt.draggables,st=lt.layout;return function(){Q.forEach(function(mt){lr(mt,!1),st.setTranslation(mt,0),st.setVisibility(mt,!0)}),gt[v]&&(gt[v].parentNode.removeChild(gt[v]),gt[v]=null)}}({element:P,draggables:D,layout:N,getOptions:q}),ht=(Ce.dropHandler||Bt)({element:P,draggables:D,layout:N,getOptions:q});return function(lt,gt){var Q=gt.addedIndex,st=gt.removedIndex,mt=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(rt(),!lt.cancelDrop&&(lt.targetElement||q().removeOnDropOut||mt)){var Ot={removedIndex:st,addedIndex:Q!==null?st!==null&&st<Q?Q-1:Q:null,payload:lt.payload};ht(Ot,q().onDrop)}}}function ur(O){var P=O.element,D=O.getOptions,N=null;return function(q){var rt=q.draggableInfo,ht=N;return N==null&&rt.container.element===P&&D().behaviour!=="copy"&&(ht=N=rt.elementIndex),{removedIndex:ht}}}function dr(O){var P=O.draggables,D=O.layout;return function(N){var q=N.dragResult;q.removedIndex!==null&&D.setVisibility(P[q.removedIndex],!1)}}function eo(O){var P=O.element,D=O.layout;return function(N){var q=N.draggableInfo,rt=document.elementFromPoint(q.position.x,q.position.y);if(rt){var ht=ct(rt,q.relevantContainers);if(ht&&ht.element===P)return{pos:D.getPosition(q.position)}}return{pos:null}}}function fr(O){var P=O.layout,D=null;return function(N){var q=N.draggableInfo;return N.dragResult.pos===null?D=null:{elementSize:D=D||P.getSize(q.size)}}}function hr(O){var P=O.element;return function(D){var N=D.draggableInfo,q=D.dragResult;(function(rt,ht){var lt=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];ht&&lt?rt.targetElement=ht:rt.targetElement===ht&&(rt.targetElement=null)})(N,P,!!q.pos)}}function Si(){return function(O){return O.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function Ii(O){var P=O.layout,D=null;return function(N){var q=N.dragResult.addedIndex;if(q===D)return null;D=q;var rt=P.getBeginEndOfContainer(),ht=rt.begin;return rt.end,{shadowBeginEnd:{rect:P.getTopLeftOfElementBegin(ht)}}}}function xi(O){var P=O.layout,D=O.element,N=O.getOptions,q=null;return function(rt){var ht=rt.dragResult,lt=ht.elementSize,gt=ht.shadowBeginEnd,Q=ht.addedIndex,st=ht.dropPlaceholderContainer,mt=N();if(mt.dropPlaceholder){var Ot=typeof mt.dropPlaceholder=="boolean"?{}:mt.dropPlaceholder,At=Ot.animationDuration,Mt=Ot.className,Vt=Ot.showOnTop;if(Q===null)return st&&q!==null&&D.removeChild(st),q=null,{dropPlaceholderContainer:void 0};if(!st){var w=document.createElement("div"),H=document.createElement("div");H.className=L,w.className="".concat(E," ").concat(Mt||I),(st=document.createElement("div")).className="".concat(k),st.style.position="absolute",At!==void 0&&(st.style.transition="all ".concat(At,"ms ease")),st.appendChild(H),H.appendChild(w),P.setSize(st.style,lt+"px"),st.style.pointerEvents="none",Vt?D.appendChild(st):D.insertBefore(st,D.firstElementChild)}return q!==Q&&gt.dropArea&&P.setBegin(st.style,gt.dropArea.begin-P.getBeginEndOfContainer().begin+"px"),q=Q,{dropPlaceholderContainer:st}}return null}}function Ei(O){var P=zn(O);return function(D){var N=D.draggableInfo,q=D.dragResult;return N.invalidateShadow?P({draggableInfo:N,dragResult:q}):null}}function Oi(O){var P=function(D){var N=D.draggables,q=wi({layout:D.layout});return function(rt){var ht=rt.dragResult,lt=ht.shadowBeginEnd,gt=ht.pos;if(lt)return lt.begin+lt.beginAdjustment<=gt&&lt.end>=gt?null:gt<lt.begin+lt.beginAdjustment?q(N,gt):gt>lt.end?q(N,gt)+1:N.length;var Q=q(N,gt,!0);return Q!==null?Q:N.length}}(O);return function(D){var N=D.dragResult,q=null;return N.pos!==null&&(q=P({dragResult:N}))===null&&(q=N.addedIndex),{addedIndex:q}}}function pr(){var O=null;return function(P){var D=P.dragResult,N=D.addedIndex,q=D.shadowBeginEnd;N!==O&&O!==null&&q&&(q.beginAdjustment=0),O=N}}function Pi(O){var P=O.element,D=O.draggables,N=O.layout,q=O.getOptions,rt=null;return function(ht){var lt=ht.dragResult,gt=lt.addedIndex,Q=lt.removedIndex,st=lt.elementSize;if(Q===null){if(gt!==null){if(!rt){var mt=N.getBeginEndOfContainer();mt.end=mt.begin+N.getSize(P);var Ot=N.getScrollSize(P)>N.getSize(P)?mt.begin+N.getScrollSize(P)-N.getScrollValue(P):mt.end,At=0<D.length?N.getBeginEnd(D[D.length-1]).end-D[D.length-1][l]:mt.begin;if(Ot<At+st){(rt=window.document.createElement("div")).className=d+" "+q().orientation;var Mt=0<D.length?st+At-Ot:st;return N.setSize(rt.style,"".concat(Mt,"px")),P.appendChild(rt),P[v]=rt,{containerBoxChanged:!0}}}}else if(rt){N.setTranslation(rt,0);var Vt=rt;return rt=null,P.removeChild(Vt),{containerBoxChanged:!(P[v]=null)}}}}}function mr(O){var P=O.draggables,D=O.layout,N=null,q=null;return function(rt){var ht=rt.dragResult,lt=ht.addedIndex,gt=ht.removedIndex,Q=ht.elementSize;if(lt!==N||gt!==q){for(var st=0;st<P.length;st++)if(st!==gt){var mt=P[st],Ot=0;gt!==null&&gt<st&&(Ot-=Q),lt!==null&&lt<=st&&(Ot+=Q),D.setTranslation(mt,Ot)}return{addedIndex:N=lt,removedIndex:q=gt}}}}function zn(O){var P=O.draggables,D=O.layout,N=null;return function(q){var rt=q.draggableInfo,ht=q.dragResult,lt=ht.addedIndex,gt=ht.removedIndex,Q=ht.elementSize,st=ht.pos,mt=ht.shadowBeginEnd;if(st===null)return{shadowBeginEnd:N=null};if(lt===null||!rt.invalidateShadow&&lt===N)return null;var Ot=lt-1,At=Number.MIN_SAFE_INTEGER,Mt=0,Vt=0,w=null,H=null;if(Ot===gt&&Ot--,-1<Ot){var at=D.getSize(P[Ot]);if(H=D.getBeginEnd(P[Ot]),Q<at){var Dt=(at-Q)/2;At=H.end-Dt}else At=H.end;Mt=H.end}else H={end:D.getBeginEndOfContainer().begin},Mt=D.getBeginEndOfContainer().begin;var ce=Number.MAX_SAFE_INTEGER,ve=lt;if(ve===gt&&ve++,ve<P.length){var $e=D.getSize(P[ve]);if(w=D.getBeginEnd(P[ve]),Q<$e){var Pe=($e-Q)/2;ce=w.begin+Pe}else ce=w.begin;Vt=w.begin}else w={begin:D.getContainerRectangles().rect.end},Vt=D.getContainerRectangles().rect.end-D.getContainerRectangles().rect.begin;var yr=H&&w?D.getTopLeftOfElementBegin(H.end):null;return N=lt,{shadowBeginEnd:{dropArea:{begin:Mt,end:Vt},begin:At,end:ce,rect:yr,beginAdjustment:mt?mt.beginAdjustment:0}}}}function bn(){var O=null;return function(P){var D=P.dragResult,N=D.pos,q=D.addedIndex,rt=D.shadowBeginEnd;if(N!==null){if(q!=null&&O===null){if(N<rt.begin){var ht=N-rt.begin-5;rt.beginAdjustment=ht}O=q}}else O=null}}function Eo(O){var P=O.getOptions,D=!1,N=P();return function(q){var rt=!!q.dragResult.pos;rt!==D&&((D=rt)?N.onDragEnter&&N.onDragEnter():N.onDragLeave&&N.onDragLeave())}}function tn(O){var P=O.getOptions,D=null,N=P();return function(q){var rt=q.dragResult,ht=rt.addedIndex,lt=rt.removedIndex,gt=q.draggableInfo,Q=gt.payload,st=gt.element;if(N.onDropReady&&ht!==null&&D!==ht){var mt=D=ht;lt!==null&&lt<ht&&mt--,N.onDropReady({addedIndex:mt,removedIndex:lt,payload:Q,element:st?st.firstElementChild:void 0})}}}function gr(O){return O.getOptions().behaviour==="drop-zone"?vr(O)(ur,dr,eo,fr,hr,Si,Ii,Eo,tn):vr(O)(ur,dr,eo,fr,hr,Ei,Oi,pr,Pi,mr,zn,xi,bn,Eo,tn)}function vr(O){return function(){for(var P=arguments.length,D=new Array(P),N=0;N<P;N++)D[N]=arguments[N];var q=D.map(function(ht){return ht(O)}),rt=null;return function(ht){return rt=q.reduce(function(lt,gt){return Object.assign(lt,gt({draggableInfo:ht,dragResult:lt}))},rt||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function ki(O){return function(P){var D=Object.assign({},M,P),N=null,q=null,rt=function(Ot,At){var Mt=cr(Ot),Vt=At();return K(Ot,"".concat(p," ").concat(Vt.orientation)),{element:Ot,draggables:Mt,getOptions:At,layout:j(Ot,Vt.orientation,Vt.animationDuration)}}(O,mt),ht=gr(rt),lt=Ci(rt),gt=function(Ot,At){var Mt=[];function Vt(){Mt&&(Mt.forEach(function(w){return w.removeEventListener("scroll",At)}),window.removeEventListener("scroll",At))}return function(){for(var w=Ot;w;)(F(w,"x")||F(w,"y"))&&Mt.push(w),w=w.parentElement}(),{dispose:function(){Vt(),Mt=null},start:function(){Mt&&(Mt.forEach(function(w){return w.addEventListener("scroll",At)}),window.addEventListener("scroll",At))},stop:Vt}}(O,function(){rt.layout.invalidateRects(),Q()});function Q(){q!==null&&(q.invalidateShadow=!0,N=ht(q),q.invalidateShadow=!1)}function st(Ot,At){for(var Mt=cr(At),Vt=0;Vt<Mt.length;Vt++)Ot[Vt]=Mt[Vt];for(var w=0;w<Ot.length-Mt.length;w++)Ot.pop()}function mt(){return D}return{element:O,draggables:rt.draggables,isDragRelevant:function(Ot){var At=Ot.element,Mt=Ot.getOptions;return function(Vt,w){var H=Mt();if(H.shouldAcceptDrop)return H.shouldAcceptDrop(Vt.getOptions(),w);var at=Vt.getOptions();return H.behaviour!=="copy"&&ft(At,"."+s)!==Vt.element&&(Vt.element===At||!(!at.groupName||at.groupName!==H.groupName))}}(rt),layout:rt.layout,dispose:function(Ot){gt.dispose(),function(At){Ce.wrapChild&&Array.prototype.forEach.call(At.children,function(Mt){Mt.nodeType===Node.ELEMENT_NODE&&X(Mt,s)&&(At.insertBefore(Mt.firstElementChild,Mt),At.removeChild(Mt))})}(Ot.element)},prepareDrag:function(Ot,At){var Mt=Ot.element,Vt=rt.draggables;st(Vt,Mt),Ot.layout.invalidateRects(),Vt.forEach(function(w){return lr(w,!0,mt().animationDuration)}),gt.start()},handleDrag:function(Ot){return N=ht(q=Ot)},handleDrop:function(Ot){gt.stop(),N&&N.dropPlaceholderContainer&&O.removeChild(N.dropPlaceholderContainer),q=null,ht=gr(rt),lt(Ot,N),N=null},fireRemoveElement:function(){lt(q,Object.assign({},N,{addedIndex:null}),!0),N=null},getDragResult:function(){return N},getTranslateCalculator:function(Ot){return mr(rt)(Ot)},onTranslated:function(){Q()},setDraggables:function(){st(rt.draggables,O)},getScrollMaxSpeed:function(){return Ce.maxScrollSpeed},shouldUseTransformForGhost:function(){return Ce.useTransformForGhost===!0},getOptions:mt,setOptions:function(Ot){var At=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];D=At===!1?Object.assign({},M,Ot):Object.assign({},M,D,Ot)}}}}var Ce=function(O,P){var D=ki(O)(P);return O[i]=D,yn.register(D),{dispose:function(){yn.unregister(D),D.dispose(D)},setOptions:function(N,q){D.setOptions(N,q)}}};function no(O,P,D){Object.defineProperty(O,D,{set:function(N){P[D]=N},get:function(){return P[D]}})}Ce.wrapChild=!0,Ce.cancelDrag=function(){yn.cancelDrag()},Ce.isDragging=function(){return yn.isDragging()};function an(O,P){return console.warn('default export is deprecated. please use named export "smoothDnD"'),Ce(O,P)}an.cancelDrag=function(){Ce.cancelDrag()},an.isDragging=function(){return Ce.isDragging()},no(an,Ce,"useTransformForGhost"),no(an,Ce,"maxScrollSpeed"),no(an,Ce,"wrapChild"),no(an,Ce,"dropHandler"),n.smoothDnD=Ce,n.constants=U,n.dropHandlers=Xt,n.default=an,Object.defineProperty(n,"__esModule",{value:!0})})})(ts,ts.exports);var Wo=ts.exports;const Qf=function(t){return Array.isArray(t)};function Xl(t){return t?typeof t=="string"||typeof t=="object"&&(typeof t.value=="string"||typeof t.value=="function"||typeof t.value=="object"):!0}function Yl(t,e){const n=t.$props.tag;if(n){if(typeof n=="string"){const o={value:n};return e&&(o.props={class:e}),o}else if(typeof n=="object"){const o={value:n.value||"div",props:n.props||{}};return e&&(o.props.class?Qf(o.props.class)?o.props.class.push(e):o.props.class=[e,o.props.class]:o.props.class=e),o}}return{value:"div"}}Wo.smoothDnD.dropHandler=Wo.dropHandlers.reactDropHandler().handler;Wo.smoothDnD.wrapChild=!1;const Aa={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var Jl=xt({name:"Container",mounted(){const t=Object.assign({},this.$props);for(const e in Aa)t[Aa[e]]=n=>{this.$emit(e,n)};this.containerElement=this.$refs.container||this.$el,this.container=Wo.smoothDnD(this.containerElement,t)},unmounted(){this.container&&this.container.dispose()},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,animationDuration:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:Xl,default:"div"}},render(){const t=Yl(this);return ks(t.value,Object.assign({},{ref:"container"},t.props),this.$slots.default())}}),th=xt({name:"Draggable",props:{tag:{validator:Xl,default:"div"}},render:function(){const t=Yl(this,Wo.constants.wrapperClass);return ks(t.value,Object.assign({},t.props),this.$slots.default())}});const eh=xt({name:"BuilderEditableLabel",props:{modelValue:{type:String,default:"node"}},setup(t,{emit:e}){const n=Gt(!0),o=Gt();function r(){n.value=!1,Zo(()=>{o.value&&(o.value.focus(),o.value.select())})}function i(s){const{value:a}=s.target;e("update:modelValue",a)}return{isReadOnly:n,inputRef:o,onFocus:r,onInput:i}}});const Pt=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},nh={class:"builder-editable-label"},oh=["value"];function rh(t,e,n,o,r,i){return Y(),dt("div",nh,[yt("div",{tabindex:0,class:Qt([{"builder-editable-label__read-only--hidden":!t.isReadOnly},"builder-editable-label__read-only"]),onFocus:e[0]||(e[0]=(...s)=>t.onFocus&&t.onFocus(...s))},he(t.modelValue),35),t.isReadOnly?de("",!0):(Y(),dt("input",{key:0,class:"builder-editable-label__textbox",type:"text",ref:"inputRef",value:t.modelValue,onInput:e[1]||(e[1]=(...s)=>t.onInput&&t.onInput(...s)),onBlur:e[2]||(e[2]=s=>t.isReadOnly=!0)},null,40,oh)),ue(t.$slots,"default")])}const Ql=Pt(eh,[["render",rh]]),ih=xt({name:"PortHandle",props:{active:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},hue:{type:Number,default:0}},setup(t){return{backgroundColor:Kt(()=>t.hue>0?`hsla(${t.hue}, var(--lightness), var(--saturation), 0.8)`:"var(--color-bg-secondary)")}}});const sh={class:"port-handle"};function ah(t,e,n,o,r,i){return Y(),dt("div",sh,[yt("div",{class:Qt(["port-handle__display",{"port-handle__display--active":t.active,"port-handle--selected":t.isSelected}])},[yt("div",{class:"port-handle__hue",style:ne({backgroundColor:t.backgroundColor})},null,4)],2)])}const ui=Pt(ih,[["render",ah]]),lh=xt({name:"PortWire",props:{type:{type:String,default:"top"}}});const ch={class:"port-wire__port"};function uh(t,e,n,o,r,i){return Y(),dt("div",{class:Qt(`port-wire port-wire--${t.type}`)},[yt("div",{class:Qt(`port-wire__connector port-wire__connector--${t.type}`)},null,2),yt("div",ch,[ue(t.$slots,"default")])],2)}const tc=Pt(lh,[["render",uh]]),dh=xt({name:"BuilderDropZone",components:{BuilderEditableLabel:Ql,Container:Jl,Draggable:th,PortHandle:ui,PortWire:tc},emits:{drop:(t,e)=>!!(t&&e)},props:{ports:{type:Array,default:()=>[]},getChildPayload:{type:Function,required:!0},type:{type:String,required:!0}},computed:{orientation(){return["left","right"].includes(this.type)?"vertical":"horizontal"}},setup(t,{emit:e}){const n=/--([a-z]+)/ig;let o="";function r(u){document.querySelectorAll(".smooth-dnd-ghost, .smooth-dnd-ghost div").forEach(h=>{const p=h.className.match(n);p&&(o=p.pop()||""),h.className=h.className.replace(n,u)})}function i(){r(`--${t.type}`)}function s(){r(o)}function a(u){e("drop",t.type,u)}function l(){return document.querySelector(".modal")}return{onDragEnter:i,onDragLeave:s,onDrop:a,getGhostParent:l}}});function fh(t,e,n,o,r,i){const s=bt("port-handle"),a=bt("port-wire"),l=bt("builder-editable-label"),u=bt("Draggable"),h=bt("Container");return Y(),Rt(h,{orientation:t.orientation,"animation-duration":500,"group-name":t.type,class:Qt(`builder-drop-zone builder-drop-zone--${t.orientation}`),onDrop:t.onDrop,onDragEnter:t.onDragEnter,onDragLeave:t.onDragLeave,"should-accept-drop":()=>!0,"get-child-payload":t.getChildPayload,"get-ghost-parent":t.getGhostParent},{default:Ft(()=>[(Y(!0),dt(Zt,null,pe(t.ports,p=>(Y(),Rt(u,{key:p.id,tag:{value:"div",props:{class:`builder-drop-zone__io builder-drop-zone__io--${t.type}`}}},{default:Ft(()=>[ut(l,{modelValue:p.name,"onUpdate:modelValue":g=>p.name=g},{default:Ft(()=>[ut(a,{type:t.type},{default:Ft(()=>[ut(s)]),_:1},8,["type"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["tag"]))),128))]),_:1},8,["orientation","group-name","class","onDrop","onDragEnter","onDragLeave","get-child-payload","get-ghost-parent"])}const hh=Pt(dh,[["render",fh]]);var Ee=(t=>(t[t.Output=0]="Output",t[t.Input=1]="Input",t))(Ee||{});const ph=(t,e)=>{const{removedIndex:n,addedIndex:o,payload:r}=e;if(n===null&&o===null)return t;const i=[...t];let s=r;return n!==null&&(s=i.splice(n,1)[0]),o!==null&&i.splice(o,0,s),i},mh=xt({name:"Builder",components:{BuilderDropZone:hh,BuilderEditableLabel:Ql,Container:Jl},emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0}},setup(t,{emit:e}){const n=Gt({left:{children:[]},top:{children:[]},right:{children:[]},bottom:{children:[]}});t.modelValue.portIds.forEach(s=>{var l;const a=(l=t.modelValue.integratedCircuit)==null?void 0:l.ports[s];a&&n.value[a.type===Ee.Input?"left":"right"].children.push(a)});function o(){const s=["left","top","right","bottom"];t.modelValue.portIds=[],Object.keys(n.value).forEach(a=>{const l=a,{children:u}=n.value[l];u.forEach(h=>{h.orientation=s.indexOf(l),t.modelValue.portIds.push(h.id)})}),e("update:modelValue",t.modelValue)}function r(s,a){const l=Object.assign({},n.value[s]);n.value[s].children=ph(l.children,a),o()}function i(s){return a=>n.value[s].children[a]}return{item:t.modelValue,ports:n,onWireDrop:r,getCardPayload:i}}});const gh={class:"builder__center"};function vh(t,e,n,o,r,i){const s=bt("builder-drop-zone"),a=bt("builder-editable-label"),l=bt("container");return Y(),Rt(l,{class:"builder"},{default:Ft(()=>[ut(s,{type:"top","get-child-payload":t.getCardPayload("top"),ports:t.ports.top.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),yt("div",gh,[ut(s,{type:"left","get-child-payload":t.getCardPayload("left"),ports:t.ports.left.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),ut(a,{modelValue:t.item.name,"onUpdate:modelValue":e[0]||(e[0]=u=>t.item.name=u)},null,8,["modelValue"]),ut(s,{type:"right","get-child-payload":t.getCardPayload("right"),ports:t.ports.right.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),ut(s,{type:"bottom","get-child-payload":t.getCardPayload("bottom"),ports:t.ports.bottom.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),_:1})}const yh=Pt(mh,[["render",vh]]);var Vr={exports:{}};Vr.exports;(function(t,e){var n=200,o="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",d="[object Number]",v="[object Object]",f="[object Promise]",b="[object RegExp]",y="[object Set]",I="[object String]",E="[object Symbol]",k="[object WeakMap]",L="[object ArrayBuffer]",U="[object DataView]",M="[object Float32Array]",z="[object Float64Array]",$="[object Int8Array]",Z="[object Int16Array]",G="[object Int32Array]",S="[object Uint8Array]",F="[object Uint8ClampedArray]",m="[object Uint16Array]",tt="[object Uint32Array]",vt=/[\\^$.*+?()[\]{}|]/g,et=/\w*$/,St=/^\[object .+?Constructor\]$/,ct=/^(?:0|[1-9]\d*)$/,ft={};ft[i]=ft[s]=ft[L]=ft[U]=ft[a]=ft[l]=ft[M]=ft[z]=ft[$]=ft[Z]=ft[G]=ft[g]=ft[d]=ft[v]=ft[b]=ft[y]=ft[I]=ft[E]=ft[S]=ft[F]=ft[m]=ft[tt]=!0,ft[u]=ft[h]=ft[k]=!1;var X=typeof un=="object"&&un&&un.Object===Object&&un,K=typeof self=="object"&&self&&self.Object===Object&&self,Ct=X||K||Function("return this")(),_t=e&&!e.nodeType&&e,nt=_t&&!0&&t&&!t.nodeType&&t,Et=nt&&nt.exports===_t;function Nt(w,H){return w.set(H[0],H[1]),w}function It(w,H){return w.add(H),w}function Bt(w,H){for(var at=-1,Dt=w?w.length:0;++at<Dt&&H(w[at],at,w)!==!1;);return w}function Xt(w,H){for(var at=-1,Dt=H.length,ce=w.length;++at<Dt;)w[ce+at]=H[at];return w}function Jt(w,H,at,Dt){var ce=-1,ve=w?w.length:0;for(Dt&&ve&&(at=w[++ce]);++ce<ve;)at=H(at,w[ce],ce,w);return at}function T(w,H){for(var at=-1,Dt=Array(w);++at<w;)Dt[at]=H(at);return Dt}function j(w,H){return w==null?void 0:w[H]}function c(w){var H=!1;if(w!=null&&typeof w.toString!="function")try{H=!!(w+"")}catch{}return H}function B(w){var H=-1,at=Array(w.size);return w.forEach(function(Dt,ce){at[++H]=[ce,Dt]}),at}function A(w,H){return function(at){return w(H(at))}}function C(w){var H=-1,at=Array(w.size);return w.forEach(function(Dt){at[++H]=Dt}),at}var _=Array.prototype,x=Function.prototype,W=Object.prototype,V=Ct["__core-js_shared__"],R=function(){var w=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),J=x.toString,it=W.hasOwnProperty,ot=W.toString,pt=RegExp("^"+J.call(it).replace(vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=Et?Ct.Buffer:void 0,kt=Ct.Symbol,Wt=Ct.Uint8Array,le=A(Object.getPrototypeOf,Object),qt=Object.create,ye=W.propertyIsEnumerable,zt=_.splice,$t=Object.getOwnPropertySymbols,oe=Tt?Tt.isBuffer:void 0,ee=A(Object.keys,Object),Ae=bn(Ct,"DataView"),Me=bn(Ct,"Map"),Ye=bn(Ct,"Promise"),Le=bn(Ct,"Set"),we=bn(Ct,"WeakMap"),Ie=bn(Object,"create"),Ne=P(Ae),Xo=P(Me),mi=P(Ye),gi=P(Le),Yo=P(we),mn=kt?kt.prototype:void 0,Yn=mn?mn.valueOf:void 0;function Je(w){var H=-1,at=w?w.length:0;for(this.clear();++H<at;){var Dt=w[H];this.set(Dt[0],Dt[1])}}function Jn(){this.__data__=Ie?Ie(null):{}}function Co(w){return this.has(w)&&delete this.__data__[w]}function So(w){var H=this.__data__;if(Ie){var at=H[w];return at===o?void 0:at}return it.call(H,w)?H[w]:void 0}function vi(w){var H=this.__data__;return Ie?H[w]!==void 0:it.call(H,w)}function Jo(w,H){var at=this.__data__;return at[w]=Ie&&H===void 0?o:H,this}Je.prototype.clear=Jn,Je.prototype.delete=Co,Je.prototype.get=So,Je.prototype.has=vi,Je.prototype.set=Jo;function Re(w){var H=-1,at=w?w.length:0;for(this.clear();++H<at;){var Dt=w[H];this.set(Dt[0],Dt[1])}}function Qo(){this.__data__=[]}function Qn(w){var H=this.__data__,at=vn(H,w);if(at<0)return!1;var Dt=H.length-1;return at==Dt?H.pop():zt.call(H,at,1),!0}function tr(w){var H=this.__data__,at=vn(H,w);return at<0?void 0:H[at][1]}function yi(w){return vn(this.__data__,w)>-1}function er(w,H){var at=this.__data__,Dt=vn(at,w);return Dt<0?at.push([w,H]):at[Dt][1]=H,this}Re.prototype.clear=Qo,Re.prototype.delete=Qn,Re.prototype.get=tr,Re.prototype.has=yi,Re.prototype.set=er;function Fe(w){var H=-1,at=w?w.length:0;for(this.clear();++H<at;){var Dt=w[H];this.set(Dt[0],Dt[1])}}function nr(){this.__data__={hash:new Je,map:new(Me||Re),string:new Je}}function or(w){return zn(this,w).delete(w)}function gn(w){return zn(this,w).get(w)}function bi(w){return zn(this,w).has(w)}function rr(w,H){return zn(this,w).set(w,H),this}Fe.prototype.clear=nr,Fe.prototype.delete=or,Fe.prototype.get=gn,Fe.prototype.has=bi,Fe.prototype.set=rr;function Qe(w){this.__data__=new Re(w)}function to(){this.__data__=new Re}function ir(w){return this.__data__.delete(w)}function Io(w){return this.__data__.get(w)}function xo(w){return this.__data__.has(w)}function sr(w,H){var at=this.__data__;if(at instanceof Re){var Dt=at.__data__;if(!Me||Dt.length<n-1)return Dt.push([w,H]),this;at=this.__data__=new Fe(Dt)}return at.set(w,H),this}Qe.prototype.clear=to,Qe.prototype.delete=ir,Qe.prototype.get=Io,Qe.prototype.has=xo,Qe.prototype.set=sr;function ar(w,H){var at=rt(w)||q(w)?T(w.length,String):[],Dt=at.length,ce=!!Dt;for(var ve in w)(H||it.call(w,ve))&&!(ce&&(ve=="length"||Ce(ve,Dt)))&&at.push(ve);return at}function Tn(w,H,at){var Dt=w[H];(!(it.call(w,H)&&N(Dt,at))||at===void 0&&!(H in w))&&(w[H]=at)}function vn(w,H){for(var at=w.length;at--;)if(N(w[at][0],H))return at;return-1}function _i(w,H){return w&&pr(H,At(H),w)}function yn(w,H,at,Dt,ce,ve,$e){var Pe;if(Dt&&(Pe=ve?Dt(w,ce,ve,$e):Dt(w)),Pe!==void 0)return Pe;if(!mt(w))return w;var yr=rt(w);if(yr){if(Pe=gr(w),!H)return Oi(w,Pe)}else{var oo=tn(w),js=oo==h||oo==p;if(gt(w))return dr(w,H);if(oo==v||oo==i||js&&!ve){if(c(w))return ve?w:{};if(Pe=vr(js?{}:w),!H)return Pi(w,_i(Pe,w))}else{if(!ft[oo])return ve?w:{};Pe=ki(w,oo,yn,H)}}$e||($e=new Qe);var Vs=$e.get(w);if(Vs)return Vs;if($e.set(w,Pe),!yr)var Us=at?mr(w):At(w);return Bt(Us||w,function($i,br){Us&&(br=$i,$i=w[br]),Tn(Pe,br,yn($i,H,at,Dt,br,w,$e))}),Pe}function lr(w){return mt(w)?qt(w):{}}function cr(w,H,at){var Dt=H(w);return rt(w)?Dt:Xt(Dt,at(w))}function wi(w){return ot.call(w)}function Ci(w){if(!mt(w)||an(w))return!1;var H=Q(w)||c(w)?pt:St;return H.test(P(w))}function ur(w){if(!O(w))return ee(w);var H=[];for(var at in Object(w))it.call(w,at)&&at!="constructor"&&H.push(at);return H}function dr(w,H){if(H)return w.slice();var at=new w.constructor(w.length);return w.copy(at),at}function eo(w){var H=new w.constructor(w.byteLength);return new Wt(H).set(new Wt(w)),H}function fr(w,H){var at=H?eo(w.buffer):w.buffer;return new w.constructor(at,w.byteOffset,w.byteLength)}function hr(w,H,at){var Dt=H?at(B(w),!0):B(w);return Jt(Dt,Nt,new w.constructor)}function Si(w){var H=new w.constructor(w.source,et.exec(w));return H.lastIndex=w.lastIndex,H}function Ii(w,H,at){var Dt=H?at(C(w),!0):C(w);return Jt(Dt,It,new w.constructor)}function xi(w){return Yn?Object(Yn.call(w)):{}}function Ei(w,H){var at=H?eo(w.buffer):w.buffer;return new w.constructor(at,w.byteOffset,w.length)}function Oi(w,H){var at=-1,Dt=w.length;for(H||(H=Array(Dt));++at<Dt;)H[at]=w[at];return H}function pr(w,H,at,Dt){at||(at={});for(var ce=-1,ve=H.length;++ce<ve;){var $e=H[ce],Pe=Dt?Dt(at[$e],w[$e],$e,at,w):void 0;Tn(at,$e,Pe===void 0?w[$e]:Pe)}return at}function Pi(w,H){return pr(w,Eo(w),H)}function mr(w){return cr(w,At,Eo)}function zn(w,H){var at=w.__data__;return no(H)?at[typeof H=="string"?"string":"hash"]:at.map}function bn(w,H){var at=j(w,H);return Ci(at)?at:void 0}var Eo=$t?A($t,Object):Mt,tn=wi;(Ae&&tn(new Ae(new ArrayBuffer(1)))!=U||Me&&tn(new Me)!=g||Ye&&tn(Ye.resolve())!=f||Le&&tn(new Le)!=y||we&&tn(new we)!=k)&&(tn=function(w){var H=ot.call(w),at=H==v?w.constructor:void 0,Dt=at?P(at):void 0;if(Dt)switch(Dt){case Ne:return U;case Xo:return g;case mi:return f;case gi:return y;case Yo:return k}return H});function gr(w){var H=w.length,at=w.constructor(H);return H&&typeof w[0]=="string"&&it.call(w,"index")&&(at.index=w.index,at.input=w.input),at}function vr(w){return typeof w.constructor=="function"&&!O(w)?lr(le(w)):{}}function ki(w,H,at,Dt){var ce=w.constructor;switch(H){case L:return eo(w);case a:case l:return new ce(+w);case U:return fr(w,Dt);case M:case z:case $:case Z:case G:case S:case F:case m:case tt:return Ei(w,Dt);case g:return hr(w,Dt,at);case d:case I:return new ce(w);case b:return Si(w);case y:return Ii(w,Dt,at);case E:return xi(w)}}function Ce(w,H){return H=H??r,!!H&&(typeof w=="number"||ct.test(w))&&w>-1&&w%1==0&&w<H}function no(w){var H=typeof w;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?w!=="__proto__":w===null}function an(w){return!!R&&R in w}function O(w){var H=w&&w.constructor,at=typeof H=="function"&&H.prototype||W;return w===at}function P(w){if(w!=null){try{return J.call(w)}catch{}try{return w+""}catch{}}return""}function D(w){return yn(w,!0,!0)}function N(w,H){return w===H||w!==w&&H!==H}function q(w){return lt(w)&&it.call(w,"callee")&&(!ye.call(w,"callee")||ot.call(w)==i)}var rt=Array.isArray;function ht(w){return w!=null&&st(w.length)&&!Q(w)}function lt(w){return Ot(w)&&ht(w)}var gt=oe||Vt;function Q(w){var H=mt(w)?ot.call(w):"";return H==h||H==p}function st(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=r}function mt(w){var H=typeof w;return!!w&&(H=="object"||H=="function")}function Ot(w){return!!w&&typeof w=="object"}function At(w){return ht(w)?ar(w):ur(w)}function Mt(){return[]}function Vt(){return!1}t.exports=D})(Vr,Vr.exports);var bh=Vr.exports;const We=Ts(bh);let Or;const _h=new Uint8Array(16);function wh(){if(!Or&&(Or=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Or))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Or(_h)}const xe=[];for(let t=0;t<256;++t)xe.push((t+256).toString(16).slice(1));function Ch(t,e=0){return(xe[t[e+0]]+xe[t[e+1]]+xe[t[e+2]]+xe[t[e+3]]+"-"+xe[t[e+4]]+xe[t[e+5]]+"-"+xe[t[e+6]]+xe[t[e+7]]+"-"+xe[t[e+8]]+xe[t[e+9]]+"-"+xe[t[e+10]]+xe[t[e+11]]+xe[t[e+12]]+xe[t[e+13]]+xe[t[e+14]]+xe[t[e+15]]).toLowerCase()}const Sh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ta={randomUUID:Sh};function me(t,e,n){if(Ta.randomUUID&&!e&&!t)return Ta.randomUUID();t=t||{};const o=t.random||(t.rng||wh)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=o[r];return e}return Ch(o)}var Oe=(t=>(t.Buffer="Buffer",t.CircuitNode="CircuitNode",t.InputNode="InputNode",t.IntegratedCircuit="IntegratedCircuit",t.LogicGate="LogicGate",t.OutputNode="OutputNode",t))(Oe||{}),Ut=(t=>(t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t))(Ut||{});function di(t,e,n,o,r,i){return{id:t,name:"",type:e,subtype:n,portIds:Object.values(i||{}).reduce((s,a)=>s.concat(a.map(({id:l})=>l)),[]),groupId:null,rotation:0,boundingBox:{top:0,left:0,right:o,bottom:r},position:{x:0,y:0},zIndex:0,width:o,height:r,isSelected:!1,properties:{name:{type:"text",label:"Name",value:""}}}}var re=(t=>(t.None="None",t.CustomCircuit="CustomCircuit",t.Switch="Switch",t.PushButton="PushButton",t.Clock="Clock",t.Lightbulb="Lightbulb",t.DigitDisplay="DigitDisplay",t.Buffer="Buffer",t.Not="Not",t.Tristate="Tristate",t.And="And",t.Or="Or",t.Nand="Nand",t.Nor="Nor",t.Xnor="Xnor",t.Xor="Xor",t))(re||{});function Ih(t,e,n,o,r=re.CustomCircuit){const{ports:i,items:s,connections:a,groups:l}=We(t),u=di(me(),Oe.IntegratedCircuit,r,n,o);return Object.values(s).forEach(h=>{const p=h.portIds.map(f=>i[f]);let g=0;const d=p.reduce((f,b)=>f===void 0||f===b.type?b.type:null,void 0);if(typeof d!="number")return;const v=d===Ee.Input?Ut.Right:Ut.Left;p.filter(f=>f.type===d).forEach(f=>{var I;const b=me(),y=((I=h.properties.name)==null?void 0:I.value)||h.name;i[b]={...We(f),type:d===Ee.Input?Ee.Output:Ee.Input,name:p.length>1?`${y} ${g++}`:y,id:b,elementId:h.id,orientation:v,value:0},h.portIds.push(b),u.portIds.push(b)}),h.type=Oe.Buffer}),u.name=e,u.integratedCircuit={items:s,connections:a,ports:i,groups:l,serializedState:JSON.stringify({items:t.items,connections:t.connections,ports:t.ports,groups:t.groups})},u}function Pr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ec={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(o,r,i){function s(u,h){if(!r[u]){if(!o[u]){var p=typeof Pr=="function"&&Pr;if(!h&&p)return p(u,!0);if(a)return a(u,!0);var g=new Error("Cannot find module '"+u+"'");throw g.code="MODULE_NOT_FOUND",g}var d=r[u]={exports:{}};o[u][0].call(d.exports,function(v){var f=o[u][1][v];return s(f||v)},d,d.exports,n,o,r,i)}return r[u].exports}for(var a=typeof Pr=="function"&&Pr,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(n,o,r){var i=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,h,p,g,d,v,f,b=[],y=0,I=l.length,E=I,k=i.getTypeOf(l)!=="string";y<l.length;)E=I-y,p=k?(u=l[y++],h=y<I?l[y++]:0,y<I?l[y++]:0):(u=l.charCodeAt(y++),h=y<I?l.charCodeAt(y++):0,y<I?l.charCodeAt(y++):0),g=u>>2,d=(3&u)<<4|h>>4,v=1<E?(15&h)<<2|p>>6:64,f=2<E?63&p:64,b.push(a.charAt(g)+a.charAt(d)+a.charAt(v)+a.charAt(f));return b.join("")},r.decode=function(l){var u,h,p,g,d,v,f=0,b=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var I,E=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&E--,l.charAt(l.length-2)===a.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=s.uint8array?new Uint8Array(0|E):new Array(0|E);f<l.length;)u=a.indexOf(l.charAt(f++))<<2|(g=a.indexOf(l.charAt(f++)))>>4,h=(15&g)<<4|(d=a.indexOf(l.charAt(f++)))>>2,p=(3&d)<<6|(v=a.indexOf(l.charAt(f++))),I[b++]=u,d!==64&&(I[b++]=h),v!==64&&(I[b++]=p);return I}},{"./support":30,"./utils":32}],2:[function(n,o,r){var i=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(h,p,g,d,v){this.compressedSize=h,this.uncompressedSize=p,this.crc32=g,this.compression=d,this.compressedContent=v}u.prototype={getContentWorker:function(){var h=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,p,g){return h.pipe(new a).pipe(new l("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},o.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,r){var i=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,r){var i=n("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();o.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,h,p,g){var d=s,v=g+p;u^=-1;for(var f=g;f<v;f++)u=u>>>8^d[255&(u^h[f])];return-1^u}(0|l,a,a.length,0):function(u,h,p,g){var d=s,v=g+p;u^=-1;for(var f=g;f<v;f++)u=u>>>8^d[255&(u^h.charCodeAt(f))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,o,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,o,r){var i=null;i=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:i}},{lie:37}],7:[function(n,o,r){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function h(p,g){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}r.magic="\b\0",a.inherits(h,l),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,p.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},r.compressWorker=function(p){return new h("Deflate",p)},r.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,r){function i(d,v){var f,b="";for(f=0;f<v;f++)b+=String.fromCharCode(255&d),d>>>=8;return b}function s(d,v,f,b,y,I){var E,k,L=d.file,U=d.compression,M=I!==u.utf8encode,z=a.transformTo("string",I(L.name)),$=a.transformTo("string",u.utf8encode(L.name)),Z=L.comment,G=a.transformTo("string",I(Z)),S=a.transformTo("string",u.utf8encode(Z)),F=$.length!==L.name.length,m=S.length!==Z.length,tt="",vt="",et="",St=L.dir,ct=L.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};v&&!f||(ft.crc32=d.crc32,ft.compressedSize=d.compressedSize,ft.uncompressedSize=d.uncompressedSize);var X=0;v&&(X|=8),M||!F&&!m||(X|=2048);var K=0,Ct=0;St&&(K|=16),y==="UNIX"?(Ct=798,K|=function(nt,Et){var Nt=nt;return nt||(Nt=Et?16893:33204),(65535&Nt)<<16}(L.unixPermissions,St)):(Ct=20,K|=function(nt){return 63&(nt||0)}(L.dosPermissions)),E=ct.getUTCHours(),E<<=6,E|=ct.getUTCMinutes(),E<<=5,E|=ct.getUTCSeconds()/2,k=ct.getUTCFullYear()-1980,k<<=4,k|=ct.getUTCMonth()+1,k<<=5,k|=ct.getUTCDate(),F&&(vt=i(1,1)+i(h(z),4)+$,tt+="up"+i(vt.length,2)+vt),m&&(et=i(1,1)+i(h(G),4)+S,tt+="uc"+i(et.length,2)+et);var _t="";return _t+=`
\0`,_t+=i(X,2),_t+=U.magic,_t+=i(E,2),_t+=i(k,2),_t+=i(ft.crc32,4),_t+=i(ft.compressedSize,4),_t+=i(ft.uncompressedSize,4),_t+=i(z.length,2),_t+=i(tt.length,2),{fileRecord:p.LOCAL_FILE_HEADER+_t+z+tt,dirRecord:p.CENTRAL_FILE_HEADER+i(Ct,2)+_t+i(G.length,2)+"\0\0\0\0"+i(K,4)+i(b,4)+z+tt+G}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),h=n("../crc32"),p=n("../signature");function g(d,v,f,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=f,this.encodeFileName=b,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(g,l),g.prototype.push=function(d){var v=d.meta.percent||0,f=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:f?(v+100*(f-b-1))/f:100}}))},g.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var v=this.streamFiles&&!d.file.dir;if(v){var f=s(d,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(d){this.accumulate=!1;var v=this.streamFiles&&!d.file.dir,f=s(d,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),v)this.push({data:function(b){return p.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var d=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var f=this.bytesWritten-d,b=function(y,I,E,k,L){var U=a.transformTo("string",L(k));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(I,4)+i(E,4)+i(U.length,2)+U}(this.dirRecords.length,f,d,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(d){this._sources.push(d);var v=this;return d.on("data",function(f){v.processChunk(f)}),d.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),d.on("error",function(f){v.error(f)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(d){var v=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var f=0;f<v.length;f++)try{v[f].error(d)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,v=0;v<d.length;v++)d[v].lock()},o.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,r){var i=n("../compressions"),s=n("./ZipFileWorker");r.generateWorker=function(a,l,u){var h=new s(l.streamFiles,u,l.platform,l.encodeFileName),p=0;try{a.forEach(function(g,d){p++;var v=function(I,E){var k=I||E,L=i[k];if(!L)throw new Error(k+" is not a valid compression method !");return L}(d.options.compression,l.compression),f=d.options.compressionOptions||l.compressionOptions||{},b=d.dir,y=d.date;d._compressWorker(v,f).withStreamInfo("file",{name:g,dir:b,date:y,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(g){h.error(g)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,r){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(s,a){return new i().loadAsync(s,a)},i.external=n("./external"),o.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,r){var i=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function p(g){return new s.Promise(function(d,v){var f=g.decompressed.getContentWorker().pipe(new u);f.on("error",function(b){v(b)}).on("end",function(){f.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}o.exports=function(g,d){var v=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),h.isNode&&h.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",g,!0,d.optimizedBinaryString,d.base64).then(function(f){var b=new l(d);return b.load(f),b}).then(function(f){var b=[s.Promise.resolve(f)],y=f.files;if(d.checkCRC32)for(var I=0;I<y.length;I++)b.push(p(y[I]));return s.Promise.all(b)}).then(function(f){for(var b=f.shift(),y=b.files,I=0;I<y.length;I++){var E=y[I],k=E.fileNameStr,L=i.resolve(E.fileNameStr);v.file(L,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:d.createFolders}),E.dir||(v.file(L).unsafeOriginalName=k)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,r){var i=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,r){var i=n("readable-stream").Readable;function s(a,l,u){i.call(this,l),this._helper=a;var h=this;a.on("data",function(p,g){h.push(p)||h._helper.pause(),u&&u(g)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,r){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,o,r){function i(L,U,M){var z,$=a.getTypeOf(U),Z=a.extend(M||{},h);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(L=y(L)),Z.createFolders&&(z=b(L))&&I.call(this,z,!0);var G=$==="string"&&Z.binary===!1&&Z.base64===!1;M&&M.binary!==void 0||(Z.binary=!G),(U instanceof p&&U.uncompressedSize===0||Z.dir||!U||U.length===0)&&(Z.base64=!1,Z.binary=!0,U="",Z.compression="STORE",$="string");var S=null;S=U instanceof p||U instanceof l?U:v.isNode&&v.isStream(U)?new f(L,U):a.prepareContent(L,U,Z.binary,Z.optimizedBinaryString,Z.base64);var F=new g(L,S,Z);this.files[L]=F}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),h=n("./defaults"),p=n("./compressedObject"),g=n("./zipObject"),d=n("./generate"),v=n("./nodejsUtils"),f=n("./nodejs/NodejsStreamInputAdapter"),b=function(L){L.slice(-1)==="/"&&(L=L.substring(0,L.length-1));var U=L.lastIndexOf("/");return 0<U?L.substring(0,U):""},y=function(L){return L.slice(-1)!=="/"&&(L+="/"),L},I=function(L,U){return U=U!==void 0?U:h.createFolders,L=y(L),this.files[L]||i.call(this,L,null,{dir:!0,createFolders:U}),this.files[L]};function E(L){return Object.prototype.toString.call(L)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(L){var U,M,z;for(U in this.files)z=this.files[U],(M=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&L(M,z)},filter:function(L){var U=[];return this.forEach(function(M,z){L(M,z)&&U.push(z)}),U},file:function(L,U,M){if(arguments.length!==1)return L=this.root+L,i.call(this,L,U,M),this;if(E(L)){var z=L;return this.filter(function(Z,G){return!G.dir&&z.test(Z)})}var $=this.files[this.root+L];return $&&!$.dir?$:null},folder:function(L){if(!L)return this;if(E(L))return this.filter(function($,Z){return Z.dir&&L.test($)});var U=this.root+L,M=I.call(this,U),z=this.clone();return z.root=M.name,z},remove:function(L){L=this.root+L;var U=this.files[L];if(U||(L.slice(-1)!=="/"&&(L+="/"),U=this.files[L]),U&&!U.dir)delete this.files[L];else for(var M=this.filter(function($,Z){return Z.name.slice(0,L.length)===L}),z=0;z<M.length;z++)delete this.files[M[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(L){var U,M={};try{if((M=a.extend(L||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");a.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var z=M.comment||this.comment||"";U=d.generateWorker(this,M,z)}catch($){(U=new l("error")).error($)}return new u(U,M.type||"string",M.mimeType)},generateAsync:function(L,U){return this.generateInternalStream(L).accumulate(U)},generateNodeStream:function(L,U){return(L=L||{}).type||(L.type="nodebuffer"),this.generateInternalStream(L).toNodejsStream(U)}};o.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,r){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,r){var i=n("./DataReader");function s(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),p=a.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===u&&this.data[g+2]===h&&this.data[g+3]===p)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),h=a.charCodeAt(2),p=a.charCodeAt(3),g=this.readData(4);return l===g[0]&&u===g[1]&&h===g[2]&&p===g[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,r){var i=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,r){var i=n("./Uint8ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,r){var i=n("./DataReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,r){var i=n("./ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,r){var i=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");o.exports=function(p){var g=i.getTypeOf(p);return i.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new u(p):s.uint8array?new h(i.transformTo("uint8array",p)):new a(i.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,r){var i=n("./GenericWorker"),s=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,r){var i=n("./GenericWorker"),s=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,r){var i=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,r){var i=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=i.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,r){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=i},{}],29:[function(n,o,r){var i=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),h=n("../external"),p=null;if(u.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,f){return new h.Promise(function(b,y){var I=[],E=v._internalType,k=v._outputType,L=v._mimeType;v.on("data",function(U,M){I.push(U),f&&f(M)}).on("error",function(U){I=[],y(U)}).on("end",function(){try{var U=function(M,z,$){switch(M){case"blob":return i.newBlob(i.transformTo("arraybuffer",z),$);case"base64":return l.encode(z);default:return i.transformTo(M,z)}}(k,function(M,z){var $,Z=0,G=null,S=0;for($=0;$<z.length;$++)S+=z[$].length;switch(M){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(G=new Uint8Array(S),$=0;$<z.length;$++)G.set(z[$],Z),Z+=z[$].length;return G;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+M+"'")}}(E,I),L);b(U)}catch(M){y(M)}I=[]}).resume()})}function d(v,f,b){var y=f;switch(f){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=f,this._mimeType=b,i.checkSupport(y),this._worker=v.pipe(new s(y)),v.lock()}catch(I){this._worker=new a("error"),this._worker.error(I)}}d.prototype={accumulate:function(v){return g(this,v)},on:function(v,f){var b=this;return v==="data"?this._worker.on(v,function(y){f.call(b,y.data,y.meta)}):this._worker.on(v,function(){i.delay(f,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},v)}},o.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,r){for(var i=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}r.utf8encode=function(d){return s.nodebuffer?a.newBufferFrom(d,"utf-8"):function(v){var f,b,y,I,E,k=v.length,L=0;for(I=0;I<k;I++)(64512&(b=v.charCodeAt(I)))==55296&&I+1<k&&(64512&(y=v.charCodeAt(I+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),I++),L+=b<128?1:b<2048?2:b<65536?3:4;for(f=s.uint8array?new Uint8Array(L):new Array(L),I=E=0;E<L;I++)(64512&(b=v.charCodeAt(I)))==55296&&I+1<k&&(64512&(y=v.charCodeAt(I+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),I++),b<128?f[E++]=b:(b<2048?f[E++]=192|b>>>6:(b<65536?f[E++]=224|b>>>12:(f[E++]=240|b>>>18,f[E++]=128|b>>>12&63),f[E++]=128|b>>>6&63),f[E++]=128|63&b);return f}(d)},r.utf8decode=function(d){return s.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(v){var f,b,y,I,E=v.length,k=new Array(2*E);for(f=b=0;f<E;)if((y=v[f++])<128)k[b++]=y;else if(4<(I=u[y]))k[b++]=65533,f+=I-1;else{for(y&=I===2?31:I===3?15:7;1<I&&f<E;)y=y<<6|63&v[f++],I--;1<I?k[b++]=65533:y<65536?k[b++]=y:(y-=65536,k[b++]=55296|y>>10&1023,k[b++]=56320|1023&y)}return k.length!==b&&(k.subarray?k=k.subarray(0,b):k.length=b),i.applyFromCharCode(k)}(d=i.transformTo(s.uint8array?"uint8array":"array",d))},i.inherits(p,l),p.prototype.processChunk=function(d){var v=i.transformTo(s.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=v;(v=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),v.set(f,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=function(I,E){var k;for((E=E||I.length)>I.length&&(E=I.length),k=E-1;0<=k&&(192&I[k])==128;)k--;return k<0||k===0?E:k+u[I[k]]>E?k:E}(v),y=v;b!==v.length&&(s.uint8array?(y=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(y=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:r.utf8decode(y),meta:d.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,i.inherits(g,l),g.prototype.processChunk=function(d){this.push({data:r.utf8encode(d.data),meta:d.meta})},r.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,r){var i=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(f){return f}function h(f,b){for(var y=0;y<f.length;++y)b[y]=255&f.charCodeAt(y);return b}n("setimmediate"),r.newBlob=function(f,b){r.checkSupport("blob");try{return new Blob([f],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(f),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(f,b,y){var I=[],E=0,k=f.length;if(k<=y)return String.fromCharCode.apply(null,f);for(;E<k;)b==="array"||b==="nodebuffer"?I.push(String.fromCharCode.apply(null,f.slice(E,Math.min(E+y,k)))):I.push(String.fromCharCode.apply(null,f.subarray(E,Math.min(E+y,k)))),E+=y;return I.join("")},stringifyByChar:function(f){for(var b="",y=0;y<f.length;y++)b+=String.fromCharCode(f[y]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function g(f){var b=65536,y=r.getTypeOf(f),I=!0;if(y==="uint8array"?I=p.applyCanBeUsed.uint8array:y==="nodebuffer"&&(I=p.applyCanBeUsed.nodebuffer),I)for(;1<b;)try{return p.stringifyByChunk(f,y,b)}catch{b=Math.floor(b/2)}return p.stringifyByChar(f)}function d(f,b){for(var y=0;y<f.length;y++)b[y]=f[y];return b}r.applyFromCharCode=g;var v={};v.string={string:u,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return v.string.uint8array(f).buffer},uint8array:function(f){return h(f,new Uint8Array(f.length))},nodebuffer:function(f){return h(f,a.allocBuffer(f.length))}},v.array={string:g,array:u,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(f)}},v.arraybuffer={string:function(f){return g(new Uint8Array(f))},array:function(f){return d(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:u,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(new Uint8Array(f))}},v.uint8array={string:g,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:u,nodebuffer:function(f){return a.newBufferFrom(f)}},v.nodebuffer={string:g,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return v.nodebuffer.uint8array(f).buffer},uint8array:function(f){return d(f,new Uint8Array(f.length))},nodebuffer:u},r.transformTo=function(f,b){if(b=b||"",!f)return b;r.checkSupport(f);var y=r.getTypeOf(b);return v[y][f](b)},r.resolve=function(f){for(var b=f.split("/"),y=[],I=0;I<b.length;I++){var E=b[I];E==="."||E===""&&I!==0&&I!==b.length-1||(E===".."?y.pop():y.push(E))}return y.join("/")},r.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(f)?"nodebuffer":i.uint8array&&f instanceof Uint8Array?"uint8array":i.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(f){if(!i[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(f){var b,y,I="";for(y=0;y<(f||"").length;y++)I+="\\x"+((b=f.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return I},r.delay=function(f,b,y){setImmediate(function(){f.apply(y||null,b||[])})},r.inherits=function(f,b){function y(){}y.prototype=b.prototype,f.prototype=new y},r.extend=function(){var f,b,y={};for(f=0;f<arguments.length;f++)for(b in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],b)&&y[b]===void 0&&(y[b]=arguments[f][b]);return y},r.prepareContent=function(f,b,y,I,E){return l.Promise.resolve(b).then(function(k){return i.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(L,U){var M=new FileReader;M.onload=function(z){L(z.target.result)},M.onerror=function(z){U(z.target.error)},M.readAsArrayBuffer(k)}):k}).then(function(k){var L=r.getTypeOf(k);return L?(L==="arraybuffer"?k=r.transformTo("uint8array",k):L==="string"&&(E?k=s.decode(k):y&&I!==!0&&(k=function(U){return h(U,i.uint8array?new Uint8Array(U.length):new Array(U.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,r){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(p)+")")}},isSignature:function(p,g){var d=this.reader.index;this.reader.setIndex(p);var v=this.reader.readString(4)===g;return this.reader.setIndex(d),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=u.uint8array?"uint8array":"array",d=s.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,d,v=this.zip64EndOfCentralSize-44;0<v;)p=this.reader.readInt(2),g=this.reader.readInt(4),d=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var v=g-d;if(0<v)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(p){this.reader=i(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,r){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),h=n("./compressions"),p=n("./support");function g(d,v){this.options=d,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var v,f;if(d.skip(22),this.fileNameLength=d.readInt(2),f=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(b){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===b)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var v=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(v),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var v,f,b,y=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<y;)v=d.readInt(2),f=d.readInt(2),b=d.readData(f),this.extraFields[v]={id:v,length:f,value:b};d.setIndex(y)},handleUTF8:function(){var d=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var f=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var v=i(d.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var v=i(d.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null}},o.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,r){function i(v,f,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=f,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),h=n("./stream/GenericWorker");i.prototype={internalStream:function(v){var f=null,b="string";try{if(!v)throw new Error("No output type specified.");var y=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),f=this._decompressWorker();var I=!this._dataBinary;I&&!y&&(f=f.pipe(new l.Utf8EncodeWorker)),!I&&y&&(f=f.pipe(new l.Utf8DecodeWorker))}catch(E){(f=new h("error")).error(E)}return new s(f,b,"")},async:function(v,f){return this.internalStream(v).accumulate(f)},nodeStream:function(v,f){return this.internalStream(v||"nodebuffer").toNodejsStream(f)},_compressWorker:function(v,f){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,v,f)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<p.length;d++)i.prototype[p[d]]=g;o.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,r){(function(i){var s,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,h=new l(v),p=i.document.createTextNode("");h.observe(p,{characterData:!0}),s=function(){p.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var f=i.document.createElement("script");f.onreadystatechange=function(){v(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},i.document.documentElement.appendChild(f)}:function(){setTimeout(v,0)};else{var g=new i.MessageChannel;g.port1.onmessage=v,s=function(){g.port2.postMessage(0)}}var d=[];function v(){var f,b;a=!0;for(var y=d.length;y;){for(b=d,d=[],f=-1;++f<y;)b[f]();y=d.length}a=!1}o.exports=function(f){d.push(f)!==1||a||s()}}).call(this,typeof un<"u"?un:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,r){var i=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function p(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==s&&f(this,y)}function g(y,I,E){this.promise=y,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function d(y,I,E){i(function(){var k;try{k=I(E)}catch(L){return a.reject(y,L)}k===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,k)})}function v(y){var I=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof I=="function")return function(){I.apply(y,arguments)}}function f(y,I){var E=!1;function k(M){E||(E=!0,a.reject(y,M))}function L(M){E||(E=!0,a.resolve(y,M))}var U=b(function(){I(L,k)});U.status==="error"&&k(U.value)}function b(y,I){var E={};try{E.value=y(I),E.status="success"}catch(k){E.status="error",E.value=k}return E}(o.exports=p).prototype.finally=function(y){if(typeof y!="function")return this;var I=this.constructor;return this.then(function(E){return I.resolve(y()).then(function(){return E})},function(E){return I.resolve(y()).then(function(){throw E})})},p.prototype.catch=function(y){return this.then(null,y)},p.prototype.then=function(y,I){if(typeof y!="function"&&this.state===u||typeof I!="function"&&this.state===l)return this;var E=new this.constructor(s);return this.state!==h?d(E,this.state===u?y:I,this.outcome):this.queue.push(new g(E,y,I)),E},g.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},g.prototype.otherCallFulfilled=function(y){d(this.promise,this.onFulfilled,y)},g.prototype.callRejected=function(y){a.reject(this.promise,y)},g.prototype.otherCallRejected=function(y){d(this.promise,this.onRejected,y)},a.resolve=function(y,I){var E=b(v,I);if(E.status==="error")return a.reject(y,E.value);var k=E.value;if(k)f(y,k);else{y.state=u,y.outcome=I;for(var L=-1,U=y.queue.length;++L<U;)y.queue[L].callFulfilled(I)}return y},a.reject=function(y,I){y.state=l,y.outcome=I;for(var E=-1,k=y.queue.length;++E<k;)y.queue[E].callRejected(I);return y},p.resolve=function(y){return y instanceof this?y:a.resolve(new this(s),y)},p.reject=function(y){var I=new this(s);return a.reject(I,y)},p.all=function(y){var I=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,k=!1;if(!E)return this.resolve([]);for(var L=new Array(E),U=0,M=-1,z=new this(s);++M<E;)$(y[M],M);return z;function $(Z,G){I.resolve(Z).then(function(S){L[G]=S,++U!==E||k||(k=!0,a.resolve(z,L))},function(S){k||(k=!0,a.reject(z,S))})}},p.race=function(y){var I=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,k=!1;if(!E)return this.resolve([]);for(var L=-1,U=new this(s);++L<E;)M=y[L],I.resolve(M).then(function(z){k||(k=!0,a.resolve(U,z))},function(z){k||(k=!0,a.reject(U,z))});var M;return U}},{immediate:36}],38:[function(n,o,r){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,r){var i=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),h=Object.prototype.toString,p=0,g=-1,d=0,v=8;function f(y){if(!(this instanceof f))return new f(y);this.options=s.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},y||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var E=i.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(E!==p)throw new Error(l[E]);if(I.header&&i.deflateSetHeader(this.strm,I.header),I.dictionary){var k;if(k=typeof I.dictionary=="string"?a.string2buf(I.dictionary):h.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(E=i.deflateSetDictionary(this.strm,k))!==p)throw new Error(l[E]);this._dict_set=!0}}function b(y,I){var E=new f(I);if(E.push(y,!0),E.err)throw E.msg||l[E.err];return E.result}f.prototype.push=function(y,I){var E,k,L=this.strm,U=this.options.chunkSize;if(this.ended)return!1;k=I===~~I?I:I===!0?4:0,typeof y=="string"?L.input=a.string2buf(y):h.call(y)==="[object ArrayBuffer]"?L.input=new Uint8Array(y):L.input=y,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(U),L.next_out=0,L.avail_out=U),(E=i.deflate(L,k))!==1&&E!==p)return this.onEnd(E),!(this.ended=!0);L.avail_out!==0&&(L.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(L.output,L.next_out))):this.onData(s.shrinkBuf(L.output,L.next_out)))}while((0<L.avail_in||L.avail_out===0)&&E!==1);return k===4?(E=i.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===p):k!==2||(this.onEnd(p),!(L.avail_out=0))},f.prototype.onData=function(y){this.chunks.push(y)},f.prototype.onEnd=function(y){y===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},r.Deflate=f,r.deflate=b,r.deflateRaw=function(y,I){return(I=I||{}).raw=!0,b(y,I)},r.gzip=function(y,I){return(I=I||{}).gzip=!0,b(y,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,r){var i=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),h=n("./zlib/zstream"),p=n("./zlib/gzheader"),g=Object.prototype.toString;function d(f){if(!(this instanceof d))return new d(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||f&&f.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,b.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new p,i.inflateGetHeader(this.strm,this.header)}function v(f,b){var y=new d(b);if(y.push(f,!0),y.err)throw y.msg||u[y.err];return y.result}d.prototype.push=function(f,b){var y,I,E,k,L,U,M=this.strm,z=this.options.chunkSize,$=this.options.dictionary,Z=!1;if(this.ended)return!1;I=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof f=="string"?M.input=a.binstring2buf(f):g.call(f)==="[object ArrayBuffer]"?M.input=new Uint8Array(f):M.input=f,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(z),M.next_out=0,M.avail_out=z),(y=i.inflate(M,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&$&&(U=typeof $=="string"?a.string2buf($):g.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,y=i.inflateSetDictionary(this.strm,U)),y===l.Z_BUF_ERROR&&Z===!0&&(y=l.Z_OK,Z=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&y!==l.Z_STREAM_END&&(M.avail_in!==0||I!==l.Z_FINISH&&I!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=a.utf8border(M.output,M.next_out),k=M.next_out-E,L=a.buf2string(M.output,E),M.next_out=k,M.avail_out=z-k,k&&s.arraySet(M.output,M.output,E,k,0),this.onData(L)):this.onData(s.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(Z=!0)}while((0<M.avail_in||M.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(I=l.Z_FINISH),I===l.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):I!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(M.avail_out=0))},d.prototype.onData=function(f){this.chunks.push(f)},d.prototype.onEnd=function(f){f===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},r.Inflate=d,r.inflate=v,r.inflateRaw=function(f,b){return(b=b||{}).raw=!0,v(f,b)},r.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,r){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(l[p]=h[p])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,h,p,g){if(u.subarray&&l.subarray)l.set(u.subarray(h,h+p),g);else for(var d=0;d<p;d++)l[g+d]=u[h+d]},flattenChunks:function(l){var u,h,p,g,d,v;for(u=p=0,h=l.length;u<h;u++)p+=l[u].length;for(v=new Uint8Array(p),u=g=0,h=l.length;u<h;u++)d=l[u],v.set(d,g),g+=d.length;return v}},a={arraySet:function(l,u,h,p,g){for(var d=0;d<p;d++)l[g+d]=u[h+d]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(i)},{}],42:[function(n,o,r){var i=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(p,g){if(g<65537&&(p.subarray&&a||!p.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(p,g));for(var d="",v=0;v<g;v++)d+=String.fromCharCode(p[v]);return d}l[254]=l[254]=1,r.string2buf=function(p){var g,d,v,f,b,y=p.length,I=0;for(f=0;f<y;f++)(64512&(d=p.charCodeAt(f)))==55296&&f+1<y&&(64512&(v=p.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),f++),I+=d<128?1:d<2048?2:d<65536?3:4;for(g=new i.Buf8(I),f=b=0;b<I;f++)(64512&(d=p.charCodeAt(f)))==55296&&f+1<y&&(64512&(v=p.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),f++),d<128?g[b++]=d:(d<2048?g[b++]=192|d>>>6:(d<65536?g[b++]=224|d>>>12:(g[b++]=240|d>>>18,g[b++]=128|d>>>12&63),g[b++]=128|d>>>6&63),g[b++]=128|63&d);return g},r.buf2binstring=function(p){return h(p,p.length)},r.binstring2buf=function(p){for(var g=new i.Buf8(p.length),d=0,v=g.length;d<v;d++)g[d]=p.charCodeAt(d);return g},r.buf2string=function(p,g){var d,v,f,b,y=g||p.length,I=new Array(2*y);for(d=v=0;d<y;)if((f=p[d++])<128)I[v++]=f;else if(4<(b=l[f]))I[v++]=65533,d+=b-1;else{for(f&=b===2?31:b===3?15:7;1<b&&d<y;)f=f<<6|63&p[d++],b--;1<b?I[v++]=65533:f<65536?I[v++]=f:(f-=65536,I[v++]=55296|f>>10&1023,I[v++]=56320|1023&f)}return h(I,v)},r.utf8border=function(p,g){var d;for((g=g||p.length)>p.length&&(g=p.length),d=g-1;0<=d&&(192&p[d])==128;)d--;return d<0||d===0?g:d+l[p[d]]>g?d:g}},{"./common":41}],43:[function(n,o,r){o.exports=function(i,s,a,l){for(var u=65535&i|0,h=i>>>16&65535|0,p=0;a!==0;){for(a-=p=2e3<a?2e3:a;h=h+(u=u+s[l++]|0)|0,--p;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(n,o,r){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,r){var i=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();o.exports=function(s,a,l,u){var h=i,p=u+l;s^=-1;for(var g=u;g<p;g++)s=s>>>8^h[255&(s^a[g])];return-1^s}},{}],46:[function(n,o,r){var i,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),h=n("./messages"),p=0,g=4,d=0,v=-2,f=-1,b=4,y=2,I=8,E=9,k=286,L=30,U=19,M=2*k+1,z=15,$=3,Z=258,G=Z+$+1,S=42,F=113,m=1,tt=2,vt=3,et=4;function St(c,B){return c.msg=h[B],B}function ct(c){return(c<<1)-(4<c?9:0)}function ft(c){for(var B=c.length;0<=--B;)c[B]=0}function X(c){var B=c.state,A=B.pending;A>c.avail_out&&(A=c.avail_out),A!==0&&(s.arraySet(c.output,B.pending_buf,B.pending_out,A,c.next_out),c.next_out+=A,B.pending_out+=A,c.total_out+=A,c.avail_out-=A,B.pending-=A,B.pending===0&&(B.pending_out=0))}function K(c,B){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,B),c.block_start=c.strstart,X(c.strm)}function Ct(c,B){c.pending_buf[c.pending++]=B}function _t(c,B){c.pending_buf[c.pending++]=B>>>8&255,c.pending_buf[c.pending++]=255&B}function nt(c,B){var A,C,_=c.max_chain_length,x=c.strstart,W=c.prev_length,V=c.nice_match,R=c.strstart>c.w_size-G?c.strstart-(c.w_size-G):0,J=c.window,it=c.w_mask,ot=c.prev,pt=c.strstart+Z,Tt=J[x+W-1],kt=J[x+W];c.prev_length>=c.good_match&&(_>>=2),V>c.lookahead&&(V=c.lookahead);do if(J[(A=B)+W]===kt&&J[A+W-1]===Tt&&J[A]===J[x]&&J[++A]===J[x+1]){x+=2,A++;do;while(J[++x]===J[++A]&&J[++x]===J[++A]&&J[++x]===J[++A]&&J[++x]===J[++A]&&J[++x]===J[++A]&&J[++x]===J[++A]&&J[++x]===J[++A]&&J[++x]===J[++A]&&x<pt);if(C=Z-(pt-x),x=pt-Z,W<C){if(c.match_start=B,V<=(W=C))break;Tt=J[x+W-1],kt=J[x+W]}}while((B=ot[B&it])>R&&--_!=0);return W<=c.lookahead?W:c.lookahead}function Et(c){var B,A,C,_,x,W,V,R,J,it,ot=c.w_size;do{if(_=c.window_size-c.lookahead-c.strstart,c.strstart>=ot+(ot-G)){for(s.arraySet(c.window,c.window,ot,ot,0),c.match_start-=ot,c.strstart-=ot,c.block_start-=ot,B=A=c.hash_size;C=c.head[--B],c.head[B]=ot<=C?C-ot:0,--A;);for(B=A=ot;C=c.prev[--B],c.prev[B]=ot<=C?C-ot:0,--A;);_+=ot}if(c.strm.avail_in===0)break;if(W=c.strm,V=c.window,R=c.strstart+c.lookahead,J=_,it=void 0,it=W.avail_in,J<it&&(it=J),A=it===0?0:(W.avail_in-=it,s.arraySet(V,W.input,W.next_in,it,R),W.state.wrap===1?W.adler=l(W.adler,V,it,R):W.state.wrap===2&&(W.adler=u(W.adler,V,it,R)),W.next_in+=it,W.total_in+=it,it),c.lookahead+=A,c.lookahead+c.insert>=$)for(x=c.strstart-c.insert,c.ins_h=c.window[x],c.ins_h=(c.ins_h<<c.hash_shift^c.window[x+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[x+$-1])&c.hash_mask,c.prev[x&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=x,x++,c.insert--,!(c.lookahead+c.insert<$)););}while(c.lookahead<G&&c.strm.avail_in!==0)}function Nt(c,B){for(var A,C;;){if(c.lookahead<G){if(Et(c),c.lookahead<G&&B===p)return m;if(c.lookahead===0)break}if(A=0,c.lookahead>=$&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+$-1])&c.hash_mask,A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),A!==0&&c.strstart-A<=c.w_size-G&&(c.match_length=nt(c,A)),c.match_length>=$)if(C=a._tr_tally(c,c.strstart-c.match_start,c.match_length-$),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=$){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+$-1])&c.hash_mask,A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else C=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(C&&(K(c,!1),c.strm.avail_out===0))return m}return c.insert=c.strstart<$-1?c.strstart:$-1,B===g?(K(c,!0),c.strm.avail_out===0?vt:et):c.last_lit&&(K(c,!1),c.strm.avail_out===0)?m:tt}function It(c,B){for(var A,C,_;;){if(c.lookahead<G){if(Et(c),c.lookahead<G&&B===p)return m;if(c.lookahead===0)break}if(A=0,c.lookahead>=$&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+$-1])&c.hash_mask,A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=$-1,A!==0&&c.prev_length<c.max_lazy_match&&c.strstart-A<=c.w_size-G&&(c.match_length=nt(c,A),c.match_length<=5&&(c.strategy===1||c.match_length===$&&4096<c.strstart-c.match_start)&&(c.match_length=$-1)),c.prev_length>=$&&c.match_length<=c.prev_length){for(_=c.strstart+c.lookahead-$,C=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-$),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=_&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+$-1])&c.hash_mask,A=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=$-1,c.strstart++,C&&(K(c,!1),c.strm.avail_out===0))return m}else if(c.match_available){if((C=a._tr_tally(c,0,c.window[c.strstart-1]))&&K(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return m}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(C=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<$-1?c.strstart:$-1,B===g?(K(c,!0),c.strm.avail_out===0?vt:et):c.last_lit&&(K(c,!1),c.strm.avail_out===0)?m:tt}function Bt(c,B,A,C,_){this.good_length=c,this.max_lazy=B,this.nice_length=A,this.max_chain=C,this.func=_}function Xt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*M),this.dyn_dtree=new s.Buf16(2*(2*L+1)),this.bl_tree=new s.Buf16(2*(2*U+1)),ft(this.dyn_ltree),ft(this.dyn_dtree),ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(z+1),this.heap=new s.Buf16(2*k+1),ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*k+1),ft(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jt(c){var B;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=y,(B=c.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?S:F,c.adler=B.wrap===2?0:1,B.last_flush=p,a._tr_init(B),d):St(c,v)}function T(c){var B=Jt(c);return B===d&&function(A){A.window_size=2*A.w_size,ft(A.head),A.max_lazy_match=i[A.level].max_lazy,A.good_match=i[A.level].good_length,A.nice_match=i[A.level].nice_length,A.max_chain_length=i[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=$-1,A.match_available=0,A.ins_h=0}(c.state),B}function j(c,B,A,C,_,x){if(!c)return v;var W=1;if(B===f&&(B=6),C<0?(W=0,C=-C):15<C&&(W=2,C-=16),_<1||E<_||A!==I||C<8||15<C||B<0||9<B||x<0||b<x)return St(c,v);C===8&&(C=9);var V=new Xt;return(c.state=V).strm=c,V.wrap=W,V.gzhead=null,V.w_bits=C,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=_+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+$-1)/$),V.window=new s.Buf8(2*V.w_size),V.head=new s.Buf16(V.hash_size),V.prev=new s.Buf16(V.w_size),V.lit_bufsize=1<<_+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new s.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=B,V.strategy=x,V.method=A,T(c)}i=[new Bt(0,0,0,0,function(c,B){var A=65535;for(A>c.pending_buf_size-5&&(A=c.pending_buf_size-5);;){if(c.lookahead<=1){if(Et(c),c.lookahead===0&&B===p)return m;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var C=c.block_start+A;if((c.strstart===0||c.strstart>=C)&&(c.lookahead=c.strstart-C,c.strstart=C,K(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-G&&(K(c,!1),c.strm.avail_out===0))return m}return c.insert=0,B===g?(K(c,!0),c.strm.avail_out===0?vt:et):(c.strstart>c.block_start&&(K(c,!1),c.strm.avail_out),m)}),new Bt(4,4,8,4,Nt),new Bt(4,5,16,8,Nt),new Bt(4,6,32,32,Nt),new Bt(4,4,16,16,It),new Bt(8,16,32,32,It),new Bt(8,16,128,128,It),new Bt(8,32,128,256,It),new Bt(32,128,258,1024,It),new Bt(32,258,258,4096,It)],r.deflateInit=function(c,B){return j(c,B,I,15,8,0)},r.deflateInit2=j,r.deflateReset=T,r.deflateResetKeep=Jt,r.deflateSetHeader=function(c,B){return c&&c.state?c.state.wrap!==2?v:(c.state.gzhead=B,d):v},r.deflate=function(c,B){var A,C,_,x;if(!c||!c.state||5<B||B<0)return c?St(c,v):v;if(C=c.state,!c.output||!c.input&&c.avail_in!==0||C.status===666&&B!==g)return St(c,c.avail_out===0?-5:v);if(C.strm=c,A=C.last_flush,C.last_flush=B,C.status===S)if(C.wrap===2)c.adler=0,Ct(C,31),Ct(C,139),Ct(C,8),C.gzhead?(Ct(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),Ct(C,255&C.gzhead.time),Ct(C,C.gzhead.time>>8&255),Ct(C,C.gzhead.time>>16&255),Ct(C,C.gzhead.time>>24&255),Ct(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ct(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(Ct(C,255&C.gzhead.extra.length),Ct(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(c.adler=u(c.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(Ct(C,0),Ct(C,0),Ct(C,0),Ct(C,0),Ct(C,0),Ct(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ct(C,3),C.status=F);else{var W=I+(C.w_bits-8<<4)<<8;W|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(W|=32),W+=31-W%31,C.status=F,_t(C,W),C.strstart!==0&&(_t(C,c.adler>>>16),_t(C,65535&c.adler)),c.adler=1}if(C.status===69)if(C.gzhead.extra){for(_=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),X(c),_=C.pending,C.pending!==C.pending_buf_size));)Ct(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),X(c),_=C.pending,C.pending===C.pending_buf_size)){x=1;break}x=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,Ct(C,x)}while(x!==0);C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),x===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),X(c),_=C.pending,C.pending===C.pending_buf_size)){x=1;break}x=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,Ct(C,x)}while(x!==0);C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),x===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&X(c),C.pending+2<=C.pending_buf_size&&(Ct(C,255&c.adler),Ct(C,c.adler>>8&255),c.adler=0,C.status=F)):C.status=F),C.pending!==0){if(X(c),c.avail_out===0)return C.last_flush=-1,d}else if(c.avail_in===0&&ct(B)<=ct(A)&&B!==g)return St(c,-5);if(C.status===666&&c.avail_in!==0)return St(c,-5);if(c.avail_in!==0||C.lookahead!==0||B!==p&&C.status!==666){var V=C.strategy===2?function(R,J){for(var it;;){if(R.lookahead===0&&(Et(R),R.lookahead===0)){if(J===p)return m;break}if(R.match_length=0,it=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,it&&(K(R,!1),R.strm.avail_out===0))return m}return R.insert=0,J===g?(K(R,!0),R.strm.avail_out===0?vt:et):R.last_lit&&(K(R,!1),R.strm.avail_out===0)?m:tt}(C,B):C.strategy===3?function(R,J){for(var it,ot,pt,Tt,kt=R.window;;){if(R.lookahead<=Z){if(Et(R),R.lookahead<=Z&&J===p)return m;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=$&&0<R.strstart&&(ot=kt[pt=R.strstart-1])===kt[++pt]&&ot===kt[++pt]&&ot===kt[++pt]){Tt=R.strstart+Z;do;while(ot===kt[++pt]&&ot===kt[++pt]&&ot===kt[++pt]&&ot===kt[++pt]&&ot===kt[++pt]&&ot===kt[++pt]&&ot===kt[++pt]&&ot===kt[++pt]&&pt<Tt);R.match_length=Z-(Tt-pt),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=$?(it=a._tr_tally(R,1,R.match_length-$),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(it=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),it&&(K(R,!1),R.strm.avail_out===0))return m}return R.insert=0,J===g?(K(R,!0),R.strm.avail_out===0?vt:et):R.last_lit&&(K(R,!1),R.strm.avail_out===0)?m:tt}(C,B):i[C.level].func(C,B);if(V!==vt&&V!==et||(C.status=666),V===m||V===vt)return c.avail_out===0&&(C.last_flush=-1),d;if(V===tt&&(B===1?a._tr_align(C):B!==5&&(a._tr_stored_block(C,0,0,!1),B===3&&(ft(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),X(c),c.avail_out===0))return C.last_flush=-1,d}return B!==g?d:C.wrap<=0?1:(C.wrap===2?(Ct(C,255&c.adler),Ct(C,c.adler>>8&255),Ct(C,c.adler>>16&255),Ct(C,c.adler>>24&255),Ct(C,255&c.total_in),Ct(C,c.total_in>>8&255),Ct(C,c.total_in>>16&255),Ct(C,c.total_in>>24&255)):(_t(C,c.adler>>>16),_t(C,65535&c.adler)),X(c),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?d:1)},r.deflateEnd=function(c){var B;return c&&c.state?(B=c.state.status)!==S&&B!==69&&B!==73&&B!==91&&B!==103&&B!==F&&B!==666?St(c,v):(c.state=null,B===F?St(c,-3):d):v},r.deflateSetDictionary=function(c,B){var A,C,_,x,W,V,R,J,it=B.length;if(!c||!c.state||(x=(A=c.state).wrap)===2||x===1&&A.status!==S||A.lookahead)return v;for(x===1&&(c.adler=l(c.adler,B,it,0)),A.wrap=0,it>=A.w_size&&(x===0&&(ft(A.head),A.strstart=0,A.block_start=0,A.insert=0),J=new s.Buf8(A.w_size),s.arraySet(J,B,it-A.w_size,A.w_size,0),B=J,it=A.w_size),W=c.avail_in,V=c.next_in,R=c.input,c.avail_in=it,c.next_in=0,c.input=B,Et(A);A.lookahead>=$;){for(C=A.strstart,_=A.lookahead-($-1);A.ins_h=(A.ins_h<<A.hash_shift^A.window[C+$-1])&A.hash_mask,A.prev[C&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=C,C++,--_;);A.strstart=C,A.lookahead=$-1,Et(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=$-1,A.match_available=0,c.next_in=V,c.input=R,c.avail_in=W,A.wrap=x,d},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,r){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,r){o.exports=function(i,s){var a,l,u,h,p,g,d,v,f,b,y,I,E,k,L,U,M,z,$,Z,G,S,F,m,tt;a=i.state,l=i.next_in,m=i.input,u=l+(i.avail_in-5),h=i.next_out,tt=i.output,p=h-(s-i.avail_out),g=h+(i.avail_out-257),d=a.dmax,v=a.wsize,f=a.whave,b=a.wnext,y=a.window,I=a.hold,E=a.bits,k=a.lencode,L=a.distcode,U=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;t:do{E<15&&(I+=m[l++]<<E,E+=8,I+=m[l++]<<E,E+=8),z=k[I&U];e:for(;;){if(I>>>=$=z>>>24,E-=$,($=z>>>16&255)===0)tt[h++]=65535&z;else{if(!(16&$)){if(!(64&$)){z=k[(65535&z)+(I&(1<<$)-1)];continue e}if(32&$){a.mode=12;break t}i.msg="invalid literal/length code",a.mode=30;break t}Z=65535&z,($&=15)&&(E<$&&(I+=m[l++]<<E,E+=8),Z+=I&(1<<$)-1,I>>>=$,E-=$),E<15&&(I+=m[l++]<<E,E+=8,I+=m[l++]<<E,E+=8),z=L[I&M];n:for(;;){if(I>>>=$=z>>>24,E-=$,!(16&($=z>>>16&255))){if(!(64&$)){z=L[(65535&z)+(I&(1<<$)-1)];continue n}i.msg="invalid distance code",a.mode=30;break t}if(G=65535&z,E<($&=15)&&(I+=m[l++]<<E,(E+=8)<$&&(I+=m[l++]<<E,E+=8)),d<(G+=I&(1<<$)-1)){i.msg="invalid distance too far back",a.mode=30;break t}if(I>>>=$,E-=$,($=h-p)<G){if(f<($=G-$)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break t}if(F=y,(S=0)===b){if(S+=v-$,$<Z){for(Z-=$;tt[h++]=y[S++],--$;);S=h-G,F=tt}}else if(b<$){if(S+=v+b-$,($-=b)<Z){for(Z-=$;tt[h++]=y[S++],--$;);if(S=0,b<Z){for(Z-=$=b;tt[h++]=y[S++],--$;);S=h-G,F=tt}}}else if(S+=b-$,$<Z){for(Z-=$;tt[h++]=y[S++],--$;);S=h-G,F=tt}for(;2<Z;)tt[h++]=F[S++],tt[h++]=F[S++],tt[h++]=F[S++],Z-=3;Z&&(tt[h++]=F[S++],1<Z&&(tt[h++]=F[S++]))}else{for(S=h-G;tt[h++]=tt[S++],tt[h++]=tt[S++],tt[h++]=tt[S++],2<(Z-=3););Z&&(tt[h++]=tt[S++],1<Z&&(tt[h++]=tt[S++]))}break}}break}}while(l<u&&h<g);l-=Z=E>>3,I&=(1<<(E-=Z<<3))-1,i.next_in=l,i.next_out=h,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=h<g?g-h+257:257-(h-g),a.hold=I,a.bits=E}},{}],49:[function(n,o,r){var i=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),h=1,p=2,g=0,d=-2,v=1,f=852,b=592;function y(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(S){var F;return S&&S.state?(F=S.state,S.total_in=S.total_out=F.total=0,S.msg="",F.wrap&&(S.adler=1&F.wrap),F.mode=v,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(f),F.distcode=F.distdyn=new i.Buf32(b),F.sane=1,F.back=-1,g):d}function k(S){var F;return S&&S.state?((F=S.state).wsize=0,F.whave=0,F.wnext=0,E(S)):d}function L(S,F){var m,tt;return S&&S.state?(tt=S.state,F<0?(m=0,F=-F):(m=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?d:(tt.window!==null&&tt.wbits!==F&&(tt.window=null),tt.wrap=m,tt.wbits=F,k(S))):d}function U(S,F){var m,tt;return S?(tt=new I,(S.state=tt).window=null,(m=L(S,F))!==g&&(S.state=null),m):d}var M,z,$=!0;function Z(S){if($){var F;for(M=new i.Buf32(512),z=new i.Buf32(32),F=0;F<144;)S.lens[F++]=8;for(;F<256;)S.lens[F++]=9;for(;F<280;)S.lens[F++]=7;for(;F<288;)S.lens[F++]=8;for(u(h,S.lens,0,288,M,0,S.work,{bits:9}),F=0;F<32;)S.lens[F++]=5;u(p,S.lens,0,32,z,0,S.work,{bits:5}),$=!1}S.lencode=M,S.lenbits=9,S.distcode=z,S.distbits=5}function G(S,F,m,tt){var vt,et=S.state;return et.window===null&&(et.wsize=1<<et.wbits,et.wnext=0,et.whave=0,et.window=new i.Buf8(et.wsize)),tt>=et.wsize?(i.arraySet(et.window,F,m-et.wsize,et.wsize,0),et.wnext=0,et.whave=et.wsize):(tt<(vt=et.wsize-et.wnext)&&(vt=tt),i.arraySet(et.window,F,m-tt,vt,et.wnext),(tt-=vt)?(i.arraySet(et.window,F,m-tt,tt,0),et.wnext=tt,et.whave=et.wsize):(et.wnext+=vt,et.wnext===et.wsize&&(et.wnext=0),et.whave<et.wsize&&(et.whave+=vt))),0}r.inflateReset=k,r.inflateReset2=L,r.inflateResetKeep=E,r.inflateInit=function(S){return U(S,15)},r.inflateInit2=U,r.inflate=function(S,F){var m,tt,vt,et,St,ct,ft,X,K,Ct,_t,nt,Et,Nt,It,Bt,Xt,Jt,T,j,c,B,A,C,_=0,x=new i.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return d;(m=S.state).mode===12&&(m.mode=13),St=S.next_out,vt=S.output,ft=S.avail_out,et=S.next_in,tt=S.input,ct=S.avail_in,X=m.hold,K=m.bits,Ct=ct,_t=ft,B=g;t:for(;;)switch(m.mode){case v:if(m.wrap===0){m.mode=13;break}for(;K<16;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(2&m.wrap&&X===35615){x[m.check=0]=255&X,x[1]=X>>>8&255,m.check=a(m.check,x,2,0),K=X=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&X)<<8)+(X>>8))%31){S.msg="incorrect header check",m.mode=30;break}if((15&X)!=8){S.msg="unknown compression method",m.mode=30;break}if(K-=4,c=8+(15&(X>>>=4)),m.wbits===0)m.wbits=c;else if(c>m.wbits){S.msg="invalid window size",m.mode=30;break}m.dmax=1<<c,S.adler=m.check=1,m.mode=512&X?10:12,K=X=0;break;case 2:for(;K<16;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(m.flags=X,(255&m.flags)!=8){S.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){S.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=X>>8&1),512&m.flags&&(x[0]=255&X,x[1]=X>>>8&255,m.check=a(m.check,x,2,0)),K=X=0,m.mode=3;case 3:for(;K<32;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}m.head&&(m.head.time=X),512&m.flags&&(x[0]=255&X,x[1]=X>>>8&255,x[2]=X>>>16&255,x[3]=X>>>24&255,m.check=a(m.check,x,4,0)),K=X=0,m.mode=4;case 4:for(;K<16;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}m.head&&(m.head.xflags=255&X,m.head.os=X>>8),512&m.flags&&(x[0]=255&X,x[1]=X>>>8&255,m.check=a(m.check,x,2,0)),K=X=0,m.mode=5;case 5:if(1024&m.flags){for(;K<16;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}m.length=X,m.head&&(m.head.extra_len=X),512&m.flags&&(x[0]=255&X,x[1]=X>>>8&255,m.check=a(m.check,x,2,0)),K=X=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&(ct<(nt=m.length)&&(nt=ct),nt&&(m.head&&(c=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),i.arraySet(m.head.extra,tt,et,nt,c)),512&m.flags&&(m.check=a(m.check,tt,nt,et)),ct-=nt,et+=nt,m.length-=nt),m.length))break t;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(ct===0)break t;for(nt=0;c=tt[et+nt++],m.head&&c&&m.length<65536&&(m.head.name+=String.fromCharCode(c)),c&&nt<ct;);if(512&m.flags&&(m.check=a(m.check,tt,nt,et)),ct-=nt,et+=nt,c)break t}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(ct===0)break t;for(nt=0;c=tt[et+nt++],m.head&&c&&m.length<65536&&(m.head.comment+=String.fromCharCode(c)),c&&nt<ct;);if(512&m.flags&&(m.check=a(m.check,tt,nt,et)),ct-=nt,et+=nt,c)break t}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;K<16;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(X!==(65535&m.check)){S.msg="header crc mismatch",m.mode=30;break}K=X=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),S.adler=m.check=0,m.mode=12;break;case 10:for(;K<32;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}S.adler=m.check=y(X),K=X=0,m.mode=11;case 11:if(m.havedict===0)return S.next_out=St,S.avail_out=ft,S.next_in=et,S.avail_in=ct,m.hold=X,m.bits=K,2;S.adler=m.check=1,m.mode=12;case 12:if(F===5||F===6)break t;case 13:if(m.last){X>>>=7&K,K-=7&K,m.mode=27;break}for(;K<3;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}switch(m.last=1&X,K-=1,3&(X>>>=1)){case 0:m.mode=14;break;case 1:if(Z(m),m.mode=20,F!==6)break;X>>>=2,K-=2;break t;case 2:m.mode=17;break;case 3:S.msg="invalid block type",m.mode=30}X>>>=2,K-=2;break;case 14:for(X>>>=7&K,K-=7&K;K<32;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if((65535&X)!=(X>>>16^65535)){S.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&X,K=X=0,m.mode=15,F===6)break t;case 15:m.mode=16;case 16:if(nt=m.length){if(ct<nt&&(nt=ct),ft<nt&&(nt=ft),nt===0)break t;i.arraySet(vt,tt,et,nt,St),ct-=nt,et+=nt,ft-=nt,St+=nt,m.length-=nt;break}m.mode=12;break;case 17:for(;K<14;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(m.nlen=257+(31&X),X>>>=5,K-=5,m.ndist=1+(31&X),X>>>=5,K-=5,m.ncode=4+(15&X),X>>>=4,K-=4,286<m.nlen||30<m.ndist){S.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;K<3;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}m.lens[W[m.have++]]=7&X,X>>>=3,K-=3}for(;m.have<19;)m.lens[W[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,A={bits:m.lenbits},B=u(0,m.lens,0,19,m.lencode,0,m.work,A),m.lenbits=A.bits,B){S.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;Bt=(_=m.lencode[X&(1<<m.lenbits)-1])>>>16&255,Xt=65535&_,!((It=_>>>24)<=K);){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(Xt<16)X>>>=It,K-=It,m.lens[m.have++]=Xt;else{if(Xt===16){for(C=It+2;K<C;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(X>>>=It,K-=It,m.have===0){S.msg="invalid bit length repeat",m.mode=30;break}c=m.lens[m.have-1],nt=3+(3&X),X>>>=2,K-=2}else if(Xt===17){for(C=It+3;K<C;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}K-=It,c=0,nt=3+(7&(X>>>=It)),X>>>=3,K-=3}else{for(C=It+7;K<C;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}K-=It,c=0,nt=11+(127&(X>>>=It)),X>>>=7,K-=7}if(m.have+nt>m.nlen+m.ndist){S.msg="invalid bit length repeat",m.mode=30;break}for(;nt--;)m.lens[m.have++]=c}}if(m.mode===30)break;if(m.lens[256]===0){S.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,A={bits:m.lenbits},B=u(h,m.lens,0,m.nlen,m.lencode,0,m.work,A),m.lenbits=A.bits,B){S.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,A={bits:m.distbits},B=u(p,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,A),m.distbits=A.bits,B){S.msg="invalid distances set",m.mode=30;break}if(m.mode=20,F===6)break t;case 20:m.mode=21;case 21:if(6<=ct&&258<=ft){S.next_out=St,S.avail_out=ft,S.next_in=et,S.avail_in=ct,m.hold=X,m.bits=K,l(S,_t),St=S.next_out,vt=S.output,ft=S.avail_out,et=S.next_in,tt=S.input,ct=S.avail_in,X=m.hold,K=m.bits,m.mode===12&&(m.back=-1);break}for(m.back=0;Bt=(_=m.lencode[X&(1<<m.lenbits)-1])>>>16&255,Xt=65535&_,!((It=_>>>24)<=K);){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(Bt&&!(240&Bt)){for(Jt=It,T=Bt,j=Xt;Bt=(_=m.lencode[j+((X&(1<<Jt+T)-1)>>Jt)])>>>16&255,Xt=65535&_,!(Jt+(It=_>>>24)<=K);){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}X>>>=Jt,K-=Jt,m.back+=Jt}if(X>>>=It,K-=It,m.back+=It,m.length=Xt,Bt===0){m.mode=26;break}if(32&Bt){m.back=-1,m.mode=12;break}if(64&Bt){S.msg="invalid literal/length code",m.mode=30;break}m.extra=15&Bt,m.mode=22;case 22:if(m.extra){for(C=m.extra;K<C;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}m.length+=X&(1<<m.extra)-1,X>>>=m.extra,K-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;Bt=(_=m.distcode[X&(1<<m.distbits)-1])>>>16&255,Xt=65535&_,!((It=_>>>24)<=K);){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(!(240&Bt)){for(Jt=It,T=Bt,j=Xt;Bt=(_=m.distcode[j+((X&(1<<Jt+T)-1)>>Jt)])>>>16&255,Xt=65535&_,!(Jt+(It=_>>>24)<=K);){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}X>>>=Jt,K-=Jt,m.back+=Jt}if(X>>>=It,K-=It,m.back+=It,64&Bt){S.msg="invalid distance code",m.mode=30;break}m.offset=Xt,m.extra=15&Bt,m.mode=24;case 24:if(m.extra){for(C=m.extra;K<C;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}m.offset+=X&(1<<m.extra)-1,X>>>=m.extra,K-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){S.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(ft===0)break t;if(nt=_t-ft,m.offset>nt){if((nt=m.offset-nt)>m.whave&&m.sane){S.msg="invalid distance too far back",m.mode=30;break}Et=nt>m.wnext?(nt-=m.wnext,m.wsize-nt):m.wnext-nt,nt>m.length&&(nt=m.length),Nt=m.window}else Nt=vt,Et=St-m.offset,nt=m.length;for(ft<nt&&(nt=ft),ft-=nt,m.length-=nt;vt[St++]=Nt[Et++],--nt;);m.length===0&&(m.mode=21);break;case 26:if(ft===0)break t;vt[St++]=m.length,ft--,m.mode=21;break;case 27:if(m.wrap){for(;K<32;){if(ct===0)break t;ct--,X|=tt[et++]<<K,K+=8}if(_t-=ft,S.total_out+=_t,m.total+=_t,_t&&(S.adler=m.check=m.flags?a(m.check,vt,_t,St-_t):s(m.check,vt,_t,St-_t)),_t=ft,(m.flags?X:y(X))!==m.check){S.msg="incorrect data check",m.mode=30;break}K=X=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;K<32;){if(ct===0)break t;ct--,X+=tt[et++]<<K,K+=8}if(X!==(4294967295&m.total)){S.msg="incorrect length check",m.mode=30;break}K=X=0}m.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;case 32:default:return d}return S.next_out=St,S.avail_out=ft,S.next_in=et,S.avail_in=ct,m.hold=X,m.bits=K,(m.wsize||_t!==S.avail_out&&m.mode<30&&(m.mode<27||F!==4))&&G(S,S.output,S.next_out,_t-S.avail_out)?(m.mode=31,-4):(Ct-=S.avail_in,_t-=S.avail_out,S.total_in+=Ct,S.total_out+=_t,m.total+=_t,m.wrap&&_t&&(S.adler=m.check=m.flags?a(m.check,vt,_t,S.next_out-_t):s(m.check,vt,_t,S.next_out-_t)),S.data_type=m.bits+(m.last?64:0)+(m.mode===12?128:0)+(m.mode===20||m.mode===15?256:0),(Ct==0&&_t===0||F===4)&&B===g&&(B=-5),B)},r.inflateEnd=function(S){if(!S||!S.state)return d;var F=S.state;return F.window&&(F.window=null),S.state=null,g},r.inflateGetHeader=function(S,F){var m;return S&&S.state&&2&(m=S.state).wrap?((m.head=F).done=!1,g):d},r.inflateSetDictionary=function(S,F){var m,tt=F.length;return S&&S.state?(m=S.state).wrap!==0&&m.mode!==11?d:m.mode===11&&s(1,F,tt,0)!==m.check?-3:G(S,F,tt,tt)?(m.mode=31,-4):(m.havedict=1,g):d},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,r){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(h,p,g,d,v,f,b,y){var I,E,k,L,U,M,z,$,Z,G=y.bits,S=0,F=0,m=0,tt=0,vt=0,et=0,St=0,ct=0,ft=0,X=0,K=null,Ct=0,_t=new i.Buf16(16),nt=new i.Buf16(16),Et=null,Nt=0;for(S=0;S<=15;S++)_t[S]=0;for(F=0;F<d;F++)_t[p[g+F]]++;for(vt=G,tt=15;1<=tt&&_t[tt]===0;tt--);if(tt<vt&&(vt=tt),tt===0)return v[f++]=20971520,v[f++]=20971520,y.bits=1,0;for(m=1;m<tt&&_t[m]===0;m++);for(vt<m&&(vt=m),S=ct=1;S<=15;S++)if(ct<<=1,(ct-=_t[S])<0)return-1;if(0<ct&&(h===0||tt!==1))return-1;for(nt[1]=0,S=1;S<15;S++)nt[S+1]=nt[S]+_t[S];for(F=0;F<d;F++)p[g+F]!==0&&(b[nt[p[g+F]]++]=F);if(M=h===0?(K=Et=b,19):h===1?(K=s,Ct-=257,Et=a,Nt-=257,256):(K=l,Et=u,-1),S=m,U=f,St=F=X=0,k=-1,L=(ft=1<<(et=vt))-1,h===1&&852<ft||h===2&&592<ft)return 1;for(;;){for(z=S-St,Z=b[F]<M?($=0,b[F]):b[F]>M?($=Et[Nt+b[F]],K[Ct+b[F]]):($=96,0),I=1<<S-St,m=E=1<<et;v[U+(X>>St)+(E-=I)]=z<<24|$<<16|Z|0,E!==0;);for(I=1<<S-1;X&I;)I>>=1;if(I!==0?(X&=I-1,X+=I):X=0,F++,--_t[S]==0){if(S===tt)break;S=p[g+b[F]]}if(vt<S&&(X&L)!==k){for(St===0&&(St=vt),U+=m,ct=1<<(et=S-St);et+St<tt&&!((ct-=_t[et+St])<=0);)et++,ct<<=1;if(ft+=1<<et,h===1&&852<ft||h===2&&592<ft)return 1;v[k=X&L]=vt<<24|et<<16|U-f|0}}return X!==0&&(v[U+X]=S-St<<24|64<<16|0),y.bits=vt,0}},{"../utils/common":41}],51:[function(n,o,r){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,r){var i=n("../utils/common"),s=0,a=1;function l(_){for(var x=_.length;0<=--x;)_[x]=0}var u=0,h=29,p=256,g=p+1+h,d=30,v=19,f=2*g+1,b=15,y=16,I=7,E=256,k=16,L=17,U=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(g+2));l(G);var S=new Array(2*d);l(S);var F=new Array(512);l(F);var m=new Array(256);l(m);var tt=new Array(h);l(tt);var vt,et,St,ct=new Array(d);function ft(_,x,W,V,R){this.static_tree=_,this.extra_bits=x,this.extra_base=W,this.elems=V,this.max_length=R,this.has_stree=_&&_.length}function X(_,x){this.dyn_tree=_,this.max_code=0,this.stat_desc=x}function K(_){return _<256?F[_]:F[256+(_>>>7)]}function Ct(_,x){_.pending_buf[_.pending++]=255&x,_.pending_buf[_.pending++]=x>>>8&255}function _t(_,x,W){_.bi_valid>y-W?(_.bi_buf|=x<<_.bi_valid&65535,Ct(_,_.bi_buf),_.bi_buf=x>>y-_.bi_valid,_.bi_valid+=W-y):(_.bi_buf|=x<<_.bi_valid&65535,_.bi_valid+=W)}function nt(_,x,W){_t(_,W[2*x],W[2*x+1])}function Et(_,x){for(var W=0;W|=1&_,_>>>=1,W<<=1,0<--x;);return W>>>1}function Nt(_,x,W){var V,R,J=new Array(b+1),it=0;for(V=1;V<=b;V++)J[V]=it=it+W[V-1]<<1;for(R=0;R<=x;R++){var ot=_[2*R+1];ot!==0&&(_[2*R]=Et(J[ot]++,ot))}}function It(_){var x;for(x=0;x<g;x++)_.dyn_ltree[2*x]=0;for(x=0;x<d;x++)_.dyn_dtree[2*x]=0;for(x=0;x<v;x++)_.bl_tree[2*x]=0;_.dyn_ltree[2*E]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function Bt(_){8<_.bi_valid?Ct(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function Xt(_,x,W,V){var R=2*x,J=2*W;return _[R]<_[J]||_[R]===_[J]&&V[x]<=V[W]}function Jt(_,x,W){for(var V=_.heap[W],R=W<<1;R<=_.heap_len&&(R<_.heap_len&&Xt(x,_.heap[R+1],_.heap[R],_.depth)&&R++,!Xt(x,V,_.heap[R],_.depth));)_.heap[W]=_.heap[R],W=R,R<<=1;_.heap[W]=V}function T(_,x,W){var V,R,J,it,ot=0;if(_.last_lit!==0)for(;V=_.pending_buf[_.d_buf+2*ot]<<8|_.pending_buf[_.d_buf+2*ot+1],R=_.pending_buf[_.l_buf+ot],ot++,V===0?nt(_,R,x):(nt(_,(J=m[R])+p+1,x),(it=M[J])!==0&&_t(_,R-=tt[J],it),nt(_,J=K(--V),W),(it=z[J])!==0&&_t(_,V-=ct[J],it)),ot<_.last_lit;);nt(_,E,x)}function j(_,x){var W,V,R,J=x.dyn_tree,it=x.stat_desc.static_tree,ot=x.stat_desc.has_stree,pt=x.stat_desc.elems,Tt=-1;for(_.heap_len=0,_.heap_max=f,W=0;W<pt;W++)J[2*W]!==0?(_.heap[++_.heap_len]=Tt=W,_.depth[W]=0):J[2*W+1]=0;for(;_.heap_len<2;)J[2*(R=_.heap[++_.heap_len]=Tt<2?++Tt:0)]=1,_.depth[R]=0,_.opt_len--,ot&&(_.static_len-=it[2*R+1]);for(x.max_code=Tt,W=_.heap_len>>1;1<=W;W--)Jt(_,J,W);for(R=pt;W=_.heap[1],_.heap[1]=_.heap[_.heap_len--],Jt(_,J,1),V=_.heap[1],_.heap[--_.heap_max]=W,_.heap[--_.heap_max]=V,J[2*R]=J[2*W]+J[2*V],_.depth[R]=(_.depth[W]>=_.depth[V]?_.depth[W]:_.depth[V])+1,J[2*W+1]=J[2*V+1]=R,_.heap[1]=R++,Jt(_,J,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(kt,Wt){var le,qt,ye,zt,$t,oe,ee=Wt.dyn_tree,Ae=Wt.max_code,Me=Wt.stat_desc.static_tree,Ye=Wt.stat_desc.has_stree,Le=Wt.stat_desc.extra_bits,we=Wt.stat_desc.extra_base,Ie=Wt.stat_desc.max_length,Ne=0;for(zt=0;zt<=b;zt++)kt.bl_count[zt]=0;for(ee[2*kt.heap[kt.heap_max]+1]=0,le=kt.heap_max+1;le<f;le++)Ie<(zt=ee[2*ee[2*(qt=kt.heap[le])+1]+1]+1)&&(zt=Ie,Ne++),ee[2*qt+1]=zt,Ae<qt||(kt.bl_count[zt]++,$t=0,we<=qt&&($t=Le[qt-we]),oe=ee[2*qt],kt.opt_len+=oe*(zt+$t),Ye&&(kt.static_len+=oe*(Me[2*qt+1]+$t)));if(Ne!==0){do{for(zt=Ie-1;kt.bl_count[zt]===0;)zt--;kt.bl_count[zt]--,kt.bl_count[zt+1]+=2,kt.bl_count[Ie]--,Ne-=2}while(0<Ne);for(zt=Ie;zt!==0;zt--)for(qt=kt.bl_count[zt];qt!==0;)Ae<(ye=kt.heap[--le])||(ee[2*ye+1]!==zt&&(kt.opt_len+=(zt-ee[2*ye+1])*ee[2*ye],ee[2*ye+1]=zt),qt--)}}(_,x),Nt(J,Tt,_.bl_count)}function c(_,x,W){var V,R,J=-1,it=x[1],ot=0,pt=7,Tt=4;for(it===0&&(pt=138,Tt=3),x[2*(W+1)+1]=65535,V=0;V<=W;V++)R=it,it=x[2*(V+1)+1],++ot<pt&&R===it||(ot<Tt?_.bl_tree[2*R]+=ot:R!==0?(R!==J&&_.bl_tree[2*R]++,_.bl_tree[2*k]++):ot<=10?_.bl_tree[2*L]++:_.bl_tree[2*U]++,J=R,Tt=(ot=0)===it?(pt=138,3):R===it?(pt=6,3):(pt=7,4))}function B(_,x,W){var V,R,J=-1,it=x[1],ot=0,pt=7,Tt=4;for(it===0&&(pt=138,Tt=3),V=0;V<=W;V++)if(R=it,it=x[2*(V+1)+1],!(++ot<pt&&R===it)){if(ot<Tt)for(;nt(_,R,_.bl_tree),--ot!=0;);else R!==0?(R!==J&&(nt(_,R,_.bl_tree),ot--),nt(_,k,_.bl_tree),_t(_,ot-3,2)):ot<=10?(nt(_,L,_.bl_tree),_t(_,ot-3,3)):(nt(_,U,_.bl_tree),_t(_,ot-11,7));J=R,Tt=(ot=0)===it?(pt=138,3):R===it?(pt=6,3):(pt=7,4)}}l(ct);var A=!1;function C(_,x,W,V){_t(_,(u<<1)+(V?1:0),3),function(R,J,it,ot){Bt(R),ot&&(Ct(R,it),Ct(R,~it)),i.arraySet(R.pending_buf,R.window,J,it,R.pending),R.pending+=it}(_,x,W,!0)}r._tr_init=function(_){A||(function(){var x,W,V,R,J,it=new Array(b+1);for(R=V=0;R<h-1;R++)for(tt[R]=V,x=0;x<1<<M[R];x++)m[V++]=R;for(m[V-1]=R,R=J=0;R<16;R++)for(ct[R]=J,x=0;x<1<<z[R];x++)F[J++]=R;for(J>>=7;R<d;R++)for(ct[R]=J<<7,x=0;x<1<<z[R]-7;x++)F[256+J++]=R;for(W=0;W<=b;W++)it[W]=0;for(x=0;x<=143;)G[2*x+1]=8,x++,it[8]++;for(;x<=255;)G[2*x+1]=9,x++,it[9]++;for(;x<=279;)G[2*x+1]=7,x++,it[7]++;for(;x<=287;)G[2*x+1]=8,x++,it[8]++;for(Nt(G,g+1,it),x=0;x<d;x++)S[2*x+1]=5,S[2*x]=Et(x,5);vt=new ft(G,M,p+1,g,b),et=new ft(S,z,0,d,b),St=new ft(new Array(0),$,0,v,I)}(),A=!0),_.l_desc=new X(_.dyn_ltree,vt),_.d_desc=new X(_.dyn_dtree,et),_.bl_desc=new X(_.bl_tree,St),_.bi_buf=0,_.bi_valid=0,It(_)},r._tr_stored_block=C,r._tr_flush_block=function(_,x,W,V){var R,J,it=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(ot){var pt,Tt=4093624447;for(pt=0;pt<=31;pt++,Tt>>>=1)if(1&Tt&&ot.dyn_ltree[2*pt]!==0)return s;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return a;for(pt=32;pt<p;pt++)if(ot.dyn_ltree[2*pt]!==0)return a;return s}(_)),j(_,_.l_desc),j(_,_.d_desc),it=function(ot){var pt;for(c(ot,ot.dyn_ltree,ot.l_desc.max_code),c(ot,ot.dyn_dtree,ot.d_desc.max_code),j(ot,ot.bl_desc),pt=v-1;3<=pt&&ot.bl_tree[2*Z[pt]+1]===0;pt--);return ot.opt_len+=3*(pt+1)+5+5+4,pt}(_),R=_.opt_len+3+7>>>3,(J=_.static_len+3+7>>>3)<=R&&(R=J)):R=J=W+5,W+4<=R&&x!==-1?C(_,x,W,V):_.strategy===4||J===R?(_t(_,2+(V?1:0),3),T(_,G,S)):(_t(_,4+(V?1:0),3),function(ot,pt,Tt,kt){var Wt;for(_t(ot,pt-257,5),_t(ot,Tt-1,5),_t(ot,kt-4,4),Wt=0;Wt<kt;Wt++)_t(ot,ot.bl_tree[2*Z[Wt]+1],3);B(ot,ot.dyn_ltree,pt-1),B(ot,ot.dyn_dtree,Tt-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,it+1),T(_,_.dyn_ltree,_.dyn_dtree)),It(_),V&&Bt(_)},r._tr_tally=function(_,x,W){return _.pending_buf[_.d_buf+2*_.last_lit]=x>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&x,_.pending_buf[_.l_buf+_.last_lit]=255&W,_.last_lit++,x===0?_.dyn_ltree[2*W]++:(_.matches++,x--,_.dyn_ltree[2*(m[W]+p+1)]++,_.dyn_dtree[2*K(x)]++),_.last_lit===_.lit_bufsize-1},r._tr_align=function(_){_t(_,2,3),nt(_,E,G),function(x){x.bi_valid===16?(Ct(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(n,o,r){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,r){(function(i){(function(s,a){if(!s.setImmediate){var l,u,h,p,g=1,d={},v=!1,f=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(k){process.nextTick(function(){I(k)})}:function(){if(s.postMessage&&!s.importScripts){var k=!0,L=s.onmessage;return s.onmessage=function(){k=!1},s.postMessage("","*"),s.onmessage=L,k}}()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",E,!1):s.attachEvent("onmessage",E),function(k){s.postMessage(p+k,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(k){I(k.data)},function(k){h.port2.postMessage(k)}):f&&"onreadystatechange"in f.createElement("script")?(u=f.documentElement,function(k){var L=f.createElement("script");L.onreadystatechange=function(){I(k),L.onreadystatechange=null,u.removeChild(L),L=null},u.appendChild(L)}):function(k){setTimeout(I,0,k)},b.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var L=new Array(arguments.length-1),U=0;U<L.length;U++)L[U]=arguments[U+1];var M={callback:k,args:L};return d[g]=M,l(g),g++},b.clearImmediate=y}function y(k){delete d[k]}function I(k){if(v)setTimeout(I,0,k);else{var L=d[k];if(L){v=!0;try{(function(U){var M=U.callback,z=U.args;switch(z.length){case 0:M();break;case 1:M(z[0]);break;case 2:M(z[0],z[1]);break;case 3:M(z[0],z[1],z[2]);break;default:M.apply(a,z)}})(L)}finally{y(k),v=!1}}}}function E(k){k.source===s&&typeof k.data=="string"&&k.data.indexOf(p)===0&&I(+k.data.slice(p.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof un<"u"?un:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ec);var xh=ec.exports;const za=Ts(xh);class Mo{static async open(e){const n=new za,o=window.api.openFile(e),{files:r}=await n.loadAsync(o);return await r.content.async("text")}static async writeBlob(e,n){const o=await n.arrayBuffer();window.api.saveFile(e,o)}static async save(e,n){const o=new za;o.file("content",JSON.stringify(n));const r=await o.generateAsync({type:"blob"});this.writeBlob(e,r)}}function zs(t,e={}){let{items:n,connections:o,ports:r,groups:i}=We(t);function s(g){return Object.values(g).forEach(d=>{const v=d.id,f=me();d.itemIds=d.itemIds.map(b=>e[b]),d.connectionIds=d.connectionIds.map(b=>e[b]),d.id=f,e[v]=f,g[f]=We(d),delete g[v]}),g}function a(g,d){return Object.values(g).forEach(v=>{v.groupId=v.groupId!==null?e[v.groupId]:null}),Object.values(d).forEach(v=>{v.groupId=v.groupId!==null?e[v.groupId]:null}),{connections:g,items:d}}function l(g){return Object.values(g).forEach(d=>{const v=d.id,f=me();e[v]=f,g[f]=We(d),g[f].id=f,g[f].source=e[g[f].source],g[f].target=e[g[f].target],delete g[v]}),g}function u(g){return Object.values(g).forEach(d=>{const v=d.id,f=me();e[v]=f,g[f]=We(d),d.integratedCircuit&&(g[f].integratedCircuit={serializedState:d.integratedCircuit.serializedState,...zs(We(d.integratedCircuit),e)}),g[f].id=f,g[f].portIds=d.portIds.map(b=>e[b]),delete g[v]}),g}function h(g){return Object.values(g).forEach(d=>{g[d.id].elementId=e[d.elementId]}),g}function p(g){return Object.values(g).forEach(d=>{const v=d.id,f=me();e[v]=f,g[f]=We(d),g[f].id=f,delete g[v]}),Object.values(g).forEach(d=>{g[d.id].connectedPortIds=d.connectedPortIds.map(v=>e[v])}),g}return r=p(r),n=u(n),r=h(r),o=l(o),i=s(i),{...a(o,n),ports:r,groups:i}}function Eh(t){if(!t.integratedCircuit)return t;const{items:e}=zs({items:{[t.id]:t},connections:{},ports:{},groups:{}}),n=Object.values(e)[0];return n.id=me(),n}const Ms={mapStandardCircuitIds:zs,mapIntegratedCircuitIds:Eh},Bs=ci("integratedCircuit",{state:()=>({isBuilderOpen:!1,model:null,factories:{},resolve:()=>{}}),actions:{launchBuilder(t){return this.isBuilderOpen=!0,this.model=Ih(t,"My integrated circuit",400,400),new Promise(e=>{this.resolve=e})},async loadLibrary(){const t=window.api.getFilePaths(window.api.getDefaultSavePath(),"aicx");for(let e=0;e<t.length;e++)await this.loadCircuit(t[e])},async loadCircuit(t){try{const e=await Mo.open(t),n=JSON.parse(e);this.factories[n.name]=()=>{const o=Ms.mapIntegratedCircuitIds(n),r=o.portIds.reduce((i,s)=>{var l;const a=(l=o.integratedCircuit)==null?void 0:l.ports[s];return a&&i[a.orientation].push(a),i},{[Ut.Left]:[],[Ut.Top]:[],[Ut.Right]:[],[Ut.Bottom]:[]});return{item:o,ports:r}}}catch(e){console.log(e),window.api.showMessageBox({message:`Could not load ${t} into the integrated circuit library. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},async save(){if(this.model){try{const t=`${this.model.name}.aicx`,e=window.api.showSaveFileDialog([{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}],t);if(!e)return;await Mo.save(e,this.model),await this.loadCircuit(e),window.api.showMessageBox({message:"Integrated circuit successfully created. You can find it in the toolbox.",title:"Success",type:"info"})}catch{window.api.showMessageBox({message:"An error occurred while trying to save the integrated circuit.",title:"Error",type:"error"})}this.close()}},close(){this.resolve(),this.isBuilderOpen=!0}}}),Oh=xt({name:"Icon",props:{icon:{type:Object,default:null}},setup(t){const e=Kt(()=>t.icon.icon[0]),n=Kt(()=>t.icon.icon[1]),o=Kt(()=>t.icon.icon[4]);return{width:e,height:n,svgPath:o}}});const Ph=["viewBox"],kh=["d"];function $h(t,e,n,o,r,i){return Y(),dt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:`0 0 ${t.width} ${t.height}`},[yt("path",{fill:"currentColor",d:t.svgPath},null,8,kh)],8,Ph)}const He=Pt(Oh,[["render",$h]]),Dh=xt({name:"Modal",components:{Icon:He},props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:""}},setup(){const t=Gt(!1);return{faClose:wo,show:t}}});const Ah={key:0,class:"modal"},Th={class:"modal__inner"},zh={class:"modal__title"},Mh={class:"modal__title-text"},Bh={class:"modal__content"},Lh={key:0,class:"modal__buttons"};function Nh(t,e,n,o,r,i){const s=bt("icon");return Y(),Rt(Ko,{name:"modal",appear:""},{default:Ft(()=>[t.modelValue?(Y(),dt("div",Ah,[yt("div",Th,[yt("div",zh,[yt("div",Mh,he(t.title),1),yt("button",{title:"Close",onClick:e[0]||(e[0]=a=>t.$emit("update:modelValue",!1)),class:"modal__close"},[ut(s,{icon:t.faClose},null,8,["icon"])])]),yt("div",Bh,[ue(t.$slots,"default")]),t.$slots.buttons?(Y(),dt("div",Lh,[ue(t.$slots,"buttons")])):de("",!0)])])):de("",!0)]),_:3})}const Rh=Pt(Dh,[["render",Nh]]),Fh=xt({name:"ModalButton",props:{text:{type:String,required:!0},disabled:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1}}});function jh(t,e,n,o,r,i){return Y(),dt("button",{class:Qt(["modal-button",{"modal-button--inverted":t.inverted}]),role:"button"},he(t.text),3)}const Vh=Pt(Fh,[["render",jh]]),Uh=xt({name:"BuilderView",components:{Builder:yh,Modal:Rh,ModalButton:Vh},setup(){const{isBuilderOpen:t,model:e,save:n,close:o}=Bs(),r=Gt(!1);return r.value=!0,{item:e,isBuilderOpen:t,save:n,close:o,isOpen:r}}});const Hh={class:"builder-canvas"};function Wh(t,e,n,o,r,i){const s=bt("builder"),a=bt("modal-button"),l=bt("modal");return Y(),Rt(l,{modelValue:t.isBuilderOpen,"onUpdate:modelValue":[e[1]||(e[1]=u=>t.isBuilderOpen=u),t.close],title:"Build Circuit"},{buttons:Ft(()=>[ut(a,{text:"Cancel",onClick:t.close,inverted:""},null,8,["onClick"]),ut(a,{text:"Save",onClick:t.save},null,8,["onClick"])]),default:Ft(()=>[yt("div",Hh,[ut(s,{modelValue:t.item,"onUpdate:modelValue":e[0]||(e[0]=u=>t.item=u)},null,8,["modelValue"])])]),_:1},8,["modelValue","onUpdate:modelValue"])}const Gh=Pt(Uh,[["render",Wh]]),Go=.1,es=2,qh=.1,ns=4,Ma=15,Zh=20,Kh=1.05,Xh=100,nc=1e3,Yh=t=>1-Math.pow(1-t,3);var Ge=(t=>(t[t.Outer=0]="Outer",t[t.Inner=1]="Inner",t[t.Radial=2]="Radial",t[t.Grid=3]="Grid",t[t.None=4]="None",t))(Ge||{});function Ur(t,e){return Math.round(t/e)*e}function oc(t,e,n){return Math.hypot(t.x-e.x,t.y-e.y)<=n}function rc(t,e){return{x:Ur(t.left,e)-t.left,y:Ur(t.top,e)-t.top}}function ic(t,e,n){for(let o=0;o<t.length;o++){const r=t[o];if(oc({x:r.left,y:r.top},{x:e.left,y:e.top},n))return{x:r.left-e.left,y:r.top-e.top}}return{x:0,y:0}}function sc(t,e,n){const o={x:0,y:0};for(let r=0;r<t.length;r++){const i=t[r],s=Math.abs(i.top-e.bottom)<=n,a=Math.abs(i.bottom-e.top)<=n,l=Math.abs(i.left-e.right)<=n,u=Math.abs(i.right-e.left)<=n;(e.left<=i.right&&e.left>=i.left||e.right>=i.left&&e.right<=i.right||e.left<=i.left&&e.right>=i.right)&&(s&&(o.y=i.top-e.bottom),a&&(o.y=i.bottom-e.top)),(e.top<=i.bottom&&e.top>=i.top||e.bottom>=i.top&&e.bottom<=i.bottom||e.top<=i.top&&e.bottom>=i.bottom)&&(l&&(o.x=i.left-e.right),u&&(o.x=i.right-e.left))}return o}function Jh(t,e,n,o){switch(n){case Ge.Radial:return ic(t,e,o);case Ge.Grid:return rc(e,o);case Ge.Outer:default:return sc(t,e,o)}}function kr(t,e,n,o){const r=(i,s,a)=>(a.y-i.y)*(s.x-i.x)>(s.y-i.y)*(a.x-i.x);return r(t,n,o)!==r(e,n,o)&&r(t,e,n)!==r(t,e,o)}function Qh(t,e){let n=t[0];for(let o=1;o<t.length;o++){if(ac(n,t[o],e))return!0;n=t[o]}return!1}function ac(t,e,n){const o={x:n.left,y:n.top},r={x:n.right,y:n.top},i={x:n.right,y:n.bottom},s={x:n.left,y:n.bottom};return kr(t,e,o,r)||kr(t,e,r,i)||kr(t,e,i,s)||kr(t,e,s,o)}function tp(t,e){return!(t.left>=e.right||e.left>=t.right||t.top>=e.bottom||e.top>=t.bottom)}function ep(t,e){return{left:t.left*e,top:t.top*e,bottom:t.bottom*e,right:t.right*e}}function np(t){return t.left!==t.right||t.top!==t.bottom}function op(t){return[{left:t.x,right:t.x,top:-1/0,bottom:1/0},{left:-1/0,right:1/0,top:t.y,bottom:t.y}]}function rp(t){return{left:t.x,top:t.y,right:t.x,bottom:t.y}}function ip(t,e,n,o){if(e%2===0)return{left:t.x,top:t.y,bottom:o+t.y,right:n+t.x};const r=t.x+n/2,i=t.y+o/2;return{left:r-o/2,top:i-n/2,right:r+o/2,bottom:i+n/2}}function sp(t){return t.reduce((e,n)=>({left:Math.min(e.left,n.left),top:Math.min(e.top,n.top),right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)}),{left:1/0,top:1/0,right:0,bottom:0})}function lc(t){const e=t.right-t.left,n=t.bottom-t.top;return{x:e/2,y:n/2}}function ap(t,e,n){const o=lc(t),r=e.right-e.left,i=e.bottom-e.top;return{x:Ur(o.x-r/2,n),y:Ur(o.y-i/2,n)}}const ie={isInNeighborhood:oc,getRadialSnapOffset:ic,getOuterSnapOffset:sc,getGridSnapPosition:rc,areLinesIntersectingRectangle:Qh,isLineIntersectingRectangle:ac,scaleBoundingBox:ep,isOneOrTwoDimensional:np,getLinearBoundaries:op,getPointBoundary:rp,hasIntersection:tp,getBoundingBox:ip,getGroupBoundingBox:sp,getBoundingBoxMidpoint:lc,getCenteredScreenPoint:ap,getSnapOffset:Jh},cc=t=>{let e=0,n=0,o=!1,r=!1,i=!1,s={x:0,y:0},a={x:0,y:0},l={x:0,y:0};Xe(()=>{window.addEventListener("mousemove",d),window.addEventListener("mouseup",p)}),qn(()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",p)});function u(I){var L,U;const{clientX:E,clientY:k}=I;o&&(a.x===E&&a.y===k||(a={x:E,y:k},i?(L=t.onDrag)==null||L.call(t,a,l):(U=t.onDragStart)==null||U.call(t,a,l),i=!0,r=!0))}function h({clientX:I,clientY:E},k){const{x:L,y:U,width:M,height:z}=k.getBoundingClientRect();a={x:I,y:E},l={x:I-(L+M/2),y:E-(U+z/2)},o=!0,i=!1}function p(){var I;o&&(o=!1,r&&((I=t.onDragEnd)==null||I.call(t,a,l)))}function g(I){var E;I.stopPropagation(),I.preventDefault(),(E=t.onSelect)==null||E.call(t,I.ctrlKey),h(I,I.target)}function d(I){o&&(e||(e=window.requestAnimationFrame(()=>{e=0,I.stopPropagation(),I.preventDefault(),u(I)})))}function v(I){p()}function f(I){I.stopPropagation(),I.preventDefault(),h(I.touches[0],I.target),r=!1,o=!1,s={x:I.touches[0].clientX,y:I.touches[0].clientY},n=window.setTimeout(()=>{var E;(E=t.onTouched)==null||E.call(t,I,!0)},t.longTouchTimeout)}function b(I){if(I.stopPropagation(),I.preventDefault(),!e){if(I.touches.length>1)return y(I);e=window.requestAnimationFrame(()=>{e=0,ie.isInNeighborhood(s,{x:I.touches[0].clientX,y:I.touches[0].clientY},5)||(r=!0,clearTimeout(n)),t.allowTouchDrag.value&&(o=!0,u(I.touches[0]))})}}function y(I){var E;clearTimeout(n),I.stopPropagation(),I.preventDefault(),o?p():r||(E=t.onTouched)==null||E.call(t,I,!1)}return{onMouseDown:g,onTouchStart:f,onTouchMove:b,onTouchEnd:y,onMouseUp:v,dragEnd:p}},lp=xt({name:"Draggable",props:{position:{type:Object,default:()=>({x:0,y:0})},isSelected:{type:Boolean,default:!1},allowTouchDrag:{type:Boolean,default:!0}},emits:{dragStart:(t,e)=>!0,drag:(t,e)=>!0,dragEnd:(t,e)=>!0,select:t=>!0,deselect:()=>!0,touchhold:t=>!0,contextmenu:t=>!0},setup(t,{emit:e}){const n=Kt(()=>({left:`${t.position.x}px`,top:`${t.position.y}px`}));function o(){t.isSelected||e("select",!0)}function r(d,v){if(v)return e("touchhold",d);t.isSelected?e("deselect"):e("select",!0)}function i(d){a(d),t.isSelected||e("select",!d.ctrlKey)}const s=Kt(()=>t.allowTouchDrag),{onMouseDown:a,onMouseUp:l,onTouchStart:u,onTouchMove:h,onTouchEnd:p,dragEnd:g}=cc({allowTouchDrag:s,longTouchTimeout:Xh,onTouched:r,onDragStart:(d,v)=>e("dragStart",d,v),onDrag:(d,v)=>e("drag",d,v),onDragEnd:(d,v)=>e("dragEnd",d,v)});return{style:n,onLeftMouseDown:i,onMouseUp:l,onTouchStart:u,onTouchMove:h,onTouchEnd:p,dragEnd:g,onFocus:o}}});function cp(t,e,n,o,r,i){return Y(),dt("div",{class:"draggable",style:ne(t.style),onMousedown:e[0]||(e[0]=An((...s)=>t.onLeftMouseDown&&t.onLeftMouseDown(...s),["left"])),onMouseup:e[1]||(e[1]=(...s)=>t.onMouseUp&&t.onMouseUp(...s)),onTouchstart:e[2]||(e[2]=(...s)=>t.onTouchStart&&t.onTouchStart(...s)),onTouchmove:e[3]||(e[3]=(...s)=>t.onTouchMove&&t.onTouchMove(...s)),onTouchend:e[4]||(e[4]=(...s)=>t.onTouchEnd&&t.onTouchEnd(...s)),onTouchcancel:e[5]||(e[5]=(...s)=>t.dragEnd&&t.dragEnd(...s)),onFocus:e[6]||(e[6]=(...s)=>t.onFocus&&t.onFocus(...s)),onContextmenu:e[7]||(e[7]=s=>t.$emit("contextmenu",s))},[ue(t.$slots,"default")],36)}const fi=Pt(lp,[["render",cp]]);function up(t,e=0){return(t+e%4+4)%4}function dp(t,e,n,o,r){const i=t.right-t.left,s=t.bottom-t.top,a=t.left+i/2,l=t.top+s/2,u=e.x,h=e.y,p=u+n/2,g=h+o/2,d=Math.hypot(a-p,l-g),v=Math.atan2(g-l,p-a),f=90*r*(Math.PI/180)+v,b=d*Math.cos(f)+a,y=d*Math.sin(f)+l;return{x:b-n/2,y:y-o/2}}const xn={rotate:up,getGroupedItemRotatedPosition:dp},on=15;function uc(t,e){const n=t.position,o=e.position,{start:r,end:i}=hp(n,o);if(r.x===i.x||r.y===i.y||i.x<=1&&r.x<=1||i.y<=1&&r.y<=1)return fp(r,i);const s=Ba(t,n,o),a=Ba(e,n,o);return pp(s,a,r,i)}function fp(t,e){return{path:`M ${t.x},${t.y} L ${e.x},${e.y}`,width:Math.abs(t.x-e.x)+on,height:Math.abs(t.y-e.y)+on,minX:-(on/2),minY:-(on/2)}}function dc(t,e,n){switch(t){case Ut.Left:return e.y>n.y?Ut.Right:Ut.Left;case Ut.Top:return e.x<n.x?Ut.Bottom:Ut.Top;case Ut.Right:return e.y>n.y?Ut.Left:Ut.Right;case Ut.Bottom:return e.x<n.x?Ut.Top:Ut.Bottom;default:return dc(xn.rotate(t),e,n)}}function Ba(t,e,n){let o=xn.rotate(t.orientation+t.rotation-1);return t.canInflect&&(o=dc(o,e,n),(t.rotation%4===1||t.rotation%4===2)&&(o=xn.rotate(o-2))),o}function hp(t,e){return t.x<=e.x?t.y<=e.y?{start:{x:0,y:0},end:{x:Math.floor(e.x-t.x),y:Math.floor(e.y-t.y)}}:{start:{x:0,y:Math.floor(t.y-e.y)},end:{x:Math.floor(e.x-t.x),y:0}}:t.y<=e.y?{start:{x:Math.floor(t.x-e.x),y:0},end:{x:0,y:Math.floor(e.y-t.y)}}:{start:{x:Math.floor(t.x-e.x),y:Math.floor(t.y-e.y)},end:{x:0,y:0}}}function pp(t,e,n,o){const r=n.x,i=n.y,s=o.x,a=o.y,l=Math.max(Math.abs(r-s)/2,10),u=Math.max(Math.abs(i-a)/2,10),h=U=>Math.round(U*1e3)/1e3,p=h([r,r+l,r,r-l][t]),g=h([i-u,i,i+u,i][t]),d=h([s,s+l,s,s-l][e]),v=h([a-u,a,a+u,a][e]),f=["M",h(r),h(i),"C",p,g,d,v,h(s),h(a)].join(" "),b=Math.min(r,p,d,s)-on/2,y=Math.max(r,p,d,s)+on/2,I=Math.min(i,g,v,a)-on/2,E=Math.max(i,g,v,a)+on/2,k=y-b+on,L=E-I+on;return{width:k,height:L,path:f,minX:b,minY:I}}var jt=(t=>(t[t.FALSE=-1]="FALSE",t[t.UNKNOWN=0]="UNKNOWN",t[t.TRUE=1]="TRUE",t))(jt||{});const mp=xt({name:"Wire",props:{geometry:{type:Object,required:!0},isAnimated:{type:Boolean,default:!1},sourceValue:{type:Number,required:!0},label:{type:String,default:""},isPreview:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1}},emits:{add:(t,e)=>!0,move:(t,e)=>!0,added:()=>!0,select:t=>!0,deselect:()=>!0},setup(t,{emit:e}){const n=Gt(),o=Gt(!1);function r(f,b){if(b)return o.value=!0,e("add",{x:f.touches[0].clientX,y:f.touches[0].clientY},{x:0,y:0});t.isSelected?e("deselect"):e("select",!0)}function i(f,b){o.value||e("add",f,b)}function s(){o.value=!1,e("added")}function a(f){u(f),t.isSelected||e("select",!f.ctrlKey)}const l=Kt(()=>o.value),{onMouseDown:u,onMouseUp:h,onTouchStart:p,onTouchMove:g,onTouchEnd:d,dragEnd:v}=cc({allowTouchDrag:l,longTouchTimeout:500,onTouched:r,onDragStart:i,onDrag:(f,b)=>e("move",f,b),onDragEnd:()=>s()});return{wireRef:n,LogicValue:jt,onLeftMouseDown:a,onMouseUp:h,onTouchStart:p,onTouchMove:g,onTouchEnd:d,dragEnd:v}}});const gp=["width","height"],vp=["transform","d"],yp=["transform","d"],bp=["transform","d"];function _p(t,e,n,o,r,i){return Y(),dt("svg",{class:Qt(["wire",{"wire--selected":t.isSelected,"wire--preview":t.isPreview,"wire--flash":t.flash}]),width:t.geometry.width,height:t.geometry.height,"aria-roledescription":"connection"},[yt("path",{class:"wire__outline",fill:"none",transform:`translate(${Math.abs(t.geometry.minX)}, ${Math.abs(t.geometry.minY)})`,d:t.geometry.path},null,8,vp),yt("path",{class:Qt(["wire__display",{"wire__display--on":t.sourceValue===t.LogicValue.TRUE,"wire__display--off":t.sourceValue===t.LogicValue.FALSE}]),fill:"none",transform:`translate(${Math.abs(t.geometry.minX)}, ${Math.abs(t.geometry.minY)})`,d:t.geometry.path},null,10,yp),yt("path",{class:"wire__clickable",fill:"none",ref:"wireRef",transform:`translate(${Math.abs(t.geometry.minX)}, ${Math.abs(t.geometry.minY)})`,d:t.geometry.path,onMousedown:e[0]||(e[0]=An((...s)=>t.onLeftMouseDown&&t.onLeftMouseDown(...s),["left"])),onMouseup:e[1]||(e[1]=(...s)=>t.onMouseUp&&t.onMouseUp(...s)),onTouchstart:e[2]||(e[2]=(...s)=>t.onTouchStart&&t.onTouchStart(...s)),onTouchmove:e[3]||(e[3]=(...s)=>t.onTouchMove&&t.onTouchMove(...s)),onTouchend:e[4]||(e[4]=(...s)=>t.onTouchEnd&&t.onTouchEnd(...s)),onTouchcancel:e[5]||(e[5]=(...s)=>t.dragEnd&&t.dragEnd(...s))},null,40,bp)],10,gp)}const fc=Pt(mp,[["render",_p]]);function Zn(t,e,n,o){return{x:(n.x-e.x-t.left)/o,y:(n.y-e.y-t.top)/o}}const wp=xt({name:"Connection",components:{Draggable:fi,WireDraggable:fc,PortHandle:ui},props:{isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},zIndex:{type:Number,default:0},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(t,{emit:e}){const n=t.store(),o=n.connections[t.id],r=Kt(()=>n.ports[o.source]),i=Kt(()=>n.ports[o.target]),s=Gt(!1);let a={x:0,y:0};const l=(U={})=>({position:{x:0,y:0},orientation:0,rotation:0,canInflect:!0,...U}),u=Kt(()=>n.connectionPreviewId===t.id),h=Kt(()=>{const{controlPoints:U}=n.connections[t.id],M=[];let z=l({...r.value,canInflect:!1});for(let $=0;$<=U.length;$++){const Z=$===U.length?l({...i.value,canInflect:!1}):U[$],G=uc(z,{...Z,orientation:$===U.length?Z.orientation:(Z.orientation+2)%4});M.push({geometry:G,wirePosition:{x:Math.min(z.position.x,Z.position.x)+G.minX,y:Math.min(z.position.y,Z.position.y)+G.minY},portPosition:Z.position,isSelected:Z.isSelected,ref:Gt()}),z=Z}return M}),p=Kt(()=>{const U=r.value.position,M=i.value.position;return{position:"absolute",left:U.x+(M.x-U.x)/2,top:U.y+(M.y-U.y)/2}}),g=Kt(()=>{const U=h.value.reduce(($,{ref:Z})=>{var S,F,m,tt;const G=(tt=(m=(F=(S=Z.value)==null?void 0:S[0])==null?void 0:F.$el)==null?void 0:m.querySelector("path"))==null?void 0:tt.getBoundingClientRect();return G?{top:Math.min($.top,G.top),left:Math.min($.left,G.left),bottom:Math.max($.bottom,G.bottom),right:Math.max($.right,G.right)}:$},{top:1/0,left:1/0,bottom:-1/0,right:-1/0}),{x:M,y:z}=Zn(n.canvas,n.viewport,{x:U.left,y:U.top},n.zoom);return{left:`${M}px`,top:`${z}px`,width:`${(U.right-U.left)/n.zoom}px`,height:`${(U.bottom-U.top)/n.zoom}px`}});function d(U,M){n.cacheState(),n.connections[t.id].groupId?a=U:n.setControlPointSnapBoundaries(t.id,h.value,M)}function v(U,M,z){n.connections[t.id].groupId?(n.setSelectionPosition({x:U.x-a.x,y:U.y-a.y}),a=U):n.dragControlPoint(t.id,U,M,z)}function f(U,M){v(U,{x:0,y:0},M)}function b(U,M){n.cacheState(),n.connections[t.id].groupId?a=U:(n.deselectAll(),n.setControlPointSnapBoundaries(t.id,h.value,-1),n.addControlPoint(t.id,U,M)),f(U,M)}function y(U){t.isSelected||n.setConnectionSelectionState(t.id,!0),e("contextmenu",U)}function I(U,M){n.connections[t.id].controlPoints[M].isSelected||n.setControlPointSelectionState(t.id,M,!0),e("contextmenu",U)}function E(U,M){M&&!n.connections[t.id].controlPoints[U].isSelected&&n.deselectAll(),n.setControlPointSelectionState(t.id,U,!0)}function k(U){U&&!t.isSelected&&n.deselectAll(),n.setConnectionSelectionState(t.id,!0)}function L(){n.commitCachedState()}return{isPreview:u,hasFocus:s,source:r,geometries:h,centroidStyle:p,boundingBox:g,onDragStart:d,onPortDrag:v,onPortAdd:b,onNewPortMove:f,onConnectionContextMenu:y,onControlPointContextMenu:I,dragEnd:L,selectControlPoint:E,selectConnection:k,cacheState:n.cacheState,setConnectionSelectionState:n.setConnectionSelectionState,setControlPointSelectionState:n.setControlPointSelectionState}}});function Cp(t,e,n,o,r,i){const s=bt("port-handle"),a=bt("draggable"),l=bt("wire-draggable");return Y(),dt(Zt,null,[(Y(!0),dt(Zt,null,pe(t.geometries,(u,h)=>(Y(),Rt(a,{key:h,position:u.portPosition,style:ne({zIndex:t.zIndex}),onDragStart:p=>t.onDragStart(p,h),onDrag:(p,g)=>t.onPortDrag(p,g,h),onDragEnd:t.dragEnd,onSelect:p=>t.selectControlPoint(h,p),onDeselect:p=>t.setControlPointSelectionState(t.id,h,!1),onContextmenu:p=>t.onControlPointContextMenu(p,h)},{default:Ft(()=>[ut(s,{"is-selected":u.isSelected},null,8,["is-selected"])]),_:2},1032,["position","style","onDragStart","onDrag","onDragEnd","onSelect","onDeselect","onContextmenu"]))),128)),(Y(!0),dt(Zt,null,pe(t.geometries,(u,h)=>(Y(),Rt(l,{key:h,geometry:u.geometry,ref_for:!0,ref:u.ref,"source-value":t.source.value,"is-selected":t.isSelected,style:ne({left:u.wirePosition.x+"px",top:u.wirePosition.y+"px"}),onAdd:p=>t.onPortAdd(p,h),onMove:p=>t.onNewPortMove(p,h),onAdded:t.dragEnd,onSelect:t.selectConnection,onDeselect:e[0]||(e[0]=p=>t.setConnectionSelectionState(t.id,!1)),onContextmenu:t.onConnectionContextMenu},null,8,["geometry","source-value","is-selected","style","onAdd","onMove","onAdded","onSelect","onContextmenu"]))),128)),yt("div",{style:ne(t.centroidStyle),tabindex:0,onFocus:e[1]||(e[1]=u=>t.hasFocus=!0),onBlur:e[2]||(e[2]=u=>t.hasFocus=!1)},null,36),t.hasFocus?(Y(),dt("div",{key:0,class:"connection__bounding-box",style:ne(t.boundingBox)},null,4)):de("",!0)],64)}const Sp=Pt(wp,[["render",Cp]]),Ip=xt({name:"InputNode",props:{ports:{type:Object,default:()=>{}}},emits:{signal:t=>!0},setup(t,{emit:e}){var i;const n=Gt(0),o=(i=t.ports[Ut.Right])==null?void 0:i[0];Rr(()=>{n.value=(o==null?void 0:o.value)||jt.UNKNOWN});function r(s){s.preventDefault(),s.stopPropagation(),n.value=n.value===jt.TRUE?jt.FALSE:jt.TRUE,e("signal",{id:o.id,value:n.value})}return{model:n,onInput:r}}});const xp={class:"switch__inner",tabindex:0,"aria-role":"switch"},Ep=yt("div",{class:"switch__light"},null,-1),Op=yt("div",{class:"switch__characters"},null,-1),Pp=[Ep,Op];function kp(t,e,n,o,r,i){return Y(),dt("div",{class:Qt(["switch",{"switch--on":t.model===1,"switch--off":t.model===-1,"switch--hi-z":t.model===0}])},[yt("div",xp,[yt("div",{class:"switch__trigger",onMousedown:e[0]||(e[0]=An((...s)=>t.onInput&&t.onInput(...s),["stop"])),onTouchstart:e[1]||(e[1]=An((...s)=>t.onInput&&t.onInput(...s),["stop"]))},Pp,32)])],2)}const $p=Pt(Ip,[["render",kp]]),Dp=xt({name:"CustomCircuitPort",components:{PortWire:tc},props:{label:{type:String,default:""},type:{type:String,required:!0}}});const Ap={class:"custom-circuit-port"},Tp={class:"custom-circuit-port__label"};function zp(t,e,n,o,r,i){const s=bt("port-wire");return Y(),dt("div",Ap,[yt("div",Tp,he(t.label),1),ut(s,{type:t.type},null,8,["type"])])}const Mp=Pt(Dp,[["render",zp]]),Bp=xt({name:"CustomCircuitPortZone",components:{CustomCircuitPort:Mp},props:{ports:{type:Array,default:()=>[]},orientation:{type:String,required:!0},circuitName:{type:String,required:!0},type:{type:String,required:!0}}});function Lp(t,e,n,o,r,i){const s=bt("custom-circuit-port");return Y(),dt("div",{class:Qt(`custom-circuit-port-zone custom-circuit-port-zone--${t.orientation}`)},[(Y(!0),dt(Zt,null,pe(t.ports,a=>(Y(),dt("div",{key:a.id,class:Qt([`custom-circuit-port-zone__io--${t.type}`,"custom-circuit-port-zone__io"])},[ut(s,{label:a.name.replace(t.circuitName,""),type:t.type},null,8,["label","type"])],2))),128))],2)}const Np=Pt(Bp,[["render",Lp]]),Rp=xt({name:"CustomCircuit",components:{CustomCircuitPortZone:Np},props:{ports:{type:Object,default:()=>{}},name:{type:String,default:"circuit"}},setup(){return{Direction:Ut}}});const Fp={class:"custom-circuit__center"},jp={class:"custom-circuit__name"};function Vp(t,e,n,o,r,i){const s=bt("custom-circuit-port-zone");return Y(),dt("div",{class:Qt(["custom-circuit",{"custom-circuit--no-left":!t.ports[t.Direction.Left].length,"custom-circuit--no-right":!t.ports[t.Direction.Right].length,"custom-circuit--no-top":!t.ports[t.Direction.Top].length,"custom-circuit--no-bottom":!t.ports[t.Direction.Bottom].length}])},[ut(s,{ports:t.ports[t.Direction.Top],"circuit-name":t.name,orientation:"horizontal",type:"top"},null,8,["ports","circuit-name"]),yt("div",Fp,[ut(s,{ports:t.ports[t.Direction.Left],"circuit-name":t.name,orientation:"vertical",type:"left"},null,8,["ports","circuit-name"]),yt("div",jp,he(t.name),1),ut(s,{ports:t.ports[t.Direction.Right],"circuit-name":t.name,orientation:"vertical",type:"right"},null,8,["ports","circuit-name"])]),ut(s,{ports:t.ports[t.Direction.Bottom],"circuit-name":t.name,orientation:"horizontal",type:"bottom"},null,8,["ports","circuit-name"])],2)}const Up=Pt(Rp,[["render",Vp]]),Hp={" ":[0,0,0,0,0,0,0],0:[1,1,1,1,1,1,0],1:[0,0,1,1,0,0,0],2:[0,1,1,0,1,1,1],3:[0,1,1,1,1,0,1],4:[1,0,1,1,0,0,1],5:[1,1,0,1,1,0,1],6:[1,1,0,1,1,1,1],7:[0,1,1,1,0,0,0],8:[1,1,1,1,1,1,1],9:[1,1,1,1,0,0,1],a:[1,1,1,1,0,1,1],b:[1,0,0,1,1,1,1],c:[1,1,0,0,1,1,0],d:[0,0,1,1,1,1,1],e:[1,1,0,0,1,1,1],f:[1,1,0,0,0,1,1]},Wp=["M 8,10 L 12,14 L 12,42 L 8,46 L 4,42 L 4,14 L 8,10 z","M 10,8 L 14,4 L 42,4 L 46,8 L 42,12 L 14,12 L 10,8 z","M 48,10 L 52,14 L 52,42 L 48,46 L 44,42 L 44,14 L 48,10 z","M 48,50 L 52,54 L 52,82 L 48,86 L 44,82 L 44,54 L 48,50 z","M 10,88 L 14,84 L 42,84 L 46,88 L 42,92 L 14,92 L 10,88 z","M 8,50 L 12,54 L 12,82 L 8,86 L 4,82 L 4,54 L 8,50 z","M 10,48 L 14,44 L 42,44 L 46,48 L 42,52 L 14,52 L 10,48 z"],Gp=xt({name:"DigitDisplay",props:{ports:{type:Object,default:()=>{}}},setup(t){return{segments:Kt(()=>{var r,i;const n=(i=(r=t.ports)==null?void 0:r[Ut.Left])==null?void 0:i.map(s=>s.value===jt.TRUE?1:0).join(""),o=parseInt(n,2).toString(16).toLowerCase();return Hp[o].map((s,a)=>{const l=s?"on":"bg-tertiary";return{path:Wp[a],style:{fill:`var(--color-${l})`}}})})}}});const qp={class:"digit"},Zp={width:"58",height:"98"},Kp=["d"];function Xp(t,e,n,o,r,i){return Y(),dt("div",qp,[(Y(),dt("svg",Zp,[yt("g",null,[(Y(!0),dt(Zt,null,pe(t.segments,(s,a)=>(Y(),dt("path",{key:a,style:ne(s.style),d:s.path},null,12,Kp))),128))])]))])}const Yp=Pt(Gp,[["render",Xp]]),Jp={CustomCircuit:Up,DigitDisplay:Yp},Qp=xt({name:"IntegratedCircuit",components:Jp,props:{ports:{type:Object,default:()=>{}},subtype:{type:String,required:!0},name:{type:String,default:""}}});function tm(t,e,n,o,r,i){return Y(),Rt(ri(t.subtype),Ha(xs(t.$props)),null,16)}const em=Pt(Qp,[["render",tm]]),nm=xt({name:"And",props:{isNegated:{type:Boolean,default:!1}}});const om={class:"and",width:"100",height:"50",viewBox:"0 -1 100 50"},rm=yt("path",{transform:"translate(20, 0)",class:"and__element",d:"M 0 0 V 48 H 24 C 36 48 48 36 48 24 C 48 12 36 0 24 0 Z"},null,-1),im={key:0,cx:"73",cy:"24",r:"5",class:"and__negation"};function sm(t,e,n,o,r,i){return Y(),dt("svg",om,[rm,t.isNegated?(Y(),dt("circle",im)):de("",!0)])}const hc=Pt(nm,[["render",sm]]),am=xt({name:"Or",props:{isNegated:{type:Boolean,default:!1},isXor:{type:Boolean,default:!1}}});const lm={width:"100",height:"50",viewBox:"0 -1 100 50",class:"or"},cm=yt("path",{transform:"translate(10, 0)",fill:"#fff",d:"M 0 0 C 12 12 12 36 0 48 H 0 H 24 C 48 48 60 36 72 24 C 60 12 48 0 24 0 Z",class:"or__element"},null,-1),um={key:0,fill:"none",d:"M 0 0 C 12 12 12 36 0 48",class:"or__tail"},dm={key:1,cx:"88",cy:"24",r:"5",class:"or__negation"};function fm(t,e,n,o,r,i){return Y(),dt("svg",lm,[cm,t.isXor?(Y(),dt("path",um)):de("",!0),t.isNegated?(Y(),dt("circle",dm)):de("",!0)])}const hi=Pt(am,[["render",fm]]),hm=xt({name:"Nor",components:{Or:hi}});function pm(t,e,n,o,r,i){const s=bt("or");return Y(),Rt(s,{"is-negated":!0})}const mm=Pt(hm,[["render",pm]]),gm=xt({name:"Buffer",props:{isNegated:{type:Boolean,default:!1}}});const vm={class:"buffer",width:"100",height:"50",viewBox:"0 -1 100 50"},ym=yt("path",{class:"buffer__element",transform:"translate(40, 0)",stroke:"#000","stroke-width":"2",fill:"#fff",d:"M 0 0 V 48 L 36 24 Z"},null,-1),bm={key:0,class:"buffer__negation",stroke:"#000","stroke-width":"2",cx:"88",cy:"24",r:"5",fill:"#fff"};function _m(t,e,n,o,r,i){return Y(),dt("svg",vm,[ym,t.isNegated?(Y(),dt("circle",bm)):de("",!0)])}const wm=Pt(gm,[["render",_m]]),Cm=xt({name:"Not",components:{Buffer:wm}});function Sm(t,e,n,o,r,i){const s=bt("buffer");return Y(),Rt(s,{"is-negated":!0})}const Im=Pt(Cm,[["render",Sm]]),xm=xt({name:"Nand",components:{And:hc}});function Em(t,e,n,o,r,i){const s=bt("and");return Y(),Rt(s,{"is-negated":!0})}const Om=Pt(xm,[["render",Em]]),Pm=xt({name:"Xnor",components:{Or:hi}});function km(t,e,n,o,r,i){const s=bt("or");return Y(),Rt(s,{"is-negated":!0,"is-xor":!0})}const $m=Pt(Pm,[["render",km]]),Dm=xt({name:"Xor",components:{Or:hi}});function Am(t,e,n,o,r,i){const s=bt("or");return Y(),Rt(s,{"is-xor":!0})}const Tm=Pt(Dm,[["render",Am]]),zm=xt({name:"LogicGate",components:{And:hc,Or:hi,Nor:mm,Not:Im,Nand:Om,Xnor:$m,Xor:Tm},props:{properties:{type:Object,default:()=>({})},subtype:{subtype:String,required:!0}},setup(t){return{inputCount:Kt(()=>{var n;return((n=t.properties.inputCount)==null?void 0:n.value)||2})}}});const Mm=yt("div",{class:"logic-gate__wire"},null,-1),Bm={key:0,class:"logic-gate__wires--multiwire"},Lm=yt("div",{class:"logic-gate__wires-divider"},[yt("div",{class:"logic-gate__wire"})],-1);function Nm(t,e,n,o,r,i){return Y(),dt("div",{style:ne({height:`${25*t.inputCount}px`}),class:"logic-gate"},[yt("div",{style:ne({width:(t.inputCount>2,100+"%")}),class:"logic-gate__wires"},[yt("div",{class:Qt([{"logic-gate__wires-divider--multiwire":t.inputCount>2},"logic-gate__wires-divider"])},[(Y(!0),dt(Zt,null,pe(t.inputCount-1,s=>(Y(),dt("div",{key:s,class:"logic-gate__wire"}))),128)),Mm],2),t.inputCount>2?(Y(),dt("div",Bm)):de("",!0),Lm],4),(Y(),Rt(ri(t.subtype),{class:"logic-gate__component"}))],4)}const Rm=Pt(zm,[["render",Nm]]),Fm=xt({name:"Lightbulb",props:{ports:{type:Object,default:()=>{}}},setup(t){return{modifier:Kt(()=>{var n,o;switch((o=(n=t.ports[Ut.Left])==null?void 0:n[0])==null?void 0:o.value){case jt.TRUE:return"on";case jt.FALSE:return"off";default:return"high-z"}})}}});const jm={class:"lightbulb"},Vm=yt("div",{class:"lightbulb__wire"},null,-1);function Um(t,e,n,o,r,i){return Y(),dt("div",jm,[Vm,yt("div",{class:Qt(["lightbulb__bulb",`lightbulb__bulb--${t.modifier}`])},null,2)])}const Hm=Pt(Fm,[["render",Um]]),Wm={Lightbulb:Hm},Gm=xt({name:"OutputNode",components:Wm,props:{ports:{type:Object,default:()=>{}},subtype:{type:String,required:!0}}});function qm(t,e,n,o,r,i){return Y(),Rt(ri(t.subtype),Ha(xs(t.$props)),null,16)}const Zm=Pt(Gm,[["render",qm]]),Km={InputNode:$p,IntegratedCircuit:em,LogicGate:Rm,OutputNode:Zm},Xm=xt({name:"CircuitComponent",components:Km,emits:{signal:t=>!0},props:{isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},type:{type:String,required:!0},subtype:{type:String,required:!0},name:{type:String,default:""},ports:{type:Object,default:()=>{}},properties:{type:Object,default:()=>({})}},setup(t,{emit:e}){return{onChange(n){e("signal",n)},ItemType:Oe,ItemSubtype:re}}});function Ym(t,e,n,o,r,i){return Y(),dt("div",{class:Qt(["circuit-component",{"circuit-component--selected":t.isSelected,"circuit-component--flash":t.flash,"circuit-component--custom":t.subtype===t.ItemSubtype.CustomCircuit}])},[(Y(),Rt(ri(t.type),Bl(t.$props,{onSignal:t.onChange}),null,16,["onSignal"])),(Y(),dt(Zt,null,pe(["left","top","right","bottom"],(s,a)=>yt("div",{key:a,class:Qt([`circuit-component__ports--${s}`,"circuit-component__ports"])},[ue(t.$slots,a)],2)),64))],2)}const pc=Pt(Xm,[["render",Ym]]),Jm=xt({name:"Properties",components:{Icon:He},props:{properties:{type:Object,default:()=>({})},id:{type:String,default:""},viewport:{type:Object,required:!0}},emits:{update:(t,e)=>!0,pan:(t,e)=>!0},setup(t,{emit:e}){const n=Gt(),o=Gt(!1),r=Gt(We(t.properties));Pn(t.properties,h=>{r.value=We(h)},{deep:!0});function i(h){o.value=!1,h.preventDefault()}function s(h){var p;i(h),(p=n.value)==null||p.focus()}function a(h){h.stopPropagation()}function l(){e("update",t.id,r.value)}function u(){o.value=!0,Zo(()=>{if(!n.value)return;const{bottom:h,right:p}=n.value.getBoundingClientRect(),g=Math.max(p-t.viewport.right,0),d=Math.max(h-t.viewport.bottom,0);(g>0||d>0)&&e("pan",{x:-g,y:-d},!0)})}return{faClose:wo,faWrench:Yf,model:r,isOpen:o,propertiesRef:n,close:i,onKeyDown:s,onChange:l,openProperties:u,stopPropagation:a}}});const Qm=["aria-hidden"],t1={class:"properties__heading",role:"title"},e1=["for"],n1=["onUpdate:modelValue","id"],o1=["value"],r1=["onUpdate:modelValue","id"],i1=["onUpdate:modelValue","min","max","type","id"];function s1(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("div",{onContextmenu:e[3]||(e[3]=(...a)=>t.stopPropagation&&t.stopPropagation(...a)),onMousedown:e[4]||(e[4]=(...a)=>t.stopPropagation&&t.stopPropagation(...a)),onMouseup:e[5]||(e[5]=(...a)=>t.stopPropagation&&t.stopPropagation(...a)),onKeydown:e[6]||(e[6]=ao((...a)=>t.onKeyDown&&t.onKeyDown(...a),["esc"])),class:"properties"},[t.isOpen?(Y(),dt("div",{key:0,class:"properties__dialog",ref:"propertiesRef","aria-hidden":!t.isOpen},[yt("div",t1,[Es(" Properties "),ut(s,{tabindex:0,icon:t.faClose,onClick:t.close,role:"button",class:"properties__close"},null,8,["icon","onClick"])]),(Y(!0),dt(Zt,null,pe(t.model,(a,l)=>(Y(),dt("div",{key:l,class:"properties__entry"},[yt("label",{for:`${t.id}_${l}`,class:"properties__label"},he(a.label),9,e1),a.options?fo((Y(),dt("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${t.id}_${l}`,class:"properties__input",onChange:e[0]||(e[0]=(...u)=>t.onChange&&t.onChange(...u))},[(Y(!0),dt(Zt,null,pe(a.options,(u,h)=>(Y(),dt("option",{key:h,value:u},he(h),9,o1))),128))],40,n1)),[[Ds,a.value]]):a.type==="boolean"?fo((Y(),dt("input",{key:1,"onUpdate:modelValue":u=>a.value=u,id:`${t.id}_${l}`,type:"checkbox",class:"properties__input",onChange:e[1]||(e[1]=(...u)=>t.onChange&&t.onChange(...u))},null,40,r1)),[[$s,a.value]]):fo((Y(),dt("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${t.id}_${l}`,class:"properties__input",onChange:e[2]||(e[2]=(...u)=>t.onChange&&t.onChange(...u))},null,40,i1)),[[jl,a.value]])]))),128))],8,Qm)):(Y(),Rt(s,{key:1,onKeydown:ao(t.openProperties,["space"]),onClick:t.openProperties,tabindex:0,icon:t.faWrench,class:"properties__icon"},null,8,["onKeydown","onClick","icon"]))],32)}const a1=Pt(Jm,[["render",s1]]),l1=xt({name:"PortPivot",props:{rotation:{type:Number,default:0}}});function c1(t,e,n,o,r,i){return Y(),dt("div",{class:"port-pivot",style:ne({transform:`rotate(-${t.rotation*90}deg)`})},[ue(t.$slots,"default")],4)}const mc=Pt(l1,[["render",c1]]),u1=xt({name:"PortItem",components:{WireDraggable:fc,PortHandle:ui,PortPivot:mc,Draggable:fi},props:{port:{type:Object,required:!0},store:{type:Function,required:!0}},setup(t,{emit:e}){const n=t.store(),{createConnectionExperiment:o,updateConnectionExperiment:r,terminateConnectionExperiment:i}=n,s=Kt(()=>n.activePortId===t.port.id||n.connectablePortIds.has(t.port.id)),a=Kt(()=>{var b;if(((b=n.connectionExperiment)==null?void 0:b.sourceId)!==t.port.id)return null;const{targetPosition:d}=n.connectionExperiment,v=uc(t.port,{position:d,orientation:t.port.orientation,rotation:t.port.rotation,canInflect:!0}),f={x:Math.min(t.port.position.x,d.x)+v.minX,y:Math.min(t.port.position.y,d.y)+v.minY};return{geometry:v,position:f,targetPosition:d}}),l=Kt(()=>n.items[t.port.elementId].zIndex+nc);function u(d){d.preventDefault(),d.stopPropagation(),e("deselect",d)}function h(){n.unsetConnectionPreview(),n.cachedState=null}function p(d){d.stopPropagation(),d.preventDefault(),navigator.vibrate(100),n.togglePortMonitoring(t.port.id)}function g(d){d.stopPropagation(),d.preventDefault(),n.togglePortMonitoring(t.port.id)}return{wire:a,isActive:s,store:n,zIndex:l,onEscapeKey:u,onBlur:h,onTouchHold:p,onDoubleClick:g,createConnectionExperiment:o,updateConnectionExperiment:r,terminateConnectionExperiment:i}}});function d1(t,e,n,o,r,i){var h,p,g,d;const s=bt("wire-draggable"),a=bt("port-handle"),l=bt("port-pivot"),u=bt("draggable");return Y(),dt(Zt,null,[t.wire?(Y(),Rt(s,{key:0,geometry:t.wire.geometry,style:ne({left:((h=t.wire.position)==null?void 0:h.x)+"px",top:((p=t.wire.position)==null?void 0:p.y)+"px"}),"source-value":t.port.value},null,8,["geometry","style","source-value"])):de("",!0),t.wire?(Y(),Rt(a,{key:1,style:ne({left:((g=t.wire.targetPosition)==null?void 0:g.x)+"px",top:((d=t.wire.targetPosition)==null?void 0:d.y)+"px"})},null,8,["style"])):de("",!0),ut(u,{position:t.port.position,style:ne({zIndex:t.zIndex}),onDragStart:e[0]||(e[0]=v=>t.createConnectionExperiment(t.port.id)),onDrag:t.updateConnectionExperiment,onDragEnd:t.terminateConnectionExperiment,onTouchhold:t.onTouchHold,onDblclick:t.onDoubleClick},{default:Ft(()=>[ut(l,null,{default:Ft(()=>[ut(a,{active:t.isActive},null,8,["active"])]),_:1})]),_:1},8,["position","style","onDrag","onDragEnd","onTouchhold","onDblclick"])],64)}const gc=Pt(u1,[["render",d1]]),f1={},h1={switch1_nor1_conn:{id:"switch1_nor1_conn",connectionChainId:"switch1_nor1_conn",source:"switchOutputPort1",target:"nor1InputPort1",isSelected:!1,groupId:null,zIndex:7},switch2_nor2_conn:{id:"switch2_nor2_conn",connectionChainId:"switch2_nor2_conn",source:"switchOutputPort2",target:"nor2InputPort1",isSelected:!1,groupId:null,zIndex:8},nor1_nor2_conn:{id:"nor1_nor2_conn",connectionChainId:"nor1_nor2_conn",source:"nor1OutputPort1",target:"nor2InputPort2",isSelected:!1,groupId:null,zIndex:9},nor2_nor1_conn:{id:"nor2_nor1_conn",connectionChainId:"nor2_nor1_conn",source:"nor2OutputPort1",target:"nor1InputPort2",isSelected:!1,groupId:null,zIndex:10},nor1_lightbulb1_conn:{id:"nor1_lightbulb1_conn",connectionChainId:"nor1_lightbulb1_conn",source:"nor1OutputPort1",target:"lightbulbInputPort1",isSelected:!1,groupId:null,zIndex:11},nor2_lightbulb2_conn:{id:"nor2_lightbulb2_conn",connectionChainId:"nor2_lightbulb2_conn",source:"nor2OutputPort1",target:"lightbulbInputPort2",isSelected:!1,groupId:null,zIndex:12}},p1={nor1InputPort1:{id:"nor1InputPort1",elementId:"nor1",name:"Input Port 1",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1InputPort2:{id:"nor1InputPort2",elementId:"nor1",name:"Input Port 2",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1OutputPort1:{id:"nor1OutputPort1",elementId:"nor1",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},nor2InputPort1:{id:"nor2InputPort1",elementId:"nor2",name:"Input Port 1",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2InputPort2:{id:"nor2InputPort2",elementId:"nor2",name:"Input Port 2",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2OutputPort1:{id:"nor2OutputPort1",elementId:"nor2",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort1:{id:"switchOutputPort1",elementId:"switch1",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort2:{id:"switchOutputPort2",elementId:"switch2",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},lightbulbInputPort1:{id:"lightbulbInputPort1",elementId:"lightbulb1",name:"Input Port",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},lightbulbInputPort2:{id:"lightbulbInputPort2",elementId:"lightbulb2",name:"Input Port",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1}},m1={nor1:{id:"nor1",type:"LogicGate",subtype:"Nor",portIds:["nor1InputPort1","nor1InputPort2","nor1OutputPort1"],position:{x:300,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2}},groupId:null,zIndex:1,width:100,height:150},nor2:{id:"nor2",type:"LogicGate",subtype:"Nor",portIds:["nor2InputPort2","nor2InputPort1","nor2OutputPort1"],position:{x:300,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2}},groupId:null,zIndex:2,width:120,height:51},switch1:{id:"switch1",type:"InputNode",subtype:"Clock",portIds:["switchOutputPort1"],position:{x:100,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},interval:{label:"Interval",value:1e3,type:"number",min:100,step:100},startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:3,width:40,height:40},switch2:{id:"switch2",type:"InputNode",subtype:"Switch",portIds:["switchOutputPort2"],position:{x:100,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},startValue:{label:"Start value",value:1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:4,width:40,height:40},lightbulb1:{id:"lightbulb1",type:"OutputNode",subtype:"Lightbulb",portIds:["lightbulbInputPort1"],position:{x:700,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:5,width:40,height:40},lightbulb2:{id:"lightbulb2",type:"OutputNode",subtype:"Lightbulb",portIds:["lightbulbInputPort2"],position:{x:700,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:6,width:40,height:40}},g1={groups:f1,connections:h1,ports:p1,items:m1};class pn{constructor(e,n=[]){wt(this,"inputValues",{});wt(this,"outputs",[]);wt(this,"isValueChanged",!0);wt(this,"forceContinue",!1);wt(this,"name");wt(this,"value",jt.UNKNOWN);wt(this,"newValue",jt.UNKNOWN);wt(this,"events",[]);wt(this,"setValue",e=>{this.newValue=e});wt(this,"invokeEvent",(e,n,o)=>{this.events.forEach(r=>{r.eventType===e&&r.callback(n,o)})});wt(this,"eval",()=>this.value);wt(this,"valueCount",e=>Object.values(this.inputValues).filter(n=>n===e).length);wt(this,"updateOutputs",e=>{const n=[];this.outputs.forEach(({node:o,id:r})=>{o.update(e,r),n.push(r)}),this.invokeEvent("change",e,n)});wt(this,"update",(e,n)=>{this.inputValues[n]=e,this.newValue=this.eval(),this.invokeEvent("change",this.newValue,this.outputs.map(({id:o})=>o))});wt(this,"propagate",()=>{let e=[];return this.value!==this.newValue&&(this.isValueChanged=!0,this.value=this.newValue,this.updateOutputs(this.newValue),this.outputs.forEach(({node:n})=>{n.forceContinue?e=e.concat(n.propagate()):e.push(n)})),e});wt(this,"reset",()=>{this.value=jt.UNKNOWN,this.newValue=jt.UNKNOWN,this.invokeEvent("change",this.newValue,this.outputs.map(({id:e})=>e))});wt(this,"on",(e,n)=>{this.events.push({eventType:e,callback:n})});this.name=e,this.inputValues=n.reduce((o,r)=>({...o,[r]:jt.UNKNOWN}),{})}}class os extends pn{constructor(){super(...arguments);wt(this,"reset",()=>{})}}class v1{constructor(e,n){wt(this,"node");wt(this,"id");this.node=e,this.id=n}}class y1{constructor(){wt(this,"queue",[]);wt(this,"nodes",[]);wt(this,"inputNodes",[]);wt(this,"addNode",e=>{e instanceof os&&(this.inputNodes.push(e),this.enqueue(e)),this.nodes.push(e)});wt(this,"removeNode",e=>{if(e instanceof os){const o=this.inputNodes.findIndex(({name:r})=>r===e.name);o!==-1&&this.inputNodes.splice(o,1)}const n=this.nodes.findIndex(({name:o})=>o===e.name);n!==-1&&(this.removeNodeOutputs(e),this.nodes.splice(n,1)),this.advance()});wt(this,"addConnection",(e,n,o,r=jt.UNKNOWN)=>{!e||!n||(e.outputs.push(new v1(n,o)),e.value=r,r||this.enqueue(e))});wt(this,"removeConnection",(e,n,o=jt.UNKNOWN)=>{var r;(r=e==null?void 0:e.outputs)==null||r.concat().forEach(({node:i,id:s},a)=>{n===i&&(n.update(o,s),e.outputs.splice(a,1),this.enqueue(n))})});wt(this,"removeNodeOutputs",e=>{for(let n=0;n<e.outputs.length;n++)this.removeConnection(e,e.outputs[n].node)});wt(this,"enqueue",(...e)=>{e.forEach(n=>{~this.queue.indexOf(n)||this.queue.push(n)})});wt(this,"dequeue",e=>{const n=this.queue.indexOf(e);~n&&this.queue.splice(n,1)});wt(this,"reset",()=>{this.nodes.forEach(e=>e.reset())});wt(this,"advance",()=>{let e=!1,n=[];for(;this.queue.length>0;){const o=this.queue.shift();o&&(n=n.concat(o.propagate()),this.dequeue(o),o.isValueChanged&&(e=!0),o.forceContinue&&(this.enqueue(...n),n=[]))}e&&this.enqueue(...n)})}}class Tr{constructor(e,n,o,r){wt(this,"id");wt(this,"name");wt(this,"width",0);wt(this,"lastY",0);wt(this,"segments",[]);wt(this,"hue",0);wt(this,"initialize",e=>{const n={x:1,y:1};e===1?(n.y=0,this.lastY=1):(n.y=1,this.lastY=0),this.addSegment(n),this.updateWidth()});wt(this,"reset",()=>{this.segments=[],this.width=0,this.initialize(this.lastY===1?0:1)});wt(this,"update",e=>{this.drawPulseConstant()});wt(this,"addSegment",e=>{const n=this.segments[this.segments.length-1];!n&&e.x>0?this.segments.push({x:0,y:e.y}):n&&n.x!==e.x&&n.y!==e.y&&this.segments.pop(),this.segments.push(e),this.updateWidth()});wt(this,"drawPulseChange",e=>{const{x:n}=this.segments[this.segments.length-1],o=e===jt.TRUE?0:1;this.updateWidth(),this.addSegment({x:n,y:o})});wt(this,"drawPulseConstant",()=>{const e=this.segments[this.segments.length-1],n=this.lastY!==e.y?e:this.segments.pop();n&&(this.updateWidth(),this.addSegment({x:n.x+1,y:n.y})),this.lastY=e.y});wt(this,"truncateSegments",e=>{if(e>this.width)return;const n=this.width-e;for(let o=0;o<this.segments.length;o++){const{x:r,y:i}=this.segments[o];if(r>n){this.segments.splice(0,o),this.segments.unshift({x:0,y:i});break}}for(let o=1;o<this.segments.length;o++){const{x:r,y:i}=this.segments[o];this.segments[o]={x:r-n,y:i}}this.updateWidth()});wt(this,"updateWidth",()=>{var e;this.width=((e=this.segments.slice(-1)[0])==null?void 0:e.x)||0});this.id=e,this.name=n,this.hue=r,this.initialize(o)}}class b1{constructor(){wt(this,"isPaused",!0);wt(this,"waves",{});wt(this,"refreshRate",20);wt(this,"lastUpdateTime",Date.now());wt(this,"timeMsElapsed",0);wt(this,"timeMsOffset",0);wt(this,"onTick");wt(this,"start",()=>{if(!this.isPaused)return;const e=this.lastUpdateTime%this.refreshRate;this.lastUpdateTime=Date.now()+e,this.isPaused=!1,this.tick()});wt(this,"stop",()=>{this.isPaused=!0});wt(this,"clear",()=>{Object.values(this.waves).forEach(e=>{e instanceof Tr&&e.reset()})});wt(this,"computeWaveGeometry",e=>{const n={},o=r=>r.map(({x:i,y:s})=>`${i},${s}`);for(const r in e)if(e[r]instanceof Tr){const i=e[r],s=o(i.segments);n[r]={points:s.join(" "),width:i.width,hue:i.hue}}return n});wt(this,"broadcast",()=>{var r;const e=window.screen.width,n=1e3/this.refreshRate,o=e/n;this.timeMsElapsed>=this.timeMsOffset+o/2*1e3&&(this.timeMsOffset=this.timeMsElapsed,Object.values(this.waves).forEach(i=>{i instanceof Tr&&i.truncateSegments(e)})),(r=this.onTick)==null||r.call(this,this.computeWaveGeometry(this.waves))});wt(this,"tick",()=>{if(this.isPaused)return;const e=Date.now(),n=1e4;let o=!1;if(e>=this.lastUpdateTime+n){this.stop(),this.start();return}for(;e>=this.lastUpdateTime+this.refreshRate;){const r=Math.min(this.refreshRate,e-this.lastUpdateTime);o=!0,this.timeMsElapsed+=r,this.lastUpdateTime+=r,this.update()}o&&this.broadcast(),requestAnimationFrame(this.tick)});wt(this,"update",()=>{Object.values(this.waves).forEach(e=>e.update(this.timeMsElapsed))});wt(this,"add",e=>{this.waves.hasOwnProperty(e.id)||(this.waves[e.id]=e,this.start(),this.timeMsElapsed===0&&this.broadcast())});wt(this,"remove",e=>{e&&(delete this.waves[e.id],Object.keys(this.waves).length===0&&(this.stop(),this.clear()),this.broadcast())})}}const _1=()=>({undoStack:[],redoStack:[],oscillogram:{},zoomLevel:1,zIndex:1,oscilloscopeHeight:200,isOscilloscopeOpen:!1,isOscilloscopeRecording:!0,isCircuitEvaluated:!1,isDebugging:!1,isDirty:!1,isBusy:!1,hasLoaded:!1,isPrinting:!1,isCreatingImage:!1,panningAnimationFrameId:0,nodes:{},circuit:new y1,oscillator:new b1,viewport:new DOMRect,canvas:{top:0,left:0,bottom:0,right:0},snapBoundaries:[],connectablePortIds:new Set,selectedConnectionIds:new Set,selectedItemIds:new Set,selectedGroupIds:new Set,selectedControlPoints:{},selectedPortIndex:-1,cachedState:null,activePortId:null,connectionPreviewId:null,connectionExperiment:null,items:{},connections:{},ports:{},groups:{}});function w1(){this.copy(),this.deleteSelection()}function C1(){if(!this.hasSelectedItems)return window.api.beep();const t={},e={},n={},o={};this.selectedItemIds.forEach(i=>{t[i]=this.items[i],t[i].portIds.forEach(s=>{e[s]=this.ports[s]})}),this.selectedConnectionIds.forEach(i=>n[i]=this.connections[i]),this.selectedGroupIds.forEach(i=>o[i]=this.groups[i]);const r={items:t,ports:e,connections:n,groups:o,pasteCount:1};Object.keys(r.items).length?window.api.setClipboardContents(JSON.stringify(r)):window.api.beep()}function S1(){if(!window.api.canPaste())return window.api.beep();try{const t=window.api.getClipboardContents(),e=JSON.parse(t),n=Ms.mapStandardCircuitIds(e);this.commitState(),this.deselectAll(),Object.keys(n.ports).forEach(i=>{const s=n.ports[i];s.value=jt.UNKNOWN,s.isMonitored=!1,delete s.wave}),this.applyDeserializedState({items:{...this.items,...n.items},connections:{...this.connections,...n.connections},ports:{...this.ports,...n.ports},groups:{...this.groups,...n.groups}}),Object.keys(n.items).forEach(i=>this.setItemSelectionState(i,!0)),Object.keys(n.connections).forEach(i=>this.setConnectionSelectionState(i,!0));const o=Object.values(n.items)[0];requestAnimationFrame(()=>{this.setSelectionPosition({x:e.pasteCount*20,y:e.pasteCount*20})});const r={...JSON.parse(t),pasteCount:e.pasteCount+1};window.api.setClipboardContents(JSON.stringify(r))}catch{window.api.clearClipboard(),window.api.beep()}}const I1=Object.defineProperty({__proto__:null,copy:C1,cut:w1,paste:S1},Symbol.toStringTag,{value:"Module"}),Kn=ci({id:"preferences",state:()=>({colors:{onColor:{type:"color",label:"High state",value:"#4bc567",description:"When a signal is present."},offColor:{type:"color",label:"Low state",value:"#c0c0c0",description:"When no signal is present."},unknownColor:{type:"color",label:"Unknown state",value:"#ff0000",description:"High impedance (Hi-Z)."}},snapping:{snapToGrid:{type:"boolean",label:"Snap to grid",value:!1,description:"Snap elements to the grid lines.",excludes:["snapToAlign"]},snapToAlign:{type:"boolean",label:"Snap to align",value:!0,description:"Snap elements together.",excludes:["snapToGrid"]},snapTolerance:{type:"number",label:"Snap tolerance",value:15,description:"Maximum distance from a dragging object to snap to another element."}},grid:{showGrid:{type:"boolean",label:"Show grid",value:!0,description:"Display a grid on the canvas."},gridSize:{type:"number",label:"Grid size",value:20,description:"Distance between grid lines.",excludes:["snapToAlign"]}},simulation:{startPaused:{type:"boolean",label:"Pause on startup",value:!0,description:"Start simulation paused."}},experience:{vibration:{type:"boolean",label:"Vibration",value:!0,description:"Haptic feedback on gestures.",mobileOnly:!0},autosave:{type:"boolean",label:"Auto-save",value:!0,description:"Automatically save your work.",desktopOnly:!0},darkMode:{type:"boolean",label:"Dark mode",value:!0}}}),actions:{async writeSettings(){},async updateSettings(t){await this.writeSettings()}}});function x1(t){if(this.activePortId&&t){let e=this.activePortId,n=t;this.ports[this.activePortId].type===Ee.Input&&(e=t,n=this.activePortId);const o=me();this.unsetConnectionPreview(),this.connect({source:e,target:n,id:o}),this.connectionPreviewId=o}}function E1(){this.connectionPreviewId&&this.disconnectById(this.connectionPreviewId),this.connectionPreviewId=null}function O1(){if(this.connectionPreviewId){const{source:t,target:e}=this.connections[this.connectionPreviewId];this.disconnectById(this.connectionPreviewId),this.commitState(),this.connect({source:t,target:e}),this.connectionPreviewId=null}}function P1(t){var o;t&&t!==this.activePortId&&this.setActivePortId(t);let e=this.selectedPortIndex+1;e<=0&&(e=0),e>=this.connectablePortIds.size&&(e=-1);const n=[...this.connectablePortIds.values()][e];n&&!((o=this.ports[t])!=null&&o.connectedPortIds.includes(n))?this.setConnectionPreview(n):(this.connectablePortIds.size===0&&window.api.beep(),this.unsetConnectionPreview()),this.selectedPortIndex=e}function k1(t){const e=t.id||me();this.connections[e]={controlPoints:[],groupId:null,id:e,...t,zIndex:++this.zIndex,isSelected:!1},this.ports[t.source].connectedPortIds.push(t.target),this.ports[t.target].connectedPortIds.push(t.source)}function $1(t){!this.ports[t.source]||!this.ports[t.target]||(this.createConnection(t),this.circuit.addConnection(this.nodes[t.source],this.nodes[t.target],t.target),this.advanceSimulation())}function D1({source:t,target:e}){const n=Object.values(this.connections).find(o=>o.source===t&&o.target===e);n&&this.destroyConnectionById(n.id)}function A1(t){var i;const{source:e,target:n}=this.connections[t],o=this.ports[e].connectedPortIds.findIndex(s=>s===n),r=this.ports[n].connectedPortIds.findIndex(s=>s===e);this.ports[e].connectedPortIds.splice(o,1),this.ports[n].connectedPortIds.splice(r,1),this.ports[n].value=jt.UNKNOWN,(i=this.ports[n].wave)==null||i.drawPulseChange(jt.UNKNOWN),delete this.connections[t]}function T1({source:t,target:e}){this.circuit.removeConnection(this.nodes[t],this.nodes[e]),this.advanceSimulation(),this.destroyConnection({source:t,target:e})}function z1(t){if(!this.connections[t])return;const{source:e,target:n}=this.connections[t];this.circuit.removeConnection(this.nodes[e],this.nodes[n]),this.advanceSimulation(),this.selectedItemIds.delete(t),this.destroyConnectionById(t)}function M1(t,e,n){this.connections[t].controlPoints.splice(n,0,{position:e,orientation:0,rotation:0,canInflect:!0}),this.setControlPointSelectionState(t,n,!0)}function B1(t){this.ports[t]&&(this.connectionExperiment={sourceId:t,targetPosition:this.ports[t].position},this.setConnectablePortIds({portId:t,isDragging:!0}),this.setConnectionExperimentSnapBoundaries(t))}function L1(t,e){if(!this.connectionExperiment)return;const{x:n,y:o}=Zn(this.canvas,this.viewport,{x:t.x-e.x,y:t.y-e.y},this.zoom),r=ie.getPointBoundary({x:n,y:o}),{snapping:i}=Kn(),s=i.snapTolerance.value,a=ie.getRadialSnapOffset(this.snapBoundaries,r,s);this.connectionExperiment.targetPosition={x:n+a.x,y:o+a.y}}function N1(){if(!this.connectionExperiment)return;const{sourceId:t,targetPosition:e}=this.connectionExperiment,{snapping:n}=Kn(),o=n.snapTolerance.value;this.connectionExperiment=null;const r=Object.values(this.ports).find(i=>this.connectablePortIds.has(i.id)&&ie.isInNeighborhood(i.position,e,o));r&&(this.cacheState(),this.connect({source:t,target:r.id}),this.commitCachedState()),this.clearStatelessInfo()}const R1=Object.defineProperty({__proto__:null,addControlPoint:M1,commitPreviewedConnection:O1,connect:$1,createConnection:k1,createConnectionExperiment:B1,cycleConnectionPreviews:P1,destroyConnection:D1,destroyConnectionById:A1,disconnect:T1,disconnectById:z1,setConnectionPreview:x1,terminateConnectionExperiment:N1,unsetConnectionPreview:E1,updateConnectionExperiment:L1},Symbol.toStringTag,{value:"Module"});function F1(t){const e=JSON.parse(t);e.integratedCircuit?this.applyDeserializedState(e.integratedCircuit):this.applySerializedState(t),this.initialize()}function j1(){this.resetCircuit(),this.oscillator.onTick=t=>this.oscillogram=t}function V1(){this.isPrinting=!0}function U1(){this.isCreatingImage=!0}const H1=Object.defineProperty({__proto__:null,createImage:U1,initialize:j1,loadDocument:F1,print:V1},Symbol.toStringTag,{value:"Module"});function W1(){this.commitState();const t=me(),e=Object.values(this.items).filter(({isSelected:s})=>s),n=e.reduce((s,a)=>s.concat(a.portIds),[]),o=Object.values(this.connections).filter(s=>n.includes(s.source)&&n.includes(s.target)&&s.isSelected);e.forEach(s=>s.groupId&&this.destroyGroup(s.groupId)),o.forEach(s=>s.groupId&&this.destroyGroup(s.groupId));const r=[...e,...o].reduce((s,a)=>Math.max(a.zIndex,s),0),i={id:t,itemIds:e.map(({id:s})=>s),connectionIds:o.map(({id:s})=>s),isSelected:!1,boundingBox:{left:0,top:0,right:0,bottom:0},position:{x:0,y:0},zIndex:r};this.groups[t]=i,i.itemIds.forEach(s=>{this.items[s].groupId=i.id}),i.connectionIds.forEach(s=>{this.connections[s].groupId=i.id}),this.setZIndex(r),this.setGroupBoundingBox(t),this.setGroupSelectionState(t,!0)}function G1(){this.commitState();for(const t in this.groups)this.groups[t].isSelected&&this.destroyGroup(t)}function q1(t){const e=this.groups[t];e.itemIds.forEach(n=>{this.items[n].groupId=null,this.setItemSelectionState(n,!0)}),e.connectionIds.forEach(n=>{this.connections[n].groupId=null,this.setConnectionSelectionState(n,!0)}),this.selectedGroupIds.delete(t),delete this.groups[t]}const Z1=Object.defineProperty({__proto__:null,destroyGroup:q1,group:W1,ungroup:G1},Symbol.toStringTag,{value:"Module"});function K1({item:t,ports:e}){var s,a,l;const n=((s=t.integratedCircuit)==null?void 0:s.ports)||e,o=new Set,r=new Set(Object.values(this.items).map(({name:u})=>u)),i=(u,h)=>{let p=u,g=1;for(;h.has(p);)p=`${u} ${++g}`;return p};t.name=i(((l=(a=t.properties)==null?void 0:a.name)==null?void 0:l.value)||t.name,r),t.portIds.forEach(u=>{const h=n[u];if(h){const p=h.type===Ee.Input?"I":"O";h.name=h.name?`${t.name} ${h.name}`:i(`${t.name} ${p}`,o).replace(/(I|O)$/,"$11"),o.add(h.name)}}),t.isSelected=!1,this.items[t.id]=t,this.items[t.id].zIndex=++this.zIndex,this.addVirtualNode(t,n),t.portIds.forEach(u=>this.addPort(t.id,n[u])),this.resetItemValue(t),this.setProperties(t.id,t.properties),this.setItemBoundingBox(t.id),this.addClock(t)}function X1({item:t,ports:e},n=null){if(!n){const r=ie.getBoundingBoxMidpoint(this.viewport);n={x:r.x+this.viewport.left,y:r.y+this.viewport.top}}if(n.x<this.viewport.left||n.x>this.viewport.right||n.y<this.viewport.top||n.y>this.viewport.bottom)return;const o=Zn(this.canvas,this.viewport,n,this.zoomLevel);o.x-=t.width/2,o.y-=t.height/2,t.position=o,this.commitState(),this.addItem({item:t,ports:Object.values(e||{}).reduce((r,i)=>i.reduce((s,a)=>({...s,[a.id]:a}),r),{})}),this.setItemBoundingBox(t.id),this.setItemSelectionState(t.id,!0)}function Y1(t){var o;const e=(o=t.properties)==null?void 0:o.startValue;if(!e)return;const n=e.value;t.portIds.forEach(r=>this.setPortValue({id:r,value:n}))}function J1(t){const e=this.items[t];if(!e)return;this.removeVirtualNode(e.id),this.oscillator.remove(e.clock),this.selectedItemIds.delete(e.id),[...e.portIds].forEach(o=>this.removePort(o)),delete this.items[t]}function Q1(t,e){const o=this.items[t].properties.inputCount.value;if(o>e)this.items[t].portIds.filter(r=>this.ports[r].type===Ee.Input).slice(e).forEach(r=>this.removePort(r));else for(let r=o;r<e;r++){const i=me();this.addPort(t,{id:i,name:"",connectedPortIds:[],type:Ee.Input,elementId:t,orientation:Ut.Left,isMonitored:!1,hue:0,position:{x:0,y:0},rotation:0,value:0})}}function tg(t,e){const n=this.items[t];for(const o in e){const r=e[o];if(n.properties[o].value!==r.value){switch(this.commitState(),o){case"inputCount":this.setInputCount(t,r.value);break;case"interval":n.clock&&(n.clock.interval=r.value);break}this.items[t].properties[o].value=r.value}}}const eg=Object.defineProperty({__proto__:null,addItem:K1,insertItemAtPosition:X1,removeElement:J1,resetItemValue:Y1,setInputCount:Q1,setProperties:tg},Symbol.toStringTag,{value:"Module"});function ng(t,e=!1){this.panDelta({x:t.x-this.canvas.left,y:t.y-this.canvas.top},e)}function og(t,e=!1){const n={...this.canvas},o=Math.max(Math.abs(t.x),Math.abs(t.y),1)*ns,r=Ma;cancelAnimationFrame(this.panningAnimationFrameId);const i=(s=0)=>{cancelAnimationFrame(this.panningAnimationFrameId);const a=Yh(s/o),l=t.x*a,u=t.y*a;this.setCanvasBoundingBox({left:n.left+l,right:n.right+l,top:n.top+u,bottom:n.bottom+u}),s<o&&(this.panningAnimationFrameId=requestAnimationFrame(i.bind(this,s+r)))};e&&o>=Ma?i():this.setCanvasBoundingBox({left:this.canvas.left+t.x,right:this.canvas.right+t.x,top:this.canvas.top+t.y,bottom:this.canvas.bottom+t.y})}function rg(){const t=ie.getBoundingBoxMidpoint(this.canvas);this.panTo({x:this.viewport.width/2-t.x*this.zoomLevel,y:this.viewport.height/2-t.y*this.zoomLevel})}function ig(t){this.canvas={...t}}const sg=Object.defineProperty({__proto__:null,panDelta:og,panTo:ng,panToCenter:rg,setCanvasBoundingBox:ig},Symbol.toStringTag,{value:"Module"});function ag(t,e){const{portIds:n}=this.items[t],o=Object.values(this.nodes).find(({name:r})=>n.includes(r));this.ports[e.id]=e,n.includes(e.id)||n.push(e.id),o&&(this.nodes[e.id]=o),e.isMonitored&&this.monitorPort(e.id),this.setPortValue({id:e.id,value:e.value})}function lg(t){var o;if(!this.items[(o=this.ports[t])==null?void 0:o.elementId])return;this.unmonitorPort(t),Object.values(this.connections).filter(({source:r,target:i})=>r===t||i===t).forEach(({id:r})=>this.disconnectById(r));const e=this.ports[t].elementId,n=this.items[e].portIds.indexOf(t);n!==-1&&this.items[e].portIds.splice(n,1),delete this.nodes[t],delete this.ports[t]}function cg(t){this.activePortId!==t&&(t&&this.setConnectablePortIds({portId:t}),this.activePortId=t,this.selectedPortIndex=-1)}function ug(t){this.activePortId===t&&(this.activePortId=null,this.connectablePortIds.clear())}function dg({portId:t,isDragging:e}){const n=this.ports[t],o=n.type===Ee.Output?i=>i.type===Ee.Input&&i.connectedPortIds.length===0:i=>i.type===Ee.Output&&n.connectedPortIds.length===0,r=Object.values(this.ports).filter(i=>o(i)&&!i.connectedPortIds.includes(n.id)).map(({id:i})=>i);this.connectablePortIds=new Set(r)}function fg({id:t,value:e}){var n;this.ports[t]&&this.nodes[t]&&this.nodes[t].value!==e&&(this.nodes[t].setValue(e),(n=this.ports[t].wave)==null||n.drawPulseChange(e),this.circuit.enqueue(this.nodes[t]),this.isCircuitEvaluated=!1,this.isDebugging||this.advanceSimulation())}function hg(t){this.ports[t].isMonitored?this.unmonitorPort(t):this.monitorPort(t)}function pg(t){var o;const e=this.ports[t],n=(o=this.items[e.elementId])==null?void 0:o.name;e.hue=e.hue||~~(360*Math.random()),e.isMonitored=!0,e.wave=new Tr(t,`${n} ${e.name}`,e.value,e.hue),this.oscillator.add(e.wave),this.isOscilloscopeOpen=!0}function mg(t){const e=this.ports[t];e.isMonitored=!1,this.oscillator.remove(e.wave),delete this.oscillogram[t],delete e.wave,this.isOscilloscopeOpen=Object.keys(this.oscillogram).length>0}const gg=Object.defineProperty({__proto__:null,addPort:ag,monitorPort:pg,removePort:lg,setActivePortId:cg,setConnectablePortIds:dg,setPortValue:fg,togglePortMonitoring:hg,unmonitorPort:mg,unsetActivePortId:ug},Symbol.toStringTag,{value:"Module"});function vg(){const{grid:t}=Kn(),e=t.gridSize.value,n=Object.values(this.items).map(({boundingBox:l})=>l),o=ie.getGroupBoundingBox(n),{x:r,y:i}=ie.getCenteredScreenPoint(this.canvas,o,e),s=r-o.left,a=i-o.top;Object.values(this.items).forEach(l=>{this.setItemPosition({id:l.id,position:{x:l.position.x+s,y:l.position.y+a}})})}function yg(t,e){const n=this.ports[e];n.position=Zn(this.canvas,this.viewport,t,this.zoom)}function bg({id:t,position:e}){const n=this.items[t],o={x:e.x-n.position.x,y:e.y-n.position.y};this.items[t].position=e,this.setItemBoundingBox(t),n.portIds.forEach(r=>{const i=this.ports[r];this.ports[r].position={x:i.position.x+o.x,y:i.position.y+o.y}})}function _g(t,e,n,o){const{snapping:r,grid:i}=Kn(),s=(()=>o||(r.snapToGrid.value?Ge.Grid:r.snapToAlign.value?Ge.Outer:Ge.None))(),a=(()=>{switch(s){case Ge.Grid:return i.gridSize.value;case Ge.Outer:case Ge.Radial:return r.snapTolerance.value;default:return 0}})(),l=ie.getSnapOffset(this.snapBoundaries,t,s,a);this.setSelectionPosition({x:n.x+l.x-e.x,y:n.y+l.y-e.y})}function wg(t,e,n){const{width:o,height:r,rotation:i}=this.items[t],s=Zn(this.canvas,this.viewport,e,this.zoom),a=ie.getBoundingBox(s,i,o,r);this.dragTarget(a,this.items[t].position,s,n)}function Cg(t,e,n,o){const r=this.connections[t].controlPoints[o],i=Zn(this.canvas,this.viewport,{x:e.x-n.x,y:e.y-n.y},this.zoom),s=ie.getPointBoundary(i),a=this.totalSelectionCount>1?void 0:Ge.Outer;this.dragTarget(s,r.position,i,a)}function Sg(t){const e=new Set;this.selectedItemIds.forEach(n=>{const o=this.items[n],r={x:o.position.x+t.x,y:o.position.y+t.y};o.groupId&&e.add(o.groupId),this.setItemPosition({id:n,position:r})}),Object.keys(this.selectedControlPoints).forEach(n=>{const o=this.connections[n];this.selectedControlPoints[n].forEach(r=>{const i=o.controlPoints[r];i.position={x:i.position.x+t.x,y:i.position.y+t.y}})}),e.forEach(this.setGroupBoundingBox)}const Ig=Object.defineProperty({__proto__:null,centerAll:vg,dragControlPoint:Cg,dragItem:wg,dragTarget:_g,setItemPosition:bg,setPortRelativePosition:yg,setSelectionPosition:Sg},Symbol.toStringTag,{value:"Module"});function xg(){this.oscillator.isPaused?this.oscillator.start():this.oscillator.stop(),this.oscillator.isPaused=!this.oscillator.isPaused,this.isOscilloscopeRecording=!this.oscillator.isPaused}function Eg(){this.isOscilloscopeOpen?this.closeOscilloscope():this.openOscilloscope()}function Og(){Object.values(this.ports).forEach(t=>{t.isMonitored&&this.monitorPort(t.id)}),this.isOscilloscopeOpen=!0}function Pg(t){this.isOscilloscopeOpen&&(Object.keys(this.ports).forEach(e=>this.unmonitorPort(e)),this.oscillator.clear(),this.isOscilloscopeOpen=!1,t&&(this.oscilloscopeHeight=t))}const kg=Object.defineProperty({__proto__:null,closeOscilloscope:Pg,openOscilloscope:Og,toggleOscillatorRecording:xg,toggleOscilloscope:Eg},Symbol.toStringTag,{value:"Module"});function $g(t){this.commitState();const e=[];this.selectedItemIds.forEach(r=>{e.push(this.items[r].boundingBox)});for(const r in this.selectedControlPoints)this.selectedControlPoints[r].forEach(i=>{e.push(ie.getPointBoundary(this.connections[r].controlPoints[i].position))});const n=ie.getGroupBoundingBox(e),o=new Set;this.selectedItemIds.forEach(r=>{const i=this.items[r],s=xn.rotate(i.rotation+t);i.groupId&&o.add(i.groupId),this.items[i.id].rotation=s,this.items[i.id].portIds.forEach(a=>{this.ports[a].rotation=s,this.ports[a].position=xn.getGroupedItemRotatedPosition(i.boundingBox,this.ports[a].position,1,1,t)}),this.setItemPosition({id:i.id,position:xn.getGroupedItemRotatedPosition(n,i.position,i.width,i.height,t)})});for(const r in this.selectedControlPoints)this.selectedControlPoints[r].forEach(i=>{const s=this.connections[r].controlPoints[i];s.rotation=xn.rotate(s.rotation+t),s.position=xn.getGroupedItemRotatedPosition(n,s.position,1,1,t)});o.forEach(r=>{this.setGroupBoundingBox(r)})}const Dg=Object.defineProperty({__proto__:null,rotate:$g},Symbol.toStringTag,{value:"Module"});function Ag(){this.clearStatelessInfo();for(let t in this.connections)this.setConnectionSelectionState(t,!0);for(let t in this.items)this.setItemSelectionState(t,!0)}function Tg(){var t;this.clearStatelessInfo(),this.selectedConnectionIds.forEach(e=>{this.connections[e]&&(this.connections[e].isSelected=!1)});for(const e in this.selectedControlPoints)(t=this.selectedControlPoints[e])==null||t.forEach(n=>{var o,r;(r=(o=this.connections[e])==null?void 0:o.controlPoints)!=null&&r[n]&&(this.connections[e].controlPoints[n].isSelected=!1)});this.selectedItemIds.forEach(e=>{this.items[e]&&(this.items[e].isSelected=!1)});for(const e in this.groups)this.groups[e].isSelected=!1;this.selectedControlPoints={},this.selectedGroupIds.clear(),this.selectedConnectionIds.clear(),this.selectedItemIds.clear()}function zg(t){if(!ie.isOneOrTwoDimensional(t))return;const e=new Set;Object.keys(this.items).forEach(n=>{ie.hasIntersection(t,this.items[n].boundingBox)&&(this.setItemSelectionState(n,!0),this.items[n].portIds.forEach(o=>e.add(o)))}),Object.keys(this.connections).forEach(n=>{const o=this.connections[n],r=this.ports[o.source],i=this.ports[o.target],s=[r,...o.controlPoints,i],a=ie.areLinesIntersectingRectangle(s.map(u=>u.position),t),l=e.has(o.source)&&e.has(o.target);(a||l)&&this.setConnectionSelectionState(n,!0)})}function Mg(t,e,n){var i,s,a;if(!((i=this.connections[t])!=null&&i.controlPoints))return;const o=(s=this.connections[t])==null?void 0:s.controlPoints[e],r=(o==null?void 0:o.isSelected)!==n;o.isSelected=n,this.selectedControlPoints[t]?n?this.selectedControlPoints[t].add(e):this.selectedControlPoints[t].delete(e):n&&(this.selectedControlPoints[t]=new Set([e])),((a=this.selectedControlPoints[t])==null?void 0:a.size)===0&&delete this.selectedControlPoints[t],r&&this.setGroupSelectionState(this.connections[t].groupId,n)}function Bg(t,e){var n;(n=this.connections[t])!=null&&n.controlPoints&&(this.connections[t].isSelected=e,this.connections[t].controlPoints.forEach((o,r)=>this.setControlPointSelectionState(t,r,e)),e?this.selectedConnectionIds.add(t):this.selectedConnectionIds.delete(t),this.setGroupSelectionState(this.connections[t].groupId,e))}function Lg(t,e){this.items[t]&&(this.items[t].isSelected=e,e?this.selectedItemIds.add(t):this.selectedItemIds.delete(t),this.setGroupSelectionState(this.items[t].groupId,e))}function Ng(t,e){if(t===null)return;const n=this.groups[t];!this.groups[t]||this.groups[t].isSelected===e||(this.groups[t].isSelected=e,n.connectionIds.forEach(o=>this.setConnectionSelectionState(o,e)),n.itemIds.forEach(o=>this.setItemSelectionState(o,e)),e?this.selectedGroupIds.add(t):this.selectedGroupIds.delete(t))}function Rg(t,e){this.items[t]?this.setItemSelectionState(t,e):this.connections[t]?this.setConnectionSelectionState(t,e):this.groups[t]&&this.setGroupSelectionState(t,e)}function Fg(){if(this.canDelete){this.commitState(),Object.values(this.connections).forEach(({source:t,target:e,id:n})=>{const o=r=>this.items[this.ports[r].elementId].isSelected;(o(t)||o(e))&&this.selectedConnectionIds.add(n)});for(const t in this.selectedControlPoints)this.connections[t].controlPoints=Array.from(this.connections[t].controlPoints).map((e,n)=>this.selectedControlPoints[t].has(n)?null:e).filter(e=>e!==null);this.selectedConnectionIds.forEach(t=>this.disconnectById(t)),this.selectedItemIds.forEach(t=>this.removeElement(t)),this.selectedGroupIds.forEach(t=>{delete this.groups[t],this.selectedGroupIds.delete(t)}),this.deselectAll()}}function jg(){this.unsetConnectionPreview(),this.connectablePortIds.clear(),this.selectedPortIndex=-1,this.activePortId=null,this.connectionPreviewId=null,this.connectionExperiment=null}const Vg=Object.defineProperty({__proto__:null,clearStatelessInfo:jg,createSelection:zg,deleteSelection:Fg,deselectAll:Tg,selectAll:Ag,setConnectionSelectionState:Bg,setControlPointSelectionState:Mg,setGroupSelectionState:Ng,setItemSelectionState:Lg,setSelectionState:Rg},Symbol.toStringTag,{value:"Module"});var vc={exports:{}};function Ls(){}Ls.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function r(){o.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,s=o.length;i<s;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}};vc.exports=Ls;var Ug=vc.exports.TinyEmitter=Ls;class Hr{constructor(e,n,o){wt(this,"id",me());wt(this,"name");wt(this,"signal",0);wt(this,"interval",0);wt(this,"lastUpdate");wt(this,"emitter",new Ug);wt(this,"isStopped",!1);wt(this,"toString",()=>({name:this.name,interval:this.interval,signal:this.signal}));wt(this,"on",(e,n)=>{this.emitter.on(e,n)});wt(this,"stop",()=>{this.isStopped=!0});wt(this,"start",()=>{this.isStopped=!1});wt(this,"update",e=>{!this.isStopped&&e>=this.lastUpdate+this.interval&&(this.signal=this.signal===-1?1:-1,this.lastUpdate=e,this.emitter.emit("change",this.signal))});this.name=e,this.signal=o,this.interval=n,this.lastUpdate=-n}static deserialize(e){if(e instanceof Hr)return e;if(e)return new Hr(e.name,e.interval,e.signal)}}class Hg extends pn{constructor(){super(...arguments);wt(this,"update",n=>{this.newValue!==n&&(this.newValue=n,this.invokeEvent("change",this.newValue,[]))})}}let Wg=class extends pn{constructor(){super(...arguments);wt(this,"update",n=>{const o=Object.keys(this.inputValues).pop();o&&(this.inputValues[o]=n,this.newValue=this.eval())});wt(this,"eval",()=>Object.values(this.inputValues).pop()||jt.UNKNOWN)}};class Gg extends pn{constructor(){super(...arguments);wt(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n&&o===jt.TRUE,!0)?jt.TRUE:jt.FALSE)}}class qg extends pn{constructor(){super(...arguments);wt(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n||o===jt.FALSE,!1)?jt.TRUE:jt.FALSE)}}class Zg extends pn{constructor(){super(...arguments);wt(this,"eval",()=>this.valueCount(jt.TRUE)?jt.TRUE:this.valueCount(jt.UNKNOWN)?jt.UNKNOWN:jt.FALSE)}}class La extends pn{constructor(){super(...arguments);wt(this,"eval",()=>this.valueCount(jt.TRUE)?jt.FALSE:this.valueCount(jt.UNKNOWN)?jt.UNKNOWN:jt.TRUE)}}class Kg extends pn{constructor(){super(...arguments);wt(this,"eval",()=>{switch(Object.values(this.inputValues).pop()){case jt.TRUE:return jt.FALSE;case jt.FALSE:return jt.TRUE;default:return jt.UNKNOWN}})}}function yc(t,e,n){switch(t){case re.And:return new Gg(e,n);case re.Nand:return new qg(e,n);case re.Or:return new Zg(e,n);case re.Nor:return new La(e,n);case re.Not:return new Kg(e,n);default:return new La(e,n)}}function Xg({id:t,type:e,subtype:n},o){switch(e){case Oe.CircuitNode:return new pn(t,o);case Oe.InputNode:return new os(t,o);case Oe.LogicGate:return yc(n,t,o);case Oe.Buffer:return new Wg(t,o);default:return new Hg(t,o)}}const Yg={getLogicGateNode:yc,getCircuitNode:Xg};function Jg(t){Object.values(this.items).forEach(e=>{var n;return(n=e.clock)==null?void 0:n[t]()})}function Qg(){this.isDebugging||(this.toggleClocks("start"),this.oscillator.start())}function t0(){this.toggleClocks("stop"),this.oscillator.stop()}function e0(){this.isCircuitEvaluated=!0,this.evaluateCircuitStep()}function n0(t=!1){this.isDebugging=!this.isDebugging,this.isDebugging||t?(this.stopSimulation(),this.isDebugging=!0):(this.startSimulation(),this.advanceSimulation())}function o0(){const t=this.isDebugging;this.isDebugging=!1,this.advanceSimulation(),this.isDebugging=t,this.isCircuitEvaluated=!0}function r0(t=0){if(this.circuit.advance(),t>1e3)return this.toggleDebugger();this.circuit.queue.length>0&&!(this.isDebugging&&!this.isCircuitEvaluated)&&this.evaluateCircuitStep(++t)}function i0(){this.oscillator.clear(),this.circuit.reset(),Object.values(this.items).forEach(({type:t,properties:e,portIds:n})=>{t===Oe.InputNode&&n.forEach(o=>{this.setPortValue({id:o,value:jt.UNKNOWN}),this.flushCircuit(),this.setPortValue({id:o,value:jt.FALSE}),this.flushCircuit(),e!=null&&e.startValue&&this.setPortValue({id:o,value:e.startValue.value})})}),this.flushCircuit()}function s0(t){if(!t.integratedCircuit)return;const{items:e,connections:n,ports:o}=t.integratedCircuit;Object.values(e).forEach(r=>{this.addVirtualNode(r,o)}),Object.values(n).forEach(r=>{this.circuit.addConnection(this.nodes[r.source],this.nodes[r.target],r.target)})}function a0(t,e=this.ports){if(t.portIds.length===0)return;if(t.integratedCircuit)return this.addIntegratedCircuitNode(t);const n=t.portIds.filter(i=>e[i].type===Ee.Input),o=t.portIds.filter(i=>e[i].type===Ee.Output),r=Yg.getCircuitNode(t,n);r.on("change",this.onVirtualNodeChange.bind(this,r,o)),t.portIds.forEach(i=>{this.nodes[i]=r}),this.circuit.addNode(r)}function l0(t){const e=this.items[t],n=o=>o.integratedCircuit?Object.values(o.integratedCircuit.items).reduce((r,i)=>i.integratedCircuit?r.concat(n(i)).concat(i.portIds):r.concat(i.portIds),[]):[];e.portIds.concat(n(e)).forEach(o=>{const r=this.nodes[o];r&&(this.circuit.removeNode(r),this.removePort(o))})}function c0(t){var o,r;const e=(o=t.properties.interval)==null?void 0:o.value,n=((r=t.properties.startValue)==null?void 0:r.value)||jt.FALSE;e&&(t.clock=new Hr(t.portIds[0],e,n),t.clock.on("change",i=>this.setPortValue({id:t.portIds[0],value:i})),this.oscillator.add(t.clock))}function u0(t,e,n,o){o.concat(e).forEach(r=>{var i;if(this.ports[r]){const s=this.ports[r];this.items[s.elementId]&&s.value!==n&&(t.forceContinue||(this.isCircuitEvaluated=!1)),s.value=n,(i=s.wave)==null||i.drawPulseChange(n)}})}const d0=Object.defineProperty({__proto__:null,addClock:c0,addIntegratedCircuitNode:s0,addVirtualNode:a0,advanceSimulation:e0,evaluateCircuitStep:r0,flushCircuit:o0,onVirtualNodeChange:u0,removeVirtualNode:l0,resetCircuit:i0,startSimulation:Qg,stopSimulation:t0,toggleClocks:Jg,toggleDebugger:n0},Symbol.toStringTag,{value:"Module"});function f0(){const t=Object.values(this.items).map(s=>s.boundingBox),e=ie.getGroupBoundingBox(t),n=e.right-e.left,o=e.bottom-e.top,r=this.canvas.right-this.canvas.left,i=this.canvas.bottom-this.canvas.top;(n>r||o>i)&&(this.canvas={left:0,top:0,right:n*2,bottom:o*2},this.centerAll(),this.panToCenter()),setTimeout(()=>{this.setZoom({zoom:Math.min(this.viewport.width/n,this.viewport.height/o,1)})})}function h0(t){this.viewport=t,this.canvas.right=screen.width/Go,this.canvas.bottom=screen.height/Go,!this.hasLoaded&&t.width>0&&t.height>0&&(this.hasLoaded=!0,this.updateCanvasSize(),this.centerAll(),this.panToCenter())}function p0({rect:t,id:e}){const n=this.items[e];if(!n)return;const o=t.width/this.zoomLevel,r=t.height/this.zoomLevel,i=n.position.x+n.width/2,s=n.position.y+n.height/2,a=i-o/2,l=s-r/2;this.items[e].position={x:a,y:l},this.items[e].width=o,this.items[e].height=r,this.setItemBoundingBox(e),this.items[e].groupId&&this.setGroupBoundingBox(this.items[e].groupId)}function m0(t){if(!this.items[t])return;const{position:e,rotation:n,width:o,height:r}=this.items[t];this.items[t].boundingBox=ie.getBoundingBox(e,n,o,r)}function g0(t){if(!this.groups[t])return;const e=this.groups[t].itemIds.map(o=>this.items[o].boundingBox),n=this.groups[t].connectionIds.reduce((o,r)=>o.concat(this.connections[r].controlPoints.map(i=>ie.getPointBoundary(i.position))),[]);this.groups[t].boundingBox=ie.getGroupBoundingBox(e.concat(n))}const v0=Object.defineProperty({__proto__:null,setGroupBoundingBox:g0,setItemBoundingBox:m0,setItemSize:p0,setViewerSize:h0,updateCanvasSize:f0},Symbol.toStringTag,{value:"Module"});function y0(t){this.snapBoundaries=(()=>{const e=this.items[t];return e&&!e.groupId?Object.values(this.items).filter(n=>n.id!==t&&!n.isSelected).map(n=>n.boundingBox):[]})()}function b0(t,e,n){const{source:o,target:r}=this.connections[t];this.snapBoundaries=e.reduce((i,{portPosition:s},a)=>n!==a?i.concat(ie.getLinearBoundaries(s)):i,[]).concat(ie.getLinearBoundaries(this.ports[o].position)).concat(ie.getLinearBoundaries(this.ports[r].position))}function _0(t){this.setConnectablePortIds({portId:t,isDragging:!0}),this.snapBoundaries=[],this.connectablePortIds.forEach(e=>{this.snapBoundaries.push(ie.getPointBoundary(this.ports[e].position))})}const w0=Object.defineProperty({__proto__:null,setConnectionExperimentSnapBoundaries:_0,setControlPointSnapBoundaries:b0,setSnapBoundaries:y0},Symbol.toStringTag,{value:"Module"});function C0(){const t=this.undoStack.slice(-1).pop();t&&(this.redoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applySerializedState(t,!0),this.undoStack.pop(),this.isDirty=!0)}function S0(){const t=this.redoStack.slice(-1).pop();t&&(this.undoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applySerializedState(t),this.redoStack.pop(),this.isDirty=!0)}function I0(){this.cacheState(),this.commitCachedState()}function x0(){this.cachedState=JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})}function E0(){this.cachedState&&(this.undoStack.push(this.cachedState.toString()),this.cachedState=null,this.redoStack=[],this.isDirty=!0)}function O0({items:t,connections:e,ports:n,groups:o},r=!1){this.deselectAll();function i(p,g){const d=Object.keys(p),v=new Set(Object.keys(g));return d.filter(f=>!v.has(f))}const s=i(this.items,t),a=i(this.connections,e),l=i(this.groups,o),u=i(t,this.items),h=i(e,this.connections);a.forEach(p=>this.disconnectById(p)),s.forEach(p=>this.removeElement(p)),l.forEach(p=>delete this.groups[p]),Object.keys(t).forEach(p=>{this.items[p]&&(this.items[p]={...t[p]},this.setItemBoundingBox(p),this.setItemSelectionState(p,t[p].isSelected))}),u.forEach(p=>{this.addItem({item:t[p],ports:n}),this.setItemSelectionState(p,t[p].isSelected)}),h.forEach(p=>this.connect(e[p])),Object.keys(e).forEach(p=>{this.connections[p]={...this.connections[p],...e[p]},this.setConnectionSelectionState(p,e[p].isSelected)}),Object.keys(o).forEach(p=>{this.groups[p]||(this.groups[p]=o[p]),this.setGroupBoundingBox(p),this.setGroupSelectionState(p,!0)})}function P0(t,e=!1){this.applyDeserializedState(JSON.parse(t),e)}const k0=Object.defineProperty({__proto__:null,applyDeserializedState:O0,applySerializedState:P0,cacheState:x0,commitCachedState:E0,commitState:I0,redo:S0,undo:C0},Symbol.toStringTag,{value:"Module"});function Ns(t,e){return t.zIndex>e.zIndex?1:t.zIndex<e.zIndex?-1:0}function $0(){this.commitState(),this.incrementZIndex(-1)}function D0(){this.commitState(),this.incrementZIndex(1)}function A0(){this.commitState(),this.setZIndex(1)}function T0(){this.commitState(),this.setZIndex(this.zIndex)}function z0(t){const e=Object.values(this.items),n=Object.values(this.connections),o=e.concat(n).sort(Ns),r=o.filter(({isSelected:s})=>s).map(({id:s})=>s);t>0&&r.reverse();const i=new Set;r.forEach(s=>{var u;const a=o.findIndex(h=>h.id===s),l=a+t;if(l<0||l>=o.length){i.add(o[a].id);return}if(!i.has((u=o[l])==null?void 0:u.id)){const h=o[a];o.splice(a,1),o.splice(l,0,h)}}),o.forEach((s,a)=>{s.zIndex=a+1}),this.zIndex=Object.keys(o).length}function M0(t){const e=Object.values(this.items),n=Object.values(this.connections);let o=e.concat(n).sort(Ns);const r=o.filter(({isSelected:i})=>i);for(let i=0;i<o.length;i++)o[i].isSelected&&(o.splice(i,1),i--);o.splice(t-1,0,...r),o.forEach((i,s)=>{i.zIndex=s+1}),this.zIndex=Object.keys(o).length}const B0=Object.defineProperty({__proto__:null,bringForward:D0,bringToFront:T0,incrementZIndex:z0,sendBackward:$0,sendToBack:A0,setZIndex:M0},Symbol.toStringTag,{value:"Module"});function L0(t=1){this.setZoom({zoom:this.zoomLevel+qh*t})}function N0({zoom:t,point:e}){t<Go&&(t=Go),t>es&&(t=es),t=Math.round(t*100)/100,e||(e=ie.getBoundingBoxMidpoint(this.viewport),e.x+=this.viewport.left,e.y+=this.viewport.top);const n=Zn(this.canvas,this.viewport,e,this.zoomLevel),o={x:n.x*t,y:n.y*t},r={x:e.x-this.viewport.x,y:e.y-this.viewport.y};this.panTo({x:Math.round(Math.min(r.x-o.x,0)),y:Math.round(Math.min(r.y-o.y,0))}),this.zoomLevel=t}const R0=Object.defineProperty({__proto__:null,incrementZoom:L0,setZoom:N0},Symbol.toStringTag,{value:"Module"});function F0(t){return t.zoomLevel}function j0(t){return t.selectedItemIds.size+t.selectedConnectionIds.size+Object.keys(t.selectedControlPoints).length}function V0(t){return t.selectedItemIds.size>0||t.selectedConnectionIds.size>0||Object.keys(t.selectedControlPoints).length>0}const U0=Object.defineProperty({__proto__:null,canDelete:V0,totalSelectionCount:j0,zoom:F0},Symbol.toStringTag,{value:"Module"}),Na=t=>ci({id:t,state:_1,getters:{...U0,baseItems(e){return Object.values(e.connections).concat(Object.values(e.items)).sort(Ns)},hasSelection(e){return e.selectedItemIds.size>0||e.selectedConnectionIds.size>0},hasSelectedItems(e){return e.selectedItemIds.size>0},canGroup(e){let n=0,o=0;const r=(i,s)=>{for(const a of i)if(s[a].groupId?o++:n++,n>1||o&&n)return!0;return!1};return r(e.selectedItemIds,e.items)||r(e.selectedConnectionIds,e.connections)},canUngroup(e){return e.selectedGroupIds.size>0},canUndo(e){return e.undoStack.length>0},canRedo(e){return e.redoStack.length>0}},actions:{...I1,...R1,...H1,...Z1,...eg,...sg,...gg,...Ig,...kg,...Dg,...Vg,...d0,...w0,...v0,...k0,...B0,...R0}});function Ra(t){var e;return((e=t.split("\\").pop())==null?void 0:e.split("/").pop())||""}const Xn=ci({id:"root",state:()=>({documents:{},clipboard:null,activeDocumentId:null,canExit:!1,canPaste:!1,isFullscreen:!1,isBuilderOpen:!1,isToolboxOpen:!1,isSettingsOpen:!1,isDocumentSelectOpen:!1,navigationAnimationFrameId:0}),getters:{hasOpenDocuments(t){return Object.keys(t.documents).length>0},activeDocument(t){return t.activeDocumentId?t.documents[t.activeDocumentId]:null},isDialogOpen(t){return t.isBuilderOpen}},actions:{async launchIntegratedCircuitBuilder(){const t=Bs(),e=this.activeDocument;if(e){this.isBuilderOpen=!0;try{await t.launchBuilder(e.store().$state);const n=e.store(),o=Ms.mapIntegratedCircuitIds(t.model);n.insertItemAtPosition({item:o}),n.setItemBoundingBox(o.id),n.setItemSelectionState(o.id,!0)}catch{window.api.showMessageBox({message:"That's okay."})}this.isBuilderOpen=!1}},openIntegratedCircuit(t){t.integratedCircuit&&this.openDocument("",t.integratedCircuit.serializedState,t.id,t.name)},async saveImage(t){if(this.activeDocument)try{const n=`${this.activeDocument.displayName.replace(/\.[^/.]+$/,"")}.png`,o=window.api.showSaveFileDialog([{name:"PNG Image",extensions:[".png"]}],n);if(!o)return;await Mo.writeBlob(o,t)}catch(e){console.log("ERROR: ",e),window.api.showMessageBox({message:"An error occurred while trying to save the image.",title:"Error",type:"error"})}},newDocument(){const t=me(),e=Na(t);e().resetCircuit(),this.documents[t]={fileName:"Untitled Circuit",displayName:"Untitled Circuit",store:e},this.activateDocument(t)},async closeAll(){if(this.activeDocumentId){const t=await this.closeDocument(this.activeDocumentId);return await new Promise(e=>setTimeout(e)),t?this.closeAll():!1}return!0},printActiveDocument(){this.activeDocument&&(this.activeDocument.store().isPrinting=!0)},async closeDocument(t){const e=this.documents[t],n=e.store();let o=!0;if(this.activateDocument(t),n.isDirty){const i=window.api.showMessageBox({message:`Save changes to ${e.fileName}?`,title:"Confirm",buttons:["Yes","No","Cancel"]});if(i===0&&(o=await this.saveActiveDocument()),i===2)return!1}this.activeDocumentId=null,n.stopSimulation(),n.$reset(),n.$dispose(),delete this.documents[t];const r=Object.keys(this.documents).pop();return r&&this.activateDocument(r),o},async saveActiveDocument(t=!1){try{if(!this.activeDocument)return!0;if(!this.activeDocument.filePath||t){const n=this.activeDocument.fileName||`${this.activeDocument.fileName}.alfx`,o=window.api.showSaveFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]}],n);if(!o)return!0;if(o){const r=Ra(o);this.activeDocument.filePath=o,this.activeDocument.fileName=r,this.activeDocument.displayName=r}}if(!this.activeDocument.filePath)return!0;const e=this.activeDocument.store();return Mo.save(this.activeDocument.filePath,{items:e.items,connections:e.connections,groups:e.groups,ports:e.ports}),e.isDirty=!1,!0}catch{return window.api.showMessageBox({message:"An error occurred while trying to save the file.",title:"Error",type:"error"}),!1}},async selectDocument(){const t=window.api.showOpenFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]},{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}]);for(let e=0;e<t.length;e++)await this.openDocumentFromPath(t[e])},async openDocumentFromPath(t){try{const e=await Mo.open(t);e&&this.openDocument(t,e,me())}catch(e){console.log(e),window.api.showMessageBox({message:`Could not open ${t}. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},openDocument(t,e,n,o=""){if(this.documents[n])return this.activateDocument(n);const r=Na(n),i=r(),s=Ra(t);i.loadDocument(e),i.oscillator.onTick=a=>i.oscillogram=a,this.documents[n]={fileName:s,filePath:/^.*.aicx$/i.test(t)?void 0:t,displayName:o||s,store:r},this.activateDocument(n)},switchDocument(t){const e=Object.keys(this.documents),n=e.findIndex(r=>this.activeDocumentId===r);let o=n+t;e.length!==0&&(n===-1||o>=e.length?o=0:o<0&&(o=e.length-1),this.activateDocument(e[o]))},pauseActivity(){var t;(t=this.activeDocument)==null||t.store().stopSimulation()},resumeActivity(){var t;(t=this.activeDocument)==null||t.store().startSimulation()},activateDocument(t){this.pauseActivity(),this.activeDocumentId=t,this.resumeActivity()},openTestDocuments(){this.openDocument("flip-flop.alfx",JSON.stringify(g1),me(),"flip-flop.alfx")},navigateDocumentList(t){this.navigationAnimationFrameId||(this.navigationAnimationFrameId=requestAnimationFrame(()=>{this.navigationAnimationFrameId=0;const e=Object.keys(this.documents);let o=e.findIndex(r=>r===this.activeDocumentId)+t;o<0&&(o=e.length-1),o>=e.length&&(o=0),this.activateDocument(e[o])}))},toggleFullscreen(){this.isFullscreen=!this.isFullscreen,window.api.setFullscreen(this.isFullscreen)},toggleToolbox(){this.isToolboxOpen=!this.isToolboxOpen},invokeClipboardAction(t){var e;(e=this.activeDocument)==null||e.store()[t]()},checkPastability(){this.canPaste=window.api.canPaste()}}}),H0=xt({name:"Item",components:{CircuitComponent:pc,Draggable:fi,PortItem:gc,Properties:a1,PortHandle:ui,PortPivot:mc},props:{zIndex:{type:Number,default:1},isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(t,{emit:e}){const n=t.store(),o=Kt(()=>n.items[t.id]),r=Kt(()=>n.viewport),i=Gt();Xe(v),Pn(()=>{var f,b;return(b=(f=n.items[t.id])==null?void 0:f.properties.inputCount)==null?void 0:b.value},f=>f?v():null);const s=Kt(()=>{const f={[Ut.Left]:[],[Ut.Top]:[],[Ut.Right]:[],[Ut.Bottom]:[]};return n.items[t.id].portIds.forEach(b=>{f[n.ports[b].orientation].push(n.ports[b])}),f}),a=Kt(()=>t.isSelected&&n.selectedItemIds.size===1);function l(){n.items[t.id].subtype===re.CustomCircuit&&Xn().openIntegratedCircuit(n.items[t.id])}function u(){n.cacheState(),n.setSnapBoundaries(t.id)}function h(f,b){n.dragItem(t.id,{x:f.x-b.x-n.items[t.id].width/2*n.zoomLevel,y:f.y-b.y-n.items[t.id].height/2*n.zoomLevel})}function p(f){document.activeElement===i.value.$el&&i.value.$el.blur(),f.preventDefault()}function g(f){t.isSelected||n.setItemSelectionState(t.id,!0),e("contextmenu",f)}function d(f){f&&n.deselectAll(),n.setItemSelectionState(t.id,!0)}function v(){var b;const f=(b=i.value)==null?void 0:b.$el;n.setItemSize({id:t.id,rect:f.getBoundingClientRect()}),Zo(()=>{f.querySelectorAll("[data-port-id]").forEach(y=>{const I=y.dataset.portId,{x:E,y:k}=y.getBoundingClientRect();n.setPortRelativePosition({x:E,y:k},I)})})}return{item:o,itemRef:i,store:n,ports:s,viewport:r,isPropertiesEnabled:a,focus,onDrag:h,onDragStart:u,onEscapeKey:p,onSelect:d,onContextMenu:g,revealCustomCircuit:l,ItemSubtype:re,ItemType:Oe}}});function W0(t,e,n,o,r,i){const s=bt("properties"),a=bt("port-handle"),l=bt("port-pivot"),u=bt("circuit-component"),h=bt("draggable");return Y(),Rt(h,{style:ne({pointerEvents:"none",zIndex:t.zIndex}),position:t.item.position,"is-selected":t.isSelected,"allow-touch-drag":t.isSelected,tabindex:0,onKeydown:ao(t.onEscapeKey,["esc"]),onDrag:t.onDrag,onDragStart:t.onDragStart,onContextmenu:t.onContextMenu,onDblclick:t.revealCustomCircuit,onTouchhold:t.revealCustomCircuit,onDragEnd:t.store.commitCachedState,onSelect:t.onSelect,onDeselect:e[1]||(e[1]=p=>t.store.setItemSelectionState(t.id,!1)),ref:"itemRef","data-test":"item"},{default:Ft(()=>[t.isPropertiesEnabled?(Y(),Rt(s,{key:0,properties:t.item.properties,id:t.id,viewport:t.viewport,onUpdate:t.store.setProperties,onPan:t.store.panDelta,"aria-label":"Properties dialog","data-test":"properties"},null,8,["properties","id","viewport","onUpdate","onPan"])):de("",!0),ut(u,{type:t.item.type,subtype:t.item.subtype,name:t.item.name,ports:t.ports,properties:t.item.properties,"is-selected":t.isSelected,flash:t.flash,style:ne({transform:`rotate(${90*t.item.rotation}deg)`}),onSignal:t.store.setPortValue},Cs({_:2},[pe(t.ports,(p,g)=>({name:g,fn:Ft(()=>[(Y(!0),dt(Zt,null,pe(p,d=>(Y(),Rt(l,{"data-port-id":d.id,key:d.id},{default:Ft(()=>[ut(a,{id:d.id,hue:d.isMonitored?d.hue:0,tabindex:0,onKeydown:[ao(t.onEscapeKey,["esc"]),ao(v=>t.store.cycleConnectionPreviews(d.id),["space"]),e[0]||(e[0]=ao(v=>t.store.commitPreviewedConnection(),["enter"]))],onContextmenu:v=>t.store.setActivePortId(d.id),onFocus:v=>t.store.setActivePortId(d.id),onBlur:v=>t.store.unsetActivePortId(d.id)},null,8,["id","hue","onKeydown","onContextmenu","onFocus","onBlur"])]),_:2},1032,["data-port-id"]))),128))])}))]),1032,["type","subtype","name","ports","properties","is-selected","flash","style","onSignal"])]),_:1},8,["style","position","is-selected","allow-touch-drag","onKeydown","onDrag","onDragStart","onContextmenu","onDblclick","onTouchhold","onDragEnd","onSelect"])}const G0=Pt(H0,[["render",W0]]);var bc=function(){if(typeof Map<"u")return Map;function t(e,n){var o=-1;return e.some(function(r,i){return r[0]===n?(o=i,!0):!1}),o}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var o=t(this.__entries__,n),r=this.__entries__[o];return r&&r[1]},e.prototype.set=function(n,o){var r=t(this.__entries__,n);~r?this.__entries__[r][1]=o:this.__entries__.push([n,o])},e.prototype.delete=function(n){var o=this.__entries__,r=t(o,n);~r&&o.splice(r,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,o){o===void 0&&(o=null);for(var r=0,i=this.__entries__;r<i.length;r++){var s=i[r];n.call(o,s[1],s[0])}},e}()}(),rs=typeof window<"u"&&typeof document<"u"&&window.document===document,Wr=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),q0=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Wr):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Z0=2;function K0(t,e){var n=!1,o=!1,r=0;function i(){n&&(n=!1,t()),o&&a()}function s(){q0(i)}function a(){var l=Date.now();if(n){if(l-r<Z0)return;o=!0}else n=!0,o=!1,setTimeout(s,e);r=l}return a}var X0=20,Y0=["top","right","bottom","left","width","height","size","weight"],J0=typeof MutationObserver<"u",Q0=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=K0(this.refresh.bind(this),X0)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,o=n.indexOf(e);~o&&n.splice(o,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!rs||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),J0?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!rs||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,o=n===void 0?"":n,r=Y0.some(function(i){return!!~o.indexOf(i)});r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),_c=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var r=o[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},vo=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Wr},wc=pi(0,0,0,0);function Gr(t){return parseFloat(t)||0}function Fa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(o,r){var i=t["border-"+r+"-width"];return o+Gr(i)},0)}function t2(t){for(var e=["top","right","bottom","left"],n={},o=0,r=e;o<r.length;o++){var i=r[o],s=t["padding-"+i];n[i]=Gr(s)}return n}function e2(t){var e=t.getBBox();return pi(0,0,e.width,e.height)}function n2(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return wc;var o=vo(t).getComputedStyle(t),r=t2(o),i=r.left+r.right,s=r.top+r.bottom,a=Gr(o.width),l=Gr(o.height);if(o.boxSizing==="border-box"&&(Math.round(a+i)!==e&&(a-=Fa(o,"left","right")+i),Math.round(l+s)!==n&&(l-=Fa(o,"top","bottom")+s)),!r2(t)){var u=Math.round(a+i)-e,h=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(h)!==1&&(l-=h)}return pi(r.left,r.top,a,l)}var o2=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof vo(t).SVGGraphicsElement}:function(t){return t instanceof vo(t).SVGElement&&typeof t.getBBox=="function"}}();function r2(t){return t===vo(t).document.documentElement}function i2(t){return rs?o2(t)?e2(t):n2(t):wc}function s2(t){var e=t.x,n=t.y,o=t.width,r=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return _c(s,{x:e,y:n,width:o,height:r,top:n,right:e+o,bottom:r+n,left:e}),s}function pi(t,e,n,o){return{x:t,y:e,width:n,height:o}}var a2=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=pi(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=i2(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),l2=function(){function t(e,n){var o=s2(n);_c(this,{target:e,contentRect:o})}return t}(),c2=function(){function t(e,n,o){if(this.activeObservations_=[],this.observations_=new bc,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=o}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new a2(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(o){return new l2(o.target,o.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Cc=typeof WeakMap<"u"?new WeakMap:new bc,Sc=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Q0.getInstance(),o=new c2(e,n,this);Cc.set(this,o)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Sc.prototype[t]=function(){var e;return(e=Cc.get(this))[t].apply(e,arguments)}});var u2=function(){return typeof Wr.ResizeObserver<"u"?Wr.ResizeObserver:Sc}();const d2=xt({name:"Resizable",emits:{resize:t=>!0},setup(t,{emit:e}){const n=Gt();function o([i]){e("resize",i.target.getBoundingClientRect())}const r=new u2(o);return Xe(()=>{r.observe(n.value)}),{onSizeChanged:o,resizable:n}}}),f2={ref:"resizable"};function h2(t,e,n,o,r,i){return Y(),dt("div",f2,[ue(t.$slots,"default")],512)}const Rs=Pt(d2,[["render",h2]]),p2=xt({name:"Editor",emits:{resize:t=>!0,pan:(t,e)=>!0,zoom:t=>!0,contextmenu:t=>!0},components:{Resizable:Rs},props:{zoom:{type:Number,default:1},gridSize:{type:Number,default:0},canvas:{type:Object,required:!0},snapshot:{type:Object,default:null}},setup(t,{emit:e}){let n=0,o={x:0,y:0},r={y:0,x:0},i=0,s=0,a=!1,l=0,u=1;const h=Gt(null),p=Kt(()=>{const G=t.canvas.right-t.canvas.left,S=t.canvas.bottom-t.canvas.top;return{backgroundSize:`${t.gridSize}px ${t.gridSize}px`,transform:`scale(${t.zoom})`,left:`${t.canvas.left}px`,top:`${t.canvas.top}px`,width:`${G}px`,height:`${S}px`}}),g=Gt();Xe(()=>{window.addEventListener("mousemove",k),window.addEventListener("mouseup",L)}),qn(()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",L)});function d({touches:G}){const S=G[0].clientX-G[1].clientX,F=G[0].clientY-G[1].clientY;return Math.hypot(S,F)}function v(G){if(G.touches.length===1)return{x:G.touches[0].clientX,y:G.touches[0].clientY};{const S=Math.abs(G.touches[0].clientX-G.touches[1].clientX)/2,F=Math.abs(G.touches[0].clientY-G.touches[1].clientY)/2;return{x:Math.min(G.touches[0].clientX,G.touches[1].clientX)+S,y:Math.min(G.touches[0].clientY,G.touches[1].clientY)+F}}}function f(G){a=!0,r=G,o=G,i=0,s=0}function b({x:G,y:S}){if(n=0,!a)return;const F=G-o.x,m=S-o.y;e("pan",{x:F,y:m}),i=Math.hypot(F,m),s=Math.atan2(m,F),o={x:G,y:S}}function y(G){n=0;const S=v(G);if(G.touches.length===2&&l){const F=d(G),m=Math.max(Math.min(u*(F/l),es),Go);e("zoom",{zoom:m,point:S})}b(S)}function I(){if(!i)return;const G=i*Math.cos(s)*ns,S=i*Math.sin(s)*ns;e("pan",{x:G,y:S},!0)}function E(G){f(G),G.preventDefault(),G.stopPropagation()}function k(G){n||(n=window.requestAnimationFrame(()=>b({x:G.clientX,y:G.clientY})))}function L(G){if(a){if(a=!1,G.button===2&&ie.isInNeighborhood(G,r,5)){e("contextmenu",G);return}G.stopPropagation(),G.preventDefault(),I()}}function U(G){G.preventDefault(),G.stopPropagation(),!(G.touches.length>2)&&(a=!1,l=0,u=t.zoom,requestAnimationFrame(()=>f(v(G))),G.touches.length===2&&(l=d(G)))}function M(G){n||(n=window.requestAnimationFrame(()=>y(G)))}function z(G){if(G.touches.length){n=window.requestAnimationFrame(()=>U(G));return}l===0&&I(),a=!1,l=0,n=0}function $(G){if(!G.ctrlKey||!G.deltaY)return;const S=G.deltaY<0?1:-1,F=t.zoom+S/10;e("zoom",{zoom:F,point:{x:G.x,y:G.y}})}function Z(G=!1){var F;const S=(F=g.value)==null?void 0:F.querySelectorAll('[tabindex="0"]');if(S){const m=G?1:S.length-2,tt=S[m];tt==null||tt.focus()}}return{selector:h,style:p,grid:g,onTouchStart:U,onTouchMove:M,onTouchEnd:z,onMouseDown:E,onMouseMove:k,onMouseWheel:$,recycleFocus:Z}}});function m2(t,e,n,o,r,i){const s=bt("resizable");return Y(),Rt(s,{onMousewheel:t.onMouseWheel,onMousedown:An(t.onMouseDown,["right"]),onTouchstart:t.onTouchStart,onTouchmove:t.onTouchMove,onTouchend:t.onTouchEnd,onResize:e[2]||(e[2]=a=>t.$emit("resize",a)),class:"editor"},{default:Ft(()=>[yt("div",{style:ne(t.style),class:"editor__grid",ref:"grid"},[yt("div",{tabindex:0,"data-test":"first",onFocus:e[0]||(e[0]=a=>t.recycleFocus(!1))},null,32),ue(t.$slots,"default"),yt("div",{tabindex:0,"data-test":"last",onFocus:e[1]||(e[1]=a=>t.recycleFocus(!0))},null,32)],4)]),_:3},8,["onMousewheel","onMousedown","onTouchstart","onTouchmove","onTouchend"])}const g2=Pt(p2,[["render",m2]]),v2=xt({name:"Selector",emits:{selectionStart:t=>!0,selectionEnd:t=>!0},props:{zoom:{type:Number,default:1}},setup(t,{emit:e}){const n=Gt({x:0,y:0}),o=Gt({x:0,y:0}),r=Gt(null),i=Gt(!1),s=()=>({left:Math.min(n.value.x,o.value.x),top:Math.min(n.value.y,o.value.y),width:Math.abs(n.value.x-o.value.x),height:Math.abs(n.value.y-o.value.y)}),a=Kt(()=>{const y=s();return{left:`${y.left}px`,top:`${y.top}px`,width:`${y.width}px`,height:`${y.height}px`}});let l={x:0,y:0},u=!1;Xe(()=>{window.addEventListener("mousemove",d),window.addEventListener("mouseup",v)}),qn(()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",v)});function h(y){if(!r.value)return{x:0,y:0};const{top:I,left:E}=r.value.getBoundingClientRect(),k=(y.x-E)/t.zoom,L=(y.y-I)/t.zoom;return{x:k,y:L}}function p(){const{left:y,top:I,width:E,height:k}=s();e("selectionEnd",{left:y,top:I,bottom:k+I,right:y+E})}function g(y){const I=h(y);i.value=!0,n.value=I,o.value=I,e("selectionStart",y.ctrlKey)}function d(y){i.value&&(o.value=h(y))}function v(){i.value&&(p(),i.value=!1,n.value.x=0,n.value.y=0,o.value.x=0,o.value.y=0)}function f(y){l.x=y.touches[0].clientX,l.y=y.touches[0].clientY,u=!0}function b(y){u&&(ie.isInNeighborhood(l,{x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY},5)&&e("selectionStart",!1),l.x=0,l.y=0,u=!1)}return{selector:r,hasSelection:i,style:a,onMouseDown:g,onTouchStart:f,onTouchEnd:b}}});function y2(t,e,n,o,r,i){return Y(),dt("div",{onMousedown:e[0]||(e[0]=An((...s)=>t.onMouseDown&&t.onMouseDown(...s),["left","self"])),onTouchstart:e[1]||(e[1]=(...s)=>t.onTouchStart&&t.onTouchStart(...s)),onTouchend:e[2]||(e[2]=(...s)=>t.onTouchEnd&&t.onTouchEnd(...s)),class:"selector",ref:"selector"},[t.hasSelection?(Y(),dt("div",{key:0,style:ne(t.style),class:"selector__selection"},null,4)):de("",!0)],544)}const b2=Pt(v2,[["render",y2]]),_2=xt({name:"Group",props:{boundingBox:{type:Object,required:!0},id:{type:String,required:!0},isSelected:{type:Boolean,default:!1},zIndex:{type:Number,default:0},zoom:{type:Number,default:1}}});function w2(t,e,n,o,r,i){return Y(),dt("div",{class:Qt(["group",{"group--is-selected":t.isSelected}]),"aria-roledescription":"group",tabindex:-1,style:ne({position:"absolute",left:`${t.boundingBox.left}px`,top:`${t.boundingBox.top}px`,width:`${t.boundingBox.right-t.boundingBox.left}px`,height:`${t.boundingBox.bottom-t.boundingBox.top}px`,zIndex:t.zIndex})},null,6)}const C2=Pt(_2,[["render",w2]]);function Ic(t,e=[]){const n=t(),o=Xn();let r=[{label:"&Undo",enabled:n.canUndo,accelerator:"CommandOrControl+Z",click:n.undo},{type:"separator"},{role:"cut",enabled:n.hasSelectedItems},{role:"copy",enabled:n.hasSelectedItems},{role:"paste",enabled:o.canPaste},{label:"Delete",accelerator:"Delete",enabled:n.canDelete,click:n.deleteSelection},{type:"separator"},{label:"&Select All",accelerator:"CommandOrControl+A",enabled:n.baseItems.length>0,click:n.selectAll}];return n.selectedItemIds.size>0&&(r.push({type:"separator"}),r.push({label:"&Rotate",submenu:[{label:"Rotate 90 &CW",accelerator:"CmdOrCtrl+R",click:()=>n.rotate(1)},{label:"Rotate 90 CC&W",accelerator:"CmdOrCtrl+Shift+R",click:()=>n.rotate(-1)}]})),n.hasSelection&&(r.push({type:"separator"}),r.push({label:"&Bring to Front",submenu:[{label:"&Bring to Front",click:()=>n.setZIndex(n.zIndex)},{label:"Bring &Forward",click:()=>n.incrementZIndex(1)}]}),r.push({label:"&Send to Back",submenu:[{label:"&Send to Back",click:()=>n.setZIndex(n.zIndex)},{label:"Send &Backward",click:()=>n.incrementZIndex(-1)}]})),n.canGroup&&r.push({label:"&Group",submenu:[{label:"&Group"},{label:"&Ungroup",enabled:n.canUngroup}]}),e.length>0&&(r.push({type:"separator"}),r=r.concat(e)),n.selectedItemIds.size===1&&(r.push({type:"separator"}),r.push({label:"&Item Properties"})),n.activePortId&&(r.push({type:"separator"}),r.push({type:"checkbox",label:"Show in &Oscilloscope",checked:!0})),r}function xc(t){return t(),[{label:"&Grid",submenu:[{label:"&Show grid"},{type:"separator"},{label:"Snap to &grid"},{label:"Snap to &elements"}]}]}function S2(t){return Ic(t,xc(t).concat({type:"separator"}))}var Ec={exports:{}};(function(t){(function(e){var n=E(),o=k(),r=L(),i=U(),s={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:h,toJpeg:p,toBlob:g,toPixelData:u,impl:{fontFaces:r,images:i,util:n,inliner:o,options:{}}};t.exports=a;function l(M,z){return z=z||{},d(z),Promise.resolve(M).then(function(Z){return f(Z,z.filter,!0)}).then(b).then(y).then($).then(function(Z){return I(Z,z.width||n.width(M),z.height||n.height(M))});function $(Z){return z.bgcolor&&(Z.style.backgroundColor=z.bgcolor),z.width&&(Z.style.width=z.width+"px"),z.height&&(Z.style.height=z.height+"px"),z.style&&Object.keys(z.style).forEach(function(G){Z.style[G]=z.style[G]}),Z}}function u(M,z){return v(M,z||{}).then(function($){return $.getContext("2d").getImageData(0,0,n.width(M),n.height(M)).data})}function h(M,z){return v(M,z||{}).then(function($){return $.toDataURL()})}function p(M,z){return z=z||{},v(M,z).then(function($){return $.toDataURL("image/jpeg",z.quality||1)})}function g(M,z){return v(M,z||{}).then(n.canvasToBlob)}function d(M){typeof M.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=s.imagePlaceholder:a.impl.options.imagePlaceholder=M.imagePlaceholder,typeof M.cacheBust>"u"?a.impl.options.cacheBust=s.cacheBust:a.impl.options.cacheBust=M.cacheBust}function v(M,z){return l(M,z).then(n.makeImage).then(n.delay(100)).then(function(Z){var G=$(M);return G.getContext("2d").drawImage(Z,0,0),G});function $(Z){var G=document.createElement("canvas");if(G.width=z.width||n.width(Z),G.height=z.height||n.height(Z),z.bgcolor){var S=G.getContext("2d");S.fillStyle=z.bgcolor,S.fillRect(0,0,G.width,G.height)}return G}}function f(M,z,$){if(!$&&z&&!z(M))return Promise.resolve();return Promise.resolve(M).then(Z).then(function(F){return G(M,F,z)}).then(function(F){return S(M,F)});function Z(F){return F instanceof HTMLCanvasElement?n.makeImage(F.toDataURL()):F.cloneNode(!1)}function G(F,m,tt){var vt=F.childNodes;if(vt.length===0)return Promise.resolve(m);return et(m,n.asArray(vt),tt).then(function(){return m});function et(St,ct,ft){var X=Promise.resolve();return ct.forEach(function(K){X=X.then(function(){return f(K,ft)}).then(function(Ct){Ct&&St.appendChild(Ct)})}),X}}function S(F,m){if(!(m instanceof Element))return m;return Promise.resolve().then(tt).then(vt).then(et).then(St).then(function(){return m});function tt(){ct(window.getComputedStyle(F),m.style);function ct(ft,X){ft.cssText?X.cssText=ft.cssText:K(ft,X);function K(Ct,_t){n.asArray(Ct).forEach(function(nt){_t.setProperty(nt,Ct.getPropertyValue(nt),Ct.getPropertyPriority(nt))})}}}function vt(){[":before",":after"].forEach(function(ft){ct(ft)});function ct(ft){var X=window.getComputedStyle(F,ft),K=X.getPropertyValue("content");if(K===""||K==="none")return;var Ct=n.uid();m.className=m.className+" "+Ct;var _t=document.createElement("style");_t.appendChild(nt(Ct,ft,X)),m.appendChild(_t);function nt(Et,Nt,It){var Bt="."+Et+":"+Nt,Xt=It.cssText?Jt(It):T(It);return document.createTextNode(Bt+"{"+Xt+"}");function Jt(j){var c=j.getPropertyValue("content");return j.cssText+" content: "+c+";"}function T(j){return n.asArray(j).map(c).join("; ")+";";function c(B){return B+": "+j.getPropertyValue(B)+(j.getPropertyPriority(B)?" !important":"")}}}}}function et(){F instanceof HTMLTextAreaElement&&(m.innerHTML=F.value),F instanceof HTMLInputElement&&m.setAttribute("value",F.value)}function St(){m instanceof SVGElement&&(m.setAttribute("xmlns","http://www.w3.org/2000/svg"),m instanceof SVGRectElement&&["width","height"].forEach(function(ct){var ft=m.getAttribute(ct);ft&&m.style.setProperty(ct,ft)}))}}}function b(M){return r.resolveAll().then(function(z){var $=document.createElement("style");return M.appendChild($),$.appendChild(document.createTextNode(z)),M})}function y(M){return i.inlineAll(M).then(function(){return M})}function I(M,z,$){return Promise.resolve(M).then(function(Z){return Z.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(Z)}).then(n.escapeXhtml).then(function(Z){return'<foreignObject x="0" y="0" width="100%" height="100%">'+Z+"</foreignObject>"}).then(function(Z){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+z+'" height="'+$+'">'+Z+"</svg>"}).then(function(Z){return"data:image/svg+xml;charset=utf-8,"+Z})}function E(){return{escape:St,parseExtension:z,mimeType:$,dataAsUrl:et,isDataUrl:Z,canvasToBlob:S,resolveUrl:F,getAndEncode:vt,uid:m(),delay:ct,asArray:ft,escapeXhtml:X,makeImage:tt,width:K,height:Ct};function M(){var nt="application/font-woff",Et="image/jpeg";return{woff:nt,woff2:nt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Et,jpeg:Et,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function z(nt){var Et=/\.([^\.\/]*?)$/g.exec(nt);return Et?Et[1]:""}function $(nt){var Et=z(nt).toLowerCase();return M()[Et]||""}function Z(nt){return nt.search(/^(data:)/)!==-1}function G(nt){return new Promise(function(Et){for(var Nt=window.atob(nt.toDataURL().split(",")[1]),It=Nt.length,Bt=new Uint8Array(It),Xt=0;Xt<It;Xt++)Bt[Xt]=Nt.charCodeAt(Xt);Et(new Blob([Bt],{type:"image/png"}))})}function S(nt){return nt.toBlob?new Promise(function(Et){nt.toBlob(Et)}):G(nt)}function F(nt,Et){var Nt=document.implementation.createHTMLDocument(),It=Nt.createElement("base");Nt.head.appendChild(It);var Bt=Nt.createElement("a");return Nt.body.appendChild(Bt),It.href=Et,Bt.href=nt,Bt.href}function m(){var nt=0;return function(){return"u"+Et()+nt++;function Et(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function tt(nt){return new Promise(function(Et,Nt){var It=new Image;It.onload=function(){Et(It)},It.onerror=Nt,It.src=nt})}function vt(nt){var Et=3e4;return a.impl.options.cacheBust&&(nt+=(/\?/.test(nt)?"&":"?")+new Date().getTime()),new Promise(function(Nt){var It=new XMLHttpRequest;It.onreadystatechange=Jt,It.ontimeout=T,It.responseType="blob",It.timeout=Et,It.open("GET",nt,!0),It.send();var Bt;if(a.impl.options.imagePlaceholder){var Xt=a.impl.options.imagePlaceholder.split(/,/);Xt&&Xt[1]&&(Bt=Xt[1])}function Jt(){if(It.readyState===4){if(It.status!==200){Bt?Nt(Bt):j("cannot fetch resource: "+nt+", status: "+It.status);return}var c=new FileReader;c.onloadend=function(){var B=c.result.split(/,/)[1];Nt(B)},c.readAsDataURL(It.response)}}function T(){Bt?Nt(Bt):j("timeout of "+Et+"ms occured while fetching resource: "+nt)}function j(c){console.error(c),Nt("")}})}function et(nt,Et){return"data:"+Et+";base64,"+nt}function St(nt){return nt.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function ct(nt){return function(Et){return new Promise(function(Nt){setTimeout(function(){Nt(Et)},nt)})}}function ft(nt){for(var Et=[],Nt=nt.length,It=0;It<Nt;It++)Et.push(nt[It]);return Et}function X(nt){return nt.replace(/#/g,"%23").replace(/\n/g,"%0A")}function K(nt){var Et=_t(nt,"border-left-width"),Nt=_t(nt,"border-right-width");return nt.scrollWidth+Et+Nt}function Ct(nt){var Et=_t(nt,"border-top-width"),Nt=_t(nt,"border-bottom-width");return nt.scrollHeight+Et+Nt}function _t(nt,Et){var Nt=window.getComputedStyle(nt).getPropertyValue(Et);return parseFloat(Nt.replace("px",""))}}function k(){var M=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:G,shouldProcess:z,impl:{readUrls:$,inline:Z}};function z(S){return S.search(M)!==-1}function $(S){for(var F=[],m;(m=M.exec(S))!==null;)F.push(m[1]);return F.filter(function(tt){return!n.isDataUrl(tt)})}function Z(S,F,m,tt){return Promise.resolve(F).then(function(et){return m?n.resolveUrl(et,m):et}).then(tt||n.getAndEncode).then(function(et){return n.dataAsUrl(et,n.mimeType(F))}).then(function(et){return S.replace(vt(F),"$1"+et+"$3")});function vt(et){return new RegExp(`(url\\(['"]?)(`+n.escape(et)+`)(['"]?\\))`,"g")}}function G(S,F,m){if(tt())return Promise.resolve(S);return Promise.resolve(S).then($).then(function(vt){var et=Promise.resolve(S);return vt.forEach(function(St){et=et.then(function(ct){return Z(ct,St,F,m)})}),et});function tt(){return!z(S)}}}function L(){return{resolveAll:M,impl:{readAll:z}};function M(){return z().then(function($){return Promise.all($.map(function(Z){return Z.resolve()}))}).then(function($){return $.join(`
`)})}function z(){return Promise.resolve(n.asArray(document.styleSheets)).then(Z).then($).then(function(S){return S.map(G)});function $(S){return S.filter(function(F){return F.type===CSSRule.FONT_FACE_RULE}).filter(function(F){return o.shouldProcess(F.style.getPropertyValue("src"))})}function Z(S){var F=[];return S.forEach(function(m){try{n.asArray(m.cssRules||[]).forEach(F.push.bind(F))}catch(tt){console.log("Error while reading CSS rules from "+m.href,tt.toString())}}),F}function G(S){return{resolve:function(){var m=(S.parentStyleSheet||{}).href;return o.inlineAll(S.cssText,m)},src:function(){return S.style.getPropertyValue("src")}}}}}function U(){return{inlineAll:z,impl:{newImage:M}};function M($){return{inline:Z};function Z(G){return n.isDataUrl($.src)?Promise.resolve():Promise.resolve($.src).then(G||n.getAndEncode).then(function(S){return n.dataAsUrl(S,n.mimeType($.src))}).then(function(S){return new Promise(function(F,m){$.onload=F,$.onerror=m,$.src=S})})}}function z($){if(!($ instanceof Element))return Promise.resolve($);return Z($).then(function(){return $ instanceof HTMLImageElement?M($).inline():Promise.all(n.asArray($.childNodes).map(function(G){return z(G)}))});function Z(G){var S=G.style.getPropertyValue("background");return S?o.inlineAll(S).then(function(F){G.style.setProperty("background",F,G.style.getPropertyPriority("background"))}).then(function(){return G}):Promise.resolve(G)}}}})()})(Ec);var I2=Ec.exports;const x2=Ts(I2);function Oc(t,e,n,o,r="printer-friendly"){const i=e.cloneNode(!0),s=n.right-n.left+o*2,a=n.bottom-n.top+o*2;for(let l=0;l<i.children.length;l++){const u=i.children[l],h=parseInt(u.style.left.replace("px",""),10)+o,p=parseInt(u.style.top.replace("px",""),10)+o;u.style.left=`${h-n.left}px`,u.style.top=`${p-n.top}px`}return i.style.zoom=t.toString(),i.style.width=`${s}px`,i.style.height=`${a}px`,i.style.position="relative",i.style.top="0",i.style.left="0",i.style.background="none",r&&i.classList.add(r),{printArea:i,width:s,height:a}}function E2(t,e){const n=document.createElement("iframe");n.name="print",n.style.width="1px",n.style.height="1px",n.style.opacity="0",n.style.position="absolute",n.style.top="0px",n.style.left="0px",document.body.appendChild(n);const o=n.contentWindow;if(o){const r=document.createElement("style");r.appendChild(document.createTextNode(`
      @page {
        size: ${e.map(i=>`${i}in`).join(" ")};
        margin: 0in;
      }
    `)),o.document.head.append(r),o.document.body.appendChild(t)}return n}async function O2(t,e){document.body.appendChild(t);const n=await x2[e](t);return t.remove(),n}async function P2(t){return new Promise(e=>{setTimeout(()=>{if(!t)return e();t.addEventListener("afterprint",()=>e()),t.print()})})}async function k2(t,e,n){const{printArea:o,width:r,height:i}=Oc(1/t,e,n,20),s=await ho.createImage(o,"toPng"),a=[8.5,11],l=Math.min(...a)*96,u=Math.max(...a)*96,h=new Image;let p=1;if(h.src=s,r>l||r>u||i>l||i>u){const d=r>i;p=d?u/r:u/i,d&&a.reverse()}h.style.width=`${Math.floor(r*p)}px`,h.style.height=`${Math.floor(i*p)}px`;const g=ho.createPrintFrame(h,a);await ho.printWindow(g==null?void 0:g.contentWindow),g==null||g.remove()}const ho={createPrintArea:Oc,createPrintFrame:E2,createImage:O2,printImage:k2,printWindow:P2},$2=xt({name:"Document",components:{Group:C2,Editor:g2,Selector:b2,Connection:Sp,Item:G0,PortItem:gc},props:{store:{type:Function,required:!0}},setup(t){const e=t.store(),n=Xn(),o=Kn(),r=Gt(),i=Gt(0),{colors:s}=Ho(o),a=Kt(()=>e.isDebugging&&e.isCircuitEvaluated),l=Kt(()=>o.grid.showGrid.value?o.grid.gridSize.value:0);let u=1,h=0;Rr(()=>{e.isPrinting&&g(),e.isCreatingImage&&d()}),Xe(()=>{document.addEventListener("keydown",v),document.addEventListener("keyup",f),window.addEventListener("blur",f)}),qn(()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",f),window.removeEventListener("blur",f)});function p(E){const k=Object.values(e.items).map(({boundingBox:U})=>U),L=ie.getGroupBoundingBox(k);E(r.value.grid,L)}async function g(){p(async(E,k)=>{await ho.printImage(e.zoom,E,k),e.isPrinting=!1})}async function d(){p(async(E,k)=>{const{printArea:L}=ho.createPrintArea(1/e.zoom,E,k,Zh,""),U=await ho.createImage(L,"toBlob");await n.saveImage(U),e.isCreatingImage=!1})}function v(E){E.target instanceof HTMLInputElement||h||(h=requestAnimationFrame(()=>{switch(h=0,E.key){case"Escape":return e.deselectAll();case"a":return E.ctrlKey&&e.selectAll();default:return b(E)}}))}function f(){u>1&&(e.commitCachedState(),u=1)}function b(E){const k=(()=>{switch(E.key){case"ArrowLeft":return{x:-1,y:0};case"ArrowUp":return{x:0,y:-1};case"ArrowRight":return{x:1,y:0};case"ArrowDown":return{x:0,y:1}}})();if(k){const L=Math.min(u,10);u===1&&e.cacheState(),e.setSelectionPosition({x:k.x*L,y:k.y*L}),u*=Kh}}function y(E){window.api.showContextMenu(S2(t.store)),E.preventDefault(),E.stopPropagation()}function I(E){E||e.deselectAll()}return{store:e,editorRef:r,updates:i,colors:s,gridSize:l,flash:a,storeDefinition:t.store,ITEM_BASE_Z_INDEX:nc,onKeyDown:v,onKeyUp:f,onContextMenu:y,onDeselect:I}}});function D2(t,e,n,o,r,i){const s=bt("selector"),a=bt("item"),l=bt("connection"),u=bt("port-item"),h=bt("group"),p=bt("editor");return Y(),Rt(p,{ref:"editorRef",zoom:t.store.zoom,"grid-size":t.gridSize,tabindex:0,canvas:t.store.canvas,style:ne({"--color-on":t.colors.onColor.value,"--color-off":t.colors.offColor.value,"--color-hi-z":t.colors.unknownColor.value}),onPan:t.store.panDelta,onZoom:t.store.setZoom,onContextmenu:t.onContextMenu,onResize:t.store.setViewerSize},{default:Ft(()=>[ut(s,{zoom:t.store.zoom,onSelectionEnd:t.store.createSelection,onSelectionStart:t.onDeselect,ref:"selector"},null,8,["zoom","onSelectionEnd","onSelectionStart"]),t.store.hasLoaded?(Y(!0),dt(Zt,{key:0},pe(t.store.baseItems,g=>(Y(),dt(Zt,null,["type"in g?(Y(),Rt(a,{store:t.storeDefinition,id:g.id,key:g.id,"is-selected":g.isSelected,flash:t.flash,"z-index":g.zIndex+t.ITEM_BASE_Z_INDEX},null,8,["store","id","is-selected","flash","z-index"])):(Y(),Rt(l,{store:t.storeDefinition,id:g.id,key:`c${g.id}`,"is-selected":g.isSelected,flash:t.flash,"z-index":g.zIndex},null,8,["store","id","is-selected","flash","z-index"]))],64))),256)):de("",!0),(Y(!0),dt(Zt,null,pe(t.store.ports,(g,d)=>(Y(),Rt(u,{key:d,port:g,store:t.storeDefinition},null,8,["port","store"]))),128)),(Y(!0),dt(Zt,null,pe(t.store.groups,g=>(Y(),Rt(h,{key:g.id,id:g.id,"bounding-box":g.boundingBox,"is-selected":g.isSelected,"z-index":t.store.zIndex,zoom:t.store.zoom},null,8,["id","bounding-box","is-selected","z-index","zoom"]))),128))]),_:1},8,["zoom","grid-size","canvas","style","onPan","onZoom","onContextmenu","onResize"])}const A2=Pt($2,[["render",D2]]),T2=xt({name:"MobileButton",components:{Icon:He},props:{label:{type:String,default:""},icon:{type:Object,required:!0},chevron:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1}},setup(){return{faChevronDown:ql}}});const z2={class:"mobile-button"},M2={class:"mobile-button__label"};function B2(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("div",z2,[ut(s,{icon:t.icon,class:"mobile-button__icon"},null,8,["icon"]),yt("div",M2,he(t.label),1),t.chevron?(Y(),Rt(s,{key:0,icon:t.faChevronDown,class:Qt([{"mobile-button__icon--open":t.isOpen},"mobile-button__icon--chevron"])},null,8,["icon","class"])):de("",!0)])}const Pc=Pt(T2,[["render",B2]]),L2=xt({name:"MobileCollapsiblePanel",components:{MobileButton:Pc},props:{title:{type:String,default:""},icon:{type:Object,required:!0}},setup(){const t=Gt("0"),e=Gt(),n=Gt(!1);function o(){var i;t.value=n.value?((i=e.value)==null?void 0:i.clientHeight)+"px":"0px"}function r(){n.value=!n.value,o()}return Xe(()=>o()),{faChevronDown:ql,isOpen:n,height:t,content:e,toggle:r}}});const N2={class:"mobile-collapsible-panel"},R2={ref:"content"};function F2(t,e,n,o,r,i){const s=bt("mobile-button");return Y(),dt("div",N2,[ut(s,{label:t.title,icon:t.icon,"is-open":t.isOpen,onClick:t.toggle,chevron:""},null,8,["label","icon","is-open","onClick"]),yt("div",{class:"mobile-collapsible-panel__content",style:ne({height:t.height})},[yt("div",R2,[yt("div",{class:Qt(["mobile-collapsible-panel__inner",{"mobile-collapsible-panel__inner--open":t.isOpen}])},[ue(t.$slots,"default")],2)],512)],4)])}const j2=Pt(L2,[["render",F2]]),V2=xt({name:"PropertyForm",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""}},emits:{"update:modelValue":t=>!0},setup(t,{emit:e}){const n=Gt(t.modelValue);return Pn(()=>t.modelValue,()=>{n.value=t.modelValue}),{model:n}}});const U2=["id","disabled"];function H2(t,e,n,o,r,i){return Y(),dt("label",{class:Qt(["property-switch",{"property-switch--on":t.model,"property-switch--disabled":t.disabled}])},[fo(yt("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.model=s),id:t.id,disabled:t.disabled,type:"checkbox",class:"property-switch__input",onInput:e[1]||(e[1]=s=>t.$emit("update:modelValue",!t.model))},null,40,U2),[[$s,t.model]]),yt("div",{class:Qt(["property-switch__trigger",{"property-switch__trigger--on":t.model}])},null,2)],2)}const W2=Pt(V2,[["render",H2]]),kc=/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent),G2=xt({name:"PropertyForm",components:{Icon:He,PropertySwitch:W2},props:{modelValue:{type:Object,default:()=>({})},id:{type:String,default:""}},setup(t,{emit:e}){const n=s=>Object.keys(s).filter(a=>kc?!s[a].desktopOnly:!s[a].mobileOnly).reduce((a,l)=>({...a,[l]:We(s[l])}),{}),o=Gt(n(t.modelValue));Pn(()=>t.modelValue,s=>{o.value=n(s)},{deep:!0});function r(s){var l;const a=o.value[s];(l=a.excludes)==null||l.forEach(u=>{a.value&&o.value[u].type==="boolean"&&(o.value[u].value=!1)}),i()}function i(){e("update:modelValue",o.value)}return{model:o,close,onSwitch:r,onChange:i}}});const q2={class:"property-form"},Z2=["for"],K2=["onUpdate:modelValue","id","disabled"],X2=["value"],Y2={key:1,class:"property-form__switch"},J2=["onUpdate:modelValue","min","max","type","id","disabled"],Q2={key:3,class:"property-form__description"};function tv(t,e,n,o,r,i){const s=bt("property-switch");return Y(),dt("div",q2,[(Y(!0),dt(Zt,null,pe(t.model,(a,l)=>(Y(),dt("div",{key:l,class:"property-form__entry"},[yt("label",{for:`${t.id}_${l}`,class:Qt([{"property-form__label--disabled":a.disabled},"property-form__label"])},he(a.label),11,Z2),a.options?fo((Y(),dt("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${t.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:e[0]||(e[0]=(...u)=>t.onChange&&t.onChange(...u))},[(Y(!0),dt(Zt,null,pe(a.options,(u,h)=>(Y(),dt("option",{key:h,value:u},he(h),9,X2))),128))],40,K2)),[[Ds,a.value]]):a.type==="boolean"?(Y(),dt("div",Y2,[ut(s,{modelValue:a.value,"onUpdate:modelValue":[u=>a.value=u,u=>t.onSwitch(l)],modelModifiers:{boolean:!0},id:`${t.id}_${l}`,disabled:a.disabled},null,8,["modelValue","onUpdate:modelValue","id","disabled"])])):fo((Y(),dt("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${t.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:e[1]||(e[1]=(...u)=>t.onChange&&t.onChange(...u))},null,40,J2)),[[jl,a.value]]),a.description?(Y(),dt("small",Q2,he(a.description),1)):de("",!0)]))),128))])}const ev=Pt(G2,[["render",tv]]),nv=xt({components:{MobileButton:Pc,MobileCollapsiblePanel:j2,PropertyForm:ev},name:"MobilePreferences",setup(){const t=Kn(),{colors:e,grid:n,snapping:o,simulation:r,experience:i}=Ho(t),{updateSettings:s}=t;return{faFile:Kl,faCodeBranch:Zl,faGears:Df,faImage:Af,faMagnet:Tf,faMicrochip:As,faPalette:Mf,faTableCells:qf,faWandMagicSparkles:Kf,colors:e,grid:n,snapping:o,simulation:r,experience:i,updateSettings:s}}});function ov(t,e,n,o,r,i){const s=bt("mobile-button"),a=bt("property-form"),l=bt("mobile-collapsible-panel");return Y(),dt(Zt,null,[ut(s,{icon:t.faFile,label:"New Circuit"},null,8,["icon"]),ut(s,{icon:t.faCodeBranch,label:"Load Circuit"},null,8,["icon"]),ut(s,{icon:t.faMicrochip,label:"Import integrated circuit"},null,8,["icon"]),ut(s,{icon:t.faImage,label:"Export image"},null,8,["icon"]),ut(l,{title:"Colors",icon:t.faPalette},{default:Ft(()=>[ut(a,{modelValue:t.colors,"onUpdate:modelValue":e[0]||(e[0]=u=>t.colors=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ut(l,{title:"Grid",icon:t.faTableCells},{default:Ft(()=>[ut(a,{modelValue:t.grid,"onUpdate:modelValue":e[1]||(e[1]=u=>t.grid=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ut(l,{title:"Snapping",icon:t.faMagnet},{default:Ft(()=>[ut(a,{modelValue:t.snapping,"onUpdate:modelValue":e[2]||(e[2]=u=>t.snapping=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ut(l,{title:"Simulation",icon:t.faGears},{default:Ft(()=>[ut(a,{modelValue:t.simulation,"onUpdate:modelValue":e[3]||(e[3]=u=>t.simulation=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ut(l,{title:"Experience",icon:t.faWandMagicSparkles},{default:Ft(()=>[ut(a,{modelValue:t.experience,"onUpdate:modelValue":e[4]||(e[4]=u=>t.experience=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"])],64)}const rv=Pt(nv,[["render",ov]]),iv=xt({name:"OscilloscopeTimeline",props:{oscillogram:{type:Object,required:!0},items:{type:Object,required:!0},ports:{type:Object,required:!0}},computed:{totalWidth(){return Object.values(this.oscillogram).reduce((t,{width:e})=>Math.max(e,t),0)}},mounted(){const t=this.$refs.timeline,e=this.$refs.list;this.scrollToNextInterval(),e.addEventListener("scroll",this.onTimelineScroll),t.addEventListener("scroll",this.onTimelineScroll),console.log(Object.keys(this.items))},beforeUnmount(){const t=this.$refs.timeline;this.$refs.list.removeEventListener("scroll",this.onTimelineScroll),t.removeEventListener("scroll",this.onTimelineScroll)},methods:{onWheel(t){const e=this.$refs.timeline;e.scrollTop+=t.deltaY/10,t.preventDefault()},scrollToNextInterval(){const t=this.$refs.timeline;t.scrollLeft=t.scrollWidth},onTimelineScroll(){const t=this.$refs.list,e=this.$refs.timeline;e&&(t.scrollTop=e.scrollTop)}},watch:{oscillogram:{handler(){this.scrollToNextInterval()},deep:!0}}});const sv={class:"oscilloscope-timeline"},av={class:"oscilloscope-timeline__list",ref:"list"},lv=["width","viewBox"],cv=["points","stroke"];function uv(t,e,n,o,r,i){return Y(),dt("div",sv,[yt("div",av,[(Y(!0),dt(Zt,null,pe(t.oscillogram,(s,a)=>{var l;return Y(),dt("div",{key:a,style:ne({color:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`}),class:"oscilloscope-timeline__label"},he((l=t.ports[a])==null?void 0:l.name),5)}),128))],512),yt("div",{class:"oscilloscope-timeline__display",ref:"timeline",onWheel:e[0]||(e[0]=(...s)=>t.onWheel&&t.onWheel(...s))},[(Y(!0),dt(Zt,null,pe(t.oscillogram,(s,a)=>(Y(),dt("div",{style:ne({width:`${t.totalWidth}px`}),key:a,class:"oscilloscope-timeline__item"},[yt("div",{style:ne({width:`${s.width}px`}),class:"oscilloscope-timeline__svg"},[(Y(),dt("svg",{width:s.width,viewBox:`0 0 ${s.width} 1`,preserveAspectRatio:"none"},[yt("polyline",{points:s.points,stroke:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`,"stroke-width":"2",fill:"none","vector-effect":"non-scaling-stroke"},null,8,cv)],8,lv))],4)],4))),128))],544)])}const dv=Pt(iv,[["render",uv]]),fv=xt({name:"OscilloscopeTitleBar",components:{Icon:He},props:{clearable:{type:Boolean,default:!0},isRecording:{type:Boolean,default:!0}},setup(){return{faBan:Gl,faClose:wo,faPause:Bf,faPlay:Lf}}});const hv={class:"oscilloscope-title-bar"},pv=yt("div",{class:"oscilloscope-title-bar__title"},"Oscilloscope",-1),mv={class:"oscilloscope-title-bar__actions"},gv=["disabled"];function vv(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("div",hv,[pv,yt("div",mv,[yt("button",{class:"oscilloscope-title-bar__button",title:"Close",onClick:e[0]||(e[0]=a=>t.$emit("close"))},[ut(s,{icon:t.faClose},null,8,["icon"])]),yt("button",{class:"oscilloscope-title-bar__button",title:"Clear oscilloscope",disabled:!t.clearable,onClick:e[1]||(e[1]=a=>t.$emit("clear"))},[ut(s,{icon:t.faBan},null,8,["icon"])],8,gv),yt("button",{class:"oscilloscope-title-bar__button",title:"Close",onClick:e[2]||(e[2]=a=>t.$emit("toggle"))},[ut(s,{icon:t.isRecording?t.faPause:t.faPlay},null,8,["icon"])])])])}const yv=Pt(fv,[["render",vv]]),bv=xt({name:"OscilloscopeViewer",props:{collapseHeight:{type:Number,default:20},modelValue:{type:Number,required:!0}},setup(t,{emit:e}){const n=Gt(t.modelValue),o=Gt();let r=0,i=0,s=!1;function a(g){r=n.value,i=g.clientY,s=!0}function l(g){a(g.touches[0])}function u(g){var v;if(!s||!o.value)return;const d=(v=o.value.parentElement)==null?void 0:v.getBoundingClientRect();n.value+=Math.min(i-g.clientY,(d==null?void 0:d.height)||1/0),i=g.clientY,n.value<=t.collapseHeight?e("collapse",r):e("update:modelValue",n.value)}function h(g){u(g.touches[0])}function p(){s=!1}return Xe(()=>{window.addEventListener("mousemove",u),window.addEventListener("mouseup",p)}),_s(()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",p)}),{onMouseDown:a,onMouseUp:p,onTouchStart:l,onTouchMove:h,height:n,viewer:o}}});function _v(t,e,n,o,r,i){return Y(),dt("div",{ref:"viewer",class:"oscilloscope-viewer",style:ne({height:`${t.height}px`})},[yt("div",{class:"oscilloscope-viewer__touch-resizer",onTouchstart:e[1]||(e[1]=(...s)=>t.onTouchStart&&t.onTouchStart(...s)),onTouchmove:e[2]||(e[2]=(...s)=>t.onTouchMove&&t.onTouchMove(...s)),onTouchcancel:e[3]||(e[3]=(...s)=>t.onMouseUp&&t.onMouseUp(...s)),onTouchend:e[4]||(e[4]=(...s)=>t.onMouseUp&&t.onMouseUp(...s))},[yt("div",{class:"oscilloscope-viewer__mouse-resizer",onMousedown:e[0]||(e[0]=(...s)=>t.onMouseDown&&t.onMouseDown(...s))},null,32)],32),ue(t.$slots,"default")],4)}const wv=Pt(bv,[["render",_v]]),Cv=xt({name:"Oscilloscope",components:{OscilloscopeTimeline:dv,OscilloscopeTitleBar:yv,OscilloscopeViewer:wv},props:{store:{type:Function,required:!0}},setup(t){const e=t.store(),{oscilloscopeHeight:n,isOscilloscopeOpen:o,isOscilloscopeRecording:r,oscillogram:i,items:s,ports:a}=Ho(e),{closeOscilloscope:l,toggleOscillatorRecording:u}=e,h=Kt(()=>Object.keys(e.oscillogram).length>0);function p(){e.oscillator.clear()}return{hasWaves:h,oscillogram:i,items:s,ports:a,oscilloscopeHeight:n,isOscilloscopeOpen:o,isOscilloscopeRecording:r,clearOscilloscope:p,closeOscilloscope:l,toggleOscillatorRecording:u}}}),Sv={key:0};function Iv(t,e,n,o,r,i){const s=bt("oscilloscope-title-bar"),a=bt("oscilloscope-timeline"),l=bt("oscilloscope-viewer");return t.isOscilloscopeOpen?(Y(),Rt(l,{key:0,modelValue:t.oscilloscopeHeight,"onUpdate:modelValue":e[0]||(e[0]=u=>t.oscilloscopeHeight=u),"collapse-height":40,onCollapse:t.closeOscilloscope},{default:Ft(()=>[ut(s,{clearable:t.hasWaves,"is-recording":t.isOscilloscopeRecording,onClear:t.clearOscilloscope,onToggle:t.toggleOscillatorRecording},null,8,["clearable","is-recording","onClear","onToggle"]),t.hasWaves?(Y(),Rt(a,{key:1,oscillogram:t.oscillogram,items:t.items,ports:t.ports},null,8,["oscillogram","items","ports"])):(Y(),dt("div",Sv," no waves to observe "))]),_:1},8,["modelValue","onCollapse"])):de("",!0)}const xv=Pt(Cv,[["render",Iv]]),Ev=xt({name:"StatusBarButton",props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"2em"}}});const Ov=["disabled","title"];function Pv(t,e,n,o,r,i){return Y(),dt("button",{class:"status-bar-button",disabled:t.disabled,title:t.title,style:ne({width:t.width})},[ue(t.$slots,"default")],12,Ov)}const kv=Pt(Ev,[["render",Pv]]),$v=xt({name:"StatusBarViewer"});const Dv={class:"status-bar-viewer"},Av={class:"status-bar-viewer__left"},Tv={class:"status-bar-viewer__right"};function zv(t,e,n,o,r,i){return Y(),dt("div",Dv,[yt("div",Av,[ue(t.$slots,"left")]),yt("div",Tv,[ue(t.$slots,"right")])])}const Mv=Pt($v,[["render",zv]]),Bv=xt({name:"StatusBarZoom",components:{Icon:He},props:{zoom:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:200},step:{type:Number,default:10}},setup(t,{emit:e}){const n=Kt(()=>Math.round(t.zoom*100));function o(r){const i=r.target,s=parseFloat(i.value);e("zoom",s/100)}return{onInput:o,value:n}}});const Lv=["step","min","max","value"];function Nv(t,e,n,o,r,i){return Y(),dt("input",{type:"range",class:"status-bar-zoom",step:t.step,min:t.min,max:t.max,value:t.value,onInput:e[0]||(e[0]=(...s)=>t.onInput&&t.onInput(...s))},null,40,Lv)}const Rv=Pt(Bv,[["render",Nv]]),Fv=xt({name:"StatusBar",components:{Icon:He,StatusBarButton:kv,StatusBarViewer:Mv,StatusBarZoom:Rv},props:{store:{type:Function,required:!0},isFullscreen:{type:Boolean,default:!1}},setup(t){const e=t.store(),n=Kt(()=>e.isPrinting),o=Kt(()=>e.isCreatingImage),r=Kt(()=>Math.round(e.zoomLevel*100));return{store:e,isPrinting:n,isCreatingImage:o,zoomPercent:r,faMinus:zf,faPlus:Nf,faExpand:kf,faCompress:Pf}}}),jv={key:0},Vv={key:1},Uv={key:2};function Hv(t,e,n,o,r,i){const s=bt("icon"),a=bt("status-bar-button"),l=bt("status-bar-zoom"),u=bt("status-bar-viewer");return Y(),Rt(u,null,{left:Ft(()=>[t.isPrinting?(Y(),dt("span",jv,"Printing...")):t.isCreatingImage?(Y(),dt("span",Vv,"Rendering image...")):(Y(),dt("span",Uv,"Ready"))]),right:Ft(()=>[ut(a,{title:"Zoom out",disabled:t.store.zoomLevel<=.1,onClick:e[0]||(e[0]=h=>t.store.incrementZoom(-1))},{default:Ft(()=>[ut(s,{icon:t.faMinus},null,8,["icon"])]),_:1},8,["disabled"]),ut(l,{type:"range",class:"status-bar__range",min:0,step:10,max:200,zoom:t.store.zoomLevel,onZoom:e[1]||(e[1]=h=>t.store.setZoom({zoom:h}))},null,8,["zoom"]),ut(a,{title:"Zoom in",disabled:t.store.zoomLevel>=2,onClick:e[2]||(e[2]=h=>t.store.incrementZoom(1))},{default:Ft(()=>[ut(s,{icon:t.faPlus},null,8,["icon"])]),_:1},8,["disabled"]),ut(a,{width:"3em",onClick:e[3]||(e[3]=h=>t.store.setZoom({zoom:1}))},{default:Ft(()=>[Es(he(t.zoomPercent)+"% ",1)]),_:1}),ut(a,{title:"Toggle fullscreen",onClick:e[4]||(e[4]=h=>t.$emit("fullscreen"))},{default:Ft(()=>[ut(s,{icon:t.isFullscreen?t.faCompress:t.faExpand},null,8,["icon"])]),_:1})]),_:1})}const Wv=Pt(Fv,[["render",Hv]]);/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Gv={prefix:"far",iconName:"copy",icon:[512,512,[],"f0c5","M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"]},qv={prefix:"far",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H229.5C246.5 0 262.7 6.743 274.7 18.75L365.3 109.3C377.3 121.3 384 137.5 384 154.5V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM336 448V160H256C238.3 160 224 145.7 224 128V48H64C55.16 48 48 55.16 48 64V448C48 456.8 55.16 464 64 464H320C328.8 464 336 456.8 336 448z"]},Zv={prefix:"far",iconName:"floppy-disk",icon:[448,512,[128426,128190,"save"],"f0c7","M224 256c-35.2 0-64 28.8-64 64c0 35.2 28.8 64 64 64c35.2 0 64-28.8 64-64C288 284.8 259.2 256 224 256zM433.1 129.1l-83.9-83.9C341.1 37.06 328.8 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 151.2 442.9 138.9 433.1 129.1zM128 80h144V160H128V80zM400 416c0 8.836-7.164 16-16 16H64c-8.836 0-16-7.164-16-16V96c0-8.838 7.164-16 16-16h16v104c0 13.25 10.75 24 24 24h192C309.3 208 320 197.3 320 184V83.88l78.25 78.25C399.4 163.2 400 164.8 400 166.3V416z"]},Kv=Zv,Xv={prefix:"far",iconName:"folder-open",icon:[576,512,[128449,61717,128194],"f07c","M572.6 270.3l-96 192C471.2 473.2 460.1 480 447.1 480H64c-35.35 0-64-28.66-64-64V96c0-35.34 28.65-64 64-64h117.5c16.97 0 33.25 6.742 45.26 18.75L275.9 96H416c35.35 0 64 28.66 64 64v32h-48V160c0-8.824-7.178-16-16-16H256L192.8 84.69C189.8 81.66 185.8 80 181.5 80H64C55.18 80 48 87.18 48 96v288l71.16-142.3C124.6 230.8 135.7 224 147.8 224h396.2C567.7 224 583.2 249 572.6 270.3z"]},Yv={prefix:"far",iconName:"object-group",icon:[576,512,[],"f247","M128 160C128 142.3 142.3 128 160 128H288C305.7 128 320 142.3 320 160V256C320 273.7 305.7 288 288 288H160C142.3 288 128 273.7 128 256V160zM288 320C323.3 320 352 291.3 352 256V224H416C433.7 224 448 238.3 448 256V352C448 369.7 433.7 384 416 384H288C270.3 384 256 369.7 256 352V320H288zM48 115.8C38.18 106.1 32 94.22 32 80C32 53.49 53.49 32 80 32C94.22 32 106.1 38.18 115.8 48H460.2C469 38.18 481.8 32 496 32C522.5 32 544 53.49 544 80C544 94.22 537.8 106.1 528 115.8V396.2C537.8 405 544 417.8 544 432C544 458.5 522.5 480 496 480C481.8 480 469 473.8 460.2 464H115.8C106.1 473.8 94.22 480 80 480C53.49 480 32 458.5 32 432C32 417.8 38.18 405 48 396.2V115.8zM96 125.3V386.7C109.6 391.6 120.4 402.4 125.3 416H450.7C455.6 402.4 466.4 391.6 480 386.7V125.3C466.4 120.4 455.6 109.6 450.7 96H125.3C120.4 109.6 109.6 120.4 96 125.3z"]},Jv={prefix:"far",iconName:"object-ungroup",icon:[640,512,[],"f248","M64 0C90.86 0 113.9 16.55 123.3 40H324.7C334.1 16.55 357.1 0 384 0C419.3 0 448 28.65 448 64C448 90.86 431.5 113.9 408 123.3V228.7C431.5 238.1 448 261.1 448 288C448 323.3 419.3 352 384 352C357.1 352 334.1 335.5 324.7 312H123.3C113.9 335.5 90.86 352 64 352C28.65 352 0 323.3 0 288C0 261.1 16.55 238.1 40 228.7V123.3C16.55 113.9 0 90.86 0 64C0 28.65 28.65 0 64 0V0zM64 80C72.84 80 80 72.84 80 64C80 56.1 74.28 49.54 66.75 48.24C65.86 48.08 64.94 48 64 48C55.16 48 48 55.16 48 64C48 64.07 48 64.14 48 64.21C48.01 65.07 48.09 65.92 48.24 66.75C49.54 74.28 56.1 80 64 80zM384 48C383.1 48 382.1 48.08 381.2 48.24C373.7 49.54 368 56.1 368 64C368 72.84 375.2 80 384 80C391.9 80 398.5 74.28 399.8 66.75C399.9 65.86 400 64.94 400 64C400 55.16 392.8 48 384 48V48zM324.7 88H123.3C116.9 104 104 116.9 88 123.3V228.7C104 235.1 116.9 247.1 123.3 264H324.7C331.1 247.1 343.1 235.1 360 228.7V123.3C343.1 116.9 331.1 104 324.7 88zM400 288C400 287.1 399.9 286.1 399.8 285.2C398.5 277.7 391.9 272 384 272C375.2 272 368 279.2 368 288C368 295.9 373.7 302.5 381.2 303.8C382.1 303.9 383.1 304 384 304C392.8 304 400 296.8 400 288zM64 272C56.1 272 49.54 277.7 48.24 285.2C48.08 286.1 48 287.1 48 288C48 296.8 55.16 304 64 304L64.22 303.1C65.08 303.1 65.93 303.9 66.75 303.8C74.28 302.5 80 295.9 80 288C80 279.2 72.84 272 64 272zM471.3 248C465.8 235.9 457.8 225.2 448 216.4V200H516.7C526.1 176.5 549.1 160 576 160C611.3 160 640 188.7 640 224C640 250.9 623.5 273.9 600 283.3V388.7C623.5 398.1 640 421.1 640 448C640 483.3 611.3 512 576 512C549.1 512 526.1 495.5 516.7 472H315.3C305.9 495.5 282.9 512 256 512C220.7 512 192 483.3 192 448C192 421.1 208.5 398.1 232 388.7V352H280V388.7C296 395.1 308.9 407.1 315.3 424H516.7C523.1 407.1 535.1 395.1 552 388.7V283.3C535.1 276.9 523.1 264 516.7 248H471.3zM592 224C592 215.2 584.8 208 576 208C575.1 208 574.1 208.1 573.2 208.2C565.7 209.5 560 216.1 560 224C560 232.8 567.2 240 576 240C583.9 240 590.5 234.3 591.8 226.8C591.9 225.9 592 224.9 592 224zM240 448C240 456.8 247.2 464 256 464C256.9 464 257.9 463.9 258.8 463.8C266.3 462.5 272 455.9 272 448C272 439.2 264.8 432 256 432C248.1 432 241.5 437.7 240.2 445.2C240.1 446.1 240 447.1 240 448zM573.2 463.8C574.1 463.9 575.1 464 576 464C584.8 464 592 456.8 592 448C592 447.1 591.9 446.2 591.8 445.3L591.8 445.2C590.5 437.7 583.9 432 576 432C567.2 432 560 439.2 560 448C560 455.9 565.7 462.5 573.2 463.8V463.8z"]},Qv={prefix:"far",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M502.6 198.6l-61.25-61.25C435.4 131.4 427.3 128 418.8 128H256C220.7 128 191.1 156.7 192 192l.0065 255.1C192 483.3 220.7 512 256 512h192c35.2 0 64-28.8 64-64l.0098-226.7C512 212.8 508.6 204.6 502.6 198.6zM464 448c0 8.836-7.164 16-16 16h-192c-8.838 0-16-7.164-16-16L240 192.1c0-8.836 7.164-16 16-16h128L384 224c0 17.67 14.33 32 32 32h48.01V448zM317.7 96C310.6 68.45 285.8 48 256 48H215.2C211.3 20.93 188.1 0 160 0C131.9 0 108.7 20.93 104.8 48H64c-35.35 0-64 28.65-64 64V384c0 35.34 28.65 64 64 64h96v-48H64c-8.836 0-16-7.164-16-16V112C48 103.2 55.18 96 64 96h16v16c0 17.67 14.33 32 32 32h61.35C190 115.4 220.6 96 256 96H317.7zM160 72c-8.822 0-16-7.176-16-16s7.178-16 16-16s16 7.176 16 16S168.8 72 160 72z"]},t4={prefix:"far",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M200 344V280H136C122.7 280 112 269.3 112 256C112 242.7 122.7 232 136 232H200V168C200 154.7 210.7 144 224 144C237.3 144 248 154.7 248 168V232H312C325.3 232 336 242.7 336 256C336 269.3 325.3 280 312 280H248V344C248 357.3 237.3 368 224 368C210.7 368 200 357.3 200 344zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]},e4=t4;const n4=xt({name:"ToolbarButton",components:{Icon:He},data(){return{faUser:Zf}},emits:{click:t=>!0},props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isToolbox:{type:Boolean,default:!1},icon:{type:Object,default:null},text:{type:String,default:""}},setup(t,{emit:e}){function n(o){o.stopPropagation(),o.preventDefault(),t.disabled||e("click",o)}return{onClick:n}}});const o4={class:"toolbar-button__text"};function r4(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("button",{tabindex:0,class:Qt([{"toolbar-button--active":t.active&&!t.isToolbox,"toolbar-button--toolbox":t.active&&t.isToolbox,"toolbar-button--disabled":t.disabled},"toolbar-button"]),role:"button",onClick:e[0]||(e[0]=(...a)=>t.onClick&&t.onClick(...a))},[t.icon?(Y(),Rt(s,{key:0,icon:t.icon,class:"toolbar-button__icon"},null,8,["icon"])):(Y(),Rt(s,{key:1,icon:t.faUser,class:"toolbar-button__icon"},null,8,["icon"])),yt("div",o4,he(t.text),1)],2)}const i4=Pt(n4,[["render",r4]]),s4=xt({name:"ToolbarSeparator"});const a4={class:"toolbar-separator"};function l4(t,e,n,o,r,i){return Y(),dt("div",a4)}const c4=Pt(s4,[["render",l4]]),u4=xt({name:"ScrollFade",components:{Resizable:Rs},props:{hideScrollbar:{type:Boolean,default:!1}},setup(){const t="transparent, black var(--mask-width)",e="black calc(100% - var(--mask-width)), transparent",n=Gt(),o=Gt("");function r(s){const{scrollWidth:a,scrollLeft:l,clientWidth:u}=s;if(a>u){const h=[];return l>0&&h.push(t),l+u<a&&h.push(e),o.value=h.join(", "),h.join(", ")}return"transparent transparent"}function i(){n.value&&(o.value=r(n.value.$el))}return{onChange:i,gradientStyle:o,scroll:n}}});function d4(t,e,n,o,r,i){const s=bt("resizable");return Y(),Rt(s,{ref:"scroll",class:Qt(["scroll-fade",{"scrollbar-fade--show-scrollbar":!t.hideScrollbar}]),style:ne(`--mask-image-content: linear-gradient(to right, ${t.gradientStyle})`),onScroll:t.onChange,onResize:t.onChange},{default:Ft(()=>[ue(t.$slots,"default")]),_:3},8,["class","style","onScroll","onResize"])}const Fs=Pt(u4,[["render",d4]]),f4=xt({name:"Toolbar",components:{ToolbarButton:i4,ToolbarSeparator:c4,ScrollFade:Fs},data(){return{faScrewdriverWrench:Wf,faFolderOpen:Xv,faFile:qv,faSave:Kv,faScissors:Hf,faCopy:Gv,faPaste:Qv,faObjectGroup:Yv,faObjectUngroup:Jv,faRotateBackward:jf,faRotateForward:Uf,faReply:Rf,faShare:Gf,faMicrochip:As,faBan:Gl,faArrowsRotate:xf,faBug:Of,faForwardStep:$f,faWaveSquare:Xf}},props:{store:{type:Function,required:!0}},setup(t){const e=Xn(),n=t.store();return{rootStore:e,documentStore:n}}});const h4={class:"toolbar"},p4={class:"toolbar__fixed"},m4={class:"toolbar__left"},g4={class:"toolbar__right"};function v4(t,e,n,o,r,i){const s=bt("toolbar-button"),a=bt("toolbar-separator"),l=bt("scroll-fade");return Y(),dt("div",h4,[yt("div",p4,[ut(s,{icon:t.faScrewdriverWrench,text:"Toolbox","is-toolbox":"",onClick:t.rootStore.toggleToolbox,active:t.rootStore.isToolboxOpen},null,8,["icon","onClick","active"]),ut(a)]),ut(l,{class:"toolbar__scrollable"},{default:Ft(()=>[yt("div",m4,[ut(s,{icon:t.faFolderOpen,text:"Open"},null,8,["icon"]),ut(s,{icon:t.faFile,text:"New"},null,8,["icon"]),ut(s,{icon:t.faSave,text:"Save"},null,8,["icon"]),ut(a),ut(s,{onClick:t.documentStore.undo,disabled:!t.documentStore.canUndo,icon:t.faReply,text:"Undo"},null,8,["onClick","disabled","icon"]),ut(s,{onClick:t.documentStore.redo,disabled:!t.documentStore.canRedo,icon:t.faShare,text:"Redo"},null,8,["onClick","disabled","icon"]),ut(a),ut(s,{onClick:e[0]||(e[0]=u=>t.documentStore.rotate(1)),disabled:!t.documentStore.hasSelectedItems,icon:t.faRotateForward,text:"Rotate"},null,8,["disabled","icon"]),ut(a),ut(s,{onClick:t.documentStore.group,disabled:!t.documentStore.canGroup,icon:t.faObjectGroup,text:"Group"},null,8,["onClick","disabled","icon"]),ut(s,{onClick:t.documentStore.ungroup,disabled:!t.documentStore.canUngroup,icon:t.faObjectUngroup,text:"Ungroup"},null,8,["onClick","disabled","icon"]),ut(a),ut(s,{onClick:e[1]||(e[1]=u=>t.rootStore.invokeClipboardAction("cut")),icon:t.faScissors,disabled:!t.documentStore.hasSelectedItems,text:"Cut"},null,8,["icon","disabled"]),ut(s,{onClick:e[2]||(e[2]=u=>t.rootStore.invokeClipboardAction("copy")),icon:t.faCopy,disabled:!t.documentStore.hasSelectedItems,text:"Copy"},null,8,["icon","disabled"]),ut(s,{onClick:e[3]||(e[3]=u=>t.rootStore.invokeClipboardAction("paste")),disabled:!t.rootStore.canPaste,icon:t.faPaste,text:"Paste"},null,8,["disabled","icon"]),ut(s,{onClick:t.documentStore.deleteSelection,disabled:!t.documentStore.canDelete,icon:t.faBan,text:"Delete"},null,8,["onClick","disabled","icon"]),ut(a),ut(s,{onClick:t.rootStore.launchIntegratedCircuitBuilder,icon:t.faMicrochip,text:"Export"},null,8,["onClick","icon"])]),yt("div",g4,[ut(s,{icon:t.faBug,active:t.documentStore.isDebugging,onClick:t.documentStore.toggleDebugger,text:"Debug"},null,8,["icon","active","onClick"]),ut(a),ut(s,{icon:t.faArrowsRotate,onClick:t.documentStore.resetCircuit,text:"Reset"},null,8,["icon","onClick"]),ut(s,{icon:t.faForwardStep,disabled:!t.documentStore.isDebugging||t.documentStore.isCircuitEvaluated,onClick:t.documentStore.advanceSimulation,text:"Next"},null,8,["icon","disabled","onClick"]),ut(a),ut(s,{icon:t.faWaveSquare,disabled:t.documentStore.isDebugging,active:!t.documentStore.isDebugging&&t.documentStore.isOscilloscopeOpen,onClick:t.documentStore.toggleOscilloscope,text:"Analyze"},null,8,["icon","disabled","active","onClick"])])]),_:1})])}const y4=Pt(f4,[["render",v4]]),b4=xt({name:"ToolboxItem",components:{CircuitComponent:pc,Draggable:fi,Resizable:Rs},emits:{drop:(t,e)=>!0},props:{factory:{type:Function,required:!0},zoom:{type:Number,default:1}},setup(t,{emit:e}){const n=Gt(),o=Gt(!1),r=Gt(1),{item:i,ports:s}=t.factory(),a={selectable:new DOMRect,preview:new DOMRect};let l=null;function u(d,v){a[v]=d;const f=a.selectable,b=a.preview,y=Math.max(f.width/b.width,f.height/b.height);r.value=Math.min(1/y,1)}function h(){var v;const d=a.selectable;l=(v=n.value)==null?void 0:v.$el.cloneNode(!0),l.style.position="absolute",l.style.zoom=`${t.zoom}`,l.style.width=`${d.width}px`,l.style.height=`${d.height}px`,o.value=!0,navigator.vibrate(20)}function p({x:d,y:v}){if(!l)return h();document.body.contains(l)||document.body.appendChild(l);const{width:f,height:b}=l.getBoundingClientRect();l.style.left=`${(d-f/2*t.zoom)/t.zoom}px`,l.style.top=`${(v-b/2*t.zoom)/t.zoom}px`}function g(d){l&&(l.remove(),l=null,o.value=!1,e("drop",t.factory,d))}return{onDragStart:h,onDrag:p,onDragEnd:g,onSizeChanged:u,item:i,ports:s,zoom:r,selectable:n,isDragging:o}}});const _4={class:"toolbox-item__parent"},w4={class:"toolbox-item__label"};function C4(t,e,n,o,r,i){const s=bt("circuit-component"),a=bt("resizable"),l=bt("draggable");return Y(),Rt(l,{class:"toolbox-item",tabindex:0,onDragStart:t.onDragStart,onDrag:t.onDrag,onDragEnd:t.onDragEnd,onClick:e[2]||(e[2]=u=>t.$emit("drop",t.factory))},{default:Ft(()=>[yt("div",_4,[ut(a,{class:"toolbox-item__preview",ref:"preview",onResize:e[1]||(e[1]=u=>t.onSizeChanged(u,"preview"))},{default:Ft(()=>[ut(a,{class:"toolbox-item__inner",ref:"selectable",style:ne({zoom:t.zoom}),onResize:e[0]||(e[0]=u=>t.onSizeChanged(u,"selectable"))},{default:Ft(()=>[ut(s,{type:t.item.type,subtype:t.item.subtype,ports:t.ports,properties:t.item.properties},null,8,["type","subtype","ports","properties"])]),_:1},8,["style"])]),_:1},512)]),yt("div",w4,he(t.item.name||t.item.subtype),1)]),_:1},8,["onDragStart","onDrag","onDragEnd"])}const S4=Pt(b4,[["render",C4]]),I4=xt({name:"Toolbox",components:{ScrollFade:Fs},props:{isOpen:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=Gt(null),o=Gt(null),r=Kt(()=>Object.keys(e)),i=Kt(()=>{var a;return t.isOpen?(a=o.value)==null?void 0:a.scrollHeight:0});function s(a){n.value=a}return s(r.value[0]),{categories:r,selected:n,select:s,height:i,toolbox:o}}});const x4=["onClick"];function E4(t,e,n,o,r,i){const s=bt("scroll-fade");return Y(),dt("div",{ref:"toolbox",class:Qt(["toolbox-layout",{"toolbox-layout--open":t.isOpen}]),style:ne({height:`${t.height}px`})},[ut(s,{class:"toolbox-layout__categories","hide-scrollbar":!0},{default:Ft(()=>[(Y(!0),dt(Zt,null,pe(t.categories,a=>(Y(),dt("div",{class:Qt(["toolbox-layout__badge",{"toolbox-layout__badge--active":a===t.selected}]),key:a,onClick:l=>t.select(a)},he(a),11,x4))),128))]),_:1}),ut(s,{class:"toolbox-layout__items"},{default:Ft(()=>[ue(t.$slots,t.selected)]),_:3})],6)}const O4=Pt(I4,[["render",E4]]);function qr(t,e,n,o,r){return{id:e,orientation:n,name:r,position:{x:0,y:0},type:o,rotation:0,elementId:t,value:0,hue:0,isMonitored:!1,connectedPortIds:[]}}const $c=(t,e,n,o={})=>{const r=me(),i={[Ut.Left]:[],[Ut.Top]:[],[Ut.Bottom]:[],[Ut.Right]:[qr(r,me(),Ut.Right,Ee.Output,"Output Port")]},s=di(r,Oe.InputNode,t,e,n,i);return s.properties={...s.properties,...o,startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},{item:s,ports:i}},P4=()=>$c(re.Clock,60,60,{interval:{label:"Interval",value:1e3,type:"number",min:100,step:100}});function k4(){const t=me(),e={[Ut.Left]:[qr(t,me(),Ut.Left,Ee.Input,"Input Port")],[Ut.Top]:[],[Ut.Bottom]:[],[Ut.Right]:[]};return{item:di(t,Oe.OutputNode,re.Lightbulb,40,40,e),ports:e}}function so(t,e,n,o=2){const r=me(),i={[Ut.Top]:[],[Ut.Left]:Array(o).fill("").map((a,l)=>qr(r,me(),0,1,`Input Port ${l}`)),[Ut.Bottom]:[],[Ut.Right]:[qr(r,me(),2,0,"Output Port")]},s=di(r,Oe.LogicGate,t,e,n,i);return s.properties={...s.properties,inputCount:{label:"Input count",value:o,type:"number",min:o},showInOscilloscope:{label:"Show in oscilloscope",value:!1,type:"boolean"}},{item:s,ports:i}}const $4={[Oe.InputNode]:{[re.Switch]:$c.bind(void 0,re.Switch,60,60),[re.Clock]:P4},[Oe.OutputNode]:{[re.Lightbulb]:k4},[Oe.LogicGate]:{[re.And]:so.bind(void 0,re.And,140,50),[re.Nand]:so.bind(void 0,re.Nand,140,50),[re.Xnor]:so.bind(void 0,re.Xnor,140,50),[re.Nor]:so.bind(void 0,re.Nor,140,50),[re.Or]:so.bind(void 0,re.Or,140,50),[re.Not]:so.bind(void 0,re.Not,140,50,1)}},D4=xt({name:"Toolbox",components:{ScrollFade:Fs,ToolboxItem:S4,ToolboxLayout:O4},props:{store:{type:Function,required:!0},isOpen:{type:Boolean,default:!1}},setup(t){const e=t.store(),n=Bs(),o=Kt(()=>e.zoom),r=Kt(()=>n.factories);function i(s,a){e.insertItemAtPosition(s(),a)}return{factories:{...$4,[Oe.IntegratedCircuit]:r.value},zoom:o,onDrop:i}}});function A4(t,e,n,o,r,i){const s=bt("toolbox-item"),a=bt("toolbox-layout");return Y(),Rt(a,{"is-open":t.isOpen},Cs({_:2},[pe(t.factories,(l,u)=>({name:u,fn:Ft(()=>[(Y(!0),dt(Zt,null,pe(l,(h,p)=>(Y(),Rt(s,{factory:h,key:p,label:p,zoom:t.zoom,onDrop:t.onDrop},null,8,["factory","label","zoom","onDrop"]))),128))])}))]),1032,["is-open"])}const T4=Pt(D4,[["render",A4]]),z4=xt({name:"MainView",props:{isBlurred:{type:Boolean,default:!1}}});const M4={class:"main-view__top"},B4={class:"main-view__middle"},L4={class:"main-view__bottom"};function N4(t,e,n,o,r,i){return Y(),dt("div",{class:Qt(["main-view",{"main-view--blurred":t.isBlurred}])},[yt("div",M4,[ue(t.$slots,"top")]),yt("div",B4,[ue(t.$slots,"middle")]),yt("div",L4,[ue(t.$slots,"bottom")])],2)}const R4=Pt(z4,[["render",N4]]),F4=xt({components:{Icon:He},name:"MobileFileName",emits:{close:()=>!0},props:{label:{type:String,required:!0},icon:{type:Object,required:!0},closable:{type:Boolean,default:!0}},setup(){return{faClose:wo}}});const j4={class:"mobile-popout-menu-item"},V4={class:"mobile-popout-menu-item__label"};function U4(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("div",j4,[ut(s,{icon:t.icon,class:"mobile-popout-menu-item__icon"},null,8,["icon"]),yt("div",V4,he(t.label),1),t.closable?(Y(),Rt(s,{key:0,icon:t.faClose,class:"mobile-popout-menu-item__icon",onClick:e[0]||(e[0]=a=>t.$emit("close"))},null,8,["icon"])):de("",!0)])}const Dc=Pt(F4,[["render",U4]]),H4=xt({components:{MobilePopoutMenuItem:Dc},name:"MobileDocumentTabItem",emits:{activate:()=>!0,close:()=>!0},props:{label:{type:String,required:!0},dirty:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},setup(){return{faMicrochip:As}}});function W4(t,e,n,o,r,i){const s=bt("mobile-popout-menu-item");return Y(),Rt(s,{label:`${t.label}${t.dirty?"*":""}`,icon:t.faMicrochip,active:t.active,onClick:e[0]||(e[0]=a=>t.$emit("activate")),onClose:e[1]||(e[1]=a=>t.$emit("close"))},null,8,["label","icon","active"])}const G4=Pt(H4,[["render",W4]]),q4=xt({components:{Icon:He},name:"MobileHeader",emits:{select:()=>!0,open:()=>!0},props:{documentName:{type:String,required:!0},documentCount:{type:Number,default:1}},setup(){return{faBars:Ef,faPlusSquare:e4}}});const Z4={class:"mobile-header"},K4={class:"mobile-header__heading"};function X4(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("div",Z4,[yt("div",{class:"mobile-header__button",onClick:e[0]||(e[0]=a=>t.$emit("open"))},[ut(s,{icon:t.faBars},null,8,["icon"])]),yt("div",K4,[yt("span",{class:"mobile-header__document-name",onClick:e[1]||(e[1]=a=>t.$emit("select"))},he(t.documentName),1),t.documentCount>1?(Y(),dt("span",{key:0,class:"mobile-header__badge",onClick:e[2]||(e[2]=a=>t.$emit("select"))},he(t.documentCount),1)):de("",!0)])])}const Y4=Pt(q4,[["render",X4]]),J4=xt({name:"MobilePopoutMenu",props:{modelValue:{type:Boolean,required:!0}}});const Q4={key:0,class:"mobile-popout-menu"},ty={class:"mobile-popout-menu__content"};function ey(t,e,n,o,r,i){return Y(),Rt(Ko,{name:"mobile-popout-menu"},{default:Ft(()=>[t.modelValue?(Y(),dt("div",Q4,[yt("div",{class:"mobile-popout-menu__overlay",onClick:e[0]||(e[0]=An(s=>t.$emit("update:modelValue",!1),["self"]))},[yt("div",ty,[ue(t.$slots,"default")])])])):de("",!0)]),_:3})}const ny=Pt(J4,[["render",ey]]),oy=xt({name:"MobilePullout",props:{modelValue:{type:Boolean,required:!0}}});const ry={key:0,class:"mobile-pullout"},iy={class:"mobile-pullout__content"};function sy(t,e,n,o,r,i){return Y(),Rt(Ko,{name:"mobile-pullout"},{default:Ft(()=>[t.modelValue?(Y(),dt("div",ry,[yt("div",{class:"mobile-pullout__overlay",onClick:e[0]||(e[0]=s=>t.$emit("update:modelValue",!1))}),yt("div",iy,[ue(t.$slots,"default")])])):de("",!0)]),_:3})}const ay=Pt(oy,[["render",sy]]),ly=xt({name:"MobilePulloutHeading",components:{Icon:He},props:{version:{type:String,default:"1.0.0"}},emits:{close:()=>!0},setup(){return{faClose:wo}}}),cy="/web/assets/logo-a680abc5.svg";const uy={class:"mobile-pullout-heading"},dy=yt("img",{src:cy,class:"mobile-pullout-heading__logo"},null,-1),fy={class:"mobile-pullout-heading__brand"},hy=yt("div",{class:"mobile-pullout-heading__title"}," Aristotle ",-1),py={class:"mobile-pullout-heading__subtitle"};function my(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("div",uy,[dy,yt("div",fy,[hy,yt("div",py," v"+he(t.version),1)]),ut(s,{icon:t.faClose,class:"mobile-pullout-heading__close",onClick:e[0]||(e[0]=a=>t.$emit("close"))},null,8,["icon"])])}const gy=Pt(ly,[["render",my]]),vy=xt({name:"TabItem",components:{Icon:He},props:{active:{type:Boolean,default:!1},label:{type:String,required:!0},dirty:{type:Boolean,default:!1}},setup(){return{faClose:wo,faCodeBranch:Zl}}});const yy={class:"tab-item__icon"},by={class:"tab-item__label"};function _y(t,e,n,o,r,i){const s=bt("icon");return Y(),dt("div",{class:Qt([{"tab-item--active":t.active,"tab-item--dirty":t.dirty},"tab-item"]),onMousedown:e[1]||(e[1]=a=>t.$emit("activate")),onTouchstart:e[2]||(e[2]=a=>t.$emit("activate"))},[yt("div",yy,[ut(s,{icon:t.faCodeBranch},null,8,["icon"])]),yt("div",by,he(t.label)+he(t.dirty?"*":""),1),yt("div",{class:"tab-item__icon tab-item__icon--close",onClick:e[0]||(e[0]=An(a=>t.$emit("close"),["stop"]))},[ut(s,{icon:t.faClose},null,8,["icon"])])],34)}const wy=Pt(vy,[["render",_y]]),Cy=xt({name:"TabHost"});const Sy={class:"tab-host"},Iy={class:"tab-host__list"};function xy(t,e,n,o,r,i){return Y(),dt("div",Sy,[yt("div",Iy,[ue(t.$slots,"tabs")]),ue(t.$slots,"default")])}const Ey=Pt(Cy,[["render",xy]]),Oy=xt({name:"Theme",props:{dark:{type:Boolean,default:!1}}});function Py(t,e,n,o,r,i){return Y(),dt("div",{class:Qt(["theme",{"theme--dark":t.dark}])},[ue(t.$slots,"default")],2)}const ky=Pt(Oy,[["render",Py]]);function $y(){var i;const t=Xn(),e=t.activeDocumentId!==null,n=Object.keys(t.documents),o=(i=t.activeDocument)==null?void 0:i.store(),r=[{label:"&New Circuit",accelerator:"CommandOrControl+N",click:t.newDocument},{type:"separator"},{label:"&Open Circuit",accelerator:"CommandOrControl+O",click:t.selectDocument},{label:"Open &Integrated Circuit",accelerator:"CommandOrControl+Shift+O",click:t.selectDocument},{type:"separator"},{label:"Save",enabled:e,accelerator:"CommandOrControl+S",click:()=>t.saveActiveDocument()},{label:"Save As...",enabled:e,accelerator:"CommandOrControl+Shift+S",click:()=>t.saveActiveDocument(!0)},{label:"Save All",enabled:e,accelerator:"CommandOrControl+Shift+A",click:()=>console.log("root store save all")},{type:"separator"},{label:"Print",enabled:e,accelerator:"CommandOrControl+P",click:()=>o==null?void 0:o.print()},{type:"separator"},{label:"Export...",enabled:e,submenu:[{label:"Integrated Circuit",accelerator:"CommandOrControl+Shift+E",click:()=>console.log("export IC")},{label:"PNG Image",accelerator:"CommandOrControl+Shift+I",click:()=>o==null?void 0:o.createImage()}]},{type:"separator"},{label:"Preferences",submenu:[{label:"Global Preferences",accelerator:"CommandOrControl+,",click:()=>console.log("global prefs")},{label:"Document Preferences",accelerator:"CommandOrControl+Shift+,",click:()=>console.log("doc prefs")}]}];if(Object.keys(t.documents).length>1){const s=[{label:"Previous File",accelerator:"Ctrl+Shift+Tab",click:()=>t.switchDocument(-1)},{label:"Next File",accelerator:"Ctrl+Tab",click:()=>t.switchDocument(1)},{type:"separator"}];for(let a=0;a<n.length;a++)s.push({type:"checkbox",label:t.documents[n[a]].displayName,checked:t.activeDocumentId===n[a],click:()=>t.activateDocument(n[a])});r.push({type:"separator"}),r.push({label:"Switch to...",submenu:s})}return r.push({type:"separator"}),r.push({label:"Close Document",accelerator:"CmdOrCtrl+W",enabled:e,click:()=>t.closeDocument(t.activeDocumentId)}),r.push({type:"separator"}),r.push({label:"Exit",accelerator:"CmdOrCtrl+Q",click:()=>window.close()}),r}function Dy(t){const e=t(),n=[];let o=!1;for(let i=1;i<=8;i++){const s=i*25/100,a=e.zoomLevel===s;o=o||a,n.push({type:"checkbox",checked:a,label:`${s*100}%`,accelerator:s===1?"CommandOrControl+0":void 0,click:()=>e.setZoom({zoom:s})})}return o||n.unshift({type:"checkbox",checked:!0,label:"Custom"}),[{label:"&Zoom In",accelerator:"CommandOrControl+=",enabled:e.zoomLevel<2,click:()=>e.incrementZoom(1)},{label:"&Zoom Out",accelerator:"CommandOrControl+-",enabled:e.zoomLevel>.1,click:()=>e.incrementZoom(-1)},{label:"&Zoom...",submenu:n},{type:"separator"},{label:"&Pan to Center",accelerator:"CommandOrControl+;",click:e.panToCenter},{type:"separator"}].concat(xc(t))}function Ay(){const t=Xn();if(t.isDialogOpen)return[{label:"File",submenu:[{label:"Exit"}]}];const e=[{label:"File",submenu:$y()}];return t.activeDocument&&(e.push({label:"Edit",submenu:Ic(t.activeDocument.store)}),e.push({label:"View",submenu:Dy(t.activeDocument.store).concat([{type:"separator"},{type:"checkbox",click:t.toggleFullscreen,checked:t.isFullscreen,accelerator:"F11",label:"Fullscreen"}])})),e.push({label:"Help",role:"help",submenu:[]}),e}const Ty=xt({name:"App",components:{BuilderView:Gh,Document:A2,Oscilloscope:xv,MainView:R4,MobileDocumentTabItem:G4,MobileHeader:Y4,MobilePopoutMenu:ny,MobilePopoutMenuItem:Dc,MobilePreferences:rv,MobilePullout:ay,MobilePulloutHeading:gy,StatusBar:Wv,TabItem:wy,TabHost:Ey,Theme:ky,Toolbar:y4,Toolbox:T4},setup(){const t=Xn(),{experience:e}=Ho(Kn()),{activeDocument:n,activeDocumentId:o,documents:r,hasOpenDocuments:i,isFullscreen:s,isDialogOpen:a,isBuilderOpen:l,isToolboxOpen:u,isSettingsOpen:h,isDocumentSelectOpen:p}=Ho(t),g=Gt(!1);i.value||t.openTestDocuments(),Rr(()=>window.api.setApplicationMenu(Ay())),Rr(()=>{document.title=t.activeDocument?`${t.activeDocument.displayName} - Aristotle`:"Aristotle"}),window.api.onBeforeClose(t.closeAll),window.api.onOpenFile(t.openDocumentFromPath),Xe(()=>{document.addEventListener("keydown",I),document.addEventListener("dragover",f),document.addEventListener("dragleave",y),document.addEventListener("drop",b),document.addEventListener("cut",v("cut")),document.addEventListener("copy",v("copy")),document.addEventListener("paste",v("paste")),window.addEventListener("focus",t.checkPastability)}),qn(()=>{document.removeEventListener("keydown",I),document.removeEventListener("dragover",f),document.removeEventListener("dragleave",y),document.removeEventListener("drop",b),document.removeEventListener("cut",v("cut")),document.removeEventListener("copy",v("copy")),document.removeEventListener("paste",v("paste")),window.removeEventListener("focus",t.checkPastability)});let d=0;function v(k){return function(L){if(!(L.target instanceof HTMLInputElement)){if(d)return;d=requestAnimationFrame(()=>{d=0,t.invokeClipboardAction(k),cancelAnimationFrame(d)})}t.checkPastability()}}function f(k){k.stopPropagation(),k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect="copy"),g.value=!0}async function b(k){var U;k.stopPropagation(),k.preventDefault();const L=(U=k.dataTransfer)==null?void 0:U.files;if(L)for(let M=0;M<L.length;M++)await t.openDocumentFromPath(L[M].path);g.value=!1}function y(){g.value=!1}function I(k){k.ctrlKey&&k.key.toUpperCase()==="R"&&window.location.reload()}function E(){}return{faFile:Kl,activeDocument:n,activeDocumentId:o,documents:r,experience:e,hasOpenDocuments:i,isDropping:g,isFullscreen:s,isDialogOpen:a,isBuilderOpen:l,isToolboxOpen:u,isSettingsOpen:h,isDocumentSelectOpen:p,onContextMenu:E,toggleFullscreen:t.toggleFullscreen,activateDocument:t.activateDocument,closeDocument:t.closeDocument,switchDocument:t.switchDocument,openIntegratedCircuit:t.openIntegratedCircuit}},data(){return{horizontal:!1,lastPosition:0,toolboxWidth:20,oscilloscopeHeight:80,isMobile:kc}}});const zy={key:1};function My(t,e,n,o,r,i){const s=bt("mobile-header"),a=bt("mobile-pullout-heading"),l=bt("mobile-preferences"),u=bt("mobile-pullout"),h=bt("mobile-document-tab-item"),p=bt("mobile-popout-menu"),g=bt("toolbar"),d=bt("toolbox"),v=bt("tab-item"),f=bt("document"),b=bt("tab-host"),y=bt("oscilloscope"),I=bt("status-bar"),E=bt("main-view"),k=bt("builder-view"),L=bt("theme");return Y(),Rt(L,{dark:t.experience.darkMode.value},{default:Ft(()=>[yt("div",{class:Qt(["app__dropzone",{"app__dropzone--active":t.isDropping}])},null,2),t.activeDocumentId&&t.activeDocument?(Y(),Rt(E,{key:0,"is-blurred":t.isDialogOpen,onContextmenu:t.onContextMenu},{top:Ft(()=>[t.isMobile?(Y(),dt(Zt,{key:0},[ut(s,{onSelect:e[0]||(e[0]=U=>t.isDocumentSelectOpen=!0),onOpen:e[1]||(e[1]=U=>t.isSettingsOpen=!0),"document-name":t.activeDocument.displayName,"document-count":3},null,8,["document-name"]),ut(u,{modelValue:t.isSettingsOpen,"onUpdate:modelValue":e[3]||(e[3]=U=>t.isSettingsOpen=U)},{default:Ft(()=>[ut(a,{onClose:e[2]||(e[2]=U=>t.isSettingsOpen=!1)}),ut(l)]),_:1},8,["modelValue"]),ut(p,{modelValue:t.isDocumentSelectOpen,"onUpdate:modelValue":e[4]||(e[4]=U=>t.isDocumentSelectOpen=U)},{default:Ft(()=>[(Y(!0),dt(Zt,null,pe(t.documents,(U,M)=>(Y(),Rt(h,{key:M,label:U.displayName,dirty:U.store().isDirty,active:t.activeDocumentId===M,onActivate:z=>t.activateDocument(M),onClose:z=>t.closeDocument(M)},null,8,["label","dirty","active","onActivate","onClose"]))),128))]),_:1},8,["modelValue"])],64)):de("",!0),(Y(),Rt(g,{key:t.activeDocumentId,store:t.activeDocument.store},null,8,["store"])),ut(d,{"is-open":t.isToolboxOpen,store:t.activeDocument.store},null,8,["is-open","store"])]),middle:Ft(()=>[ut(b,null,Cs({default:Ft(()=>[(Y(),Rt(f,{key:t.activeDocumentId,store:t.activeDocument.store,onSwitch:t.switchDocument,onOpenIntegratedCircuit:t.openIntegratedCircuit},null,8,["store","onSwitch","onOpenIntegratedCircuit"]))]),_:2},[t.isMobile?void 0:{name:"tabs",fn:Ft(()=>[(Y(!0),dt(Zt,null,pe(t.documents,(U,M)=>(Y(),Rt(v,{key:M,label:U.displayName,active:t.activeDocumentId===M,dirty:U.store().isDirty,onActivate:z=>t.activateDocument(M),onClose:z=>t.closeDocument(M)},null,8,["label","active","dirty","onActivate","onClose"]))),128))]),key:"0"}]),1024)]),bottom:Ft(()=>[(Y(),Rt(y,{key:t.activeDocumentId,store:t.activeDocument.store},null,8,["store"])),t.isMobile?de("",!0):(Y(),Rt(I,{key:t.activeDocumentId,store:t.activeDocument.store,"is-fullscreen":t.isFullscreen,onFullscreen:t.toggleFullscreen},null,8,["store","is-fullscreen","onFullscreen"]))]),_:1},8,["is-blurred","onContextmenu"])):(Y(),dt("div",zy," no documents open "+he(t.isDropping),1)),t.isBuilderOpen?(Y(),Rt(k,{key:2})):de("",!0)]),_:1},8,["dark"])}const By=Pt(Ty,[["render",My]]);window.api||(window.api={showContextMenu(){},setApplicationMenu(){},showOpenFileDialog(){return[]},showSaveFileDialog(){return""},showMessageBox(){return 0},beep(){},quit(){},onBeforeClose(){},onOpenFile(){},openFile(){return""},saveFile(){},setFullscreen(){},getFilePaths(){return[]},getDefaultSavePath(){return""},setClipboardContents(){},getClipboardContents(){return""},clearClipboard(){},canPaste(){return!1}});gf(By).use(bf()).mount("#app");
