var Ac=Object.defineProperty;var zc=(t,e,n)=>e in t?Ac(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wt=(t,e,n)=>(zc(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function rs(t,e){const n=Object.create(null),o=t.split(",");for(let i=0;i<o.length;i++)n[o[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const ae={},lo=[],Xe=()=>{},Mc=()=>!1,Nc=/^on[^a-z]/,qi=t=>Nc.test(t),ss=t=>t.startsWith("onUpdate:"),_e=Object.assign,as=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bc=Object.prototype.hasOwnProperty,te=(t,e)=>Bc.call(t,e),zt=Array.isArray,co=t=>Zo(t)==="[object Map]",yo=t=>Zo(t)==="[object Set]",Hs=t=>Zo(t)==="[object Date]",Wt=t=>typeof t=="function",ge=t=>typeof t=="string",No=t=>typeof t=="symbol",se=t=>t!==null&&typeof t=="object",Fa=t=>se(t)&&Wt(t.then)&&Wt(t.catch),Va=Object.prototype.toString,Zo=t=>Va.call(t),Lc=t=>Zo(t).slice(8,-1),ja=t=>Zo(t)==="[object Object]",ls=t=>ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$i=rs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Rc=/-(\w)/g,an=Zi(t=>t.replace(Rc,(e,n)=>n?n.toUpperCase():"")),Fc=/\B([A-Z])/g,Gn=Zi(t=>t.replace(Fc,"-$1").toLowerCase()),Ki=Zi(t=>t.charAt(0).toUpperCase()+t.slice(1)),$r=Zi(t=>t?`on${Ki(t)}`:""),Bo=(t,e)=>!Object.is(t,e),Ti=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},zi=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Mi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vc=t=>{const e=ge(t)?Number(t):NaN;return isNaN(e)?t:e};let Us;const Rr=()=>Us||(Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ee(t){if(zt(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],i=ge(o)?Wc(o):ee(o);if(i)for(const r in i)e[r]=i[r]}return e}else{if(ge(t))return t;if(se(t))return t}}const jc=/;(?![^(]*\))/g,Hc=/:([^]+)/,Uc=/\/\*[^]*?\*\//g;function Wc(t){const e={};return t.replace(Uc,"").split(jc).forEach(n=>{if(n){const o=n.split(Hc);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Qt(t){let e="";if(ge(t))e=t;else if(zt(t))for(let n=0;n<t.length;n++){const o=Qt(t[n]);o&&(e+=o+" ")}else if(se(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Ha(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ge(e)&&(t.class=Qt(e)),n&&(t.style=ee(n)),t}const Gc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qc=rs(Gc);function Ua(t){return!!t||t===""}function Zc(t,e){if(t.length!==e.length)return!1;let n=!0;for(let o=0;n&&o<t.length;o++)n=Wn(t[o],e[o]);return n}function Wn(t,e){if(t===e)return!0;let n=Hs(t),o=Hs(e);if(n||o)return n&&o?t.getTime()===e.getTime():!1;if(n=No(t),o=No(e),n||o)return t===e;if(n=zt(t),o=zt(e),n||o)return n&&o?Zc(t,e):!1;if(n=se(t),o=se(e),n||o){if(!n||!o)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!Wn(t[s],e[s]))return!1}}return String(t)===String(e)}function cs(t,e){return t.findIndex(n=>Wn(n,e))}const he=t=>ge(t)?t:t==null?"":zt(t)||se(t)&&(t.toString===Va||!Wt(t.toString))?JSON.stringify(t,Wa,2):String(t),Wa=(t,e)=>e&&e.__v_isRef?Wa(t,e.value):co(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[o,i])=>(n[`${o} =>`]=i,n),{})}:yo(e)?{[`Set(${e.size})`]:[...e.values()]}:se(e)&&!zt(e)&&!ja(e)?String(e):e;let Ne;class Ga{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ne,!e&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ne;try{return Ne=this,e()}finally{Ne=n}}}on(){Ne=this}off(){Ne=this.parent}stop(e){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function qa(t){return new Ga(t)}function Kc(t,e=Ne){e&&e.active&&e.effects.push(t)}function Za(){return Ne}function Xc(t){Ne&&Ne.cleanups.push(t)}const us=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Ka=t=>(t.w&kn)>0,Xa=t=>(t.n&kn)>0,Yc=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=kn},Jc=t=>{const{deps:e}=t;if(e.length){let n=0;for(let o=0;o<e.length;o++){const i=e[o];Ka(i)&&!Xa(i)?i.delete(t):e[n++]=i,i.w&=~kn,i.n&=~kn}e.length=n}},Ni=new WeakMap;let Po=0,kn=1;const Fr=30;let Ze;const Hn=Symbol(""),Vr=Symbol("");class ds{constructor(e,n=null,o){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Kc(this,o)}run(){if(!this.active)return this.fn();let e=Ze,n=On;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ze,Ze=this,On=!0,kn=1<<++Po,Po<=Fr?Yc(this):Ws(this),this.fn()}finally{Po<=Fr&&Jc(this),kn=1<<--Po,Ze=this.parent,On=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ze===this?this.deferStop=!0:this.active&&(Ws(this),this.onStop&&this.onStop(),this.active=!1)}}function Ws(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let On=!0;const Ya=[];function bo(){Ya.push(On),On=!1}function _o(){const t=Ya.pop();On=t===void 0?!0:t}function ze(t,e,n){if(On&&Ze){let o=Ni.get(t);o||Ni.set(t,o=new Map);let i=o.get(n);i||o.set(n,i=us()),Ja(i)}}function Ja(t,e){let n=!1;Po<=Fr?Xa(t)||(t.n|=kn,n=!Ka(t)):n=!t.has(Ze),n&&(t.add(Ze),Ze.deps.push(t))}function hn(t,e,n,o,i,r){const s=Ni.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&zt(t)){const l=Number(o);s.forEach((u,d)=>{(d==="length"||d>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":zt(t)?ls(n)&&a.push(s.get("length")):(a.push(s.get(Hn)),co(t)&&a.push(s.get(Vr)));break;case"delete":zt(t)||(a.push(s.get(Hn)),co(t)&&a.push(s.get(Vr)));break;case"set":co(t)&&a.push(s.get(Hn));break}if(a.length===1)a[0]&&jr(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);jr(us(l))}}function jr(t,e){const n=zt(t)?t:[...t];for(const o of n)o.computed&&Gs(o);for(const o of n)o.computed||Gs(o)}function Gs(t,e){(t!==Ze||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Qc(t,e){var n;return(n=Ni.get(t))==null?void 0:n.get(e)}const tu=rs("__proto__,__v_isRef,__isVue"),Qa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(No)),eu=fs(),nu=fs(!1,!0),ou=fs(!0),qs=iu();function iu(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const o=Jt(this);for(let r=0,s=this.length;r<s;r++)ze(o,"get",r+"");const i=o[e](...n);return i===-1||i===!1?o[e](...n.map(Jt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){bo();const o=Jt(this)[e].apply(this,n);return _o(),o}}),t}function ru(t){const e=Jt(this);return ze(e,"has",t),e.hasOwnProperty(t)}function fs(t=!1,e=!1){return function(o,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?wu:il:e?ol:nl).get(o))return o;const s=zt(o);if(!t){if(s&&te(qs,i))return Reflect.get(qs,i,r);if(i==="hasOwnProperty")return ru}const a=Reflect.get(o,i,r);return(No(i)?Qa.has(i):tu(i))||(t||ze(o,"get",i),e)?a:fe(a)?s&&ls(i)?a:a.value:se(a)?t?rl(a):Yi(a):a}}const su=tl(),au=tl(!0);function tl(t=!1){return function(n,o,i,r){let s=n[o];if(po(s)&&fe(s)&&!fe(i))return!1;if(!t&&(!Bi(i)&&!po(i)&&(s=Jt(s),i=Jt(i)),!zt(n)&&fe(s)&&!fe(i)))return s.value=i,!0;const a=zt(n)&&ls(o)?Number(o)<n.length:te(n,o),l=Reflect.set(n,o,i,r);return n===Jt(r)&&(a?Bo(i,s)&&hn(n,"set",o,i):hn(n,"add",o,i)),l}}function lu(t,e){const n=te(t,e);t[e];const o=Reflect.deleteProperty(t,e);return o&&n&&hn(t,"delete",e,void 0),o}function cu(t,e){const n=Reflect.has(t,e);return(!No(e)||!Qa.has(e))&&ze(t,"has",e),n}function uu(t){return ze(t,"iterate",zt(t)?"length":Hn),Reflect.ownKeys(t)}const el={get:eu,set:su,deleteProperty:lu,has:cu,ownKeys:uu},du={get:ou,set(t,e){return!0},deleteProperty(t,e){return!0}},fu=_e({},el,{get:nu,set:au}),hs=t=>t,Xi=t=>Reflect.getPrototypeOf(t);function wi(t,e,n=!1,o=!1){t=t.__v_raw;const i=Jt(t),r=Jt(e);n||(e!==r&&ze(i,"get",e),ze(i,"get",r));const{has:s}=Xi(i),a=o?hs:n?gs:Lo;if(s.call(i,e))return a(t.get(e));if(s.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function Ci(t,e=!1){const n=this.__v_raw,o=Jt(n),i=Jt(t);return e||(t!==i&&ze(o,"has",t),ze(o,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Si(t,e=!1){return t=t.__v_raw,!e&&ze(Jt(t),"iterate",Hn),Reflect.get(t,"size",t)}function Zs(t){t=Jt(t);const e=Jt(this);return Xi(e).has.call(e,t)||(e.add(t),hn(e,"add",t,t)),this}function Ks(t,e){e=Jt(e);const n=Jt(this),{has:o,get:i}=Xi(n);let r=o.call(n,t);r||(t=Jt(t),r=o.call(n,t));const s=i.call(n,t);return n.set(t,e),r?Bo(e,s)&&hn(n,"set",t,e):hn(n,"add",t,e),this}function Xs(t){const e=Jt(this),{has:n,get:o}=Xi(e);let i=n.call(e,t);i||(t=Jt(t),i=n.call(e,t)),o&&o.call(e,t);const r=e.delete(t);return i&&hn(e,"delete",t,void 0),r}function Ys(){const t=Jt(this),e=t.size!==0,n=t.clear();return e&&hn(t,"clear",void 0,void 0),n}function Ii(t,e){return function(o,i){const r=this,s=r.__v_raw,a=Jt(s),l=e?hs:t?gs:Lo;return!t&&ze(a,"iterate",Hn),s.forEach((u,d)=>o.call(i,l(u),l(d),r))}}function Ei(t,e,n){return function(...o){const i=this.__v_raw,r=Jt(i),s=co(r),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...o),d=n?hs:e?gs:Lo;return!e&&ze(r,"iterate",l?Vr:Hn),{next(){const{value:m,done:g}=u.next();return g?{value:m,done:g}:{value:a?[d(m[0]),d(m[1])]:d(m),done:g}},[Symbol.iterator](){return this}}}}function wn(t){return function(...e){return t==="delete"?!1:this}}function hu(){const t={get(r){return wi(this,r)},get size(){return Si(this)},has:Ci,add:Zs,set:Ks,delete:Xs,clear:Ys,forEach:Ii(!1,!1)},e={get(r){return wi(this,r,!1,!0)},get size(){return Si(this)},has:Ci,add:Zs,set:Ks,delete:Xs,clear:Ys,forEach:Ii(!1,!0)},n={get(r){return wi(this,r,!0)},get size(){return Si(this,!0)},has(r){return Ci.call(this,r,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Ii(!0,!1)},o={get(r){return wi(this,r,!0,!0)},get size(){return Si(this,!0)},has(r){return Ci.call(this,r,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Ii(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Ei(r,!1,!1),n[r]=Ei(r,!0,!1),e[r]=Ei(r,!1,!0),o[r]=Ei(r,!0,!0)}),[t,n,e,o]}const[pu,mu,gu,vu]=hu();function ps(t,e){const n=e?t?vu:gu:t?mu:pu;return(o,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?o:Reflect.get(te(n,i)&&i in o?n:o,i,r)}const yu={get:ps(!1,!1)},bu={get:ps(!1,!0)},_u={get:ps(!0,!1)},nl=new WeakMap,ol=new WeakMap,il=new WeakMap,wu=new WeakMap;function Cu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Su(t){return t.__v_skip||!Object.isExtensible(t)?0:Cu(Lc(t))}function Yi(t){return po(t)?t:ms(t,!1,el,yu,nl)}function Iu(t){return ms(t,!1,fu,bu,ol)}function rl(t){return ms(t,!0,du,_u,il)}function ms(t,e,n,o,i){if(!se(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const s=Su(t);if(s===0)return t;const a=new Proxy(t,s===2?o:n);return i.set(t,a),a}function dn(t){return po(t)?dn(t.__v_raw):!!(t&&t.__v_isReactive)}function po(t){return!!(t&&t.__v_isReadonly)}function Bi(t){return!!(t&&t.__v_isShallow)}function sl(t){return dn(t)||po(t)}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function Ji(t){return zi(t,"__v_skip",!0),t}const Lo=t=>se(t)?Yi(t):t,gs=t=>se(t)?rl(t):t;function al(t){On&&Ze&&(t=Jt(t),Ja(t.dep||(t.dep=us())))}function ll(t,e){t=Jt(t);const n=t.dep;n&&jr(n)}function fe(t){return!!(t&&t.__v_isRef===!0)}function Vt(t){return Eu(t,!1)}function Eu(t,e){return fe(t)?t:new xu(t,e)}class xu{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Jt(e),this._value=n?e:Lo(e)}get value(){return al(this),this._value}set value(e){const n=this.__v_isShallow||Bi(e)||po(e);e=n?e:Jt(e),Bo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Lo(e),ll(this))}}function Ou(t){return fe(t)?t.value:t}const Pu={get:(t,e,n)=>Ou(Reflect.get(t,e,n)),set:(t,e,n,o)=>{const i=t[e];return fe(i)&&!fe(n)?(i.value=n,!0):Reflect.set(t,e,n,o)}};function cl(t){return dn(t)?t:new Proxy(t,Pu)}function ku(t){const e=zt(t)?new Array(t.length):{};for(const n in t)e[n]=ul(t,n);return e}class Du{constructor(e,n,o){this._object=e,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Qc(Jt(this._object),this._key)}}class $u{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Tu(t,e,n){return fe(t)?t:Wt(t)?new $u(t):se(t)&&arguments.length>1?ul(t,e,n):Vt(t)}function ul(t,e,n){const o=t[e];return fe(o)?o:new Du(t,e,n)}class Au{constructor(e,n,o,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ds(e,()=>{this._dirty||(this._dirty=!0,ll(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=o}get value(){const e=Jt(this);return al(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function zu(t,e,n=!1){let o,i;const r=Wt(t);return r?(o=t,i=Xe):(o=t.get,i=t.set),new Au(o,i,r||!i,n)}function Pn(t,e,n,o){let i;try{i=o?t(...o):t()}catch(r){Qi(r,e,n)}return i}function je(t,e,n,o){if(Wt(t)){const r=Pn(t,e,n,o);return r&&Fa(r)&&r.catch(s=>{Qi(s,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(je(t[r],e,n,o));return i}function Qi(t,e,n,o=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const s=e.proxy,a=n;for(;r;){const u=r.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,s,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){Pn(l,null,10,[t,s,a]);return}}Mu(t,n,i,o)}function Mu(t,e,n,o=!0){console.error(t)}let Ro=!1,Hr=!1;const ke=[];let rn=0;const uo=[];let cn=null,Rn=0;const dl=Promise.resolve();let vs=null;function Ko(t){const e=vs||dl;return t?e.then(this?t.bind(this):t):e}function Nu(t){let e=rn+1,n=ke.length;for(;e<n;){const o=e+n>>>1;Fo(ke[o])<t?e=o+1:n=o}return e}function ys(t){(!ke.length||!ke.includes(t,Ro&&t.allowRecurse?rn+1:rn))&&(t.id==null?ke.push(t):ke.splice(Nu(t.id),0,t),fl())}function fl(){!Ro&&!Hr&&(Hr=!0,vs=dl.then(pl))}function Bu(t){const e=ke.indexOf(t);e>rn&&ke.splice(e,1)}function Lu(t){zt(t)?uo.push(...t):(!cn||!cn.includes(t,t.allowRecurse?Rn+1:Rn))&&uo.push(t),fl()}function Js(t,e=Ro?rn+1:0){for(;e<ke.length;e++){const n=ke[e];n&&n.pre&&(ke.splice(e,1),e--,n())}}function hl(t){if(uo.length){const e=[...new Set(uo)];if(uo.length=0,cn){cn.push(...e);return}for(cn=e,cn.sort((n,o)=>Fo(n)-Fo(o)),Rn=0;Rn<cn.length;Rn++)cn[Rn]();cn=null,Rn=0}}const Fo=t=>t.id==null?1/0:t.id,Ru=(t,e)=>{const n=Fo(t)-Fo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function pl(t){Hr=!1,Ro=!0,ke.sort(Ru);const e=Xe;try{for(rn=0;rn<ke.length;rn++){const n=ke[rn];n&&n.active!==!1&&Pn(n,null,14)}}finally{rn=0,ke.length=0,hl(),Ro=!1,vs=null,(ke.length||uo.length)&&pl()}}function Fu(t,e,...n){if(t.isUnmounted)return;const o=t.vnode.props||ae;let i=n;const r=e.startsWith("update:"),s=r&&e.slice(7);if(s&&s in o){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:g}=o[d]||ae;g&&(i=n.map(f=>ge(f)?f.trim():f)),m&&(i=n.map(Mi))}let a,l=o[a=$r(e)]||o[a=$r(an(e))];!l&&r&&(l=o[a=$r(Gn(e))]),l&&je(l,t,6,i);const u=o[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,je(u,t,6,i)}}function ml(t,e,n=!1){const o=e.emitsCache,i=o.get(t);if(i!==void 0)return i;const r=t.emits;let s={},a=!1;if(!Wt(t)){const l=u=>{const d=ml(u,e,!0);d&&(a=!0,_e(s,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(se(t)&&o.set(t,null),null):(zt(r)?r.forEach(l=>s[l]=null):_e(s,r),se(t)&&o.set(t,s),s)}function tr(t,e){return!t||!qi(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,Gn(e))||te(t,e))}let Ie=null,gl=null;function Li(t){const e=Ie;return Ie=t,gl=t&&t.type.__scopeId||null,e}function Rt(t,e=Ie,n){if(!e||t._n)return t;const o=(...i)=>{o._d&&ua(-1);const r=Li(e);let s;try{s=t(...i)}finally{Li(r),o._d&&ua(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function Tr(t){const{type:e,vnode:n,proxy:o,withProxy:i,props:r,propsOptions:[s],slots:a,attrs:l,emit:u,render:d,renderCache:m,data:g,setupState:f,ctx:v,inheritAttrs:p}=t;let y,b;const S=Li(t);try{if(n.shapeFlag&4){const A=i||o;y=nn(d.call(A,A,m,r,f,g,v)),b=l}else{const A=e;y=nn(A.length>1?A(r,{attrs:l,slots:a,emit:u}):A(r,null)),b=e.props?l:Vu(l)}}catch(A){Ao.length=0,Qi(A,t,1),y=dt(He)}let P=y;if(b&&p!==!1){const A=Object.keys(b),{shapeFlag:N}=P;A.length&&N&7&&(s&&A.some(ss)&&(b=ju(b,s)),P=Dn(P,b))}return n.dirs&&(P=Dn(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),y=P,Li(S),y}const Vu=t=>{let e;for(const n in t)(n==="class"||n==="style"||qi(n))&&((e||(e={}))[n]=t[n]);return e},ju=(t,e)=>{const n={};for(const o in t)(!ss(o)||!(o.slice(9)in e))&&(n[o]=t[o]);return n};function Hu(t,e,n){const{props:o,children:i,component:r}=t,{props:s,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?Qs(o,s,u):!!s;if(l&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const g=d[m];if(s[g]!==o[g]&&!tr(u,g))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?Qs(o,s,u):!0:!!s;return!1}function Qs(t,e,n){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(e[r]!==t[r]&&!tr(n,r))return!0}return!1}function Uu({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Wu=t=>t.__isSuspense;function Gu(t,e){e&&e.pendingBranch?zt(t)?e.effects.push(...t):e.effects.push(t):Lu(t)}function Ri(t,e){return bs(t,null,e)}const xi={};function fn(t,e,n){return bs(t,e,n)}function bs(t,e,{immediate:n,deep:o,flush:i,onTrack:r,onTrigger:s}=ae){var a;const l=Za()===((a=we)==null?void 0:a.scope)?we:null;let u,d=!1,m=!1;if(fe(t)?(u=()=>t.value,d=Bi(t)):dn(t)?(u=()=>t,o=!0):zt(t)?(m=!0,d=t.some(A=>dn(A)||Bi(A)),u=()=>t.map(A=>{if(fe(A))return A.value;if(dn(A))return jn(A);if(Wt(A))return Pn(A,l,2)})):Wt(t)?e?u=()=>Pn(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return g&&g(),je(t,l,3,[f])}:u=Xe,e&&o){const A=u;u=()=>jn(A())}let g,f=A=>{g=S.onStop=()=>{Pn(A,l,4)}},v;if(Ho)if(f=Xe,e?n&&je(e,l,3,[u(),m?[]:void 0,f]):u(),i==="sync"){const A=Rd();v=A.__watcherHandles||(A.__watcherHandles=[])}else return Xe;let p=m?new Array(t.length).fill(xi):xi;const y=()=>{if(S.active)if(e){const A=S.run();(o||d||(m?A.some((N,H)=>Bo(N,p[H])):Bo(A,p)))&&(g&&g(),je(e,l,3,[A,p===xi?void 0:m&&p[0]===xi?[]:p,f]),p=A)}else S.run()};y.allowRecurse=!!e;let b;i==="sync"?b=y:i==="post"?b=()=>Ae(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),b=()=>ys(y));const S=new ds(u,b);e?n?y():p=S.run():i==="post"?Ae(S.run.bind(S),l&&l.suspense):S.run();const P=()=>{S.stop(),l&&l.scope&&as(l.scope.effects,S)};return v&&v.push(P),P}function qu(t,e,n){const o=this.proxy,i=ge(t)?t.includes(".")?vl(o,t):()=>o[t]:t.bind(o,o);let r;Wt(e)?r=e:(r=e.handler,n=e);const s=we;mo(this);const a=bs(i,r.bind(o),n);return s?mo(s):Un(),a}function vl(t,e){const n=e.split(".");return()=>{let o=t;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}function jn(t,e){if(!se(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),fe(t))jn(t.value,e);else if(zt(t))for(let n=0;n<t.length;n++)jn(t[n],e);else if(yo(t)||co(t))t.forEach(n=>{jn(n,e)});else if(ja(t))for(const n in t)jn(t[n],e);return t}function fo(t,e){const n=Ie;if(n===null)return t;const o=ar(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,a,l,u=ae]=e[r];s&&(Wt(s)&&(s={mounted:s,updated:s}),s.deep&&jn(a),i.push({dir:s,instance:o,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function Mn(t,e,n,o){const i=t.dirs,r=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];r&&(a.oldValue=r[s].value);let l=a.dir[o];l&&(bo(),je(l,n,8,[t.el,a,t,e]),_o())}}function Zu(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ue(()=>{t.isMounted=!0}),qn(()=>{t.isUnmounting=!0}),t}const Ve=[Function,Array],yl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ve,onEnter:Ve,onAfterEnter:Ve,onEnterCancelled:Ve,onBeforeLeave:Ve,onLeave:Ve,onAfterLeave:Ve,onLeaveCancelled:Ve,onBeforeAppear:Ve,onAppear:Ve,onAfterAppear:Ve,onAppearCancelled:Ve},Ku={name:"BaseTransition",props:yl,setup(t,{slots:e}){const n=$d(),o=Zu();let i;return()=>{const r=e.default&&_l(e.default(),!0);if(!r||!r.length)return;let s=r[0];if(r.length>1){for(const p of r)if(p.type!==He){s=p;break}}const a=Jt(t),{mode:l}=a;if(o.isLeaving)return Ar(s);const u=ta(s);if(!u)return Ar(s);const d=Ur(u,a,o,n);Wr(u,d);const m=n.subTree,g=m&&ta(m);let f=!1;const{getTransitionKey:v}=u.type;if(v){const p=v();i===void 0?i=p:p!==i&&(i=p,f=!0)}if(g&&g.type!==He&&(!Fn(u,g)||f)){const p=Ur(g,a,o,n);if(Wr(g,p),l==="out-in")return o.isLeaving=!0,p.afterLeave=()=>{o.isLeaving=!1,n.update.active!==!1&&n.update()},Ar(s);l==="in-out"&&u.type!==He&&(p.delayLeave=(y,b,S)=>{const P=bl(o,g);P[String(g.key)]=g,y._leaveCb=()=>{b(),y._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=S})}return s}}},Xu=Ku;function bl(t,e){const{leavingVNodes:n}=t;let o=n.get(e.type);return o||(o=Object.create(null),n.set(e.type,o)),o}function Ur(t,e,n,o){const{appear:i,mode:r,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:m,onLeave:g,onAfterLeave:f,onLeaveCancelled:v,onBeforeAppear:p,onAppear:y,onAfterAppear:b,onAppearCancelled:S}=e,P=String(t.key),A=bl(n,t),N=(D,k)=>{D&&je(D,o,9,k)},H=(D,k)=>{const Y=k[1];N(D,k),zt(D)?D.every(U=>U.length<=1)&&Y():D.length<=1&&Y()},L={mode:r,persisted:s,beforeEnter(D){let k=a;if(!n.isMounted)if(i)k=p||a;else return;D._leaveCb&&D._leaveCb(!0);const Y=A[P];Y&&Fn(t,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),N(k,[D])},enter(D){let k=l,Y=u,U=d;if(!n.isMounted)if(i)k=y||l,Y=b||u,U=S||d;else return;let I=!1;const E=D._enterCb=h=>{I||(I=!0,h?N(U,[D]):N(Y,[D]),L.delayedLeave&&L.delayedLeave(),D._enterCb=void 0)};k?H(k,[D,E]):E()},leave(D,k){const Y=String(t.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return k();N(m,[D]);let U=!1;const I=D._leaveCb=E=>{U||(U=!0,k(),E?N(v,[D]):N(f,[D]),D._leaveCb=void 0,A[Y]===t&&delete A[Y])};A[Y]=t,g?H(g,[D,I]):I()},clone(D){return Ur(D,e,n,o)}};return L}function Ar(t){if(er(t))return t=Dn(t),t.children=null,t}function ta(t){return er(t)?t.children?t.children[0]:void 0:t}function Wr(t,e){t.shapeFlag&6&&t.component?Wr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _l(t,e=!1,n){let o=[],i=0;for(let r=0;r<t.length;r++){let s=t[r];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:r);s.type===Xt?(s.patchFlag&128&&i++,o=o.concat(_l(s.children,e,a))):(e||s.type!==He)&&o.push(a!=null?Dn(s,{key:a}):s)}if(i>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function It(t,e){return Wt(t)?(()=>_e({name:t.name},e,{setup:t}))():t}const Do=t=>!!t.type.__asyncLoader,er=t=>t.type.__isKeepAlive;function Yu(t,e){wl(t,"a",e)}function Ju(t,e){wl(t,"da",e)}function wl(t,e,n=we){const o=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(nr(e,o,n),n){let i=n.parent;for(;i&&i.parent;)er(i.parent.vnode)&&Qu(o,e,n,i),i=i.parent}}function Qu(t,e,n,o){const i=nr(e,t,o,!0);or(()=>{as(o[e],i)},n)}function nr(t,e,n=we,o=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;bo(),mo(n);const a=je(e,n,t,s);return Un(),_o(),a});return o?i.unshift(r):i.push(r),r}}const pn=t=>(e,n=we)=>(!Ho||t==="sp")&&nr(t,(...o)=>e(...o),n),td=pn("bm"),Ue=pn("m"),ed=pn("bu"),nd=pn("u"),qn=pn("bum"),or=pn("um"),od=pn("sp"),id=pn("rtg"),rd=pn("rtc");function sd(t,e=we){nr("ec",t,e)}const _s="components";function St(t,e){return Sl(_s,t,!0,e)||t}const Cl=Symbol.for("v-ndc");function ir(t){return ge(t)?Sl(_s,t,!1)||t:t||Cl}function Sl(t,e,n=!0,o=!1){const i=Ie||we;if(i){const r=i.type;if(t===_s){const a=Nd(r,!1);if(a&&(a===e||a===an(e)||a===Ki(an(e))))return r}const s=ea(i[t]||r[t],e)||ea(i.appContext[t],e);return!s&&o?r:s}}function ea(t,e){return t&&(t[e]||t[an(e)]||t[Ki(an(e))])}function pe(t,e,n,o){let i;const r=n&&n[o];if(zt(t)||ge(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,r&&r[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,r&&r[s])}else if(se(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,r&&r[a]));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=e(t[u],u,a,r&&r[a])}}else i=[];return n&&(n[o]=i),i}function ws(t,e){for(let n=0;n<e.length;n++){const o=e[n];if(zt(o))for(let i=0;i<o.length;i++)t[o[i].name]=o[i].fn;else o&&(t[o.name]=o.key?(...i)=>{const r=o.fn(...i);return r&&(r.key=o.key),r}:o.fn)}return t}function ue(t,e,n={},o,i){if(Ie.isCE||Ie.parent&&Do(Ie.parent)&&Ie.parent.isCE)return e!=="default"&&(n.name=e),dt("slot",n,o&&o());let r=t[e];r&&r._c&&(r._d=!1),Q();const s=r&&Il(r(n)),a=Mt(Xt,{key:n.key||s&&s.key||`_${e}`},s||(o?o():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Il(t){return t.some(e=>Vi(e)?!(e.type===He||e.type===Xt&&!Il(e.children)):!0)?t:null}const Gr=t=>t?Nl(t)?ar(t)||t.proxy:Gr(t.parent):null,$o=_e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gr(t.parent),$root:t=>Gr(t.root),$emit:t=>t.emit,$options:t=>Cs(t),$forceUpdate:t=>t.f||(t.f=()=>ys(t.update)),$nextTick:t=>t.n||(t.n=Ko.bind(t.proxy)),$watch:t=>qu.bind(t)}),zr=(t,e)=>t!==ae&&!t.__isScriptSetup&&te(t,e),ad={get({_:t},e){const{ctx:n,setupState:o,data:i,props:r,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return o[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(zr(o,e))return s[e]=1,o[e];if(i!==ae&&te(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&te(u,e))return s[e]=3,r[e];if(n!==ae&&te(n,e))return s[e]=4,n[e];qr&&(s[e]=0)}}const d=$o[e];let m,g;if(d)return e==="$attrs"&&ze(t,"get",e),d(t);if((m=a.__cssModules)&&(m=m[e]))return m;if(n!==ae&&te(n,e))return s[e]=4,n[e];if(g=l.config.globalProperties,te(g,e))return g[e]},set({_:t},e,n){const{data:o,setupState:i,ctx:r}=t;return zr(i,e)?(i[e]=n,!0):o!==ae&&te(o,e)?(o[e]=n,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:o,appContext:i,propsOptions:r}},s){let a;return!!n[s]||t!==ae&&te(t,s)||zr(e,s)||(a=r[0])&&te(a,s)||te(o,s)||te($o,s)||te(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function na(t){return zt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let qr=!0;function ld(t){const e=Cs(t),n=t.proxy,o=t.ctx;qr=!1,e.beforeCreate&&oa(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:s,watch:a,provide:l,inject:u,created:d,beforeMount:m,mounted:g,beforeUpdate:f,updated:v,activated:p,deactivated:y,beforeDestroy:b,beforeUnmount:S,destroyed:P,unmounted:A,render:N,renderTracked:H,renderTriggered:L,errorCaptured:D,serverPrefetch:k,expose:Y,inheritAttrs:U,components:I,directives:E,filters:h}=e;if(u&&cd(u,o,null),s)for(const J in s){const _t=s[J];Wt(_t)&&(o[J]=_t.bind(n))}if(i){const J=i.call(n,n);se(J)&&(t.data=Yi(J))}if(qr=!0,r)for(const J in r){const _t=r[J],it=Wt(_t)?_t.bind(n,n):Wt(_t.get)?_t.get.bind(n,n):Xe,ft=!Wt(_t)&&Wt(_t.set)?_t.set.bind(n):Xe,K=Kt({get:it,set:ft});Object.defineProperty(o,J,{enumerable:!0,configurable:!0,get:()=>K.value,set:G=>K.value=G})}if(a)for(const J in a)El(a[J],o,n,J);if(l){const J=Wt(l)?l.call(n):l;Reflect.ownKeys(J).forEach(_t=>{md(_t,J[_t])})}d&&oa(d,t,"c");function at(J,_t){zt(_t)?_t.forEach(it=>J(it.bind(n))):_t&&J(_t.bind(n))}if(at(td,m),at(Ue,g),at(ed,f),at(nd,v),at(Yu,p),at(Ju,y),at(sd,D),at(rd,H),at(id,L),at(qn,S),at(or,A),at(od,k),zt(Y))if(Y.length){const J=t.exposed||(t.exposed={});Y.forEach(_t=>{Object.defineProperty(J,_t,{get:()=>n[_t],set:it=>n[_t]=it})})}else t.exposed||(t.exposed={});N&&t.render===Xe&&(t.render=N),U!=null&&(t.inheritAttrs=U),I&&(t.components=I),E&&(t.directives=E)}function cd(t,e,n=Xe){zt(t)&&(t=Zr(t));for(const o in t){const i=t[o];let r;se(i)?"default"in i?r=To(i.from||o,i.default,!0):r=To(i.from||o):r=To(i),fe(r)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:s=>r.value=s}):e[o]=r}}function oa(t,e,n){je(zt(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,n)}function El(t,e,n,o){const i=o.includes(".")?vl(n,o):()=>n[o];if(ge(t)){const r=e[t];Wt(r)&&fn(i,r)}else if(Wt(t))fn(i,t.bind(n));else if(se(t))if(zt(t))t.forEach(r=>El(r,e,n,o));else{const r=Wt(t.handler)?t.handler.bind(n):e[t.handler];Wt(r)&&fn(i,r,t)}}function Cs(t){const e=t.type,{mixins:n,extends:o}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:s}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!o?l=e:(l={},i.length&&i.forEach(u=>Fi(l,u,s,!0)),Fi(l,e,s)),se(e)&&r.set(e,l),l}function Fi(t,e,n,o=!1){const{mixins:i,extends:r}=e;r&&Fi(t,r,n,!0),i&&i.forEach(s=>Fi(t,s,n,!0));for(const s in e)if(!(o&&s==="expose")){const a=ud[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const ud={data:ia,props:ra,emits:ra,methods:ko,computed:ko,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:ko,directives:ko,watch:fd,provide:ia,inject:dd};function ia(t,e){return e?t?function(){return _e(Wt(t)?t.call(this,this):t,Wt(e)?e.call(this,this):e)}:e:t}function dd(t,e){return ko(Zr(t),Zr(e))}function Zr(t){if(zt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $e(t,e){return t?[...new Set([].concat(t,e))]:e}function ko(t,e){return t?_e(Object.create(null),t,e):e}function ra(t,e){return t?zt(t)&&zt(e)?[...new Set([...t,...e])]:_e(Object.create(null),na(t),na(e??{})):e}function fd(t,e){if(!t)return e;if(!e)return t;const n=_e(Object.create(null),t);for(const o in e)n[o]=$e(t[o],e[o]);return n}function xl(){return{app:null,config:{isNativeTag:Mc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hd=0;function pd(t,e){return function(o,i=null){Wt(o)||(o=_e({},o)),i!=null&&!se(i)&&(i=null);const r=xl(),s=new Set;let a=!1;const l=r.app={_uid:hd++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:Fd,get config(){return r.config},set config(u){},use(u,...d){return s.has(u)||(u&&Wt(u.install)?(s.add(u),u.install(l,...d)):Wt(u)&&(s.add(u),u(l,...d))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,d){return d?(r.components[u]=d,l):r.components[u]},directive(u,d){return d?(r.directives[u]=d,l):r.directives[u]},mount(u,d,m){if(!a){const g=dt(o,i);return g.appContext=r,d&&e?e(g,u):t(g,u,m),a=!0,l._container=u,u.__vue_app__=l,ar(g.component)||g.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return r.provides[u]=d,l},runWithContext(u){Vo=l;try{return u()}finally{Vo=null}}};return l}}let Vo=null;function md(t,e){if(we){let n=we.provides;const o=we.parent&&we.parent.provides;o===n&&(n=we.provides=Object.create(o)),n[t]=e}}function To(t,e,n=!1){const o=we||Ie;if(o||Vo){const i=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Vo._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Wt(e)?e.call(o&&o.proxy):e}}function gd(){return!!(we||Ie||Vo)}function vd(t,e,n,o=!1){const i={},r={};zi(r,sr,1),t.propsDefaults=Object.create(null),Ol(t,e,i,r);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=o?i:Iu(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function yd(t,e,n,o){const{props:i,attrs:r,vnode:{patchFlag:s}}=t,a=Jt(i),[l]=t.propsOptions;let u=!1;if((o||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let g=d[m];if(tr(t.emitsOptions,g))continue;const f=e[g];if(l)if(te(r,g))f!==r[g]&&(r[g]=f,u=!0);else{const v=an(g);i[v]=Kr(l,a,v,f,t,!1)}else f!==r[g]&&(r[g]=f,u=!0)}}}else{Ol(t,e,i,r)&&(u=!0);let d;for(const m in a)(!e||!te(e,m)&&((d=Gn(m))===m||!te(e,d)))&&(l?n&&(n[m]!==void 0||n[d]!==void 0)&&(i[m]=Kr(l,a,m,void 0,t,!0)):delete i[m]);if(r!==a)for(const m in r)(!e||!te(e,m))&&(delete r[m],u=!0)}u&&hn(t,"set","$attrs")}function Ol(t,e,n,o){const[i,r]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if($i(l))continue;const u=e[l];let d;i&&te(i,d=an(l))?!r||!r.includes(d)?n[d]=u:(a||(a={}))[d]=u:tr(t.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,s=!0)}if(r){const l=Jt(n),u=a||ae;for(let d=0;d<r.length;d++){const m=r[d];n[m]=Kr(i,l,m,u[m],t,!te(u,m))}}return s}function Kr(t,e,n,o,i,r){const s=t[n];if(s!=null){const a=te(s,"default");if(a&&o===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Wt(l)){const{propsDefaults:u}=i;n in u?o=u[n]:(mo(i),o=u[n]=l.call(null,e),Un())}else o=l}s[0]&&(r&&!a?o=!1:s[1]&&(o===""||o===Gn(n))&&(o=!0))}return o}function Pl(t,e,n=!1){const o=e.propsCache,i=o.get(t);if(i)return i;const r=t.props,s={},a=[];let l=!1;if(!Wt(t)){const d=m=>{l=!0;const[g,f]=Pl(m,e,!0);_e(s,g),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!l)return se(t)&&o.set(t,lo),lo;if(zt(r))for(let d=0;d<r.length;d++){const m=an(r[d]);sa(m)&&(s[m]=ae)}else if(r)for(const d in r){const m=an(d);if(sa(m)){const g=r[d],f=s[m]=zt(g)||Wt(g)?{type:g}:_e({},g);if(f){const v=ca(Boolean,f.type),p=ca(String,f.type);f[0]=v>-1,f[1]=p<0||v<p,(v>-1||te(f,"default"))&&a.push(m)}}}const u=[s,a];return se(t)&&o.set(t,u),u}function sa(t){return t[0]!=="$"}function aa(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function la(t,e){return aa(t)===aa(e)}function ca(t,e){return zt(e)?e.findIndex(n=>la(n,t)):Wt(e)&&la(e,t)?0:-1}const kl=t=>t[0]==="_"||t==="$stable",Ss=t=>zt(t)?t.map(nn):[nn(t)],bd=(t,e,n)=>{if(e._n)return e;const o=Rt((...i)=>Ss(e(...i)),n);return o._c=!1,o},Dl=(t,e,n)=>{const o=t._ctx;for(const i in t){if(kl(i))continue;const r=t[i];if(Wt(r))e[i]=bd(i,r,o);else if(r!=null){const s=Ss(r);e[i]=()=>s}}},$l=(t,e)=>{const n=Ss(e);t.slots.default=()=>n},_d=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Jt(e),zi(e,"_",n)):Dl(e,t.slots={})}else t.slots={},e&&$l(t,e);zi(t.slots,sr,1)},wd=(t,e,n)=>{const{vnode:o,slots:i}=t;let r=!0,s=ae;if(o.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(_e(i,e),!n&&a===1&&delete i._):(r=!e.$stable,Dl(e,i)),s=e}else e&&($l(t,e),s={default:1});if(r)for(const a in i)!kl(a)&&!(a in s)&&delete i[a]};function Xr(t,e,n,o,i=!1){if(zt(t)){t.forEach((g,f)=>Xr(g,e&&(zt(e)?e[f]:e),n,o,i));return}if(Do(o)&&!i)return;const r=o.shapeFlag&4?ar(o.component)||o.component.proxy:o.el,s=i?null:r,{i:a,r:l}=t,u=e&&e.r,d=a.refs===ae?a.refs={}:a.refs,m=a.setupState;if(u!=null&&u!==l&&(ge(u)?(d[u]=null,te(m,u)&&(m[u]=null)):fe(u)&&(u.value=null)),Wt(l))Pn(l,a,12,[s,d]);else{const g=ge(l),f=fe(l);if(g||f){const v=()=>{if(t.f){const p=g?te(m,l)?m[l]:d[l]:l.value;i?zt(p)&&as(p,r):zt(p)?p.includes(r)||p.push(r):g?(d[l]=[r],te(m,l)&&(m[l]=d[l])):(l.value=[r],t.k&&(d[t.k]=l.value))}else g?(d[l]=s,te(m,l)&&(m[l]=s)):f&&(l.value=s,t.k&&(d[t.k]=s))};s?(v.id=-1,Ae(v,n)):v()}}}const Ae=Gu;function Cd(t){return Sd(t)}function Sd(t,e){const n=Rr();n.__VUE__=!0;const{insert:o,remove:i,patchProp:r,createElement:s,createText:a,createComment:l,setText:u,setElementText:d,parentNode:m,nextSibling:g,setScopeId:f=Xe,insertStaticContent:v}=t,p=(T,R,c,B=null,M=null,C=null,_=!1,x=null,q=!!R.dynamicChildren)=>{if(T===R)return;T&&!Fn(T,R)&&(B=Yt(T),G(T,M,C,!0),T=null),R.patchFlag===-2&&(q=!1,R.dynamicChildren=null);const{type:j,ref:V,shapeFlag:tt}=R;switch(j){case rr:y(T,R,c,B);break;case He:b(T,R,c,B);break;case Mr:T==null&&S(R,c,B,_);break;case Xt:I(T,R,c,B,M,C,_,x,q);break;default:tt&1?N(T,R,c,B,M,C,_,x,q):tt&6?E(T,R,c,B,M,C,_,x,q):(tt&64||tt&128)&&j.process(T,R,c,B,M,C,_,x,q,Lt)}V!=null&&M&&Xr(V,T&&T.ref,C,R||T,!R)},y=(T,R,c,B)=>{if(T==null)o(R.el=a(R.children),c,B);else{const M=R.el=T.el;R.children!==T.children&&u(M,R.children)}},b=(T,R,c,B)=>{T==null?o(R.el=l(R.children||""),c,B):R.el=T.el},S=(T,R,c,B)=>{[T.el,T.anchor]=v(T.children,R,c,B,T.el,T.anchor)},P=({el:T,anchor:R},c,B)=>{let M;for(;T&&T!==R;)M=g(T),o(T,c,B),T=M;o(R,c,B)},A=({el:T,anchor:R})=>{let c;for(;T&&T!==R;)c=g(T),i(T),T=c;i(R)},N=(T,R,c,B,M,C,_,x,q)=>{_=_||R.type==="svg",T==null?H(R,c,B,M,C,_,x,q):k(T,R,M,C,_,x,q)},H=(T,R,c,B,M,C,_,x)=>{let q,j;const{type:V,props:tt,shapeFlag:rt,transition:nt,dirs:mt}=T;if(q=T.el=s(T.type,C,tt&&tt.is,tt),rt&8?d(q,T.children):rt&16&&D(T.children,q,null,B,M,C&&V!=="foreignObject",_,x),mt&&Mn(T,null,B,"created"),L(q,T,T.scopeId,_,B),tt){for(const Ot in tt)Ot!=="value"&&!$i(Ot)&&r(q,Ot,null,tt[Ot],C,T.children,B,M,jt);"value"in tt&&r(q,"value",null,tt.value),(j=tt.onVnodeBeforeMount)&&en(j,B,T)}mt&&Mn(T,null,B,"beforeMount");const Dt=(!M||M&&!M.pendingBranch)&&nt&&!nt.persisted;Dt&&nt.beforeEnter(q),o(q,R,c),((j=tt&&tt.onVnodeMounted)||Dt||mt)&&Ae(()=>{j&&en(j,B,T),Dt&&nt.enter(q),mt&&Mn(T,null,B,"mounted")},M)},L=(T,R,c,B,M)=>{if(c&&f(T,c),B)for(let C=0;C<B.length;C++)f(T,B[C]);if(M){let C=M.subTree;if(R===C){const _=M.vnode;L(T,_,_.scopeId,_.slotScopeIds,M.parent)}}},D=(T,R,c,B,M,C,_,x,q=0)=>{for(let j=q;j<T.length;j++){const V=T[j]=x?En(T[j]):nn(T[j]);p(null,V,R,c,B,M,C,_,x)}},k=(T,R,c,B,M,C,_)=>{const x=R.el=T.el;let{patchFlag:q,dynamicChildren:j,dirs:V}=R;q|=T.patchFlag&16;const tt=T.props||ae,rt=R.props||ae;let nt;c&&Nn(c,!1),(nt=rt.onVnodeBeforeUpdate)&&en(nt,c,R,T),V&&Mn(R,T,c,"beforeUpdate"),c&&Nn(c,!0);const mt=M&&R.type!=="foreignObject";if(j?Y(T.dynamicChildren,j,x,c,B,mt,C):_||_t(T,R,x,null,c,B,mt,C,!1),q>0){if(q&16)U(x,R,tt,rt,c,B,M);else if(q&2&&tt.class!==rt.class&&r(x,"class",null,rt.class,M),q&4&&r(x,"style",tt.style,rt.style,M),q&8){const Dt=R.dynamicProps;for(let Ot=0;Ot<Dt.length;Ot++){const Gt=Dt[Ot],le=tt[Gt],Zt=rt[Gt];(Zt!==le||Gt==="value")&&r(x,Gt,le,Zt,M,T.children,c,B,jt)}}q&1&&T.children!==R.children&&d(x,R.children)}else!_&&j==null&&U(x,R,tt,rt,c,B,M);((nt=rt.onVnodeUpdated)||V)&&Ae(()=>{nt&&en(nt,c,R,T),V&&Mn(R,T,c,"updated")},B)},Y=(T,R,c,B,M,C,_)=>{for(let x=0;x<R.length;x++){const q=T[x],j=R[x],V=q.el&&(q.type===Xt||!Fn(q,j)||q.shapeFlag&70)?m(q.el):c;p(q,j,V,null,B,M,C,_,!0)}},U=(T,R,c,B,M,C,_)=>{if(c!==B){if(c!==ae)for(const x in c)!$i(x)&&!(x in B)&&r(T,x,c[x],null,_,R.children,M,C,jt);for(const x in B){if($i(x))continue;const q=B[x],j=c[x];q!==j&&x!=="value"&&r(T,x,j,q,_,R.children,M,C,jt)}"value"in B&&r(T,"value",c.value,B.value)}},I=(T,R,c,B,M,C,_,x,q)=>{const j=R.el=T?T.el:a(""),V=R.anchor=T?T.anchor:a("");let{patchFlag:tt,dynamicChildren:rt,slotScopeIds:nt}=R;nt&&(x=x?x.concat(nt):nt),T==null?(o(j,c,B),o(V,c,B),D(R.children,c,V,M,C,_,x,q)):tt>0&&tt&64&&rt&&T.dynamicChildren?(Y(T.dynamicChildren,rt,c,M,C,_,x),(R.key!=null||M&&R===M.subTree)&&Tl(T,R,!0)):_t(T,R,c,V,M,C,_,x,q)},E=(T,R,c,B,M,C,_,x,q)=>{R.slotScopeIds=x,T==null?R.shapeFlag&512?M.ctx.activate(R,c,B,_,q):h(R,c,B,M,C,_,q):Z(T,R,q)},h=(T,R,c,B,M,C,_)=>{const x=T.component=Dd(T,B,M);if(er(T)&&(x.ctx.renderer=Lt),Td(x),x.asyncDep){if(M&&M.registerDep(x,at),!T.el){const q=x.subTree=dt(He);b(null,q,R,c)}return}at(x,T,R,c,M,C,_)},Z=(T,R,c)=>{const B=R.component=T.component;if(Hu(T,R,c))if(B.asyncDep&&!B.asyncResolved){J(B,R,c);return}else B.next=R,Bu(B.update),B.update();else R.el=T.el,B.vnode=R},at=(T,R,c,B,M,C,_)=>{const x=()=>{if(T.isMounted){let{next:V,bu:tt,u:rt,parent:nt,vnode:mt}=T,Dt=V,Ot;Nn(T,!1),V?(V.el=mt.el,J(T,V,_)):V=mt,tt&&Ti(tt),(Ot=V.props&&V.props.onVnodeBeforeUpdate)&&en(Ot,nt,V,mt),Nn(T,!0);const Gt=Tr(T),le=T.subTree;T.subTree=Gt,p(le,Gt,m(le.el),Yt(le),T,M,C),V.el=Gt.el,Dt===null&&Uu(T,Gt.el),rt&&Ae(rt,M),(Ot=V.props&&V.props.onVnodeUpdated)&&Ae(()=>en(Ot,nt,V,mt),M)}else{let V;const{el:tt,props:rt}=R,{bm:nt,m:mt,parent:Dt}=T,Ot=Do(R);if(Nn(T,!1),nt&&Ti(nt),!Ot&&(V=rt&&rt.onVnodeBeforeMount)&&en(V,Dt,R),Nn(T,!0),tt&&qt){const Gt=()=>{T.subTree=Tr(T),qt(tt,T.subTree,T,M,null)};Ot?R.type.__asyncLoader().then(()=>!T.isUnmounted&&Gt()):Gt()}else{const Gt=T.subTree=Tr(T);p(null,Gt,c,B,T,M,C),R.el=Gt.el}if(mt&&Ae(mt,M),!Ot&&(V=rt&&rt.onVnodeMounted)){const Gt=R;Ae(()=>en(V,Dt,Gt),M)}(R.shapeFlag&256||Dt&&Do(Dt.vnode)&&Dt.vnode.shapeFlag&256)&&T.a&&Ae(T.a,M),T.isMounted=!0,R=c=B=null}},q=T.effect=new ds(x,()=>ys(j),T.scope),j=T.update=()=>q.run();j.id=T.uid,Nn(T,!0),j()},J=(T,R,c)=>{R.component=T;const B=T.vnode.props;T.vnode=R,T.next=null,yd(T,R.props,B,c),wd(T,R.children,c),bo(),Js(),_o()},_t=(T,R,c,B,M,C,_,x,q=!1)=>{const j=T&&T.children,V=T?T.shapeFlag:0,tt=R.children,{patchFlag:rt,shapeFlag:nt}=R;if(rt>0){if(rt&128){ft(j,tt,c,B,M,C,_,x,q);return}else if(rt&256){it(j,tt,c,B,M,C,_,x,q);return}}nt&8?(V&16&&jt(j,M,C),tt!==j&&d(c,tt)):V&16?nt&16?ft(j,tt,c,B,M,C,_,x,q):jt(j,M,C,!0):(V&8&&d(c,""),nt&16&&D(tt,c,B,M,C,_,x,q))},it=(T,R,c,B,M,C,_,x,q)=>{T=T||lo,R=R||lo;const j=T.length,V=R.length,tt=Math.min(j,V);let rt;for(rt=0;rt<tt;rt++){const nt=R[rt]=q?En(R[rt]):nn(R[rt]);p(T[rt],nt,c,null,M,C,_,x,q)}j>V?jt(T,M,C,!0,!1,tt):D(R,c,B,M,C,_,x,q,tt)},ft=(T,R,c,B,M,C,_,x,q)=>{let j=0;const V=R.length;let tt=T.length-1,rt=V-1;for(;j<=tt&&j<=rt;){const nt=T[j],mt=R[j]=q?En(R[j]):nn(R[j]);if(Fn(nt,mt))p(nt,mt,c,null,M,C,_,x,q);else break;j++}for(;j<=tt&&j<=rt;){const nt=T[tt],mt=R[rt]=q?En(R[rt]):nn(R[rt]);if(Fn(nt,mt))p(nt,mt,c,null,M,C,_,x,q);else break;tt--,rt--}if(j>tt){if(j<=rt){const nt=rt+1,mt=nt<V?R[nt].el:B;for(;j<=rt;)p(null,R[j]=q?En(R[j]):nn(R[j]),c,mt,M,C,_,x,q),j++}}else if(j>rt)for(;j<=tt;)G(T[j],M,C,!0),j++;else{const nt=j,mt=j,Dt=new Map;for(j=mt;j<=rt;j++){const oe=R[j]=q?En(R[j]):nn(R[j]);oe.key!=null&&Dt.set(oe.key,j)}let Ot,Gt=0;const le=rt-mt+1;let Zt=!1,be=0;const Tt=new Array(le);for(j=0;j<le;j++)Tt[j]=0;for(j=nt;j<=tt;j++){const oe=T[j];if(Gt>=le){G(oe,M,C,!0);continue}let ne;if(oe.key!=null)ne=Dt.get(oe.key);else for(Ot=mt;Ot<=rt;Ot++)if(Tt[Ot-mt]===0&&Fn(oe,R[Ot])){ne=Ot;break}ne===void 0?G(oe,M,C,!0):(Tt[ne-mt]=j+1,ne>=be?be=ne:Zt=!0,p(oe,R[ne],c,null,M,C,_,x,q),Gt++)}const Pt=Zt?Id(Tt):lo;for(Ot=Pt.length-1,j=le-1;j>=0;j--){const oe=mt+j,ne=R[oe],Te=oe+1<V?R[oe+1].el:B;Tt[j]===0?p(null,ne,c,Te,M,C,_,x,q):Zt&&(Ot<0||j!==Pt[Ot]?K(ne,c,Te,2):Ot--)}}},K=(T,R,c,B,M=null)=>{const{el:C,type:_,transition:x,children:q,shapeFlag:j}=T;if(j&6){K(T.component.subTree,R,c,B);return}if(j&128){T.suspense.move(R,c,B);return}if(j&64){_.move(T,R,c,Lt);return}if(_===Xt){o(C,R,c);for(let tt=0;tt<q.length;tt++)K(q[tt],R,c,B);o(T.anchor,R,c);return}if(_===Mr){P(T,R,c);return}if(B!==2&&j&1&&x)if(B===0)x.beforeEnter(C),o(C,R,c),Ae(()=>x.enter(C),M);else{const{leave:tt,delayLeave:rt,afterLeave:nt}=x,mt=()=>o(C,R,c),Dt=()=>{tt(C,()=>{mt(),nt&&nt()})};rt?rt(C,mt,Dt):Dt()}else o(C,R,c)},G=(T,R,c,B=!1,M=!1)=>{const{type:C,props:_,ref:x,children:q,dynamicChildren:j,shapeFlag:V,patchFlag:tt,dirs:rt}=T;if(x!=null&&Xr(x,null,c,T,!0),V&256){R.ctx.deactivate(T);return}const nt=V&1&&rt,mt=!Do(T);let Dt;if(mt&&(Dt=_&&_.onVnodeBeforeUnmount)&&en(Dt,R,T),V&6)pt(T.component,c,B);else{if(V&128){T.suspense.unmount(c,B);return}nt&&Mn(T,null,R,"beforeUnmount"),V&64?T.type.remove(T,R,c,M,Lt,B):j&&(C!==Xt||tt>0&&tt&64)?jt(j,R,c,!1,!0):(C===Xt&&tt&384||!M&&V&16)&&jt(q,R,c),B&&Ct(T)}(mt&&(Dt=_&&_.onVnodeUnmounted)||nt)&&Ae(()=>{Dt&&en(Dt,R,T),nt&&Mn(T,null,R,"unmounted")},c)},Ct=T=>{const{type:R,el:c,anchor:B,transition:M}=T;if(R===Xt){ct(c,B);return}if(R===Mr){A(T);return}const C=()=>{i(c),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(T.shapeFlag&1&&M&&!M.persisted){const{leave:_,delayLeave:x}=M,q=()=>_(c,C);x?x(T.el,C,q):q()}else C()},ct=(T,R)=>{let c;for(;T!==R;)c=g(T),i(T),T=c;i(R)},pt=(T,R,c)=>{const{bum:B,scope:M,update:C,subTree:_,um:x}=T;B&&Ti(B),M.stop(),C&&(C.active=!1,G(_,T,R,c)),x&&Ae(x,R),Ae(()=>{T.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},jt=(T,R,c,B=!1,M=!1,C=0)=>{for(let _=C;_<T.length;_++)G(T[_],R,c,B,M)},Yt=T=>T.shapeFlag&6?Yt(T.component.subTree):T.shapeFlag&128?T.suspense.next():g(T.anchor||T.el),Bt=(T,R,c)=>{T==null?R._vnode&&G(R._vnode,null,null,!0):p(R._vnode||null,T,R,null,null,null,c),Js(),hl(),R._vnode=T},Lt={p,um:G,m:K,r:Ct,mt:h,mc:D,pc:_t,pbc:Y,n:Yt,o:t};let Ht,qt;return e&&([Ht,qt]=e(Lt)),{render:Bt,hydrate:Ht,createApp:pd(Bt,Ht)}}function Nn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Tl(t,e,n=!1){const o=t.children,i=e.children;if(zt(o)&&zt(i))for(let r=0;r<o.length;r++){const s=o[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=En(i[r]),a.el=s.el),n||Tl(s,a)),a.type===rr&&(a.el=s.el)}}function Id(t){const e=t.slice(),n=[0];let o,i,r,s,a;const l=t.length;for(o=0;o<l;o++){const u=t[o];if(u!==0){if(i=n[n.length-1],t[i]<u){e[o]=i,n.push(o);continue}for(r=0,s=n.length-1;r<s;)a=r+s>>1,t[n[a]]<u?r=a+1:s=a;u<t[n[r]]&&(r>0&&(e[o]=n[r-1]),n[r]=o)}}for(r=n.length,s=n[r-1];r-- >0;)n[r]=s,s=e[s];return n}const Ed=t=>t.__isTeleport,Xt=Symbol.for("v-fgt"),rr=Symbol.for("v-txt"),He=Symbol.for("v-cmt"),Mr=Symbol.for("v-stc"),Ao=[];let Ke=null;function Q(t=!1){Ao.push(Ke=t?null:[])}function xd(){Ao.pop(),Ke=Ao[Ao.length-1]||null}let jo=1;function ua(t){jo+=t}function Al(t){return t.dynamicChildren=jo>0?Ke||lo:null,xd(),jo>0&&Ke&&Ke.push(t),t}function ht(t,e,n,o,i,r){return Al(bt(t,e,n,o,i,r,!0))}function Mt(t,e,n,o,i){return Al(dt(t,e,n,o,i,!0))}function Vi(t){return t?t.__v_isVNode===!0:!1}function Fn(t,e){return t.type===e.type&&t.key===e.key}const sr="__vInternal",zl=({key:t})=>t??null,Ai=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ge(t)||fe(t)||Wt(t)?{i:Ie,r:t,k:e,f:!!n}:t:null);function bt(t,e=null,n=null,o=0,i=null,r=t===Xt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&zl(e),ref:e&&Ai(e),scopeId:gl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ie};return a?(xs(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=ge(n)?8:16),jo>0&&!s&&Ke&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ke.push(l),l}const dt=Od;function Od(t,e=null,n=null,o=0,i=null,r=!1){if((!t||t===Cl)&&(t=He),Vi(t)){const a=Dn(t,e,!0);return n&&xs(a,n),jo>0&&!r&&Ke&&(a.shapeFlag&6?Ke[Ke.indexOf(t)]=a:Ke.push(a)),a.patchFlag|=-2,a}if(Bd(t)&&(t=t.__vccOpts),e){e=Is(e);let{class:a,style:l}=e;a&&!ge(a)&&(e.class=Qt(a)),se(l)&&(sl(l)&&!zt(l)&&(l=_e({},l)),e.style=ee(l))}const s=ge(t)?1:Wu(t)?128:Ed(t)?64:se(t)?4:Wt(t)?2:0;return bt(t,e,n,o,i,s,r,!0)}function Is(t){return t?sl(t)||sr in t?_e({},t):t:null}function Dn(t,e,n=!1){const{props:o,ref:i,patchFlag:r,children:s}=t,a=e?Ml(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&zl(a),ref:e&&e.ref?n&&i?zt(i)?i.concat(Ai(e)):[i,Ai(e)]:Ai(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xt?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dn(t.ssContent),ssFallback:t.ssFallback&&Dn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Es(t=" ",e=0){return dt(rr,null,t,e)}function de(t="",e=!1){return e?(Q(),Mt(He,null,t)):dt(He,null,t)}function nn(t){return t==null||typeof t=="boolean"?dt(He):zt(t)?dt(Xt,null,t.slice()):typeof t=="object"?En(t):dt(rr,null,String(t))}function En(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dn(t)}function xs(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(zt(e))n=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),xs(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(sr in e)?e._ctx=Ie:i===3&&Ie&&(Ie.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Wt(e)?(e={default:e,_ctx:Ie},n=32):(e=String(e),o&64?(n=16,e=[Es(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ml(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=Qt([e.class,o.class]));else if(i==="style")e.style=ee([e.style,o.style]);else if(qi(i)){const r=e[i],s=o[i];s&&r!==s&&!(zt(r)&&r.includes(s))&&(e[i]=r?[].concat(r,s):s)}else i!==""&&(e[i]=o[i])}return e}function en(t,e,n,o=null){je(t,e,7,[n,o])}const Pd=xl();let kd=0;function Dd(t,e,n){const o=t.type,i=(e?e.appContext:t.appContext)||Pd,r={uid:kd++,vnode:t,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ga(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pl(o,i),emitsOptions:ml(o,i),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:o.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Fu.bind(null,r),t.ce&&t.ce(r),r}let we=null;const $d=()=>we||Ie;let Os,io,da="__VUE_INSTANCE_SETTERS__";(io=Rr()[da])||(io=Rr()[da]=[]),io.push(t=>we=t),Os=t=>{io.length>1?io.forEach(e=>e(t)):io[0](t)};const mo=t=>{Os(t),t.scope.on()},Un=()=>{we&&we.scope.off(),Os(null)};function Nl(t){return t.vnode.shapeFlag&4}let Ho=!1;function Td(t,e=!1){Ho=e;const{props:n,children:o}=t.vnode,i=Nl(t);vd(t,n,i,e),_d(t,o);const r=i?Ad(t,e):void 0;return Ho=!1,r}function Ad(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ji(new Proxy(t.ctx,ad));const{setup:o}=n;if(o){const i=t.setupContext=o.length>1?Md(t):null;mo(t),bo();const r=Pn(o,t,0,[t.props,i]);if(_o(),Un(),Fa(r)){if(r.then(Un,Un),e)return r.then(s=>{fa(t,s,e)}).catch(s=>{Qi(s,t,0)});t.asyncDep=r}else fa(t,r,e)}else Bl(t,e)}function fa(t,e,n){Wt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:se(e)&&(t.setupState=cl(e)),Bl(t,n)}let ha;function Bl(t,e,n){const o=t.type;if(!t.render){if(!e&&ha&&!o.render){const i=o.template||Cs(t).template;if(i){const{isCustomElement:r,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=o,u=_e(_e({isCustomElement:r,delimiters:a},s),l);o.render=ha(i,u)}}t.render=o.render||Xe}mo(t),bo(),ld(t),_o(),Un()}function zd(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ze(t,"get","$attrs"),e[n]}}))}function Md(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return zd(t)},slots:t.slots,emit:t.emit,expose:e}}function ar(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(cl(Ji(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in $o)return $o[n](t)},has(e,n){return n in e||n in $o}}))}function Nd(t,e=!0){return Wt(t)?t.displayName||t.name:t.name||e&&t.__name}function Bd(t){return Wt(t)&&"__vccOpts"in t}const Kt=(t,e)=>zu(t,e,Ho);function Ps(t,e,n){const o=arguments.length;return o===2?se(e)&&!zt(e)?Vi(e)?dt(t,null,[e]):dt(t,e):dt(t,null,e):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Vi(n)&&(n=[n]),dt(t,e,n))}const Ld=Symbol.for("v-scx"),Rd=()=>To(Ld),Fd="3.3.4",Vd="http://www.w3.org/2000/svg",Vn=typeof document<"u"?document:null,pa=Vn&&Vn.createElement("template"),jd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,o)=>{const i=e?Vn.createElementNS(Vd,t):Vn.createElement(t,n?{is:n}:void 0);return t==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:t=>Vn.createTextNode(t),createComment:t=>Vn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,o,i,r){const s=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{pa.innerHTML=o?`<svg>${t}</svg>`:t;const a=pa.content;if(o){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Hd(t,e,n){const o=t._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Ud(t,e,n){const o=t.style,i=ge(n);if(n&&!i){if(e&&!ge(e))for(const r in e)n[r]==null&&Yr(o,r,"");for(const r in n)Yr(o,r,n[r])}else{const r=o.display;i?e!==n&&(o.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(o.display=r)}}const ma=/\s*!important$/;function Yr(t,e,n){if(zt(n))n.forEach(o=>Yr(t,e,o));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=Wd(t,e);ma.test(n)?t.setProperty(Gn(o),n.replace(ma,""),"important"):t[o]=n}}const ga=["Webkit","Moz","ms"],Nr={};function Wd(t,e){const n=Nr[e];if(n)return n;let o=an(e);if(o!=="filter"&&o in t)return Nr[e]=o;o=Ki(o);for(let i=0;i<ga.length;i++){const r=ga[i]+o;if(r in t)return Nr[e]=r}return e}const va="http://www.w3.org/1999/xlink";function Gd(t,e,n,o,i){if(o&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(va,e.slice(6,e.length)):t.setAttributeNS(va,e,n);else{const r=qc(e);n==null||r&&!Ua(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function qd(t,e,n,o,i,r,s){if(e==="innerHTML"||e==="textContent"){o&&s(o,i,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,d=n??"";u!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Ua(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function un(t,e,n,o){t.addEventListener(e,n,o)}function Zd(t,e,n,o){t.removeEventListener(e,n,o)}function Kd(t,e,n,o,i=null){const r=t._vei||(t._vei={}),s=r[e];if(o&&s)s.value=o;else{const[a,l]=Xd(e);if(o){const u=r[e]=Qd(o,i);un(t,a,u,l)}else s&&(Zd(t,a,s,l),r[e]=void 0)}}const ya=/(?:Once|Passive|Capture)$/;function Xd(t){let e;if(ya.test(t)){e={};let o;for(;o=t.match(ya);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gn(t.slice(2)),e]}let Br=0;const Yd=Promise.resolve(),Jd=()=>Br||(Yd.then(()=>Br=0),Br=Date.now());function Qd(t,e){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;je(tf(o,n.value),e,5,[o])};return n.value=t,n.attached=Jd(),n}function tf(t,e){if(zt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const ba=/^on[a-z]/,ef=(t,e,n,o,i=!1,r,s,a,l)=>{e==="class"?Hd(t,o,i):e==="style"?Ud(t,n,o):qi(e)?ss(e)||Kd(t,e,n,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nf(t,e,o,i))?qd(t,e,o,r,s,a,l):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),Gd(t,e,o,i))};function nf(t,e,n,o){return o?!!(e==="innerHTML"||e==="textContent"||e in t&&ba.test(e)&&Wt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ba.test(e)&&ge(n)?!1:e in t}const Cn="transition",Oo="animation",Xo=(t,{slots:e})=>Ps(Xu,of(t),e);Xo.displayName="Transition";const Ll={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Xo.props=_e({},yl,Ll);const Bn=(t,e=[])=>{zt(t)?t.forEach(n=>n(...e)):t&&t(...e)},_a=t=>t?zt(t)?t.some(e=>e.length>1):t.length>1:!1;function of(t){const e={};for(const I in t)I in Ll||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:o,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=s,appearToClass:d=a,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,v=rf(i),p=v&&v[0],y=v&&v[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:P,onLeave:A,onLeaveCancelled:N,onBeforeAppear:H=b,onAppear:L=S,onAppearCancelled:D=P}=e,k=(I,E,h)=>{Ln(I,E?d:a),Ln(I,E?u:s),h&&h()},Y=(I,E)=>{I._isLeaving=!1,Ln(I,m),Ln(I,f),Ln(I,g),E&&E()},U=I=>(E,h)=>{const Z=I?L:S,at=()=>k(E,I,h);Bn(Z,[E,at]),wa(()=>{Ln(E,I?l:r),Sn(E,I?d:a),_a(Z)||Ca(E,o,p,at)})};return _e(e,{onBeforeEnter(I){Bn(b,[I]),Sn(I,r),Sn(I,s)},onBeforeAppear(I){Bn(H,[I]),Sn(I,l),Sn(I,u)},onEnter:U(!1),onAppear:U(!0),onLeave(I,E){I._isLeaving=!0;const h=()=>Y(I,E);Sn(I,m),lf(),Sn(I,g),wa(()=>{I._isLeaving&&(Ln(I,m),Sn(I,f),_a(A)||Ca(I,o,y,h))}),Bn(A,[I,h])},onEnterCancelled(I){k(I,!1),Bn(P,[I])},onAppearCancelled(I){k(I,!0),Bn(D,[I])},onLeaveCancelled(I){Y(I),Bn(N,[I])}})}function rf(t){if(t==null)return null;if(se(t))return[Lr(t.enter),Lr(t.leave)];{const e=Lr(t);return[e,e]}}function Lr(t){return Vc(t)}function Sn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Ln(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function wa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let sf=0;function Ca(t,e,n,o){const i=t._endId=++sf,r=()=>{i===t._endId&&o()};if(n)return setTimeout(r,n);const{type:s,timeout:a,propCount:l}=af(t,e);if(!s)return o();const u=s+"end";let d=0;const m=()=>{t.removeEventListener(u,g),r()},g=f=>{f.target===t&&++d>=l&&m()};setTimeout(()=>{d<l&&m()},a+1),t.addEventListener(u,g)}function af(t,e){const n=window.getComputedStyle(t),o=v=>(n[v]||"").split(", "),i=o(`${Cn}Delay`),r=o(`${Cn}Duration`),s=Sa(i,r),a=o(`${Oo}Delay`),l=o(`${Oo}Duration`),u=Sa(a,l);let d=null,m=0,g=0;e===Cn?s>0&&(d=Cn,m=s,g=r.length):e===Oo?u>0&&(d=Oo,m=u,g=l.length):(m=Math.max(s,u),d=m>0?s>u?Cn:Oo:null,g=d?d===Cn?r.length:l.length:0);const f=d===Cn&&/\b(transform|all)(,|$)/.test(o(`${Cn}Property`).toString());return{type:d,timeout:m,propCount:g,hasTransform:f}}function Sa(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,o)=>Ia(n)+Ia(t[o])))}function Ia(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function lf(){return document.body.offsetHeight}const $n=t=>{const e=t.props["onUpdate:modelValue"]||!1;return zt(e)?n=>Ti(e,n):e};function cf(t){t.target.composing=!0}function Ea(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xa={created(t,{modifiers:{lazy:e,trim:n,number:o}},i){t._assign=$n(i);const r=o||i.props&&i.props.type==="number";un(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Mi(a)),t._assign(a)}),n&&un(t,"change",()=>{t.value=t.value.trim()}),e||(un(t,"compositionstart",cf),un(t,"compositionend",Ea),un(t,"change",Ea))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:o,number:i}},r){if(t._assign=$n(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||o&&t.value.trim()===e||(i||t.type==="number")&&Mi(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},ks={deep:!0,created(t,e,n){t._assign=$n(n),un(t,"change",()=>{const o=t._modelValue,i=go(t),r=t.checked,s=t._assign;if(zt(o)){const a=cs(o,i),l=a!==-1;if(r&&!l)s(o.concat(i));else if(!r&&l){const u=[...o];u.splice(a,1),s(u)}}else if(yo(o)){const a=new Set(o);r?a.add(i):a.delete(i),s(a)}else s(Rl(t,r))})},mounted:Oa,beforeUpdate(t,e,n){t._assign=$n(n),Oa(t,e,n)}};function Oa(t,{value:e,oldValue:n},o){t._modelValue=e,zt(e)?t.checked=cs(e,o.props.value)>-1:yo(e)?t.checked=e.has(o.props.value):e!==n&&(t.checked=Wn(e,Rl(t,!0)))}const uf={created(t,{value:e},n){t.checked=Wn(e,n.props.value),t._assign=$n(n),un(t,"change",()=>{t._assign(go(t))})},beforeUpdate(t,{value:e,oldValue:n},o){t._assign=$n(o),e!==n&&(t.checked=Wn(e,o.props.value))}},Ds={deep:!0,created(t,{value:e,modifiers:{number:n}},o){const i=yo(e);un(t,"change",()=>{const r=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?Mi(go(s)):go(s));t._assign(t.multiple?i?new Set(r):r:r[0])}),t._assign=$n(o)},mounted(t,{value:e}){Pa(t,e)},beforeUpdate(t,e,n){t._assign=$n(n)},updated(t,{value:e}){Pa(t,e)}};function Pa(t,e){const n=t.multiple;if(!(n&&!zt(e)&&!yo(e))){for(let o=0,i=t.options.length;o<i;o++){const r=t.options[o],s=go(r);if(n)zt(e)?r.selected=cs(e,s)>-1:r.selected=e.has(s);else if(Wn(go(r),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function go(t){return"_value"in t?t._value:t.value}function Rl(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Fl={created(t,e,n){Oi(t,e,n,null,"created")},mounted(t,e,n){Oi(t,e,n,null,"mounted")},beforeUpdate(t,e,n,o){Oi(t,e,n,o,"beforeUpdate")},updated(t,e,n,o){Oi(t,e,n,o,"updated")}};function df(t,e){switch(t){case"SELECT":return Ds;case"TEXTAREA":return xa;default:switch(e){case"checkbox":return ks;case"radio":return uf;default:return xa}}}function Oi(t,e,n,o,i){const s=df(t.tagName,n.props&&n.props.type)[i];s&&s(t,e,n,o)}const ff=["ctrl","shift","alt","meta"],hf={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ff.some(n=>t[`${n}Key`]&&!e.includes(n))},Tn=(t,e)=>(n,...o)=>{for(let i=0;i<e.length;i++){const r=hf[e[i]];if(r&&r(n,e))return}return t(n,...o)},pf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ao=(t,e)=>n=>{if(!("key"in n))return;const o=Gn(n.key);if(e.some(i=>i===o||pf[i]===o))return t(n)},mf=_e({patchProp:ef},jd);let ka;function gf(){return ka||(ka=Cd(mf))}const vf=(...t)=>{const e=gf().createApp(...t),{mount:n}=e;return e.mount=o=>{const i=yf(o);if(!i)return;const r=e._component;!Wt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function yf(t){return ge(t)?document.querySelector(t):t}var bf=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Vl;const lr=t=>Vl=t,jl=Symbol();function Jr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zo||(zo={}));function _f(){const t=qa(!0),e=t.run(()=>Vt({}));let n=[],o=[];const i=Ji({install(r){lr(i),i._a=r,r.provide(jl,i),r.config.globalProperties.$pinia=i,o.forEach(s=>n.push(s)),o=[]},use(r){return!this._a&&!bf?o.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Hl=()=>{};function Da(t,e,n,o=Hl){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),o())};return!n&&Za()&&Xc(i),i}function ro(t,...e){t.slice().forEach(n=>{n(...e)})}const wf=t=>t();function Qr(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,o)=>t.set(o,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],i=t[n];Jr(i)&&Jr(o)&&t.hasOwnProperty(n)&&!fe(o)&&!dn(o)?t[n]=Qr(i,o):t[n]=o}return t}const Cf=Symbol();function Sf(t){return!Jr(t)||!t.hasOwnProperty(Cf)}const{assign:In}=Object;function If(t){return!!(fe(t)&&t.effect)}function Ef(t,e,n,o){const{state:i,actions:r,getters:s}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const d=ku(n.state.value[t]);return In(d,r,Object.keys(s||{}).reduce((m,g)=>(m[g]=Ji(Kt(()=>{lr(n);const f=n._s.get(t);return s[g].call(f,f)})),m),{}))}return l=Ul(t,u,e,n,o,!0),l}function Ul(t,e,n={},o,i,r){let s;const a=In({actions:{}},n),l={deep:!0};let u,d,m=[],g=[],f;const v=o.state.value[t];!r&&!v&&(o.state.value[t]={}),Vt({});let p;function y(D){let k;u=d=!1,typeof D=="function"?(D(o.state.value[t]),k={type:zo.patchFunction,storeId:t,events:f}):(Qr(o.state.value[t],D),k={type:zo.patchObject,payload:D,storeId:t,events:f});const Y=p=Symbol();Ko().then(()=>{p===Y&&(u=!0)}),d=!0,ro(m,k,o.state.value[t])}const b=r?function(){const{state:k}=n,Y=k?k():{};this.$patch(U=>{In(U,Y)})}:Hl;function S(){s.stop(),m=[],g=[],o._s.delete(t)}function P(D,k){return function(){lr(o);const Y=Array.from(arguments),U=[],I=[];function E(at){U.push(at)}function h(at){I.push(at)}ro(g,{args:Y,name:D,store:N,after:E,onError:h});let Z;try{Z=k.apply(this&&this.$id===t?this:N,Y)}catch(at){throw ro(I,at),at}return Z instanceof Promise?Z.then(at=>(ro(U,at),at)).catch(at=>(ro(I,at),Promise.reject(at))):(ro(U,Z),Z)}}const A={_p:o,$id:t,$onAction:Da.bind(null,g),$patch:y,$reset:b,$subscribe(D,k={}){const Y=Da(m,D,k.detached,()=>U()),U=s.run(()=>fn(()=>o.state.value[t],I=>{(k.flush==="sync"?d:u)&&D({storeId:t,type:zo.direct,events:f},I)},In({},l,k)));return Y},$dispose:S},N=Yi(A);o._s.set(t,N);const H=o._a&&o._a.runWithContext||wf,L=o._e.run(()=>(s=qa(),H(()=>s.run(e))));for(const D in L){const k=L[D];if(fe(k)&&!If(k)||dn(k))r||(v&&Sf(k)&&(fe(k)?k.value=v[D]:Qr(k,v[D])),o.state.value[t][D]=k);else if(typeof k=="function"){const Y=P(D,k);L[D]=Y,a.actions[D]=k}}return In(N,L),In(Jt(N),L),Object.defineProperty(N,"$state",{get:()=>o.state.value[t],set:D=>{y(k=>{In(k,D)})}}),o._p.forEach(D=>{In(N,s.run(()=>D({store:N,app:o._a,pinia:o,options:a})))}),v&&r&&n.hydrate&&n.hydrate(N.$state,v),u=!0,d=!0,N}function cr(t,e,n){let o,i;const r=typeof e=="function";typeof t=="string"?(o=t,i=r?n:e):(i=t,o=t.id);function s(a,l){const u=gd();return a=a||(u?To(jl,null):null),a&&lr(a),a=Vl,a._s.has(o)||(r?Ul(o,e,i,a):Ef(o,i,a)),a._s.get(o)}return s.$id=o,s}function ji(t){{t=Jt(t);const e={};for(const n in t){const o=t[n];(fe(o)||dn(o))&&(e[n]=Tu(t,n))}return e}}/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var xf={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M464 16c-17.67 0-32 14.31-32 32v74.09C392.1 66.52 327.4 32 256 32C161.5 32 78.59 92.34 49.58 182.2c-5.438 16.81 3.797 34.88 20.61 40.28c16.89 5.5 34.88-3.812 40.3-20.59C130.9 138.5 189.4 96 256 96c50.5 0 96.26 24.55 124.4 64H336c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32V48C496 30.31 481.7 16 464 16zM441.8 289.6c-16.92-5.438-34.88 3.812-40.3 20.59C381.1 373.5 322.6 416 256 416c-50.5 0-96.25-24.55-124.4-64H176c17.67 0 32-14.31 32-32s-14.33-32-32-32h-128c-17.67 0-32 14.31-32 32v144c0 17.69 14.33 32 32 32s32-14.31 32-32v-74.09C119.9 445.5 184.6 480 255.1 480c94.45 0 177.4-60.34 206.4-150.2C467.9 313 458.6 294.1 441.8 289.6z"]},Wl={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM99.5 144.8C77.15 176.1 64 214.5 64 256C64 362 149.1 448 256 448C297.5 448 335.9 434.9 367.2 412.5L99.5 144.8zM448 256C448 149.1 362 64 256 64C214.5 64 176.1 77.15 144.8 99.5L412.5 367.2C434.9 335.9 448 297.5 448 256V256z"]},Of={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"]},Pf={prefix:"fas",iconName:"bug",icon:[512,512,[],"f188","M352 96V99.56C352 115.3 339.3 128 323.6 128H188.4C172.7 128 159.1 115.3 159.1 99.56V96C159.1 42.98 202.1 0 255.1 0C309 0 352 42.98 352 96zM41.37 105.4C53.87 92.88 74.13 92.88 86.63 105.4L150.6 169.4C151.3 170 151.9 170.7 152.5 171.4C166.8 164.1 182.9 160 199.1 160H312C329.1 160 345.2 164.1 359.5 171.4C360.1 170.7 360.7 170 361.4 169.4L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L406.6 214.6C405.1 215.3 405.3 215.9 404.6 216.5C410.7 228.5 414.6 241.9 415.7 256H480C497.7 256 512 270.3 512 288C512 305.7 497.7 320 480 320H416C416 344.6 410.5 367.8 400.6 388.6C402.7 389.9 404.8 391.5 406.6 393.4L470.6 457.4C483.1 469.9 483.1 490.1 470.6 502.6C458.1 515.1 437.9 515.1 425.4 502.6L362.3 439.6C337.8 461.4 306.5 475.8 272 479.2V240C272 231.2 264.8 224 255.1 224C247.2 224 239.1 231.2 239.1 240V479.2C205.5 475.8 174.2 461.4 149.7 439.6L86.63 502.6C74.13 515.1 53.87 515.1 41.37 502.6C28.88 490.1 28.88 469.9 41.37 457.4L105.4 393.4C107.2 391.5 109.3 389.9 111.4 388.6C101.5 367.8 96 344.6 96 320H32C14.33 320 0 305.7 0 288C0 270.3 14.33 256 32 256H96.3C97.38 241.9 101.3 228.5 107.4 216.5C106.7 215.9 106 215.3 105.4 214.6L41.37 150.6C28.88 138.1 28.88 117.9 41.37 105.4H41.37z"]},Gl={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},ql={prefix:"fas",iconName:"code-branch",icon:[448,512,[],"f126","M160 80C160 112.8 140.3 140.1 112 153.3V241.1C130.8 230.2 152.7 224 176 224H272C307.3 224 336 195.3 336 160V153.3C307.7 140.1 288 112.8 288 80C288 35.82 323.8 0 368 0C412.2 0 448 35.82 448 80C448 112.8 428.3 140.1 400 153.3V160C400 230.7 342.7 288 272 288H176C140.7 288 112 316.7 112 352V358.7C140.3 371 160 399.2 160 432C160 476.2 124.2 512 80 512C35.82 512 0 476.2 0 432C0 399.2 19.75 371 48 358.7V153.3C19.75 140.1 0 112.8 0 80C0 35.82 35.82 0 80 0C124.2 0 160 35.82 160 80V80zM80 104C93.25 104 104 93.25 104 80C104 66.75 93.25 56 80 56C66.75 56 56 66.75 56 80C56 93.25 66.75 104 80 104zM368 56C354.7 56 344 66.75 344 80C344 93.25 354.7 104 368 104C381.3 104 392 93.25 392 80C392 66.75 381.3 56 368 56zM80 456C93.25 456 104 445.3 104 432C104 418.7 93.25 408 80 408C66.75 408 56 418.7 56 432C56 445.3 66.75 456 80 456z"]},kf={prefix:"fas",iconName:"compress",icon:[448,512,[],"f066","M128 320H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32v-96C160 334.3 145.7 320 128 320zM416 320h-96c-17.69 0-32 14.31-32 32v96c0 17.69 14.31 32 32 32s32-14.31 32-32v-64h64c17.69 0 32-14.31 32-32S433.7 320 416 320zM320 192h96c17.69 0 32-14.31 32-32s-14.31-32-32-32h-64V64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96C288 177.7 302.3 192 320 192zM128 32C110.3 32 96 46.31 96 64v64H32C14.31 128 0 142.3 0 160s14.31 32 32 32h96c17.69 0 32-14.31 32-32V64C160 46.31 145.7 32 128 32z"]},Df={prefix:"fas",iconName:"eraser",icon:[512,512,[],"f12d","M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"]},$f={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M128 32H32C14.31 32 0 46.31 0 64v96c0 17.69 14.31 32 32 32s32-14.31 32-32V96h64c17.69 0 32-14.31 32-32S145.7 32 128 32zM416 32h-96c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32V64C448 46.31 433.7 32 416 32zM128 416H64v-64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96c0 17.69 14.31 32 32 32h96c17.69 0 32-14.31 32-32S145.7 416 128 416zM416 320c-17.69 0-32 14.31-32 32v64h-64c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c17.69 0 32-14.31 32-32v-96C448 334.3 433.7 320 416 320z"]},Zl={prefix:"fas",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H224V128C224 145.7 238.3 160 256 160H384V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM256 128V0L384 128H256z"]},Tf={prefix:"fas",iconName:"forward-step",icon:[320,512,["step-forward"],"f051","M287.1 447.1c17.67 0 31.1-14.33 31.1-32V96.03c0-17.67-14.33-32-32-32c-17.67 0-31.1 14.33-31.1 31.1v319.9C255.1 433.6 270.3 447.1 287.1 447.1zM52.51 440.6l192-159.1c7.625-6.436 11.43-15.53 11.43-24.62c0-9.094-3.809-18.18-11.43-24.62l-192-159.1C31.88 54.28 0 68.66 0 96.03v319.9C0 443.3 31.88 457.7 52.51 440.6z"]},Af={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M286.3 155.1C287.4 161.9 288 168.9 288 175.1C288 183.1 287.4 190.1 286.3 196.9L308.5 216.7C315.5 223 318.4 232.1 314.7 241.7C312.4 246.1 309.9 252.2 307.1 257.2L304 262.6C300.1 267.6 297.7 272.4 294.2 277.1C288.5 284.7 278.5 287.2 269.5 284.2L241.2 274.9C230.5 283.8 218.3 290.9 205 295.9L198.1 324.9C197 334.2 189.8 341.6 180.4 342.8C173.7 343.6 166.9 344 160 344C153.1 344 146.3 343.6 139.6 342.8C130.2 341.6 122.1 334.2 121 324.9L114.1 295.9C101.7 290.9 89.5 283.8 78.75 274.9L50.53 284.2C41.54 287.2 31.52 284.7 25.82 277.1C22.28 272.4 18.98 267.5 15.94 262.5L12.92 257.2C10.13 252.2 7.592 247 5.324 241.7C1.62 232.1 4.458 223 11.52 216.7L33.7 196.9C32.58 190.1 31.1 183.1 31.1 175.1C31.1 168.9 32.58 161.9 33.7 155.1L11.52 135.3C4.458 128.1 1.62 119 5.324 110.3C7.592 104.1 10.13 99.79 12.91 94.76L15.95 89.51C18.98 84.46 22.28 79.58 25.82 74.89C31.52 67.34 41.54 64.83 50.53 67.79L78.75 77.09C89.5 68.25 101.7 61.13 114.1 56.15L121 27.08C122.1 17.8 130.2 10.37 139.6 9.231C146.3 8.418 153.1 8 160 8C166.9 8 173.7 8.418 180.4 9.23C189.8 10.37 197 17.8 198.1 27.08L205 56.15C218.3 61.13 230.5 68.25 241.2 77.09L269.5 67.79C278.5 64.83 288.5 67.34 294.2 74.89C297.7 79.56 300.1 84.42 304 89.44L307.1 94.83C309.9 99.84 312.4 105 314.7 110.3C318.4 119 315.5 128.1 308.5 135.3L286.3 155.1zM160 127.1C133.5 127.1 112 149.5 112 175.1C112 202.5 133.5 223.1 160 223.1C186.5 223.1 208 202.5 208 175.1C208 149.5 186.5 127.1 160 127.1zM484.9 478.3C478.1 479.4 471.1 480 464 480C456.9 480 449.9 479.4 443.1 478.3L423.3 500.5C416.1 507.5 407 510.4 398.3 506.7C393 504.4 387.8 501.9 382.8 499.1L377.4 496C372.4 492.1 367.6 489.7 362.9 486.2C355.3 480.5 352.8 470.5 355.8 461.5L365.1 433.2C356.2 422.5 349.1 410.3 344.1 397L315.1 390.1C305.8 389 298.4 381.8 297.2 372.4C296.4 365.7 296 358.9 296 352C296 345.1 296.4 338.3 297.2 331.6C298.4 322.2 305.8 314.1 315.1 313L344.1 306.1C349.1 293.7 356.2 281.5 365.1 270.8L355.8 242.5C352.8 233.5 355.3 223.5 362.9 217.8C367.6 214.3 372.5 210.1 377.5 207.9L382.8 204.9C387.8 202.1 392.1 199.6 398.3 197.3C407 193.6 416.1 196.5 423.3 203.5L443.1 225.7C449.9 224.6 456.9 224 464 224C471.1 224 478.1 224.6 484.9 225.7L504.7 203.5C511 196.5 520.1 193.6 529.7 197.3C535 199.6 540.2 202.1 545.2 204.9L550.5 207.9C555.5 210.1 560.4 214.3 565.1 217.8C572.7 223.5 575.2 233.5 572.2 242.5L562.9 270.8C571.8 281.5 578.9 293.7 583.9 306.1L612.9 313C622.2 314.1 629.6 322.2 630.8 331.6C631.6 338.3 632 345.1 632 352C632 358.9 631.6 365.7 630.8 372.4C629.6 381.8 622.2 389 612.9 390.1L583.9 397C578.9 410.3 571.8 422.5 562.9 433.2L572.2 461.5C575.2 470.5 572.7 480.5 565.1 486.2C560.4 489.7 555.6 492.1 550.6 496L545.2 499.1C540.2 501.9 534.1 504.4 529.7 506.7C520.1 510.4 511 507.5 504.7 500.5L484.9 478.3zM512 352C512 325.5 490.5 304 464 304C437.5 304 416 325.5 416 352C416 378.5 437.5 400 464 400C490.5 400 512 378.5 512 352z"]},zf={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},Mf={prefix:"fas",iconName:"magnet",icon:[448,512,[129522],"f076","M128 160V256C128 309 170.1 352 224 352C277 352 320 309 320 256V160H448V256C448 379.7 347.7 480 224 480C100.3 480 0 379.7 0 256V160H128zM0 64C0 46.33 14.33 32 32 32H96C113.7 32 128 46.33 128 64V128H0V64zM320 64C320 46.33 334.3 32 352 32H416C433.7 32 448 46.33 448 64V128H320V64z"]},$s={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M160 352h192V160H160V352zM448 176h48C504.8 176 512 168.8 512 160s-7.162-16-16-16H448V128c0-35.35-28.65-64-64-64h-16V16C368 7.164 360.8 0 352 0c-8.836 0-16 7.164-16 16V64h-64V16C272 7.164 264.8 0 256 0C247.2 0 240 7.164 240 16V64h-64V16C176 7.164 168.8 0 160 0C151.2 0 144 7.164 144 16V64H128C92.65 64 64 92.65 64 128v16H16C7.164 144 0 151.2 0 160s7.164 16 16 16H64v64H16C7.164 240 0 247.2 0 256s7.164 16 16 16H64v64H16C7.164 336 0 343.2 0 352s7.164 16 16 16H64V384c0 35.35 28.65 64 64 64h16v48C144 504.8 151.2 512 160 512c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448H384c35.35 0 64-28.65 64-64v-16h48c8.838 0 16-7.164 16-16s-7.162-16-16-16H448v-64h48C504.8 272 512 264.8 512 256s-7.162-16-16-16H448V176zM384 368c0 8.836-7.162 16-16 16h-224C135.2 384 128 376.8 128 368v-224C128 135.2 135.2 128 144 128h224C376.8 128 384 135.2 384 144V368z"]},Nf={prefix:"fas",iconName:"minus",icon:[448,512,[8722,10134,8211,"subtract"],"f068","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"]},Bf={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 255.1C512 256.9 511.1 257.8 511.1 258.7C511.6 295.2 478.4 319.1 441.9 319.1H344C317.5 319.1 296 341.5 296 368C296 371.4 296.4 374.7 297 377.9C299.2 388.1 303.5 397.1 307.9 407.8C313.9 421.6 320 435.3 320 449.8C320 481.7 298.4 510.5 266.6 511.8C263.1 511.9 259.5 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256V255.1zM96 255.1C78.33 255.1 64 270.3 64 287.1C64 305.7 78.33 319.1 96 319.1C113.7 319.1 128 305.7 128 287.1C128 270.3 113.7 255.1 96 255.1zM128 191.1C145.7 191.1 160 177.7 160 159.1C160 142.3 145.7 127.1 128 127.1C110.3 127.1 96 142.3 96 159.1C96 177.7 110.3 191.1 128 191.1zM256 63.1C238.3 63.1 224 78.33 224 95.1C224 113.7 238.3 127.1 256 127.1C273.7 127.1 288 113.7 288 95.1C288 78.33 273.7 63.1 256 63.1zM384 191.1C401.7 191.1 416 177.7 416 159.1C416 142.3 401.7 127.1 384 127.1C366.3 127.1 352 142.3 352 159.1C352 177.7 366.3 191.1 384 191.1z"]},Lf={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},Rf={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"]},Ff={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.84 0-95.17-15.58-134.2-44.86c-14.12-10.59-16.97-30.66-6.375-44.81c10.59-14.12 30.62-16.94 44.81-6.375c27.84 20.91 61 31.94 95.88 31.94C344.3 415.8 416 344.1 416 256s-71.69-159.8-159.8-159.8c-37.46 0-73.09 13.49-101.3 36.64l45.12 45.14c17.01 17.02 4.955 46.1-19.1 46.1H35.17C24.58 224.1 16 215.5 16 204.9V59.04c0-24.04 29.07-36.08 46.07-19.07l47.6 47.63C149.9 52.71 201.5 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"]},Vf=Ff,jf={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M468.9 32.11c13.87 0 27.18 10.77 27.18 27.04v145.9c0 10.59-8.584 19.17-19.17 19.17h-145.7c-16.28 0-27.06-13.32-27.06-27.2c0-6.634 2.461-13.4 7.96-18.9l45.12-45.14c-28.22-23.14-63.85-36.64-101.3-36.64c-88.09 0-159.8 71.69-159.8 159.8S167.8 415.9 255.9 415.9c73.14 0 89.44-38.31 115.1-38.31c18.48 0 31.97 15.04 31.97 31.96c0 35.04-81.59 70.41-147 70.41c-123.4 0-223.9-100.5-223.9-223.9S132.6 32.44 256 32.44c54.6 0 106.2 20.39 146.4 55.26l47.6-47.63C455.5 34.57 462.3 32.11 468.9 32.11z"]},Hf=jf,Uf={prefix:"fas",iconName:"scissors",icon:[512,512,[9986,9988,9984,"cut"],"f0c4","M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"]},Wf={prefix:"fas",iconName:"screwdriver-wrench",icon:[512,512,["tools"],"f7d9","M331.8 224.1c28.29 0 54.88 10.99 74.86 30.97l19.59 19.59c40.01-17.74 71.25-53.3 81.62-96.65c5.725-23.92 5.34-47.08 .2148-68.4c-2.613-10.88-16.43-14.51-24.34-6.604l-68.9 68.9h-75.6V97.2l68.9-68.9c7.912-7.912 4.275-21.73-6.604-24.34c-21.32-5.125-44.48-5.51-68.4 .2148c-55.3 13.23-98.39 60.22-107.2 116.4C224.5 128.9 224.2 137 224.3 145l82.78 82.86C315.2 225.1 323.5 224.1 331.8 224.1zM384 278.6c-23.16-23.16-57.57-27.57-85.39-13.9L191.1 158L191.1 95.99l-127.1-95.99L0 63.1l96 127.1l62.04 .0077l106.7 106.6c-13.67 27.82-9.251 62.23 13.91 85.39l117 117.1c14.62 14.5 38.21 14.5 52.71-.0016l52.75-52.75c14.5-14.5 14.5-38.08-.0016-52.71L384 278.6zM227.9 307L168.7 247.9l-148.9 148.9c-26.37 26.37-26.37 69.08 0 95.45C32.96 505.4 50.21 512 67.5 512s34.54-6.592 47.72-19.78l119.1-119.1C225.5 352.3 222.6 329.4 227.9 307zM64 472c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24S88 434.7 88 448C88 461.3 77.25 472 64 472z"]},Gf={prefix:"fas",iconName:"share",icon:[512,512,["arrow-turn-right","mail-forward"],"f064","M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"]},qf={prefix:"fas",iconName:"table-cells",icon:[512,512,["th"],"f00a","M448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM152 96H64V160H152V96zM208 160H296V96H208V160zM448 96H360V160H448V96zM64 288H152V224H64V288zM296 224H208V288H296V224zM360 288H448V224H360V288zM152 352H64V416H152V352zM208 416H296V352H208V416zM448 352H360V416H448V352z"]},Zf={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM31.1 128H416V448C416 483.3 387.3 512 352 512H95.1C60.65 512 31.1 483.3 31.1 448V128zM111.1 208V432C111.1 440.8 119.2 448 127.1 448C136.8 448 143.1 440.8 143.1 432V208C143.1 199.2 136.8 192 127.1 192C119.2 192 111.1 199.2 111.1 208zM207.1 208V432C207.1 440.8 215.2 448 223.1 448C232.8 448 240 440.8 240 432V208C240 199.2 232.8 192 223.1 192C215.2 192 207.1 199.2 207.1 208zM304 208V432C304 440.8 311.2 448 320 448C328.8 448 336 440.8 336 432V208C336 199.2 328.8 192 320 192C311.2 192 304 199.2 304 208z"]},Kf={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},Xf={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M248.8 4.994C249.9 1.99 252.8 .0001 256 .0001C259.2 .0001 262.1 1.99 263.2 4.994L277.3 42.67L315 56.79C318 57.92 320 60.79 320 64C320 67.21 318 70.08 315 71.21L277.3 85.33L263.2 123C262.1 126 259.2 128 256 128C252.8 128 249.9 126 248.8 123L234.7 85.33L196.1 71.21C193.1 70.08 192 67.21 192 64C192 60.79 193.1 57.92 196.1 56.79L234.7 42.67L248.8 4.994zM427.4 14.06C446.2-4.686 476.6-4.686 495.3 14.06L529.9 48.64C548.6 67.38 548.6 97.78 529.9 116.5L148.5 497.9C129.8 516.6 99.38 516.6 80.64 497.9L46.06 463.3C27.31 444.6 27.31 414.2 46.06 395.4L427.4 14.06zM461.4 59.31L356.3 164.3L379.6 187.6L484.6 82.58L461.4 59.31zM7.491 117.2L64 96L85.19 39.49C86.88 34.98 91.19 32 96 32C100.8 32 105.1 34.98 106.8 39.49L128 96L184.5 117.2C189 118.9 192 123.2 192 128C192 132.8 189 137.1 184.5 138.8L128 160L106.8 216.5C105.1 221 100.8 224 96 224C91.19 224 86.88 221 85.19 216.5L64 160L7.491 138.8C2.985 137.1 0 132.8 0 128C0 123.2 2.985 118.9 7.491 117.2zM359.5 373.2L416 352L437.2 295.5C438.9 290.1 443.2 288 448 288C452.8 288 457.1 290.1 458.8 295.5L480 352L536.5 373.2C541 374.9 544 379.2 544 384C544 388.8 541 393.1 536.5 394.8L480 416L458.8 472.5C457.1 477 452.8 480 448 480C443.2 480 438.9 477 437.2 472.5L416 416L359.5 394.8C354.1 393.1 352 388.8 352 384C352 379.2 354.1 374.9 359.5 373.2z"]},Yf={prefix:"fas",iconName:"wave-square",icon:[640,512,[],"f83e","M476 480h-152c-19.88 0-36-16.12-36-36v-348H192v156c0 19.88-16.12 36-36 36H31.1C14.33 288 0 273.7 0 256s14.33-31.1 31.1-31.1H128v-156c0-19.88 16.12-36 36-36h152c19.88 0 36 16.12 36 36v348h96v-156c0-19.88 16.12-36 36-36h124C625.7 224 640 238.3 640 256s-14.33 32-31.1 32H512v156C512 463.9 495.9 480 476 480z"]},Jf={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]},Qf={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]},wo=Qf,sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ts={exports:{}};(function(t,e){(function(n,o){o(e)})(sn,function(n){var o,i,r="smooth-dnd-container-instance",s="smooth-dnd-draggable-wrapper",a="animated",l="__smooth_dnd_draggable_translation_value",u="__smooth_dnd_draggable_visibility_value",d="smooth-dnd-ghost",m="smooth-dnd-container",g="smooth-dnd-extra-size-for-insertion",f="smooth-dnd-stretcher-element",v="smooth-dnd-stretcher-instance",p="smooth-dnd-disable-touch-action",y="smooth-dnd-no-user-select",b="smooth-dnd-prevent-auto-scroll-class",S="smooth-dnd-drop-preview-default-class",P="smooth-dnd-drop-preview-inner-class",A="smooth-dnd-drop-preview-constant-class",N="smooth-dnd-drop-preview-flex-container-class",H=Object.freeze({containerInstance:r,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:s,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:a,translationValue:l,visibilityValue:u,ghostClass:d,containerClass:m,extraSizeForInsertion:g,stretcherElementClass:f,stretcherElementInstance:v,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:p,noUserSelectClass:y,preventAutoScrollClass:b,dropPlaceholderDefaultClass:S,dropPlaceholderInnerClass:P,dropPlaceholderWrapperClass:A,dropPlaceholderFlexContainerClass:N}),L={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function D(O){return(D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(O)}function k(O,$,z){return $ in O?Object.defineProperty(O,$,{value:z,enumerable:!0,configurable:!0,writable:!0}):O[$]=z,O}function Y(O){return function($){if(Array.isArray($)){for(var z=0,F=new Array($.length);z<$.length;z++)F[z]=$[z];return F}}(O)||function($){if(Symbol.iterator in Object($)||Object.prototype.toString.call($)==="[object Arguments]")return Array.from($)}(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i=o||(o={})).x="x",i.y="y",i.xy="xy";function U(O,$,z){return z==="x"?{left:Math.max(O.left,$.left),top:O.top,right:Math.min(O.right,$.right),bottom:O.bottom}:{left:O.left,top:Math.max(O.top,$.top),right:O.right,bottom:Math.min(O.bottom,$.bottom)}}function I(O){var $=window.getComputedStyle(O),z=$.overflow;if(z==="auto"||z==="scroll")return o.xy;var F=$["overflow-x"],X=F==="auto"||F==="scroll",ot=$["overflow-y"],gt=ot==="auto"||ot==="scroll";return X&&gt?o.xy:X?o.x:gt?o.y:null}function E(O,$){var z=window.getComputedStyle(O),F=z.overflow,X=z["overflow-".concat($)];return F==="auto"||F==="scroll"||X==="auto"||X==="scroll"}var h=function(O,$){return{left:Math.max(O.left,$.left),top:Math.max(O.top,$.top),right:Math.min(O.right,$.right),bottom:Math.min(O.bottom,$.bottom)}},Z=function(O){var $=O.getBoundingClientRect(),z={left:$.left,right:$.right,top:$.top,bottom:$.bottom};if(J(O,"x")&&!at(O,"x")){var F=z.right-z.left;z.right=z.right+O.scrollWidth-F}if(J(O,"y")&&!at(O,"y")){var X=z.bottom-z.top;z.bottom=z.bottom+O.scrollHeight-X}return z},at=function(O,$){var z=window.getComputedStyle(O),F=z.overflow,X=z["overflow-".concat($)];return F==="auto"||F==="scroll"||F==="hidden"||X==="auto"||X==="scroll"||X==="hidden"},J=function(O,$){return $==="x"?O.scrollWidth>O.clientWidth:O.scrollHeight>O.clientHeight},_t=function(O,$){var z=O,F=$||Z(O);for(z=O.parentElement;z;)J(z,"x")&&at(z,"x")&&(F=U(F,z.getBoundingClientRect(),"x")),J(z,"y")&&at(z,"y")&&(F=U(F,z.getBoundingClientRect(),"y")),z=z.parentElement;return F},it=function(O,$){for(var z=O;z;){if(z[r]){var F=function(){var X=z[r];if($.some(function(ot){return ot===X}))return{v:X}}();if(D(F)==="object")return F.v}z=z.parentElement}return null},ft=function(O,$){for(var z=O;z;){if(z.matches($))return z;z=z.parentElement}return null},K=function(O,$){return-1<O.className.split(" ").map(function(z){return z}).indexOf($)},G=function(O,$){if(O){var z=O.className.split(" ").filter(function(F){return F});z.indexOf($)===-1&&(z.unshift($),O.className=z.join(" "))}},Ct=function(O,$){if(O){var z=O.className.split(" ").filter(function(F){return F&&F!==$});O.className=z.join(" ")}},ct=function(O,$){return O.removeChild(O.children[$])},pt=function(O,$,z){z>=O.children.length?O.appendChild($):O.insertBefore($,O.children[z])},jt=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},Yt=function(O){if(O){var $=window.getComputedStyle(O);if($)return $.cursor}return null};function Bt(O){return!(O.bottom<=O.top||O.right<=O.left)}function Lt(O){var $=O.element,z=O.draggables;return function(F,X){var ot=F,gt=ot.removedIndex,ut=ot.addedIndex,yt=ot.droppedElement,et=null;if(gt!==null&&(et=ct($,gt),z.splice(gt,1)),ut!==null){var st=window.document.createElement("div");st.className="".concat(s),st.appendChild(et&&et.firstElementChild?et.firstElementChild:yt),pt($,st,ut),ut>=z.length?z.push(st):z.splice(ut,0,st)}X&&X(F)}}var Ht=Object.freeze({domDropHandler:Lt,reactDropHandler:function(){return{handler:function(){return function(O,$){$&&$(O)}}}}}),qt={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(O){return"translate3d(".concat(O,"px, 0, 0)")}}},T={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(O){return"translate3d(0,".concat(O,"px, 0)")}}};function R(O,$,z){O[g]=0;var F=function(et){return{get:function(st,vt){return st[et[vt]||vt]},set:function(st,vt,Et){st[et[vt]]=et.setters[vt]?et.setters[vt](Et):Et}}}($==="horizontal"?qt:T),X={translation:0};function ot(){gt(O),function(et){var st=et.getBoundingClientRect();X.scaleX=et.offsetWidth?(st.right-st.left)/et.offsetWidth:1,X.scaleY=et.offsetHeight?(st.bottom-st.top)/et.offsetHeight:1}(O)}function gt(et){X.rect=Z(et);var st=_t(et,X.rect);Bt(st)&&(X.lastVisibleRect=X.visibleRect),X.visibleRect=st}function ut(et){var st=et;if(st.tagName){var vt=st.getBoundingClientRect();return $==="vertical"?vt.bottom-vt.top:vt.right-vt.left}return F.get(et,"size")*F.get(X,"scale")}function yt(et){return F.get(et,"dragPosition")}return window.addEventListener("resize",function(){gt(O)}),setTimeout(function(){ot()},10),{getSize:ut,getContainerRectangles:function(){return{rect:X.rect,visibleRect:X.visibleRect,lastVisibleRect:X.lastVisibleRect}},getBeginEndOfDOMRect:function(et){return{begin:F.get(et,"begin"),end:F.get(et,"end")}},getBeginEndOfContainer:function(){return{begin:F.get(X.rect,"begin")+X.translation,end:F.get(X.rect,"end")+X.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:F.get(X.visibleRect,"begin")+X.translation,end:F.get(X.visibleRect,"end")+X.translation}},getBeginEnd:function(et){var st=function(vt){return(F.get(vt,"distanceToParent")+(vt[l]||0))*F.get(X,"scale")}(et)+(F.get(X.rect,"begin")+X.translation)-F.get(O,"scrollValue");return{begin:st,end:st+ut(et)*F.get(X,"scale")}},getAxisValue:yt,setTranslation:function(et,st){st?F.set(et.style,"translate",st):et.style.removeProperty("transform"),et[l]=st},getTranslation:function(et){return et[l]},setVisibility:function(et,st){et[u]!==void 0&&et[u]===st||(st?et.style.removeProperty("visibility"):et.style.visibility="hidden",et[u]=st)},isVisible:function(et){return et[u]===void 0||et[u]},isInVisibleRect:function(et,st){var vt=X.visibleRect,Et=vt.left,$t=vt.top,At=vt.right,Ut=vt.bottom;Ut-$t<2&&(Ut=$t+30);var w=X.rect;return $==="vertical"?et>w.left&&et<w.right&&$t<st&&st<Ut:Et<et&&et<At&&st>w.top&&st<w.bottom},setSize:function(et,st){F.set(et,"setSize",st)},getTopLeftOfElementBegin:function(et){var st=0;return{top:$==="horizontal"?(st=et,X.rect.top):(st=X.rect.left,et),left:st}},getScrollSize:function(et){return F.get(et,"scrollSize")},getScrollValue:function(et){return F.get(et,"scrollValue")},setScrollValue:function(et,st){return F.set(et,"scrollValue",st)},invalidate:ot,invalidateRects:function(){gt(O)},getPosition:function(et){return yt(et)},setBegin:function(et,st){F.set(et,"begin",st)}}}function c(O,$,z){var F,X,ot,gt=z.left,ut=z.right,yt=z.top,et=z.bottom,st=O.x,vt=O.y;if(st<gt||ut<st||vt<yt||et<vt)return null;ot=$==="x"?(F=gt,X=ut,st):(F=yt,X=et,vt);var Et=X-F,$t=400<Et?100:Et/4;return X-ot<$t?{direction:"end",speedFactor:($t-(X-ot))/$t}:ot-F<$t?{direction:"begin",speedFactor:($t-(ot-F))/$t}:null}function B(O){var $=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",z=null,F=null,X=null,ot=null;return{animate:function(gt,ut){X=gt,ot=ut,function yt(){z===null&&(z=requestAnimationFrame(function(et){F===null&&(F=et);var st=et-F;F=et;var vt,Et,$t,At=st/1e3*ot;Et=$,$t=At=X==="begin"?0-At:At,(vt=O)&&(vt!==window?Et==="x"?vt.scrollLeft+=$t:vt.scrollTop+=$t:Et==="x"?vt.scrollBy($t,0):vt.scrollBy(0,$t)),z=null,yt()}))}()},stop:function(){z!==null&&(cancelAnimationFrame(z),z=null),F=null}}}function M(O){return function(){return _t(O,O.getBoundingClientRect())}}var C,_,x,q=function(O){var $=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,z=O.reduce(function(F,X){var ot=function(gt){for(var ut=[],yt=gt.element;yt;){var et=I(yt);if(et&&!K(yt,b)){var st={};switch(et){case o.xy:st.x={animator:B(yt,"x")},st.y={animator:B(yt,"y")};break;case o.x:st.x={animator:B(yt,"x")};break;case o.y:st.y={animator:B(yt,"y")}}ut.push({axisAnimations:st,getRect:M(yt),scrollerElement:yt})}yt=yt.parentElement}return ut}(X).filter(function(gt){return!F.find(function(ut){return ut.scrollerElement===gt.scrollerElement})});return[].concat(Y(F),Y(ot))},[]);return function(F){var X=F.draggableInfo;if(F.reset)z.forEach(function(ut){ut.axisAnimations.x&&ut.axisAnimations.x.animator.stop(),ut.axisAnimations.y&&ut.axisAnimations.y.animator.stop()});else if(X){(function(ut,yt){ut.forEach(function(et){var st=et.axisAnimations,vt=(0,et.getRect)();st.x&&(st.x.scrollParams=c(yt,"x",vt),et.cachedRect=vt),st.y&&(st.y.scrollParams=c(yt,"y",vt),et.cachedRect=vt)})})(z,X.mousePosition),z.forEach(function(ut){var yt=ut.axisAnimations,et=yt.x,st=yt.y;if(et)if(et.scrollParams){var vt=et.scrollParams,Et=vt.direction,$t=vt.speedFactor;et.animator.animate(Et,$t*$)}else et.animator.stop();if(st)if(st.scrollParams){var At=st.scrollParams,Ut=At.direction,w=At.speedFactor;st.animator.animate(Ut,w*$)}else st.animator.stop()});var ot=z.filter(function(ut){return ut.cachedRect});if(ot.length&&1<ot.length){var gt=function(ut,yt){for(var et=document.elementFromPoint(yt.x,yt.y);et;){var st=ut.find(function(vt){return vt.scrollerElement===et});if(st)return st;et=et.parentElement}return null}(ot,X.mousePosition);gt&&ot.forEach(function(ut){ut!==gt&&(ut.axisAnimations.x&&ut.axisAnimations.x.animator.stop(),ut.axisAnimations.y&&ut.axisAnimations.y.animator.stop())})}}}};typeof window<"u"&&((C=Element)&&C.prototype&&!C.prototype.matches&&(C.prototype.matches=C.prototype.matchesSelector||C.prototype.mozMatchesSelector||C.prototype.msMatchesSelector||C.prototype.oMatchesSelector||C.prototype.webkitMatchesSelector||function(O){for(var $=(this.document||this.ownerDocument).querySelectorAll(O),z=$.length;0<=--z&&$.item(z)!==this;);return-1<z}),(_=Node||Element)&&_.prototype&&_.prototype.firstElementChild==null&&Object.defineProperty(_.prototype,"firstElementChild",{get:function(){for(var O,$=this.childNodes,z=0;O=$[z++];)if(O.nodeType===1)return O;return null}}),Array.prototype.some||(Array.prototype.some=function(O){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof O!="function")throw new TypeError;for(var $=Object(this),z=$.length>>>0,F=2<=arguments.length?arguments[1]:void 0,X=0;X<z;X++)if(X in $&&O.call(F,$[X],X,$))return!0;return!1}));var j={overflow:"hidden",display:"block"},V={height:"100%",display:"table-cell","vertical-align":"top"},tt=(k(x={},".".concat(m),{position:"relative","min-height":"30px","min-width":"30px"}),k(x,".".concat(m,".horizontal"),{display:"table"}),k(x,".".concat(m,".horizontal > .").concat(f),{display:"inline-block"}),k(x,".".concat(m,".horizontal > .").concat(s),V),k(x,".".concat(m,".vertical > .").concat(s),j),k(x,".".concat(s),{"box-sizing":"border-box"}),k(x,".".concat(s,".horizontal"),V),k(x,".".concat(s,".vertical"),j),k(x,".".concat(s,".animated"),{transition:"transform ease"}),k(x,".".concat(d),{"box-sizing":"border-box"}),k(x,".".concat(d,".animated"),{transition:"all ease-in-out"}),k(x,".".concat(d," *"),{"pointer-events":"none"}),k(x,".".concat(p," *"),{"touch-action":"none","-ms-touch-action":"none"}),k(x,".".concat(y),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),k(x,".".concat(P),{flex:"1"}),k(x,".".concat(m,".horizontal > .").concat(A),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),k(x,".".concat(m,".vertical > .").concat(A),{overflow:"hidden",display:"block",width:"100%"}),k(x,".".concat(N),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),k(x,".".concat(S),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),x);function rt(O){return Object.keys(O).reduce(function($,z){var F=O[z];return D(F)==="object"?"".concat($).concat(z,"{").concat(rt(F),"}"):"".concat($).concat(z,":").concat(F,";")},"")}function nt(O){if(O&&typeof window<"u"){var $=window.document.head||window.document.getElementsByTagName("head")[0],z=window.document.createElement("style"),F=rt({"body *":{cursor:"".concat(O," !important")}});return z.type="text/css",z.styleSheet?z.styleSheet.cssText=F:z.appendChild(window.document.createTextNode(F)),$.appendChild(z),z}return null}var mt,Dt,Ot=["mousedown","touchstart"],Gt=["mousemove","touchmove"],le=["mouseup","touchend"],Zt=null,be=null,Tt=null,Pt=null,oe=[],ne=!1,Te=!1,Me=!1,Ye=!1,Be=null,Ce=null,Ee=null,Le=null,Yo=(mt=null,Dt=!1,{start:function(){Dt||(Dt=!0,function O(){mt=requestAnimationFrame(function(){Zt.forEach(function($){return $.layout.invalidateRects()}),setTimeout(function(){mt!==null&&O()},50)})}())},stop:function(){mt!==null&&(cancelAnimationFrame(mt),mt=null),Dt=!1}}),mr=typeof window<"u"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function gr(){typeof window<"u"&&Ot.forEach(function(O){window.document.addEventListener(O,yr,{passive:!1})})}function Jo(){return Pt&&Pt.ghostParent?Pt.ghostParent:be&&be.parentElement||window.document.body}var gn,Yn,Je,Jn,Co,So,vr=(Jn=null,Co=1,So=5,function(O,$,z){gn=to(O),Je=z,(Yn=typeof $=="number"?$:mr?200:0)&&(Jn=setTimeout(ei,Yn)),Gt.forEach(function(F){return window.document.addEventListener(F,Qo)},{passive:!1}),le.forEach(function(F){return window.document.addEventListener(F,Re)},{passive:!1}),window.document.addEventListener("drag",ti,{passive:!1})});function Qo(O){var $=to(O),z=$.clientX,F=$.clientY;if(Yn)(Math.abs(gn.clientX-z)>So||Math.abs(gn.clientY-F)>So)&&Qn();else if(Math.abs(gn.clientX-z)>Co||Math.abs(gn.clientY-F)>Co)return ei()}function Re(){Qn()}function ti(){Qn()}function Qn(){clearTimeout(Jn),Gt.forEach(function(O){return window.document.removeEventListener(O,Qo)},{passive:!1}),le.forEach(function(O){return window.document.removeEventListener(O,Re)},{passive:!1}),window.document.removeEventListener("drag",ti,{passive:!1})}function ei(){clearTimeout(Jn),Qn(),Je()}function yr(O){var $=to(O);if(!ne&&($.button===void 0||$.button===0)&&(be=ft($.target,"."+s))){var z=ft(be,"."+m),F=oe.filter(function(ut){return ut.element===z})[0],X=F.getOptions().dragHandleSelector,ot=F.getOptions().nonDragAreaSelector,gt=!0;X&&!ft($.target,X)&&(gt=!1),ot&&ft($.target,ot)&&(gt=!1),gt&&(F.layout.invalidate(),G(window.document.body,p),G(window.document.body,y),window.document.addEventListener("mouseup",function ut(){Ct(window.document.body,p),Ct(window.document.body,y),window.document.removeEventListener("mouseup",ut)})),gt&&vr($,F.getOptions().dragBeginDelay,function(){jt(),li($,Yt(O.target)),Gt.forEach(function(ut){window.document.addEventListener(ut,ni,{passive:!1})}),le.forEach(function(ut){window.document.addEventListener(ut,Qe,{passive:!1})})})}}function ni(O){O.preventDefault();var $=to(O);if(Pt){var z=Pt.container.getOptions();z.behaviour==="contain"?function(F){var X,ot,gt,ut,yt=F.clientX,et=F.clientY,st=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",vt=Pt.container.layout.getBeginEndOfContainerVisibleRect();ut=st==="vertical"?(X=et,ot="y",gt="top",Pt.size.offsetHeight):(X=yt,ot="x",gt="left",Pt.size.offsetWidth);var Et=vt.begin,$t=vt.end-ut,At=Math.max(Et,Math.min($t,X+Tt.positionDelta[gt]));Tt.topLeft[ot]=At,Pt.position[ot]=Math.max(vt.begin,Math.min(vt.end,X+Tt.centerDelta[ot])),Pt.mousePosition[ot]=Math.max(vt.begin,Math.min(vt.end,X)),Pt.position[ot]<vt.begin+ut/2&&(Pt.position[ot]=vt.begin+2),Pt.position[ot]>vt.end-ut/2&&(Pt.position[ot]=vt.end-2)}($,z.orientation):Ee?Ee==="y"?(Tt.topLeft.y=$.clientY+Tt.positionDelta.top,Pt.position.y=$.clientY+Tt.centerDelta.y,Pt.mousePosition.y=$.clientY):Ee==="x"&&(Tt.topLeft.x=$.clientX+Tt.positionDelta.left,Pt.position.x=$.clientX+Tt.centerDelta.x,Pt.mousePosition.x=$.clientX):(Tt.topLeft.x=$.clientX+Tt.positionDelta.left,Tt.topLeft.y=$.clientY+Tt.positionDelta.top,Pt.position.x=$.clientX+Tt.centerDelta.x,Pt.position.y=$.clientY+Tt.centerDelta.y,Pt.mousePosition.x=$.clientX,Pt.mousePosition.y=$.clientY),yn(),(Ye=!Be(Pt))&&br()}else li($,Yt(O.target))}var Fe,oi,ii,vn,br=(Fe=ri,ii=!(oi=20),vn=null,function(){for(var O=arguments.length,$=new Array(O),z=0;z<O;z++)$[z]=arguments[z];vn&&clearTimeout(vn),ii&&!vn?Fe.call.apply(Fe,[null].concat($)):vn=setTimeout(function(){vn=null,Fe.call.apply(Fe,[null].concat($))},oi)});function ri(){Ye&&(Ye=!1,si(Pt,Zt))}function Qe(){Gt.forEach(function(O){window.document.removeEventListener(O,ni,{passive:!1})}),le.forEach(function(O){window.document.removeEventListener(O,Qe,{passive:!1})}),Ce({reset:!0}),Le&&(function(O){O&&typeof window<"u"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(O)}(Le),Le=null),Pt&&(Yo.stop(),ri(),Me=!0,function(O){function $(){Ct(Tt.ghost,"animated"),Tt.ghost.style.transitionDuration=null,Jo().removeChild(Tt.ghost),O()}function z(w,W,lt){var kt=w.top,ce=w.left;G(Tt.ghost,"animated"),lt&&G(Tt.ghost.firstElementChild,lt),Tt.topLeft.x=ce,Tt.topLeft.y=kt,yn(W),setTimeout(function(){$()},W+20)}function F(w,W){G(Tt.ghost,"animated"),yn(w,.9,!0),setTimeout(function(){W()},w+20)}if(Pt.targetElement){var X=oe.filter(function(w){return w.element===Pt.targetElement})[0];!(Ut=X.getOptions()).shouldAnimateDrop||Ut.shouldAnimateDrop(Pt.container.getOptions(),Pt.payload)?z(X.getDragResult().shadowBeginEnd.rect,Math.max(150,X.getOptions().animationDuration/2),X.getOptions().dropClass):$()}else{var ot=oe.filter(function(w){return w===Pt.container})[0];if(ot){var gt=ot.getOptions(),ut=gt.behaviour,yt=gt.removeOnDropOut;if(ut!=="move"&&ut!=="contain"||!Te&&yt||!ot.getDragResult())F(ot.getOptions().animationDuration,$);else{var et=ot.layout.getContainerRectangles();if(!Bt(et.visibleRect)&&Bt(et.lastVisibleRect))z({top:et.lastVisibleRect.top,left:et.lastVisibleRect.left},ot.getOptions().animationDuration,ot.getOptions().dropClass);else{var st=ot.getDragResult(),vt=st.removedIndex,Et=st.elementSize,$t=ot.layout;ot.getTranslateCalculator({dragResult:{removedIndex:vt,addedIndex:vt,elementSize:Et,pos:void 0,shadowBeginEnd:void 0}});var At=0<vt?$t.getBeginEnd(ot.draggables[vt-1]).end:$t.getBeginEndOfContainer().begin;z($t.getTopLeftOfElementBegin(At),ot.getOptions().animationDuration,ot.getOptions().dropClass)}}}else F(L.animationDuration,$)}var Ut}(function(){ai(ne=!1);for(var O=Zt||[],$=O.shift();$!==void 0;)$.handleDrop(Pt),$=O.shift();Be=Ee=Pt=Tt=be=Zt=null,Me=!1}))}function to(O){return O.touches?O.touches[0]:O}function si(O,$){var z=!1;$.forEach(function(F){var X=F.handleDrag(O);z=!!X.containerBoxChanged||!1,X.containerBoxChanged=!1}),z&&(z=!1,requestAnimationFrame(function(){oe.forEach(function(F){F.layout.invalidateRects(),F.onTranslated()})}))}function Io(O){var $=O,z=null;return function(F){return!(z!==null||!ne||Me)&&(z=requestAnimationFrame(function(){ne&&!Me&&(si(F,$),Ce({draggableInfo:F})),z=null}),!0)}}function Eo(O,$){return O.getOptions().autoScrollEnabled?q($,O.getScrollMaxSpeed()):function(z){return null}}function ai(O){oe.forEach(function($){var z=O?$.getOptions().onDragStart:$.getOptions().onDragEnd;if(z){var F={isSource:$===Pt.container,payload:Pt.payload};$.isDragRelevant(Pt.container,Pt.payload)?F.willAcceptDrop=!0:F.willAcceptDrop=!1,z(F)}})}function li(O,$){if(be!==null){ne=!0;var z=oe.filter(function(F){return be.parentElement===F.element})[0];z.setDraggables(),Ee=z.getOptions().lockAxis?z.getOptions().lockAxis.toLowerCase():null,Pt=function(F){var X=oe.filter(function(yt){return F.parentElement===yt.element})[0],ot=X.draggables.indexOf(F),gt=X.getOptions().getGhostParent,ut=F.getBoundingClientRect();return{container:X,element:F,size:{offsetHeight:ut.bottom-ut.top,offsetWidth:ut.right-ut.left},elementIndex:ot,payload:X.getOptions().getChildPayload?X.getOptions().getChildPayload(ot):void 0,targetElement:null,position:{x:0,y:0},groupName:X.getOptions().groupName,ghostParent:gt?gt():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(be),Tt=function(F,X,ot,gt){var ut=X.x,yt=X.y,et=F.getBoundingClientRect(),st=et.left,vt=et.top,Et=et.right,$t=et.bottom,At=h(ot.layout.getContainerRectangles().visibleRect,et),Ut=At.left+(At.right-At.left)/2,w=At.top+(At.bottom-At.top)/2,W=F.cloneNode(!0);return W.style.zIndex="1000",W.style.boxSizing="border-box",W.style.position="fixed",W.style.top="0px",W.style.left="0px",W.style.transform=null,W.style.removeProperty("transform"),ot.shouldUseTransformForGhost()?W.style.transform="translate3d(".concat(st,"px, ").concat(vt,"px, 0)"):(W.style.top="".concat(vt,"px"),W.style.left="".concat(st,"px")),W.style.width=Et-st+"px",W.style.height=$t-vt+"px",W.style.overflow="visible",W.style.transition=null,W.style.removeProperty("transition"),W.style.pointerEvents="none",W.style.userSelect="none",ot.getOptions().dragClass?setTimeout(function(){G(W.firstElementChild,ot.getOptions().dragClass);var lt=window.getComputedStyle(W.firstElementChild).cursor;Le=nt(lt)}):Le=nt(gt),G(W,ot.getOptions().orientation||"vertical"),G(W,d),{ghost:W,centerDelta:{x:Ut-ut,y:w-yt},positionDelta:{left:st-ut,top:vt-yt},topLeft:{x:st,y:vt}}}(be,{x:O.clientX,y:O.clientY},Pt.container,$),Pt.position={x:O.clientX+Tt.centerDelta.x,y:O.clientY+Tt.centerDelta.y},Pt.mousePosition={x:O.clientX,y:O.clientY},Zt=oe.filter(function(F){return F.isDragRelevant(z,Pt.payload)}),Pt.relevantContainers=Zt,Be=Io(Zt),Ce&&Ce({reset:!0,draggableInfo:void 0}),Ce=Eo(z,Zt),Zt.forEach(function(F){return F.prepareDrag(F,Zt)}),ai(!0),Be(Pt),Jo().appendChild(Tt.ghost),Yo.start()}}var An=null;function yn(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,$=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,z=2<arguments.length&&arguments[2]!==void 0&&arguments[2],F=Tt,X=F.ghost,ot=F.topLeft,gt=ot.x,ut=ot.y,yt=!Pt.container||Pt.container.shouldUseTransformForGhost(),et=yt?"translate3d(".concat(gt,"px,").concat(ut,"px, 0)"):null;if($!==1&&(et=et?"".concat(et," scale(").concat($,")"):"scale(".concat($,")")),0<O)return Tt.ghost.style.transitionDuration=O+"ms",void requestAnimationFrame(function(){et&&(X.style.transform=et),yt||(X.style.left=gt+"px",X.style.top=ut+"px"),An=null,z&&(X.style.opacity="0")});An===null&&(An=requestAnimationFrame(function(){et&&(X.style.transform=et),yt||(X.style.left=gt+"px",X.style.top=ut+"px"),An=null,z&&(X.style.opacity="0")}))}function _r(){if(ne&&!Te&&!Me){Ye=!(Te=!0);var O=Object.assign({},Pt,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});Zt.forEach(function($){$.handleDrag(O)}),Pt.targetElement=null,Pt.cancelDrop=!0,Qe(),Te=!1}}typeof window<"u"&&function(){if(typeof window<"u"){var O=window.document.head||window.document.getElementsByTagName("head")[0],$=window.document.createElement("style");$.id="smooth-dnd-style-definitions";var z=rt(tt);$.type="text/css",$.styleSheet?$.styleSheet.cssText=z:$.appendChild(window.document.createTextNode(z)),O.appendChild($)}}();var bn=(gr(),{register:function(O){(function($){oe.push($),ne&&Pt&&$.isDragRelevant(Pt.container,Pt.payload)&&(Zt.push($),$.prepareDrag($,Zt),Ce&&Ce({reset:!0,draggableInfo:void 0}),Ce=Eo($,Zt),Be=Io(Zt),$.handleDrag(Pt))})(O)},unregister:function(O){(function($){if(oe.splice(oe.indexOf($),1),ne&&Pt){Pt.container===$&&$.fireRemoveElement(),Pt.targetElement===$.element&&(Pt.targetElement=null);var z=Zt.indexOf($);-1<z&&(Zt.splice(z,1),Ce&&Ce({reset:!0,draggableInfo:void 0}),Ce=Eo($,Zt),Be=Io(Zt))}})(O)},isDragging:function(){return ne},cancelDrag:_r});function ci(O,$){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:L.animationDuration;$?(G(O,a),O.style.transitionDuration=z+"ms"):(Ct(O,a),O.style.removeProperty("transition-duration"))}function ui(O){var $=[];return Array.prototype.forEach.call(O.children,function(z){if(z.nodeType===Node.ELEMENT_NODE){var F=z;K(z,s)||(F=function(X){if(Se.wrapChild){var ot=window.document.createElement("div");return ot.className="".concat(s),X.parentElement.insertBefore(ot,X),ot.appendChild(X),ot}return X}(z)),F[l]=0,$.push(F)}else O.removeChild(z)}),$}function wr(O){var $=O.layout;return function(z,F){var X=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function ot(gt,ut,yt,et){var st=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(et<yt)return yt;if(yt===et){var vt=$.getBeginEnd(gt[yt]),Et=vt.begin,$t=vt.end;return st?ut<($t+Et)/2?yt:yt+1:yt}var At=Math.floor((et+yt)/2),Ut=$.getBeginEnd(gt[At]),w=Ut.begin,W=Ut.end;return ut<w?ot(gt,ut,yt,At-1,st):W<ut?ot(gt,ut,At+1,et,st):st?ut<(W+w)/2?At:At+1:At}(z,F,0,z.length-1,X)}}function Cr(O){var $=O.element,z=O.draggables,F=O.layout,X=O.getOptions,ot=function(ut){var yt=ut.element,et=ut.draggables,st=ut.layout;return function(){et.forEach(function(vt){ci(vt,!1),st.setTranslation(vt,0),st.setVisibility(vt,!0)}),yt[v]&&(yt[v].parentNode.removeChild(yt[v]),yt[v]=null)}}({element:$,draggables:z,layout:F,getOptions:X}),gt=(Se.dropHandler||Lt)({element:$,draggables:z,layout:F,getOptions:X});return function(ut,yt){var et=yt.addedIndex,st=yt.removedIndex,vt=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(ot(),!ut.cancelDrop&&(ut.targetElement||X().removeOnDropOut||vt)){var Et={removedIndex:st,addedIndex:et!==null?st!==null&&st<et?et-1:et:null,payload:ut.payload};gt(Et,X().onDrop)}}}function di(O){var $=O.element,z=O.getOptions,F=null;return function(X){var ot=X.draggableInfo,gt=F;return F==null&&ot.container.element===$&&z().behaviour!=="copy"&&(gt=F=ot.elementIndex),{removedIndex:gt}}}function fi(O){var $=O.draggables,z=O.layout;return function(F){var X=F.dragResult;X.removedIndex!==null&&z.setVisibility($[X.removedIndex],!1)}}function eo(O){var $=O.element,z=O.layout;return function(F){var X=F.draggableInfo,ot=document.elementFromPoint(X.position.x,X.position.y);if(ot){var gt=it(ot,X.relevantContainers);if(gt&&gt.element===$)return{pos:z.getPosition(X.position)}}return{pos:null}}}function hi(O){var $=O.layout,z=null;return function(F){var X=F.draggableInfo;return F.dragResult.pos===null?z=null:{elementSize:z=z||$.getSize(X.size)}}}function pi(O){var $=O.element;return function(z){var F=z.draggableInfo,X=z.dragResult;(function(ot,gt){var ut=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];gt&&ut?ot.targetElement=gt:ot.targetElement===gt&&(ot.targetElement=null)})(F,$,!!X.pos)}}function Sr(){return function(O){return O.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function Ir(O){var $=O.layout,z=null;return function(F){var X=F.dragResult.addedIndex;if(X===z)return null;z=X;var ot=$.getBeginEndOfContainer(),gt=ot.begin;return ot.end,{shadowBeginEnd:{rect:$.getTopLeftOfElementBegin(gt)}}}}function Er(O){var $=O.layout,z=O.element,F=O.getOptions,X=null;return function(ot){var gt=ot.dragResult,ut=gt.elementSize,yt=gt.shadowBeginEnd,et=gt.addedIndex,st=gt.dropPlaceholderContainer,vt=F();if(vt.dropPlaceholder){var Et=typeof vt.dropPlaceholder=="boolean"?{}:vt.dropPlaceholder,$t=Et.animationDuration,At=Et.className,Ut=Et.showOnTop;if(et===null)return st&&X!==null&&z.removeChild(st),X=null,{dropPlaceholderContainer:void 0};if(!st){var w=document.createElement("div"),W=document.createElement("div");W.className=N,w.className="".concat(P," ").concat(At||S),(st=document.createElement("div")).className="".concat(A),st.style.position="absolute",$t!==void 0&&(st.style.transition="all ".concat($t,"ms ease")),st.appendChild(W),W.appendChild(w),$.setSize(st.style,ut+"px"),st.style.pointerEvents="none",Ut?z.appendChild(st):z.insertBefore(st,z.firstElementChild)}return X!==et&&yt.dropArea&&$.setBegin(st.style,yt.dropArea.begin-$.getBeginEndOfContainer().begin+"px"),X=et,{dropPlaceholderContainer:st}}return null}}function xr(O){var $=zn(O);return function(z){var F=z.draggableInfo,X=z.dragResult;return F.invalidateShadow?$({draggableInfo:F,dragResult:X}):null}}function Or(O){var $=function(z){var F=z.draggables,X=wr({layout:z.layout});return function(ot){var gt=ot.dragResult,ut=gt.shadowBeginEnd,yt=gt.pos;if(ut)return ut.begin+ut.beginAdjustment<=yt&&ut.end>=yt?null:yt<ut.begin+ut.beginAdjustment?X(F,yt):yt>ut.end?X(F,yt)+1:F.length;var et=X(F,yt,!0);return et!==null?et:F.length}}(O);return function(z){var F=z.dragResult,X=null;return F.pos!==null&&(X=$({dragResult:F}))===null&&(X=F.addedIndex),{addedIndex:X}}}function mi(){var O=null;return function($){var z=$.dragResult,F=z.addedIndex,X=z.shadowBeginEnd;F!==O&&O!==null&&X&&(X.beginAdjustment=0),O=F}}function Pr(O){var $=O.element,z=O.draggables,F=O.layout,X=O.getOptions,ot=null;return function(gt){var ut=gt.dragResult,yt=ut.addedIndex,et=ut.removedIndex,st=ut.elementSize;if(et===null){if(yt!==null){if(!ot){var vt=F.getBeginEndOfContainer();vt.end=vt.begin+F.getSize($);var Et=F.getScrollSize($)>F.getSize($)?vt.begin+F.getScrollSize($)-F.getScrollValue($):vt.end,$t=0<z.length?F.getBeginEnd(z[z.length-1]).end-z[z.length-1][l]:vt.begin;if(Et<$t+st){(ot=window.document.createElement("div")).className=f+" "+X().orientation;var At=0<z.length?st+$t-Et:st;return F.setSize(ot.style,"".concat(At,"px")),$.appendChild(ot),$[v]=ot,{containerBoxChanged:!0}}}}else if(ot){F.setTranslation(ot,0);var Ut=ot;return ot=null,$.removeChild(Ut),{containerBoxChanged:!($[v]=null)}}}}}function gi(O){var $=O.draggables,z=O.layout,F=null,X=null;return function(ot){var gt=ot.dragResult,ut=gt.addedIndex,yt=gt.removedIndex,et=gt.elementSize;if(ut!==F||yt!==X){for(var st=0;st<$.length;st++)if(st!==yt){var vt=$[st],Et=0;yt!==null&&yt<st&&(Et-=et),ut!==null&&ut<=st&&(Et+=et),z.setTranslation(vt,Et)}return{addedIndex:F=ut,removedIndex:X=yt}}}}function zn(O){var $=O.draggables,z=O.layout,F=null;return function(X){var ot=X.draggableInfo,gt=X.dragResult,ut=gt.addedIndex,yt=gt.removedIndex,et=gt.elementSize,st=gt.pos,vt=gt.shadowBeginEnd;if(st===null)return{shadowBeginEnd:F=null};if(ut===null||!ot.invalidateShadow&&ut===F)return null;var Et=ut-1,$t=Number.MIN_SAFE_INTEGER,At=0,Ut=0,w=null,W=null;if(Et===yt&&Et--,-1<Et){var lt=z.getSize($[Et]);if(W=z.getBeginEnd($[Et]),et<lt){var kt=(lt-et)/2;$t=W.end-kt}else $t=W.end;At=W.end}else W={end:z.getBeginEndOfContainer().begin},At=z.getBeginEndOfContainer().begin;var ce=Number.MAX_SAFE_INTEGER,ve=ut;if(ve===yt&&ve++,ve<$.length){var De=z.getSize($[ve]);if(w=z.getBeginEnd($[ve]),et<De){var Pe=(De-et)/2;ce=w.begin+Pe}else ce=w.begin;Ut=w.begin}else w={begin:z.getContainerRectangles().rect.end},Ut=z.getContainerRectangles().rect.end-z.getContainerRectangles().rect.begin;var bi=W&&w?z.getTopLeftOfElementBegin(W.end):null;return F=ut,{shadowBeginEnd:{dropArea:{begin:At,end:Ut},begin:$t,end:ce,rect:bi,beginAdjustment:vt?vt.beginAdjustment:0}}}}function _n(){var O=null;return function($){var z=$.dragResult,F=z.pos,X=z.addedIndex,ot=z.shadowBeginEnd;if(F!==null){if(X!=null&&O===null){if(F<ot.begin){var gt=F-ot.begin-5;ot.beginAdjustment=gt}O=X}}else O=null}}function xo(O){var $=O.getOptions,z=!1,F=$();return function(X){var ot=!!X.dragResult.pos;ot!==z&&((z=ot)?F.onDragEnter&&F.onDragEnter():F.onDragLeave&&F.onDragLeave())}}function tn(O){var $=O.getOptions,z=null,F=$();return function(X){var ot=X.dragResult,gt=ot.addedIndex,ut=ot.removedIndex,yt=X.draggableInfo,et=yt.payload,st=yt.element;if(F.onDropReady&&gt!==null&&z!==gt){var vt=z=gt;ut!==null&&ut<gt&&vt--,F.onDropReady({addedIndex:vt,removedIndex:ut,payload:et,element:st?st.firstElementChild:void 0})}}}function vi(O){return O.getOptions().behaviour==="drop-zone"?yi(O)(di,fi,eo,hi,pi,Sr,Ir,xo,tn):yi(O)(di,fi,eo,hi,pi,xr,Or,mi,Pr,gi,zn,Er,_n,xo,tn)}function yi(O){return function(){for(var $=arguments.length,z=new Array($),F=0;F<$;F++)z[F]=arguments[F];var X=z.map(function(gt){return gt(O)}),ot=null;return function(gt){return ot=X.reduce(function(ut,yt){return Object.assign(ut,yt({draggableInfo:gt,dragResult:ut}))},ot||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function kr(O){return function($){var z=Object.assign({},L,$),F=null,X=null,ot=function(Et,$t){var At=ui(Et),Ut=$t();return G(Et,"".concat(m," ").concat(Ut.orientation)),{element:Et,draggables:At,getOptions:$t,layout:R(Et,Ut.orientation,Ut.animationDuration)}}(O,vt),gt=vi(ot),ut=Cr(ot),yt=function(Et,$t){var At=[];function Ut(){At&&(At.forEach(function(w){return w.removeEventListener("scroll",$t)}),window.removeEventListener("scroll",$t))}return function(){for(var w=Et;w;)(E(w,"x")||E(w,"y"))&&At.push(w),w=w.parentElement}(),{dispose:function(){Ut(),At=null},start:function(){At&&(At.forEach(function(w){return w.addEventListener("scroll",$t)}),window.addEventListener("scroll",$t))},stop:Ut}}(O,function(){ot.layout.invalidateRects(),et()});function et(){X!==null&&(X.invalidateShadow=!0,F=gt(X),X.invalidateShadow=!1)}function st(Et,$t){for(var At=ui($t),Ut=0;Ut<At.length;Ut++)Et[Ut]=At[Ut];for(var w=0;w<Et.length-At.length;w++)Et.pop()}function vt(){return z}return{element:O,draggables:ot.draggables,isDragRelevant:function(Et){var $t=Et.element,At=Et.getOptions;return function(Ut,w){var W=At();if(W.shouldAcceptDrop)return W.shouldAcceptDrop(Ut.getOptions(),w);var lt=Ut.getOptions();return W.behaviour!=="copy"&&ft($t,"."+s)!==Ut.element&&(Ut.element===$t||!(!lt.groupName||lt.groupName!==W.groupName))}}(ot),layout:ot.layout,dispose:function(Et){yt.dispose(),function($t){Se.wrapChild&&Array.prototype.forEach.call($t.children,function(At){At.nodeType===Node.ELEMENT_NODE&&K(At,s)&&($t.insertBefore(At.firstElementChild,At),$t.removeChild(At))})}(Et.element)},prepareDrag:function(Et,$t){var At=Et.element,Ut=ot.draggables;st(Ut,At),Et.layout.invalidateRects(),Ut.forEach(function(w){return ci(w,!0,vt().animationDuration)}),yt.start()},handleDrag:function(Et){return F=gt(X=Et)},handleDrop:function(Et){yt.stop(),F&&F.dropPlaceholderContainer&&O.removeChild(F.dropPlaceholderContainer),X=null,gt=vi(ot),ut(Et,F),F=null},fireRemoveElement:function(){ut(X,Object.assign({},F,{addedIndex:null}),!0),F=null},getDragResult:function(){return F},getTranslateCalculator:function(Et){return gi(ot)(Et)},onTranslated:function(){et()},setDraggables:function(){st(ot.draggables,O)},getScrollMaxSpeed:function(){return Se.maxScrollSpeed},shouldUseTransformForGhost:function(){return Se.useTransformForGhost===!0},getOptions:vt,setOptions:function(Et){var $t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];z=$t===!1?Object.assign({},L,Et):Object.assign({},L,z,Et)}}}}var Se=function(O,$){var z=kr(O)($);return O[r]=z,bn.register(z),{dispose:function(){bn.unregister(z),z.dispose(z)},setOptions:function(F,X){z.setOptions(F,X)}}};function no(O,$,z){Object.defineProperty(O,z,{set:function(F){$[z]=F},get:function(){return $[z]}})}Se.wrapChild=!0,Se.cancelDrag=function(){bn.cancelDrag()},Se.isDragging=function(){return bn.isDragging()};function ln(O,$){return console.warn('default export is deprecated. please use named export "smoothDnD"'),Se(O,$)}ln.cancelDrag=function(){Se.cancelDrag()},ln.isDragging=function(){return Se.isDragging()},no(ln,Se,"useTransformForGhost"),no(ln,Se,"maxScrollSpeed"),no(ln,Se,"wrapChild"),no(ln,Se,"dropHandler"),n.smoothDnD=Se,n.constants=H,n.dropHandlers=Ht,n.default=ln,Object.defineProperty(n,"__esModule",{value:!0})})})(ts,ts.exports);var Uo=ts.exports;const th=function(t){return Array.isArray(t)};function Kl(t){return t?typeof t=="string"||typeof t=="object"&&(typeof t.value=="string"||typeof t.value=="function"||typeof t.value=="object"):!0}function Xl(t,e){const n=t.$props.tag;if(n){if(typeof n=="string"){const o={value:n};return e&&(o.props={class:e}),o}else if(typeof n=="object"){const o={value:n.value||"div",props:n.props||{}};return e&&(o.props.class?th(o.props.class)?o.props.class.push(e):o.props.class=[e,o.props.class]:o.props.class=e),o}}return{value:"div"}}Uo.smoothDnD.dropHandler=Uo.dropHandlers.reactDropHandler().handler;Uo.smoothDnD.wrapChild=!1;const $a={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var Yl=It({name:"Container",mounted(){const t=Object.assign({},this.$props);for(const e in $a)t[$a[e]]=n=>{this.$emit(e,n)};this.containerElement=this.$refs.container||this.$el,this.container=Uo.smoothDnD(this.containerElement,t)},unmounted(){this.container&&this.container.dispose()},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,animationDuration:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:Kl,default:"div"}},render(){const t=Xl(this);return Ps(t.value,Object.assign({},{ref:"container"},t.props),this.$slots.default())}}),eh=It({name:"Draggable",props:{tag:{validator:Kl,default:"div"}},render:function(){const t=Xl(this,Uo.constants.wrapperClass);return Ps(t.value,Object.assign({},t.props),this.$slots.default())}});const nh=It({name:"BuilderEditableLabel",props:{modelValue:{type:String,default:"node"}},setup(t,{emit:e}){const n=Vt(!0),o=Vt();function i(){n.value=!1,Ko(()=>{o.value&&(o.value.focus(),o.value.select())})}function r(s){const{value:a}=s.target;e("update:modelValue",a)}return{isReadOnly:n,inputRef:o,onFocus:i,onInput:r}}});const xt=(t,e)=>{const n=t.__vccOpts||t;for(const[o,i]of e)n[o]=i;return n},oh={class:"builder-editable-label"},ih=["value"];function rh(t,e,n,o,i,r){return Q(),ht("div",oh,[bt("div",{tabindex:0,class:Qt([{"builder-editable-label__read-only--hidden":!t.isReadOnly},"builder-editable-label__read-only"]),onFocus:e[0]||(e[0]=(...s)=>t.onFocus&&t.onFocus(...s))},he(t.modelValue),35),t.isReadOnly?de("",!0):(Q(),ht("input",{key:0,class:"builder-editable-label__textbox",type:"text",ref:"inputRef",value:t.modelValue,onInput:e[1]||(e[1]=(...s)=>t.onInput&&t.onInput(...s)),onBlur:e[2]||(e[2]=s=>t.isReadOnly=!0)},null,40,ih)),ue(t.$slots,"default")])}const Jl=xt(nh,[["render",rh]]),sh=It({name:"PortHandle",props:{active:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},hue:{type:Number,default:0}},setup(t){return{backgroundColor:Kt(()=>t.hue>0?`hsla(${t.hue}, var(--lightness), var(--saturation), 0.8)`:"var(--color-bg-secondary)")}}});const ah={class:"port-handle"};function lh(t,e,n,o,i,r){return Q(),ht("div",ah,[bt("div",{class:Qt(["port-handle__display",{"port-handle__display--active":t.active,"port-handle--selected":t.isSelected}])},[bt("div",{class:"port-handle__hue",style:ee({backgroundColor:t.backgroundColor})},null,4)],2)])}const ur=xt(sh,[["render",lh]]),ch=It({name:"PortWire",props:{type:{type:String,default:"top"}}});const uh={class:"port-wire__port"};function dh(t,e,n,o,i,r){return Q(),ht("div",{class:Qt(`port-wire port-wire--${t.type}`)},[bt("div",{class:Qt(`port-wire__connector port-wire__connector--${t.type}`)},null,2),bt("div",uh,[ue(t.$slots,"default")])],2)}const Ql=xt(ch,[["render",dh]]),fh=It({name:"BuilderDropZone",components:{BuilderEditableLabel:Jl,Container:Yl,Draggable:eh,PortHandle:ur,PortWire:Ql},emits:{drop:(t,e)=>!!(t&&e)},props:{ports:{type:Array,default:()=>[]},getChildPayload:{type:Function,required:!0},type:{type:String,required:!0}},computed:{orientation(){return["left","right"].includes(this.type)?"vertical":"horizontal"}},setup(t,{emit:e}){const n=/--([a-z]+)/ig;let o="";function i(u){document.querySelectorAll(".smooth-dnd-ghost, .smooth-dnd-ghost div").forEach(d=>{const m=d.className.match(n);m&&(o=m.pop()||""),d.className=d.className.replace(n,u)})}function r(){i(`--${t.type}`)}function s(){i(o)}function a(u){e("drop",t.type,u)}function l(){return document.querySelector(".modal")}return{onDragEnter:r,onDragLeave:s,onDrop:a,getGhostParent:l}}});function hh(t,e,n,o,i,r){const s=St("port-handle"),a=St("port-wire"),l=St("builder-editable-label"),u=St("Draggable"),d=St("Container");return Q(),Mt(d,{orientation:t.orientation,"animation-duration":500,"group-name":t.type,class:Qt(`builder-drop-zone builder-drop-zone--${t.orientation}`),onDrop:t.onDrop,onDragEnter:t.onDragEnter,onDragLeave:t.onDragLeave,"should-accept-drop":()=>!0,"get-child-payload":t.getChildPayload,"get-ghost-parent":t.getGhostParent},{default:Rt(()=>[(Q(!0),ht(Xt,null,pe(t.ports,m=>(Q(),Mt(u,{key:m.id,tag:{value:"div",props:{class:`builder-drop-zone__io builder-drop-zone__io--${t.type}`}}},{default:Rt(()=>[dt(l,{modelValue:m.name,"onUpdate:modelValue":g=>m.name=g},{default:Rt(()=>[dt(a,{type:t.type},{default:Rt(()=>[dt(s)]),_:1},8,["type"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["tag"]))),128))]),_:1},8,["orientation","group-name","class","onDrop","onDragEnter","onDragLeave","get-child-payload","get-ghost-parent"])}const ph=xt(fh,[["render",hh]]);var ye=(t=>(t[t.Output=0]="Output",t[t.Input=1]="Input",t))(ye||{});const mh=(t,e)=>{const{removedIndex:n,addedIndex:o,payload:i}=e;if(n===null&&o===null)return t;const r=[...t];let s=i;return n!==null&&(s=r.splice(n,1)[0]),o!==null&&r.splice(o,0,s),r},gh=It({name:"Builder",components:{BuilderDropZone:ph,BuilderEditableLabel:Jl,Container:Yl},emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0}},setup(t,{emit:e}){const n=Vt({left:{children:[]},top:{children:[]},right:{children:[]},bottom:{children:[]}});t.modelValue.portIds.forEach(s=>{var l;const a=(l=t.modelValue.integratedCircuit)==null?void 0:l.ports[s];a&&n.value[a.type===ye.Input?"left":"right"].children.push(a)});function o(){const s=["left","top","right","bottom"];t.modelValue.portIds=[],Object.keys(n.value).forEach(a=>{const l=a,{children:u}=n.value[l];u.forEach(d=>{d.orientation=s.indexOf(l),t.modelValue.portIds.push(d.id)})}),e("update:modelValue",t.modelValue)}function i(s,a){const l=Object.assign({},n.value[s]);n.value[s].children=mh(l.children,a),o()}function r(s){return a=>n.value[s].children[a]}return{item:t.modelValue,ports:n,onWireDrop:i,getCardPayload:r}}});const vh={class:"builder__center"};function yh(t,e,n,o,i,r){const s=St("builder-drop-zone"),a=St("builder-editable-label"),l=St("container");return Q(),Mt(l,{class:"builder"},{default:Rt(()=>[dt(s,{type:"top","get-child-payload":t.getCardPayload("top"),ports:t.ports.top.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),bt("div",vh,[dt(s,{type:"left","get-child-payload":t.getCardPayload("left"),ports:t.ports.left.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),dt(a,{modelValue:t.item.defaultName,"onUpdate:modelValue":e[0]||(e[0]=u=>t.item.defaultName=u)},null,8,["modelValue"]),dt(s,{type:"right","get-child-payload":t.getCardPayload("right"),ports:t.ports.right.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),dt(s,{type:"bottom","get-child-payload":t.getCardPayload("bottom"),ports:t.ports.bottom.children,onDrop:t.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),_:1})}const bh=xt(gh,[["render",yh]]);var Hi={exports:{}};Hi.exports;(function(t,e){var n=200,o="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",m="[object GeneratorFunction]",g="[object Map]",f="[object Number]",v="[object Object]",p="[object Promise]",y="[object RegExp]",b="[object Set]",S="[object String]",P="[object Symbol]",A="[object WeakMap]",N="[object ArrayBuffer]",H="[object DataView]",L="[object Float32Array]",D="[object Float64Array]",k="[object Int8Array]",Y="[object Int16Array]",U="[object Int32Array]",I="[object Uint8Array]",E="[object Uint8ClampedArray]",h="[object Uint16Array]",Z="[object Uint32Array]",at=/[\\^$.*+?()[\]{}|]/g,J=/\w*$/,_t=/^\[object .+?Constructor\]$/,it=/^(?:0|[1-9]\d*)$/,ft={};ft[r]=ft[s]=ft[N]=ft[H]=ft[a]=ft[l]=ft[L]=ft[D]=ft[k]=ft[Y]=ft[U]=ft[g]=ft[f]=ft[v]=ft[y]=ft[b]=ft[S]=ft[P]=ft[I]=ft[E]=ft[h]=ft[Z]=!0,ft[u]=ft[d]=ft[A]=!1;var K=typeof sn=="object"&&sn&&sn.Object===Object&&sn,G=typeof self=="object"&&self&&self.Object===Object&&self,Ct=K||G||Function("return this")(),ct=e&&!e.nodeType&&e,pt=ct&&!0&&t&&!t.nodeType&&t,jt=pt&&pt.exports===ct;function Yt(w,W){return w.set(W[0],W[1]),w}function Bt(w,W){return w.add(W),w}function Lt(w,W){for(var lt=-1,kt=w?w.length:0;++lt<kt&&W(w[lt],lt,w)!==!1;);return w}function Ht(w,W){for(var lt=-1,kt=W.length,ce=w.length;++lt<kt;)w[ce+lt]=W[lt];return w}function qt(w,W,lt,kt){var ce=-1,ve=w?w.length:0;for(kt&&ve&&(lt=w[++ce]);++ce<ve;)lt=W(lt,w[ce],ce,w);return lt}function T(w,W){for(var lt=-1,kt=Array(w);++lt<w;)kt[lt]=W(lt);return kt}function R(w,W){return w==null?void 0:w[W]}function c(w){var W=!1;if(w!=null&&typeof w.toString!="function")try{W=!!(w+"")}catch{}return W}function B(w){var W=-1,lt=Array(w.size);return w.forEach(function(kt,ce){lt[++W]=[ce,kt]}),lt}function M(w,W){return function(lt){return w(W(lt))}}function C(w){var W=-1,lt=Array(w.size);return w.forEach(function(kt){lt[++W]=kt}),lt}var _=Array.prototype,x=Function.prototype,q=Object.prototype,j=Ct["__core-js_shared__"],V=function(){var w=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),tt=x.toString,rt=q.hasOwnProperty,nt=q.toString,mt=RegExp("^"+tt.call(rt).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=jt?Ct.Buffer:void 0,Ot=Ct.Symbol,Gt=Ct.Uint8Array,le=M(Object.getPrototypeOf,Object),Zt=Object.create,be=q.propertyIsEnumerable,Tt=_.splice,Pt=Object.getOwnPropertySymbols,oe=Dt?Dt.isBuffer:void 0,ne=M(Object.keys,Object),Te=_n(Ct,"DataView"),Me=_n(Ct,"Map"),Ye=_n(Ct,"Promise"),Be=_n(Ct,"Set"),Ce=_n(Ct,"WeakMap"),Ee=_n(Object,"create"),Le=$(Te),Yo=$(Me),mr=$(Ye),gr=$(Be),Jo=$(Ce),gn=Ot?Ot.prototype:void 0,Yn=gn?gn.valueOf:void 0;function Je(w){var W=-1,lt=w?w.length:0;for(this.clear();++W<lt;){var kt=w[W];this.set(kt[0],kt[1])}}function Jn(){this.__data__=Ee?Ee(null):{}}function Co(w){return this.has(w)&&delete this.__data__[w]}function So(w){var W=this.__data__;if(Ee){var lt=W[w];return lt===o?void 0:lt}return rt.call(W,w)?W[w]:void 0}function vr(w){var W=this.__data__;return Ee?W[w]!==void 0:rt.call(W,w)}function Qo(w,W){var lt=this.__data__;return lt[w]=Ee&&W===void 0?o:W,this}Je.prototype.clear=Jn,Je.prototype.delete=Co,Je.prototype.get=So,Je.prototype.has=vr,Je.prototype.set=Qo;function Re(w){var W=-1,lt=w?w.length:0;for(this.clear();++W<lt;){var kt=w[W];this.set(kt[0],kt[1])}}function ti(){this.__data__=[]}function Qn(w){var W=this.__data__,lt=yn(W,w);if(lt<0)return!1;var kt=W.length-1;return lt==kt?W.pop():Tt.call(W,lt,1),!0}function ei(w){var W=this.__data__,lt=yn(W,w);return lt<0?void 0:W[lt][1]}function yr(w){return yn(this.__data__,w)>-1}function ni(w,W){var lt=this.__data__,kt=yn(lt,w);return kt<0?lt.push([w,W]):lt[kt][1]=W,this}Re.prototype.clear=ti,Re.prototype.delete=Qn,Re.prototype.get=ei,Re.prototype.has=yr,Re.prototype.set=ni;function Fe(w){var W=-1,lt=w?w.length:0;for(this.clear();++W<lt;){var kt=w[W];this.set(kt[0],kt[1])}}function oi(){this.__data__={hash:new Je,map:new(Me||Re),string:new Je}}function ii(w){return zn(this,w).delete(w)}function vn(w){return zn(this,w).get(w)}function br(w){return zn(this,w).has(w)}function ri(w,W){return zn(this,w).set(w,W),this}Fe.prototype.clear=oi,Fe.prototype.delete=ii,Fe.prototype.get=vn,Fe.prototype.has=br,Fe.prototype.set=ri;function Qe(w){this.__data__=new Re(w)}function to(){this.__data__=new Re}function si(w){return this.__data__.delete(w)}function Io(w){return this.__data__.get(w)}function Eo(w){return this.__data__.has(w)}function ai(w,W){var lt=this.__data__;if(lt instanceof Re){var kt=lt.__data__;if(!Me||kt.length<n-1)return kt.push([w,W]),this;lt=this.__data__=new Fe(kt)}return lt.set(w,W),this}Qe.prototype.clear=to,Qe.prototype.delete=si,Qe.prototype.get=Io,Qe.prototype.has=Eo,Qe.prototype.set=ai;function li(w,W){var lt=ot(w)||X(w)?T(w.length,String):[],kt=lt.length,ce=!!kt;for(var ve in w)(W||rt.call(w,ve))&&!(ce&&(ve=="length"||Se(ve,kt)))&&lt.push(ve);return lt}function An(w,W,lt){var kt=w[W];(!(rt.call(w,W)&&F(kt,lt))||lt===void 0&&!(W in w))&&(w[W]=lt)}function yn(w,W){for(var lt=w.length;lt--;)if(F(w[lt][0],W))return lt;return-1}function _r(w,W){return w&&mi(W,$t(W),w)}function bn(w,W,lt,kt,ce,ve,De){var Pe;if(kt&&(Pe=ve?kt(w,ce,ve,De):kt(w)),Pe!==void 0)return Pe;if(!vt(w))return w;var bi=ot(w);if(bi){if(Pe=vi(w),!W)return Or(w,Pe)}else{var oo=tn(w),Fs=oo==d||oo==m;if(yt(w))return fi(w,W);if(oo==v||oo==r||Fs&&!ve){if(c(w))return ve?w:{};if(Pe=yi(Fs?{}:w),!W)return Pr(w,_r(Pe,w))}else{if(!ft[oo])return ve?w:{};Pe=kr(w,oo,bn,W)}}De||(De=new Qe);var Vs=De.get(w);if(Vs)return Vs;if(De.set(w,Pe),!bi)var js=lt?gi(w):$t(w);return Lt(js||w,function(Dr,_i){js&&(_i=Dr,Dr=w[_i]),An(Pe,_i,bn(Dr,W,lt,kt,_i,w,De))}),Pe}function ci(w){return vt(w)?Zt(w):{}}function ui(w,W,lt){var kt=W(w);return ot(w)?kt:Ht(kt,lt(w))}function wr(w){return nt.call(w)}function Cr(w){if(!vt(w)||ln(w))return!1;var W=et(w)||c(w)?mt:_t;return W.test($(w))}function di(w){if(!O(w))return ne(w);var W=[];for(var lt in Object(w))rt.call(w,lt)&&lt!="constructor"&&W.push(lt);return W}function fi(w,W){if(W)return w.slice();var lt=new w.constructor(w.length);return w.copy(lt),lt}function eo(w){var W=new w.constructor(w.byteLength);return new Gt(W).set(new Gt(w)),W}function hi(w,W){var lt=W?eo(w.buffer):w.buffer;return new w.constructor(lt,w.byteOffset,w.byteLength)}function pi(w,W,lt){var kt=W?lt(B(w),!0):B(w);return qt(kt,Yt,new w.constructor)}function Sr(w){var W=new w.constructor(w.source,J.exec(w));return W.lastIndex=w.lastIndex,W}function Ir(w,W,lt){var kt=W?lt(C(w),!0):C(w);return qt(kt,Bt,new w.constructor)}function Er(w){return Yn?Object(Yn.call(w)):{}}function xr(w,W){var lt=W?eo(w.buffer):w.buffer;return new w.constructor(lt,w.byteOffset,w.length)}function Or(w,W){var lt=-1,kt=w.length;for(W||(W=Array(kt));++lt<kt;)W[lt]=w[lt];return W}function mi(w,W,lt,kt){lt||(lt={});for(var ce=-1,ve=W.length;++ce<ve;){var De=W[ce],Pe=kt?kt(lt[De],w[De],De,lt,w):void 0;An(lt,De,Pe===void 0?w[De]:Pe)}return lt}function Pr(w,W){return mi(w,xo(w),W)}function gi(w){return ui(w,$t,xo)}function zn(w,W){var lt=w.__data__;return no(W)?lt[typeof W=="string"?"string":"hash"]:lt.map}function _n(w,W){var lt=R(w,W);return Cr(lt)?lt:void 0}var xo=Pt?M(Pt,Object):At,tn=wr;(Te&&tn(new Te(new ArrayBuffer(1)))!=H||Me&&tn(new Me)!=g||Ye&&tn(Ye.resolve())!=p||Be&&tn(new Be)!=b||Ce&&tn(new Ce)!=A)&&(tn=function(w){var W=nt.call(w),lt=W==v?w.constructor:void 0,kt=lt?$(lt):void 0;if(kt)switch(kt){case Le:return H;case Yo:return g;case mr:return p;case gr:return b;case Jo:return A}return W});function vi(w){var W=w.length,lt=w.constructor(W);return W&&typeof w[0]=="string"&&rt.call(w,"index")&&(lt.index=w.index,lt.input=w.input),lt}function yi(w){return typeof w.constructor=="function"&&!O(w)?ci(le(w)):{}}function kr(w,W,lt,kt){var ce=w.constructor;switch(W){case N:return eo(w);case a:case l:return new ce(+w);case H:return hi(w,kt);case L:case D:case k:case Y:case U:case I:case E:case h:case Z:return xr(w,kt);case g:return pi(w,kt,lt);case f:case S:return new ce(w);case y:return Sr(w);case b:return Ir(w,kt,lt);case P:return Er(w)}}function Se(w,W){return W=W??i,!!W&&(typeof w=="number"||it.test(w))&&w>-1&&w%1==0&&w<W}function no(w){var W=typeof w;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?w!=="__proto__":w===null}function ln(w){return!!V&&V in w}function O(w){var W=w&&w.constructor,lt=typeof W=="function"&&W.prototype||q;return w===lt}function $(w){if(w!=null){try{return tt.call(w)}catch{}try{return w+""}catch{}}return""}function z(w){return bn(w,!0,!0)}function F(w,W){return w===W||w!==w&&W!==W}function X(w){return ut(w)&&rt.call(w,"callee")&&(!be.call(w,"callee")||nt.call(w)==r)}var ot=Array.isArray;function gt(w){return w!=null&&st(w.length)&&!et(w)}function ut(w){return Et(w)&&gt(w)}var yt=oe||Ut;function et(w){var W=vt(w)?nt.call(w):"";return W==d||W==m}function st(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=i}function vt(w){var W=typeof w;return!!w&&(W=="object"||W=="function")}function Et(w){return!!w&&typeof w=="object"}function $t(w){return gt(w)?li(w):di(w)}function At(){return[]}function Ut(){return!1}t.exports=z})(Hi,Hi.exports);var _h=Hi.exports;const Ge=Ts(_h);let Pi;const wh=new Uint8Array(16);function Ch(){if(!Pi&&(Pi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pi(wh)}const xe=[];for(let t=0;t<256;++t)xe.push((t+256).toString(16).slice(1));function Sh(t,e=0){return(xe[t[e+0]]+xe[t[e+1]]+xe[t[e+2]]+xe[t[e+3]]+"-"+xe[t[e+4]]+xe[t[e+5]]+"-"+xe[t[e+6]]+xe[t[e+7]]+"-"+xe[t[e+8]]+xe[t[e+9]]+"-"+xe[t[e+10]]+xe[t[e+11]]+xe[t[e+12]]+xe[t[e+13]]+xe[t[e+14]]+xe[t[e+15]]).toLowerCase()}const Ih=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ta={randomUUID:Ih};function me(t,e,n){if(Ta.randomUUID&&!e&&!t)return Ta.randomUUID();t=t||{};const o=t.random||(t.rng||Ch)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=o[i];return e}return Sh(o)}var Oe=(t=>(t.Buffer="Buffer",t.CircuitNode="CircuitNode",t.InputNode="InputNode",t.IntegratedCircuit="IntegratedCircuit",t.LogicGate="LogicGate",t.OutputNode="OutputNode",t))(Oe||{}),Ft=(t=>(t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t))(Ft||{});function dr(t,e,n,o,i,r){return{id:t,defaultName:"",type:e,subtype:n,portIds:Object.values(r||{}).reduce((s,a)=>s.concat(a.map(({id:l})=>l)),[]),groupId:null,rotation:0,boundingBox:{top:0,left:0,right:o,bottom:i},position:{x:0,y:0},zIndex:0,width:o,height:i,isSelected:!1,properties:{name:{type:"text",label:"Name",value:""}}}}var re=(t=>(t.None="None",t.CustomCircuit="CustomCircuit",t.Switch="Switch",t.PushButton="PushButton",t.Clock="Clock",t.Lightbulb="Lightbulb",t.DigitDisplay="DigitDisplay",t.Buffer="Buffer",t.Not="Not",t.Tristate="Tristate",t.And="And",t.Or="Or",t.Nand="Nand",t.Nor="Nor",t.Xnor="Xnor",t.Xor="Xor",t))(re||{});function Eh(t,e,n,o,i=re.CustomCircuit){const{ports:r,items:s,connections:a,groups:l}=Ge(t),u=dr(me(),Oe.IntegratedCircuit,i,n,o);return Object.values(s).forEach(d=>{const m=d.portIds.map(p=>r[p]);let g=0;const f=m.reduce((p,y)=>p===void 0||p===y.type?y.type:null,void 0);if(typeof f!="number")return;const v=f===ye.Input?Ft.Right:Ft.Left;m.filter(p=>p.type===f).forEach(p=>{var P;const y=me(),b=f===ye.Input?ye.Output:ye.Input,S=b===ye.Input?`Input Port ${g}`:`Output Port ${g}`;(P=d.properties.name)!=null&&P.value||d.defaultName,r[y]={...Ge(p),type:b,defaultName:S,name:"",id:y,elementId:d.id,orientation:v,value:0},d.portIds.push(y),u.portIds.push(y)}),d.type=Oe.Buffer}),u.defaultName=e,u.integratedCircuit={items:s,connections:a,ports:r,groups:l,serializedState:JSON.stringify({items:t.items,connections:t.connections,ports:t.ports,groups:t.groups})},u}function ki(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tc={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(o,i,r){function s(u,d){if(!i[u]){if(!o[u]){var m=typeof ki=="function"&&ki;if(!d&&m)return m(u,!0);if(a)return a(u,!0);var g=new Error("Cannot find module '"+u+"'");throw g.code="MODULE_NOT_FOUND",g}var f=i[u]={exports:{}};o[u][0].call(f.exports,function(v){var p=o[u][1][v];return s(p||v)},f,f.exports,n,o,i,r)}return i[u].exports}for(var a=typeof ki=="function"&&ki,l=0;l<r.length;l++)s(r[l]);return s}({1:[function(n,o,i){var r=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,d,m,g,f,v,p,y=[],b=0,S=l.length,P=S,A=r.getTypeOf(l)!=="string";b<l.length;)P=S-b,m=A?(u=l[b++],d=b<S?l[b++]:0,b<S?l[b++]:0):(u=l.charCodeAt(b++),d=b<S?l.charCodeAt(b++):0,b<S?l.charCodeAt(b++):0),g=u>>2,f=(3&u)<<4|d>>4,v=1<P?(15&d)<<2|m>>6:64,p=2<P?63&m:64,y.push(a.charAt(g)+a.charAt(f)+a.charAt(v)+a.charAt(p));return y.join("")},i.decode=function(l){var u,d,m,g,f,v,p=0,y=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var S,P=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&P--,l.charAt(l.length-2)===a.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=s.uint8array?new Uint8Array(0|P):new Array(0|P);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(g=a.indexOf(l.charAt(p++)))>>4,d=(15&g)<<4|(f=a.indexOf(l.charAt(p++)))>>2,m=(3&f)<<6|(v=a.indexOf(l.charAt(p++))),S[y++]=u,f!==64&&(S[y++]=d),v!==64&&(S[y++]=m);return S}},{"./support":30,"./utils":32}],2:[function(n,o,i){var r=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(d,m,g,f,v){this.compressedSize=d,this.uncompressedSize=m,this.crc32=g,this.compression=f,this.compressedContent=v}u.prototype={getContentWorker:function(){var d=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,m,g){return d.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},o.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,i){var r=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,i){var r=n("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();o.exports=function(a,l){return a!==void 0&&a.length?r.getTypeOf(a)!=="string"?function(u,d,m,g){var f=s,v=g+m;u^=-1;for(var p=g;p<v;p++)u=u>>>8^f[255&(u^d[p])];return-1^u}(0|l,a,a.length,0):function(u,d,m,g){var f=s,v=g+m;u^=-1;for(var p=g;p<v;p++)u=u>>>8^f[255&(u^d.charCodeAt(p))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,o,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,o,i){var r=null;r=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:r}},{lie:37}],7:[function(n,o,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=r?"uint8array":"array";function d(m,g){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",a.inherits(d,l),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new d("Deflate",m)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,i){function r(f,v){var p,y="";for(p=0;p<v;p++)y+=String.fromCharCode(255&f),f>>>=8;return y}function s(f,v,p,y,b,S){var P,A,N=f.file,H=f.compression,L=S!==u.utf8encode,D=a.transformTo("string",S(N.name)),k=a.transformTo("string",u.utf8encode(N.name)),Y=N.comment,U=a.transformTo("string",S(Y)),I=a.transformTo("string",u.utf8encode(Y)),E=k.length!==N.name.length,h=I.length!==Y.length,Z="",at="",J="",_t=N.dir,it=N.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};v&&!p||(ft.crc32=f.crc32,ft.compressedSize=f.compressedSize,ft.uncompressedSize=f.uncompressedSize);var K=0;v&&(K|=8),L||!E&&!h||(K|=2048);var G=0,Ct=0;_t&&(G|=16),b==="UNIX"?(Ct=798,G|=function(pt,jt){var Yt=pt;return pt||(Yt=jt?16893:33204),(65535&Yt)<<16}(N.unixPermissions,_t)):(Ct=20,G|=function(pt){return 63&(pt||0)}(N.dosPermissions)),P=it.getUTCHours(),P<<=6,P|=it.getUTCMinutes(),P<<=5,P|=it.getUTCSeconds()/2,A=it.getUTCFullYear()-1980,A<<=4,A|=it.getUTCMonth()+1,A<<=5,A|=it.getUTCDate(),E&&(at=r(1,1)+r(d(D),4)+k,Z+="up"+r(at.length,2)+at),h&&(J=r(1,1)+r(d(U),4)+I,Z+="uc"+r(J.length,2)+J);var ct="";return ct+=`
\0`,ct+=r(K,2),ct+=H.magic,ct+=r(P,2),ct+=r(A,2),ct+=r(ft.crc32,4),ct+=r(ft.compressedSize,4),ct+=r(ft.uncompressedSize,4),ct+=r(D.length,2),ct+=r(Z.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ct+D+Z,dirRecord:m.CENTRAL_FILE_HEADER+r(Ct,2)+ct+r(U.length,2)+"\0\0\0\0"+r(G,4)+r(y,4)+D+Z+U}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),m=n("../signature");function g(f,v,p,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=p,this.encodeFileName=y,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(g,l),g.prototype.push=function(f){var v=f.meta.percent||0,p=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:p?(v+100*(p-y-1))/p:100}}))},g.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var v=this.streamFiles&&!f.file.dir;if(v){var p=s(f,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(f){this.accumulate=!1;var v=this.streamFiles&&!f.file.dir,p=s(f,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),v)this.push({data:function(y){return m.DATA_DESCRIPTOR+r(y.crc32,4)+r(y.compressedSize,4)+r(y.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var f=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var p=this.bytesWritten-f,y=function(b,S,P,A,N){var H=a.transformTo("string",N(A));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(b,2)+r(b,2)+r(S,4)+r(P,4)+r(H.length,2)+H}(this.dirRecords.length,p,f,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(f){this._sources.push(f);var v=this;return f.on("data",function(p){v.processChunk(p)}),f.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),f.on("error",function(p){v.error(p)}),this},g.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(f){var v=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var p=0;p<v.length;p++)try{v[p].error(f)}catch{}return!0},g.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,v=0;v<f.length;v++)f[v].lock()},o.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,i){var r=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var d=new s(l.streamFiles,u,l.platform,l.encodeFileName),m=0;try{a.forEach(function(g,f){m++;var v=function(S,P){var A=S||P,N=r[A];if(!N)throw new Error(A+" is not a valid compression method !");return N}(f.options.compression,l.compression),p=f.options.compressionOptions||l.compressionOptions||{},y=f.dir,b=f.date;f._compressWorker(v,p).withStreamInfo("file",{name:g,dir:y,date:b,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,i){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new r;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(s,a){return new r().loadAsync(s,a)},r.external=n("./external"),o.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,i){var r=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function m(g){return new s.Promise(function(f,v){var p=g.decompressed.getContentWorker().pipe(new u);p.on("error",function(y){v(y)}).on("end",function(){p.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}o.exports=function(g,f){var v=this;return f=r.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),d.isNode&&d.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",g,!0,f.optimizedBinaryString,f.base64).then(function(p){var y=new l(f);return y.load(p),y}).then(function(p){var y=[s.Promise.resolve(p)],b=p.files;if(f.checkCRC32)for(var S=0;S<b.length;S++)y.push(m(b[S]));return s.Promise.all(y)}).then(function(p){for(var y=p.shift(),b=y.files,S=0;S<b.length;S++){var P=b[S],A=P.fileNameStr,N=r.resolve(P.fileNameStr);v.file(N,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:f.createFolders}),P.dir||(v.file(N).unsafeOriginalName=A)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,i){var r=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}r.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,i){var r=n("readable-stream").Readable;function s(a,l,u){r.call(this,l),this._helper=a;var d=this;a.on("data",function(m,g){d.push(m)||d._helper.pause(),u&&u(g)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}n("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,i){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,s);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,s)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var s=new Buffer(r);return s.fill(0),s},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,o,i){function r(N,H,L){var D,k=a.getTypeOf(H),Y=a.extend(L||{},d);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(N=b(N)),Y.createFolders&&(D=y(N))&&S.call(this,D,!0);var U=k==="string"&&Y.binary===!1&&Y.base64===!1;L&&L.binary!==void 0||(Y.binary=!U),(H instanceof m&&H.uncompressedSize===0||Y.dir||!H||H.length===0)&&(Y.base64=!1,Y.binary=!0,H="",Y.compression="STORE",k="string");var I=null;I=H instanceof m||H instanceof l?H:v.isNode&&v.isStream(H)?new p(N,H):a.prepareContent(N,H,Y.binary,Y.optimizedBinaryString,Y.base64);var E=new g(N,I,Y);this.files[N]=E}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),m=n("./compressedObject"),g=n("./zipObject"),f=n("./generate"),v=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),y=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var H=N.lastIndexOf("/");return 0<H?N.substring(0,H):""},b=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},S=function(N,H){return H=H!==void 0?H:d.createFolders,N=b(N),this.files[N]||r.call(this,N,null,{dir:!0,createFolders:H}),this.files[N]};function P(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var H,L,D;for(H in this.files)D=this.files[H],(L=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&N(L,D)},filter:function(N){var H=[];return this.forEach(function(L,D){N(L,D)&&H.push(D)}),H},file:function(N,H,L){if(arguments.length!==1)return N=this.root+N,r.call(this,N,H,L),this;if(P(N)){var D=N;return this.filter(function(Y,U){return!U.dir&&D.test(Y)})}var k=this.files[this.root+N];return k&&!k.dir?k:null},folder:function(N){if(!N)return this;if(P(N))return this.filter(function(k,Y){return Y.dir&&N.test(k)});var H=this.root+N,L=S.call(this,H),D=this.clone();return D.root=L.name,D},remove:function(N){N=this.root+N;var H=this.files[N];if(H||(N.slice(-1)!=="/"&&(N+="/"),H=this.files[N]),H&&!H.dir)delete this.files[N];else for(var L=this.filter(function(k,Y){return Y.name.slice(0,N.length)===N}),D=0;D<L.length;D++)delete this.files[L[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var H,L={};try{if((L=a.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");a.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var D=L.comment||this.comment||"";H=f.generateWorker(this,L,D)}catch(k){(H=new l("error")).error(k)}return new u(H,L.type||"string",L.mimeType)},generateAsync:function(N,H){return this.generateInternalStream(N).accumulate(H)},generateNodeStream:function(N,H){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(H)}};o.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,i){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,i){var r=n("./DataReader");function s(a){r.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===l&&this.data[g+1]===u&&this.data[g+2]===d&&this.data[g+3]===m)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),d=a.charCodeAt(2),m=a.charCodeAt(3),g=this.readData(4);return l===g[0]&&u===g[1]&&d===g[2]&&m===g[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,i){var r=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return r.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,i){var r=n("./Uint8ArrayReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,i){var r=n("./DataReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,i){var r=n("./ArrayReader");function s(a){r.call(this,a)}n("../utils").inherits(s,r),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,i){var r=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");o.exports=function(m){var g=r.getTypeOf(m);return r.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new u(m):s.uint8array?new d(r.transformTo("uint8array",m)):new a(r.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,i){var r=n("./GenericWorker"),s=n("../utils");function a(l){r.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,r),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,i){var r=n("./GenericWorker"),s=n("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,r),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,i){var r=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,i){var r=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=r.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}r.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,i){function r(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=r},{}],29:[function(n,o,i){var r=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),d=n("../external"),m=null;if(u.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,p){return new d.Promise(function(y,b){var S=[],P=v._internalType,A=v._outputType,N=v._mimeType;v.on("data",function(H,L){S.push(H),p&&p(L)}).on("error",function(H){S=[],b(H)}).on("end",function(){try{var H=function(L,D,k){switch(L){case"blob":return r.newBlob(r.transformTo("arraybuffer",D),k);case"base64":return l.encode(D);default:return r.transformTo(L,D)}}(A,function(L,D){var k,Y=0,U=null,I=0;for(k=0;k<D.length;k++)I+=D[k].length;switch(L){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(U=new Uint8Array(I),k=0;k<D.length;k++)U.set(D[k],Y),Y+=D[k].length;return U;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+L+"'")}}(P,S),N);y(H)}catch(L){b(L)}S=[]}).resume()})}function f(v,p,y){var b=p;switch(p){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=p,this._mimeType=y,r.checkSupport(b),this._worker=v.pipe(new s(b)),v.lock()}catch(S){this._worker=new a("error"),this._worker.error(S)}}f.prototype={accumulate:function(v){return g(this,v)},on:function(v,p){var y=this;return v==="data"?this._worker.on(v,function(b){p.call(y,b.data,b.meta)}):this._worker.on(v,function(){r.delay(p,arguments,y)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},v)}},o.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,i){for(var r=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function g(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return s.nodebuffer?a.newBufferFrom(f,"utf-8"):function(v){var p,y,b,S,P,A=v.length,N=0;for(S=0;S<A;S++)(64512&(y=v.charCodeAt(S)))==55296&&S+1<A&&(64512&(b=v.charCodeAt(S+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),S++),N+=y<128?1:y<2048?2:y<65536?3:4;for(p=s.uint8array?new Uint8Array(N):new Array(N),S=P=0;P<N;S++)(64512&(y=v.charCodeAt(S)))==55296&&S+1<A&&(64512&(b=v.charCodeAt(S+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),S++),y<128?p[P++]=y:(y<2048?p[P++]=192|y>>>6:(y<65536?p[P++]=224|y>>>12:(p[P++]=240|y>>>18,p[P++]=128|y>>>12&63),p[P++]=128|y>>>6&63),p[P++]=128|63&y);return p}(f)},i.utf8decode=function(f){return s.nodebuffer?r.transformTo("nodebuffer",f).toString("utf-8"):function(v){var p,y,b,S,P=v.length,A=new Array(2*P);for(p=y=0;p<P;)if((b=v[p++])<128)A[y++]=b;else if(4<(S=u[b]))A[y++]=65533,p+=S-1;else{for(b&=S===2?31:S===3?15:7;1<S&&p<P;)b=b<<6|63&v[p++],S--;1<S?A[y++]=65533:b<65536?A[y++]=b:(b-=65536,A[y++]=55296|b>>10&1023,A[y++]=56320|1023&b)}return A.length!==y&&(A.subarray?A=A.subarray(0,y):A.length=y),r.applyFromCharCode(A)}(f=r.transformTo(s.uint8array?"uint8array":"array",f))},r.inherits(m,l),m.prototype.processChunk=function(f){var v=r.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=v;(v=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),v.set(p,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=function(S,P){var A;for((P=P||S.length)>S.length&&(P=S.length),A=P-1;0<=A&&(192&S[A])==128;)A--;return A<0||A===0?P:A+u[S[A]]>P?A:P}(v),b=v;y!==v.length&&(s.uint8array?(b=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(b=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(b),meta:f.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,r.inherits(g,l),g.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,i){var r=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(p){return p}function d(p,y){for(var b=0;b<p.length;++b)y[b]=255&p.charCodeAt(b);return y}n("setimmediate"),i.newBlob=function(p,y){i.checkSupport("blob");try{return new Blob([p],{type:y})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(p),b.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(p,y,b){var S=[],P=0,A=p.length;if(A<=b)return String.fromCharCode.apply(null,p);for(;P<A;)y==="array"||y==="nodebuffer"?S.push(String.fromCharCode.apply(null,p.slice(P,Math.min(P+b,A)))):S.push(String.fromCharCode.apply(null,p.subarray(P,Math.min(P+b,A)))),P+=b;return S.join("")},stringifyByChar:function(p){for(var y="",b=0;b<p.length;b++)y+=String.fromCharCode(p[b]);return y},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function g(p){var y=65536,b=i.getTypeOf(p),S=!0;if(b==="uint8array"?S=m.applyCanBeUsed.uint8array:b==="nodebuffer"&&(S=m.applyCanBeUsed.nodebuffer),S)for(;1<y;)try{return m.stringifyByChunk(p,b,y)}catch{y=Math.floor(y/2)}return m.stringifyByChar(p)}function f(p,y){for(var b=0;b<p.length;b++)y[b]=p[b];return y}i.applyFromCharCode=g;var v={};v.string={string:u,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return v.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,a.allocBuffer(p.length))}},v.array={string:g,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},v.arraybuffer={string:function(p){return g(new Uint8Array(p))},array:function(p){return f(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},v.uint8array={string:g,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},v.nodebuffer={string:g,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return v.nodebuffer.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,y){if(y=y||"",!p)return y;i.checkSupport(p);var b=i.getTypeOf(y);return v[b][p](y)},i.resolve=function(p){for(var y=p.split("/"),b=[],S=0;S<y.length;S++){var P=y[S];P==="."||P===""&&S!==0&&S!==y.length-1||(P===".."?b.pop():b.push(P))}return b.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":r.nodebuffer&&a.isBuffer(p)?"nodebuffer":r.uint8array&&p instanceof Uint8Array?"uint8array":r.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!r[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var y,b,S="";for(b=0;b<(p||"").length;b++)S+="\\x"+((y=p.charCodeAt(b))<16?"0":"")+y.toString(16).toUpperCase();return S},i.delay=function(p,y,b){setImmediate(function(){p.apply(b||null,y||[])})},i.inherits=function(p,y){function b(){}b.prototype=y.prototype,p.prototype=new b},i.extend=function(){var p,y,b={};for(p=0;p<arguments.length;p++)for(y in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],y)&&b[y]===void 0&&(b[y]=arguments[p][y]);return b},i.prepareContent=function(p,y,b,S,P){return l.Promise.resolve(y).then(function(A){return r.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,H){var L=new FileReader;L.onload=function(D){N(D.target.result)},L.onerror=function(D){H(D.target.error)},L.readAsArrayBuffer(A)}):A}).then(function(A){var N=i.getTypeOf(A);return N?(N==="arraybuffer"?A=i.transformTo("uint8array",A):N==="string"&&(P?A=s.decode(A):b&&S!==!0&&(A=function(H){return d(H,r.uint8array?new Uint8Array(H.length):new Array(H.length))}(A))),A):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,i){var r=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(m)+")")}},isSignature:function(m,g){var f=this.reader.index;this.reader.setIndex(m);var v=this.reader.readString(4)===g;return this.reader.setIndex(f),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=u.uint8array?"uint8array":"array",f=s.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,f,v=this.zip64EndOfCentralSize-44;0<v;)m=this.reader.readInt(2),g=this.reader.readInt(4),f=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var v=g-f;if(0<v)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(m){this.reader=r(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,i){var r=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),d=n("./compressions"),m=n("./support");function g(f,v){this.options=f,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var v,p;if(f.skip(22),this.fileNameLength=f.readInt(2),p=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(y){for(var b in d)if(Object.prototype.hasOwnProperty.call(d,b)&&d[b].magic===y)return d[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var v=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(v),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var v,p,y,b=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<b;)v=f.readInt(2),p=f.readInt(2),y=f.readData(p),this.extraFields[v]={id:v,length:p,value:y};f.setIndex(b)},handleUTF8:function(){var f=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var p=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var v=r(f.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var v=r(f.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(f.length-5))}return null}},o.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,i){function r(v,p,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=p,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");r.prototype={internalStream:function(v){var p=null,y="string";try{if(!v)throw new Error("No output type specified.");var b=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),p=this._decompressWorker();var S=!this._dataBinary;S&&!b&&(p=p.pipe(new l.Utf8EncodeWorker)),!S&&b&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(P){(p=new d("error")).error(P)}return new s(p,y,"")},async:function(v,p){return this.internalStream(v).accumulate(p)},nodeStream:function(v,p){return this.internalStream(v||"nodebuffer").toNodejsStream(p)},_compressWorker:function(v,p){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(y,v,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<m.length;f++)r.prototype[m[f]]=g;o.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,i){(function(r){var s,a,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var u=0,d=new l(v),m=r.document.createTextNode("");d.observe(m,{characterData:!0}),s=function(){m.data=u=++u%2}}else if(r.setImmediate||r.MessageChannel===void 0)s="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var p=r.document.createElement("script");p.onreadystatechange=function(){v(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},r.document.documentElement.appendChild(p)}:function(){setTimeout(v,0)};else{var g=new r.MessageChannel;g.port1.onmessage=v,s=function(){g.port2.postMessage(0)}}var f=[];function v(){var p,y;a=!0;for(var b=f.length;b;){for(y=f,f=[],p=-1;++p<b;)y[p]();b=f.length}a=!1}o.exports=function(p){f.push(p)!==1||a||s()}}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,i){var r=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function m(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,b!==s&&p(this,b)}function g(b,S,P){this.promise=b,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function f(b,S,P){r(function(){var A;try{A=S(P)}catch(N){return a.reject(b,N)}A===b?a.reject(b,new TypeError("Cannot resolve promise with itself")):a.resolve(b,A)})}function v(b){var S=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof S=="function")return function(){S.apply(b,arguments)}}function p(b,S){var P=!1;function A(L){P||(P=!0,a.reject(b,L))}function N(L){P||(P=!0,a.resolve(b,L))}var H=y(function(){S(N,A)});H.status==="error"&&A(H.value)}function y(b,S){var P={};try{P.value=b(S),P.status="success"}catch(A){P.status="error",P.value=A}return P}(o.exports=m).prototype.finally=function(b){if(typeof b!="function")return this;var S=this.constructor;return this.then(function(P){return S.resolve(b()).then(function(){return P})},function(P){return S.resolve(b()).then(function(){throw P})})},m.prototype.catch=function(b){return this.then(null,b)},m.prototype.then=function(b,S){if(typeof b!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var P=new this.constructor(s);return this.state!==d?f(P,this.state===u?b:S,this.outcome):this.queue.push(new g(P,b,S)),P},g.prototype.callFulfilled=function(b){a.resolve(this.promise,b)},g.prototype.otherCallFulfilled=function(b){f(this.promise,this.onFulfilled,b)},g.prototype.callRejected=function(b){a.reject(this.promise,b)},g.prototype.otherCallRejected=function(b){f(this.promise,this.onRejected,b)},a.resolve=function(b,S){var P=y(v,S);if(P.status==="error")return a.reject(b,P.value);var A=P.value;if(A)p(b,A);else{b.state=u,b.outcome=S;for(var N=-1,H=b.queue.length;++N<H;)b.queue[N].callFulfilled(S)}return b},a.reject=function(b,S){b.state=l,b.outcome=S;for(var P=-1,A=b.queue.length;++P<A;)b.queue[P].callRejected(S);return b},m.resolve=function(b){return b instanceof this?b:a.resolve(new this(s),b)},m.reject=function(b){var S=new this(s);return a.reject(S,b)},m.all=function(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,A=!1;if(!P)return this.resolve([]);for(var N=new Array(P),H=0,L=-1,D=new this(s);++L<P;)k(b[L],L);return D;function k(Y,U){S.resolve(Y).then(function(I){N[U]=I,++H!==P||A||(A=!0,a.resolve(D,N))},function(I){A||(A=!0,a.reject(D,I))})}},m.race=function(b){var S=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,A=!1;if(!P)return this.resolve([]);for(var N=-1,H=new this(s);++N<P;)L=b[N],S.resolve(L).then(function(D){A||(A=!0,a.resolve(H,D))},function(D){A||(A=!0,a.reject(H,D))});var L;return H}},{immediate:36}],38:[function(n,o,i){var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,i){var r=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,m=0,g=-1,f=0,v=8;function p(b){if(!(this instanceof p))return new p(b);this.options=s.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},b||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var P=r.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(P!==m)throw new Error(l[P]);if(S.header&&r.deflateSetHeader(this.strm,S.header),S.dictionary){var A;if(A=typeof S.dictionary=="string"?a.string2buf(S.dictionary):d.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(P=r.deflateSetDictionary(this.strm,A))!==m)throw new Error(l[P]);this._dict_set=!0}}function y(b,S){var P=new p(S);if(P.push(b,!0),P.err)throw P.msg||l[P.err];return P.result}p.prototype.push=function(b,S){var P,A,N=this.strm,H=this.options.chunkSize;if(this.ended)return!1;A=S===~~S?S:S===!0?4:0,typeof b=="string"?N.input=a.string2buf(b):d.call(b)==="[object ArrayBuffer]"?N.input=new Uint8Array(b):N.input=b,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new s.Buf8(H),N.next_out=0,N.avail_out=H),(P=r.deflate(N,A))!==1&&P!==m)return this.onEnd(P),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(N.output,N.next_out))):this.onData(s.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&P!==1);return A===4?(P=r.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===m):A!==2||(this.onEnd(m),!(N.avail_out=0))},p.prototype.onData=function(b){this.chunks.push(b)},p.prototype.onEnd=function(b){b===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=p,i.deflate=y,i.deflateRaw=function(b,S){return(S=S||{}).raw=!0,y(b,S)},i.gzip=function(b,S){return(S=S||{}).gzip=!0,y(b,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,i){var r=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),m=n("./zlib/gzheader"),g=Object.prototype.toString;function f(p){if(!(this instanceof f))return new f(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||p&&p.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var b=r.inflateInit2(this.strm,y.windowBits);if(b!==l.Z_OK)throw new Error(u[b]);this.header=new m,r.inflateGetHeader(this.strm,this.header)}function v(p,y){var b=new f(y);if(b.push(p,!0),b.err)throw b.msg||u[b.err];return b.result}f.prototype.push=function(p,y){var b,S,P,A,N,H,L=this.strm,D=this.options.chunkSize,k=this.options.dictionary,Y=!1;if(this.ended)return!1;S=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?L.input=a.binstring2buf(p):g.call(p)==="[object ArrayBuffer]"?L.input=new Uint8Array(p):L.input=p,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(D),L.next_out=0,L.avail_out=D),(b=r.inflate(L,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&k&&(H=typeof k=="string"?a.string2buf(k):g.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,b=r.inflateSetDictionary(this.strm,H)),b===l.Z_BUF_ERROR&&Y===!0&&(b=l.Z_OK,Y=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&b!==l.Z_STREAM_END&&(L.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=a.utf8border(L.output,L.next_out),A=L.next_out-P,N=a.buf2string(L.output,P),L.next_out=A,L.avail_out=D-A,A&&s.arraySet(L.output,L.output,P,A,0),this.onData(N)):this.onData(s.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(Y=!0)}while((0<L.avail_in||L.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(b=r.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(L.avail_out=0))},f.prototype.onData=function(p){this.chunks.push(p)},f.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=f,i.inflate=v,i.inflateRaw=function(p,y){return(y=y||{}).raw=!0,v(p,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,i){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(l[m]=d[m])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,d,m,g){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+m),g);else for(var f=0;f<m;f++)l[g+f]=u[d+f]},flattenChunks:function(l){var u,d,m,g,f,v;for(u=m=0,d=l.length;u<d;u++)m+=l[u].length;for(v=new Uint8Array(m),u=g=0,d=l.length;u<d;u++)f=l[u],v.set(f,g),g+=f.length;return v}},a={arraySet:function(l,u,d,m,g){for(var f=0;f<m;f++)l[g+f]=u[d+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(r)},{}],42:[function(n,o,i){var r=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new r.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(m,g){if(g<65537&&(m.subarray&&a||!m.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(m,g));for(var f="",v=0;v<g;v++)f+=String.fromCharCode(m[v]);return f}l[254]=l[254]=1,i.string2buf=function(m){var g,f,v,p,y,b=m.length,S=0;for(p=0;p<b;p++)(64512&(f=m.charCodeAt(p)))==55296&&p+1<b&&(64512&(v=m.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(v-56320),p++),S+=f<128?1:f<2048?2:f<65536?3:4;for(g=new r.Buf8(S),p=y=0;y<S;p++)(64512&(f=m.charCodeAt(p)))==55296&&p+1<b&&(64512&(v=m.charCodeAt(p+1)))==56320&&(f=65536+(f-55296<<10)+(v-56320),p++),f<128?g[y++]=f:(f<2048?g[y++]=192|f>>>6:(f<65536?g[y++]=224|f>>>12:(g[y++]=240|f>>>18,g[y++]=128|f>>>12&63),g[y++]=128|f>>>6&63),g[y++]=128|63&f);return g},i.buf2binstring=function(m){return d(m,m.length)},i.binstring2buf=function(m){for(var g=new r.Buf8(m.length),f=0,v=g.length;f<v;f++)g[f]=m.charCodeAt(f);return g},i.buf2string=function(m,g){var f,v,p,y,b=g||m.length,S=new Array(2*b);for(f=v=0;f<b;)if((p=m[f++])<128)S[v++]=p;else if(4<(y=l[p]))S[v++]=65533,f+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&f<b;)p=p<<6|63&m[f++],y--;1<y?S[v++]=65533:p<65536?S[v++]=p:(p-=65536,S[v++]=55296|p>>10&1023,S[v++]=56320|1023&p)}return d(S,v)},i.utf8border=function(m,g){var f;for((g=g||m.length)>m.length&&(g=m.length),f=g-1;0<=f&&(192&m[f])==128;)f--;return f<0||f===0?g:f+l[m[f]]>g?f:g}},{"./common":41}],43:[function(n,o,i){o.exports=function(r,s,a,l){for(var u=65535&r|0,d=r>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;d=d+(u=u+s[l++]|0)|0,--m;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,o,i){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,i){var r=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();o.exports=function(s,a,l,u){var d=r,m=u+l;s^=-1;for(var g=u;g<m;g++)s=s>>>8^d[255&(s^a[g])];return-1^s}},{}],46:[function(n,o,i){var r,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),d=n("./messages"),m=0,g=4,f=0,v=-2,p=-1,y=4,b=2,S=8,P=9,A=286,N=30,H=19,L=2*A+1,D=15,k=3,Y=258,U=Y+k+1,I=42,E=113,h=1,Z=2,at=3,J=4;function _t(c,B){return c.msg=d[B],B}function it(c){return(c<<1)-(4<c?9:0)}function ft(c){for(var B=c.length;0<=--B;)c[B]=0}function K(c){var B=c.state,M=B.pending;M>c.avail_out&&(M=c.avail_out),M!==0&&(s.arraySet(c.output,B.pending_buf,B.pending_out,M,c.next_out),c.next_out+=M,B.pending_out+=M,c.total_out+=M,c.avail_out-=M,B.pending-=M,B.pending===0&&(B.pending_out=0))}function G(c,B){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,B),c.block_start=c.strstart,K(c.strm)}function Ct(c,B){c.pending_buf[c.pending++]=B}function ct(c,B){c.pending_buf[c.pending++]=B>>>8&255,c.pending_buf[c.pending++]=255&B}function pt(c,B){var M,C,_=c.max_chain_length,x=c.strstart,q=c.prev_length,j=c.nice_match,V=c.strstart>c.w_size-U?c.strstart-(c.w_size-U):0,tt=c.window,rt=c.w_mask,nt=c.prev,mt=c.strstart+Y,Dt=tt[x+q-1],Ot=tt[x+q];c.prev_length>=c.good_match&&(_>>=2),j>c.lookahead&&(j=c.lookahead);do if(tt[(M=B)+q]===Ot&&tt[M+q-1]===Dt&&tt[M]===tt[x]&&tt[++M]===tt[x+1]){x+=2,M++;do;while(tt[++x]===tt[++M]&&tt[++x]===tt[++M]&&tt[++x]===tt[++M]&&tt[++x]===tt[++M]&&tt[++x]===tt[++M]&&tt[++x]===tt[++M]&&tt[++x]===tt[++M]&&tt[++x]===tt[++M]&&x<mt);if(C=Y-(mt-x),x=mt-Y,q<C){if(c.match_start=B,j<=(q=C))break;Dt=tt[x+q-1],Ot=tt[x+q]}}while((B=nt[B&rt])>V&&--_!=0);return q<=c.lookahead?q:c.lookahead}function jt(c){var B,M,C,_,x,q,j,V,tt,rt,nt=c.w_size;do{if(_=c.window_size-c.lookahead-c.strstart,c.strstart>=nt+(nt-U)){for(s.arraySet(c.window,c.window,nt,nt,0),c.match_start-=nt,c.strstart-=nt,c.block_start-=nt,B=M=c.hash_size;C=c.head[--B],c.head[B]=nt<=C?C-nt:0,--M;);for(B=M=nt;C=c.prev[--B],c.prev[B]=nt<=C?C-nt:0,--M;);_+=nt}if(c.strm.avail_in===0)break;if(q=c.strm,j=c.window,V=c.strstart+c.lookahead,tt=_,rt=void 0,rt=q.avail_in,tt<rt&&(rt=tt),M=rt===0?0:(q.avail_in-=rt,s.arraySet(j,q.input,q.next_in,rt,V),q.state.wrap===1?q.adler=l(q.adler,j,rt,V):q.state.wrap===2&&(q.adler=u(q.adler,j,rt,V)),q.next_in+=rt,q.total_in+=rt,rt),c.lookahead+=M,c.lookahead+c.insert>=k)for(x=c.strstart-c.insert,c.ins_h=c.window[x],c.ins_h=(c.ins_h<<c.hash_shift^c.window[x+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[x+k-1])&c.hash_mask,c.prev[x&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=x,x++,c.insert--,!(c.lookahead+c.insert<k)););}while(c.lookahead<U&&c.strm.avail_in!==0)}function Yt(c,B){for(var M,C;;){if(c.lookahead<U){if(jt(c),c.lookahead<U&&B===m)return h;if(c.lookahead===0)break}if(M=0,c.lookahead>=k&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+k-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),M!==0&&c.strstart-M<=c.w_size-U&&(c.match_length=pt(c,M)),c.match_length>=k)if(C=a._tr_tally(c,c.strstart-c.match_start,c.match_length-k),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=k){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+k-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else C=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(C&&(G(c,!1),c.strm.avail_out===0))return h}return c.insert=c.strstart<k-1?c.strstart:k-1,B===g?(G(c,!0),c.strm.avail_out===0?at:J):c.last_lit&&(G(c,!1),c.strm.avail_out===0)?h:Z}function Bt(c,B){for(var M,C,_;;){if(c.lookahead<U){if(jt(c),c.lookahead<U&&B===m)return h;if(c.lookahead===0)break}if(M=0,c.lookahead>=k&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+k-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=k-1,M!==0&&c.prev_length<c.max_lazy_match&&c.strstart-M<=c.w_size-U&&(c.match_length=pt(c,M),c.match_length<=5&&(c.strategy===1||c.match_length===k&&4096<c.strstart-c.match_start)&&(c.match_length=k-1)),c.prev_length>=k&&c.match_length<=c.prev_length){for(_=c.strstart+c.lookahead-k,C=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-k),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=_&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+k-1])&c.hash_mask,M=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=k-1,c.strstart++,C&&(G(c,!1),c.strm.avail_out===0))return h}else if(c.match_available){if((C=a._tr_tally(c,0,c.window[c.strstart-1]))&&G(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return h}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(C=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<k-1?c.strstart:k-1,B===g?(G(c,!0),c.strm.avail_out===0?at:J):c.last_lit&&(G(c,!1),c.strm.avail_out===0)?h:Z}function Lt(c,B,M,C,_){this.good_length=c,this.max_lazy=B,this.nice_length=M,this.max_chain=C,this.func=_}function Ht(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*L),this.dyn_dtree=new s.Buf16(2*(2*N+1)),this.bl_tree=new s.Buf16(2*(2*H+1)),ft(this.dyn_ltree),ft(this.dyn_dtree),ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(D+1),this.heap=new s.Buf16(2*A+1),ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*A+1),ft(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function qt(c){var B;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=b,(B=c.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?I:E,c.adler=B.wrap===2?0:1,B.last_flush=m,a._tr_init(B),f):_t(c,v)}function T(c){var B=qt(c);return B===f&&function(M){M.window_size=2*M.w_size,ft(M.head),M.max_lazy_match=r[M.level].max_lazy,M.good_match=r[M.level].good_length,M.nice_match=r[M.level].nice_length,M.max_chain_length=r[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=k-1,M.match_available=0,M.ins_h=0}(c.state),B}function R(c,B,M,C,_,x){if(!c)return v;var q=1;if(B===p&&(B=6),C<0?(q=0,C=-C):15<C&&(q=2,C-=16),_<1||P<_||M!==S||C<8||15<C||B<0||9<B||x<0||y<x)return _t(c,v);C===8&&(C=9);var j=new Ht;return(c.state=j).strm=c,j.wrap=q,j.gzhead=null,j.w_bits=C,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=_+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+k-1)/k),j.window=new s.Buf8(2*j.w_size),j.head=new s.Buf16(j.hash_size),j.prev=new s.Buf16(j.w_size),j.lit_bufsize=1<<_+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new s.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=B,j.strategy=x,j.method=M,T(c)}r=[new Lt(0,0,0,0,function(c,B){var M=65535;for(M>c.pending_buf_size-5&&(M=c.pending_buf_size-5);;){if(c.lookahead<=1){if(jt(c),c.lookahead===0&&B===m)return h;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var C=c.block_start+M;if((c.strstart===0||c.strstart>=C)&&(c.lookahead=c.strstart-C,c.strstart=C,G(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-U&&(G(c,!1),c.strm.avail_out===0))return h}return c.insert=0,B===g?(G(c,!0),c.strm.avail_out===0?at:J):(c.strstart>c.block_start&&(G(c,!1),c.strm.avail_out),h)}),new Lt(4,4,8,4,Yt),new Lt(4,5,16,8,Yt),new Lt(4,6,32,32,Yt),new Lt(4,4,16,16,Bt),new Lt(8,16,32,32,Bt),new Lt(8,16,128,128,Bt),new Lt(8,32,128,256,Bt),new Lt(32,128,258,1024,Bt),new Lt(32,258,258,4096,Bt)],i.deflateInit=function(c,B){return R(c,B,S,15,8,0)},i.deflateInit2=R,i.deflateReset=T,i.deflateResetKeep=qt,i.deflateSetHeader=function(c,B){return c&&c.state?c.state.wrap!==2?v:(c.state.gzhead=B,f):v},i.deflate=function(c,B){var M,C,_,x;if(!c||!c.state||5<B||B<0)return c?_t(c,v):v;if(C=c.state,!c.output||!c.input&&c.avail_in!==0||C.status===666&&B!==g)return _t(c,c.avail_out===0?-5:v);if(C.strm=c,M=C.last_flush,C.last_flush=B,C.status===I)if(C.wrap===2)c.adler=0,Ct(C,31),Ct(C,139),Ct(C,8),C.gzhead?(Ct(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),Ct(C,255&C.gzhead.time),Ct(C,C.gzhead.time>>8&255),Ct(C,C.gzhead.time>>16&255),Ct(C,C.gzhead.time>>24&255),Ct(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ct(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(Ct(C,255&C.gzhead.extra.length),Ct(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(c.adler=u(c.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(Ct(C,0),Ct(C,0),Ct(C,0),Ct(C,0),Ct(C,0),Ct(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ct(C,3),C.status=E);else{var q=S+(C.w_bits-8<<4)<<8;q|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(q|=32),q+=31-q%31,C.status=E,ct(C,q),C.strstart!==0&&(ct(C,c.adler>>>16),ct(C,65535&c.adler)),c.adler=1}if(C.status===69)if(C.gzhead.extra){for(_=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),K(c),_=C.pending,C.pending!==C.pending_buf_size));)Ct(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),K(c),_=C.pending,C.pending===C.pending_buf_size)){x=1;break}x=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,Ct(C,x)}while(x!==0);C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),x===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),K(c),_=C.pending,C.pending===C.pending_buf_size)){x=1;break}x=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,Ct(C,x)}while(x!==0);C.gzhead.hcrc&&C.pending>_&&(c.adler=u(c.adler,C.pending_buf,C.pending-_,_)),x===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&K(c),C.pending+2<=C.pending_buf_size&&(Ct(C,255&c.adler),Ct(C,c.adler>>8&255),c.adler=0,C.status=E)):C.status=E),C.pending!==0){if(K(c),c.avail_out===0)return C.last_flush=-1,f}else if(c.avail_in===0&&it(B)<=it(M)&&B!==g)return _t(c,-5);if(C.status===666&&c.avail_in!==0)return _t(c,-5);if(c.avail_in!==0||C.lookahead!==0||B!==m&&C.status!==666){var j=C.strategy===2?function(V,tt){for(var rt;;){if(V.lookahead===0&&(jt(V),V.lookahead===0)){if(tt===m)return h;break}if(V.match_length=0,rt=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,rt&&(G(V,!1),V.strm.avail_out===0))return h}return V.insert=0,tt===g?(G(V,!0),V.strm.avail_out===0?at:J):V.last_lit&&(G(V,!1),V.strm.avail_out===0)?h:Z}(C,B):C.strategy===3?function(V,tt){for(var rt,nt,mt,Dt,Ot=V.window;;){if(V.lookahead<=Y){if(jt(V),V.lookahead<=Y&&tt===m)return h;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=k&&0<V.strstart&&(nt=Ot[mt=V.strstart-1])===Ot[++mt]&&nt===Ot[++mt]&&nt===Ot[++mt]){Dt=V.strstart+Y;do;while(nt===Ot[++mt]&&nt===Ot[++mt]&&nt===Ot[++mt]&&nt===Ot[++mt]&&nt===Ot[++mt]&&nt===Ot[++mt]&&nt===Ot[++mt]&&nt===Ot[++mt]&&mt<Dt);V.match_length=Y-(Dt-mt),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=k?(rt=a._tr_tally(V,1,V.match_length-k),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(rt=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),rt&&(G(V,!1),V.strm.avail_out===0))return h}return V.insert=0,tt===g?(G(V,!0),V.strm.avail_out===0?at:J):V.last_lit&&(G(V,!1),V.strm.avail_out===0)?h:Z}(C,B):r[C.level].func(C,B);if(j!==at&&j!==J||(C.status=666),j===h||j===at)return c.avail_out===0&&(C.last_flush=-1),f;if(j===Z&&(B===1?a._tr_align(C):B!==5&&(a._tr_stored_block(C,0,0,!1),B===3&&(ft(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),K(c),c.avail_out===0))return C.last_flush=-1,f}return B!==g?f:C.wrap<=0?1:(C.wrap===2?(Ct(C,255&c.adler),Ct(C,c.adler>>8&255),Ct(C,c.adler>>16&255),Ct(C,c.adler>>24&255),Ct(C,255&c.total_in),Ct(C,c.total_in>>8&255),Ct(C,c.total_in>>16&255),Ct(C,c.total_in>>24&255)):(ct(C,c.adler>>>16),ct(C,65535&c.adler)),K(c),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?f:1)},i.deflateEnd=function(c){var B;return c&&c.state?(B=c.state.status)!==I&&B!==69&&B!==73&&B!==91&&B!==103&&B!==E&&B!==666?_t(c,v):(c.state=null,B===E?_t(c,-3):f):v},i.deflateSetDictionary=function(c,B){var M,C,_,x,q,j,V,tt,rt=B.length;if(!c||!c.state||(x=(M=c.state).wrap)===2||x===1&&M.status!==I||M.lookahead)return v;for(x===1&&(c.adler=l(c.adler,B,rt,0)),M.wrap=0,rt>=M.w_size&&(x===0&&(ft(M.head),M.strstart=0,M.block_start=0,M.insert=0),tt=new s.Buf8(M.w_size),s.arraySet(tt,B,rt-M.w_size,M.w_size,0),B=tt,rt=M.w_size),q=c.avail_in,j=c.next_in,V=c.input,c.avail_in=rt,c.next_in=0,c.input=B,jt(M);M.lookahead>=k;){for(C=M.strstart,_=M.lookahead-(k-1);M.ins_h=(M.ins_h<<M.hash_shift^M.window[C+k-1])&M.hash_mask,M.prev[C&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=C,C++,--_;);M.strstart=C,M.lookahead=k-1,jt(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=k-1,M.match_available=0,c.next_in=j,c.input=V,c.avail_in=q,M.wrap=x,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,i){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,i){o.exports=function(r,s){var a,l,u,d,m,g,f,v,p,y,b,S,P,A,N,H,L,D,k,Y,U,I,E,h,Z;a=r.state,l=r.next_in,h=r.input,u=l+(r.avail_in-5),d=r.next_out,Z=r.output,m=d-(s-r.avail_out),g=d+(r.avail_out-257),f=a.dmax,v=a.wsize,p=a.whave,y=a.wnext,b=a.window,S=a.hold,P=a.bits,A=a.lencode,N=a.distcode,H=(1<<a.lenbits)-1,L=(1<<a.distbits)-1;t:do{P<15&&(S+=h[l++]<<P,P+=8,S+=h[l++]<<P,P+=8),D=A[S&H];e:for(;;){if(S>>>=k=D>>>24,P-=k,(k=D>>>16&255)===0)Z[d++]=65535&D;else{if(!(16&k)){if(!(64&k)){D=A[(65535&D)+(S&(1<<k)-1)];continue e}if(32&k){a.mode=12;break t}r.msg="invalid literal/length code",a.mode=30;break t}Y=65535&D,(k&=15)&&(P<k&&(S+=h[l++]<<P,P+=8),Y+=S&(1<<k)-1,S>>>=k,P-=k),P<15&&(S+=h[l++]<<P,P+=8,S+=h[l++]<<P,P+=8),D=N[S&L];n:for(;;){if(S>>>=k=D>>>24,P-=k,!(16&(k=D>>>16&255))){if(!(64&k)){D=N[(65535&D)+(S&(1<<k)-1)];continue n}r.msg="invalid distance code",a.mode=30;break t}if(U=65535&D,P<(k&=15)&&(S+=h[l++]<<P,(P+=8)<k&&(S+=h[l++]<<P,P+=8)),f<(U+=S&(1<<k)-1)){r.msg="invalid distance too far back",a.mode=30;break t}if(S>>>=k,P-=k,(k=d-m)<U){if(p<(k=U-k)&&a.sane){r.msg="invalid distance too far back",a.mode=30;break t}if(E=b,(I=0)===y){if(I+=v-k,k<Y){for(Y-=k;Z[d++]=b[I++],--k;);I=d-U,E=Z}}else if(y<k){if(I+=v+y-k,(k-=y)<Y){for(Y-=k;Z[d++]=b[I++],--k;);if(I=0,y<Y){for(Y-=k=y;Z[d++]=b[I++],--k;);I=d-U,E=Z}}}else if(I+=y-k,k<Y){for(Y-=k;Z[d++]=b[I++],--k;);I=d-U,E=Z}for(;2<Y;)Z[d++]=E[I++],Z[d++]=E[I++],Z[d++]=E[I++],Y-=3;Y&&(Z[d++]=E[I++],1<Y&&(Z[d++]=E[I++]))}else{for(I=d-U;Z[d++]=Z[I++],Z[d++]=Z[I++],Z[d++]=Z[I++],2<(Y-=3););Y&&(Z[d++]=Z[I++],1<Y&&(Z[d++]=Z[I++]))}break}}break}}while(l<u&&d<g);l-=Y=P>>3,S&=(1<<(P-=Y<<3))-1,r.next_in=l,r.next_out=d,r.avail_in=l<u?u-l+5:5-(l-u),r.avail_out=d<g?g-d+257:257-(d-g),a.hold=S,a.bits=P}},{}],49:[function(n,o,i){var r=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),d=1,m=2,g=0,f=-2,v=1,p=852,y=592;function b(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(I){var E;return I&&I.state?(E=I.state,I.total_in=I.total_out=E.total=0,I.msg="",E.wrap&&(I.adler=1&E.wrap),E.mode=v,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new r.Buf32(p),E.distcode=E.distdyn=new r.Buf32(y),E.sane=1,E.back=-1,g):f}function A(I){var E;return I&&I.state?((E=I.state).wsize=0,E.whave=0,E.wnext=0,P(I)):f}function N(I,E){var h,Z;return I&&I.state?(Z=I.state,E<0?(h=0,E=-E):(h=1+(E>>4),E<48&&(E&=15)),E&&(E<8||15<E)?f:(Z.window!==null&&Z.wbits!==E&&(Z.window=null),Z.wrap=h,Z.wbits=E,A(I))):f}function H(I,E){var h,Z;return I?(Z=new S,(I.state=Z).window=null,(h=N(I,E))!==g&&(I.state=null),h):f}var L,D,k=!0;function Y(I){if(k){var E;for(L=new r.Buf32(512),D=new r.Buf32(32),E=0;E<144;)I.lens[E++]=8;for(;E<256;)I.lens[E++]=9;for(;E<280;)I.lens[E++]=7;for(;E<288;)I.lens[E++]=8;for(u(d,I.lens,0,288,L,0,I.work,{bits:9}),E=0;E<32;)I.lens[E++]=5;u(m,I.lens,0,32,D,0,I.work,{bits:5}),k=!1}I.lencode=L,I.lenbits=9,I.distcode=D,I.distbits=5}function U(I,E,h,Z){var at,J=I.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new r.Buf8(J.wsize)),Z>=J.wsize?(r.arraySet(J.window,E,h-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(Z<(at=J.wsize-J.wnext)&&(at=Z),r.arraySet(J.window,E,h-Z,at,J.wnext),(Z-=at)?(r.arraySet(J.window,E,h-Z,Z,0),J.wnext=Z,J.whave=J.wsize):(J.wnext+=at,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=at))),0}i.inflateReset=A,i.inflateReset2=N,i.inflateResetKeep=P,i.inflateInit=function(I){return H(I,15)},i.inflateInit2=H,i.inflate=function(I,E){var h,Z,at,J,_t,it,ft,K,G,Ct,ct,pt,jt,Yt,Bt,Lt,Ht,qt,T,R,c,B,M,C,_=0,x=new r.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return f;(h=I.state).mode===12&&(h.mode=13),_t=I.next_out,at=I.output,ft=I.avail_out,J=I.next_in,Z=I.input,it=I.avail_in,K=h.hold,G=h.bits,Ct=it,ct=ft,B=g;t:for(;;)switch(h.mode){case v:if(h.wrap===0){h.mode=13;break}for(;G<16;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(2&h.wrap&&K===35615){x[h.check=0]=255&K,x[1]=K>>>8&255,h.check=a(h.check,x,2,0),G=K=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&K)<<8)+(K>>8))%31){I.msg="incorrect header check",h.mode=30;break}if((15&K)!=8){I.msg="unknown compression method",h.mode=30;break}if(G-=4,c=8+(15&(K>>>=4)),h.wbits===0)h.wbits=c;else if(c>h.wbits){I.msg="invalid window size",h.mode=30;break}h.dmax=1<<c,I.adler=h.check=1,h.mode=512&K?10:12,G=K=0;break;case 2:for(;G<16;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(h.flags=K,(255&h.flags)!=8){I.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){I.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=K>>8&1),512&h.flags&&(x[0]=255&K,x[1]=K>>>8&255,h.check=a(h.check,x,2,0)),G=K=0,h.mode=3;case 3:for(;G<32;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}h.head&&(h.head.time=K),512&h.flags&&(x[0]=255&K,x[1]=K>>>8&255,x[2]=K>>>16&255,x[3]=K>>>24&255,h.check=a(h.check,x,4,0)),G=K=0,h.mode=4;case 4:for(;G<16;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}h.head&&(h.head.xflags=255&K,h.head.os=K>>8),512&h.flags&&(x[0]=255&K,x[1]=K>>>8&255,h.check=a(h.check,x,2,0)),G=K=0,h.mode=5;case 5:if(1024&h.flags){for(;G<16;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}h.length=K,h.head&&(h.head.extra_len=K),512&h.flags&&(x[0]=255&K,x[1]=K>>>8&255,h.check=a(h.check,x,2,0)),G=K=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(it<(pt=h.length)&&(pt=it),pt&&(h.head&&(c=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),r.arraySet(h.head.extra,Z,J,pt,c)),512&h.flags&&(h.check=a(h.check,Z,pt,J)),it-=pt,J+=pt,h.length-=pt),h.length))break t;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(it===0)break t;for(pt=0;c=Z[J+pt++],h.head&&c&&h.length<65536&&(h.head.name+=String.fromCharCode(c)),c&&pt<it;);if(512&h.flags&&(h.check=a(h.check,Z,pt,J)),it-=pt,J+=pt,c)break t}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(it===0)break t;for(pt=0;c=Z[J+pt++],h.head&&c&&h.length<65536&&(h.head.comment+=String.fromCharCode(c)),c&&pt<it;);if(512&h.flags&&(h.check=a(h.check,Z,pt,J)),it-=pt,J+=pt,c)break t}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;G<16;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(K!==(65535&h.check)){I.msg="header crc mismatch",h.mode=30;break}G=K=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),I.adler=h.check=0,h.mode=12;break;case 10:for(;G<32;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}I.adler=h.check=b(K),G=K=0,h.mode=11;case 11:if(h.havedict===0)return I.next_out=_t,I.avail_out=ft,I.next_in=J,I.avail_in=it,h.hold=K,h.bits=G,2;I.adler=h.check=1,h.mode=12;case 12:if(E===5||E===6)break t;case 13:if(h.last){K>>>=7&G,G-=7&G,h.mode=27;break}for(;G<3;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}switch(h.last=1&K,G-=1,3&(K>>>=1)){case 0:h.mode=14;break;case 1:if(Y(h),h.mode=20,E!==6)break;K>>>=2,G-=2;break t;case 2:h.mode=17;break;case 3:I.msg="invalid block type",h.mode=30}K>>>=2,G-=2;break;case 14:for(K>>>=7&G,G-=7&G;G<32;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if((65535&K)!=(K>>>16^65535)){I.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&K,G=K=0,h.mode=15,E===6)break t;case 15:h.mode=16;case 16:if(pt=h.length){if(it<pt&&(pt=it),ft<pt&&(pt=ft),pt===0)break t;r.arraySet(at,Z,J,pt,_t),it-=pt,J+=pt,ft-=pt,_t+=pt,h.length-=pt;break}h.mode=12;break;case 17:for(;G<14;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(h.nlen=257+(31&K),K>>>=5,G-=5,h.ndist=1+(31&K),K>>>=5,G-=5,h.ncode=4+(15&K),K>>>=4,G-=4,286<h.nlen||30<h.ndist){I.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;G<3;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}h.lens[q[h.have++]]=7&K,K>>>=3,G-=3}for(;h.have<19;)h.lens[q[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,M={bits:h.lenbits},B=u(0,h.lens,0,19,h.lencode,0,h.work,M),h.lenbits=M.bits,B){I.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;Lt=(_=h.lencode[K&(1<<h.lenbits)-1])>>>16&255,Ht=65535&_,!((Bt=_>>>24)<=G);){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(Ht<16)K>>>=Bt,G-=Bt,h.lens[h.have++]=Ht;else{if(Ht===16){for(C=Bt+2;G<C;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(K>>>=Bt,G-=Bt,h.have===0){I.msg="invalid bit length repeat",h.mode=30;break}c=h.lens[h.have-1],pt=3+(3&K),K>>>=2,G-=2}else if(Ht===17){for(C=Bt+3;G<C;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}G-=Bt,c=0,pt=3+(7&(K>>>=Bt)),K>>>=3,G-=3}else{for(C=Bt+7;G<C;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}G-=Bt,c=0,pt=11+(127&(K>>>=Bt)),K>>>=7,G-=7}if(h.have+pt>h.nlen+h.ndist){I.msg="invalid bit length repeat",h.mode=30;break}for(;pt--;)h.lens[h.have++]=c}}if(h.mode===30)break;if(h.lens[256]===0){I.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,M={bits:h.lenbits},B=u(d,h.lens,0,h.nlen,h.lencode,0,h.work,M),h.lenbits=M.bits,B){I.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,M={bits:h.distbits},B=u(m,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,M),h.distbits=M.bits,B){I.msg="invalid distances set",h.mode=30;break}if(h.mode=20,E===6)break t;case 20:h.mode=21;case 21:if(6<=it&&258<=ft){I.next_out=_t,I.avail_out=ft,I.next_in=J,I.avail_in=it,h.hold=K,h.bits=G,l(I,ct),_t=I.next_out,at=I.output,ft=I.avail_out,J=I.next_in,Z=I.input,it=I.avail_in,K=h.hold,G=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;Lt=(_=h.lencode[K&(1<<h.lenbits)-1])>>>16&255,Ht=65535&_,!((Bt=_>>>24)<=G);){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(Lt&&!(240&Lt)){for(qt=Bt,T=Lt,R=Ht;Lt=(_=h.lencode[R+((K&(1<<qt+T)-1)>>qt)])>>>16&255,Ht=65535&_,!(qt+(Bt=_>>>24)<=G);){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}K>>>=qt,G-=qt,h.back+=qt}if(K>>>=Bt,G-=Bt,h.back+=Bt,h.length=Ht,Lt===0){h.mode=26;break}if(32&Lt){h.back=-1,h.mode=12;break}if(64&Lt){I.msg="invalid literal/length code",h.mode=30;break}h.extra=15&Lt,h.mode=22;case 22:if(h.extra){for(C=h.extra;G<C;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}h.length+=K&(1<<h.extra)-1,K>>>=h.extra,G-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;Lt=(_=h.distcode[K&(1<<h.distbits)-1])>>>16&255,Ht=65535&_,!((Bt=_>>>24)<=G);){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(!(240&Lt)){for(qt=Bt,T=Lt,R=Ht;Lt=(_=h.distcode[R+((K&(1<<qt+T)-1)>>qt)])>>>16&255,Ht=65535&_,!(qt+(Bt=_>>>24)<=G);){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}K>>>=qt,G-=qt,h.back+=qt}if(K>>>=Bt,G-=Bt,h.back+=Bt,64&Lt){I.msg="invalid distance code",h.mode=30;break}h.offset=Ht,h.extra=15&Lt,h.mode=24;case 24:if(h.extra){for(C=h.extra;G<C;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}h.offset+=K&(1<<h.extra)-1,K>>>=h.extra,G-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){I.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(ft===0)break t;if(pt=ct-ft,h.offset>pt){if((pt=h.offset-pt)>h.whave&&h.sane){I.msg="invalid distance too far back",h.mode=30;break}jt=pt>h.wnext?(pt-=h.wnext,h.wsize-pt):h.wnext-pt,pt>h.length&&(pt=h.length),Yt=h.window}else Yt=at,jt=_t-h.offset,pt=h.length;for(ft<pt&&(pt=ft),ft-=pt,h.length-=pt;at[_t++]=Yt[jt++],--pt;);h.length===0&&(h.mode=21);break;case 26:if(ft===0)break t;at[_t++]=h.length,ft--,h.mode=21;break;case 27:if(h.wrap){for(;G<32;){if(it===0)break t;it--,K|=Z[J++]<<G,G+=8}if(ct-=ft,I.total_out+=ct,h.total+=ct,ct&&(I.adler=h.check=h.flags?a(h.check,at,ct,_t-ct):s(h.check,at,ct,_t-ct)),ct=ft,(h.flags?K:b(K))!==h.check){I.msg="incorrect data check",h.mode=30;break}G=K=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;G<32;){if(it===0)break t;it--,K+=Z[J++]<<G,G+=8}if(K!==(4294967295&h.total)){I.msg="incorrect length check",h.mode=30;break}G=K=0}h.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;case 32:default:return f}return I.next_out=_t,I.avail_out=ft,I.next_in=J,I.avail_in=it,h.hold=K,h.bits=G,(h.wsize||ct!==I.avail_out&&h.mode<30&&(h.mode<27||E!==4))&&U(I,I.output,I.next_out,ct-I.avail_out)?(h.mode=31,-4):(Ct-=I.avail_in,ct-=I.avail_out,I.total_in+=Ct,I.total_out+=ct,h.total+=ct,h.wrap&&ct&&(I.adler=h.check=h.flags?a(h.check,at,ct,I.next_out-ct):s(h.check,at,ct,I.next_out-ct)),I.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(Ct==0&&ct===0||E===4)&&B===g&&(B=-5),B)},i.inflateEnd=function(I){if(!I||!I.state)return f;var E=I.state;return E.window&&(E.window=null),I.state=null,g},i.inflateGetHeader=function(I,E){var h;return I&&I.state&&2&(h=I.state).wrap?((h.head=E).done=!1,g):f},i.inflateSetDictionary=function(I,E){var h,Z=E.length;return I&&I.state?(h=I.state).wrap!==0&&h.mode!==11?f:h.mode===11&&s(1,E,Z,0)!==h.check?-3:U(I,E,Z,Z)?(h.mode=31,-4):(h.havedict=1,g):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,i){var r=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(d,m,g,f,v,p,y,b){var S,P,A,N,H,L,D,k,Y,U=b.bits,I=0,E=0,h=0,Z=0,at=0,J=0,_t=0,it=0,ft=0,K=0,G=null,Ct=0,ct=new r.Buf16(16),pt=new r.Buf16(16),jt=null,Yt=0;for(I=0;I<=15;I++)ct[I]=0;for(E=0;E<f;E++)ct[m[g+E]]++;for(at=U,Z=15;1<=Z&&ct[Z]===0;Z--);if(Z<at&&(at=Z),Z===0)return v[p++]=20971520,v[p++]=20971520,b.bits=1,0;for(h=1;h<Z&&ct[h]===0;h++);for(at<h&&(at=h),I=it=1;I<=15;I++)if(it<<=1,(it-=ct[I])<0)return-1;if(0<it&&(d===0||Z!==1))return-1;for(pt[1]=0,I=1;I<15;I++)pt[I+1]=pt[I]+ct[I];for(E=0;E<f;E++)m[g+E]!==0&&(y[pt[m[g+E]]++]=E);if(L=d===0?(G=jt=y,19):d===1?(G=s,Ct-=257,jt=a,Yt-=257,256):(G=l,jt=u,-1),I=h,H=p,_t=E=K=0,A=-1,N=(ft=1<<(J=at))-1,d===1&&852<ft||d===2&&592<ft)return 1;for(;;){for(D=I-_t,Y=y[E]<L?(k=0,y[E]):y[E]>L?(k=jt[Yt+y[E]],G[Ct+y[E]]):(k=96,0),S=1<<I-_t,h=P=1<<J;v[H+(K>>_t)+(P-=S)]=D<<24|k<<16|Y|0,P!==0;);for(S=1<<I-1;K&S;)S>>=1;if(S!==0?(K&=S-1,K+=S):K=0,E++,--ct[I]==0){if(I===Z)break;I=m[g+y[E]]}if(at<I&&(K&N)!==A){for(_t===0&&(_t=at),H+=h,it=1<<(J=I-_t);J+_t<Z&&!((it-=ct[J+_t])<=0);)J++,it<<=1;if(ft+=1<<J,d===1&&852<ft||d===2&&592<ft)return 1;v[A=K&N]=at<<24|J<<16|H-p|0}}return K!==0&&(v[H+K]=I-_t<<24|64<<16|0),b.bits=at,0}},{"../utils/common":41}],51:[function(n,o,i){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,i){var r=n("../utils/common"),s=0,a=1;function l(_){for(var x=_.length;0<=--x;)_[x]=0}var u=0,d=29,m=256,g=m+1+d,f=30,v=19,p=2*g+1,y=15,b=16,S=7,P=256,A=16,N=17,H=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(g+2));l(U);var I=new Array(2*f);l(I);var E=new Array(512);l(E);var h=new Array(256);l(h);var Z=new Array(d);l(Z);var at,J,_t,it=new Array(f);function ft(_,x,q,j,V){this.static_tree=_,this.extra_bits=x,this.extra_base=q,this.elems=j,this.max_length=V,this.has_stree=_&&_.length}function K(_,x){this.dyn_tree=_,this.max_code=0,this.stat_desc=x}function G(_){return _<256?E[_]:E[256+(_>>>7)]}function Ct(_,x){_.pending_buf[_.pending++]=255&x,_.pending_buf[_.pending++]=x>>>8&255}function ct(_,x,q){_.bi_valid>b-q?(_.bi_buf|=x<<_.bi_valid&65535,Ct(_,_.bi_buf),_.bi_buf=x>>b-_.bi_valid,_.bi_valid+=q-b):(_.bi_buf|=x<<_.bi_valid&65535,_.bi_valid+=q)}function pt(_,x,q){ct(_,q[2*x],q[2*x+1])}function jt(_,x){for(var q=0;q|=1&_,_>>>=1,q<<=1,0<--x;);return q>>>1}function Yt(_,x,q){var j,V,tt=new Array(y+1),rt=0;for(j=1;j<=y;j++)tt[j]=rt=rt+q[j-1]<<1;for(V=0;V<=x;V++){var nt=_[2*V+1];nt!==0&&(_[2*V]=jt(tt[nt]++,nt))}}function Bt(_){var x;for(x=0;x<g;x++)_.dyn_ltree[2*x]=0;for(x=0;x<f;x++)_.dyn_dtree[2*x]=0;for(x=0;x<v;x++)_.bl_tree[2*x]=0;_.dyn_ltree[2*P]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function Lt(_){8<_.bi_valid?Ct(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function Ht(_,x,q,j){var V=2*x,tt=2*q;return _[V]<_[tt]||_[V]===_[tt]&&j[x]<=j[q]}function qt(_,x,q){for(var j=_.heap[q],V=q<<1;V<=_.heap_len&&(V<_.heap_len&&Ht(x,_.heap[V+1],_.heap[V],_.depth)&&V++,!Ht(x,j,_.heap[V],_.depth));)_.heap[q]=_.heap[V],q=V,V<<=1;_.heap[q]=j}function T(_,x,q){var j,V,tt,rt,nt=0;if(_.last_lit!==0)for(;j=_.pending_buf[_.d_buf+2*nt]<<8|_.pending_buf[_.d_buf+2*nt+1],V=_.pending_buf[_.l_buf+nt],nt++,j===0?pt(_,V,x):(pt(_,(tt=h[V])+m+1,x),(rt=L[tt])!==0&&ct(_,V-=Z[tt],rt),pt(_,tt=G(--j),q),(rt=D[tt])!==0&&ct(_,j-=it[tt],rt)),nt<_.last_lit;);pt(_,P,x)}function R(_,x){var q,j,V,tt=x.dyn_tree,rt=x.stat_desc.static_tree,nt=x.stat_desc.has_stree,mt=x.stat_desc.elems,Dt=-1;for(_.heap_len=0,_.heap_max=p,q=0;q<mt;q++)tt[2*q]!==0?(_.heap[++_.heap_len]=Dt=q,_.depth[q]=0):tt[2*q+1]=0;for(;_.heap_len<2;)tt[2*(V=_.heap[++_.heap_len]=Dt<2?++Dt:0)]=1,_.depth[V]=0,_.opt_len--,nt&&(_.static_len-=rt[2*V+1]);for(x.max_code=Dt,q=_.heap_len>>1;1<=q;q--)qt(_,tt,q);for(V=mt;q=_.heap[1],_.heap[1]=_.heap[_.heap_len--],qt(_,tt,1),j=_.heap[1],_.heap[--_.heap_max]=q,_.heap[--_.heap_max]=j,tt[2*V]=tt[2*q]+tt[2*j],_.depth[V]=(_.depth[q]>=_.depth[j]?_.depth[q]:_.depth[j])+1,tt[2*q+1]=tt[2*j+1]=V,_.heap[1]=V++,qt(_,tt,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(Ot,Gt){var le,Zt,be,Tt,Pt,oe,ne=Gt.dyn_tree,Te=Gt.max_code,Me=Gt.stat_desc.static_tree,Ye=Gt.stat_desc.has_stree,Be=Gt.stat_desc.extra_bits,Ce=Gt.stat_desc.extra_base,Ee=Gt.stat_desc.max_length,Le=0;for(Tt=0;Tt<=y;Tt++)Ot.bl_count[Tt]=0;for(ne[2*Ot.heap[Ot.heap_max]+1]=0,le=Ot.heap_max+1;le<p;le++)Ee<(Tt=ne[2*ne[2*(Zt=Ot.heap[le])+1]+1]+1)&&(Tt=Ee,Le++),ne[2*Zt+1]=Tt,Te<Zt||(Ot.bl_count[Tt]++,Pt=0,Ce<=Zt&&(Pt=Be[Zt-Ce]),oe=ne[2*Zt],Ot.opt_len+=oe*(Tt+Pt),Ye&&(Ot.static_len+=oe*(Me[2*Zt+1]+Pt)));if(Le!==0){do{for(Tt=Ee-1;Ot.bl_count[Tt]===0;)Tt--;Ot.bl_count[Tt]--,Ot.bl_count[Tt+1]+=2,Ot.bl_count[Ee]--,Le-=2}while(0<Le);for(Tt=Ee;Tt!==0;Tt--)for(Zt=Ot.bl_count[Tt];Zt!==0;)Te<(be=Ot.heap[--le])||(ne[2*be+1]!==Tt&&(Ot.opt_len+=(Tt-ne[2*be+1])*ne[2*be],ne[2*be+1]=Tt),Zt--)}}(_,x),Yt(tt,Dt,_.bl_count)}function c(_,x,q){var j,V,tt=-1,rt=x[1],nt=0,mt=7,Dt=4;for(rt===0&&(mt=138,Dt=3),x[2*(q+1)+1]=65535,j=0;j<=q;j++)V=rt,rt=x[2*(j+1)+1],++nt<mt&&V===rt||(nt<Dt?_.bl_tree[2*V]+=nt:V!==0?(V!==tt&&_.bl_tree[2*V]++,_.bl_tree[2*A]++):nt<=10?_.bl_tree[2*N]++:_.bl_tree[2*H]++,tt=V,Dt=(nt=0)===rt?(mt=138,3):V===rt?(mt=6,3):(mt=7,4))}function B(_,x,q){var j,V,tt=-1,rt=x[1],nt=0,mt=7,Dt=4;for(rt===0&&(mt=138,Dt=3),j=0;j<=q;j++)if(V=rt,rt=x[2*(j+1)+1],!(++nt<mt&&V===rt)){if(nt<Dt)for(;pt(_,V,_.bl_tree),--nt!=0;);else V!==0?(V!==tt&&(pt(_,V,_.bl_tree),nt--),pt(_,A,_.bl_tree),ct(_,nt-3,2)):nt<=10?(pt(_,N,_.bl_tree),ct(_,nt-3,3)):(pt(_,H,_.bl_tree),ct(_,nt-11,7));tt=V,Dt=(nt=0)===rt?(mt=138,3):V===rt?(mt=6,3):(mt=7,4)}}l(it);var M=!1;function C(_,x,q,j){ct(_,(u<<1)+(j?1:0),3),function(V,tt,rt,nt){Lt(V),nt&&(Ct(V,rt),Ct(V,~rt)),r.arraySet(V.pending_buf,V.window,tt,rt,V.pending),V.pending+=rt}(_,x,q,!0)}i._tr_init=function(_){M||(function(){var x,q,j,V,tt,rt=new Array(y+1);for(V=j=0;V<d-1;V++)for(Z[V]=j,x=0;x<1<<L[V];x++)h[j++]=V;for(h[j-1]=V,V=tt=0;V<16;V++)for(it[V]=tt,x=0;x<1<<D[V];x++)E[tt++]=V;for(tt>>=7;V<f;V++)for(it[V]=tt<<7,x=0;x<1<<D[V]-7;x++)E[256+tt++]=V;for(q=0;q<=y;q++)rt[q]=0;for(x=0;x<=143;)U[2*x+1]=8,x++,rt[8]++;for(;x<=255;)U[2*x+1]=9,x++,rt[9]++;for(;x<=279;)U[2*x+1]=7,x++,rt[7]++;for(;x<=287;)U[2*x+1]=8,x++,rt[8]++;for(Yt(U,g+1,rt),x=0;x<f;x++)I[2*x+1]=5,I[2*x]=jt(x,5);at=new ft(U,L,m+1,g,y),J=new ft(I,D,0,f,y),_t=new ft(new Array(0),k,0,v,S)}(),M=!0),_.l_desc=new K(_.dyn_ltree,at),_.d_desc=new K(_.dyn_dtree,J),_.bl_desc=new K(_.bl_tree,_t),_.bi_buf=0,_.bi_valid=0,Bt(_)},i._tr_stored_block=C,i._tr_flush_block=function(_,x,q,j){var V,tt,rt=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(nt){var mt,Dt=4093624447;for(mt=0;mt<=31;mt++,Dt>>>=1)if(1&Dt&&nt.dyn_ltree[2*mt]!==0)return s;if(nt.dyn_ltree[18]!==0||nt.dyn_ltree[20]!==0||nt.dyn_ltree[26]!==0)return a;for(mt=32;mt<m;mt++)if(nt.dyn_ltree[2*mt]!==0)return a;return s}(_)),R(_,_.l_desc),R(_,_.d_desc),rt=function(nt){var mt;for(c(nt,nt.dyn_ltree,nt.l_desc.max_code),c(nt,nt.dyn_dtree,nt.d_desc.max_code),R(nt,nt.bl_desc),mt=v-1;3<=mt&&nt.bl_tree[2*Y[mt]+1]===0;mt--);return nt.opt_len+=3*(mt+1)+5+5+4,mt}(_),V=_.opt_len+3+7>>>3,(tt=_.static_len+3+7>>>3)<=V&&(V=tt)):V=tt=q+5,q+4<=V&&x!==-1?C(_,x,q,j):_.strategy===4||tt===V?(ct(_,2+(j?1:0),3),T(_,U,I)):(ct(_,4+(j?1:0),3),function(nt,mt,Dt,Ot){var Gt;for(ct(nt,mt-257,5),ct(nt,Dt-1,5),ct(nt,Ot-4,4),Gt=0;Gt<Ot;Gt++)ct(nt,nt.bl_tree[2*Y[Gt]+1],3);B(nt,nt.dyn_ltree,mt-1),B(nt,nt.dyn_dtree,Dt-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,rt+1),T(_,_.dyn_ltree,_.dyn_dtree)),Bt(_),j&&Lt(_)},i._tr_tally=function(_,x,q){return _.pending_buf[_.d_buf+2*_.last_lit]=x>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&x,_.pending_buf[_.l_buf+_.last_lit]=255&q,_.last_lit++,x===0?_.dyn_ltree[2*q]++:(_.matches++,x--,_.dyn_ltree[2*(h[q]+m+1)]++,_.dyn_dtree[2*G(x)]++),_.last_lit===_.lit_bufsize-1},i._tr_align=function(_){ct(_,2,3),pt(_,P,U),function(x){x.bi_valid===16?(Ct(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(n,o,i){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,i){(function(r){(function(s,a){if(!s.setImmediate){var l,u,d,m,g=1,f={},v=!1,p=s.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(s);y=y&&y.setTimeout?y:s,l={}.toString.call(s.process)==="[object process]"?function(A){process.nextTick(function(){S(A)})}:function(){if(s.postMessage&&!s.importScripts){var A=!0,N=s.onmessage;return s.onmessage=function(){A=!1},s.postMessage("","*"),s.onmessage=N,A}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",P,!1):s.attachEvent("onmessage",P),function(A){s.postMessage(m+A,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(A){S(A.data)},function(A){d.port2.postMessage(A)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(A){var N=p.createElement("script");N.onreadystatechange=function(){S(A),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(A){setTimeout(S,0,A)},y.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var N=new Array(arguments.length-1),H=0;H<N.length;H++)N[H]=arguments[H+1];var L={callback:A,args:N};return f[g]=L,l(g),g++},y.clearImmediate=b}function b(A){delete f[A]}function S(A){if(v)setTimeout(S,0,A);else{var N=f[A];if(N){v=!0;try{(function(H){var L=H.callback,D=H.args;switch(D.length){case 0:L();break;case 1:L(D[0]);break;case 2:L(D[0],D[1]);break;case 3:L(D[0],D[1],D[2]);break;default:L.apply(a,D)}})(N)}finally{b(A),v=!1}}}}function P(A){A.source===s&&typeof A.data=="string"&&A.data.indexOf(m)===0&&S(+A.data.slice(m.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof sn<"u"?sn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(tc);var xh=tc.exports;const Aa=Ts(xh);class Mo{static async open(e){const n=new Aa,o=window.api.openFile(e),{files:i}=await n.loadAsync(o);return await i.content.async("text")}static async writeBlob(e,n){const o=await n.arrayBuffer();window.api.saveFile(e,o)}static async save(e,n){const o=new Aa;o.file("content",JSON.stringify(n));const i=await o.generateAsync({type:"blob"});this.writeBlob(e,i)}}function As(t,e={}){let{items:n,connections:o,ports:i,groups:r}=Ge(t);function s(g){return Object.values(g).forEach(f=>{const v=f.id,p=me();f.itemIds=f.itemIds.map(y=>e[y]),f.connectionIds=f.connectionIds.map(y=>e[y]),f.id=p,e[v]=p,g[p]=Ge(f),delete g[v]}),g}function a(g,f){return Object.values(g).forEach(v=>{v.groupId=v.groupId!==null?e[v.groupId]:null}),Object.values(f).forEach(v=>{v.groupId=v.groupId!==null?e[v.groupId]:null}),{connections:g,items:f}}function l(g){return Object.values(g).forEach(f=>{const v=f.id,p=me();e[v]=p,g[p]=Ge(f),g[p].id=p,g[p].source=e[g[p].source],g[p].target=e[g[p].target],delete g[v]}),g}function u(g){return Object.values(g).forEach(f=>{const v=f.id,p=me();e[v]=p,g[p]=Ge(f),f.integratedCircuit&&(g[p].integratedCircuit={serializedState:f.integratedCircuit.serializedState,...As(Ge(f.integratedCircuit),e)}),g[p].id=p,g[p].portIds=f.portIds.map(y=>e[y]),delete g[v]}),g}function d(g){return Object.values(g).forEach(f=>{g[f.id].elementId=e[f.elementId]}),g}function m(g){return Object.values(g).forEach(f=>{const v=f.id,p=me();e[v]=p,g[p]=Ge(f),g[p].id=p,delete g[v]}),Object.values(g).forEach(f=>{g[f.id].connectedPortIds=f.connectedPortIds.map(v=>e[v])}),g}return i=m(i),n=u(n),i=d(i),o=l(o),r=s(r),{...a(o,n),ports:i,groups:r}}function Oh(t){if(!t.integratedCircuit)return t;const{items:e}=As({items:{[t.id]:t},connections:{},ports:{},groups:{}}),n=Object.values(e)[0];return n.id=me(),n}const zs={mapStandardCircuitIds:As,mapIntegratedCircuitIds:Oh},Ms=cr("integratedCircuit",{state:()=>({isBuilderOpen:!1,model:null,factories:{},resolve:()=>{}}),actions:{launchBuilder(t){return this.isBuilderOpen=!0,this.model=Eh(t,"My integrated circuit",400,400),new Promise(e=>{this.resolve=e})},async loadLibrary(){const t=window.api.getFilePaths(window.api.getDefaultSavePath(),"aicx");for(let e=0;e<t.length;e++)await this.loadCircuit(t[e])},async loadCircuit(t){try{const e=await Mo.open(t),n=JSON.parse(e);this.factories[n.defaultName]=()=>{const o=zs.mapIntegratedCircuitIds(n),i=o.portIds.reduce((r,s)=>{var l;const a=(l=o.integratedCircuit)==null?void 0:l.ports[s];return a&&r[a.orientation].push(a),r},{[Ft.Left]:[],[Ft.Top]:[],[Ft.Right]:[],[Ft.Bottom]:[]});return{item:o,ports:i}}}catch(e){console.log(e),window.api.showMessageBox({message:`Could not load ${t} into the integrated circuit library. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},async save(){if(this.model){try{const t=`${this.model.defaultName}.aicx`,e=window.api.showSaveFileDialog([{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}],t);if(!e)return;await Mo.save(e,this.model),await this.loadCircuit(e),window.api.showMessageBox({message:"Integrated circuit successfully created. You can find it in the toolbox.",title:"Success",type:"info"})}catch{window.api.showMessageBox({message:"An error occurred while trying to save the integrated circuit.",title:"Error",type:"error"})}this.close()}},close(){this.resolve(),this.isBuilderOpen=!0}}}),Ph=It({name:"Icon",props:{icon:{type:Object,default:null}},setup(t){const e=Kt(()=>t.icon.icon[0]),n=Kt(()=>t.icon.icon[1]),o=Kt(()=>t.icon.icon[4]);return{width:e,height:n,svgPath:o}}});const kh=["viewBox"],Dh=["d"];function $h(t,e,n,o,i,r){return Q(),ht("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:`0 0 ${t.width} ${t.height}`},[bt("path",{fill:"currentColor",d:t.svgPath},null,8,Dh)],8,kh)}const We=xt(Ph,[["render",$h]]),Th=It({name:"Modal",components:{Icon:We},props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:""}},setup(){const t=Vt(!1);return{faClose:wo,show:t}}});const Ah={key:0,class:"modal"},zh={class:"modal__inner"},Mh={class:"modal__title"},Nh={class:"modal__title-text"},Bh={class:"modal__content"},Lh={key:0,class:"modal__buttons"};function Rh(t,e,n,o,i,r){const s=St("icon");return Q(),Mt(Xo,{name:"modal",appear:""},{default:Rt(()=>[t.modelValue?(Q(),ht("div",Ah,[bt("div",zh,[bt("div",Mh,[bt("div",Nh,he(t.title),1),bt("button",{title:"Close",onClick:e[0]||(e[0]=a=>t.$emit("update:modelValue",!1)),class:"modal__close"},[dt(s,{icon:t.faClose},null,8,["icon"])])]),bt("div",Bh,[ue(t.$slots,"default")]),t.$slots.buttons?(Q(),ht("div",Lh,[ue(t.$slots,"buttons")])):de("",!0)])])):de("",!0)]),_:3})}const Fh=xt(Th,[["render",Rh]]),Vh=It({name:"ModalButton",props:{text:{type:String,required:!0},disabled:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1}}});function jh(t,e,n,o,i,r){return Q(),ht("button",{class:Qt(["modal-button",{"modal-button--inverted":t.inverted}]),role:"button"},he(t.text),3)}const Hh=xt(Vh,[["render",jh]]),Uh=It({name:"BuilderView",components:{Builder:bh,Modal:Fh,ModalButton:Hh},setup(){const{isBuilderOpen:t,model:e,save:n,close:o}=Ms(),i=Vt(!1);return i.value=!0,{item:e,isBuilderOpen:t,save:n,close:o,isOpen:i}}});const Wh={class:"builder-canvas"};function Gh(t,e,n,o,i,r){const s=St("builder"),a=St("modal-button"),l=St("modal");return Q(),Mt(l,{modelValue:t.isBuilderOpen,"onUpdate:modelValue":[e[1]||(e[1]=u=>t.isBuilderOpen=u),t.close],title:"Build Circuit"},{buttons:Rt(()=>[dt(a,{text:"Cancel",onClick:t.close,inverted:""},null,8,["onClick"]),dt(a,{text:"Save",onClick:t.save},null,8,["onClick"])]),default:Rt(()=>[bt("div",Wh,[dt(s,{modelValue:t.item,"onUpdate:modelValue":e[0]||(e[0]=u=>t.item=u)},null,8,["modelValue"])])]),_:1},8,["modelValue","onUpdate:modelValue"])}const qh=xt(Uh,[["render",Gh]]),Wo=.1,es=2,Zh=.1,ns=4,za=15,Kh=20,Xh=1.05,Yh=100,ec=1e3,Jh=t=>1-Math.pow(1-t,3);var qe=(t=>(t[t.Outer=0]="Outer",t[t.Inner=1]="Inner",t[t.Radial=2]="Radial",t[t.Grid=3]="Grid",t[t.None=4]="None",t))(qe||{});function Ui(t,e){return Math.round(t/e)*e}function nc(t,e,n){return Math.hypot(t.x-e.x,t.y-e.y)<=n}function oc(t,e){return{x:Ui(t.left,e)-t.left,y:Ui(t.top,e)-t.top}}function ic(t,e,n){for(let o=0;o<t.length;o++){const i=t[o];if(nc({x:i.left,y:i.top},{x:e.left,y:e.top},n))return{x:i.left-e.left,y:i.top-e.top}}return{x:0,y:0}}function rc(t,e,n){const o={x:0,y:0};for(let i=0;i<t.length;i++){const r=t[i],s=Math.abs(r.top-e.bottom)<=n,a=Math.abs(r.bottom-e.top)<=n,l=Math.abs(r.left-e.right)<=n,u=Math.abs(r.right-e.left)<=n;(e.left<=r.right&&e.left>=r.left||e.right>=r.left&&e.right<=r.right||e.left<=r.left&&e.right>=r.right)&&(s&&(o.y=r.top-e.bottom),a&&(o.y=r.bottom-e.top)),(e.top<=r.bottom&&e.top>=r.top||e.bottom>=r.top&&e.bottom<=r.bottom||e.top<=r.top&&e.bottom>=r.bottom)&&(l&&(o.x=r.left-e.right),u&&(o.x=r.right-e.left))}return o}function Qh(t,e,n,o){switch(n){case qe.Radial:return ic(t,e,o);case qe.Grid:return oc(e,o);case qe.Outer:default:return rc(t,e,o)}}function Di(t,e,n,o){const i=(r,s,a)=>(a.y-r.y)*(s.x-r.x)>(s.y-r.y)*(a.x-r.x);return i(t,n,o)!==i(e,n,o)&&i(t,e,n)!==i(t,e,o)}function tp(t,e){let n=t[0];for(let o=1;o<t.length;o++){if(sc(n,t[o],e))return!0;n=t[o]}return!1}function sc(t,e,n){const o={x:n.left,y:n.top},i={x:n.right,y:n.top},r={x:n.right,y:n.bottom},s={x:n.left,y:n.bottom};return Di(t,e,o,i)||Di(t,e,i,r)||Di(t,e,r,s)||Di(t,e,s,o)}function ep(t,e){return!(t.left>=e.right||e.left>=t.right||t.top>=e.bottom||e.top>=t.bottom)}function np(t,e){return{left:t.left*e,top:t.top*e,bottom:t.bottom*e,right:t.right*e}}function op(t){return t.left!==t.right||t.top!==t.bottom}function ip(t){return[{left:t.x,right:t.x,top:-1/0,bottom:1/0},{left:-1/0,right:1/0,top:t.y,bottom:t.y}]}function rp(t){return{left:t.x,top:t.y,right:t.x,bottom:t.y}}function sp(t){return t.reduce((e,n)=>({left:Math.min(e.left,n.x),top:Math.min(e.top,n.y),right:Math.max(e.right,n.x),bottom:Math.max(e.bottom,n.y)}),{left:1/0,top:1/0,right:0,bottom:0})}function ap(t,e,n,o){if(e%2===0)return{left:t.x,top:t.y,bottom:o+t.y,right:n+t.x};const i=t.x+n/2,r=t.y+o/2;return{left:i-o/2,top:r-n/2,right:i+o/2,bottom:r+n/2}}function lp(t){return t.reduce((e,n)=>({left:Math.min(e.left,n.left),top:Math.min(e.top,n.top),right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)}),{left:1/0,top:1/0,right:0,bottom:0})}function ac(t){const e=t.right-t.left,n=t.bottom-t.top;return{x:e/2,y:n/2}}function cp(t,e,n){const o=ac(t),i=e.right-e.left,r=e.bottom-e.top;return{x:Ui(o.x-i/2,n),y:Ui(o.y-r/2,n)}}const ie={isInNeighborhood:nc,getRadialSnapOffset:ic,getOuterSnapOffset:rc,getGridSnapPosition:oc,areLinesIntersectingRectangle:tp,isLineIntersectingRectangle:sc,scaleBoundingBox:np,isOneOrTwoDimensional:op,getLinearBoundaries:ip,getPointBoundary:rp,hasIntersection:ep,getConstellationBoundingBox:sp,getBoundingBox:ap,getGroupBoundingBox:lp,getBoundingBoxMidpoint:ac,getCenteredScreenPoint:cp,getSnapOffset:Qh},lc=t=>{let e=0,n=0,o=!1,i=!1,r=!1,s={x:0,y:0},a={x:0,y:0},l={x:0,y:0};Ue(()=>{window.addEventListener("mousemove",f),window.addEventListener("mouseup",m)}),qn(()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m)});function u(S){var N,H;const{clientX:P,clientY:A}=S;o&&(a.x===P&&a.y===A||(a={x:P,y:A},r?(N=t.onDrag)==null||N.call(t,a,l):(H=t.onDragStart)==null||H.call(t,a,l),r=!0,i=!0))}function d({clientX:S,clientY:P},A){const{x:N,y:H,width:L,height:D}=A.getBoundingClientRect();a={x:S,y:P},l={x:S-(N+L/2),y:P-(H+D/2)},o=!0,r=!1}function m(){var S;o&&(o=!1,i&&((S=t.onDragEnd)==null||S.call(t,a,l)))}function g(S){var P;S.stopPropagation(),S.preventDefault(),(P=t.onSelect)==null||P.call(t,S.ctrlKey),d(S,S.target)}function f(S){o&&(e||(e=window.requestAnimationFrame(()=>{e=0,S.stopPropagation(),S.preventDefault(),u(S)})))}function v(S){m()}function p(S){d(S.touches[0],S.target),i=!1,o=!1,s={x:S.touches[0].clientX,y:S.touches[0].clientY},n=window.setTimeout(()=>{var P;(P=t.onTouched)==null||P.call(t,S,!0)},t.longTouchTimeout)}function y(S){if(o&&i&&(S.stopPropagation(),S.preventDefault()),!e){if(S.touches.length>1)return b(S);e=window.requestAnimationFrame(()=>{e=0,ie.isInNeighborhood(s,{x:S.touches[0].clientX,y:S.touches[0].clientY},5)||(i=!0,clearTimeout(n)),t.allowTouchDrag.value&&(o=!0,u(S.touches[0]))})}}function b(S){var P;clearTimeout(n),S.stopPropagation(),S.preventDefault(),o?m():i||(P=t.onTouched)==null||P.call(t,S,!1)}return{onMouseDown:g,onTouchStart:p,onTouchMove:y,onTouchEnd:b,onMouseUp:v,dragEnd:m}},up=It({name:"Draggable",props:{position:{type:Object,default:()=>({x:0,y:0})},isSelected:{type:Boolean,default:!1},allowTouchDrag:{type:Boolean,default:!0}},emits:{dragStart:(t,e)=>!0,drag:(t,e)=>!0,dragEnd:(t,e)=>!0,select:t=>!0,deselect:()=>!0,touchhold:t=>!0,contextmenu:t=>!0},setup(t,{emit:e}){const n=Kt(()=>({left:`${t.position.x}px`,top:`${t.position.y}px`}));function o(){t.isSelected||e("select",!0)}function i(f,v){if(v)return e("touchhold",f);t.isSelected?e("deselect"):e("select")}function r(f){a(f),t.isSelected||e("select",!f.ctrlKey)}const s=Kt(()=>t.allowTouchDrag),{onMouseDown:a,onMouseUp:l,onTouchStart:u,onTouchMove:d,onTouchEnd:m,dragEnd:g}=lc({allowTouchDrag:s,longTouchTimeout:Yh,onTouched:i,onDragStart:(f,v)=>e("dragStart",f,v),onDrag:(f,v)=>e("drag",f,v),onDragEnd:(f,v)=>e("dragEnd",f,v)});return{style:n,onLeftMouseDown:r,onMouseUp:l,onTouchStart:u,onTouchMove:d,onTouchEnd:m,dragEnd:g,onFocus:o}}});function dp(t,e,n,o,i,r){return Q(),ht("div",{class:"draggable",style:ee(t.style),onMousedown:e[0]||(e[0]=Tn((...s)=>t.onLeftMouseDown&&t.onLeftMouseDown(...s),["left"])),onMouseup:e[1]||(e[1]=(...s)=>t.onMouseUp&&t.onMouseUp(...s)),onTouchstart:e[2]||(e[2]=(...s)=>t.onTouchStart&&t.onTouchStart(...s)),onTouchmove:e[3]||(e[3]=(...s)=>t.onTouchMove&&t.onTouchMove(...s)),onTouchend:e[4]||(e[4]=(...s)=>t.onTouchEnd&&t.onTouchEnd(...s)),onTouchcancel:e[5]||(e[5]=(...s)=>t.dragEnd&&t.dragEnd(...s)),onFocus:e[6]||(e[6]=(...s)=>t.onFocus&&t.onFocus(...s)),onContextmenu:e[7]||(e[7]=s=>t.$emit("contextmenu",s))},[ue(t.$slots,"default")],36)}const fr=xt(up,[["render",dp]]);function fp(t,e=0){return(t+e%4+4)%4}function hp(t,e,n,o,i){const r=t.right-t.left,s=t.bottom-t.top,a=t.left+r/2,l=t.top+s/2,u=e.x,d=e.y,m=u+n/2,g=d+o/2,f=Math.hypot(a-m,l-g),v=Math.atan2(g-l,m-a),p=90*i*(Math.PI/180)+v,y=f*Math.cos(p)+a,b=f*Math.sin(p)+l;return{x:y-n/2,y:b-o/2}}const xn={rotate:fp,getGroupedItemRotatedPosition:hp},on=15;function cc(t,e){const n=t.position,o=e.position,{start:i,end:r}=mp(n,o);if(i.x===r.x||i.y===r.y||r.x<=1&&i.x<=1||r.y<=1&&i.y<=1)return pp(i,r);const s=Ma(t,n,o),a=Ma(e,n,o);return gp(s,a,i,r)}function pp(t,e){return{path:`M ${t.x},${t.y} L ${e.x},${e.y}`,width:Math.abs(t.x-e.x)+on,height:Math.abs(t.y-e.y)+on,minX:-(on/2),minY:-(on/2)}}function uc(t,e,n){switch(t){case Ft.Left:return e.y>n.y?Ft.Right:Ft.Left;case Ft.Top:return e.x<n.x?Ft.Bottom:Ft.Top;case Ft.Right:return e.y>n.y?Ft.Left:Ft.Right;case Ft.Bottom:return e.x<n.x?Ft.Top:Ft.Bottom;default:return uc(xn.rotate(t),e,n)}}function Ma(t,e,n){let o=xn.rotate(t.orientation+t.rotation-1);return t.canInflect&&(o=uc(o,e,n),(t.rotation%4===1||t.rotation%4===2)&&(o=xn.rotate(o-2))),o}function mp(t,e){return t.x<=e.x?t.y<=e.y?{start:{x:0,y:0},end:{x:Math.floor(e.x-t.x),y:Math.floor(e.y-t.y)}}:{start:{x:0,y:Math.floor(t.y-e.y)},end:{x:Math.floor(e.x-t.x),y:0}}:t.y<=e.y?{start:{x:Math.floor(t.x-e.x),y:0},end:{x:0,y:Math.floor(e.y-t.y)}}:{start:{x:Math.floor(t.x-e.x),y:Math.floor(t.y-e.y)},end:{x:0,y:0}}}function gp(t,e,n,o){const i=n.x,r=n.y,s=o.x,a=o.y,l=Math.max(Math.abs(i-s)/2,10),u=Math.max(Math.abs(r-a)/2,10),d=H=>Math.round(H*1e3)/1e3,m=d([i,i+l,i,i-l][t]),g=d([r-u,r,r+u,r][t]),f=d([s,s+l,s,s-l][e]),v=d([a-u,a,a+u,a][e]),p=["M",d(i),d(r),"C",m,g,f,v,d(s),d(a)].join(" "),y=Math.min(i,m,f,s)-on/2,b=Math.max(i,m,f,s)+on/2,S=Math.min(r,g,v,a)-on/2,P=Math.max(r,g,v,a)+on/2,A=b-y+on,N=P-S+on;return{width:A,height:N,path:p,minX:y,minY:S}}var Nt=(t=>(t[t.FALSE=-1]="FALSE",t[t.UNKNOWN=0]="UNKNOWN",t[t.TRUE=1]="TRUE",t))(Nt||{});const vp=It({name:"Wire",props:{geometry:{type:Object,required:!0},isAnimated:{type:Boolean,default:!1},sourceValue:{type:Number,required:!0},label:{type:String,default:""},isPreview:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1}},emits:{add:(t,e)=>!0,move:(t,e)=>!0,added:()=>!0,select:t=>!0,deselect:()=>!0},setup(t,{emit:e}){const n=Vt(),o=Vt(!1);function i(p,y){if(y)return o.value=!0,e("add",{x:p.touches[0].clientX,y:p.touches[0].clientY},{x:0,y:0});t.isSelected?e("deselect"):e("select",!0)}function r(p,y){o.value||e("add",p,y)}function s(){o.value=!1,e("added")}function a(p){u(p),t.isSelected||e("select",!p.ctrlKey)}const l=Kt(()=>o.value),{onMouseDown:u,onMouseUp:d,onTouchStart:m,onTouchMove:g,onTouchEnd:f,dragEnd:v}=lc({allowTouchDrag:l,longTouchTimeout:500,onTouched:i,onDragStart:r,onDrag:(p,y)=>e("move",p,y),onDragEnd:()=>s()});return{wireRef:n,LogicValue:Nt,onLeftMouseDown:a,onMouseUp:d,onTouchStart:m,onTouchMove:g,onTouchEnd:f,dragEnd:v}}});const yp=["width","height"],bp=["transform","d"],_p=["transform","d"],wp=["transform","d"];function Cp(t,e,n,o,i,r){return Q(),ht("svg",{class:Qt(["wire",{"wire--selected":t.isSelected,"wire--preview":t.isPreview,"wire--flash":t.flash}]),width:t.geometry.width,height:t.geometry.height,"aria-roledescription":"connection"},[bt("path",{class:"wire__outline",fill:"none",transform:`translate(${Math.abs(t.geometry.minX)}, ${Math.abs(t.geometry.minY)})`,d:t.geometry.path},null,8,bp),bt("path",{class:Qt(["wire__display",{"wire__display--on":t.sourceValue===t.LogicValue.TRUE,"wire__display--off":t.sourceValue===t.LogicValue.FALSE}]),fill:"none",transform:`translate(${Math.abs(t.geometry.minX)}, ${Math.abs(t.geometry.minY)})`,d:t.geometry.path},null,10,_p),bt("path",{class:"wire__clickable",fill:"none",ref:"wireRef",transform:`translate(${Math.abs(t.geometry.minX)}, ${Math.abs(t.geometry.minY)})`,d:t.geometry.path,onMousedown:e[0]||(e[0]=Tn((...s)=>t.onLeftMouseDown&&t.onLeftMouseDown(...s),["left"])),onMouseup:e[1]||(e[1]=(...s)=>t.onMouseUp&&t.onMouseUp(...s)),onTouchstart:e[2]||(e[2]=(...s)=>t.onTouchStart&&t.onTouchStart(...s)),onTouchmove:e[3]||(e[3]=(...s)=>t.onTouchMove&&t.onTouchMove(...s)),onTouchend:e[4]||(e[4]=(...s)=>t.onTouchEnd&&t.onTouchEnd(...s)),onTouchcancel:e[5]||(e[5]=(...s)=>t.dragEnd&&t.dragEnd(...s))},null,40,wp)],10,yp)}const dc=xt(vp,[["render",Cp]]);function Zn(t,e,n,o){return{x:(n.x-e.x-t.left)/o,y:(n.y-e.y-t.top)/o}}const Sp=It({name:"Connection",components:{Draggable:fr,WireDraggable:dc,PortHandle:ur},props:{isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},zIndex:{type:Number,default:0},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(t,{emit:e}){const n=t.store(),o=n.connections[t.id],i=Kt(()=>n.ports[o.source]),r=Kt(()=>n.ports[o.target]),s=Vt(!1);let a={x:0,y:0};const l=(H={})=>({position:{x:0,y:0},orientation:0,rotation:0,canInflect:!0,...H}),u=Kt(()=>n.connectionPreviewId===t.id),d=Kt(()=>{const{controlPoints:H}=n.connections[t.id],L=[];let D=l({...i.value,canInflect:!1});for(let k=0;k<=H.length;k++){const Y=k===H.length?l({...r.value,canInflect:!1}):H[k],U=cc(D,{...Y,orientation:k===H.length?Y.orientation:(Y.orientation+2)%4});L.push({geometry:U,wirePosition:{x:Math.min(D.position.x,Y.position.x)+U.minX,y:Math.min(D.position.y,Y.position.y)+U.minY},portPosition:Y.position,isSelected:Y.isSelected,ref:Vt()}),D=Y}return L}),m=Kt(()=>{const H=i.value.position,L=r.value.position;return{position:"absolute",left:H.x+(L.x-H.x)/2,top:H.y+(L.y-H.y)/2}}),g=Kt(()=>{const H=d.value.reduce((k,{ref:Y})=>{var I,E,h,Z;const U=(Z=(h=(E=(I=Y.value)==null?void 0:I[0])==null?void 0:E.$el)==null?void 0:h.querySelector("path"))==null?void 0:Z.getBoundingClientRect();return U?{top:Math.min(k.top,U.top),left:Math.min(k.left,U.left),bottom:Math.max(k.bottom,U.bottom),right:Math.max(k.right,U.right)}:k},{top:1/0,left:1/0,bottom:-1/0,right:-1/0}),{x:L,y:D}=Zn(n.canvas,n.viewport,{x:H.left,y:H.top},n.zoom);return{left:`${L}px`,top:`${D}px`,width:`${(H.right-H.left)/n.zoom}px`,height:`${(H.bottom-H.top)/n.zoom}px`}});function f(H,L){n.cacheState(),n.connections[t.id].groupId?a=H:n.setControlPointSnapBoundaries(t.id,d.value,L)}function v(H,L,D){n.connections[t.id].groupId?(n.setSelectionPosition({x:H.x-a.x,y:H.y-a.y}),a=H):n.dragControlPoint(t.id,H,L,D)}function p(H,L){v(H,{x:0,y:0},L)}function y(H,L){n.cacheState(),n.connections[t.id].groupId?a=H:(n.deselectAll(),n.setControlPointSnapBoundaries(t.id,d.value,-1),n.addControlPoint(t.id,H,L)),p(H,L)}function b(H){t.isSelected||n.setConnectionSelectionState(t.id,!0),e("contextmenu",H)}function S(H,L){n.connections[t.id].controlPoints[L].isSelected||n.setControlPointSelectionState(t.id,L,!0),e("contextmenu",H)}function P(H,L){L&&!n.connections[t.id].controlPoints[H].isSelected&&n.deselectAll(),n.setControlPointSelectionState(t.id,H,!0)}function A(H){H&&!t.isSelected&&n.deselectAll(),n.setConnectionSelectionState(t.id,!0)}function N(){n.commitCachedState()}return{isPreview:u,hasFocus:s,source:i,geometries:d,centroidStyle:m,boundingBox:g,onDragStart:f,onPortDrag:v,onPortAdd:y,onNewPortMove:p,onConnectionContextMenu:b,onControlPointContextMenu:S,dragEnd:N,selectControlPoint:P,selectConnection:A,cacheState:n.cacheState,setConnectionSelectionState:n.setConnectionSelectionState,setControlPointSelectionState:n.setControlPointSelectionState}}});function Ip(t,e,n,o,i,r){const s=St("port-handle"),a=St("draggable"),l=St("wire-draggable");return Q(),ht(Xt,null,[(Q(!0),ht(Xt,null,pe(t.geometries,(u,d)=>(Q(),Mt(a,{key:d,position:u.portPosition,style:ee({zIndex:t.zIndex}),onDragStart:m=>t.onDragStart(m,d),onDrag:(m,g)=>t.onPortDrag(m,g,d),onDragEnd:t.dragEnd,onSelect:m=>t.selectControlPoint(d,m),onDeselect:m=>t.setControlPointSelectionState(t.id,d,!1),onContextmenu:m=>t.onControlPointContextMenu(m,d)},{default:Rt(()=>[dt(s,{"is-selected":u.isSelected},null,8,["is-selected"])]),_:2},1032,["position","style","onDragStart","onDrag","onDragEnd","onSelect","onDeselect","onContextmenu"]))),128)),(Q(!0),ht(Xt,null,pe(t.geometries,(u,d)=>(Q(),Mt(l,{key:d,geometry:u.geometry,ref_for:!0,ref:u.ref,"source-value":t.source.value,"is-selected":t.isSelected,style:ee({left:u.wirePosition.x+"px",top:u.wirePosition.y+"px"}),flash:t.flash,onAdd:m=>t.onPortAdd(m,d),onMove:m=>t.onNewPortMove(m,d),onAdded:t.dragEnd,onSelect:t.selectConnection,onDeselect:e[0]||(e[0]=m=>t.setConnectionSelectionState(t.id,!1)),onContextmenu:t.onConnectionContextMenu},null,8,["geometry","source-value","is-selected","style","flash","onAdd","onMove","onAdded","onSelect","onContextmenu"]))),128)),bt("div",{style:ee(t.centroidStyle),tabindex:0,onFocus:e[1]||(e[1]=u=>t.hasFocus=!0),onBlur:e[2]||(e[2]=u=>t.hasFocus=!1)},null,36),t.hasFocus?(Q(),ht("div",{key:0,class:"connection__bounding-box",style:ee(t.boundingBox)},null,4)):de("",!0)],64)}const Ep=xt(Sp,[["render",Ip]]),xp=It({name:"InputNode",props:{ports:{type:Object,default:()=>{}}},emits:{signal:t=>!0},setup(t,{emit:e}){var r;const n=Vt(0),o=(r=t.ports[Ft.Right])==null?void 0:r[0];Ri(()=>{n.value=(o==null?void 0:o.value)||Nt.UNKNOWN});function i(s){s.preventDefault(),s.stopPropagation(),n.value=n.value===Nt.TRUE?Nt.FALSE:Nt.TRUE,e("signal",{id:o.id,value:n.value})}return{model:n,onInput:i}}});const Op={class:"switch__inner",tabindex:0,"aria-role":"switch"},Pp=bt("div",{class:"switch__light"},null,-1),kp=bt("div",{class:"switch__characters"},null,-1),Dp=[Pp,kp];function $p(t,e,n,o,i,r){return Q(),ht("div",{class:Qt(["switch",{"switch--on":t.model===1,"switch--off":t.model===-1,"switch--hi-z":t.model===0}])},[bt("div",Op,[bt("div",{class:"switch__trigger",onMousedown:e[0]||(e[0]=Tn((...s)=>t.onInput&&t.onInput(...s),["stop"])),onTouchstart:e[1]||(e[1]=Tn((...s)=>t.onInput&&t.onInput(...s),["stop"]))},Dp,32)])],2)}const Tp=xt(xp,[["render",$p]]),Ap=It({name:"CustomCircuitPort",components:{PortWire:Ql},props:{label:{type:String,default:""},type:{type:String,required:!0}}});const zp={class:"custom-circuit-port"},Mp={class:"custom-circuit-port__label"};function Np(t,e,n,o,i,r){const s=St("port-wire");return Q(),ht("div",zp,[bt("div",Mp,he(t.label),1),dt(s,{type:t.type},null,8,["type"])])}const Bp=xt(Ap,[["render",Np]]),Lp=It({name:"CustomCircuitPortZone",components:{CustomCircuitPort:Bp},props:{ports:{type:Array,default:()=>[]},orientation:{type:String,required:!0},circuitName:{type:String,required:!0},type:{type:String,required:!0}}});function Rp(t,e,n,o,i,r){const s=St("custom-circuit-port");return Q(),ht("div",{class:Qt(`custom-circuit-port-zone custom-circuit-port-zone--${t.orientation}`)},[(Q(!0),ht(Xt,null,pe(t.ports,a=>(Q(),ht("div",{key:a.id,class:Qt([`custom-circuit-port-zone__io--${t.type}`,"custom-circuit-port-zone__io"])},[dt(s,{label:a.name.replace(t.circuitName,""),type:t.type},null,8,["label","type"])],2))),128))],2)}const Fp=xt(Lp,[["render",Rp]]),Vp=It({name:"CustomCircuit",components:{CustomCircuitPortZone:Fp},props:{ports:{type:Object,default:()=>{}},name:{type:String,default:"circuit"}},setup(){return{Direction:Ft}}});const jp={class:"custom-circuit__center"},Hp={class:"custom-circuit__name"};function Up(t,e,n,o,i,r){const s=St("custom-circuit-port-zone");return Q(),ht("div",{class:Qt(["custom-circuit",{"custom-circuit--no-left":!t.ports[t.Direction.Left].length,"custom-circuit--no-right":!t.ports[t.Direction.Right].length,"custom-circuit--no-top":!t.ports[t.Direction.Top].length,"custom-circuit--no-bottom":!t.ports[t.Direction.Bottom].length}])},[dt(s,{ports:t.ports[t.Direction.Top],"circuit-name":t.name,orientation:"horizontal",type:"top"},null,8,["ports","circuit-name"]),bt("div",jp,[dt(s,{ports:t.ports[t.Direction.Left],"circuit-name":t.name,orientation:"vertical",type:"left"},null,8,["ports","circuit-name"]),bt("div",Hp,he(t.name),1),dt(s,{ports:t.ports[t.Direction.Right],"circuit-name":t.name,orientation:"vertical",type:"right"},null,8,["ports","circuit-name"])]),dt(s,{ports:t.ports[t.Direction.Bottom],"circuit-name":t.name,orientation:"horizontal",type:"bottom"},null,8,["ports","circuit-name"])],2)}const Wp=xt(Vp,[["render",Up]]),Gp={" ":[0,0,0,0,0,0,0],0:[1,1,1,1,1,1,0],1:[0,0,1,1,0,0,0],2:[0,1,1,0,1,1,1],3:[0,1,1,1,1,0,1],4:[1,0,1,1,0,0,1],5:[1,1,0,1,1,0,1],6:[1,1,0,1,1,1,1],7:[0,1,1,1,0,0,0],8:[1,1,1,1,1,1,1],9:[1,1,1,1,0,0,1],a:[1,1,1,1,0,1,1],b:[1,0,0,1,1,1,1],c:[1,1,0,0,1,1,0],d:[0,0,1,1,1,1,1],e:[1,1,0,0,1,1,1],f:[1,1,0,0,0,1,1]},qp=["M 8,10 L 12,14 L 12,42 L 8,46 L 4,42 L 4,14 L 8,10 z","M 10,8 L 14,4 L 42,4 L 46,8 L 42,12 L 14,12 L 10,8 z","M 48,10 L 52,14 L 52,42 L 48,46 L 44,42 L 44,14 L 48,10 z","M 48,50 L 52,54 L 52,82 L 48,86 L 44,82 L 44,54 L 48,50 z","M 10,88 L 14,84 L 42,84 L 46,88 L 42,92 L 14,92 L 10,88 z","M 8,50 L 12,54 L 12,82 L 8,86 L 4,82 L 4,54 L 8,50 z","M 10,48 L 14,44 L 42,44 L 46,48 L 42,52 L 14,52 L 10,48 z"],Zp=It({name:"DigitDisplay",props:{ports:{type:Object,default:()=>{}}},setup(t){return{segments:Kt(()=>{var i,r;const n=(r=(i=t.ports)==null?void 0:i[Ft.Left])==null?void 0:r.map(s=>s.value===Nt.TRUE?1:0).join(""),o=parseInt(n,2).toString(16).toLowerCase();return Gp[o].map((s,a)=>{const l=s?"on":"bg-tertiary";return{path:qp[a],style:{fill:`var(--color-${l})`}}})})}}});const Kp={class:"digit"},Xp={width:"58",height:"98"},Yp=["d"];function Jp(t,e,n,o,i,r){return Q(),ht("div",Kp,[(Q(),ht("svg",Xp,[bt("g",null,[(Q(!0),ht(Xt,null,pe(t.segments,(s,a)=>(Q(),ht("path",{key:a,style:ee(s.style),d:s.path},null,12,Yp))),128))])]))])}const Qp=xt(Zp,[["render",Jp]]),tm={CustomCircuit:Wp,DigitDisplay:Qp},em=It({name:"IntegratedCircuit",components:tm,props:{ports:{type:Object,default:()=>{}},subtype:{type:String,required:!0},name:{type:String,default:""}}});function nm(t,e,n,o,i,r){return Q(),Mt(ir(t.subtype),Ha(Is(t.$props)),null,16)}const om=xt(em,[["render",nm]]),im=It({name:"And",props:{isNegated:{type:Boolean,default:!1}}});const rm={class:"and",width:"100",height:"50",viewBox:"0 -1 100 50"},sm=bt("path",{transform:"translate(20, 0)",class:"and__element",d:"M 0 0 V 48 H 24 C 36 48 48 36 48 24 C 48 12 36 0 24 0 Z"},null,-1),am={key:0,cx:"73",cy:"24",r:"5",class:"and__negation"};function lm(t,e,n,o,i,r){return Q(),ht("svg",rm,[sm,t.isNegated?(Q(),ht("circle",am)):de("",!0)])}const fc=xt(im,[["render",lm]]),cm=It({name:"Or",props:{isNegated:{type:Boolean,default:!1},isXor:{type:Boolean,default:!1}}});const um={width:"100",height:"50",viewBox:"0 -1 100 50",class:"or"},dm=bt("path",{transform:"translate(10, 0)",fill:"#fff",d:"M 0 0 C 12 12 12 36 0 48 H 0 H 24 C 48 48 60 36 72 24 C 60 12 48 0 24 0 Z",class:"or__element"},null,-1),fm={key:0,fill:"none",d:"M 0 0 C 12 12 12 36 0 48",class:"or__tail"},hm={key:1,cx:"88",cy:"24",r:"5",class:"or__negation"};function pm(t,e,n,o,i,r){return Q(),ht("svg",um,[dm,t.isXor?(Q(),ht("path",fm)):de("",!0),t.isNegated?(Q(),ht("circle",hm)):de("",!0)])}const hr=xt(cm,[["render",pm]]),mm=It({name:"Nor",components:{Or:hr}});function gm(t,e,n,o,i,r){const s=St("or");return Q(),Mt(s,{"is-negated":!0})}const vm=xt(mm,[["render",gm]]),ym=It({name:"Buffer",props:{isNegated:{type:Boolean,default:!1}}});const bm={class:"buffer",width:"100",height:"50",viewBox:"0 -1 100 50"},_m=bt("path",{class:"buffer__element",transform:"translate(40, 0)",stroke:"#000","stroke-width":"2",fill:"#fff",d:"M 0 0 V 48 L 36 24 Z"},null,-1),wm={key:0,class:"buffer__negation",stroke:"#000","stroke-width":"2",cx:"88",cy:"24",r:"5",fill:"#fff"};function Cm(t,e,n,o,i,r){return Q(),ht("svg",bm,[_m,t.isNegated?(Q(),ht("circle",wm)):de("",!0)])}const Sm=xt(ym,[["render",Cm]]),Im=It({name:"Not",components:{Buffer:Sm}});function Em(t,e,n,o,i,r){const s=St("buffer");return Q(),Mt(s,{"is-negated":!0})}const xm=xt(Im,[["render",Em]]),Om=It({name:"Nand",components:{And:fc}});function Pm(t,e,n,o,i,r){const s=St("and");return Q(),Mt(s,{"is-negated":!0})}const km=xt(Om,[["render",Pm]]),Dm=It({name:"Xnor",components:{Or:hr}});function $m(t,e,n,o,i,r){const s=St("or");return Q(),Mt(s,{"is-negated":!0,"is-xor":!0})}const Tm=xt(Dm,[["render",$m]]),Am=It({name:"Xor",components:{Or:hr}});function zm(t,e,n,o,i,r){const s=St("or");return Q(),Mt(s,{"is-xor":!0})}const Mm=xt(Am,[["render",zm]]),Nm=It({name:"LogicGate",components:{And:fc,Or:hr,Nor:vm,Not:xm,Nand:km,Xnor:Tm,Xor:Mm},props:{properties:{type:Object,default:()=>({})},subtype:{subtype:String,required:!0}},setup(t){return{inputCount:Kt(()=>{var n;return((n=t.properties.inputCount)==null?void 0:n.value)||2})}}});const Bm=bt("div",{class:"logic-gate__wire"},null,-1),Lm={key:0,class:"logic-gate__wires--multiwire"},Rm=bt("div",{class:"logic-gate__wires-divider"},[bt("div",{class:"logic-gate__wire"})],-1);function Fm(t,e,n,o,i,r){return Q(),ht("div",{style:ee({height:`${25*t.inputCount}px`}),class:"logic-gate"},[bt("div",{style:ee({width:(t.inputCount>2,100+"%")}),class:"logic-gate__wires"},[bt("div",{class:Qt([{"logic-gate__wires-divider--multiwire":t.inputCount>2},"logic-gate__wires-divider"])},[(Q(!0),ht(Xt,null,pe(t.inputCount-1,s=>(Q(),ht("div",{key:s,class:"logic-gate__wire"}))),128)),Bm],2),t.inputCount>2?(Q(),ht("div",Lm)):de("",!0),Rm],4),(Q(),Mt(ir(t.subtype),{class:"logic-gate__component"}))],4)}const Vm=xt(Nm,[["render",Fm]]),jm=It({name:"Lightbulb",props:{ports:{type:Object,default:()=>{}}},setup(t){return{modifier:Kt(()=>{var n,o;switch((o=(n=t.ports[Ft.Left])==null?void 0:n[0])==null?void 0:o.value){case Nt.TRUE:return"on";case Nt.FALSE:return"off";default:return"high-z"}})}}});const Hm={class:"lightbulb"},Um=bt("div",{class:"lightbulb__wire"},null,-1);function Wm(t,e,n,o,i,r){return Q(),ht("div",Hm,[Um,bt("div",{class:Qt(["lightbulb__bulb",`lightbulb__bulb--${t.modifier}`])},null,2)])}const Gm=xt(jm,[["render",Wm]]),qm={Lightbulb:Gm},Zm=It({name:"OutputNode",components:qm,props:{ports:{type:Object,default:()=>{}},subtype:{type:String,required:!0}}});function Km(t,e,n,o,i,r){return Q(),Mt(ir(t.subtype),Ha(Is(t.$props)),null,16)}const Xm=xt(Zm,[["render",Km]]),Ym={InputNode:Tp,IntegratedCircuit:om,LogicGate:Vm,OutputNode:Xm},Jm=It({name:"CircuitComponent",components:Ym,emits:{signal:t=>!0},props:{isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},type:{type:String,required:!0},subtype:{type:String,required:!0},name:{type:String,default:""},ports:{type:Object,default:()=>{}},properties:{type:Object,default:()=>({})}},setup(t,{emit:e}){return{onChange(n){e("signal",n)},ItemType:Oe,ItemSubtype:re}}});function Qm(t,e,n,o,i,r){return Q(),ht("div",{class:Qt(["circuit-component",{"circuit-component--selected":t.isSelected,"circuit-component--flash":t.flash,"circuit-component--custom":t.subtype===t.ItemSubtype.CustomCircuit}])},[(Q(),Mt(ir(t.type),Ml(t.$props,{onSignal:t.onChange}),null,16,["onSignal"])),(Q(),ht(Xt,null,pe(["left","top","right","bottom"],(s,a)=>bt("div",{key:a,class:Qt([`circuit-component__ports--${s}`,"circuit-component__ports"])},[ue(t.$slots,a)],2)),64))],2)}const hc=xt(Jm,[["render",Qm]]),t1=It({name:"Properties",components:{Icon:We},props:{properties:{type:Object,default:()=>({})},id:{type:String,default:""},viewport:{type:Object,required:!0}},emits:{update:(t,e)=>!0,pan:(t,e)=>!0},setup(t,{emit:e}){const n=Vt(),o=Vt(!1),i=Vt(Ge(t.properties));fn(t.properties,d=>{i.value=Ge(d)},{deep:!0});function r(d){o.value=!1,d.preventDefault()}function s(d){var m;r(d),(m=n.value)==null||m.focus()}function a(d){d.stopPropagation()}function l(){e("update",t.id,i.value)}function u(){o.value=!0,Ko(()=>{if(!n.value)return;const{bottom:d,right:m}=n.value.getBoundingClientRect(),g=Math.max(m-t.viewport.right,0),f=Math.max(d-t.viewport.bottom,0);(g>0||f>0)&&e("pan",{x:-g,y:-f},!0)})}return{faClose:wo,faWrench:Jf,model:i,isOpen:o,propertiesRef:n,close:r,onKeyDown:s,onChange:l,openProperties:u,stopPropagation:a}}});const e1=["aria-hidden"],n1={class:"properties__heading",role:"title"},o1=["for"],i1=["onUpdate:modelValue","id"],r1=["value"],s1=["onUpdate:modelValue","id"],a1=["onUpdate:modelValue","min","max","type","id"];function l1(t,e,n,o,i,r){const s=St("icon");return Q(),ht("div",{onContextmenu:e[3]||(e[3]=(...a)=>t.stopPropagation&&t.stopPropagation(...a)),onMousedown:e[4]||(e[4]=(...a)=>t.stopPropagation&&t.stopPropagation(...a)),onMouseup:e[5]||(e[5]=(...a)=>t.stopPropagation&&t.stopPropagation(...a)),onKeydown:e[6]||(e[6]=ao((...a)=>t.onKeyDown&&t.onKeyDown(...a),["esc"])),class:"properties"},[t.isOpen?(Q(),ht("div",{key:0,class:"properties__dialog",ref:"propertiesRef","aria-hidden":!t.isOpen},[bt("div",n1,[Es(" Properties "),dt(s,{tabindex:0,icon:t.faClose,onClick:t.close,role:"button",class:"properties__close"},null,8,["icon","onClick"])]),(Q(!0),ht(Xt,null,pe(t.model,(a,l)=>(Q(),ht("div",{key:l,class:"properties__entry"},[bt("label",{for:`${t.id}_${l}`,class:"properties__label"},he(a.label),9,o1),a.options?fo((Q(),ht("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${t.id}_${l}`,class:"properties__input",onChange:e[0]||(e[0]=(...u)=>t.onChange&&t.onChange(...u))},[(Q(!0),ht(Xt,null,pe(a.options,(u,d)=>(Q(),ht("option",{key:d,value:u},he(d),9,r1))),128))],40,i1)),[[Ds,a.value]]):a.type==="boolean"?fo((Q(),ht("input",{key:1,"onUpdate:modelValue":u=>a.value=u,id:`${t.id}_${l}`,type:"checkbox",class:"properties__input",onChange:e[1]||(e[1]=(...u)=>t.onChange&&t.onChange(...u))},null,40,s1)),[[ks,a.value]]):fo((Q(),ht("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${t.id}_${l}`,class:"properties__input",onChange:e[2]||(e[2]=(...u)=>t.onChange&&t.onChange(...u))},null,40,a1)),[[Fl,a.value]])]))),128))],8,e1)):(Q(),Mt(s,{key:1,onKeydown:ao(t.openProperties,["space"]),onClick:t.openProperties,tabindex:0,icon:t.faWrench,class:"properties__icon"},null,8,["onKeydown","onClick","icon"]))],32)}const c1=xt(t1,[["render",l1]]),u1=It({name:"PortPivot",props:{rotation:{type:Number,default:0}}});function d1(t,e,n,o,i,r){return Q(),ht("div",{class:"port-pivot",style:ee({transform:`rotate(-${t.rotation*90}deg)`})},[ue(t.$slots,"default")],4)}const pc=xt(u1,[["render",d1]]),f1=It({name:"PortItem",components:{WireDraggable:dc,PortHandle:ur,PortPivot:pc,Draggable:fr},props:{port:{type:Object,required:!0},store:{type:Function,required:!0}},setup(t,{emit:e}){const n=t.store(),{createConnectionExperiment:o,updateConnectionExperiment:i,terminateConnectionExperiment:r}=n,s=Kt(()=>n.activePortId===t.port.id||n.connectablePortIds.has(t.port.id)),a=Kt(()=>{var y;if(((y=n.connectionExperiment)==null?void 0:y.sourceId)!==t.port.id)return null;const{targetPosition:f}=n.connectionExperiment,v=cc(t.port,{position:f,orientation:Ft.Right,rotation:t.port.rotation,canInflect:!0}),p={x:Math.min(t.port.position.x,f.x)+v.minX,y:Math.min(t.port.position.y,f.y)+v.minY};return{geometry:v,position:p,targetPosition:f}}),l=Kt(()=>n.items[t.port.elementId].zIndex+ec);function u(f){f.preventDefault(),f.stopPropagation(),e("deselect",f)}function d(){n.unsetConnectionPreview(),n.cachedState=null}function m(f){f.stopPropagation(),f.preventDefault(),navigator.vibrate(100),n.togglePortMonitoring(t.port.id)}function g(f){f.stopPropagation(),f.preventDefault(),n.togglePortMonitoring(t.port.id)}return{wire:a,isActive:s,store:n,zIndex:l,onEscapeKey:u,onBlur:d,onTouchHold:m,onDoubleClick:g,createConnectionExperiment:o,updateConnectionExperiment:i,terminateConnectionExperiment:r}}});function h1(t,e,n,o,i,r){var d,m,g,f;const s=St("wire-draggable"),a=St("port-handle"),l=St("port-pivot"),u=St("draggable");return Q(),ht(Xt,null,[t.wire?(Q(),Mt(s,{key:0,geometry:t.wire.geometry,style:ee({left:((d=t.wire.position)==null?void 0:d.x)+"px",top:((m=t.wire.position)==null?void 0:m.y)+"px"}),"source-value":t.port.value},null,8,["geometry","style","source-value"])):de("",!0),t.wire?(Q(),Mt(a,{key:1,style:ee({left:((g=t.wire.targetPosition)==null?void 0:g.x)+"px",top:((f=t.wire.targetPosition)==null?void 0:f.y)+"px",transform:"translate(-50%, -50%)"})},null,8,["style"])):de("",!0),dt(u,{position:t.port.position,style:ee({zIndex:t.zIndex}),onDragStart:e[0]||(e[0]=v=>t.createConnectionExperiment(t.port.id)),onDrag:t.updateConnectionExperiment,onDragEnd:t.terminateConnectionExperiment,onTouchhold:t.onTouchHold,onDblclick:t.onDoubleClick},{default:Rt(()=>[dt(l,null,{default:Rt(()=>[dt(a,{active:t.isActive,hue:t.port.isMonitored?t.port.hue:0},null,8,["active","hue"])]),_:1})]),_:1},8,["position","style","onDrag","onDragEnd","onTouchhold","onDblclick"])],64)}const mc=xt(f1,[["render",h1]]),p1={},m1={switch1_nor1_conn:{id:"switch1_nor1_conn",connectionChainId:"switch1_nor1_conn",source:"switchOutputPort1",target:"nor1InputPort1",isSelected:!1,groupId:null,zIndex:7},switch2_nor2_conn:{id:"switch2_nor2_conn",connectionChainId:"switch2_nor2_conn",source:"switchOutputPort2",target:"nor2InputPort1",isSelected:!1,groupId:null,zIndex:8},nor1_nor2_conn:{id:"nor1_nor2_conn",connectionChainId:"nor1_nor2_conn",source:"nor1OutputPort1",target:"nor2InputPort2",isSelected:!1,groupId:null,zIndex:9},nor2_nor1_conn:{id:"nor2_nor1_conn",connectionChainId:"nor2_nor1_conn",source:"nor2OutputPort1",target:"nor1InputPort2",isSelected:!1,groupId:null,zIndex:10},nor1_lightbulb1_conn:{id:"nor1_lightbulb1_conn",connectionChainId:"nor1_lightbulb1_conn",source:"nor1OutputPort1",target:"lightbulbInputPort1",isSelected:!1,groupId:null,zIndex:11},nor2_lightbulb2_conn:{id:"nor2_lightbulb2_conn",connectionChainId:"nor2_lightbulb2_conn",source:"nor2OutputPort1",target:"lightbulbInputPort2",isSelected:!1,groupId:null,zIndex:12}},g1={nor1InputPort1:{id:"nor1InputPort1",elementId:"nor1",defaultName:"Input Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1InputPort2:{id:"nor1InputPort2",elementId:"nor1",defaultName:"Input Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1OutputPort1:{id:"nor1OutputPort1",elementId:"nor1",defaultName:"Input Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},nor2InputPort1:{id:"nor2InputPort1",elementId:"nor2",defaultName:"Input Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2InputPort2:{id:"nor2InputPort2",elementId:"nor2",defaultName:"Input Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2OutputPort1:{id:"nor2OutputPort1",elementId:"nor2",defaultName:"Output Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort1:{id:"switchOutputPort1",elementId:"switch1",defaultName:"Output Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort2:{id:"switchOutputPort2",elementId:"switch2",defaultName:"Output Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},lightbulbInputPort1:{id:"lightbulbInputPort1",elementId:"lightbulb1",defaultName:"Input Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},lightbulbInputPort2:{id:"lightbulbInputPort2",elementId:"lightbulb2",defaultName:"Input Port",name:"",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1}},v1={nor1:{id:"nor1",type:"LogicGate",defaultName:"NOR Gate",subtype:"Nor",portIds:["nor1InputPort1","nor1InputPort2","nor1OutputPort1"],position:{x:300,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2},name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:1,width:100,height:150},nor2:{id:"nor2",type:"LogicGate",subtype:"Nor",defaultName:"NOR Gate",portIds:["nor2InputPort2","nor2InputPort1","nor2OutputPort1"],position:{x:300,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2},name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:2,width:120,height:51},switch1:{id:"switch1",type:"InputNode",subtype:"Clock",defaultName:"Clock",portIds:["switchOutputPort1"],position:{x:100,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},interval:{label:"Interval",value:1e3,type:"number",min:100,step:100},startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:3,width:40,height:40},switch2:{id:"switch2",type:"InputNode",subtype:"Switch",defaultName:"Switch",portIds:["switchOutputPort2"],position:{x:100,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},startValue:{label:"Start value",value:1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:4,width:40,height:40},lightbulb1:{id:"lightbulb1",type:"OutputNode",subtype:"Lightbulb",defaultName:"Lightbulb",portIds:["lightbulbInputPort1"],position:{x:700,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:5,width:40,height:40},lightbulb2:{id:"lightbulb2",type:"OutputNode",subtype:"Lightbulb",defaultName:"Lightbulb",portIds:["lightbulbInputPort2"],position:{x:700,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:6,width:40,height:40}},y1={groups:p1,connections:m1,ports:g1,items:v1};class mn{constructor(e,n=[]){wt(this,"inputValues",{});wt(this,"outputs",[]);wt(this,"isValueChanged",!0);wt(this,"forceContinue",!1);wt(this,"name");wt(this,"value",Nt.UNKNOWN);wt(this,"newValue",Nt.UNKNOWN);wt(this,"events",[]);wt(this,"setValue",e=>{this.newValue=e});wt(this,"invokeEvent",(e,n,o)=>{this.events.forEach(i=>{i.eventType===e&&i.callback(n,o)})});wt(this,"eval",()=>this.value);wt(this,"valueCount",e=>Object.values(this.inputValues).filter(n=>n===e).length);wt(this,"updateOutputs",e=>{const n=[];this.outputs.forEach(({node:o,id:i})=>{o.update(e,i),n.push(i)}),this.invokeEvent("change",e,n)});wt(this,"update",(e,n)=>{this.inputValues[n]=e,this.newValue=this.eval(),this.invokeEvent("change",this.newValue,this.outputs.map(({id:o})=>o))});wt(this,"propagate",()=>{let e=[];return this.value!==this.newValue&&(this.isValueChanged=!0,this.value=this.newValue,this.updateOutputs(this.newValue),this.outputs.forEach(({node:n})=>{n.forceContinue?e=e.concat(n.propagate()):e.push(n)})),e});wt(this,"reset",()=>{this.value=Nt.UNKNOWN,this.newValue=Nt.UNKNOWN,this.invokeEvent("change",this.newValue,this.outputs.map(({id:e})=>e))});wt(this,"on",(e,n)=>{this.events.push({eventType:e,callback:n})});this.name=e,this.inputValues=n.reduce((o,i)=>({...o,[i]:Nt.UNKNOWN}),{})}}class os extends mn{constructor(){super(...arguments);wt(this,"reset",()=>{})}}class b1{constructor(e,n){wt(this,"node");wt(this,"id");this.node=e,this.id=n}}class _1{constructor(){wt(this,"queue",[]);wt(this,"nodes",[]);wt(this,"inputNodes",[]);wt(this,"addNode",e=>{e instanceof os&&(this.inputNodes.push(e),this.enqueue(e)),this.nodes.push(e)});wt(this,"removeNode",e=>{if(e instanceof os){const o=this.inputNodes.findIndex(({name:i})=>i===e.name);o!==-1&&this.inputNodes.splice(o,1)}const n=this.nodes.findIndex(({name:o})=>o===e.name);n!==-1&&(this.removeNodeOutputs(e),this.nodes.splice(n,1)),this.advance()});wt(this,"addConnection",(e,n,o,i=Nt.UNKNOWN)=>{!e||!n||(e.outputs.push(new b1(n,o)),e.value=i,i||this.enqueue(e))});wt(this,"removeConnection",(e,n,o=Nt.UNKNOWN)=>{var i;(i=e==null?void 0:e.outputs)==null||i.concat().forEach(({node:r,id:s},a)=>{n===r&&(n.update(o,s),e.outputs.splice(a,1),this.enqueue(n))})});wt(this,"removeNodeOutputs",e=>{for(let n=0;n<e.outputs.length;n++)this.removeConnection(e,e.outputs[n].node)});wt(this,"enqueue",(...e)=>{e.forEach(n=>{~this.queue.indexOf(n)||this.queue.push(n)})});wt(this,"dequeue",e=>{const n=this.queue.indexOf(e);~n&&this.queue.splice(n,1)});wt(this,"reset",()=>{this.nodes.forEach(e=>e.reset())});wt(this,"advance",()=>{let e=!1,n=[];for(;this.queue.length>0;){const o=this.queue.shift();o&&(n=n.concat(o.propagate()),this.dequeue(o),o.isValueChanged&&(e=!0),o.forceContinue&&(this.enqueue(...n),n=[]))}e&&this.enqueue(...n)})}}class gc{constructor(e,n,o,i){wt(this,"id");wt(this,"name");wt(this,"width",0);wt(this,"lastY",0);wt(this,"segments",[]);wt(this,"hue",0);wt(this,"initialize",e=>{const n={x:1,y:1};e===1?(n.y=0,this.lastY=1):(n.y=1,this.lastY=0),this.addSegment(n),this.updateWidth()});wt(this,"clear",()=>{this.segments=[],this.width=0,this.initialize(this.lastY===1?0:1)});wt(this,"reset",e=>{});wt(this,"update",e=>{this.drawPulseConstant()});wt(this,"addSegment",e=>{const n=this.segments[this.segments.length-1];!n&&e.x>0?this.segments.push({x:0,y:e.y}):n&&n.x!==e.x&&n.y!==e.y&&this.segments.pop(),this.segments.push(e),this.updateWidth()});wt(this,"drawPulseChange",e=>{const{x:n}=this.segments[this.segments.length-1],o=e===Nt.TRUE?0:1;this.updateWidth(),this.addSegment({x:n,y:o})});wt(this,"drawPulseConstant",()=>{const e=this.segments[this.segments.length-1],n=this.lastY!==e.y?e:this.segments.pop();n&&(this.updateWidth(),this.addSegment({x:n.x+1,y:n.y})),this.lastY=e.y});wt(this,"truncateSegments",e=>{if(e>this.width)return;const n=this.width-e;for(let o=0;o<this.segments.length;o++){const{x:i,y:r}=this.segments[o];if(i>n){this.segments.splice(0,o),this.segments.unshift({x:0,y:r});break}}for(let o=1;o<this.segments.length;o++){const{x:i,y:r}=this.segments[o];this.segments[o]={x:i-n,y:r}}this.updateWidth()});wt(this,"updateWidth",()=>{var e;this.width=((e=this.segments.slice(-1)[0])==null?void 0:e.x)||0});this.id=e,this.name=n,this.hue=i,this.initialize(o)}}var vc={exports:{}};function Ns(){}Ns.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function i(){o.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,s=o.length;r<s;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}};vc.exports=Ns;var w1=vc.exports.TinyEmitter=Ns;class Go{constructor(e,n,o,i){wt(this,"id",me());wt(this,"name");wt(this,"currentValue",Nt.UNKNOWN);wt(this,"defaultValue",Nt.UNKNOWN);wt(this,"interval",0);wt(this,"lastUpdate");wt(this,"emitter",new w1);wt(this,"isStopped",!1);wt(this,"toString",()=>({name:this.name,interval:this.interval,currentValue:this.currentValue,defaultValue:this.defaultValue}));wt(this,"reset",()=>{this.lastUpdate=-this.interval,this.currentValue=this.defaultValue});wt(this,"on",(e,n)=>{this.emitter.on(e,n)});wt(this,"stop",()=>{this.isStopped=!0});wt(this,"start",()=>{this.isStopped=!1});wt(this,"update",e=>{!this.isStopped&&e>=this.lastUpdate+this.interval&&(this.currentValue=this.currentValue===Nt.FALSE?Nt.TRUE:Nt.FALSE,this.lastUpdate=e,this.emitter.emit("change",this.currentValue))});this.name=e,this.currentValue=o,this.defaultValue=i,this.interval=n,this.lastUpdate=-n}static deserialize(e){if(e instanceof Go)return e;if(e)return new Go(e.name,e.interval,e.currentValue,e.defaultValue)}}class C1{constructor(){wt(this,"isPaused",!0);wt(this,"pulses",{});wt(this,"binaryWaves",{});wt(this,"clocks",{});wt(this,"refreshRate",20);wt(this,"lastUpdateTime",Date.now());wt(this,"timeMsElapsed",0);wt(this,"timeMsOffset",0);wt(this,"onTick");wt(this,"start",()=>{if(!this.isPaused)return;const e=this.lastUpdateTime%this.refreshRate;this.lastUpdateTime=Date.now()+e,this.isPaused=!1,this.tick()});wt(this,"stop",()=>{this.isPaused=!0});wt(this,"reset",()=>{this.timeMsOffset=0,this.timeMsElapsed=0,this.lastUpdateTime=Date.now(),Object.values(this.clocks).forEach(e=>e.reset())});wt(this,"clear",()=>{Object.values(this.binaryWaves).forEach(e=>e.clear())});wt(this,"computeWaveGeometry",e=>{const n={},o=i=>i.map(({x:r,y:s})=>`${r},${s}`);for(const i in e){const r=e[i],s=o(r.segments);n[i]={points:s.join(" "),width:r.width,hue:r.hue}}return n});wt(this,"broadcast",()=>{var i;const e=window.screen.width,n=1e3/this.refreshRate,o=e/n;this.timeMsElapsed>=this.timeMsOffset+o/2*1e3&&(this.timeMsOffset=this.timeMsElapsed,Object.values(this.binaryWaves).forEach(r=>r.truncateSegments(e))),(i=this.onTick)==null||i.call(this,this.computeWaveGeometry(this.binaryWaves))});wt(this,"tick",()=>{if(this.isPaused)return;const e=Date.now(),n=1e4;let o=!1;if(e>=this.lastUpdateTime+n){this.stop(),this.start();return}for(;e>=this.lastUpdateTime+this.refreshRate;){const i=Math.min(this.refreshRate,e-this.lastUpdateTime);o=!0,this.timeMsElapsed+=i,this.lastUpdateTime+=i,this.update()}o&&this.broadcast(),requestAnimationFrame(this.tick)});wt(this,"update",()=>{Object.values(this.pulses).forEach(e=>e.update(this.timeMsElapsed))});wt(this,"add",e=>{this.pulses.hasOwnProperty(e.id)||(this.pulses[e.id]=e,this.start(),e instanceof gc?this.binaryWaves[e.id]=e:e instanceof Go&&(this.clocks[e.id]=e),this.timeMsElapsed===0&&this.broadcast())});wt(this,"remove",e=>{e&&(delete this.pulses[e.id],delete this.binaryWaves[e.id],delete this.clocks[e.id],Object.keys(this.pulses).length===0&&(this.stop(),this.clear()),this.broadcast())})}}const S1=()=>({undoStack:[],redoStack:[],oscillogram:{},zoomLevel:1,zIndex:1,oscilloscopeHeight:200,oscilloscopeWidth:100,isOscilloscopeOpen:!1,isCircuitEvaluated:!1,isDebugging:!1,isDirty:!1,isBusy:!1,hasLoaded:!1,isPrinting:!1,isCreatingImage:!1,panningAnimationFrameId:0,nodes:{},circuit:new _1,oscillator:new C1,viewport:new DOMRect,canvas:{top:0,left:0,bottom:0,right:0},snapBoundaries:[],monitoredPortIds:new Set,connectablePortIds:new Set,selectedConnectionIds:new Set,selectedItemIds:new Set,selectedGroupIds:new Set,selectedControlPoints:{},selectedPortIndex:-1,cachedState:null,activePortId:null,connectionPreviewId:null,connectionExperiment:null,items:{},connections:{},ports:{},groups:{}});function I1(){this.copy(),this.deleteSelection()}function E1(){const t={},e={},n={},o={};this.selectedItemIds.forEach(r=>{t[r]=this.items[r],t[r].portIds.forEach(s=>{e[s]={...this.ports[s],connectedPortIds:[]}})}),this.selectedConnectionIds.forEach(r=>{const s=this.connections[r];e[s.source]&&e[s.target]&&(n[r]=s)}),this.selectedGroupIds.forEach(r=>o[r]=this.groups[r]);const i={items:t,ports:e,connections:n,groups:o,pasteCount:1};Object.keys(i.items).length?window.api.setClipboardContents(JSON.stringify(i)):window.api.beep()}function x1(){if(!window.api.canPaste())return window.api.beep();try{const t=window.api.getClipboardContents(),e=JSON.parse(t),n=zs.mapStandardCircuitIds(e);this.commitState(),this.deselectAll(),Object.keys(n.ports).forEach(r=>{const s=n.ports[r];s.value=Nt.UNKNOWN,s.isMonitored=!1,delete s.wave}),this.applyDeserializedState({items:{...this.items,...n.items},connections:{...this.connections,...n.connections},ports:{...this.ports,...n.ports},groups:{...this.groups,...n.groups}}),Object.keys(n.items).forEach(r=>this.setItemSelectionState(r,!0)),Object.keys(n.connections).forEach(r=>this.setConnectionSelectionState(r,!0));const o=Object.values(n.items)[0];requestAnimationFrame(()=>{this.setSelectionPosition({x:e.pasteCount*20,y:e.pasteCount*20})});const i={...JSON.parse(t),pasteCount:e.pasteCount+1};window.api.setClipboardContents(JSON.stringify(i))}catch{window.api.clearClipboard(),window.api.beep()}}const O1=Object.defineProperty({__proto__:null,copy:E1,cut:I1,paste:x1},Symbol.toStringTag,{value:"Module"}),Kn=cr({id:"preferences",state:()=>({colors:{onColor:{type:"color",label:"High state",value:"#4bc567",description:"When a signal is present."},offColor:{type:"color",label:"Low state",value:"#c0c0c0",description:"When no signal is present."},unknownColor:{type:"color",label:"Unknown state",value:"darkred",description:"High impedance (Hi-Z)."}},snapping:{snapToGrid:{type:"boolean",label:"Snap to grid",value:!1,description:"Snap elements to the grid lines.",excludes:["snapToAlign"]},snapToAlign:{type:"boolean",label:"Snap to align",value:!0,description:"Snap elements together.",excludes:["snapToGrid"]},snapTolerance:{type:"number",label:"Snap tolerance",value:15,description:"Maximum distance from a dragging object to snap to another element."}},grid:{showGrid:{type:"boolean",label:"Show grid",value:!0,description:"Display a grid on the canvas."},gridSize:{type:"number",label:"Grid size",value:20,description:"Distance between grid lines.",excludes:["snapToAlign"]}},simulation:{startPaused:{type:"boolean",label:"Pause on startup",value:!0,description:"Start simulation paused."}},experience:{vibration:{type:"boolean",label:"Vibration",value:!0,description:"Haptic feedback on gestures.",mobileOnly:!0},autosave:{type:"boolean",label:"Auto-save",value:!0,description:"Automatically save your work.",desktopOnly:!0},darkMode:{type:"boolean",label:"Dark mode",value:!0}}}),getters:{colorStyles(t){return{"--color-on":t.colors.onColor.value,"--color-off":t.colors.offColor.value,"--color-hi-z":t.colors.unknownColor.value}}},actions:{async writeSettings(){},async updateSettings(t){await this.writeSettings()}}});function P1(t){if(this.activePortId&&t){let e=this.activePortId,n=t;this.ports[this.activePortId].type===ye.Input&&(e=t,n=this.activePortId);const o=me();this.unsetConnectionPreview(),this.connect({source:e,target:n,id:o}),this.connectionPreviewId=o}}function k1(){this.connectionPreviewId&&this.disconnectById(this.connectionPreviewId),this.connectionPreviewId=null}function D1(){if(this.connectionPreviewId){const{source:t,target:e}=this.connections[this.connectionPreviewId];this.disconnectById(this.connectionPreviewId),this.commitState(),this.connect({source:t,target:e}),this.connectionPreviewId=null}}function $1(t){var o;t&&t!==this.activePortId&&this.setActivePortId(t);let e=this.selectedPortIndex+1;e<=0&&(e=0),e>=this.connectablePortIds.size&&(e=-1);const n=[...this.connectablePortIds.values()][e];n&&!((o=this.ports[t])!=null&&o.connectedPortIds.includes(n))?this.setConnectionPreview(n):(this.connectablePortIds.size===0&&window.api.beep(),this.unsetConnectionPreview()),this.selectedPortIndex=e}function T1(t){const e=t.id||me();this.connections[e]={controlPoints:[],groupId:null,id:e,...t,zIndex:++this.zIndex,isSelected:!1},this.ports[t.source].connectedPortIds.push(t.target),this.ports[t.target].connectedPortIds.push(t.source)}function A1(t){!this.ports[t.source]||!this.ports[t.target]||(this.createConnection(t),this.circuit.addConnection(this.nodes[t.source],this.nodes[t.target],t.target),this.advanceSimulation())}function z1({source:t,target:e}){const n=Object.values(this.connections).find(o=>o.source===t&&o.target===e);n&&this.destroyConnectionById(n.id)}function M1(t){var r;const{source:e,target:n}=this.connections[t],o=this.ports[e].connectedPortIds.findIndex(s=>s===n),i=this.ports[n].connectedPortIds.findIndex(s=>s===e);this.ports[e].connectedPortIds.splice(o,1),this.ports[n].connectedPortIds.splice(i,1),this.ports[n].value=Nt.UNKNOWN,(r=this.ports[n].wave)==null||r.drawPulseChange(Nt.UNKNOWN),delete this.connections[t]}function N1({source:t,target:e}){this.circuit.removeConnection(this.nodes[t],this.nodes[e]),this.advanceSimulation(),this.destroyConnection({source:t,target:e})}function B1(t){if(!this.connections[t])return;const{source:e,target:n}=this.connections[t];this.circuit.removeConnection(this.nodes[e],this.nodes[n]),this.advanceSimulation(),this.selectedItemIds.delete(t),this.destroyConnectionById(t)}function L1(t,e,n){this.connections[t].controlPoints.splice(n,0,{position:e,orientation:0,rotation:0,canInflect:!0}),this.setControlPointSelectionState(t,n,!0)}function R1(t){this.ports[t]&&(this.connectionExperiment={sourceId:t,targetPosition:this.ports[t].position},this.setConnectablePortIds({portId:t,isDragging:!0}),this.setConnectionExperimentSnapBoundaries(t))}function F1(t){if(!this.connectionExperiment)return;const{x:e,y:n}=Zn(this.canvas,this.viewport,t,this.zoom),o=ie.getPointBoundary({x:e,y:n}),{snapping:i}=Kn(),r=i.snapTolerance.value,s=ie.getRadialSnapOffset(this.snapBoundaries,o,r);this.connectionExperiment.targetPosition={x:e+s.x,y:n+s.y}}function V1(){if(!this.connectionExperiment)return;const{sourceId:t,targetPosition:e}=this.connectionExperiment,{snapping:n}=Kn(),o=n.snapTolerance.value;this.connectionExperiment=null;const i=Object.values(this.ports).find(r=>this.connectablePortIds.has(r.id)&&ie.isInNeighborhood(r.position,e,o));i&&(this.cacheState(),this.ports[t].type===ye.Input?this.connect({source:i.id,target:t}):this.connect({source:t,target:i.id}),this.commitCachedState()),this.clearStatelessInfo()}const j1=Object.defineProperty({__proto__:null,addControlPoint:L1,commitPreviewedConnection:D1,connect:A1,createConnection:T1,createConnectionExperiment:R1,cycleConnectionPreviews:$1,destroyConnection:z1,destroyConnectionById:M1,disconnect:N1,disconnectById:B1,setConnectionPreview:P1,terminateConnectionExperiment:V1,unsetConnectionPreview:k1,updateConnectionExperiment:F1},Symbol.toStringTag,{value:"Module"});function H1(t){const e=JSON.parse(t);e.integratedCircuit?this.applyDeserializedState(e.integratedCircuit):this.applySerializedState(t),this.initialize()}function U1(){this.resetCircuit(),this.oscillator.onTick=t=>this.oscillogram=t}function W1(){this.isPrinting=!0}function G1(){this.isCreatingImage=!0}const q1=Object.defineProperty({__proto__:null,createImage:G1,initialize:U1,loadDocument:H1,print:W1},Symbol.toStringTag,{value:"Module"});function Z1(){this.commitState();const t=me(),e=Object.values(this.items).filter(({isSelected:s})=>s),n=e.reduce((s,a)=>s.concat(a.portIds),[]),o=Object.values(this.connections).filter(s=>n.includes(s.source)&&n.includes(s.target)&&s.isSelected);e.forEach(s=>s.groupId&&this.destroyGroup(s.groupId)),o.forEach(s=>s.groupId&&this.destroyGroup(s.groupId));const i=[...e,...o].reduce((s,a)=>Math.max(a.zIndex,s),0),r={id:t,itemIds:e.map(({id:s})=>s),connectionIds:o.map(({id:s})=>s),isSelected:!1,boundingBox:{left:0,top:0,right:0,bottom:0},position:{x:0,y:0},zIndex:i};this.groups[t]=r,r.itemIds.forEach(s=>{this.items[s].groupId=r.id}),r.connectionIds.forEach(s=>{this.connections[s].groupId=r.id}),this.setZIndex(i),this.setGroupBoundingBox(t),this.setGroupSelectionState(t,!0)}function K1(){this.commitState();for(const t in this.groups)this.groups[t].isSelected&&this.destroyGroup(t)}function X1(t){const e=this.groups[t];e.itemIds.forEach(n=>{this.items[n].groupId=null,this.setItemSelectionState(n,!0)}),e.connectionIds.forEach(n=>{this.connections[n].groupId=null,this.setConnectionSelectionState(n,!0)}),this.selectedGroupIds.delete(t),delete this.groups[t]}const Y1=Object.defineProperty({__proto__:null,destroyGroup:X1,group:Z1,ungroup:K1},Symbol.toStringTag,{value:"Module"});function yc(t,e){let n=t,o=1;for(;e.has(n);)n=`${t} ${++o}`;return e.add(n),n}function qo(t,e,n,o){return{id:e,orientation:n,defaultName:o===ye.Input?"Input Port":"Output Port",name:"",position:{x:0,y:0},type:o,rotation:0,elementId:t,value:0,hue:0,isMonitored:!1,connectedPortIds:[]}}function J1({item:t,ports:e}){var o;const n=((o=t.integratedCircuit)==null?void 0:o.ports)||e;t.isSelected=!1,this.items[t.id]=t,this.items[t.id].zIndex=++this.zIndex,this.setProperties(t.id,t.properties),this.addVirtualNode(t,n),this.setItemBoundingBox(t.id),t.portIds.forEach(i=>this.addPort(t.id,n[i])),this.resetItemValue(t),this.addClock(t),this.setItemName(t)}function Q1(t){if(!t.properties.name)return;const e=new Set(Object.values(this.items).map(({properties:n})=>{var o;return((o=n.name)==null?void 0:o.value)||""}).filter(n=>n));t.properties.name.value=yc(t.properties.name.value||t.defaultName,e),t.portIds.forEach(n=>this.setPortName(n))}function tg({item:t,ports:e},n=null){if(!n){const i=ie.getBoundingBoxMidpoint(this.viewport);n={x:i.x+this.viewport.left,y:i.y+this.viewport.top}}if(n.x<this.viewport.left||n.x>this.viewport.right||n.y<this.viewport.top||n.y>this.viewport.bottom)return;const o=Zn(this.canvas,this.viewport,n,this.zoomLevel);o.x-=t.width/2,o.y-=t.height/2,t.position=o,this.commitState(),this.addItem({item:t,ports:Object.values(e||{}).reduce((i,r)=>r.reduce((s,a)=>({...s,[a.id]:a}),i),{})}),this.setItemBoundingBox(t.id),this.setItemSelectionState(t.id,!0)}function eg(t){var o;const e=(o=t.properties)==null?void 0:o.startValue;if(!e)return;const n=e.value;t.portIds.forEach(i=>this.setPortValue({id:i,value:n}))}function ng(t){const e=this.items[t];if(!e)return;this.removeVirtualNode(e.id),this.oscillator.remove(e.clock),this.selectedItemIds.delete(e.id),[...e.portIds].forEach(o=>this.removePort(o)),delete this.items[t]}function og(t,e){const o=this.items[t].properties.inputCount.value;if(o>e)this.items[t].portIds.filter(i=>this.ports[i].type===ye.Input).slice(e).forEach(i=>this.removePort(i));else for(let i=o;i<e;i++){const r=me();this.addPort(t,qo(t,r,Ft.Left,ye.Input)),this.setPortName(r)}}function ig(t,e){var o;const n=this.items[t];for(const i in e){const r=i,s=e[r];if(!(!s||((o=n.properties[r])==null?void 0:o.value)===s.value)){switch(this.commitState(),r){case"inputCount":this.setInputCount(t,e.inputCount.value);break;case"interval":n.clock&&(n.clock.interval=e.interval.value);break}this.items[t].properties[r].value=s.value}}}const rg=Object.defineProperty({__proto__:null,addItem:J1,insertItemAtPosition:tg,removeElement:ng,resetItemValue:eg,setInputCount:og,setItemName:Q1,setProperties:ig},Symbol.toStringTag,{value:"Module"});function sg(t,e=!1){this.panDelta({x:t.x-this.canvas.left,y:t.y-this.canvas.top},e)}function ag(t,e=!1){const n={...this.canvas},o=Math.max(Math.abs(t.x),Math.abs(t.y),1)*ns,i=za;cancelAnimationFrame(this.panningAnimationFrameId);const r=(s=0)=>{cancelAnimationFrame(this.panningAnimationFrameId);const a=Jh(s/o),l=t.x*a,u=t.y*a;this.setCanvasBoundingBox({left:n.left+l,right:n.right+l,top:n.top+u,bottom:n.bottom+u}),s<o&&(this.panningAnimationFrameId=requestAnimationFrame(r.bind(this,s+i)))};e&&o>=za?r():this.setCanvasBoundingBox({left:this.canvas.left+t.x,right:this.canvas.right+t.x,top:this.canvas.top+t.y,bottom:this.canvas.bottom+t.y})}function lg(){const t=ie.getBoundingBoxMidpoint(this.canvas);this.panTo({x:this.viewport.width/2-t.x*this.zoomLevel,y:this.viewport.height/2-t.y*this.zoomLevel})}function cg(t){this.canvas={...t}}const ug=Object.defineProperty({__proto__:null,panDelta:ag,panTo:sg,panToCenter:lg,setCanvasBoundingBox:cg},Symbol.toStringTag,{value:"Module"});function dg(t,e){const{portIds:n}=this.items[t],o=Object.values(this.nodes).find(({name:i})=>n.includes(i));this.ports[e.id]=e,n.includes(e.id)||n.push(e.id),o&&(this.nodes[e.id]=o),e.isMonitored&&this.monitorPort(e.id),this.setPortValue({id:e.id,value:e.value})}function fg(t){var o;if(!this.items[(o=this.ports[t])==null?void 0:o.elementId])return;this.unmonitorPort(t),Object.values(this.connections).filter(({source:i,target:r})=>i===t||r===t).forEach(({id:i})=>this.disconnectById(i));const e=this.ports[t].elementId,n=this.items[e].portIds.indexOf(t);n!==-1&&this.items[e].portIds.splice(n,1),delete this.nodes[t],delete this.ports[t]}function hg(t){var r;const e=this.ports[t],n=this.items[e.elementId],o=new Set(n.portIds.map(s=>this.ports[s].name)),i=((r=n.properties.name)==null?void 0:r.value)||n.defaultName;e.name=yc(`${i} ${e.defaultName}`,o)}function pg(t){this.activePortId!==t&&(t&&this.setConnectablePortIds({portId:t}),this.activePortId=t,this.selectedPortIndex=-1)}function mg(t){this.activePortId===t&&(this.activePortId=null,this.connectablePortIds.clear())}function gg({portId:t,isDragging:e}){const n=this.ports[t],o=n.type===ye.Output?r=>r.type===ye.Input&&r.connectedPortIds.length===0:r=>r.type===ye.Output&&n.connectedPortIds.length===0,i=Object.values(this.ports).filter(r=>o(r)&&!r.connectedPortIds.includes(n.id)).map(({id:r})=>r);this.connectablePortIds=new Set(i)}function vg({id:t,value:e}){var n;this.ports[t]&&this.nodes[t]&&this.nodes[t].value!==e&&(this.nodes[t].setValue(e),this.circuit.enqueue(this.nodes[t]),this.isCircuitEvaluated=!1,(n=this.ports[t].wave)==null||n.drawPulseChange(e),this.isDebugging||this.advanceSimulation())}function yg(t){this.ports[t].isMonitored?this.unmonitorPort(t):this.monitorPort(t)}function bg(t){const e=this.ports[t];e.hue=e.hue||~~(360*Math.random()),e.isMonitored=!0,e.wave=new gc(t,e.name,e.value,e.hue),this.monitoredPortIds.add(t),this.oscillator.add(e.wave),this.isOscilloscopeOpen=!0}function _g(t,e=!0){const n=this.ports[t];n.isMonitored=!1,this.oscillator.remove(n.wave),delete this.oscillogram[t],delete n.wave,e&&this.monitoredPortIds.delete(t),this.isOscilloscopeOpen=Object.keys(this.oscillogram).length>0}const wg=Object.defineProperty({__proto__:null,addPort:dg,monitorPort:bg,removePort:fg,setActivePortId:pg,setConnectablePortIds:gg,setPortName:hg,setPortValue:vg,togglePortMonitoring:yg,unmonitorPort:_g,unsetActivePortId:mg},Symbol.toStringTag,{value:"Module"});function Cg(){const{grid:t}=Kn(),e=t.gridSize.value,n=Object.values(this.items).map(({boundingBox:l})=>l),o=ie.getGroupBoundingBox(n),{x:i,y:r}=ie.getCenteredScreenPoint(this.canvas,o,e),s=i-o.left,a=r-o.top;Object.values(this.items).forEach(l=>{this.setItemPosition({id:l.id,position:{x:l.position.x+s,y:l.position.y+a}})})}function Sg(t,e){const n=this.ports[e];n.position=Zn(this.canvas,this.viewport,t,this.zoom)}function Ig({id:t,position:e}){const n=this.items[t],o={x:e.x-n.position.x,y:e.y-n.position.y};this.items[t].position=e,this.setItemBoundingBox(t),n.portIds.forEach(i=>{const r=this.ports[i];this.ports[i].position={x:r.position.x+o.x,y:r.position.y+o.y}})}function Eg(t,e,n,o){const{snapping:i,grid:r}=Kn(),s=(()=>o||(i.snapToGrid.value?qe.Grid:i.snapToAlign.value?qe.Outer:qe.None))(),a=(()=>{switch(s){case qe.Grid:return r.gridSize.value;case qe.Outer:case qe.Radial:return i.snapTolerance.value;default:return 0}})(),l=ie.getSnapOffset(this.snapBoundaries,t,s,a);this.setSelectionPosition({x:n.x+l.x-e.x,y:n.y+l.y-e.y})}function xg(t,e,n){const{width:o,height:i,rotation:r}=this.items[t],s=Zn(this.canvas,this.viewport,e,this.zoom),a=ie.getBoundingBox(s,r,o,i);this.dragTarget(a,this.items[t].position,s,n)}function Og(t,e,n,o){const i=this.connections[t].controlPoints[o],r=Zn(this.canvas,this.viewport,{x:e.x-n.x,y:e.y-n.y},this.zoom),s=ie.getPointBoundary(r),a=this.totalSelectionCount>1?void 0:qe.Outer;this.dragTarget(s,i.position,r,a)}function Pg(t){const e=new Set;this.selectedItemIds.forEach(n=>{const o=this.items[n],i={x:o.position.x+t.x,y:o.position.y+t.y};o.groupId&&e.add(o.groupId),this.setItemPosition({id:n,position:i})}),Object.keys(this.selectedControlPoints).forEach(n=>{const o=this.connections[n];this.selectedControlPoints[n].forEach(i=>{const r=o.controlPoints[i];r.position={x:r.position.x+t.x,y:r.position.y+t.y}})}),e.forEach(this.setGroupBoundingBox)}const kg=Object.defineProperty({__proto__:null,centerAll:Cg,dragControlPoint:Og,dragItem:xg,dragTarget:Eg,setItemPosition:Ig,setPortRelativePosition:Sg,setSelectionPosition:Pg},Symbol.toStringTag,{value:"Module"});function Dg(){this.isOscilloscopeOpen?this.closeOscilloscope():this.openOscilloscope()}function $g(){this.monitoredPortIds.forEach(t=>this.monitorPort(t)),this.isOscilloscopeOpen=!0}function Tg(){this.isOscilloscopeOpen&&(this.monitoredPortIds.forEach(t=>this.unmonitorPort(t,!1)),this.oscillator.clear(),this.isOscilloscopeOpen=!1)}function Ag(){window.api.showMessageBox({message:"Are you sure you want to remove all waves from the oscilloscope?",title:"Confirm",buttons:["Yes","No"]})===0&&(this.monitoredPortIds.forEach(e=>this.unmonitorPort(e)),this.oscillator.clear(),this.isOscilloscopeOpen=!1)}const zg=Object.defineProperty({__proto__:null,closeOscilloscope:Tg,destroyOscilloscope:Ag,openOscilloscope:$g,toggleOscilloscope:Dg},Symbol.toStringTag,{value:"Module"});function Mg(t){this.commitState();const e=[];this.selectedItemIds.forEach(i=>{e.push(this.items[i].boundingBox)});for(const i in this.selectedControlPoints)this.selectedControlPoints[i].forEach(r=>{e.push(ie.getPointBoundary(this.connections[i].controlPoints[r].position))});const n=ie.getGroupBoundingBox(e),o=new Set;this.selectedItemIds.forEach(i=>{const r=this.items[i],s=xn.rotate(r.rotation+t);r.groupId&&o.add(r.groupId),this.items[r.id].rotation=s,this.items[r.id].portIds.forEach(a=>{this.ports[a].rotation=s,this.ports[a].position=xn.getGroupedItemRotatedPosition(r.boundingBox,this.ports[a].position,1,1,t)}),this.setItemPosition({id:r.id,position:xn.getGroupedItemRotatedPosition(n,r.position,r.width,r.height,t)})});for(const i in this.selectedControlPoints)this.selectedControlPoints[i].forEach(r=>{const s=this.connections[i].controlPoints[r];s.rotation=xn.rotate(s.rotation+t),s.position=xn.getGroupedItemRotatedPosition(n,s.position,1,1,t)});o.forEach(i=>{this.setGroupBoundingBox(i)})}const Ng=Object.defineProperty({__proto__:null,rotate:Mg},Symbol.toStringTag,{value:"Module"});function Bg(){this.clearStatelessInfo();for(let t in this.connections)this.setConnectionSelectionState(t,!0);for(let t in this.items)this.setItemSelectionState(t,!0)}function Lg(){var t;this.clearStatelessInfo(),this.selectedConnectionIds.forEach(e=>{this.connections[e]&&(this.connections[e].isSelected=!1)});for(const e in this.selectedControlPoints)(t=this.selectedControlPoints[e])==null||t.forEach(n=>{var o,i;(i=(o=this.connections[e])==null?void 0:o.controlPoints)!=null&&i[n]&&(this.connections[e].controlPoints[n].isSelected=!1)});this.selectedItemIds.forEach(e=>{this.items[e]&&(this.items[e].isSelected=!1)});for(const e in this.groups)this.groups[e].isSelected=!1;this.selectedControlPoints={},this.selectedGroupIds.clear(),this.selectedConnectionIds.clear(),this.selectedItemIds.clear()}function Rg(t){if(!ie.isOneOrTwoDimensional(t))return;const e=new Set;Object.keys(this.items).forEach(n=>{ie.hasIntersection(t,this.items[n].boundingBox)&&(this.setItemSelectionState(n,!0),this.items[n].portIds.forEach(o=>e.add(o)))}),Object.keys(this.connections).forEach(n=>{const o=this.connections[n],i=this.ports[o.source],r=this.ports[o.target],s=[i,...o.controlPoints,r],a=ie.areLinesIntersectingRectangle(s.map(u=>u.position),t),l=e.has(o.source)&&e.has(o.target);(a||l)&&this.setConnectionSelectionState(n,!0)})}function Fg(t,e,n){var r,s,a;if(!((r=this.connections[t])!=null&&r.controlPoints))return;const o=(s=this.connections[t])==null?void 0:s.controlPoints[e],i=(o==null?void 0:o.isSelected)!==n;o.isSelected=n,this.selectedControlPoints[t]?n?this.selectedControlPoints[t].add(e):this.selectedControlPoints[t].delete(e):n&&(this.selectedControlPoints[t]=new Set([e])),((a=this.selectedControlPoints[t])==null?void 0:a.size)===0&&delete this.selectedControlPoints[t],i&&this.setGroupSelectionState(this.connections[t].groupId,n)}function Vg(t,e){var n;(n=this.connections[t])!=null&&n.controlPoints&&(this.connections[t].isSelected=e,this.connections[t].controlPoints.forEach((o,i)=>this.setControlPointSelectionState(t,i,e)),e?this.selectedConnectionIds.add(t):this.selectedConnectionIds.delete(t),this.setGroupSelectionState(this.connections[t].groupId,e))}function jg(t,e){this.items[t]&&(this.items[t].isSelected=e,e?this.selectedItemIds.add(t):this.selectedItemIds.delete(t),this.setGroupSelectionState(this.items[t].groupId,e))}function Hg(t,e){if(t===null)return;const n=this.groups[t];!this.groups[t]||this.groups[t].isSelected===e||(this.groups[t].isSelected=e,n.connectionIds.forEach(o=>this.setConnectionSelectionState(o,e)),n.itemIds.forEach(o=>this.setItemSelectionState(o,e)),e?this.selectedGroupIds.add(t):this.selectedGroupIds.delete(t))}function Ug(t,e){this.items[t]?this.setItemSelectionState(t,e):this.connections[t]?this.setConnectionSelectionState(t,e):this.groups[t]&&this.setGroupSelectionState(t,e)}function Wg(){if(this.canDelete){this.commitState(),Object.values(this.connections).forEach(({source:t,target:e,id:n})=>{const o=i=>this.items[this.ports[i].elementId].isSelected;(o(t)||o(e))&&this.selectedConnectionIds.add(n)});for(const t in this.selectedControlPoints)this.connections[t].controlPoints=Array.from(this.connections[t].controlPoints).map((e,n)=>this.selectedControlPoints[t].has(n)?null:e).filter(e=>e!==null);this.selectedConnectionIds.forEach(t=>this.disconnectById(t)),this.selectedItemIds.forEach(t=>this.removeElement(t)),this.selectedGroupIds.forEach(t=>{delete this.groups[t],this.selectedGroupIds.delete(t)}),this.deselectAll()}}function Gg(){this.unsetConnectionPreview(),this.connectablePortIds.clear(),this.selectedPortIndex=-1,this.activePortId=null,this.connectionPreviewId=null,this.connectionExperiment=null}const qg=Object.defineProperty({__proto__:null,clearStatelessInfo:Gg,createSelection:Rg,deleteSelection:Wg,deselectAll:Lg,selectAll:Bg,setConnectionSelectionState:Vg,setControlPointSelectionState:Fg,setGroupSelectionState:Hg,setItemSelectionState:jg,setSelectionState:Ug},Symbol.toStringTag,{value:"Module"});class Zg extends mn{constructor(){super(...arguments);wt(this,"update",n=>{this.newValue!==n&&(this.newValue=n,this.invokeEvent("change",this.newValue,[]))})}}let Kg=class extends mn{constructor(){super(...arguments);wt(this,"update",n=>{const o=Object.keys(this.inputValues).pop();o&&(this.inputValues[o]=n,this.newValue=this.eval())});wt(this,"eval",()=>Object.values(this.inputValues).pop()||Nt.UNKNOWN)}};class Xg extends mn{constructor(){super(...arguments);wt(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n&&o===Nt.TRUE,!0)?Nt.TRUE:Nt.FALSE)}}class Yg extends mn{constructor(){super(...arguments);wt(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n||o===Nt.FALSE,!1)?Nt.TRUE:Nt.FALSE)}}class Jg extends mn{constructor(){super(...arguments);wt(this,"eval",()=>this.valueCount(Nt.TRUE)?Nt.TRUE:this.valueCount(Nt.UNKNOWN)?Nt.UNKNOWN:Nt.FALSE)}}class Na extends mn{constructor(){super(...arguments);wt(this,"eval",()=>this.valueCount(Nt.TRUE)?Nt.FALSE:this.valueCount(Nt.UNKNOWN)?Nt.UNKNOWN:Nt.TRUE)}}class Qg extends mn{constructor(){super(...arguments);wt(this,"eval",()=>{switch(Object.values(this.inputValues).pop()){case Nt.TRUE:return Nt.FALSE;case Nt.FALSE:return Nt.TRUE;default:return Nt.UNKNOWN}})}}function bc(t,e,n){switch(t){case re.And:return new Xg(e,n);case re.Nand:return new Yg(e,n);case re.Or:return new Jg(e,n);case re.Nor:return new Na(e,n);case re.Not:return new Qg(e,n);default:return new Na(e,n)}}function t0({id:t,type:e,subtype:n},o){switch(e){case Oe.CircuitNode:return new mn(t,o);case Oe.InputNode:return new os(t,o);case Oe.LogicGate:return bc(n,t,o);case Oe.Buffer:return new Kg(t,o);default:return new Zg(t,o)}}const e0={getLogicGateNode:bc,getCircuitNode:t0};function n0(t){Object.values(this.items).forEach(e=>{var n;return(n=e.clock)==null?void 0:n[t]()})}function o0(){this.isDebugging||(this.toggleClocks("start"),this.oscillator.start())}function i0(){this.toggleClocks("stop"),this.oscillator.stop()}function r0(){this.isCircuitEvaluated=!0,this.evaluateCircuitStep()}function s0(t=!1){this.isDebugging=!this.isDebugging,this.isDebugging||t?(this.toggleClocks("stop"),this.isDebugging=!0):(this.toggleClocks("start"),this.advanceSimulation())}function a0(){const t=this.isDebugging;this.isDebugging=!1,this.advanceSimulation(),this.isDebugging=t,this.isCircuitEvaluated=!0}function l0(t=0){if(this.circuit.advance(),t>1e3)return this.toggleDebugger();this.circuit.queue.length>0&&!(this.isDebugging&&!this.isCircuitEvaluated)&&this.evaluateCircuitStep(++t)}function c0(){this.circuit.reset(),Object.values(this.items).forEach(({type:t,properties:e,portIds:n})=>{t===Oe.InputNode&&n.forEach(o=>{this.setPortValue({id:o,value:Nt.UNKNOWN}),this.flushCircuit(),this.setPortValue({id:o,value:Nt.FALSE}),this.flushCircuit(),e!=null&&e.startValue&&this.setPortValue({id:o,value:e.startValue.value})})}),this.flushCircuit(),this.oscillator.reset()}function u0(t){if(!t.integratedCircuit)return;const{items:e,connections:n,ports:o}=t.integratedCircuit;Object.values(e).forEach(i=>{this.addVirtualNode(i,o)}),Object.values(n).forEach(i=>{this.circuit.addConnection(this.nodes[i.source],this.nodes[i.target],i.target)})}function d0(t,e=this.ports){if(t.portIds.length===0)return;if(t.integratedCircuit)return this.addIntegratedCircuitNode(t);const n=t.portIds.filter(r=>e[r].type===ye.Input),o=t.portIds.filter(r=>e[r].type===ye.Output),i=e0.getCircuitNode(t,n);i.on("change",this.onVirtualNodeChange.bind(this,i,o)),t.portIds.forEach(r=>{this.nodes[r]=i}),this.circuit.addNode(i)}function f0(t){const e=this.items[t],n=o=>o.integratedCircuit?Object.values(o.integratedCircuit.items).reduce((i,r)=>r.integratedCircuit?i.concat(n(r)).concat(r.portIds):i.concat(r.portIds),[]):[];e.portIds.concat(n(e)).forEach(o=>{const i=this.nodes[o];i&&(this.circuit.removeNode(i),this.removePort(o))})}function h0(t){var o,i;const e=(o=t.properties.interval)==null?void 0:o.value,n=((i=t.properties.startValue)==null?void 0:i.value)||Nt.FALSE;e&&(t.clock=new Go(t.portIds[0],e,n,n),t.clock.on("change",r=>this.setPortValue({id:t.portIds[0],value:r})),this.oscillator.add(t.clock))}function p0(t,e,n,o){o.concat(e).forEach(i=>{var r;if(this.ports[i]){const s=this.ports[i];this.items[s.elementId]&&s.value!==n&&(t.forceContinue||(this.isCircuitEvaluated=!1),s.value=n,(r=s.wave)==null||r.drawPulseChange(n))}})}const m0=Object.defineProperty({__proto__:null,addClock:h0,addIntegratedCircuitNode:u0,addVirtualNode:d0,advanceSimulation:r0,evaluateCircuitStep:l0,flushCircuit:a0,onVirtualNodeChange:p0,removeVirtualNode:f0,resetCircuit:c0,startSimulation:o0,stopSimulation:i0,toggleClocks:n0,toggleDebugger:s0},Symbol.toStringTag,{value:"Module"});function g0(t=1){const e=Object.values(this.items).map(a=>a.boundingBox),n=ie.getGroupBoundingBox(e),o=n.right-n.left,i=n.bottom-n.top,r=this.canvas.right-this.canvas.left,s=this.canvas.bottom-this.canvas.top;(o>r||i>s)&&(this.canvas={left:0,top:0,right:o*2,bottom:i*2},this.centerAll(),this.panToCenter()),setTimeout(()=>{this.setZoom({zoom:Math.min(this.viewport.width/o,this.viewport.height/i,1)})})}function v0(t){this.viewport=t,this.hasLoaded||(this.canvas.right=screen.width/Wo,this.canvas.bottom=screen.height/Wo,t.width>0&&t.height>0&&(this.hasLoaded=!0,this.updateCanvasSize(),this.centerAll(),this.panToCenter()))}function y0({rect:t,id:e}){const n=this.items[e];if(!n)return;const o=t.width/this.zoomLevel,i=t.height/this.zoomLevel,r=n.position.x+n.width/2,s=n.position.y+n.height/2,a=r-o/2,l=s-i/2;this.items[e].position={x:a,y:l},this.items[e].width=o,this.items[e].height=i,this.setItemBoundingBox(e),this.items[e].groupId&&this.setGroupBoundingBox(this.items[e].groupId)}function b0(t){if(!this.items[t])return;const{position:e,rotation:n,width:o,height:i}=this.items[t];this.items[t].boundingBox=ie.getBoundingBox(e,n,o,i)}function _0(t){if(!this.groups[t])return;const e=this.groups[t].itemIds.map(o=>this.items[o].boundingBox),n=this.groups[t].connectionIds.reduce((o,i)=>o.concat(this.connections[i].controlPoints.map(r=>ie.getPointBoundary(r.position))),[]);this.groups[t].boundingBox=ie.getGroupBoundingBox(e.concat(n))}const w0=Object.defineProperty({__proto__:null,setGroupBoundingBox:_0,setItemBoundingBox:b0,setItemSize:y0,setViewerSize:v0,updateCanvasSize:g0},Symbol.toStringTag,{value:"Module"});function C0(t){this.snapBoundaries=(()=>{const e=this.items[t];return e&&!e.groupId?Object.values(this.items).filter(n=>n.id!==t&&!n.isSelected).map(n=>n.boundingBox):[]})()}function S0(t,e,n){const{source:o,target:i}=this.connections[t];this.snapBoundaries=e.reduce((r,{portPosition:s},a)=>n!==a?r.concat(ie.getLinearBoundaries(s)):r,[]).concat(ie.getLinearBoundaries(this.ports[o].position)).concat(ie.getLinearBoundaries(this.ports[i].position))}function I0(t){this.setConnectablePortIds({portId:t,isDragging:!0}),this.snapBoundaries=[],this.connectablePortIds.forEach(e=>{this.snapBoundaries.push(ie.getPointBoundary(this.ports[e].position))})}const E0=Object.defineProperty({__proto__:null,setConnectionExperimentSnapBoundaries:I0,setControlPointSnapBoundaries:S0,setSnapBoundaries:C0},Symbol.toStringTag,{value:"Module"});function x0(){const t=this.undoStack.slice(-1).pop();t&&(this.redoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applySerializedState(t),this.undoStack.pop(),this.isDirty=!0)}function O0(){const t=this.redoStack.slice(-1).pop();t&&(this.undoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applySerializedState(t),this.redoStack.pop(),this.isDirty=!0)}function P0(){this.cacheState(),this.commitCachedState()}function k0(){this.cachedState=JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})}function D0(){this.cachedState&&(this.undoStack.push(this.cachedState.toString()),this.cachedState=null,this.redoStack=[],this.isDirty=!0)}function $0({items:t,connections:e,ports:n,groups:o}){this.deselectAll();function i(d,m){const g=Object.keys(d),f=new Set(Object.keys(m));return g.filter(v=>!f.has(v))}const r=i(this.items,t),s=i(this.connections,e),a=i(this.groups,o),l=i(t,this.items),u=i(e,this.connections);s.forEach(d=>this.disconnectById(d)),r.forEach(d=>this.removeElement(d)),a.forEach(d=>delete this.groups[d]),Object.keys(t).forEach(d=>{this.items[d]&&(this.setItemPosition({id:d,position:t[d].position}),this.items[d]={...t[d],clock:this.items[d].clock},this.setItemBoundingBox(d),this.setItemSelectionState(d,t[d].isSelected))}),l.forEach(d=>{this.addItem({item:t[d],ports:n}),this.setItemSelectionState(d,t[d].isSelected)}),u.forEach(d=>this.connect(e[d])),Object.keys(e).forEach(d=>{this.connections[d]={...this.connections[d],...e[d]},this.setConnectionSelectionState(d,e[d].isSelected)}),Object.keys(o).forEach(d=>{this.groups[d]||(this.groups[d]=o[d]),this.setGroupBoundingBox(d),this.setGroupSelectionState(d,!0)})}function T0(t){this.applyDeserializedState(JSON.parse(t))}const A0=Object.defineProperty({__proto__:null,applyDeserializedState:$0,applySerializedState:T0,cacheState:k0,commitCachedState:D0,commitState:P0,redo:O0,undo:x0},Symbol.toStringTag,{value:"Module"});function Bs(t,e){return t.zIndex>e.zIndex?1:t.zIndex<e.zIndex?-1:0}function z0(){this.commitState(),this.incrementZIndex(-1)}function M0(){this.commitState(),this.incrementZIndex(1)}function N0(){this.commitState(),this.setZIndex(1)}function B0(){this.commitState(),this.setZIndex(this.zIndex)}function L0(t){const e=Object.values(this.items),n=Object.values(this.connections),o=e.concat(n).sort(Bs),i=o.filter(({isSelected:s})=>s).map(({id:s})=>s);t>0&&i.reverse();const r=new Set;i.forEach(s=>{var u;const a=o.findIndex(d=>d.id===s),l=a+t;if(l<0||l>=o.length){r.add(o[a].id);return}if(!r.has((u=o[l])==null?void 0:u.id)){const d=o[a];o.splice(a,1),o.splice(l,0,d)}}),o.forEach((s,a)=>{s.zIndex=a+1}),this.zIndex=Object.keys(o).length}function R0(t){const e=Object.values(this.items),n=Object.values(this.connections);let o=e.concat(n).sort(Bs);const i=o.filter(({isSelected:r})=>r);for(let r=0;r<o.length;r++)o[r].isSelected&&(o.splice(r,1),r--);o.splice(t-1,0,...i),o.forEach((r,s)=>{r.zIndex=s+1}),this.zIndex=Object.keys(o).length}const F0=Object.defineProperty({__proto__:null,bringForward:M0,bringToFront:B0,incrementZIndex:L0,sendBackward:z0,sendToBack:N0,setZIndex:R0},Symbol.toStringTag,{value:"Module"});function V0(t=1){this.setZoom({zoom:this.zoomLevel+Zh*t})}function j0({zoom:t,point:e}){t<Wo&&(t=Wo),t>es&&(t=es),t=Math.round(t*100)/100,e||(e=ie.getBoundingBoxMidpoint(this.viewport),e.x+=this.viewport.left,e.y+=this.viewport.top);const n=Zn(this.canvas,this.viewport,e,this.zoomLevel),o={x:n.x*t,y:n.y*t},i={x:e.x-this.viewport.x,y:e.y-this.viewport.y};this.panTo({x:Math.round(Math.min(i.x-o.x,0)),y:Math.round(Math.min(i.y-o.y,0))}),this.zoomLevel=t}const H0=Object.defineProperty({__proto__:null,incrementZoom:V0,setZoom:j0},Symbol.toStringTag,{value:"Module"});function U0(t){return t.zoomLevel}function W0(t){return t.selectedItemIds.size+t.selectedConnectionIds.size+Object.keys(t.selectedControlPoints).length}function G0(t){return t.selectedItemIds.size>0||t.selectedConnectionIds.size>0||Object.keys(t.selectedControlPoints).length>0}const q0=Object.defineProperty({__proto__:null,canDelete:G0,totalSelectionCount:W0,zoom:U0},Symbol.toStringTag,{value:"Module"}),Ba=t=>cr({id:t,state:S1,getters:{...q0,baseItems(e){return Object.values(e.connections).concat(Object.values(e.items)).sort(Bs)},hasSelection(e){return e.selectedItemIds.size>0||e.selectedConnectionIds.size>0},hasSelectedItems(e){return e.selectedItemIds.size>0},canGroup(e){let n=0,o=0;const i=(r,s)=>{for(const a of r)if(s[a].groupId?o++:n++,n>1||o&&n)return!0;return!1};return i(e.selectedItemIds,e.items)||i(e.selectedConnectionIds,e.connections)},canUngroup(e){return e.selectedGroupIds.size>0},canUndo(e){return e.undoStack.length>0},canRedo(e){return e.redoStack.length>0}},actions:{...O1,...j1,...q1,...Y1,...rg,...ug,...wg,...kg,...zg,...Ng,...qg,...m0,...E0,...w0,...A0,...F0,...H0}});function La(t){var e;return((e=t.split("\\").pop())==null?void 0:e.split("/").pop())||""}const Xn=cr({id:"root",state:()=>({documents:{},clipboard:null,activeDocumentId:null,canExit:!1,canPaste:!1,isFullscreen:!1,isBuilderOpen:!1,isToolboxOpen:!1,isSettingsOpen:!1,isDocumentSelectOpen:!1,navigationAnimationFrameId:0}),getters:{hasOpenDocuments(t){return Object.keys(t.documents).length>0},activeDocument(t){return t.activeDocumentId?t.documents[t.activeDocumentId]:null},isDialogOpen(t){return t.isBuilderOpen}},actions:{async launchIntegratedCircuitBuilder(){const t=Ms(),e=this.activeDocument;if(e){this.isBuilderOpen=!0;try{await t.launchBuilder(e.store().$state);const n=e.store(),o=zs.mapIntegratedCircuitIds(t.model);n.insertItemAtPosition({item:o}),n.setItemBoundingBox(o.id),n.setItemSelectionState(o.id,!0)}catch{window.api.showMessageBox({message:"That's okay."})}this.isBuilderOpen=!1}},openIntegratedCircuit(t){t.integratedCircuit&&this.openDocument("",t.integratedCircuit.serializedState,t.id,t.defaultName)},async saveImage(t){if(this.activeDocument)try{const n=`${this.activeDocument.displayName.replace(/\.[^/.]+$/,"")}.png`,o=window.api.showSaveFileDialog([{name:"PNG Image",extensions:[".png"]}],n);if(!o)return;await Mo.writeBlob(o,t)}catch(e){console.log("ERROR: ",e),window.api.showMessageBox({message:"An error occurred while trying to save the image.",title:"Error",type:"error"})}},newDocument(){const t=me(),e=Ba(t);e().resetCircuit(),this.documents[t]={fileName:"Untitled Circuit",displayName:"Untitled Circuit",store:e},this.activateDocument(t)},async closeAll(){if(this.activeDocumentId){const t=await this.closeDocument(this.activeDocumentId);return await new Promise(e=>setTimeout(e)),t?this.closeAll():!1}return!0},printActiveDocument(){this.activeDocument&&(this.activeDocument.store().isPrinting=!0)},async closeDocument(t){const e=this.documents[t],n=e.store();let o=!0;if(this.activateDocument(t),n.isDirty){const r=window.api.showMessageBox({message:`Save changes to ${e.fileName}?`,title:"Confirm",buttons:["Yes","No","Cancel"]});if(r===0&&(o=await this.saveActiveDocument()),r===2)return!1}this.activeDocumentId=null,n.stopSimulation(),n.$reset(),n.$dispose(),delete this.documents[t];const i=Object.keys(this.documents).pop();return i&&this.activateDocument(i),o},async saveActiveDocument(t=!1){try{if(!this.activeDocument)return!0;if(!this.activeDocument.filePath||t){const n=this.activeDocument.fileName||`${this.activeDocument.fileName}.alfx`,o=window.api.showSaveFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]}],n);if(!o)return!0;if(o){const i=La(o);this.activeDocument.filePath=o,this.activeDocument.fileName=i,this.activeDocument.displayName=i}}if(!this.activeDocument.filePath)return!0;const e=this.activeDocument.store();return Mo.save(this.activeDocument.filePath,{items:e.items,connections:e.connections,groups:e.groups,ports:e.ports}),e.isDirty=!1,!0}catch{return window.api.showMessageBox({message:"An error occurred while trying to save the file.",title:"Error",type:"error"}),!1}},async selectDocument(){const t=window.api.showOpenFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]},{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}]);for(let e=0;e<t.length;e++)await this.openDocumentFromPath(t[e])},async openDocumentFromPath(t){try{const e=await Mo.open(t);e&&this.openDocument(t,e,me())}catch(e){console.log(e),window.api.showMessageBox({message:`Could not open ${t}. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},openDocument(t,e,n,o=""){if(this.documents[n])return this.activateDocument(n);const i=Ba(n),r=i(),s=La(t);r.loadDocument(e),r.oscillator.onTick=a=>r.oscillogram=a,this.documents[n]={fileName:s,filePath:/^.*.aicx$/i.test(t)?void 0:t,displayName:o||s,store:i},this.activateDocument(n)},switchDocument(t){const e=Object.keys(this.documents),n=e.findIndex(i=>this.activeDocumentId===i);let o=n+t;e.length!==0&&(n===-1||o>=e.length?o=0:o<0&&(o=e.length-1),this.activateDocument(e[o]))},pauseActivity(){var t;(t=this.activeDocument)==null||t.store().stopSimulation()},resumeActivity(){var t;(t=this.activeDocument)==null||t.store().startSimulation()},activateDocument(t){this.pauseActivity(),this.activeDocumentId=t,this.resumeActivity()},openTestDocuments(){this.openDocument("flip-flop.alfx",JSON.stringify(y1),me(),"flip-flop.alfx")},navigateDocumentList(t){this.navigationAnimationFrameId||(this.navigationAnimationFrameId=requestAnimationFrame(()=>{this.navigationAnimationFrameId=0;const e=Object.keys(this.documents);let o=e.findIndex(i=>i===this.activeDocumentId)+t;o<0&&(o=e.length-1),o>=e.length&&(o=0),this.activateDocument(e[o])}))},toggleFullscreen(){this.isFullscreen=!this.isFullscreen,window.api.setFullscreen(this.isFullscreen)},toggleToolbox(){this.isToolboxOpen=!this.isToolboxOpen},invokeClipboardAction(t){var e;(e=this.activeDocument)==null||e.store()[t]()},checkPastability(){this.canPaste=window.api.canPaste()}}}),Z0=It({name:"Item",components:{CircuitComponent:hc,Draggable:fr,PortItem:mc,Properties:c1,PortHandle:ur,PortPivot:pc},props:{zIndex:{type:Number,default:1},isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(t,{emit:e}){const n=t.store(),o=Kt(()=>n.items[t.id]),i=Kt(()=>n.viewport),r=Vt();Ue(v),fn(()=>{var p,y;return(y=(p=n.items[t.id])==null?void 0:p.properties.inputCount)==null?void 0:y.value},p=>p?v():null);const s=Kt(()=>{const p={[Ft.Left]:[],[Ft.Top]:[],[Ft.Right]:[],[Ft.Bottom]:[]};return n.items[t.id].portIds.forEach(y=>{p[n.ports[y].orientation].push(n.ports[y])}),p}),a=Kt(()=>t.isSelected&&n.selectedItemIds.size===1);function l(){n.items[t.id].subtype===re.CustomCircuit&&Xn().openIntegratedCircuit(n.items[t.id])}function u(){n.cacheState(),n.setSnapBoundaries(t.id)}function d(p,y){n.dragItem(t.id,{x:p.x-y.x-n.items[t.id].width/2*n.zoomLevel,y:p.y-y.y-n.items[t.id].height/2*n.zoomLevel})}function m(p){document.activeElement===r.value.$el&&r.value.$el.blur(),p.preventDefault()}function g(p){t.isSelected||n.setItemSelectionState(t.id,!0),e("contextmenu",p)}function f(p){p&&n.deselectAll(),n.setItemSelectionState(t.id,!0)}function v(){var y;const p=(y=r.value)==null?void 0:y.$el;n.setItemSize({id:t.id,rect:p.getBoundingClientRect()}),Ko(()=>{p.querySelectorAll("[data-port-id]").forEach(b=>{const S=b.dataset.portId,{x:P,y:A}=b.getBoundingClientRect();n.setPortRelativePosition({x:P,y:A},S)})})}return{item:o,itemRef:r,store:n,ports:s,viewport:i,isPropertiesEnabled:a,focus,onDrag:d,onDragStart:u,onEscapeKey:m,onSelect:f,onContextMenu:g,revealCustomCircuit:l,ItemSubtype:re,ItemType:Oe}}});function K0(t,e,n,o,i,r){const s=St("properties"),a=St("port-handle"),l=St("port-pivot"),u=St("circuit-component"),d=St("draggable");return Q(),Mt(d,{style:ee({pointerEvents:"none",zIndex:t.zIndex}),position:t.item.position,"is-selected":t.isSelected,"allow-touch-drag":t.isSelected,tabindex:0,onKeydown:ao(t.onEscapeKey,["esc"]),onDrag:t.onDrag,onDragStart:t.onDragStart,onContextmenu:t.onContextMenu,onDblclick:t.revealCustomCircuit,onTouchhold:t.revealCustomCircuit,onDragEnd:t.store.commitCachedState,onSelect:t.onSelect,onDeselect:e[1]||(e[1]=m=>t.store.setItemSelectionState(t.id,!1)),ref:"itemRef","data-test":"item"},{default:Rt(()=>[t.isPropertiesEnabled?(Q(),Mt(s,{key:0,properties:t.item.properties,id:t.id,viewport:t.viewport,onUpdate:t.store.setProperties,onPan:t.store.panDelta,"aria-label":"Properties dialog","data-test":"properties"},null,8,["properties","id","viewport","onUpdate","onPan"])):de("",!0),dt(u,{type:t.item.type,subtype:t.item.subtype,name:t.item.defaultName,ports:t.ports,properties:t.item.properties,"is-selected":t.isSelected,flash:t.flash,style:ee({transform:`rotate(${90*t.item.rotation}deg)`}),onSignal:t.store.setPortValue},ws({_:2},[pe(t.ports,(m,g)=>({name:g,fn:Rt(()=>[(Q(!0),ht(Xt,null,pe(m,f=>(Q(),Mt(l,{"data-port-id":f.id,key:f.id},{default:Rt(()=>[dt(a,{id:f.id,hue:f.isMonitored?f.hue:0,"is-monitored":f.isMonitored,tabindex:0,onKeydown:[ao(t.onEscapeKey,["esc"]),ao(v=>t.store.cycleConnectionPreviews(f.id),["space"]),e[0]||(e[0]=ao(v=>t.store.commitPreviewedConnection(),["enter"]))],onContextmenu:v=>t.store.setActivePortId(f.id),onFocus:v=>t.store.setActivePortId(f.id),onBlur:v=>t.store.unsetActivePortId(f.id)},null,8,["id","hue","is-monitored","onKeydown","onContextmenu","onFocus","onBlur"])]),_:2},1032,["data-port-id"]))),128))])}))]),1032,["type","subtype","name","ports","properties","is-selected","flash","style","onSignal"])]),_:1},8,["style","position","is-selected","allow-touch-drag","onKeydown","onDrag","onDragStart","onContextmenu","onDblclick","onTouchhold","onDragEnd","onSelect"])}const X0=xt(Z0,[["render",K0]]);var _c=function(){if(typeof Map<"u")return Map;function t(e,n){var o=-1;return e.some(function(i,r){return i[0]===n?(o=r,!0):!1}),o}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var o=t(this.__entries__,n),i=this.__entries__[o];return i&&i[1]},e.prototype.set=function(n,o){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=o:this.__entries__.push([n,o])},e.prototype.delete=function(n){var o=this.__entries__,i=t(o,n);~i&&o.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,o){o===void 0&&(o=null);for(var i=0,r=this.__entries__;i<r.length;i++){var s=r[i];n.call(o,s[1],s[0])}},e}()}(),is=typeof window<"u"&&typeof document<"u"&&window.document===document,Wi=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Y0=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Wi):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),J0=2;function Q0(t,e){var n=!1,o=!1,i=0;function r(){n&&(n=!1,t()),o&&a()}function s(){Y0(r)}function a(){var l=Date.now();if(n){if(l-i<J0)return;o=!0}else n=!0,o=!1,setTimeout(s,e);i=l}return a}var t2=20,e2=["top","right","bottom","left","width","height","size","weight"],n2=typeof MutationObserver<"u",o2=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Q0(this.refresh.bind(this),t2)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,o=n.indexOf(e);~o&&n.splice(o,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!is||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),n2?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!is||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,o=n===void 0?"":n,i=e2.some(function(r){return!!~o.indexOf(r)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),wc=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},vo=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Wi},Cc=pr(0,0,0,0);function Gi(t){return parseFloat(t)||0}function Ra(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(o,i){var r=t["border-"+i+"-width"];return o+Gi(r)},0)}function i2(t){for(var e=["top","right","bottom","left"],n={},o=0,i=e;o<i.length;o++){var r=i[o],s=t["padding-"+r];n[r]=Gi(s)}return n}function r2(t){var e=t.getBBox();return pr(0,0,e.width,e.height)}function s2(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Cc;var o=vo(t).getComputedStyle(t),i=i2(o),r=i.left+i.right,s=i.top+i.bottom,a=Gi(o.width),l=Gi(o.height);if(o.boxSizing==="border-box"&&(Math.round(a+r)!==e&&(a-=Ra(o,"left","right")+r),Math.round(l+s)!==n&&(l-=Ra(o,"top","bottom")+s)),!l2(t)){var u=Math.round(a+r)-e,d=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return pr(i.left,i.top,a,l)}var a2=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof vo(t).SVGGraphicsElement}:function(t){return t instanceof vo(t).SVGElement&&typeof t.getBBox=="function"}}();function l2(t){return t===vo(t).document.documentElement}function c2(t){return is?a2(t)?r2(t):s2(t):Cc}function u2(t){var e=t.x,n=t.y,o=t.width,i=t.height,r=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(r.prototype);return wc(s,{x:e,y:n,width:o,height:i,top:n,right:e+o,bottom:i+n,left:e}),s}function pr(t,e,n,o){return{x:t,y:e,width:n,height:o}}var d2=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=pr(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=c2(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),f2=function(){function t(e,n){var o=u2(n);wc(this,{target:e,contentRect:o})}return t}(),h2=function(){function t(e,n,o){if(this.activeObservations_=[],this.observations_=new _c,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=o}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new d2(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof vo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(o){return new f2(o.target,o.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Sc=typeof WeakMap<"u"?new WeakMap:new _c,Ic=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=o2.getInstance(),o=new h2(e,n,this);Sc.set(this,o)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Ic.prototype[t]=function(){var e;return(e=Sc.get(this))[t].apply(e,arguments)}});var p2=function(){return typeof Wi.ResizeObserver<"u"?Wi.ResizeObserver:Ic}();const m2=It({name:"Resizable",emits:{resize:t=>!0},setup(t,{emit:e}){const n=Vt();function o([r]){e("resize",r.target.getBoundingClientRect())}const i=new p2(o);return Ue(()=>{i.observe(n.value)}),{onSizeChanged:o,resizable:n}}}),g2={ref:"resizable"};function v2(t,e,n,o,i,r){return Q(),ht("div",g2,[ue(t.$slots,"default")],512)}const Ls=xt(m2,[["render",v2]]),y2=It({name:"Editor",emits:{resize:t=>!0,pan:(t,e)=>!0,zoom:t=>!0,contextmenu:t=>!0},components:{Resizable:Ls},props:{zoom:{type:Number,default:1},gridSize:{type:Number,default:0},canvas:{type:Object,required:!0},snapshot:{type:Object,default:null}},setup(t,{emit:e}){let n=0,o={x:0,y:0},i={y:0,x:0},r=0,s=0,a=!1,l=0,u=1;const d=Vt(null),m=Kt(()=>{const U=t.canvas.right-t.canvas.left,I=t.canvas.bottom-t.canvas.top;return{backgroundSize:`${t.gridSize}px ${t.gridSize}px`,transform:`scale(${t.zoom})`,left:`${t.canvas.left}px`,top:`${t.canvas.top}px`,width:`${U}px`,height:`${I}px`}}),g=Vt();Ue(()=>{window.addEventListener("mousemove",A),window.addEventListener("mouseup",N)}),qn(()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",N)});function f({touches:U}){const I=U[0].clientX-U[1].clientX,E=U[0].clientY-U[1].clientY;return Math.hypot(I,E)}function v(U){if(U.touches.length===1)return{x:U.touches[0].clientX,y:U.touches[0].clientY};{const I=Math.abs(U.touches[0].clientX-U.touches[1].clientX)/2,E=Math.abs(U.touches[0].clientY-U.touches[1].clientY)/2;return{x:Math.min(U.touches[0].clientX,U.touches[1].clientX)+I,y:Math.min(U.touches[0].clientY,U.touches[1].clientY)+E}}}function p(U){a=!0,i=U,o=U,r=0,s=0}function y({x:U,y:I}){if(n=0,!a)return;const E=U-o.x,h=I-o.y;e("pan",{x:E,y:h}),r=Math.hypot(E,h),s=Math.atan2(h,E),o={x:U,y:I},setTimeout(()=>{r=0},250)}function b(U){n=0;const I=v(U);if(U.touches.length===2&&l){const E=f(U),h=Math.max(Math.min(u*(E/l),es),Wo);e("zoom",{zoom:h,point:I})}y(I)}function S(){if(!r)return;const U=r*Math.cos(s)*ns,I=r*Math.sin(s)*ns;e("pan",{x:U,y:I},!0)}function P(U){p(U),U.preventDefault(),U.stopPropagation()}function A(U){n||(n=window.requestAnimationFrame(()=>y({x:U.clientX,y:U.clientY})))}function N(U){if(a){if(a=!1,U.button===2&&ie.isInNeighborhood(U,i,5)){e("contextmenu",U);return}U.stopPropagation(),U.preventDefault(),S()}}function H(U){U.preventDefault(),U.stopPropagation(),!(U.touches.length>2)&&(a=!1,l=0,u=t.zoom,requestAnimationFrame(()=>p(v(U))),U.touches.length===2&&(l=f(U)))}function L(U){n||(n=window.requestAnimationFrame(()=>b(U)))}function D(U){if(U.touches.length){n=window.requestAnimationFrame(()=>H(U));return}l===0&&S(),a=!1,l=0,n=0}function k(U){if(!U.ctrlKey||!U.deltaY)return;const I=U.deltaY<0?1:-1,E=t.zoom+I/10;e("zoom",{zoom:E,point:{x:U.x,y:U.y}})}function Y(U=!1){var E;const I=(E=g.value)==null?void 0:E.querySelectorAll('[tabindex="0"]');if(I){const h=U?1:I.length-2,Z=I[h];Z==null||Z.focus()}}return{selector:d,style:m,grid:g,onTouchStart:H,onTouchMove:L,onTouchEnd:D,onMouseDown:P,onMouseMove:A,onMouseWheel:k,recycleFocus:Y}}});function b2(t,e,n,o,i,r){const s=St("resizable");return Q(),Mt(s,{onMousewheel:t.onMouseWheel,onMousedown:Tn(t.onMouseDown,["right"]),onTouchstart:t.onTouchStart,onTouchmove:t.onTouchMove,onTouchend:t.onTouchEnd,onResize:e[2]||(e[2]=a=>t.$emit("resize",a)),class:"editor"},{default:Rt(()=>[bt("div",{style:ee(t.style),class:"editor__grid",ref:"grid"},[bt("div",{tabindex:0,"data-test":"first",onFocus:e[0]||(e[0]=a=>t.recycleFocus(!1))},null,32),ue(t.$slots,"default"),bt("div",{tabindex:0,"data-test":"last",onFocus:e[1]||(e[1]=a=>t.recycleFocus(!0))},null,32)],4)]),_:3},8,["onMousewheel","onMousedown","onTouchstart","onTouchmove","onTouchend"])}const _2=xt(y2,[["render",b2]]),w2=It({name:"Selector",emits:{selectionStart:t=>!0,selectionEnd:t=>!0},props:{zoom:{type:Number,default:1}},setup(t,{emit:e}){const n=Vt({x:0,y:0}),o=Vt({x:0,y:0}),i=Vt(null),r=Vt(!1),s=()=>({left:Math.min(n.value.x,o.value.x),top:Math.min(n.value.y,o.value.y),width:Math.abs(n.value.x-o.value.x),height:Math.abs(n.value.y-o.value.y)}),a=Kt(()=>{const b=s();return{left:`${b.left}px`,top:`${b.top}px`,width:`${b.width}px`,height:`${b.height}px`}});let l={x:0,y:0},u=!1;Ue(()=>{window.addEventListener("mousemove",f),window.addEventListener("mouseup",v)}),qn(()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",v)});function d(b){if(!i.value)return{x:0,y:0};const{top:S,left:P}=i.value.getBoundingClientRect(),A=(b.x-P)/t.zoom,N=(b.y-S)/t.zoom;return{x:A,y:N}}function m(){const{left:b,top:S,width:P,height:A}=s();e("selectionEnd",{left:b,top:S,bottom:A+S,right:b+P})}function g(b){const S=d(b);r.value=!0,n.value=S,o.value=S,e("selectionStart",b.ctrlKey)}function f(b){r.value&&(o.value=d(b))}function v(){r.value&&(m(),r.value=!1,n.value.x=0,n.value.y=0,o.value.x=0,o.value.y=0)}function p(b){l.x=b.touches[0].clientX,l.y=b.touches[0].clientY,u=!0}function y(b){u&&(ie.isInNeighborhood(l,{x:b.changedTouches[0].clientX,y:b.changedTouches[0].clientY},5)&&e("selectionStart",!1),l.x=0,l.y=0,u=!1)}return{selector:i,hasSelection:r,style:a,onMouseDown:g,onTouchStart:p,onTouchEnd:y}}});function C2(t,e,n,o,i,r){return Q(),ht("div",{onMousedown:e[0]||(e[0]=Tn((...s)=>t.onMouseDown&&t.onMouseDown(...s),["left","self"])),onTouchstart:e[1]||(e[1]=(...s)=>t.onTouchStart&&t.onTouchStart(...s)),onTouchend:e[2]||(e[2]=(...s)=>t.onTouchEnd&&t.onTouchEnd(...s)),class:"selector",ref:"selector"},[t.hasSelection?(Q(),ht("div",{key:0,style:ee(t.style),class:"selector__selection"},null,4)):de("",!0)],544)}const S2=xt(w2,[["render",C2]]),I2=It({name:"Group",props:{boundingBox:{type:Object,required:!0},id:{type:String,required:!0},isSelected:{type:Boolean,default:!1},zIndex:{type:Number,default:0},zoom:{type:Number,default:1}}});function E2(t,e,n,o,i,r){return Q(),ht("div",{class:Qt(["group",{"group--is-selected":t.isSelected}]),"aria-roledescription":"group",tabindex:-1,style:ee({position:"absolute",left:`${t.boundingBox.left}px`,top:`${t.boundingBox.top}px`,width:`${t.boundingBox.right-t.boundingBox.left}px`,height:`${t.boundingBox.bottom-t.boundingBox.top}px`,zIndex:t.zIndex})},null,6)}const x2=xt(I2,[["render",E2]]);function Ec(t,e=[]){const n=t(),o=Xn();let i=[{label:"&Undo",enabled:n.canUndo,accelerator:"CommandOrControl+Z",click:n.undo},{type:"separator"},{role:"cut",enabled:n.hasSelectedItems},{role:"copy",enabled:n.hasSelectedItems},{role:"paste",enabled:o.canPaste},{label:"Delete",accelerator:"Delete",enabled:n.canDelete,click:n.deleteSelection},{type:"separator"},{label:"&Select All",accelerator:"CommandOrControl+A",enabled:n.baseItems.length>0,click:n.selectAll}];return n.selectedItemIds.size>0&&(i.push({type:"separator"}),i.push({label:"&Rotate",submenu:[{label:"Rotate 90 &CW",accelerator:"CmdOrCtrl+R",click:()=>n.rotate(1)},{label:"Rotate 90 CC&W",accelerator:"CmdOrCtrl+Shift+R",click:()=>n.rotate(-1)}]})),n.hasSelection&&(i.push({type:"separator"}),i.push({label:"&Bring to Front",submenu:[{label:"&Bring to Front",click:()=>n.setZIndex(n.zIndex)},{label:"Bring &Forward",click:()=>n.incrementZIndex(1)}]}),i.push({label:"&Send to Back",submenu:[{label:"&Send to Back",click:()=>n.setZIndex(n.zIndex)},{label:"Send &Backward",click:()=>n.incrementZIndex(-1)}]})),n.canGroup&&i.push({label:"&Group",submenu:[{label:"&Group"},{label:"&Ungroup",enabled:n.canUngroup}]}),e.length>0&&(i.push({type:"separator"}),i=i.concat(e)),n.selectedItemIds.size===1&&(i.push({type:"separator"}),i.push({label:"&Item Properties"})),n.activePortId&&(i.push({type:"separator"}),i.push({type:"checkbox",label:"Show in &Oscilloscope",checked:!0})),i}function xc(t){return t(),[{label:"&Grid",submenu:[{label:"&Show grid"},{type:"separator"},{label:"Snap to &grid"},{label:"Snap to &elements"}]}]}function O2(t){return Ec(t,xc(t).concat({type:"separator"}))}var Oc={exports:{}};/*! dom-to-image-more 14-02-2024 */(function(t,e){(function(n){const o=function(){let L=0;return{escape:function(E){return E.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")},isDataUrl:function(E){return E.search(/^(data:)/)!==-1},canvasToBlob:function(E){return E.toBlob?new Promise(function(h){E.toBlob(h)}):function(h){return new Promise(function(Z){var at=f(h.toDataURL().split(",")[1]),J=at.length,_t=new Uint8Array(J);for(let it=0;it<J;it++)_t[it]=at.charCodeAt(it);Z(new Blob([_t],{type:"image/png"}))})}(E)},resolveUrl:function(E,h){var Z=document.implementation.createHTMLDocument(),at=Z.createElement("base"),J=(Z.head.appendChild(at),Z.createElement("a"));return Z.body.appendChild(J),at.href=h,J.href=E,J.href},getAndEncode:function(E){let h=d.impl.urlCache.find(function(Z){return Z.url===E});return h||(h={url:E,promise:null},d.impl.urlCache.push(h)),h.promise===null&&(d.impl.options.cacheBust&&(E+=(/\?/.test(E)?"&":"?")+new Date().getTime()),h.promise=new Promise(function(Z){const at=d.impl.options.httpTimeout,J=new XMLHttpRequest;if(J.onreadystatechange=function(){if(J.readyState===4)if(300<=J.status)it?Z(it):ft(`cannot fetch resource: ${E}, status: `+J.status);else{const K=new FileReader;K.onloadend=function(){Z(K.result)},K.readAsDataURL(J.response)}},J.ontimeout=function(){it?Z(it):ft(`timeout of ${at}ms occured while fetching resource: `+E)},J.responseType="blob",J.timeout=at,0<d.impl.options.useCredentialsFilters.length&&(d.impl.options.useCredentials=0<d.impl.options.useCredentialsFilters.filter(K=>0<=E.search(K)).length),d.impl.options.useCredentials&&(J.withCredentials=!0),d.impl.options.corsImg&&E.indexOf("http")===0&&E.indexOf(window.location.origin)===-1){var _t=(d.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";J.open(_t,(d.impl.options.corsImg.url||"").replace("#{cors}",E),!0);let K=!1;const G=d.impl.options.corsImg.headers||{},Ct=(Object.keys(G).forEach(function(ct){G[ct].indexOf("application/json")!==-1&&(K=!0),J.setRequestHeader(ct,G[ct])}),function(ct){try{return JSON.parse(JSON.stringify(ct))}catch{ft("corsImg.data is missing or invalid")}}(d.impl.options.corsImg.data||""));Object.keys(Ct).forEach(function(ct){typeof Ct[ct]=="string"&&(Ct[ct]=Ct[ct].replace("#{cors}",E))}),J.send(K?JSON.stringify(Ct):Ct)}else J.open("GET",E,!0),J.send();let it;function ft(K){console.error(K),Z("")}d.impl.options.imagePlaceholder&&(_t=d.impl.options.imagePlaceholder.split(/,/))&&_t[1]&&(it=_t[1])})),h.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+L++},delay:function(E){return function(h){return new Promise(function(Z){setTimeout(function(){Z(h)},E)})}},asArray:function(E){var h=[],Z=E.length;for(let at=0;at<Z;at++)h.push(E[at]);return h},escapeXhtml:function(E){return E.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(E){return E!=="data:,"?new Promise(function(h,Z){const at=new Image;d.impl.options.useCredentials&&(at.crossOrigin="use-credentials"),at.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){h(at)}):h(at)},at.onerror=Z,at.src=E}):Promise.resolve()},width:function(E){var h=I(E,"width");if(!isNaN(h))return h;var h=I(E,"border-left-width"),Z=I(E,"border-right-width");return E.scrollWidth+h+Z},height:function(E){var h=I(E,"height");if(!isNaN(h))return h;var h=I(E,"border-top-width"),Z=I(E,"border-bottom-width");return E.scrollHeight+h+Z},getWindow:D,isElement:U,isElementHostForOpenShadowRoot:function(E){return U(E)&&E.shadowRoot!==null},isShadowRoot:k,isInShadowRoot:Y,isHTMLElement:function(E){return E instanceof D(E).HTMLElement},isHTMLCanvasElement:function(E){return E instanceof D(E).HTMLCanvasElement},isHTMLInputElement:function(E){return E instanceof D(E).HTMLInputElement},isHTMLImageElement:function(E){return E instanceof D(E).HTMLImageElement},isHTMLLinkElement:function(E){return E instanceof D(E).HTMLLinkElement},isHTMLScriptElement:function(E){return E instanceof D(E).HTMLScriptElement},isHTMLStyleElement:function(E){return E instanceof D(E).HTMLStyleElement},isHTMLTextAreaElement:function(E){return E instanceof D(E).HTMLTextAreaElement},isShadowSlotElement:function(E){return Y(E)&&E instanceof D(E).HTMLSlotElement},isSVGElement:function(E){return E instanceof D(E).SVGElement},isSVGRectElement:function(E){return E instanceof D(E).SVGRectElement},isDimensionMissing:function(E){return isNaN(E)||E<=0}};function D(E){return E=E?E.ownerDocument:void 0,(E?E.defaultView:void 0)||n||window}function k(E){return E instanceof D(E).ShadowRoot}function Y(E){return E!==null&&Object.prototype.hasOwnProperty.call(E,"getRootNode")&&k(E.getRootNode())}function U(E){return E instanceof D(E).Element}function I(E,h){if(E.nodeType===m){let Z=g(E).getPropertyValue(h);if(Z.slice(-2)==="px")return Z=Z.slice(0,-2),parseFloat(Z)}return NaN}}(),i=function(){const L=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(U,I,E){return D(U)?Promise.resolve(U).then(k).then(function(h){let Z=Promise.resolve(U);return h.forEach(function(at){Z=Z.then(function(J){return Y(J,at,I,E)})}),Z}):Promise.resolve(U)},shouldProcess:D,impl:{readUrls:k,inline:Y}};function D(U){return U.search(L)!==-1}function k(U){for(var I,E=[];(I=L.exec(U))!==null;)E.push(I[1]);return E.filter(function(h){return!o.isDataUrl(h)})}function Y(U,I,E,h){return Promise.resolve(I).then(function(Z){return E?o.resolveUrl(Z,E):Z}).then(h||o.getAndEncode).then(function(Z){return U.replace((at=I,new RegExp(`(url\\(['"]?)(${o.escape(at)})(['"]?\\))`,"g")),`$1${Z}$3`);var at})}}(),r={resolveAll:function(){return s().then(function(L){return Promise.all(L.map(function(D){return D.resolve()}))}).then(function(L){return L.join(`
`)})},impl:{readAll:s}};function s(){return Promise.resolve(o.asArray(document.styleSheets)).then(function(D){const k=[];return D.forEach(function(Y){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(Y),"cssRules"))try{o.asArray(Y.cssRules||[]).forEach(k.push.bind(k))}catch(U){console.error("domtoimage: Error while reading CSS rules from "+Y.href,U.toString())}}),k}).then(function(D){return D.filter(function(k){return k.type===CSSRule.FONT_FACE_RULE}).filter(function(k){return i.shouldProcess(k.style.getPropertyValue("src"))})}).then(function(D){return D.map(L)});function L(D){return{resolve:function(){var k=(D.parentStyleSheet||{}).href;return i.inlineAll(D.cssText,k)},src:function(){return D.style.getPropertyValue("src")}}}}const a={inlineAll:function L(D){if(!o.isElement(D))return Promise.resolve(D);return k(D).then(function(){return o.isHTMLImageElement(D)?l(D).inline():Promise.all(o.asArray(D.childNodes).map(function(Y){return L(Y)}))});function k(Y){const U=["background","background-image"],I=U.map(function(E){const h=Y.style.getPropertyValue(E),Z=Y.style.getPropertyPriority(E);return h?i.inlineAll(h).then(function(at){Y.style.setProperty(E,at,Z)}):Promise.resolve()});return Promise.all(I).then(function(){return Y})}},impl:{newImage:l}};function l(L){return{inline:function(D){return o.isDataUrl(L.src)?Promise.resolve():Promise.resolve(L.src).then(D||o.getAndEncode).then(function(k){return new Promise(function(Y){L.onload=Y,L.onerror=Y,L.src=k})})}}}const u={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0,adjustClonedNode:void 0},d={toSvg:v,toPng:function(L,D){return p(L,D).then(function(k){return k.toDataURL()})},toJpeg:function(L,D){return p(L,D).then(function(k){return k.toDataURL("image/jpeg",(D?D.quality:void 0)||1)})},toBlob:function(L,D){return p(L,D).then(o.canvasToBlob)},toPixelData:function(L,D){return p(L,D).then(function(k){return k.getContext("2d").getImageData(0,0,o.width(L),o.height(L)).data})},toCanvas:p,impl:{fontFaces:r,images:a,util:o,inliner:i,urlCache:[],options:{}}},m=(t.exports=d,(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1),g=(n!==void 0?n.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,f=(n!==void 0?n.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function v(L,D){d.impl.util.getWindow(L);var k=D=D||{};k.copyDefaultStyles===void 0?d.impl.options.copyDefaultStyles=u.copyDefaultStyles:d.impl.options.copyDefaultStyles=k.copyDefaultStyles,k.imagePlaceholder===void 0?d.impl.options.imagePlaceholder=u.imagePlaceholder:d.impl.options.imagePlaceholder=k.imagePlaceholder,k.cacheBust===void 0?d.impl.options.cacheBust=u.cacheBust:d.impl.options.cacheBust=k.cacheBust,k.corsImg===void 0?d.impl.options.corsImg=u.corsImg:d.impl.options.corsImg=k.corsImg,k.useCredentials===void 0?d.impl.options.useCredentials=u.useCredentials:d.impl.options.useCredentials=k.useCredentials,k.useCredentialsFilters===void 0?d.impl.options.useCredentialsFilters=u.useCredentialsFilters:d.impl.options.useCredentialsFilters=k.useCredentialsFilters,k.httpTimeout===void 0?d.impl.options.httpTimeout=u.httpTimeout:d.impl.options.httpTimeout=k.httpTimeout,k.styleCaching===void 0?d.impl.options.styleCaching=u.styleCaching:d.impl.options.styleCaching=k.styleCaching;let Y=[];return Promise.resolve(L).then(function(U){if(U.nodeType===m)return U;var I=U,E=U.parentNode,h=document.createElement("span");return E.replaceChild(h,I),h.append(U),Y.push({parent:E,child:I,wrapper:h}),h}).then(function(U){return function I(E,h,Z,at){const J=h.filter;if(E===y||o.isHTMLScriptElement(E)||o.isHTMLStyleElement(E)||o.isHTMLLinkElement(E)||Z!==null&&J&&!J(E))return Promise.resolve();return Promise.resolve(E).then(_t).then(it).then(function(ct){return G(ct,K(E))}).then(ft).then(function(ct){return Ct(ct,E)});function _t(ct){return o.isHTMLCanvasElement(ct)?o.makeImage(ct.toDataURL()):ct.cloneNode(!1)}function it(ct){return h.adjustClonedNode&&h.adjustClonedNode(E,ct,!1),Promise.resolve(ct)}function ft(ct){return h.adjustClonedNode&&h.adjustClonedNode(E,ct,!0),Promise.resolve(ct)}function K(ct){return o.isElementHostForOpenShadowRoot(ct)?ct.shadowRoot:ct}function G(ct,pt){const jt=Lt(pt);let Yt=Promise.resolve();if(jt.length!==0){const Ht=g(Bt(pt));o.asArray(jt).forEach(function(qt){Yt=Yt.then(function(){return I(qt,h,Ht).then(function(T){T&&ct.appendChild(T)})})})}return Yt.then(function(){return ct});function Bt(Ht){return o.isShadowRoot(Ht)?Ht.host:Ht}function Lt(Ht){return o.isShadowSlotElement(Ht)?Ht.assignedNodes():Ht.childNodes}}function Ct(ct,pt){return!o.isElement(ct)||o.isShadowSlotElement(pt)?Promise.resolve(ct):Promise.resolve().then(jt).then(Yt).then(Bt).then(Lt).then(function(){return ct});function jt(){function Ht(T,R){R.font=T.font,R.fontFamily=T.fontFamily,R.fontFeatureSettings=T.fontFeatureSettings,R.fontKerning=T.fontKerning,R.fontSize=T.fontSize,R.fontStretch=T.fontStretch,R.fontStyle=T.fontStyle,R.fontVariant=T.fontVariant,R.fontVariantCaps=T.fontVariantCaps,R.fontVariantEastAsian=T.fontVariantEastAsian,R.fontVariantLigatures=T.fontVariantLigatures,R.fontVariantNumeric=T.fontVariantNumeric,R.fontVariationSettings=T.fontVariationSettings,R.fontWeight=T.fontWeight}function qt(T,R){const c=g(T);c.cssText?(R.style.cssText=c.cssText,Ht(c,R.style)):(P(h,T,c,Z,R),Z===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(B=>R.style.removeProperty(B)),["left","right","top","bottom"].forEach(B=>{R.style.getPropertyValue(B)&&R.style.setProperty(B,"0px")})))}qt(pt,ct)}function Yt(){const Ht=o.uid();function qt(T){const R=g(pt,T),c=R.getPropertyValue("content");if(c!==""&&c!=="none"){let _=function(){const x=`.${Ht}:`+T,q=(R.cssText?j:V)();return document.createTextNode(x+`{${q}}`);function j(){return`${R.cssText} content: ${c};`}function V(){return o.asArray(R).map(rt).join("; ")+";";function rt(nt){const mt=R.getPropertyValue(nt),Dt=R.getPropertyPriority(nt)?" !important":"";return nt+": "+mt+Dt}}};var B=_;const M=ct.getAttribute("class")||"",C=(ct.setAttribute("class",M+" "+Ht),document.createElement("style"));C.appendChild(_()),ct.appendChild(C)}}[":before",":after"].forEach(function(T){qt(T)})}function Bt(){o.isHTMLTextAreaElement(pt)&&(ct.innerHTML=pt.value),o.isHTMLInputElement(pt)&&ct.setAttribute("value",pt.value)}function Lt(){o.isSVGElement(ct)&&(ct.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.isSVGRectElement(ct))&&["width","height"].forEach(function(Ht){const qt=ct.getAttribute(Ht);qt&&ct.style.setProperty(Ht,qt)})}}}(U,D,null)}).then(b).then(S).then(function(U){D.bgcolor&&(U.style.backgroundColor=D.bgcolor),D.width&&(U.style.width=D.width+"px"),D.height&&(U.style.height=D.height+"px"),D.style&&Object.keys(D.style).forEach(function(E){U.style[E]=D.style[E]});let I=null;return typeof D.onclone=="function"&&(I=D.onclone(U)),Promise.resolve(I).then(function(){return U})}).then(function(U){let I=D.width||o.width(U),E=D.height||o.height(U);return Promise.resolve(U).then(function(h){return h.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(h)}).then(o.escapeXhtml).then(function(h){var Z=(o.isDimensionMissing(I)?' width="100%"':` width="${I}"`)+(o.isDimensionMissing(E)?' height="100%"':` height="${E}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(o.isDimensionMissing(I)?"":` width="${I}"`)+(o.isDimensionMissing(E)?"":` height="${E}"`)}><foreignObject${Z}>${h}</foreignObject></svg>`}).then(function(h){return"data:image/svg+xml;charset=utf-8,"+h})}).then(function(U){for(;0<Y.length;){var I=Y.pop();I.parent.replaceChild(I.child,I.wrapper)}return U}).then(function(U){return d.impl.urlCache=[],function(){y&&(document.body.removeChild(y),y=null),A&&clearTimeout(A),A=setTimeout(()=>{A=null,N={}},2e4)}(),U})}function p(L,D){return v(L,D=D||{}).then(o.makeImage).then(function(k){var Y=typeof D.scale!="number"?1:D.scale,U=function(E,h){let Z=D.width||o.width(E),at=D.height||o.height(E);return o.isDimensionMissing(Z)&&(Z=o.isDimensionMissing(at)?300:2*at),o.isDimensionMissing(at)&&(at=Z/2),E=document.createElement("canvas"),E.width=Z*h,E.height=at*h,D.bgcolor&&((h=E.getContext("2d")).fillStyle=D.bgcolor,h.fillRect(0,0,E.width,E.height)),E}(L,Y),I=U.getContext("2d");return I.msImageSmoothingEnabled=!1,I.imageSmoothingEnabled=!1,k&&(I.scale(Y,Y),I.drawImage(k,0,0)),U})}let y=null;function b(L){return r.resolveAll().then(function(D){var k;return D!==""&&(k=document.createElement("style"),L.appendChild(k),k.appendChild(document.createTextNode(D))),L})}function S(L){return a.inlineAll(L).then(function(){return L})}function P(L,D,k,Y,U){const I=d.impl.options.copyDefaultStyles?function(h,J){var J=function(it){var ft=[];do if(it.nodeType===m){var K=it.tagName;if(ft.push(K),H.includes(K))break}while(it=it.parentNode,it);return ft}(J),at=function(it){return(h.styleCaching!=="relaxed"?it:it.filter((ft,K,G)=>K===0||K===G.length-1)).join(">")}(J);if(N[at])return N[at];var _t=function(){if(y)return y.contentWindow;var it=document.characterSet||"UTF-8",ft=document.doctype,ft=ft?(`<!DOCTYPE ${K(ft.name)} ${K(ft.publicId)} `+K(ft.systemId)).trim()+">":"";return(y=document.createElement("iframe")).id="domtoimage-sandbox-"+o.uid(),y.style.visibility="hidden",y.style.position="fixed",document.body.appendChild(y),function(G,Ct,ct,pt){try{return G.contentWindow.document.write(Ct+`<html><head><meta charset='${ct}'><title>${pt}</title></head><body></body></html>`),G.contentWindow}catch{}var jt=document.createElement("meta");jt.setAttribute("charset",ct);try{var Yt=document.implementation.createHTMLDocument(pt),Bt=(Yt.head.appendChild(jt),Ct+Yt.documentElement.outerHTML);return G.setAttribute("srcdoc",Bt),G.contentWindow}catch{}return G.contentDocument.head.appendChild(jt),G.contentDocument.title=pt,G.contentWindow}(y,ft,it,"domtoimage-sandbox");function K(G){var Ct;return G?((Ct=document.createElement("div")).innerText=G,Ct.innerHTML):""}}(),J=function(it,ft){let K=it.body;do{var G=ft.pop(),G=it.createElement(G);K.appendChild(G),K=G}while(0<ft.length);return K.textContent="",K}(_t.document,J),_t=function(it,ft){const K={},G=it.getComputedStyle(ft);return o.asArray(G).forEach(function(Ct){K[Ct]=Ct==="width"||Ct==="height"?"auto":G.getPropertyValue(Ct)}),K}(_t,J);return function(it){do{var ft=it.parentElement;ft!==null&&ft.removeChild(it),it=ft}while(it&&it.tagName!=="BODY")}(J),N[at]=_t}(L,D):{},E=U.style;o.asArray(k).forEach(function(h){var Z,at=k.getPropertyValue(h),J=I[h],_t=Y?Y.getPropertyValue(h):void 0;(at!==J||Y&&at!==_t)&&(J=k.getPropertyPriority(h),_t=E,at=at,J=J,Z=0<=["background-clip"].indexOf(h=h),J?(_t.setProperty(h,at,J),Z&&_t.setProperty("-webkit-"+h,at,J)):(_t.setProperty(h,at),Z&&_t.setProperty("-webkit-"+h,at)))})}let A=null,N={};const H=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(sn)})(Oc);var P2=Oc.exports;const k2=Ts(P2);function Pc(t,e,n,o,i){const r=t.cloneNode(!0),s=e.right-e.left+n*2,a=e.bottom-e.top+n*2;for(let l=0;l<r.children.length;l++){const u=r.children[l],d=parseInt(u.style.left.replace("px",""),10)+n,m=parseInt(u.style.top.replace("px",""),10)+n;u.style.left=`${d-e.left}px`,u.style.top=`${m-e.top}px`}for(const l in i)r.style.setProperty(l,i[l]);return r.style.width=`${s}px`,r.style.height=`${a}px`,r.style.position="relative",r.style.top="0",r.style.left="0",r.style.background="none",o&&r.classList.add(o),{printArea:r,width:s,height:a}}function D2(t,e){const n=document.createElement("iframe");n.name="print",n.style.width="1px",n.style.height="1px",n.style.opacity="0",n.style.position="absolute",n.style.top="0px",n.style.left="0px",document.body.style.overflow="hidden",document.body.appendChild(n);const o=n.contentWindow;if(o){const i=document.createElement("style");i.appendChild(document.createTextNode(`
      @page {
        size: ${e.map(r=>`${r}in`).join(" ")};
        margin: 0in;
      }
    `)),o.document.head.append(i),o.document.body.appendChild(t)}return n}async function $2(t,e){document.body.style.overflow="hidden",document.body.appendChild(t);const n=await k2[e](t);return t.remove(),document.body.style.overflow="initial",n}async function T2(t){return new Promise(e=>{setTimeout(()=>{if(!t)return e();t.addEventListener("afterprint",()=>e()),t.print()})})}async function A2(t,e,n,o){const{printArea:i,width:r,height:s}=Pc(e,n,20,"printer-friendly",{zoom:(1/t).toString(),...o}),a=await ho.createImage(i,"toPng"),l=[8.5,11],u=Math.min(...l)*96,d=Math.max(...l)*96,m=new Image;let g=1;if(m.src=a,r>u||r>d||s>u||s>d){const v=r>s;g=v?d/r:d/s,v&&l.reverse()}m.style.width=`${Math.floor(r*g)}px`,m.style.height=`${Math.floor(s*g)}px`;const f=ho.createPrintFrame(m,l);await ho.printWindow(f==null?void 0:f.contentWindow),f==null||f.remove(),document.body.style.overflow="initial"}const ho={createPrintArea:Pc,createPrintFrame:D2,createImage:$2,printImage:A2,printWindow:T2},z2=It({name:"Document",components:{Group:x2,Editor:_2,Selector:S2,Connection:Ep,Item:X0,PortItem:mc},props:{store:{type:Function,required:!0}},setup(t){const e=t.store(),n=Xn(),o=Kn(),i=Vt(),r=Vt(0),s=Kt(()=>e.isDebugging&&e.isCircuitEvaluated),a=Kt(()=>o.grid.showGrid.value?o.grid.gridSize.value:0);let l=1,u=0;Ri(()=>{e.isPrinting&&m(),e.isCreatingImage&&g()}),Ue(()=>{document.addEventListener("keydown",f),document.addEventListener("keyup",v),window.addEventListener("blur",v)}),qn(()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",v),window.removeEventListener("blur",v)});function d(S){const P=Object.values(e.connections).reduce((H,{controlPoints:L})=>H.concat(L.map(({position:D})=>D)),[]),A=Object.values(e.items).map(({boundingBox:H})=>H).concat(ie.getConstellationBoundingBox(P)),N=ie.getGroupBoundingBox(A);S(i.value.grid,N)}async function m(){d(async(S,P)=>{await ho.printImage(e.zoom,S,P,o.colorStyles),e.isPrinting=!1})}async function g(){d(async(S,P)=>{const{printArea:A}=ho.createPrintArea(S,P,Kh,"image-friendly",{zoom:(1/e.zoom).toString(),...o.colorStyles}),N=await ho.createImage(A,"toBlob");await n.saveImage(N),e.isCreatingImage=!1})}function f(S){S.target instanceof HTMLInputElement||u||(u=requestAnimationFrame(()=>{switch(u=0,S.key){case"Escape":return e.deselectAll();case"a":return S.ctrlKey&&e.selectAll();default:return p(S)}}))}function v(){l>1&&(e.commitCachedState(),l=1)}function p(S){const P=(()=>{switch(S.key){case"ArrowLeft":return{x:-1,y:0};case"ArrowUp":return{x:0,y:-1};case"ArrowRight":return{x:1,y:0};case"ArrowDown":return{x:0,y:1}}})();if(P){const A=Math.min(l,10);l===1&&e.cacheState(),e.setSelectionPosition({x:P.x*A,y:P.y*A}),l*=Xh}}function y(S){setTimeout(()=>{window.api.showContextMenu(O2(t.store))}),S.preventDefault(),S.stopPropagation()}function b(S){S||e.deselectAll()}return{store:e,editorRef:i,updates:r,gridSize:a,flash:s,storeDefinition:t.store,ITEM_BASE_Z_INDEX:ec,onKeyDown:f,onKeyUp:v,onContextMenu:y,onDeselect:b}}});function M2(t,e,n,o,i,r){const s=St("selector"),a=St("item"),l=St("connection"),u=St("port-item"),d=St("group"),m=St("editor");return Q(),Mt(m,{ref:"editorRef",zoom:t.store.zoom,"grid-size":t.gridSize,tabindex:0,canvas:t.store.canvas,onPan:t.store.panDelta,onZoom:t.store.setZoom,onContextmenu:t.onContextMenu,onResize:t.store.setViewerSize},{default:Rt(()=>[dt(s,{zoom:t.store.zoom,onSelectionEnd:t.store.createSelection,onSelectionStart:t.onDeselect,ref:"selector"},null,8,["zoom","onSelectionEnd","onSelectionStart"]),t.store.hasLoaded?(Q(!0),ht(Xt,{key:0},pe(t.store.baseItems,g=>(Q(),ht(Xt,null,["type"in g?(Q(),Mt(a,{store:t.storeDefinition,id:g.id,key:g.id,"is-selected":g.isSelected,flash:t.flash,"z-index":g.zIndex+t.ITEM_BASE_Z_INDEX},null,8,["store","id","is-selected","flash","z-index"])):(Q(),Mt(l,{store:t.storeDefinition,id:g.id,key:`c${g.id}`,"is-selected":g.isSelected,flash:t.flash,"z-index":g.zIndex},null,8,["store","id","is-selected","flash","z-index"]))],64))),256)):de("",!0),(Q(!0),ht(Xt,null,pe(t.store.ports,(g,f)=>(Q(),Mt(u,{key:f,port:g,store:t.storeDefinition},null,8,["port","store"]))),128)),(Q(!0),ht(Xt,null,pe(t.store.groups,g=>(Q(),Mt(d,{key:g.id,id:g.id,"bounding-box":g.boundingBox,"is-selected":g.isSelected,"z-index":t.store.zIndex,zoom:t.store.zoom},null,8,["id","bounding-box","is-selected","z-index","zoom"]))),128))]),_:1},8,["zoom","grid-size","canvas","onPan","onZoom","onContextmenu","onResize"])}const N2=xt(z2,[["render",M2]]),B2=It({name:"MobileButton",components:{Icon:We},props:{label:{type:String,default:""},icon:{type:Object,required:!0},chevron:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1}},setup(){return{faChevronDown:Gl}}});const L2={class:"mobile-button"},R2={class:"mobile-button__label"};function F2(t,e,n,o,i,r){const s=St("icon");return Q(),ht("div",L2,[dt(s,{icon:t.icon,class:"mobile-button__icon"},null,8,["icon"]),bt("div",R2,he(t.label),1),t.chevron?(Q(),Mt(s,{key:0,icon:t.faChevronDown,class:Qt([{"mobile-button__icon--open":t.isOpen},"mobile-button__icon--chevron"])},null,8,["icon","class"])):de("",!0)])}const kc=xt(B2,[["render",F2]]),V2=It({name:"MobileCollapsiblePanel",components:{MobileButton:kc},props:{title:{type:String,default:""},icon:{type:Object,required:!0}},setup(){const t=Vt("0"),e=Vt(),n=Vt(!1);function o(){var r;t.value=n.value?((r=e.value)==null?void 0:r.clientHeight)+"px":"0px"}function i(){n.value=!n.value,o()}return Ue(()=>o()),{faChevronDown:Gl,isOpen:n,height:t,content:e,toggle:i}}});const j2={class:"mobile-collapsible-panel"},H2={ref:"content"};function U2(t,e,n,o,i,r){const s=St("mobile-button");return Q(),ht("div",j2,[dt(s,{label:t.title,icon:t.icon,"is-open":t.isOpen,onClick:t.toggle,chevron:""},null,8,["label","icon","is-open","onClick"]),bt("div",{class:"mobile-collapsible-panel__content",style:ee({height:t.height})},[bt("div",H2,[bt("div",{class:Qt(["mobile-collapsible-panel__inner",{"mobile-collapsible-panel__inner--open":t.isOpen}])},[ue(t.$slots,"default")],2)],512)],4)])}const W2=xt(V2,[["render",U2]]),G2=It({name:"PropertyForm",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""}},emits:{"update:modelValue":t=>!0},setup(t,{emit:e}){const n=Vt(t.modelValue);return fn(()=>t.modelValue,()=>{n.value=t.modelValue}),{model:n}}});const q2=["id","disabled"];function Z2(t,e,n,o,i,r){return Q(),ht("label",{class:Qt(["property-switch",{"property-switch--on":t.model,"property-switch--disabled":t.disabled}])},[fo(bt("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.model=s),id:t.id,disabled:t.disabled,type:"checkbox",class:"property-switch__input",onInput:e[1]||(e[1]=s=>t.$emit("update:modelValue",!t.model))},null,40,q2),[[ks,t.model]]),bt("div",{class:Qt(["property-switch__trigger",{"property-switch__trigger--on":t.model}])},null,2)],2)}const K2=xt(G2,[["render",Z2]]),Dc=/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent),X2=It({name:"PropertyForm",components:{Icon:We,PropertySwitch:K2},props:{modelValue:{type:Object,default:()=>({})},id:{type:String,default:""}},setup(t,{emit:e}){const n=s=>{const a={};for(const l in s){const u=l;(Dc?!s[u].desktopOnly:!s[u].mobileOnly)&&(a[u]=Ge(s[u]))}return a},o=Vt(n(t.modelValue));fn(()=>t.modelValue,s=>{o.value=n(s)},{deep:!0});function i(s){var l;const a=o.value[s];(l=a.excludes)==null||l.forEach(u=>{a.value&&o.value[u].type==="boolean"&&(o.value[u].value=!1)}),r()}function r(){e("update:modelValue",o.value)}return{model:o,close,onSwitch:i,onChange:r}}});const Y2={class:"property-form"},J2=["for"],Q2=["onUpdate:modelValue","id","disabled"],tv=["value"],ev={key:1,class:"property-form__switch"},nv=["onUpdate:modelValue","min","max","type","id","disabled"],ov={key:3,class:"property-form__description"};function iv(t,e,n,o,i,r){const s=St("property-switch");return Q(),ht("div",Y2,[(Q(!0),ht(Xt,null,pe(t.model,(a,l)=>(Q(),ht("div",{key:l,class:"property-form__entry"},[bt("label",{for:`${t.id}_${l}`,class:Qt([{"property-form__label--disabled":a.disabled},"property-form__label"])},he(a.label),11,J2),a.options?fo((Q(),ht("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${t.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:e[0]||(e[0]=(...u)=>t.onChange&&t.onChange(...u))},[(Q(!0),ht(Xt,null,pe(a.options,(u,d)=>(Q(),ht("option",{key:d,value:u},he(d),9,tv))),128))],40,Q2)),[[Ds,a.value]]):a.type==="boolean"?(Q(),ht("div",ev,[dt(s,{modelValue:a.value,"onUpdate:modelValue":[u=>a.value=u,u=>t.onSwitch(l)],modelModifiers:{boolean:!0},id:`${t.id}_${l}`,disabled:a.disabled},null,8,["modelValue","onUpdate:modelValue","id","disabled"])])):fo((Q(),ht("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${t.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:e[1]||(e[1]=(...u)=>t.onChange&&t.onChange(...u))},null,40,nv)),[[Fl,a.value]]),a.description?(Q(),ht("small",ov,he(a.description),1)):de("",!0)]))),128))])}const rv=xt(X2,[["render",iv]]),sv=It({components:{MobileButton:kc,MobileCollapsiblePanel:W2,PropertyForm:rv},name:"MobilePreferences",setup(){const t=Kn(),{colors:e,grid:n,snapping:o,simulation:i,experience:r}=ji(t),{updateSettings:s}=t;return{faFile:Zl,faCodeBranch:ql,faGears:Af,faImage:zf,faMagnet:Mf,faMicrochip:$s,faPalette:Bf,faTableCells:qf,faWandMagicSparkles:Xf,colors:e,grid:n,snapping:o,simulation:i,experience:r,updateSettings:s}}});function av(t,e,n,o,i,r){const s=St("mobile-button"),a=St("property-form"),l=St("mobile-collapsible-panel");return Q(),ht(Xt,null,[dt(s,{icon:t.faFile,label:"New Circuit"},null,8,["icon"]),dt(s,{icon:t.faCodeBranch,label:"Load Circuit"},null,8,["icon"]),dt(s,{icon:t.faMicrochip,label:"Import integrated circuit"},null,8,["icon"]),dt(s,{icon:t.faImage,label:"Export image"},null,8,["icon"]),dt(l,{title:"Colors",icon:t.faPalette},{default:Rt(()=>[dt(a,{modelValue:t.colors,"onUpdate:modelValue":e[0]||(e[0]=u=>t.colors=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),dt(l,{title:"Grid",icon:t.faTableCells},{default:Rt(()=>[dt(a,{modelValue:t.grid,"onUpdate:modelValue":e[1]||(e[1]=u=>t.grid=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),dt(l,{title:"Snapping",icon:t.faMagnet},{default:Rt(()=>[dt(a,{modelValue:t.snapping,"onUpdate:modelValue":e[2]||(e[2]=u=>t.snapping=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),dt(l,{title:"Simulation",icon:t.faGears},{default:Rt(()=>[dt(a,{modelValue:t.simulation,"onUpdate:modelValue":e[3]||(e[3]=u=>t.simulation=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),dt(l,{title:"Experience",icon:t.faWandMagicSparkles},{default:Rt(()=>[dt(a,{modelValue:t.experience,"onUpdate:modelValue":e[4]||(e[4]=u=>t.experience=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"])],64)}const lv=xt(sv,[["render",av]]),cv=It({name:"OscilloscopeTimeline",emits:{"update:modelValue":t=>!0},props:{modelValue:{type:Number,required:!0},oscillogram:{type:Object,required:!0},items:{type:Object,required:!0},ports:{type:Object,required:!0}},computed:{totalWidth(){return Object.values(this.oscillogram).reduce((t,{width:e})=>Math.max(e,t),0)}},setup(t,{emit:e}){const n=Vt(t.modelValue),o=Vt(),i=Vt(),r=Kt(()=>n.value?{width:`${n.value}px`}:{});fn(()=>t.oscillogram,g,{deep:!0});let s=!1;Ue(()=>{window.addEventListener("mousemove",u),window.addEventListener("mouseup",l)}),or(()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",l)});function a(){s=!0}function l(){s=!1}function u(v){if(!s||!o.value)return;const p=o.value.parentElement.getBoundingClientRect();n.value=Math.max(50,Math.min(p.right,v.clientX)),e("update:modelValue",n.value)}function d(v){u(v.touches[0])}function m(v){i.value&&(i.value.scrollTop+=v.deltaY/10,v.preventDefault())}function g(){i.value&&(i.value.scrollLeft=i.value.scrollWidth)}function f(){!o.value||!i.value||(o.value.scrollTop=i.value.scrollTop)}return{labelsRef:o,timelineRef:i,labelsStyle:r,scrollToNextInterval:g,onWheel:m,onTouchMove:d,onScroll:f,onDragStart:a,onDragEnd:l}}});const uv={class:"oscilloscope-timeline"},dv=bt("div",{class:"oscilloscope-timeline__mouse-resizer"},null,-1),fv=[dv],hv=["width","viewBox"],pv=["points","stroke"];function mv(t,e,n,o,i,r){return Q(),ht("div",uv,[bt("div",{class:"oscilloscope-timeline__list",ref:"labelsRef",style:ee(t.labelsStyle),onScroll:e[0]||(e[0]=(...s)=>t.onScroll&&t.onScroll(...s))},[(Q(!0),ht(Xt,null,pe(t.oscillogram,(s,a)=>{var l;return Q(),ht("div",{key:a,style:ee({color:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`}),class:"oscilloscope-timeline__label"},[bt("label",null,he((l=t.ports[a])==null?void 0:l.name),1)],4)}),128))],36),bt("div",{class:"oscilloscope-timeline__touch-resizer",onTouchstart:e[1]||(e[1]=(...s)=>t.onDragStart&&t.onDragStart(...s)),onTouchmove:e[2]||(e[2]=(...s)=>t.onTouchMove&&t.onTouchMove(...s)),onTouchcancel:e[3]||(e[3]=(...s)=>t.onDragEnd&&t.onDragEnd(...s)),onTouchend:e[4]||(e[4]=(...s)=>t.onDragEnd&&t.onDragEnd(...s)),onMousedown:e[5]||(e[5]=(...s)=>t.onDragStart&&t.onDragStart(...s)),onMouseup:e[6]||(e[6]=(...s)=>t.onDragEnd&&t.onDragEnd(...s))},fv,32),bt("div",{class:"oscilloscope-timeline__display",ref:"timelineRef",onWheel:e[7]||(e[7]=(...s)=>t.onWheel&&t.onWheel(...s)),onScroll:e[8]||(e[8]=(...s)=>t.onScroll&&t.onScroll(...s))},[(Q(!0),ht(Xt,null,pe(t.oscillogram,(s,a)=>(Q(),ht("div",{style:ee({width:`${t.totalWidth}px`}),key:a,class:"oscilloscope-timeline__item"},[bt("div",{style:ee({width:`${s.width}px`}),class:"oscilloscope-timeline__svg"},[(Q(),ht("svg",{width:s.width,viewBox:`0 0 ${s.width} 1`,preserveAspectRatio:"none"},[bt("polyline",{points:s.points,stroke:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`,"stroke-width":"2",fill:"none","vector-effect":"non-scaling-stroke"},null,8,pv)],8,hv))],4)],4))),128))],544)])}const gv=xt(cv,[["render",mv]]),vv=It({name:"OscilloscopeTitleBar",components:{Icon:We},emits:{clear:()=>!0,close:()=>!0,removeAll:()=>!0},props:{clearable:{type:Boolean,default:!0},isRecording:{type:Boolean,default:!0}},setup(){return{faBan:Wl,faClose:wo,faEraser:Df,faTrashCan:Zf}}});const yv={class:"oscilloscope-title-bar"},bv=bt("div",{class:"oscilloscope-title-bar__title"},"Oscilloscope",-1),_v={class:"oscilloscope-title-bar__actions"},wv=["disabled"];function Cv(t,e,n,o,i,r){const s=St("icon");return Q(),ht("div",yv,[bv,bt("div",_v,[bt("button",{class:"oscilloscope-title-bar__button",title:"Remove all observations",onClick:e[0]||(e[0]=a=>t.$emit("removeAll"))},[dt(s,{icon:t.faBan},null,8,["icon"])]),bt("button",{class:"oscilloscope-title-bar__button",title:"Clear oscilloscope",disabled:!t.clearable,onClick:e[1]||(e[1]=a=>t.$emit("clear"))},[dt(s,{icon:t.faEraser},null,8,["icon"])],8,wv),bt("button",{class:"oscilloscope-title-bar__button",title:"Close",onClick:e[2]||(e[2]=a=>t.$emit("close"))},[dt(s,{icon:t.faClose},null,8,["icon"])])])])}const Sv=xt(vv,[["render",Cv]]),Iv=It({name:"OscilloscopeViewer",props:{modelValue:{type:Number,required:!0}},emits:{"update:modelValue":t=>!0},setup(t,{emit:e}){const n=Vt(t.modelValue),o=Vt(),i=Vt();let r=!1;Ue(()=>{window.addEventListener("mousemove",l),window.addEventListener("mouseup",a)}),or(()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",a)});function s(){r=!0}function a(){r=!1}function l(d){if(!r||!o.value)return;const m=o.value.parentElement.parentElement.getBoundingClientRect();n.value=Math.max(50,Math.min(m.height,m.bottom-d.clientY)),e("update:modelValue",n.value)}function u(d){l(d.touches[0])}return{onTouchMove:u,onDragStart:s,onDragEnd:a,height:n,viewer:o,resizer:i}}});const Ev={class:"oscilloscope-viewer"};function xv(t,e,n,o,i,r){return Q(),ht("div",Ev,[bt("div",{class:"oscilloscope-viewer__touch-resizer",ref:"resizer",onTouchstart:e[1]||(e[1]=(...s)=>t.onDragStart&&t.onDragStart(...s)),onTouchmove:e[2]||(e[2]=(...s)=>t.onTouchMove&&t.onTouchMove(...s)),onTouchcancel:e[3]||(e[3]=(...s)=>t.onDragEnd&&t.onDragEnd(...s)),onTouchend:e[4]||(e[4]=(...s)=>t.onDragEnd&&t.onDragEnd(...s))},[bt("div",{class:"oscilloscope-viewer__mouse-resizer",onMousedown:e[0]||(e[0]=(...s)=>t.onDragStart&&t.onDragStart(...s))},null,32)],544),bt("div",{class:"oscilloscope-viewer__inner",ref:"viewer",style:ee({height:`${t.height}px`})},[ue(t.$slots,"default")],4)])}const Ov=xt(Iv,[["render",xv]]),Pv=It({name:"Oscilloscope",components:{OscilloscopeTimeline:gv,OscilloscopeTitleBar:Sv,OscilloscopeViewer:Ov},props:{store:{type:Function,required:!0}},setup(t){const e=t.store(),{oscilloscopeHeight:n,oscilloscopeWidth:o,isOscilloscopeOpen:i,oscillogram:r,items:s,ports:a}=ji(e),{closeOscilloscope:l,destroyOscilloscope:u}=e,d=Kt(()=>Object.keys(e.oscillogram).length>0);function m(){e.oscillator.clear()}return{hasWaves:d,oscillogram:r,items:s,ports:a,oscilloscopeHeight:n,oscilloscopeWidth:o,isOscilloscopeOpen:i,clearOscilloscope:m,closeOscilloscope:l,destroyOscilloscope:u}}}),kv={key:0};function Dv(t,e,n,o,i,r){const s=St("oscilloscope-title-bar"),a=St("oscilloscope-timeline"),l=St("oscilloscope-viewer");return t.isOscilloscopeOpen?(Q(),Mt(l,{key:0,modelValue:t.oscilloscopeHeight,"onUpdate:modelValue":e[1]||(e[1]=u=>t.oscilloscopeHeight=u)},{default:Rt(()=>[dt(s,{clearable:t.hasWaves,onClear:t.clearOscilloscope,onClose:t.closeOscilloscope,onRemoveAll:t.destroyOscilloscope},null,8,["clearable","onClear","onClose","onRemoveAll"]),t.hasWaves?(Q(),Mt(a,{key:1,modelValue:t.oscilloscopeWidth,"onUpdate:modelValue":e[0]||(e[0]=u=>t.oscilloscopeWidth=u),oscillogram:t.oscillogram,items:t.items,ports:t.ports},null,8,["modelValue","oscillogram","items","ports"])):(Q(),ht("div",kv," no waves to observe "))]),_:1},8,["modelValue"])):de("",!0)}const $v=xt(Pv,[["render",Dv]]),Tv=It({name:"StatusBarButton",props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"2em"}}});const Av=["disabled","title"];function zv(t,e,n,o,i,r){return Q(),ht("button",{class:"status-bar-button",disabled:t.disabled,title:t.title,style:ee({width:t.width})},[ue(t.$slots,"default")],12,Av)}const Mv=xt(Tv,[["render",zv]]),Nv=It({name:"StatusBarViewer"});const Bv={class:"status-bar-viewer"},Lv={class:"status-bar-viewer__left"},Rv={class:"status-bar-viewer__right"};function Fv(t,e,n,o,i,r){return Q(),ht("div",Bv,[bt("div",Lv,[ue(t.$slots,"left")]),bt("div",Rv,[ue(t.$slots,"right")])])}const Vv=xt(Nv,[["render",Fv]]),jv=It({name:"StatusBarZoom",components:{Icon:We},props:{zoom:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:200},step:{type:Number,default:10}},setup(t,{emit:e}){const n=Kt(()=>Math.round(t.zoom*100));function o(i){const r=i.target,s=parseFloat(r.value);e("zoom",s/100)}return{onInput:o,value:n}}});const Hv=["step","min","max","value"];function Uv(t,e,n,o,i,r){return Q(),ht("input",{type:"range",class:"status-bar-zoom",step:t.step,min:t.min,max:t.max,value:t.value,onInput:e[0]||(e[0]=(...s)=>t.onInput&&t.onInput(...s))},null,40,Hv)}const Wv=xt(jv,[["render",Uv]]),Gv=It({name:"StatusBar",components:{Icon:We,StatusBarButton:Mv,StatusBarViewer:Vv,StatusBarZoom:Wv},props:{store:{type:Function,required:!0},isFullscreen:{type:Boolean,default:!1}},setup(t){const e=t.store(),n=Kt(()=>e.isPrinting),o=Kt(()=>e.isCreatingImage),i=Kt(()=>Math.round(e.zoomLevel*100));return{store:e,isPrinting:n,isCreatingImage:o,zoomPercent:i,faMinus:Nf,faPlus:Lf,faExpand:$f,faCompress:kf}}}),qv={key:0},Zv={key:1},Kv={key:2};function Xv(t,e,n,o,i,r){const s=St("icon"),a=St("status-bar-button"),l=St("status-bar-zoom"),u=St("status-bar-viewer");return Q(),Mt(u,null,{left:Rt(()=>[t.isPrinting?(Q(),ht("span",qv,"Printing...")):t.isCreatingImage?(Q(),ht("span",Zv,"Rendering image...")):(Q(),ht("span",Kv,"Ready"))]),right:Rt(()=>[dt(a,{title:"Zoom out",disabled:t.store.zoomLevel<=.1,onClick:e[0]||(e[0]=d=>t.store.incrementZoom(-1))},{default:Rt(()=>[dt(s,{icon:t.faMinus},null,8,["icon"])]),_:1},8,["disabled"]),dt(l,{type:"range",class:"status-bar__range",min:0,step:10,max:200,zoom:t.store.zoomLevel,onZoom:e[1]||(e[1]=d=>t.store.setZoom({zoom:d}))},null,8,["zoom"]),dt(a,{title:"Zoom in",disabled:t.store.zoomLevel>=2,onClick:e[2]||(e[2]=d=>t.store.incrementZoom(1))},{default:Rt(()=>[dt(s,{icon:t.faPlus},null,8,["icon"])]),_:1},8,["disabled"]),dt(a,{width:"3em",onClick:e[3]||(e[3]=d=>t.store.setZoom({zoom:1}))},{default:Rt(()=>[Es(he(t.zoomPercent)+"% ",1)]),_:1}),dt(a,{title:"Toggle fullscreen",onClick:e[4]||(e[4]=d=>t.$emit("fullscreen"))},{default:Rt(()=>[dt(s,{icon:t.isFullscreen?t.faCompress:t.faExpand},null,8,["icon"])]),_:1})]),_:1})}const Yv=xt(Gv,[["render",Xv]]);/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Jv={prefix:"far",iconName:"copy",icon:[512,512,[],"f0c5","M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"]},Qv={prefix:"far",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H229.5C246.5 0 262.7 6.743 274.7 18.75L365.3 109.3C377.3 121.3 384 137.5 384 154.5V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM336 448V160H256C238.3 160 224 145.7 224 128V48H64C55.16 48 48 55.16 48 64V448C48 456.8 55.16 464 64 464H320C328.8 464 336 456.8 336 448z"]},t4={prefix:"far",iconName:"floppy-disk",icon:[448,512,[128426,128190,"save"],"f0c7","M224 256c-35.2 0-64 28.8-64 64c0 35.2 28.8 64 64 64c35.2 0 64-28.8 64-64C288 284.8 259.2 256 224 256zM433.1 129.1l-83.9-83.9C341.1 37.06 328.8 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 151.2 442.9 138.9 433.1 129.1zM128 80h144V160H128V80zM400 416c0 8.836-7.164 16-16 16H64c-8.836 0-16-7.164-16-16V96c0-8.838 7.164-16 16-16h16v104c0 13.25 10.75 24 24 24h192C309.3 208 320 197.3 320 184V83.88l78.25 78.25C399.4 163.2 400 164.8 400 166.3V416z"]},e4=t4,n4={prefix:"far",iconName:"folder-open",icon:[576,512,[128449,61717,128194],"f07c","M572.6 270.3l-96 192C471.2 473.2 460.1 480 447.1 480H64c-35.35 0-64-28.66-64-64V96c0-35.34 28.65-64 64-64h117.5c16.97 0 33.25 6.742 45.26 18.75L275.9 96H416c35.35 0 64 28.66 64 64v32h-48V160c0-8.824-7.178-16-16-16H256L192.8 84.69C189.8 81.66 185.8 80 181.5 80H64C55.18 80 48 87.18 48 96v288l71.16-142.3C124.6 230.8 135.7 224 147.8 224h396.2C567.7 224 583.2 249 572.6 270.3z"]},o4={prefix:"far",iconName:"object-group",icon:[576,512,[],"f247","M128 160C128 142.3 142.3 128 160 128H288C305.7 128 320 142.3 320 160V256C320 273.7 305.7 288 288 288H160C142.3 288 128 273.7 128 256V160zM288 320C323.3 320 352 291.3 352 256V224H416C433.7 224 448 238.3 448 256V352C448 369.7 433.7 384 416 384H288C270.3 384 256 369.7 256 352V320H288zM48 115.8C38.18 106.1 32 94.22 32 80C32 53.49 53.49 32 80 32C94.22 32 106.1 38.18 115.8 48H460.2C469 38.18 481.8 32 496 32C522.5 32 544 53.49 544 80C544 94.22 537.8 106.1 528 115.8V396.2C537.8 405 544 417.8 544 432C544 458.5 522.5 480 496 480C481.8 480 469 473.8 460.2 464H115.8C106.1 473.8 94.22 480 80 480C53.49 480 32 458.5 32 432C32 417.8 38.18 405 48 396.2V115.8zM96 125.3V386.7C109.6 391.6 120.4 402.4 125.3 416H450.7C455.6 402.4 466.4 391.6 480 386.7V125.3C466.4 120.4 455.6 109.6 450.7 96H125.3C120.4 109.6 109.6 120.4 96 125.3z"]},i4={prefix:"far",iconName:"object-ungroup",icon:[640,512,[],"f248","M64 0C90.86 0 113.9 16.55 123.3 40H324.7C334.1 16.55 357.1 0 384 0C419.3 0 448 28.65 448 64C448 90.86 431.5 113.9 408 123.3V228.7C431.5 238.1 448 261.1 448 288C448 323.3 419.3 352 384 352C357.1 352 334.1 335.5 324.7 312H123.3C113.9 335.5 90.86 352 64 352C28.65 352 0 323.3 0 288C0 261.1 16.55 238.1 40 228.7V123.3C16.55 113.9 0 90.86 0 64C0 28.65 28.65 0 64 0V0zM64 80C72.84 80 80 72.84 80 64C80 56.1 74.28 49.54 66.75 48.24C65.86 48.08 64.94 48 64 48C55.16 48 48 55.16 48 64C48 64.07 48 64.14 48 64.21C48.01 65.07 48.09 65.92 48.24 66.75C49.54 74.28 56.1 80 64 80zM384 48C383.1 48 382.1 48.08 381.2 48.24C373.7 49.54 368 56.1 368 64C368 72.84 375.2 80 384 80C391.9 80 398.5 74.28 399.8 66.75C399.9 65.86 400 64.94 400 64C400 55.16 392.8 48 384 48V48zM324.7 88H123.3C116.9 104 104 116.9 88 123.3V228.7C104 235.1 116.9 247.1 123.3 264H324.7C331.1 247.1 343.1 235.1 360 228.7V123.3C343.1 116.9 331.1 104 324.7 88zM400 288C400 287.1 399.9 286.1 399.8 285.2C398.5 277.7 391.9 272 384 272C375.2 272 368 279.2 368 288C368 295.9 373.7 302.5 381.2 303.8C382.1 303.9 383.1 304 384 304C392.8 304 400 296.8 400 288zM64 272C56.1 272 49.54 277.7 48.24 285.2C48.08 286.1 48 287.1 48 288C48 296.8 55.16 304 64 304L64.22 303.1C65.08 303.1 65.93 303.9 66.75 303.8C74.28 302.5 80 295.9 80 288C80 279.2 72.84 272 64 272zM471.3 248C465.8 235.9 457.8 225.2 448 216.4V200H516.7C526.1 176.5 549.1 160 576 160C611.3 160 640 188.7 640 224C640 250.9 623.5 273.9 600 283.3V388.7C623.5 398.1 640 421.1 640 448C640 483.3 611.3 512 576 512C549.1 512 526.1 495.5 516.7 472H315.3C305.9 495.5 282.9 512 256 512C220.7 512 192 483.3 192 448C192 421.1 208.5 398.1 232 388.7V352H280V388.7C296 395.1 308.9 407.1 315.3 424H516.7C523.1 407.1 535.1 395.1 552 388.7V283.3C535.1 276.9 523.1 264 516.7 248H471.3zM592 224C592 215.2 584.8 208 576 208C575.1 208 574.1 208.1 573.2 208.2C565.7 209.5 560 216.1 560 224C560 232.8 567.2 240 576 240C583.9 240 590.5 234.3 591.8 226.8C591.9 225.9 592 224.9 592 224zM240 448C240 456.8 247.2 464 256 464C256.9 464 257.9 463.9 258.8 463.8C266.3 462.5 272 455.9 272 448C272 439.2 264.8 432 256 432C248.1 432 241.5 437.7 240.2 445.2C240.1 446.1 240 447.1 240 448zM573.2 463.8C574.1 463.9 575.1 464 576 464C584.8 464 592 456.8 592 448C592 447.1 591.9 446.2 591.8 445.3L591.8 445.2C590.5 437.7 583.9 432 576 432C567.2 432 560 439.2 560 448C560 455.9 565.7 462.5 573.2 463.8V463.8z"]},r4={prefix:"far",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M502.6 198.6l-61.25-61.25C435.4 131.4 427.3 128 418.8 128H256C220.7 128 191.1 156.7 192 192l.0065 255.1C192 483.3 220.7 512 256 512h192c35.2 0 64-28.8 64-64l.0098-226.7C512 212.8 508.6 204.6 502.6 198.6zM464 448c0 8.836-7.164 16-16 16h-192c-8.838 0-16-7.164-16-16L240 192.1c0-8.836 7.164-16 16-16h128L384 224c0 17.67 14.33 32 32 32h48.01V448zM317.7 96C310.6 68.45 285.8 48 256 48H215.2C211.3 20.93 188.1 0 160 0C131.9 0 108.7 20.93 104.8 48H64c-35.35 0-64 28.65-64 64V384c0 35.34 28.65 64 64 64h96v-48H64c-8.836 0-16-7.164-16-16V112C48 103.2 55.18 96 64 96h16v16c0 17.67 14.33 32 32 32h61.35C190 115.4 220.6 96 256 96H317.7zM160 72c-8.822 0-16-7.176-16-16s7.178-16 16-16s16 7.176 16 16S168.8 72 160 72z"]},s4={prefix:"far",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M200 344V280H136C122.7 280 112 269.3 112 256C112 242.7 122.7 232 136 232H200V168C200 154.7 210.7 144 224 144C237.3 144 248 154.7 248 168V232H312C325.3 232 336 242.7 336 256C336 269.3 325.3 280 312 280H248V344C248 357.3 237.3 368 224 368C210.7 368 200 357.3 200 344zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]},a4=s4;const l4=It({name:"ToolbarButton",components:{Icon:We},data(){return{faUser:Kf}},emits:{click:t=>!0},props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isToolbox:{type:Boolean,default:!1},icon:{type:Object,default:null},text:{type:String,default:""}},setup(t,{emit:e}){function n(o){o.stopPropagation(),o.preventDefault(),t.disabled||e("click",o)}return{onClick:n}}});const c4={class:"toolbar-button__text"};function u4(t,e,n,o,i,r){const s=St("icon");return Q(),ht("button",{tabindex:0,class:Qt([{"toolbar-button--active":t.active&&!t.isToolbox,"toolbar-button--toolbox":t.active&&t.isToolbox,"toolbar-button--disabled":t.disabled},"toolbar-button"]),role:"button",onClick:e[0]||(e[0]=(...a)=>t.onClick&&t.onClick(...a))},[t.icon?(Q(),Mt(s,{key:0,icon:t.icon,class:"toolbar-button__icon"},null,8,["icon"])):(Q(),Mt(s,{key:1,icon:t.faUser,class:"toolbar-button__icon"},null,8,["icon"])),bt("div",c4,he(t.text),1)],2)}const d4=xt(l4,[["render",u4]]),f4=It({name:"ToolbarSeparator"});const h4={class:"toolbar-separator"};function p4(t,e,n,o,i,r){return Q(),ht("div",h4)}const m4=xt(f4,[["render",p4]]),g4=It({name:"ScrollFade",components:{Resizable:Ls},props:{hideScrollbar:{type:Boolean,default:!1}},setup(){const t="transparent, black var(--mask-width)",e="black calc(100% - var(--mask-width)), transparent",n=Vt(),o=Vt("");function i(s){const{scrollWidth:a,scrollLeft:l,clientWidth:u}=s;if(a>u){const d=[];return l>0&&d.push(t),l+u<a&&d.push(e),o.value=d.join(", "),d.join(", ")}return"transparent transparent"}function r(){n.value&&(o.value=i(n.value.$el))}return{onChange:r,gradientStyle:o,scroll:n}}});function v4(t,e,n,o,i,r){const s=St("resizable");return Q(),Mt(s,{ref:"scroll",class:Qt(["scroll-fade",{"scrollbar-fade--show-scrollbar":!t.hideScrollbar}]),style:ee(`--mask-image-content: linear-gradient(to right, ${t.gradientStyle})`),onScroll:t.onChange,onResize:t.onChange},{default:Rt(()=>[ue(t.$slots,"default")]),_:3},8,["class","style","onScroll","onResize"])}const Rs=xt(g4,[["render",v4]]),y4=It({name:"Toolbar",components:{ToolbarButton:d4,ToolbarSeparator:m4,ScrollFade:Rs},data(){return{faScrewdriverWrench:Wf,faFolderOpen:n4,faFile:Qv,faSave:e4,faScissors:Uf,faCopy:Jv,faPaste:r4,faObjectGroup:o4,faObjectUngroup:i4,faRotateBackward:Vf,faRotateForward:Hf,faReply:Rf,faShare:Gf,faMicrochip:$s,faBan:Wl,faArrowsRotate:xf,faBug:Pf,faForwardStep:Tf,faWaveSquare:Yf}},props:{store:{type:Function,required:!0}},setup(t){const e=Xn(),n=t.store();return{rootStore:e,documentStore:n}}});const b4={class:"toolbar"},_4={class:"toolbar__fixed"},w4={class:"toolbar__left"},C4={class:"toolbar__right"};function S4(t,e,n,o,i,r){const s=St("toolbar-button"),a=St("toolbar-separator"),l=St("scroll-fade");return Q(),ht("div",b4,[bt("div",_4,[dt(s,{icon:t.faScrewdriverWrench,text:"Toolbox","is-toolbox":"",onClick:t.rootStore.toggleToolbox,active:t.rootStore.isToolboxOpen},null,8,["icon","onClick","active"]),dt(a)]),dt(l,{class:"toolbar__scrollable"},{default:Rt(()=>[bt("div",w4,[dt(s,{icon:t.faFolderOpen,text:"Open"},null,8,["icon"]),dt(s,{icon:t.faFile,text:"New"},null,8,["icon"]),dt(s,{icon:t.faSave,text:"Save"},null,8,["icon"]),dt(a),dt(s,{onClick:t.documentStore.undo,disabled:!t.documentStore.canUndo,icon:t.faReply,text:"Undo"},null,8,["onClick","disabled","icon"]),dt(s,{onClick:t.documentStore.redo,disabled:!t.documentStore.canRedo,icon:t.faShare,text:"Redo"},null,8,["onClick","disabled","icon"]),dt(a),dt(s,{onClick:e[0]||(e[0]=u=>t.documentStore.rotate(1)),disabled:!t.documentStore.hasSelectedItems,icon:t.faRotateForward,text:"Rotate"},null,8,["disabled","icon"]),dt(a),dt(s,{onClick:t.documentStore.group,disabled:!t.documentStore.canGroup,icon:t.faObjectGroup,text:"Group"},null,8,["onClick","disabled","icon"]),dt(s,{onClick:t.documentStore.ungroup,disabled:!t.documentStore.canUngroup,icon:t.faObjectUngroup,text:"Ungroup"},null,8,["onClick","disabled","icon"]),dt(a),dt(s,{onClick:e[1]||(e[1]=u=>t.rootStore.invokeClipboardAction("cut")),icon:t.faScissors,disabled:!t.documentStore.hasSelectedItems,text:"Cut"},null,8,["icon","disabled"]),dt(s,{onClick:e[2]||(e[2]=u=>t.rootStore.invokeClipboardAction("copy")),icon:t.faCopy,disabled:!t.documentStore.hasSelectedItems,text:"Copy"},null,8,["icon","disabled"]),dt(s,{onClick:e[3]||(e[3]=u=>t.rootStore.invokeClipboardAction("paste")),disabled:!t.rootStore.canPaste,icon:t.faPaste,text:"Paste"},null,8,["disabled","icon"]),dt(s,{onClick:t.documentStore.deleteSelection,disabled:!t.documentStore.canDelete,icon:t.faBan,text:"Delete"},null,8,["onClick","disabled","icon"]),dt(a),dt(s,{onClick:t.rootStore.launchIntegratedCircuitBuilder,icon:t.faMicrochip,text:"Export"},null,8,["onClick","icon"])]),bt("div",C4,[dt(s,{icon:t.faBug,active:t.documentStore.isDebugging,onClick:e[4]||(e[4]=u=>t.documentStore.toggleDebugger()),text:"Debug"},null,8,["icon","active"]),dt(a),dt(s,{icon:t.faArrowsRotate,onClick:t.documentStore.resetCircuit,text:"Reset"},null,8,["icon","onClick"]),dt(s,{icon:t.faForwardStep,disabled:!t.documentStore.isDebugging||t.documentStore.isCircuitEvaluated,onClick:t.documentStore.advanceSimulation,text:"Next"},null,8,["icon","disabled","onClick"]),dt(a),dt(s,{icon:t.faWaveSquare,disabled:t.documentStore.isDebugging,active:!t.documentStore.isDebugging&&t.documentStore.isOscilloscopeOpen,onClick:t.documentStore.toggleOscilloscope,text:"Analyze"},null,8,["icon","disabled","active","onClick"])])]),_:1})])}const I4=xt(y4,[["render",S4]]),E4=It({name:"ToolboxItem",components:{CircuitComponent:hc,Draggable:fr,Resizable:Ls},emits:{drop:(t,e)=>!0},props:{factory:{type:Function,required:!0},zoom:{type:Number,default:1}},setup(t,{emit:e}){const n=Vt(),o=Vt(!1),i=Vt(1),{item:r,ports:s}=t.factory(),a={selectable:new DOMRect,preview:new DOMRect};let l=null;function u(f,v){if(i.value!==1)return;a[v]=f;const p=a.selectable,y=a.preview,b=Math.max(p.width/y.width,p.height/y.height);i.value=Math.min(1/b,1)}function d(){var v;const f=a.selectable;l=(v=n.value)==null?void 0:v.$el.cloneNode(!0),l.style.position="absolute",l.style.zoom=`${t.zoom}`,l.style.width=`${f.width}px`,l.style.height=`${f.height}px`,o.value=!0,navigator.vibrate(20)}function m({x:f,y:v}){if(!l)return d();document.body.contains(l)||document.body.appendChild(l);const{width:p,height:y}=l.getBoundingClientRect();l.style.left=`${(f-p/2*t.zoom)/t.zoom}px`,l.style.top=`${(v-y/2*t.zoom)/t.zoom}px`}function g(f){l&&(l.remove(),l=null,o.value=!1,e("drop",t.factory,f))}return{onDragStart:d,onDrag:m,onDragEnd:g,onSizeChanged:u,item:r,ports:s,zoom:i,selectable:n,isDragging:o}}});const x4={class:"toolbox-item__parent"},O4={class:"toolbox-item__label"};function P4(t,e,n,o,i,r){const s=St("circuit-component"),a=St("resizable"),l=St("draggable");return Q(),Mt(l,{class:"toolbox-item",tabindex:0,onDragStart:t.onDragStart,onDrag:t.onDrag,onDragEnd:t.onDragEnd,onClick:e[2]||(e[2]=u=>t.$emit("drop",t.factory))},{default:Rt(()=>[bt("div",x4,[dt(a,{class:"toolbox-item__preview",ref:"preview",onResize:e[1]||(e[1]=u=>t.onSizeChanged(u,"preview"))},{default:Rt(()=>[dt(a,{class:"toolbox-item__inner",ref:"selectable",style:ee({zoom:t.zoom}),onResize:e[0]||(e[0]=u=>t.onSizeChanged(u,"selectable"))},{default:Rt(()=>[dt(s,{type:t.item.type,subtype:t.item.subtype,ports:t.ports,properties:t.item.properties},null,8,["type","subtype","ports","properties"])]),_:1},8,["style"])]),_:1},512)]),bt("div",O4,he(t.item.defaultName||t.item.subtype),1)]),_:1},8,["onDragStart","onDrag","onDragEnd"])}const k4=xt(E4,[["render",P4]]),D4=It({name:"Toolbox",components:{ScrollFade:Rs},props:{isOpen:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=Vt(null),o=Vt(null),i=Kt(()=>Object.keys(e)),r=Kt(()=>{var a;return t.isOpen?(a=o.value)==null?void 0:a.scrollHeight:0});function s(a){n.value=a}return s(i.value[0]),{categories:i,selected:n,select:s,height:r,toolbox:o}}});const $4=["onClick"];function T4(t,e,n,o,i,r){const s=St("scroll-fade");return Q(),ht("div",{ref:"toolbox",class:Qt(["toolbox-layout",{"toolbox-layout--open":t.isOpen}]),style:ee({height:`${t.height}px`})},[dt(s,{class:"toolbox-layout__categories","hide-scrollbar":!0},{default:Rt(()=>[(Q(!0),ht(Xt,null,pe(t.categories,a=>(Q(),ht("div",{class:Qt(["toolbox-layout__badge",{"toolbox-layout__badge--active":a===t.selected}]),key:a,onClick:l=>t.select(a)},he(a),11,$4))),128))]),_:1}),dt(s,{class:"toolbox-layout__items"},{default:Rt(()=>[ue(t.$slots,t.selected)]),_:3})],6)}const A4=xt(D4,[["render",T4]]),$c=(t,e,n,o={})=>{const i=me(),r={[Ft.Left]:[],[Ft.Top]:[],[Ft.Bottom]:[],[Ft.Right]:[qo(i,me(),Ft.Right,ye.Output)]},s=dr(i,Oe.InputNode,t,e,n,r);return s.properties={...s.properties,...o,startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},{item:s,ports:r}},z4=()=>$c(re.Clock,60,60,{interval:{label:"Interval",value:1e3,type:"number",min:100,step:100}});function M4(){const t=me(),e={[Ft.Left]:[qo(t,me(),Ft.Left,ye.Input)],[Ft.Top]:[],[Ft.Bottom]:[],[Ft.Right]:[]};return{item:dr(t,Oe.OutputNode,re.Lightbulb,40,40,e),ports:e}}function so(t,e,n,o=2){const i=me(),r={[Ft.Top]:[],[Ft.Left]:Array(o).fill("").map(()=>qo(i,me(),Ft.Left,ye.Input)),[Ft.Bottom]:[],[Ft.Right]:[qo(i,me(),Ft.Right,ye.Output)]},s=dr(i,Oe.LogicGate,t,e,n,r);return s.properties={...s.properties,inputCount:{label:"Input count",value:o,type:"number",min:o}},{item:s,ports:r}}const N4={[Oe.InputNode]:{[re.Switch]:$c.bind(void 0,re.Switch,60,60),[re.Clock]:z4},[Oe.OutputNode]:{[re.Lightbulb]:M4},[Oe.LogicGate]:{[re.And]:so.bind(void 0,re.And,140,50),[re.Nand]:so.bind(void 0,re.Nand,140,50),[re.Xnor]:so.bind(void 0,re.Xnor,140,50),[re.Nor]:so.bind(void 0,re.Nor,140,50),[re.Or]:so.bind(void 0,re.Or,140,50),[re.Not]:so.bind(void 0,re.Not,140,50,1)}},B4=It({name:"Toolbox",components:{ScrollFade:Rs,ToolboxItem:k4,ToolboxLayout:A4},props:{store:{type:Function,required:!0},isOpen:{type:Boolean,default:!1}},setup(t){const e=t.store(),n=Ms(),o=Kt(()=>e.zoom),i=Kt(()=>n.factories);function r(s,a){e.insertItemAtPosition(s(),a)}return{factories:{...N4,[Oe.IntegratedCircuit]:i.value},zoom:o,onDrop:r}}});function L4(t,e,n,o,i,r){const s=St("toolbox-item"),a=St("toolbox-layout");return Q(),Mt(a,{"is-open":t.isOpen},ws({_:2},[pe(t.factories,(l,u)=>({name:u,fn:Rt(()=>[(Q(!0),ht(Xt,null,pe(l,(d,m)=>(Q(),Mt(s,{factory:d,key:m,label:m,zoom:t.zoom,onDrop:t.onDrop},null,8,["factory","label","zoom","onDrop"]))),128))])}))]),1032,["is-open"])}const R4=xt(B4,[["render",L4]]),F4=It({name:"MainView",props:{isBlurred:{type:Boolean,default:!1}}});const V4={class:"main-view__top"},j4={class:"main-view__middle"},H4={class:"main-view__bottom"};function U4(t,e,n,o,i,r){return Q(),ht("div",{class:Qt(["main-view",{"main-view--blurred":t.isBlurred}])},[bt("div",V4,[ue(t.$slots,"top")]),bt("div",j4,[ue(t.$slots,"middle")]),bt("div",H4,[ue(t.$slots,"bottom")])],2)}const W4=xt(F4,[["render",U4]]),G4=It({components:{Icon:We},name:"MobileFileName",emits:{close:()=>!0},props:{label:{type:String,required:!0},icon:{type:Object,required:!0},closable:{type:Boolean,default:!0}},setup(){return{faClose:wo}}});const q4={class:"mobile-popout-menu-item"},Z4={class:"mobile-popout-menu-item__label"};function K4(t,e,n,o,i,r){const s=St("icon");return Q(),ht("div",q4,[dt(s,{icon:t.icon,class:"mobile-popout-menu-item__icon"},null,8,["icon"]),bt("div",Z4,he(t.label),1),t.closable?(Q(),Mt(s,{key:0,icon:t.faClose,class:"mobile-popout-menu-item__icon",onClick:e[0]||(e[0]=a=>t.$emit("close"))},null,8,["icon"])):de("",!0)])}const Tc=xt(G4,[["render",K4]]),X4=It({components:{MobilePopoutMenuItem:Tc},name:"MobileDocumentTabItem",emits:{activate:()=>!0,close:()=>!0},props:{label:{type:String,required:!0},dirty:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},setup(){return{faMicrochip:$s}}});function Y4(t,e,n,o,i,r){const s=St("mobile-popout-menu-item");return Q(),Mt(s,{label:`${t.label}${t.dirty?"*":""}`,icon:t.faMicrochip,active:t.active,onClick:e[0]||(e[0]=a=>t.$emit("activate")),onClose:e[1]||(e[1]=a=>t.$emit("close"))},null,8,["label","icon","active"])}const J4=xt(X4,[["render",Y4]]),Q4=It({components:{Icon:We},name:"MobileHeader",emits:{select:()=>!0,open:()=>!0},props:{documentName:{type:String,required:!0},documentCount:{type:Number,default:1}},setup(){return{faBars:Of,faPlusSquare:a4}}});const ty={class:"mobile-header"},ey={class:"mobile-header__heading"};function ny(t,e,n,o,i,r){const s=St("icon");return Q(),ht("div",ty,[bt("div",{class:"mobile-header__button",onClick:e[0]||(e[0]=a=>t.$emit("open"))},[dt(s,{icon:t.faBars},null,8,["icon"])]),bt("div",ey,[bt("span",{class:"mobile-header__document-name",onClick:e[1]||(e[1]=a=>t.$emit("select"))},he(t.documentName),1),t.documentCount>1?(Q(),ht("span",{key:0,class:"mobile-header__badge",onClick:e[2]||(e[2]=a=>t.$emit("select"))},he(t.documentCount),1)):de("",!0)])])}const oy=xt(Q4,[["render",ny]]),iy=It({name:"MobilePopoutMenu",props:{modelValue:{type:Boolean,required:!0}}});const ry={key:0,class:"mobile-popout-menu"},sy={class:"mobile-popout-menu__content"};function ay(t,e,n,o,i,r){return Q(),Mt(Xo,{name:"mobile-popout-menu"},{default:Rt(()=>[t.modelValue?(Q(),ht("div",ry,[bt("div",{class:"mobile-popout-menu__overlay",onClick:e[0]||(e[0]=Tn(s=>t.$emit("update:modelValue",!1),["self"]))},[bt("div",sy,[ue(t.$slots,"default")])])])):de("",!0)]),_:3})}const ly=xt(iy,[["render",ay]]),cy=It({name:"MobilePullout",props:{modelValue:{type:Boolean,required:!0}}});const uy={key:0,class:"mobile-pullout"},dy={class:"mobile-pullout__content"};function fy(t,e,n,o,i,r){return Q(),Mt(Xo,{name:"mobile-pullout"},{default:Rt(()=>[t.modelValue?(Q(),ht("div",uy,[bt("div",{class:"mobile-pullout__overlay",onClick:e[0]||(e[0]=s=>t.$emit("update:modelValue",!1))}),bt("div",dy,[ue(t.$slots,"default")])])):de("",!0)]),_:3})}const hy=xt(cy,[["render",fy]]),py=It({name:"MobilePulloutHeading",components:{Icon:We},props:{version:{type:String,default:"1.0.0"}},emits:{close:()=>!0},setup(){return{faClose:wo}}}),my="/web/assets/logo-a680abc5.svg";const gy={class:"mobile-pullout-heading"},vy=bt("img",{src:my,class:"mobile-pullout-heading__logo"},null,-1),yy={class:"mobile-pullout-heading__brand"},by=bt("div",{class:"mobile-pullout-heading__title"}," Aristotle ",-1),_y={class:"mobile-pullout-heading__subtitle"};function wy(t,e,n,o,i,r){const s=St("icon");return Q(),ht("div",gy,[vy,bt("div",yy,[by,bt("div",_y," v"+he(t.version),1)]),dt(s,{icon:t.faClose,class:"mobile-pullout-heading__close",onClick:e[0]||(e[0]=a=>t.$emit("close"))},null,8,["icon"])])}const Cy=xt(py,[["render",wy]]),Sy=It({name:"TabItem",components:{Icon:We},props:{active:{type:Boolean,default:!1},label:{type:String,required:!0},dirty:{type:Boolean,default:!1}},setup(){return{faClose:wo,faCodeBranch:ql}}});const Iy={class:"tab-item__icon"},Ey={class:"tab-item__label"};function xy(t,e,n,o,i,r){const s=St("icon");return Q(),ht("div",{class:Qt([{"tab-item--active":t.active,"tab-item--dirty":t.dirty},"tab-item"]),onMousedown:e[1]||(e[1]=a=>t.$emit("activate")),onTouchstart:e[2]||(e[2]=a=>t.$emit("activate"))},[bt("div",Iy,[dt(s,{icon:t.faCodeBranch},null,8,["icon"])]),bt("div",Ey,he(t.label)+he(t.dirty?"*":""),1),bt("div",{class:"tab-item__icon tab-item__icon--close",onClick:e[0]||(e[0]=Tn(a=>t.$emit("close"),["stop"]))},[dt(s,{icon:t.faClose},null,8,["icon"])])],34)}const Oy=xt(Sy,[["render",xy]]),Py=It({name:"TabHost"});const ky={class:"tab-host"},Dy={class:"tab-host__list"};function $y(t,e,n,o,i,r){return Q(),ht("div",ky,[bt("div",Dy,[ue(t.$slots,"tabs")]),ue(t.$slots,"default")])}const Ty=xt(Py,[["render",$y]]),Ay=It({name:"Theme",props:{dark:{type:Boolean,default:!1}}});function zy(t,e,n,o,i,r){return Q(),ht("div",{class:Qt(["theme",{"theme--dark":t.dark}])},[ue(t.$slots,"default")],2)}const My=xt(Ay,[["render",zy]]);function Ny(){var r;const t=Xn(),e=t.activeDocumentId!==null,n=Object.keys(t.documents),o=(r=t.activeDocument)==null?void 0:r.store(),i=[{label:"&New Circuit",accelerator:"CommandOrControl+N",click:t.newDocument},{type:"separator"},{label:"&Open Circuit",accelerator:"CommandOrControl+O",click:t.selectDocument},{label:"Open &Integrated Circuit",accelerator:"CommandOrControl+Shift+O",click:t.selectDocument},{type:"separator"},{label:"Save",enabled:e,accelerator:"CommandOrControl+S",click:()=>t.saveActiveDocument()},{label:"Save As...",enabled:e,accelerator:"CommandOrControl+Shift+S",click:()=>t.saveActiveDocument(!0)},{label:"Save All",enabled:e,accelerator:"CommandOrControl+Shift+A",click:()=>console.log("root store save all")},{type:"separator"},{label:"Print",enabled:e,accelerator:"CommandOrControl+P",click:()=>o==null?void 0:o.print()},{type:"separator"},{label:"Export...",enabled:e,submenu:[{label:"Integrated Circuit",accelerator:"CommandOrControl+Shift+E",click:()=>console.log("export IC")},{label:"PNG Image",accelerator:"CommandOrControl+Shift+I",click:()=>o==null?void 0:o.createImage()}]},{type:"separator"},{label:"Preferences",submenu:[{label:"Global Preferences",accelerator:"CommandOrControl+,",click:()=>console.log("global prefs")},{label:"Document Preferences",accelerator:"CommandOrControl+Shift+,",click:()=>console.log("doc prefs")}]}];if(Object.keys(t.documents).length>1){const s=[{label:"Previous File",accelerator:"Ctrl+Shift+Tab",click:()=>t.switchDocument(-1)},{label:"Next File",accelerator:"Ctrl+Tab",click:()=>t.switchDocument(1)},{type:"separator"}];for(let a=0;a<n.length;a++)s.push({type:"checkbox",label:t.documents[n[a]].displayName,checked:t.activeDocumentId===n[a],click:()=>t.activateDocument(n[a])});i.push({type:"separator"}),i.push({label:"Switch to...",submenu:s})}return i.push({type:"separator"}),i.push({label:"Close Document",accelerator:"CmdOrCtrl+W",enabled:e,click:()=>t.closeDocument(t.activeDocumentId)}),i.push({type:"separator"}),i.push({label:"Exit",accelerator:"CmdOrCtrl+Q",click:()=>window.close()}),i}function By(t){const e=t(),n=[];let o=!1;for(let r=1;r<=8;r++){const s=r*25/100,a=e.zoomLevel===s;o=o||a,n.push({type:"checkbox",checked:a,label:`${s*100}%`,accelerator:s===1?"CommandOrControl+0":void 0,click:()=>e.setZoom({zoom:s})})}return o||n.unshift({type:"checkbox",checked:!0,label:"Custom"}),[{label:"&Zoom In",accelerator:"CommandOrControl+=",enabled:e.zoomLevel<2,click:()=>e.incrementZoom(1)},{label:"&Zoom Out",accelerator:"CommandOrControl+-",enabled:e.zoomLevel>.1,click:()=>e.incrementZoom(-1)},{label:"&Zoom...",submenu:n},{type:"separator"},{label:"&Pan to Center",accelerator:"CommandOrControl+;",click:e.panToCenter},{type:"separator"}].concat(xc(t))}function Ly(){const t=Xn();if(t.isDialogOpen)return[{label:"File",submenu:[{label:"Exit"}]}];const e=[{label:"File",submenu:Ny()}];return t.activeDocument&&(e.push({label:"Edit",submenu:Ec(t.activeDocument.store)}),e.push({label:"View",submenu:By(t.activeDocument.store).concat([{type:"separator"},{type:"checkbox",click:t.toggleFullscreen,checked:t.isFullscreen,accelerator:"F11",label:"Fullscreen"}])})),e.push({label:"Help",role:"help",submenu:[]}),e}const Ry=It({name:"App",components:{BuilderView:qh,Document:N2,Oscilloscope:$v,MainView:W4,MobileDocumentTabItem:J4,MobileHeader:oy,MobilePopoutMenu:ly,MobilePopoutMenuItem:Tc,MobilePreferences:lv,MobilePullout:hy,MobilePulloutHeading:Cy,StatusBar:Yv,TabItem:Oy,TabHost:Ty,Theme:My,Toolbar:I4,Toolbox:R4},setup(){const t=Xn(),{colorStyles:e,experience:n}=ji(Kn()),{activeDocument:o,activeDocumentId:i,documents:r,hasOpenDocuments:s,isFullscreen:a,isDialogOpen:l,isBuilderOpen:u,isToolboxOpen:d,isSettingsOpen:m,isDocumentSelectOpen:g}=ji(t),f=Vt(!1);s.value||t.openTestDocuments(),Ri(()=>window.api.setApplicationMenu(Ly())),Ri(()=>{document.title=t.activeDocument?`${t.activeDocument.displayName} - Aristotle`:"Aristotle"}),window.api.onBeforeClose(t.closeAll),window.api.onOpenFile(t.openDocumentFromPath),Ue(()=>{document.addEventListener("keydown",P),document.addEventListener("dragover",y),document.addEventListener("dragleave",S),document.addEventListener("drop",b),document.addEventListener("cut",p("cut")),document.addEventListener("copy",p("copy")),document.addEventListener("paste",p("paste")),window.addEventListener("focus",t.checkPastability)}),qn(()=>{document.removeEventListener("keydown",P),document.removeEventListener("dragover",y),document.removeEventListener("dragleave",S),document.removeEventListener("drop",b),document.removeEventListener("cut",p("cut")),document.removeEventListener("copy",p("copy")),document.removeEventListener("paste",p("paste")),window.removeEventListener("focus",t.checkPastability)});let v=0;function p(N){return function(H){if(!(H.target instanceof HTMLInputElement)){if(v)return;v=requestAnimationFrame(()=>{v=0,t.invokeClipboardAction(N),cancelAnimationFrame(v)})}t.checkPastability()}}function y(N){N.stopPropagation(),N.preventDefault(),N.dataTransfer&&(N.dataTransfer.dropEffect="copy"),f.value=!0}async function b(N){var L;N.stopPropagation(),N.preventDefault();const H=(L=N.dataTransfer)==null?void 0:L.files;if(H)for(let D=0;D<H.length;D++)await t.openDocumentFromPath(H[D].path);f.value=!1}function S(){f.value=!1}function P(N){N.ctrlKey&&N.key.toUpperCase()==="R"&&window.location.reload()}function A(){window.api.showContextMenu([])}return{faFile:Zl,activeDocument:o,activeDocumentId:i,documents:r,colorStyles:e,experience:n,hasOpenDocuments:s,isDropping:f,isFullscreen:a,isDialogOpen:l,isBuilderOpen:u,isToolboxOpen:d,isSettingsOpen:m,isDocumentSelectOpen:g,onContextMenu:A,toggleFullscreen:t.toggleFullscreen,activateDocument:t.activateDocument,closeDocument:t.closeDocument,switchDocument:t.switchDocument,openIntegratedCircuit:t.openIntegratedCircuit}},data(){return{horizontal:!1,lastPosition:0,toolboxWidth:20,oscilloscopeHeight:80,isMobile:Dc}}});const Fy={key:1};function Vy(t,e,n,o,i,r){const s=St("mobile-header"),a=St("mobile-pullout-heading"),l=St("mobile-preferences"),u=St("mobile-pullout"),d=St("mobile-document-tab-item"),m=St("mobile-popout-menu"),g=St("toolbar"),f=St("toolbox"),v=St("tab-item"),p=St("document"),y=St("oscilloscope"),b=St("tab-host"),S=St("status-bar"),P=St("main-view"),A=St("builder-view"),N=St("theme");return Q(),Mt(N,{dark:t.experience.darkMode.value,style:ee(t.colorStyles)},{default:Rt(()=>[bt("div",{class:Qt(["app__dropzone",{"app__dropzone--active":t.isDropping}])},null,2),t.activeDocumentId&&t.activeDocument?(Q(),Mt(P,{key:0,"is-blurred":t.isDialogOpen},{top:Rt(()=>[t.isMobile?(Q(),ht(Xt,{key:0},[dt(s,{onSelect:e[0]||(e[0]=H=>t.isDocumentSelectOpen=!0),onOpen:e[1]||(e[1]=H=>t.isSettingsOpen=!0),"document-name":t.activeDocument.displayName,"document-count":3},null,8,["document-name"]),dt(u,{modelValue:t.isSettingsOpen,"onUpdate:modelValue":e[3]||(e[3]=H=>t.isSettingsOpen=H)},{default:Rt(()=>[dt(a,{onClose:e[2]||(e[2]=H=>t.isSettingsOpen=!1)}),dt(l)]),_:1},8,["modelValue"]),dt(m,{modelValue:t.isDocumentSelectOpen,"onUpdate:modelValue":e[4]||(e[4]=H=>t.isDocumentSelectOpen=H)},{default:Rt(()=>[(Q(!0),ht(Xt,null,pe(t.documents,(H,L)=>(Q(),Mt(d,{key:L,label:H.displayName,dirty:H.store().isDirty,active:t.activeDocumentId===L,onActivate:D=>t.activateDocument(L),onClose:D=>t.closeDocument(L)},null,8,["label","dirty","active","onActivate","onClose"]))),128))]),_:1},8,["modelValue"])],64)):de("",!0),(Q(),Mt(g,{key:t.activeDocumentId,store:t.activeDocument.store,onContextmenu:t.onContextMenu},null,8,["store","onContextmenu"])),dt(f,{"is-open":t.isToolboxOpen,store:t.activeDocument.store,onContextmenu:t.onContextMenu},null,8,["is-open","store","onContextmenu"])]),middle:Rt(()=>[dt(b,null,ws({default:Rt(()=>[(Q(),Mt(p,{key:t.activeDocumentId,store:t.activeDocument.store,onSwitch:t.switchDocument,onOpenIntegratedCircuit:t.openIntegratedCircuit},null,8,["store","onSwitch","onOpenIntegratedCircuit"])),(Q(),Mt(y,{key:t.activeDocumentId,store:t.activeDocument.store,onContextmenu:t.onContextMenu},null,8,["store","onContextmenu"]))]),_:2},[t.isMobile?void 0:{name:"tabs",fn:Rt(()=>[(Q(!0),ht(Xt,null,pe(t.documents,(H,L)=>(Q(),Mt(v,{key:L,label:H.displayName,active:t.activeDocumentId===L,dirty:H.store().isDirty,onActivate:D=>t.activateDocument(L),onClose:D=>t.closeDocument(L),onContextmenu:t.onContextMenu},null,8,["label","active","dirty","onActivate","onClose","onContextmenu"]))),128))]),key:"0"}]),1024)]),bottom:Rt(()=>[t.isMobile?de("",!0):(Q(),Mt(S,{key:t.activeDocumentId,store:t.activeDocument.store,"is-fullscreen":t.isFullscreen,onFullscreen:t.toggleFullscreen,onContextmenu:t.onContextMenu},null,8,["store","is-fullscreen","onFullscreen","onContextmenu"]))]),_:1},8,["is-blurred"])):(Q(),ht("div",Fy," no documents open "+he(t.isDropping),1)),t.isBuilderOpen?(Q(),Mt(A,{key:2})):de("",!0)]),_:1},8,["dark","style"])}const jy=xt(Ry,[["render",Vy]]);window.api||(window.api={showContextMenu(){},setApplicationMenu(){},showOpenFileDialog(){return[]},showSaveFileDialog(){return""},showMessageBox(){return 0},beep(){},quit(){},onBeforeClose(){},onOpenFile(){},openFile(){return""},saveFile(){},setFullscreen(){},getFilePaths(){return[]},getDefaultSavePath(){return""},setClipboardContents(){},getClipboardContents(){return""},clearClipboard(){},canPaste(){return!1}});vf(jy).use(_f()).mount("#app");
