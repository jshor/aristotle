{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/oscilloscope/OscilloscopeViewer.vue?0d50","webpack:///./src/components/statusbar/StatusBarViewer.vue?4884","webpack:///./src/App.vue?2607","webpack:///./src/components/oscilloscope/OscilloscopeTitleBar.vue?ba8b","webpack:///./src/components/item/elements/gates/Or.vue?a218","webpack:///./src/components/Wire.vue?3165","webpack:///./src/components/Group.vue?0e5d","webpack:///./src/components/item/Properties.vue?3cc2","webpack:///./src/components/item/elements/OutputNode.vue?ed8c","webpack:///./src/components/layout/MainView.vue?e907","webpack:///./src/components/editor/Editor.vue?90bb","webpack:///./src/components/statusbar/StatusBarZoom.vue?4edd","webpack:///./src/components/item/CircuitComponent.vue?f88e","webpack:///./src/components/toolbar/ToolbarButton.vue?9116","webpack:///./src/components/statusbar/StatusBarButton.vue?02db","webpack:///./src/components/item/elements/InputNode.vue?c1bb","webpack:///./src/containers/Toolbar.vue?1792","webpack:///./src/components/item/Freeport.vue?37a2","webpack:///./src/components/toolbox/ToolboxLayout.vue?316a","webpack:///./src/components/tab/TabHost.vue?de97","webpack:///./src/components/layout/ScrollFade.vue?c737","webpack:///./src/components/item/elements/IntegratedCircuit.vue?2c9b","webpack:///./src/components/PortHandle.vue?d524","webpack:///./src/components/item/elements/LogicGate.vue?bba6","webpack:///./src/components/item/elements/gates/And.vue?1ec3","webpack:///./src/components/Draggable.vue?4111","webpack:///./src/components/PortPivot.vue?375a","webpack:///./src/components/tab/TabItem.vue?edb7","webpack:///./src/components/Icon.vue?992e","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/interactive/Resizable.vue","webpack:///./src/components/Draggable.vue","webpack:///./src/components/Wire.vue","webpack:///./src/types/enums/SnapMode.ts","webpack:///./src/utils/geometry/boundaries.ts","webpack:///./src/types/enums/Direction.ts","webpack:///./src/utils/geometry/rotate.ts","webpack:///./src/utils/geometry/wire.ts","webpack:///./src/containers/Connection.vue","webpack:///./src/components/item/Freeport.vue","webpack:///./src/components/item/elements/InputNode.vue","webpack:///./src/components/item/elements/IntegratedCircuit.vue","webpack:///./src/components/item/elements/gates/And.vue","webpack:///./src/components/item/elements/gates/Or.vue","webpack:///./src/components/item/elements/gates/Nor.vue","webpack:///./src/components/item/elements/gates/Nand.vue","webpack:///./src/components/item/elements/gates/Xnor.vue","webpack:///./src/components/item/elements/gates/Xor.vue","webpack:///./src/components/item/elements/LogicGate.vue","webpack:///./src/components/item/elements/OutputNode.vue","webpack:///./src/components/item/CircuitComponent.vue","webpack:///./src/components/item/Properties.vue","webpack:///./src/components/PortHandle.vue","webpack:///./src/components/PortPivot.vue","webpack:///./src/types/enums/PortType.ts","webpack:///./src/containers/PortItem.vue","webpack:///./src/types/enums/ItemType.ts","webpack:///./src/types/enums/ItemSubtype.ts","webpack:///./src/containers/Item.vue","webpack:///./src/components/editor/Selector.vue","webpack:///./src/components/editor/Editor.vue","webpack:///./src/components/Group.vue","webpack:///./src/menus/submenus/edit.ts","webpack:///./src/menus/submenus/grid.ts","webpack:///./src/menus/context/editor.ts","webpack:///./src/utils/printing.ts","webpack:///./src/circuit/types/Connection.ts","webpack:///./src/circuit/types/LogicValue.ts","webpack:///./src/circuit/base/CircuitNode.ts","webpack:///./src/circuit/base/InputNode.ts","webpack:///./src/circuit/base/OutputNode.ts","webpack:///./src/circuit/base/Circuit.ts","webpack:///./src/circuit/gates/Nor.ts","webpack:///./src/circuit/gates/Buffer.ts","webpack:///./src/services/BinaryWaveService.ts","webpack:///./src/services/ClockService.ts","webpack:///./src/services/OscillationService.ts","webpack:///./src/utils/circuitNodeMapper.ts","webpack:///./src/services/SimulationService.ts","webpack:///./src/utils/geometry/rotation.ts","webpack:///./src/utils/getConnectionChain.ts","webpack:///./src/utils/sortByZIndex.ts","webpack:///./src/factories/itemFactory.ts","webpack:///./src/factories/integratedCircuitFactory.ts","webpack:///./src/utils/idMapper.ts","webpack:///./src/utils/fromDocumentToEditorCoordinates.ts","webpack:///./src/factories/portFactory.ts","webpack:///./src/store/document.ts","webpack:///./src/utils/getFileName.ts","webpack:///./src/store/root.ts","webpack:///./src/containers/Document.vue","webpack:///./src/components/Icon.vue","webpack:///./src/components/toolbar/ToolbarButton.vue","webpack:///./src/components/toolbar/ToolbarSeparator.vue","webpack:///./src/components/layout/ScrollFade.vue","webpack:///./src/containers/Toolbar.vue","webpack:///./src/components/toolbox/ToolboxItem.vue","webpack:///./src/components/toolbox/ToolboxLayout.vue","webpack:///./src/factories/inputFactory.ts","webpack:///./src/factories/clockFactory.ts","webpack:///./src/factories/lightbulbFactory.ts","webpack:///./src/factories/logicGateFactory.ts","webpack:///./src/factories/index.ts","webpack:///./src/containers/Toolbox.vue","webpack:///./src/components/tab/TabItem.vue","webpack:///./src/components/tab/TabHost.vue","webpack:///./src/components/oscilloscope/OscilloscopeTimeline.vue","webpack:///./src/components/oscilloscope/OscilloscopeTitleBar.vue","webpack:///./src/components/oscilloscope/OscilloscopeViewer.vue","webpack:///./src/containers/Oscilloscope.vue","webpack:///./src/components/statusbar/StatusBarButton.vue","webpack:///./src/components/statusbar/StatusBarViewer.vue","webpack:///./src/components/statusbar/StatusBarZoom.vue","webpack:///./src/containers/StatusBar.vue","webpack:///./src/menus/submenus/file.ts","webpack:///./src/menus/submenus/view.ts","webpack:///./src/menus/index.ts","webpack:///./src/components/layout/MainView.vue","webpack:///./src/utils/isMobile.ts","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/toolbar/ToolbarSeparator.vue?1224","webpack:///./src/services/FileService.ts","webpack:///./src/components/editor/Selector.vue?4312","webpack:///./src/components/toolbox/ToolboxItem.vue?5aed","webpack:///./src/components/oscilloscope/OscilloscopeTimeline.vue?7d52"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_toolbar","_resolveComponent","_component_toolbox","_component_tab_item","_component_document","_component_tab_host","_component_oscilloscope","_component_status_bar","_component_main_view","_openBlock","_createElementBlock","_Fragment","_createElementVNode","class","_normalizeClass","isDropping","activeDocumentId","activeDocument","_createBlock","top","_withCtx","isMobile","_createCommentVNode","store","onToolbox","$event","isToolboxOpen","_createVNode","middle","_createSlots","default","onSwitch","switchDocument","onOpenIntegratedCircuit","openIntegratedCircuit","_","undefined","fn","_renderList","documents","document","id","label","displayName","active","dirty","isDirty","onActivate","activateDocument","toString","onClose","closeDocument","bottom","isFullscreen","onFullscreen","toggleFullscreen","_toDisplayString","_component_item","_component_connection","_component_group","_component_editor","ref","zoom","zoomLevel","gridSize","tabindex","offset","x","canvas","left","y","width","right","height","onPan","panTo","onDeselect","deselectAll","onSelection","createSelection","onZoom","setZoom","onContextmenu","onContextMenu","onResize","setViewerSize","onFocus","recycleSelection","baseItems","baseItem","storeDefinition","isSelected","flash","isDebugging","isCircuitEvaluated","zIndex","$emit","connectionPreviewId","groups","group","boundingBox","_component_wire","_component_draggable","style","_normalizeStyle","position","onDragStart","onDrag","onDragEnd","onSelect","selectItem","k","deselectItem","source","target","geometry","isPreview","_component_resizable","onMousedown","_withModifiers","onMouseDown","onTouchstart","onTouchStart","onTouchmove","onTouchMove","onTouchend","dragEnd","onTouchcancel","_renderSlot","$slots","defineComponent","emits","setup","emit","resizable","onSizeChanged","getBoundingClientRect","observer","ResizeObserver","onMounted","observe","__exports__","components","Resizable","props","type","Boolean","computed","draggable","addEventListener","drag","onBeforeUnmount","removeEventListener","watchEffect","$el","focus","touchTimeout","isDragging","hasEmittedDragStart","toggleSelection","keepCurrentSelection","clientX","clientY","dragStart","clearTimeout","ctrlKey","setTimeout","navigator","vibrate","touches","_hoisted_3","_hoisted_4","_hoisted_5","fill","transform","Math","abs","minX","minY","path","isAnimated","required","String","console","log","SnapMode","roundToNth","round","isInNeighborhood","a","b","radius","distX","pow","distY","sqrt","getGridSnapPosition","distance","getRadialSnapOffset","boundingBoxes","getOuterSnapOffset","ts","bs","ls","rs","getSnapOffset","snapMode","Radial","Grid","Outer","hasLinearIntersection","a1","a2","b1","b2","ccw","isLineIntersectingRectangle","b3","b4","hasIntersection","scaleBoundingBox","box","scale","isOneOrTwoDimensional","getLinearBoundaries","point","Infinity","getPointBoundary","getBoundingBox","rotation","midX","midY","getGroupBoundingBox","reduce","rect","min","max","getBoundingBoxMidpoint","getCenteredScreenPoint","parentBox","childBox","factor","parentMidpoint","childWidth","childHeight","getExtremePoint","points","map","Direction","rotate","additional","WIRE_PADDING","renderLayout","getEndpoints","start","end","computeStraightLine","sourceDirection","getPortDirection","targetDirection","computeBezier","inflectDirection","direction","Left","Top","Right","Bottom","port","orientation","isFreeport","floor","x1","y1","x4","y4","dx","dy","x2","toFixed","y2","x3","y3","join","toNumArr","parseInt","maxX","maxY","Draggable","Wire","Number","Function","connection","connections","root","ports","topLeft","boundaries","freeportId","groupId","th","opacity","uuid","createFreeport","itemId","inputPortId","outputPortId","connectionChainId","sourceId","targetId","setSnapBoundaries","dragItem","disconnect","_component_properties","_component_port_item","_component_circuit_component","item","outline","pointerEvents","onKeydown","_withKeys","onEscapeKey","commitCachedState","isPropertiesEnabled","properties","onUpdate","setProperties","setActivePortId","subtype","onToggle","setPortValue","filter","ItemType","Freeport","connectedPortIds","onKeypress","onBlur","onPortBlur","_resolveDynamicComponent","_normalizeProps","_guardReactiveProps","index","model","onInput","Array","preventDefault","stopPropagation","inputCount","viewBox","cx","cy","isNegated","isXor","_component_or","Or","_component_and","And","Nor","Nand","Xnor","Xor","InputNode","IntegratedCircuit","LogicGate","OutputNode","role","_createTextVNode","_hoisted_6","_hoisted_7","_hoisted_8","isOpen","onKeyDown","onClick","onMouseup","propertyName","for","options","_withDirectives","_vModelSelect","_vModelCheckbox","_vModelDynamic","watch","handler","cloneDeep","deep","immediate","methods","_component_port_handle","_component_port_pivot","cycleConnectionPreviews","commitPreviewedConnection","activePortId","connectablePortIds","includes","onTouchhold","togglePortMonitoring","onDblclick","PortType","PortHandle","PortPivot","newFreeport","isAdded","unsetConnectionPreview","cachedState","Input","setConnectablePortIds","portId","connectFreeport","ItemSubtype","CircuitComponent","PortItem","Properties","items","itemRef","portIds","selectedItemIds","cacheState","activeElement","blur","setItemSize","_component_selector","onMousewheel","mousewheel","onTouchEnd","onSelectionStart","selectionStart","onSelectionEnd","selectionEnd","mousedown","selection","mounted","mousemove","mouseup","destroy","getPosition","Selector","backgroundSize","panStartPosition","originalMousePosition","panning","preventContextMenu","onMouseMove","onMouseUp","startPanning","pan","hasPannedSubstantially","deltaX","deltaY","button","changedTouches","shiftKey","wheel","boundary","edit","useDocumentStore","submenus","menu","enabled","canUndo","accelerator","click","undo","hasSelection","deleteSelection","submenu","setZIndex","incrementZIndex","canGroup","canUngroup","concat","checked","grid","editor","createPrintArea","padding","className","printArea","cloneNode","children","child","replace","background","classList","add","createPrintFrame","image","pageSize","iframe","createElement","body","appendChild","printFrame","contentWindow","styleTag","createTextNode","head","append","createImage","domToImage","dataUrl","remove","printWindow","win","Promise","resolve","print","printImage","printing","minSize","maxSize","Image","percent","src","isLandscape","reverse","Connection","node","this","LogicValue","TRUE","FALSE","UNKNOWN","CircuitNode","inputIds","inputValues","outputs","isValueChanged","forceContinue","newValue","events","setValue","eval","invokeEvent","eventType","forEach","event","callback","valueCount","compare","values","updateOutputs","update","propagate","reset","on","getProjectedValue","Circuit","queue","nodes","inputNodes","addNode","enqueue","removeNode","inputIndex","findIndex","removeNodeOutputs","next","addConnection","removeConnection","sourceNode","targetNode","added","indexOf","dequeue","removed","removedIndex","localQueue","isComplete","nextValue","Buffer","keys","pop","BinaryWaveService","signal","hue","lastY","segments","initialize","segment","addSegment","updateWidth","elapsed","drawPulseConstant","previous","drawPulseChange","pos","truncateSegments","widthToKeep","widthToTruncate","unshift","ClockService","interval","emitter","TinyEmitter","lastUpdate","OscillationService","isPaused","waves","refreshRate","lastUpdateTime","Date","now","timeMsElapsed","timeMsOffset","remainingPeriodTime","tick","stop","clear","wave","computeWaveGeometry","displays","getPoints","broadcast","screenWidth","screen","widthOfOneSecond","maxHistorySeconds","MAX_IDLE_TIME","hasUpdated","delta","requestAnimationFrame","getLogicGateNode","getCircuitNode","SimulationService","clocks","valueMap","circuit","oscillator","oscillogram","addElements","pause","unpause","step","iteration","shouldContinue","Error","canContinue","nextState","isDebug","nextValueMap","startDebugging","computeNextState","stopDebugging","advance","nextValues","updatePortValue","JSON","parse","currentState","stringify","setOutputValue","enqueuePortValueChange","anyValueChanged","addIntegratedCircuit","icItem","integratedCircuit","outputIds","Output","circuitNodeMapper","addPort","Clock","addClock","isMonitored","monitorPort","getIntegratedCircuitPortIds","ic","removePort","unmonitorPort","getGroupedItemRotatedPosition","groupBoundingBox","w","h","mx","my","ax","ay","L","currentAngleRad","atan2","newAngle","PI","newAx","cos","newAy","sin","getRotatedPortPosition","portList","spacing","getConnectionChain","portMap","connectionIds","freeportIds","sourcePort","targetPort","elementId","Set","from","sortByZIndex","itemFactory","integratedCircuitFactory","state","integratedCircuitItem","portType","newId","serializedState","mapStandardCircuitIds","idMap","mapGroups","oldId","mapGroupIds","mapConnections","mapConnectionChainIds","mapItems","mapItemIds","mapPorts","mapIntegratedCircuitIds","fromDocumentToEditorCoordinates","viewport","z","portFactory","generateItemName","taxonomyCount","None","MIN_SCALE","MAX_SCALE","SCALE_STEP","createDocumentStore","defineStore","undoStack","redoStack","simulation","taxonomyCounts","oscilloscopeHeight","isOscilloscopeOpen","hasLoaded","isPrinting","isCreatingImage","DOMRect","snapBoundaries","selectedConnectionIds","selectedPortIndex","activeFreeportId","getters","sort","hasSelectedItems","selectedGroupIds","canRedo","actions","loadDocument","buildCircuit","applyState","incrementZoom","zoomedPoint","scaledPoint","viewportPoint","centerAll","panToCenter","midpoint","setItemPosition","saveIntegratedCircuit","originalIcItem","$state","idMappedIcItem","idMapper","insertItem","setItemBoundingBox","setItemPortPositions","setSelectionState","backToFirstItem","documentPosition","commitState","addNewItem","undoState","redo","redoState","nonFreeportItems","nonFreeportItemIds","removeElement","f","removeFreeport","e","centerX","centerY","newX","newY","setGroupBoundingBox","portGroups","Map","setPortGroupPositions","setSelectionPosition","moveSelectionPosition","referenceItem","groupIds","itemIds","destroyGroup","ungroup","clearStatelessInfo","selectAll","SET_SELECTION_STATE","selectItemConnections","error","element","keepSelection","setConnectionPreview","connect","previewPortId","api","beep","selectedItems","newRotation","originalSourceId","originalTargetId","establishCircuitConnection","addFreeportItem","newPort","find","startValue","toggleDebugger","stepThroughCircuit","toggleOscilloscope","closeOscilloscope","openOscilloscope","lastHeight","clearOscilloscope","random","setInputCount","count","oldCount","virtualElementId","setPortValues","savedState","parsedState","getExcludedMembers","aIds","bIds","removedItems","removedConnections","addedItems","addedConnections","portIndex","taxonomy","resetItemValue","updateSelectionList","sendBackward","bringForward","sendToBack","bringToFront","frozenIds","currentIndex","nextIndex","sourceIndex","targetIndex","cut","copy","clipboard","pasteCount","paste","parsed","mapped","toggleToolbox","getFileName","filePath","split","useRootStore","canExit","hasOpenDocuments","openDocument","saveImage","partialName","fileName","showSaveFileDialog","extensions","FileService","writeBlob","showMessageBox","message","title","newDocument","closeAll","closedSuccessfully","printActiveDocument","isSuccessful","dialogResult","buttons","saveActiveDocument","remainingId","setFileName","save","selectDocument","files","showOpenFileDialog","openDocumentFromPath","open","content","documentIds","pauseActivity","resumeActivity","openTestDocuments","flipFlop","navigateDocumentList","setFullscreen","Group","Editor","Item","rootStore","acceleration","initiatePrint","editorElement","querySelector","exportImage","onClipboard","action","HTMLInputElement","moveItemsByArrowKey","onKeyUp","showContextMenu","editorContextMenu","clearKeys","_component_toolbar_button","_component_toolbar_separator","_component_scroll_fade","icon","faScrewdriverWrench","text","faFolderOpen","faFile","faSave","disabled","faReply","faShare","faRotateForward","faObjectGroup","faObjectUngroup","faScissors","faCopy","faPaste","faBan","faMicrochip","faBug","faArrowsRotate","faForwardStep","faWaveSquare","_component_icon","isToolbox","faUser","xmlns","svgPath","Icon","hideScrollbar","gradientStyle","onScroll","scroll","getGradientStyle","scrollWidth","scrollLeft","clientWidth","modifiers","ToolbarButton","ToolbarSeparator","ScrollFade","faRotateBackward","_component_toolbox_item","_component_toolbox_layout","factories","factorySubtypes","factory","onDrop","previewRect","selectableRect","drop","selectable","draggedElement","inner","outer","ratio","contains","categories","cat","selected","select","slots","toolbox","scrollHeight","categoryName","inputFactory","clockFactory","lightbulbFactory","Lightbulb","logicGateFactory","showInOscilloscope","Switch","ToolboxItem","ToolboxLayout","_component_oscilloscope_title_bar","_component_oscilloscope_timeline","_component_oscilloscope_viewer","modelValue","onCollapse","clearable","hasWaves","onClear","v","color","onWheel","totalWidth","preserveAspectRatio","stroke","timeline","$refs","list","scrollToNextInterval","onTimelineScroll","beforeUnmount","scrollTop","faClose","collapseHeight","viewer","originalY","currentY","parentElement","onUnmounted","OscilloscopeTimeline","OscilloscopeTitleBar","OscilloscopeViewer","storeToRefs","_component_status_bar_button","_component_status_bar_zoom","_component_status_bar_viewer","faMinus","faPlus","zoomPercent","faCompress","faExpand","parseFloat","StatusBarButton","StatusBarViewer","StatusBarZoom","file","hasDocument","documentList","close","zoomSubmenu","hasFixedZoom","createApplicationMenu","menus","view","Document","Toolbar","TabItem","TabHost","Toolbox","Oscilloscope","StatusBar","MainView","onDragOver","dataTransfer","dropEffect","onDragLeave","toUpperCase","location","reload","setApplicationMenu","onBeforeClose","onOpenFile","horizontal","lastPosition","toolboxWidth","quit","openFile","saveFile","createApp","App","use","createPinia","mount","zip","JSZip","compressedContent","loadAsync","async","blob","arrayBuffer","blobby","buf","generateAsync"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,MAAS,GAGNK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,QAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,oCCAA,W,sOCAA,W,6DCAA,W,i+LCAA,W,sFCAA,W,6GCAA,W,oCCAA,W,kCCAA,W,6DCAA,W,oCCAA,W,oCCAA,W,6DCAA,W,oCCAA,W,oCCAA,W,2DCAA,W,yDCAA,W,oCCAA,W,oCCAA,W,oCCAA,W,kCCAA,W,2GCAA,W,kCCAA,W,yDCAA,W,uGCAA,W,yDCAA,W,kCCAA,W,yDCAA,W,kCCAA,W,6GCEMyC,G,oBAAa,CAAEV,IAAK,IACpBW,EAAa,CAAEX,IAAK,GAEpB,SAAUY,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMC,EAAqBC,8BAAkB,WACvCC,EAAqBD,8BAAkB,WACvCE,EAAsBF,8BAAkB,YACxCG,EAAsBH,8BAAkB,YACxCI,EAAsBJ,8BAAkB,YACxCK,EAA0BL,8BAAkB,gBAC5CM,EAAwBN,8BAAkB,cAC1CO,EAAuBP,8BAAkB,aAE/C,OAAQQ,yBAAcC,gCAAoBC,cAAW,KAAM,CACzDC,gCAAoB,MAAO,CACzBC,MAAOC,4BAAgB,CAAC,gBAAiB,CACzC,wBAAyBpB,EAAKqB,eAE7B,KAAM,GACRrB,EAAKsB,kBAAoBtB,EAAKuB,gBAC1BR,yBAAcS,yBAAaV,EAAsB,CAAE3B,IAAK,GAAK,CAC5DsC,IAAKC,sBAAS,iBAAM,CACjB1B,EAAK2B,UACDZ,yBAAcC,gCAAoB,MAAOnB,EAAY,eACtD+B,gCAAoB,IAAI,IAC3Bb,yBAAcS,yBAAalB,EAAoB,CAC9CnB,IAAKa,EAAKsB,iBACVO,MAAO7B,EAAKuB,eAAeM,MAC3BC,UAAW7B,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKgC,eAAiBhC,EAAKgC,iBACjF,KAAM,EAAG,CAAC,WACbC,yBAAazB,EAAoB,CAC/BqB,MAAO7B,EAAKuB,eAAeM,OAC1B,KAAM,EAAG,CAAC,cAEfK,OAAQR,sBAAS,iBAAM,CACrBO,yBAAatB,EAAqB,KAAMwB,yBAAa,CACnDC,QAASV,sBAAS,iBAAM,EACrBX,yBAAcS,yBAAad,EAAqB,CAC/CvB,IAAKa,EAAKsB,iBACVO,MAAO7B,EAAKuB,eAAeM,MAC3BQ,SAAUrC,EAAKsC,eACfC,wBAAyBvC,EAAKwC,uBAC7B,KAAM,EAAG,CAAC,QAAS,WAAY,iCAEpCC,EAAG,GACF,CACCzC,EAAK2B,cAgBHe,EAfA,CACEtE,KAAM,OACNuE,GAAIjB,sBAAS,iBAAM,EAChBX,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAK6C,WAAW,SAACC,EAAUC,GAC7F,OAAQhC,yBAAcS,yBAAaf,EAAqB,CACtDtB,IAAK4D,EACLC,MAAOF,EAASG,YAChBC,OAAQlD,EAAKsB,mBAAqByB,EAClCI,MAAOL,EAASjB,QAAQuB,QACxBC,WAAY,SAACtB,GAAD,OAAkB/B,EAAKsD,iBAAiBP,EAAGQ,aACvDC,QAAS,SAACzB,GAAD,OAAkB/B,EAAKyD,cAAcV,EAAGQ,cAChD,KAAM,EAAG,CAAC,QAAS,SAAU,QAAS,aAAc,eACrD,aAIV,UAENG,OAAQhC,sBAAS,iBAAM,EACpBX,yBAAcS,yBAAaZ,EAAyB,CACnDzB,IAAKa,EAAKsB,iBACVO,MAAO7B,EAAKuB,eAAeM,OAC1B,KAAM,EAAG,CAAC,WACX7B,EAAK2B,SAOHC,gCAAoB,IAAI,IANvBb,yBAAcS,yBAAaX,EAAuB,CACjD1B,IAAKa,EAAKsB,iBACVO,MAAO7B,EAAKuB,eAAeM,MAC3B,gBAAiB7B,EAAK2D,aACtBC,aAAc5D,EAAK6D,kBAClB,KAAM,EAAG,CAAC,QAAS,gBAAiB,sBAG7CpB,EAAG,MAEJ1B,yBAAcC,gCAAoB,MAAOlB,EAAY,sBAAwBgE,6BAAiB9D,EAAKqB,YAAa,KACpH,I,0BAlFC,SAAUtB,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAM0D,EAAkBxD,8BAAkB,QACpCyD,EAAwBzD,8BAAkB,cAC1C0D,EAAmB1D,8BAAkB,SACrC2D,EAAoB3D,8BAAkB,UAE5C,OAAQQ,yBAAcS,yBAAa0C,EAAmB,CACpDC,IAAK,SACLC,KAAMpE,EAAK6B,MAAMwC,UACjB,YAAarE,EAAKsE,SAClBC,SAAU,EACVC,OAAQ,CACNC,EAAGzE,EAAK6B,MAAM6C,OAAOC,KACrBC,EAAG5E,EAAK6B,MAAM6C,OAAOjD,KAEvBoD,MAAO7E,EAAK6B,MAAM6C,OAAOI,MAAQ9E,EAAK6B,MAAM6C,OAAOC,KACnDI,OAAQ/E,EAAK6B,MAAM6C,OAAOhB,OAAS1D,EAAK6B,MAAM6C,OAAOjD,IACrDuD,MAAOhF,EAAK6B,MAAMoD,MAClBC,WAAYlF,EAAK6B,MAAMsD,YACvBC,YAAapF,EAAK6B,MAAMwD,gBACxBC,OAAQtF,EAAK6B,MAAM0D,QACnBC,cAAexF,EAAKyF,cACpBC,SAAU1F,EAAK6B,MAAM8D,eACpB,CACDvD,QAASV,sBAAS,iBAAM,CACtBR,gCAAoB,MAAO,CACzBqD,SAAU,EACVqB,QAAS3F,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMgE,kBAAiB,MAChF,KAAM,KACR9E,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAK6B,MAAMiE,WAAW,SAACC,GACzF,OAAQhF,yBAAcC,gCAAoBC,cAAW,KAAM,CACxD,SAAU8E,GACNhF,yBAAcS,yBAAauC,EAAiB,CAC3CQ,SAAU,EACV1C,MAAO7B,EAAKgG,gBACZjD,GAAIgD,EAAShD,GACb5D,IAAK4G,EAAShD,GACd,cAAegD,EAASE,WACxBC,MAAOlG,EAAK6B,MAAMsE,aAAenG,EAAK6B,MAAMuE,mBAC5C,UAAWL,EAASM,OAAS,IAC7Bb,cAAexF,EAAKyF,cACpBlD,wBAAyB,SAACR,GAAD,OAAkB/B,EAAKsG,MAAM,wBAAyBP,KAC9E,KAAM,EAAG,CAAC,QAAS,KAAM,cAAe,QAAS,UAAW,gBAAiB,8BAC/EhF,yBAAcS,yBAAawC,EAAuB,CACjDO,SAAU,EACV1C,MAAO7B,EAAKgG,gBACZjD,GAAIgD,EAAShD,GACb5D,IAAG,WAAM4G,EAAShD,IAClB,cAAegD,EAASE,WACxB,aAAcjG,EAAK6B,MAAM0E,sBAAwBR,EAAShD,GAC1DmD,MAAOlG,EAAK6B,MAAMsE,aAAenG,EAAK6B,MAAMuE,mBAC5C,UAAWL,EAASM,OACpBb,cAAexF,EAAKyF,eACnB,KAAM,EAAG,CAAC,QAAS,KAAM,cAAe,aAAc,QAAS,UAAW,oBAChF,OACD,MACJvE,gCAAoB,MAAO,CACzBqD,SAAU,EACVqB,QAAS3F,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMgE,kBAAiB,MAChF,KAAM,KACR9E,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAK6B,MAAM2E,QAAQ,SAACC,GACtF,OAAQ1F,yBAAcS,yBAAayC,EAAkB,CACnD9E,IAAKsH,EAAM1D,GACXA,GAAI0D,EAAM1D,GACV,eAAgB0D,EAAMC,YACtB,cAAeD,EAAMR,WACrB,UAAWjG,EAAK6B,MAAMwE,OACtBjC,KAAMpE,EAAK6B,MAAMuC,MAChB,KAAM,EAAG,CAAC,KAAM,eAAgB,cAAe,UAAW,YAC3D,UAEN3B,EAAG,GACF,EAAG,CAAC,OAAQ,YAAa,SAAU,QAAS,SAAU,QAAS,aAAc,cAAe,SAAU,gBAAiB,a,oBAxEtH,SAAU1C,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMsG,EAAkBpG,8BAAkB,QACpCqG,EAAuBrG,8BAAkB,aAE/C,OAAQQ,yBAAcS,yBAAaoF,EAAsB,CACvDC,MAAOC,4BAAgB,CAAET,OAAQrG,EAAKqG,SACtCU,SAAU/G,EAAK+G,SACf,cAAe/G,EAAKiG,WACpBe,YAAahH,EAAKgH,YAClBC,OAAQjH,EAAKiH,OACbC,UAAWlH,EAAKkH,UAChBC,SAAUlH,EAAO,KAAOA,EAAO,GAAK,YAAC,OAAID,EAAKoH,WAAWpH,EAAK+C,GAAIsE,KAClEnC,WAAYjF,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKsH,aAAatH,EAAK+C,OAC9E,CACDX,QAASV,sBAAS,iBAAM,CACtBO,yBAAa0E,EAAiB,CAC5BY,OAAQvH,EAAKuH,OACbC,OAAQxH,EAAKwH,OACbC,SAAUzH,EAAKyH,SACf,cAAezH,EAAKiG,WACpB,aAAcjG,EAAK0H,UACnBxB,MAAOlG,EAAKkG,MACZlD,MAAO,OACPmB,IAAK,OACL,YAAa,QACZ,KAAM,EAAG,CAAC,SAAU,SAAU,WAAY,cAAe,aAAc,cAE5E1B,EAAG,GACF,EAAG,CAAC,QAAS,WAAY,cAAe,cAAe,SAAU,c,0BA5BhE,SAAU1C,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMsH,EAAuBpH,8BAAkB,aAE/C,OAAQQ,yBAAcS,yBAAamG,EAAsB,CACvDxG,MAAO,YACPgD,IAAK,YACL0C,MAAOC,4BAAgB9G,EAAK6G,OAC5Be,YAAaC,2BAAe7H,EAAK8H,YAAa,CAAC,SAC/CC,aAAcF,2BAAe7H,EAAKgI,aAAc,CAAC,SACjDC,YAAaJ,2BAAe7H,EAAKkI,YAAa,CAAC,SAC/CC,WAAYN,2BAAe7H,EAAKoI,QAAS,CAAC,SAC1CC,cAAerI,EAAKoI,QACpBxC,QAAS5F,EAAK4F,SACb,CACDxD,QAASV,sBAAS,iBAAM,CACtB4G,wBAAYtI,EAAKuI,OAAQ,eAE3B9F,EAAG,GACF,EAAG,CAAC,QAAS,cAAe,eAAgB,cAAe,aAAc,gBAAiB,YAlB/F,IAAM5C,EAAa,CAAEsE,IAAK,aAEpB,SAAUpE,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,EAAY,CAC3DyI,wBAAYtI,EAAKuI,OAAQ,YACxB,K,4BCHUC,+BAAgB,CAC7BpK,KAAM,YACNqK,MAAO,CAAC,UACRC,MAH6B,SAGtBjG,EAHsB,GAGX,IAANkG,EAAM,EAANA,KACJC,EAAYzE,mBAOlB,SAAS0E,EAAT,GAAyD,0BAA/BrB,EAA+B,KACvDmB,EAAK,SAAUnB,EAAOA,OAAOsB,yBAG/B,IAAMC,EAAW,IAAIC,OAAeH,GAQpC,OANAI,wBAAU,WACJL,EAAU/J,OACZkK,EAASG,QAAQN,EAAU/J,UAIxB,CACL+J,gB,qBCvBN,MAAMO,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QDHAX,+BAAgB,CAC7BpK,KAAM,YACNgL,WAAY,CACVC,aAEFC,MAAO,CAELvC,SAAU,CACRwC,KAAM9M,OACN2F,QAAS,iBAAO,CAAEqC,EAAG,EAAGG,EAAG,KAI7BqB,WAAY,CACVsD,KAAMC,QACNpH,SAAS,GAIXT,SAAU,CACR4H,KAAMC,QACNpH,SAAS,IAGbqG,MAAO,CACL,YACA,OACA,UACA,SACA,WACA,aAEFC,MAhC6B,SAgCtBY,EAhCsB,GAgCP,IAANX,EAAM,EAANA,KACR9B,EAAQ4C,uBAAS,iBAAO,CAC5B9E,KAAI,UAAK2E,EAAMvC,SAAStC,EAApB,MACJhD,IAAG,UAAK6H,EAAMvC,SAASnC,EAApB,UAEC8E,EAAYvF,mBAElB8E,wBAAU,WACRvJ,OAAOiK,iBAAiB,YAAaC,GACrClK,OAAOiK,iBAAiB,UAAWvB,MAGrCyB,8BAAgB,WACdnK,OAAOoK,oBAAoB,YAAaF,GACxClK,OAAOoK,oBAAoB,UAAW1B,MAGxC2B,0BAAY,WACY,MAAlBT,EAAMrD,aACR,YAAUpH,aAAV,SAAiBmL,IAAIC,YAIzB,IAAIC,EAAe,EACfC,GAAa,EACbC,GAAsB,EACtBrD,EAAW,CAAEtC,EAAG,EAAGG,EAAG,GACtBJ,EAAS,CAAEC,EAAG,EAAGG,EAAG,GAOxB,SAASyF,EAAiBC,GACxBhB,EAAMrD,WACF0C,EAAK,YACLA,EAAK,SAAU2B,GAGrB,SAASV,EAAT,GAAuD,IAAtCW,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,QACnBL,IACDpD,EAAStC,IAAM8F,GAAWxD,EAASnC,IAAM4F,IAE7CzD,EAAW,CACTtC,EAAG8F,EACH3F,EAAG4F,GAGL7B,EAAKyB,EAAsB,OAAS,YAAarD,EAAUvC,GAE3D4F,GAAsB,IAGxB,SAASK,EAAT,GAA4D,IAAtCF,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,QAC7B,GAAKd,EAAU7K,MAAf,CAEA,MAAgC6K,EAAU7K,MAAMmL,IAAIlB,wBAA5CrE,EAAR,EAAQA,EAAGG,EAAX,EAAWA,EAAGC,EAAd,EAAcA,MAAOE,EAArB,EAAqBA,OAErBgC,EAAW,CACTtC,EAAG8F,EACH3F,EAAG4F,GAGLhG,EAAS,CACPC,EAAG8F,GAAW9F,EAAII,EAAQ,GAC1BD,EAAG4F,GAAW5F,EAAIG,EAAS,IAG7BqF,GAAsB,GAGxB,SAAShC,IACF+B,IAELO,aAAaR,GACbvB,EAAK,UAAW5B,EAAUvC,GAE1B2F,GAAa,GAMf,SAASrC,EAAa/F,GACpBoI,GAAa,EAEbE,EAAgBtI,EAAO4I,SACvBF,EAAU1I,GAMZ,SAASiG,EAAcjG,GACrBmI,EAAexK,OAAOkL,YAAW,WAC/BT,GAAa,EACbE,GAAgB,GAChBQ,UAAUC,QAAQ,KAClBnC,EAAK,YAAa5G,KACjB,KAEH0I,EAAU1I,EAAOgJ,QAAQ,IACzBZ,GAAa,EAMf,SAASjC,EAAanG,GACpB2I,aAAaR,GACbN,EAAK7H,EAAOgJ,QAAQ,IAMtB,SAASnF,IACPgF,YAAW,WACJtB,EAAMrD,YACT0C,EAAK,aAKX,MAAO,CACL9B,QACA6C,YACA5B,cACAE,eACAE,cACAE,UACAxC,c,UEjKN,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QHPT/F,G,UAAa,CAAC,QAAS,WACvBC,EAAa,CAAC,YAAa,KAC3BkL,EAAa,CAAC,YAAa,KAC3BC,EAAa,CAAC,YAAa,KAC3BC,EAAa,CAAC,YAAa,KAE3B,SAAUnL,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CG,MAAOC,4BAAgB,CAAC,OAAQ,CAC9B,iBAAkBpB,EAAKiG,WACvB,cAAejG,EAAKkG,MACpB,gBAAiBlG,EAAK0H,aAExB7C,MAAO7E,EAAKyH,SAAS5C,MACrBE,OAAQ/E,EAAKyH,SAAS1C,QACrB,CACD7D,gCAAoB,QAAS,KAAM4C,6BAAiB9D,EAAKgD,OAAQ,GACjE9B,gCAAoB,OAAQ,CAC1BC,MAAO,gBACPgK,KAAM,OACNC,UAAS,oBAAeC,KAAKC,IAAItL,EAAKyH,SAAS8D,MAAtC,aAAgDF,KAAKC,IAAItL,EAAKyH,SAAS+D,MAAvE,KACTrN,EAAG6B,EAAKyH,SAASgE,MAChB,KAAM,EAAG3L,GACZoB,gCAAoB,OAAQ,CAC1BC,MAAOC,4BAAgB,CAAC,gBAAiB,CACvC,oBAA2C,IAAtBpB,EAAKuH,OAAO1I,MACjC,sBAA6C,IAAvBmB,EAAKuH,OAAO1I,SAEpCsM,KAAM,OACNC,UAAS,oBAAeC,KAAKC,IAAItL,EAAKyH,SAAS8D,MAAtC,aAAgDF,KAAKC,IAAItL,EAAKyH,SAAS+D,MAAvE,KACTrN,EAAG6B,EAAKyH,SAASgE,MAChB,KAAM,GAAIT,GACZhL,EAAK0L,YACD3K,yBAAcC,gCAAoB,OAAQ,CACzC7B,IAAK,EACLgC,MAAO,kBACPgK,KAAM,OACNC,UAAS,oBAAeC,KAAKC,IAAItL,EAAKyH,SAAS8D,MAAtC,aAAgDF,KAAKC,IAAItL,EAAKyH,SAAS+D,MAAvE,KACTrN,EAAG6B,EAAKyH,SAASgE,MAChB,KAAM,EAAGR,IACZrJ,gCAAoB,IAAI,GAC5BV,gCAAoB,OAAQ,CAC1BC,MAAO,kBACPgK,KAAM,OACNC,UAAS,oBAAeC,KAAKC,IAAItL,EAAKyH,SAAS8D,MAAtC,aAAgDF,KAAKC,IAAItL,EAAKyH,SAAS+D,MAAvE,KACTrN,EAAG6B,EAAKyH,SAASgE,MAChB,KAAM,EAAGP,IACX,GAAIrL,GC9CM2I,mCAAgB,CAC7BpK,KAAM,OACNkL,MAAO,CACLoC,WAAY,CACVnC,KAAMC,QACNpH,SAAS,GAEXmF,OAAQ,CACNgC,KAAM9M,OACNkP,UAAU,GAEZnE,OAAQ,CACN+B,KAAM9M,OACNkP,UAAU,GAEZ3I,MAAO,CACLuG,KAAMqC,OACNxJ,QAAS,IAEXsF,UAAW,CACT6B,KAAMC,QACNpH,SAAS,GAEX6D,WAAY,CACVsD,KAAMC,QACNpH,SAAS,GAGX8D,MAAO,CACLqD,KAAMC,QACNpH,SAAS,GAGXqF,SAAU,CACR8B,KAAM9M,OACNkP,UAAU,IAGdjD,MAtC6B,SAsCtBY,GAELS,0BAAY,WACNT,EAAMrD,YACR4F,QAAQC,IAAI,gB,UGtCpB,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,ICTVC,EDSU,I,aCTf,SAAKA,GACHA,wBACAA,wBACAA,0BACAA,sBACAA,uBALF,CAAKA,MAAQ,KAQEA,QCHf,SAASC,EAAYvH,EAAWpF,GAC9B,OAAOgM,KAAKY,MAAMxH,EAAIpF,GAAKA,EAM7B,SAAS6M,EAAkBC,EAAUC,EAAUC,GAC7C,IAAMC,EAAQjB,KAAKkB,IAAIJ,EAAE1H,EAAI2H,EAAE3H,EAAG,GAC5B+H,EAAQnB,KAAKkB,IAAIJ,EAAEvH,EAAIwH,EAAExH,EAAG,GAElC,OAAOyG,KAAKoB,KAAKH,EAAQE,IAAUH,EAUrC,SAASK,EAAqBP,EAAgBQ,GAC5C,MAAO,CACLlI,EAAGuH,EAAWG,EAAExH,KAAMgI,GAAYR,EAAExH,KACpCC,EAAGoH,EAAWG,EAAE1K,IAAKkL,GAAYR,EAAE1K,KAYvC,SAASmL,EAAqBC,EAA8BV,EAAgBQ,GAC1E,IAAK,IAAIrQ,EAAI,EAAGA,EAAIuQ,EAAcrQ,OAAQF,IAAK,CAC7C,IAAM8P,EAAIS,EAAcvQ,GAExB,GAAI4P,EAAiB,CAAEzH,EAAG2H,EAAEzH,KAAMC,EAAGwH,EAAE3K,KAAO,CAAEgD,EAAG0H,EAAExH,KAAMC,EAAGuH,EAAE1K,KAAOkL,GACrE,MAAO,CACLlI,EAAG2H,EAAEzH,KAAOwH,EAAExH,KACdC,EAAGwH,EAAE3K,IAAM0K,EAAE1K,KAKnB,MAAO,CAAEgD,EAAG,EAAGG,EAAG,GAWpB,SAASkI,EAAoBD,EAA8BV,EAAgBQ,GAGzE,IAFA,IAAMnI,EAAgB,CAAEC,EAAG,EAAGG,EAAG,GAExBtI,EAAI,EAAGA,EAAIuQ,EAAcrQ,OAAQF,IAAK,CAC7C,IAAM8P,EAAIS,EAAcvQ,GAClByQ,EAAK1B,KAAKC,IAAIc,EAAE3K,IAAM0K,EAAEzI,SAAWiJ,EACnCK,EAAK3B,KAAKC,IAAIc,EAAE1I,OAASyI,EAAE1K,MAAQkL,EACnCM,EAAK5B,KAAKC,IAAIc,EAAEzH,KAAOwH,EAAErH,QAAU6H,EACnCO,EAAK7B,KAAKC,IAAIc,EAAEtH,MAAQqH,EAAExH,OAASgI,GAGtCR,EAAExH,MAAQyH,EAAEtH,OAASqH,EAAExH,MAAQyH,EAAEzH,MACjCwH,EAAErH,OAASsH,EAAEzH,MAAQwH,EAAErH,OAASsH,EAAEtH,OAClCqH,EAAExH,MAAQyH,EAAEzH,MAAQwH,EAAErH,OAASsH,EAAEtH,SAG9BiI,IAAIvI,EAAOI,EAAIwH,EAAE3K,IAAM0K,EAAEzI,QACzBsJ,IAAIxI,EAAOI,EAAIwH,EAAE1I,OAASyI,EAAE1K,OAI/B0K,EAAE1K,KAAO2K,EAAE1I,QAAUyI,EAAE1K,KAAO2K,EAAE3K,KAChC0K,EAAEzI,QAAU0I,EAAE3K,KAAO0K,EAAEzI,QAAU0I,EAAE1I,QACnCyI,EAAE1K,KAAO2K,EAAE3K,KAAO0K,EAAEzI,QAAU0I,EAAE1I,UAG7BuJ,IAAIzI,EAAOC,EAAI2H,EAAEzH,KAAOwH,EAAErH,OAC1BoI,IAAI1I,EAAOC,EAAI2H,EAAEtH,MAAQqH,EAAExH,OAInC,OAAOH,EAGT,SAAS2I,EAAeN,EAA8BnG,EAA0B0G,EAAoBT,GAClG,OAAQS,GACN,KAAKrB,EAASsB,OACZ,OAAOT,EAAoBC,EAAenG,EAAaiG,GACzD,KAAKZ,EAASuB,KACZ,OAAOZ,EAAoBhG,EAAaiG,GAC1C,KAAKZ,EAASwB,MACd,QACE,OAAOT,EAAmBD,EAAenG,EAAaiG,IAY5D,SAASa,EAAuBC,EAAWC,EAAWC,EAAWC,GAC/D,IAAMC,EAAM,SAAC1B,EAAUC,EAAUlO,GAC/B,OAAQA,EAAE0G,EAAEuH,EAAEvH,IAAMwH,EAAE3H,EAAE0H,EAAE1H,IAAM2H,EAAExH,EAAEuH,EAAEvH,IAAM1G,EAAEuG,EAAE0H,EAAE1H,IAGpD,OAAOoJ,EAAIJ,EAAIE,EAAIC,KAAQC,EAAIH,EAAIC,EAAIC,IAAOC,EAAIJ,EAAIC,EAAIC,KAAQE,EAAIJ,EAAIC,EAAIE,GAUhF,SAASE,EAA6BL,EAAWC,EAAWhH,GAC1D,IAAMiH,EAAK,CAAElJ,EAAGiC,EAAY/B,KAAMC,EAAG8B,EAAYjF,KAC3CmM,EAAK,CAAEnJ,EAAGiC,EAAY5B,MAAOF,EAAG8B,EAAYjF,KAC5CsM,EAAK,CAAEtJ,EAAGiC,EAAY5B,MAAOF,EAAG8B,EAAYhD,QAC5CsK,EAAK,CAAEvJ,EAAGiC,EAAY/B,KAAMC,EAAG8B,EAAYhD,QAEjD,OAAO8J,EAAsBC,EAAIC,EAAIC,EAAIC,IACpCJ,EAAsBC,EAAIC,EAAIE,EAAIG,IAClCP,EAAsBC,EAAIC,EAAIK,EAAIC,IAClCR,EAAsBC,EAAIC,EAAIM,EAAIL,GAUzC,SAASM,EAAiB9B,EAAgBC,GACxC,QAAID,EAAExH,MAAQyH,EAAEtH,OAASsH,EAAEzH,MAAQwH,EAAErH,UAKjCqH,EAAE1K,KAAO2K,EAAE1I,QAAU0I,EAAE3K,KAAO0K,EAAEzI,QActC,SAASwK,EAAkBC,EAAkBC,GAC3C,MAAO,CACLzJ,KAAMwJ,EAAIxJ,KAAOyJ,EACjB3M,IAAK0M,EAAI1M,IAAM2M,EACf1K,OAAQyK,EAAIzK,OAAS0K,EACrBtJ,MAAOqJ,EAAIrJ,MAAQsJ,GAOvB,SAASC,EAAuBF,GAC9B,OAAOA,EAAIxJ,OAASwJ,EAAIrJ,OAASqJ,EAAI1M,MAAQ0M,EAAIzK,OASnD,SAAS4K,EAAqBC,GAC5B,MAAO,CACL,CACE5J,KAAM4J,EAAM9J,EACZK,MAAOyJ,EAAM9J,EACbhD,KAAM+M,IACN9K,OAAQ8K,KAEV,CACE7J,MAAO6J,IACP1J,MAAO0J,IACP/M,IAAK8M,EAAM3J,EACXlB,OAAQ6K,EAAM3J,IAWpB,SAAS6J,EAAkBF,GACzB,MAAO,CACL5J,KAAM4J,EAAM9J,EACZhD,IAAK8M,EAAM3J,EACXE,MAAOyJ,EAAM9J,EACbf,OAAQ6K,EAAM3J,GAUlB,SAAS8J,EAAgB3H,EAAiB4H,EAAkB9J,EAAeE,GACzE,GAAI4J,EAAW,IAAM,EAEnB,MAAO,CACLhK,KAAMoC,EAAStC,EACfhD,IAAKsF,EAASnC,EACdlB,OAAQqB,EAASgC,EAASnC,EAC1BE,MAAOD,EAAQkC,EAAStC,GAK5B,IAAMmK,EAAO7H,EAAStC,EAAKI,EAAQ,EAC7BgK,EAAO9H,EAASnC,EAAKG,EAAS,EAEpC,MAAO,CACLJ,KAAMiK,EAAQ7J,EAAS,EACvBtD,IAAKoN,EAAQhK,EAAQ,EACrBC,MAAO8J,EAAQ7J,EAAS,EACxBrB,OAAQmL,EAAQhK,EAAQ,GAU5B,SAASiK,EAAqBjC,GAC5B,OAAOA,EAAckC,QAAO,SAACC,EAAMtI,GAAP,MAAwB,CAClD/B,KAAM0G,KAAK4D,IAAID,EAAKrK,KAAM+B,EAAY/B,MACtClD,IAAK4J,KAAK4D,IAAID,EAAKvN,IAAKiF,EAAYjF,KACpCqD,MAAOuG,KAAK6D,IAAIF,EAAKlK,MAAO4B,EAAY5B,OACxCpB,OAAQ2H,KAAK6D,IAAIF,EAAKtL,OAAQgD,EAAYhD,WACxC,CACFiB,KAAM6J,IACN/M,IAAK+M,IACL1J,MAAO,EACPpB,OAAQ,IAOZ,SAASyL,EAAwBzI,GAC/B,IAAM7B,EAAQ6B,EAAY5B,MAAQ4B,EAAY/B,KACxCI,EAAS2B,EAAYhD,OAASgD,EAAYjF,IAEhD,MAAO,CACLgD,EAAGI,EAAQ,EACXD,EAAGG,EAAS,GAWhB,SAASqK,EAAwBC,EAAwBC,EAAuBC,GAC9E,IAAMC,EAAiBL,EAAuBE,GACxCI,EAAaH,EAASxK,MAAQwK,EAAS3K,KACvC+K,EAAcJ,EAAS5L,OAAS4L,EAAS7N,IAE/C,MAAO,CACLgD,EAAGuH,EAAWwD,EAAe/K,EAAKgL,EAAa,EAAIF,GACnD3K,EAAGoH,EAAWwD,EAAe5K,EAAK8K,EAAc,EAAIH,IAWxD,SAASI,GAAiBhN,GAAqC,2BAAfiN,EAAe,iCAAfA,EAAe,kBAC7D,IAAMnL,EAAI4G,KAAK1I,GAAL,MAAA0I,KAAI,eAAQuE,EAAOC,KAAI,gBAAGpL,EAAH,EAAGA,EAAH,OAAWA,OACtCG,EAAIyG,KAAK1I,GAAL,MAAA0I,KAAI,eAAQuE,EAAOC,KAAI,gBAAGjL,EAAH,EAAGA,EAAH,OAAWA,OAE5C,MAAO,CAAEH,IAAGG,KAGC,IChUVkL,GDgUU,IACb5D,mBACAU,sBACAE,qBACAJ,sBACAoB,8BACAI,mBACAG,wBACAC,sBACAG,mBACAR,kBACAS,iBACAI,sBACAK,yBACAC,yBACAjC,gBACAwC,oB,qBChVF,SAAKG,GACHA,sBACAA,oBACAA,wBACAA,2BAJF,CAAKA,QAAS,KAOCA,UCED,SAAUC,GAAQpB,GAA8C,IAAzBqB,EAAyB,uDAAD,EAC3E,OAASrB,EAAWqB,EAAa,EAAK,GAAK,ECP7C,IAAMC,GAAe,GAQP,SAAUC,GAAc3I,EAAcC,GAClD,IAAM2E,EAAI5E,EAAOR,SACXqF,EAAI5E,EAAOT,SACjB,EAAuBoJ,GAAahE,EAAGC,GAA/BgE,EAAR,EAAQA,MAAOC,EAAf,EAAeA,IAEf,GAAID,EAAM3L,IAAM4L,EAAI5L,GAAK2L,EAAMxL,IAAMyL,EAAIzL,GAAKyL,EAAI5L,GAAK,GAAK2L,EAAM3L,GAAK,GAAK4L,EAAIzL,GAAK,GAAKwL,EAAMxL,GAAK,EACnG,OAAO0L,GAAoBF,EAAOC,GAGpC,IAAME,EAAkBC,GAAiBjJ,EAAQ4E,EAAGC,GAC9CqE,EAAkBD,GAAiBhJ,EAAQ2E,EAAGC,GAEpD,OAAOsE,GAAcH,EAAiBE,EAAiBL,EAAOC,GAI1D,SAAUC,GAAqBnE,EAAUC,GAC7C,MAAO,CACLX,KAAM,KAAF,OAAOU,EAAE1H,EAAT,YAAc0H,EAAEvH,EAAhB,cAAuBwH,EAAE3H,EAAzB,YAA8B2H,EAAExH,GACpCC,MAAOwG,KAAKC,IAAIa,EAAE1H,EAAI2H,EAAE3H,GAAKwL,GAC7BlL,OAAQsG,KAAKC,IAAIa,EAAEvH,EAAIwH,EAAExH,GAAKqL,GAC9B1E,MAAQ0E,GAAe,EACvBzE,MAAQyE,GAAe,GAWrB,SAAUU,GAAkBC,EAAmBzE,EAAUC,GAC7D,OAAQwE,GACN,KAAK,EACH,OAAOzE,EAAEvH,EAAIwH,EAAExH,EAAI,EAAIkL,GAAUe,KACnC,KAAK,EACH,OAAO1E,EAAE1H,EAAI2H,EAAE3H,EAAI,EAAIqL,GAAUgB,IACnC,KAAK,EACH,OAAO3E,EAAEvH,EAAIwH,EAAExH,EAAI,EAAIkL,GAAUiB,MACnC,KAAK,EACH,OAAO5E,EAAE1H,EAAI2H,EAAE3H,EAAI,EAAIqL,GAAUkB,OACnC,QACE,OAAOL,GAAiBZ,GAAOa,GAAYzE,EAAGC,IAY9C,SAAUoE,GAAkBS,EAAY9E,EAAUC,GAGtD,IAAIwE,EAAYb,GAAOkB,EAAKC,YAAcD,EAAKtC,SAAW,GAW1D,OATIsC,EAAKE,aAEPP,EAAYD,GAAiBC,EAAWzE,EAAGC,GAEvC6E,EAAKtC,SAAW,IAAM,GAAKsC,EAAKtC,SAAW,IAAM,IACnDiC,EAAYb,GAAOa,EAAY,KAI5BA,EAYH,SAAUT,GAAchE,EAAUC,GACtC,OAAID,EAAE1H,GAAK2H,EAAE3H,EACP0H,EAAEvH,GAAKwH,EAAExH,EAEJ,CACLwL,MAAO,CACL3L,EAAG,EACHG,EAAG,GAELyL,IAAK,CACH5L,EAAG4G,KAAK+F,MAAMhF,EAAE3H,EAAI0H,EAAE1H,GACtBG,EAAGyG,KAAK+F,MAAMhF,EAAExH,EAAIuH,EAAEvH,KAKrB,CACLwL,MAAO,CACL3L,EAAG,EACHG,EAAGyG,KAAK+F,MAAMjF,EAAEvH,EAAIwH,EAAExH,IAExByL,IAAK,CACH5L,EAAG4G,KAAK+F,MAAMhF,EAAE3H,EAAI0H,EAAE1H,GACtBG,EAAG,IAKLuH,EAAEvH,GAAKwH,EAAExH,EAEJ,CACLwL,MAAO,CACL3L,EAAG4G,KAAK+F,MAAMjF,EAAE1H,EAAI2H,EAAE3H,GACtBG,EAAG,GAELyL,IAAK,CACH5L,EAAG,EACHG,EAAGyG,KAAK+F,MAAMhF,EAAExH,EAAIuH,EAAEvH,KAMrB,CACLwL,MAAO,CACL3L,EAAG4G,KAAK+F,MAAMjF,EAAE1H,EAAI2H,EAAE3H,GACtBG,EAAGyG,KAAK+F,MAAMjF,EAAEvH,EAAIwH,EAAExH,IAExByL,IAAK,CACH5L,EAAG,EACHG,EAAG,IAaH,SAAU8L,GAAeH,EAAyBE,EAAyBL,EAAcC,GAC7F,IAAMgB,EAAKjB,EAAM3L,EACX6M,EAAKlB,EAAMxL,EACX2M,EAAKlB,EAAI5L,EACT+M,EAAKnB,EAAIzL,EAGT6M,EAAKpG,KAAK6D,IAAI7D,KAAKC,IAAI+F,EAAKE,GAAM,EAAG,IACrCG,EAAKrG,KAAK6D,IAAI7D,KAAKC,IAAIgG,EAAKE,GAAM,EAAG,IAErCG,EAAK,CAACN,EAAIA,EAAKI,EAAIJ,EAAIA,EAAKI,GAAIlB,GAAiBqB,QAAQ,GACzDC,EAAK,CAACP,EAAKI,EAAIJ,EAAIA,EAAKI,EAAIJ,GAAIf,GAAiBqB,QAAQ,GACzDE,EAAK,CAACP,EAAIA,EAAKE,EAAIF,EAAIA,EAAKE,GAAIhB,GAAiBmB,QAAQ,GACzDG,EAAK,CAACP,EAAKE,EAAIF,EAAIA,EAAKE,EAAIF,GAAIf,GAAiBmB,QAAQ,GAEzDnG,EAAO,CACX,IAAK4F,EAAGO,QAAQ,GAAIN,EAAGM,QAAQ,GAC/B,IAAKD,EAAIE,EAAIC,EAAIC,EAAIR,EAAGK,QAAQ,GAAIJ,EAAGI,QAAQ,IAC/CI,KAAK,KAEDC,EAAW,sCAAI5S,EAAJ,yBAAIA,EAAJ,uBAAkCA,EAAEwQ,KAAI,SAAAxI,GAAC,OAAI6K,SAAS7K,EAAE9D,WAAY,QAE/EgI,EAAOF,KAAK4D,IAAL,MAAA5D,KAAI,eAAQ4G,EAASZ,EAAIM,EAAIG,EAAIP,KAAOtB,GAAe,EAC9DkC,EAAO9G,KAAK6D,IAAL,MAAA7D,KAAI,eAAQ4G,EAASZ,EAAIM,EAAIG,EAAIP,KAAOtB,GAAe,EAC9DzE,EAAOH,KAAK4D,IAAL,MAAA5D,KAAI,eAAQ4G,EAASX,EAAIO,EAAIE,EAAIP,KAAOvB,GAAe,EAC9DmC,EAAO/G,KAAK6D,IAAL,MAAA7D,KAAI,eAAQ4G,EAASX,EAAIO,EAAIE,EAAIP,KAAOvB,GAAe,EAE9DpL,EAAQsN,EAAO5G,EAAO0E,GACtBlL,EAASqN,EAAO5G,EAAOyE,GAE7B,MAAO,CAAEpL,QAAOE,SAAQ0G,OAAMF,OAAMC,QRjLvBhD,oCAAgB,CAC7BpK,KAAM,aACNgL,WAAY,CACViJ,YACAC,QAEFhJ,MAAO,CAELrD,WAAY,CACVsD,KAAMC,QACNpH,SAAS,GAIXW,GAAI,CACFwG,KAAMqC,OACND,UAAU,GAIZtF,OAAQ,CACNkD,KAAMgJ,OACNnQ,QAAS,GAIXsF,UAAW,CACT6B,KAAMC,QACNpH,SAAS,GAIX8D,MAAO,CACLqD,KAAMC,QACNpH,SAAS,GAIXP,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,IAGdjD,MA3C6B,SA2CtBY,GACL,IAAMzH,EAAQyH,EAAMzH,QACd4Q,EAAatO,iBAAItC,EAAM6Q,YAAYpJ,EAAMvG,KACzC4P,EAAOxO,mBAEPoD,EAASkC,uBAAS,kBAAM5H,EAAM+Q,MAAMH,EAAW5T,MAAM0I,WACrDC,EAASiC,uBAAS,kBAAM5H,EAAM+Q,MAAMH,EAAW5T,MAAM2I,WACrDqL,EAAUpJ,uBAAS,WACvB,OAAOqJ,GAAWnD,gBAAgB,MAAOpI,EAAO1I,MAAMkI,SAAUS,EAAO3I,MAAMkI,aAEzEU,EAAWgC,uBAAS,kBAAMyG,GAAa3I,EAAO1I,MAAO2I,EAAO3I,UAC5DkI,EAAW0C,uBAAS,iBAAO,CAC/B7E,EAAGiO,EAAQhU,MAAM+F,EAAI6C,EAAS5I,MAAM2M,KACpC/G,EAAGoO,EAAQhU,MAAM4F,EAAIgD,EAAS5I,MAAM0M,SAGlCwH,EAA4B,KAOhC,SAAS/L,IAC0B,OAA7ByL,EAAW5T,MAAMmU,UACrBD,EAAa,MAzBL,SAoCK9L,EApCL,kGAoCV,WAAuBF,EAAiBkM,GAAxC,oGACON,EAAK9T,aADZ,OACO,EAAYmL,IADnB,iDAEqB,OAAf+I,IAEFJ,EAAK9T,MAAMmL,IAAInD,MAAMqM,QAAU,IAC/BH,EAAaI,iBAEbtR,EAAMuR,eAAe,CACnBC,OAAQN,EACRO,YAAaH,iBACbI,aAAcJ,iBACdK,kBAAmBf,EAAW5T,MAAM2U,kBAEpCC,SAAUlM,EAAO1I,MAAMkE,GACvB2Q,SAAUlM,EAAO3I,MAAMkE,KAEzBlB,EAAM8R,kBAAkBZ,IAG1BlR,EAAM+R,SAASb,EAAYhM,GAnB7B,2CApCU,wBA6DV,SAASG,IACH6L,GAGFlR,EAAMgS,WAAW,CACftM,OAAQkL,EAAW5T,MAAM0I,OACzBC,OAAQiL,EAAW5T,MAAM2I,SAI7BuL,EAAa,KAGf,MAAO,CACLJ,OACAlL,WACAV,WACAC,cACAC,SACAC,YACAK,SACAC,SACAJ,WAAYvF,EAAMuF,WAClBE,aAAczF,EAAMyF,iBSnI1B,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,KAErD,U,UVLT,SAAUvH,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMyT,EAAwBvT,8BAAkB,cAC1CwT,EAAuBxT,8BAAkB,aACzCyT,EAA+BzT,8BAAkB,qBACjDqG,EAAuBrG,8BAAkB,aAE/C,OAAQQ,yBAAcS,yBAAaoF,EAAsB,CACvDC,MAAOC,4BAAgB,CACrBsE,UAAS,iBAAY,GAAKpL,EAAKiU,KAAKtF,SAA3B,QACTuF,QAAS,OACTC,cAAe,OACf9N,OAAQrG,EAAKqG,SAEfU,SAAU/G,EAAKiU,KAAKlN,SACpB,cAAe/G,EAAKiG,WACpBP,SAAU1F,EAAK0F,SACf0O,UAAWC,sBAAUrU,EAAKsU,YAAa,CAAC,QACxCrN,OAAQjH,EAAKiH,OACbD,YAAahH,EAAKgH,YAClBE,UAAWlH,EAAK6B,MAAM0S,kBACtBpN,SAAUlH,EAAO,KAAOA,EAAO,GAAK,YAAC,OAAID,EAAK6B,MAAMuF,WAAWpH,EAAK+C,GAAIsE,KACxEnC,WAAYjF,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMyF,aAAatH,EAAK+C,MACrFoB,IAAK,UACL,YAAa,QACZ,CACD/B,QAASV,sBAAS,iBAAM,CACrB1B,EAAKwU,qBACDzT,yBAAcS,yBAAasS,EAAuB,CACjD3U,IAAK,EACLoF,SAAU,EACVkQ,WAAYzU,EAAKiU,KAAKQ,WACtB1R,GAAI/C,EAAK+C,GACT2R,SAAU1U,EAAK6B,MAAM8S,cACrB/O,QAAS3F,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAM+S,gBAAgB,QAChF,aAAc,oBACd,YAAa,cACZ,KAAM,EAAG,CAAC,aAAc,KAAM,cACjChT,gCAAoB,IAAI,GAC5BK,yBAAa+R,EAA8B,CACzCzK,KAAMvJ,EAAKiU,KAAK1K,KAChBsL,QAAS7U,EAAKiU,KAAKY,QACnBjC,MAAO5S,EAAK4S,MACZ6B,WAAYzU,EAAKiU,KAAKQ,WACtB,cAAezU,EAAKiG,WACpBC,MAAOlG,EAAKkG,MACZ4O,SAAU9U,EAAK6B,MAAMkT,cACpB5S,yBAAa,CAAEM,EAAG,GAAK,CACxBG,wBAAY,GAAG,SAACqO,EAAM3S,GACpB,MAAO,CACLF,KAAME,EACNqE,GAAIjB,sBAAS,iBAAM,EAChBX,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAK4S,MAAMoC,QAAO,YAAC,OAAIxV,EAAE0R,cAAgB5S,MAAI,SAAC2S,GAChH,OAAQlQ,yBAAcS,yBAAauS,EAAsB,CACvDxP,SAAU,EACV1C,MAAO7B,EAAKE,OAAO2B,MACnBkB,GAAIkO,EAAKlO,GACT5D,IAAK8R,EAAKlO,GACVwG,KAAM0H,EAAK1H,KACX,cAAevJ,EAAKiU,KAAK1K,OAASvJ,EAAKiV,SAASC,SAChDnO,SAAUkK,EAAKlK,SACfmK,YAAaD,EAAKC,YAAclR,EAAKiU,KAAKtF,SAC1C,qBAAsBsC,EAAKkE,iBAC3BxG,SAAU3O,EAAKiU,KAAKtF,SACpByG,WAAYf,sBAAUrU,EAAKsU,YAAa,CAAC,QACzC1O,QAAS,SAAC7D,GAAD,OAAkB/B,EAAK6B,MAAM+S,gBAAgB3D,EAAKlO,KAC3DsS,OAAQ,SAACtT,GAAD,OAAkB/B,EAAKsV,WAAWrE,EAAKlO,KAC/CmC,WAAYlF,EAAKiK,MACjB,YAAa,aACZ,KAAM,EAAG,CAAC,QAAS,KAAM,OAAQ,cAAe,WAAY,cAAe,qBAAsB,WAAY,aAAc,UAAW,SAAU,kBACjJ,gBAIR,KAAM,CAAC,OAAQ,UAAW,QAAS,aAAc,cAAe,QAAS,iBAE/ExH,EAAG,GACF,EAAG,CAAC,QAAS,WAAY,cAAe,WAAY,YAAa,SAAU,cAAe,cA5EzF,SAAU1C,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CG,MAAOC,4BAAgB,CAAC,oBAAqB,CAC3C,8BAA+BpB,EAAKiG,WACpC,2BAA4BjG,EAAKkG,UAElC,EACAnF,yBAAcS,yBAAa+T,qCAAyBvV,EAAKuJ,MAAOiM,4BAAgBC,gCAAoBzV,EAAKE,SAAU,KAAM,MACzHa,yBAAcC,gCAAoBC,cAAW,KAAM2B,wBAAY,CAAC,OAAQ,MAAO,QAAS,WAAW,SAACxE,EAAMsX,GACzG,OAAOxU,gCAAoB,MAAO,CAChC/B,IAAKuW,EACLvU,MAAOC,4BAAe,6DAAuDhD,KAC5E,CACDkK,wBAAYtI,EAAKuI,OAAQmN,IACxB,MACD,MACH,GAhBL,IAAM7V,GAAa,CAAEsB,MAAO,YAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,ICFpC2I,oCAAgB,CAC7BpK,KAAM,a,UUGR,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UXPTyB,GAAa,CAAEsB,MAAO,cACtBrB,GAAa,CAAEX,IAAK,GACpB6L,GAAa,CAAE7L,IAAK,GACpB8L,GAAa,CAAE9L,IAAK,GAEpB,SAAUY,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,SAAU,CAC5BqI,KAAM,SACNpI,MAAOC,4BAAgB,CAAC,sBAAuB,CAC7C,0BAA0C,IAAfpB,EAAK2V,MAChC,4BAA4C,IAAhB3V,EAAK2V,MACjC,8BAA8C,IAAf3V,EAAK2V,SAEtCpR,SAAU,EACVqD,YAAa3H,EAAO,KAAOA,EAAO,GAAK4H,4BAE7C,kBAAc7H,EAAK4V,SAAW5V,EAAK4V,QAAL,QAAI,aAAoB,CAAC,WAChD,CACe,IAAf5V,EAAK2V,OACD5U,yBAAcC,gCAAoB,OAAQlB,GAAY,QACtC,IAAhBE,EAAK2V,OACH5U,yBAAcC,gCAAoB,OAAQgK,GAAY,SACtDjK,yBAAcC,gCAAoB,OAAQiK,GAAY,OAC5D,MCtBQzC,oCAAgB,CAC7BpK,KAAM,YACNkL,MAAO,CACLsJ,MAAO,CACLrJ,KAAMsM,MACNzT,QAAS,iBAAM,MAOnBsG,MAZ6B,SAYtBY,EAZsB,GAYP,IAANX,EAAM,EAANA,KACRgN,EAAQxR,iBAAI,GAMlB,SAASyR,EAAS7T,GAChBA,EAAO+T,iBACP/T,EAAOgU,kBAEPJ,EAAM9W,MAAwB,IAAhB8W,EAAM9W,OAAe,EAAI,EAEvC8J,EAAK,SAAU,CACb5F,GAAIuG,EAAMsJ,MAAM,GAAG7P,GACnBlE,MAAO8W,EAAM9W,QAIjB,OAhBAkL,0BAAY,WAAK,MACf4L,EAAM9W,OAAQ,YAAM+T,MAAM,UAAZ,eAAgB/T,QAAS,KAelC,CACL8W,QACAC,c,UW9BN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UZPT/V,GAAa,CAAEsB,MAAO,sBACtBrB,GAAa,CAAEqB,MAAO,6BACtB6J,GAAa,CAAE7J,MAAO,qCACtB8J,GAAa,CAAE9J,MAAO,qCACtB+J,GAA0BhK,gCAAoB,MAAO,CAAEC,MAAO,2BAA6B,CAClFD,gCAAoB,MAAO,CAAEC,MAAO,iCAAmC,qBAClF,GAEE,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,MAAOpB,GAAY,CACrCoB,gCAAoB,MAAO8J,GAAY,EACpCjK,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAK4S,MAAMoC,QAAO,YAAC,OAAsB,IAAlBxV,EAAE0R,gBAAoB,SAACD,GAChH,OAAQlQ,yBAAcC,gCAAoB,MAAO,CAC/C7B,IAAK8R,EAAKlO,GACV5B,MAAO,gCAEP,QAEND,gCAAoB,MAAO+J,GAAY,EACpClK,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAK4S,MAAMoC,QAAO,YAAC,OAAsB,IAAlBxV,EAAE0R,gBAAoB,SAACD,GAChH,OAAQlQ,yBAAcC,gCAAoB,MAAO,CAC/C7B,IAAK8R,EAAKlO,GACV5B,MAAO,gCAEP,UAGR+J,KC3BW1C,oCAAgB,CAC7BpK,KAAM,oBACNkL,MAAO,CACLsJ,MAAO,CACLrJ,KAAMsM,MACNzT,QAAS,iBAAM,Q,UYDrB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UbPTvC,GAA0BqB,gCAAoB,MAAO,CAAEC,MAAO,oBAAsB,MAAO,GAC3FrB,GAAa,CACjBX,IAAK,EACLgC,MAAO,gCAEH6J,GAA0B9J,gCAAoB,MAAO,CAAEC,MAAO,6BAA+B,CACpFD,gCAAoB,MAAO,CAAEC,MAAO,uBAC/C,GAEE,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/C6F,MAAOC,4BAAgB,CAAE/B,OAAM,UAAM,GAAK/E,EAAKgW,WAAhB,QAC/B7U,MAAO,cACN,CACDD,gCAAoB,MAAO,CACzB2F,MAAOC,4BAAgB,CACrBjC,OAAQ7E,EAAKgW,WAAN,UAET7U,MAAO,qBACN,CACDD,gCAAoB,MAAO,CACzBC,MAAOC,4BAAgB,CAAC,CACtB,uCAAwCpB,EAAKgW,WAAa,GACzD,+BACF,EACAjV,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAKgW,WAAa,GAAG,SAACN,GACxF,OAAQ3U,yBAAcC,gCAAoB,MAAO,CAC/C7B,IAAKuW,EACLvU,MAAO,wBAEP,MACJtB,IACC,GACFG,EAAKgW,WAAa,GACdjV,yBAAcC,gCAAoB,MAAOlB,KAC1C8B,gCAAoB,IAAI,GAC5BoJ,IACC,IACFjK,yBAAcS,yBAAa+T,qCAAyBvV,EAAK6U,SAAU,CAAE1T,MAAO,4BAC5E,GAvCL,IAAMtB,GAAa,CACjBsB,MAAO,MACP0D,MAAO,MACPE,OAAQ,KACRkR,QAAS,eAELnW,GAA0BoB,gCAAoB,OAAQ,CAC1DkK,UAAW,mBACXjK,MAAO,eACPhD,EAAG,2DACF,MAAO,GACJ6M,GAAa,CACjB7L,IAAK,EACL+W,GAAI,KACJC,GAAI,KACJzX,EAAG,IACHyC,MAAO,iBAGH,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DC,GACCE,EAAKoW,WACDrV,yBAAcC,gCAAoB,SAAUgK,KAC7CpJ,gCAAoB,IAAI,KCvBjB4G,oCAAgB,CAC7BpK,KAAM,MACNkL,MAAO,CACL8M,UAAW,CACT7M,KAAMC,QACNpH,SAAS,M,UaDf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UdPTvC,GAAa,CACjBgF,MAAO,MACPE,OAAQ,KACRkR,QAAS,cACT9U,MAAO,MAEHrB,GAA0BoB,gCAAoB,OAAQ,CAC1DkK,UAAW,mBACXD,KAAM,OACNhN,EAAG,4EACHgD,MAAO,eACN,MAAO,GACJ6J,GAAa,CACjB7L,IAAK,EACLgM,KAAM,OACNhN,EAAG,2BACHgD,MAAO,YAEH8J,GAAa,CACjB9L,IAAK,EACL+W,GAAI,KACJC,GAAI,KACJzX,EAAG,IACHyC,MAAO,gBAGH,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DC,GACCE,EAAKqW,OACDtV,yBAAcC,gCAAoB,OAAQgK,KAC3CpJ,gCAAoB,IAAI,GAC3B5B,EAAKoW,WACDrV,yBAAcC,gCAAoB,SAAUiK,KAC7CrJ,gCAAoB,IAAI,KCjCjB4G,oCAAgB,CAC7BpK,KAAM,KACNkL,MAAO,CACL8M,UAAW,CACT7M,KAAMC,QACNpH,SAAS,GAEXiU,MAAO,CACL9M,KAAMC,QACNpH,SAAS,M,UcLf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UfPT,SAAUrC,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMiW,EAAgB/V,8BAAkB,MAExC,OAAQQ,yBAAcS,yBAAa8U,EAAe,CAAE,cAAc,ICDrD9N,oCAAgB,CAC7BpK,KAAM,MACNgL,WAAY,CAAEmN,SeDhB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UhBLT,SAAUxW,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMmW,EAAiBjW,8BAAkB,OAEzC,OAAQQ,yBAAcS,yBAAagV,EAAgB,CAAE,cAAc,ICDtDhO,oCAAgB,CAC7BpK,KAAM,OACNgL,WAAY,CAAEqN,UgBDhB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UjBLT,SAAU1W,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMiW,EAAgB/V,8BAAkB,MAExC,OAAQQ,yBAAcS,yBAAa8U,EAAe,CAChD,cAAc,EACd,UAAU,ICHC9N,oCAAgB,CAC7BpK,KAAM,OACNgL,WAAY,CAAEmN,SiBDhB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UlBLT,SAAUxW,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMiW,EAAgB/V,8BAAkB,MAExC,OAAQQ,yBAAcS,yBAAa8U,EAAe,CAAE,UAAU,ICDjD9N,oCAAgB,CAC7BpK,KAAM,MACNgL,WAAY,CAAEmN,SkBDhB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UlBGA/N,gCAAgB,CAC7BpK,KAAM,YACNgL,WAAY,CACVqN,OACAF,MACAG,OACAC,QACAC,QACAC,QAEFvN,MAAO,CACLmL,WAAY,CACVlL,KAAM9M,OACN2F,QAAS,iBAAO,KAElByS,QAAS,CACPA,QAASjJ,OACTD,UAAU,IAGdjD,MApB6B,SAoBtBY,GACL,IAAM0M,EAAavM,uBAAS,wBAAO,YAAMgL,WAAWuB,kBAAjB,eAA6BnX,QAAS,KAEzE,MAAO,CACLmX,iB,UmB3BN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UpBPT,SAAUjW,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CG,MAAOC,4BAAgB,CAAC,cAAe,CACrC,kBAAkC,IAAfpB,EAAKnB,MACxB,sBAAsC,IAAfmB,EAAKnB,UAE7B,KAAM,GCLI2J,oCAAgB,CAC7BpK,KAAM,aACNkL,MAAO,CACLsJ,MAAO,CACLrJ,KAAMsM,MACNzT,QAAS,iBAAM,MAGnBsG,MAR6B,SAQtBY,GACL,IAAMzK,EAAQ4K,uBAAS,wBAAM,YAAMmJ,MAAM,UAAZ,eAAgB/T,QAAS,KAEtD,MAAO,CAAEA,Y,UoBPb,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UpBCTuK,GAAa,CACjB8L,YACA4B,aACAC,qBACAC,aACAC,eAGazO,gCAAgB,CAC7BpK,KAAM,mBACNgL,cACAX,MAAO,CAAC,UACRa,MAAO,CACLrD,WAAY,CACVsD,KAAMC,QACNpH,SAAS,GAEX8D,MAAO,CACLqD,KAAMC,QACNpH,SAAS,GAEXmH,KAAM,CACJA,KAAMqC,OACND,UAAU,GAEZkJ,QAAS,CACPtL,KAAMqC,OACND,UAAU,GAEZiH,MAAO,CACLrJ,KAAMsM,MACNzT,QAAS,iBAAM,KAEjBqS,WAAY,CACVlL,KAAM9M,OACN2F,QAAS,iBAAO,Q,UqBtCtB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UtBPTvC,GAAa,CAAC,eACdC,GAAa,CACjBqB,MAAO,sBACP+V,KAAM,SAEFlM,GAA0BmM,6BAAiB,gBAC3ClM,GAAa,CAAC,OACdC,GAAa,CAAC,sBAAuB,MACrCkM,GAAa,CAAC,SACdC,GAAa,CAAC,sBAAuB,MACrCC,GAAa,CAAC,sBAAuB,MAAO,MAAO,OAAQ,MAE3D,SAAUvX,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CoT,UAAW,CACTnU,EAAO,KAAOA,EAAO,GAAKoU,uBAAU,SAACtS,GAAD,OAAkB/B,EAAKuX,QAAS,IAAO,CAAC,WAC5EtX,EAAO,KAAOA,EAAO,GAAKoU,uBAEhC,kBAAcrU,EAAKwX,WAAaxX,EAAKwX,UAAL,QAAI,aAAsB,CAAC,UAEvDC,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKuX,QAAS,IACnE/R,cAAevF,EAAO,KAAOA,EAAO,GAExC,kBAAcD,EAAK+V,iBAAmB/V,EAAK+V,gBAAL,QAAI,aACtCnO,YAAa3H,EAAO,KAAOA,EAAO,GAEtC,kBAAcD,EAAK+V,iBAAmB/V,EAAK+V,gBAAL,QAAI,aACtC2B,UAAWzX,EAAO,KAAOA,EAAO,GAEpC,kBAAcD,EAAK+V,iBAAmB/V,EAAK+V,gBAAL,QAAI,aACtC5U,MAAO,cACN,CACAnB,EAAKuX,QACDxW,yBAAcC,gCAAoB,MAAO,CACxC7B,IAAK,EACLgC,MAAO,qBACP,eAAgBnB,EAAKuX,QACpB,CACDrW,gCAAoB,MAAOpB,GAAY,CACrCkL,GACA9J,gCAAoB,OAAQ,CAC1BuW,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKuX,QAAS,IACnEpW,MAAO,qBACN,UAEJJ,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAK2V,OAAO,SAAC3Z,EAAM2b,GACrF,OAAQ5W,yBAAcC,gCAAoB,MAAO,CAC/C7B,IAAKwY,EACLxW,MAAO,qBACN,CACDD,gCAAoB,QAAS,CAC3B0W,IAAG,UAAK5X,EAAK+C,GAAV,YAAgB4U,IAClB7T,6BAAiB9H,EAAKgH,OAAQ,EAAGiI,IACnCjP,EAAK6b,QACFC,6BAAiB/W,yBAAcC,gCAAoB,SAAU,CAC3D7B,IAAK,EACL,sBAAuB,SAAC4C,GAAD,OAAmB/F,EAAK6C,MAASkD,GACxDgB,GAAE,UAAK/C,EAAK+C,GAAV,YAAgB4U,GAClBxW,MAAO,qBACN,EACAJ,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5G,EAAK6b,SAAS,SAAChZ,EAAOM,GACxF,OAAQ4B,yBAAcC,gCAAoB,SAAU,CAClD7B,IAAKA,EACLN,MAAOA,GACNiF,6BAAiB3E,GAAM,EAAGiY,OAC3B,OACH,EAAGlM,KAAc,CAClB,CAAC6M,kBAAe/b,EAAK6C,SAER,YAAd7C,EAAKuN,KACJuO,6BAAiB/W,yBAAcC,gCAAoB,QAAS,CAC1D7B,IAAK,EACL,sBAAuB,SAAC4C,GAAD,OAAoB/F,EAAK6C,MAAqBkD,GACrEgB,GAAE,UAAK/C,EAAK+C,GAAV,YAAgB4U,GAClBpO,KAAM,WACNpI,MAAO,qBACN,KAAM,EAAGkW,KAAc,CACxB,CAACW,oBAAkBhc,EAAK6C,SAE1BiZ,6BAAiB/W,yBAAcC,gCAAoB,QAAS,CAC1D7B,IAAK,EACL,sBAAuB,SAAC4C,GAAD,OAAmB/F,EAAK6C,MAASkD,GACxDkN,IAAKjT,EAAKiT,IACVC,IAAKlT,EAAKkT,IACV3F,KAAMvN,EAAKuN,KACXxG,GAAE,UAAK/C,EAAK+C,GAAV,YAAgB4U,GAClBxW,MAAO,qBACN,KAAM,EAAGmW,KAAc,CACxB,CAACW,mBAAgBjc,EAAK6C,cAG9B,OACH,EAAGgB,KACN+B,gCAAoB,IAAI,IAC3B,I,4BC5FU4G,gCAAgB,CAC7BpK,KAAM,aACNkL,MAAO,CACLmL,WAAY,CACVlL,KAAM9M,OACN2F,QAAS,iBAAO,KAElBW,GAAI,CACFwG,KAAMqC,OACNxJ,QAAS,KAGbqG,MAAO,CAAC,UACRzM,KAb6B,WAc3B,MAAO,CACL2Z,MAAO,GACP4B,QAAQ,IAGZW,MAAO,CACLzD,WAAY,CACV0D,QADU,SACD1D,GACP,KAAKkB,MAAQyC,KAAuB3D,IAEtC4D,MAAM,EACNC,WAAW,GAEb3C,MAAO,CACLwC,QADK,SACI1D,GACP,KAAKnO,MAAM,SAAU,CACnBvD,GAAI,KAAKA,GACT0R,gBAGJ4D,MAAM,IAGVE,QAAS,CACPf,UADO,SACIzV,GACT,KAAKwV,QAAS,EACdxV,EAAO+T,iBACP,KAAK9L,IAAIC,SAEX8L,gBANO,SAMUhU,GACfA,EAAOgU,sB,UsBzCb,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U,oBvBPT,SAAUhW,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMmY,EAAyBjY,8BAAkB,eAC3CqG,EAAuBrG,8BAAkB,aACzCkY,EAAwBlY,8BAAkB,cAEhD,OAAQQ,yBAAcS,yBAAaiX,EAAuB,CACxD9J,SAAU3O,EAAK2O,SACf0G,OAAQrV,EAAKqV,OACbjB,UAAW,CACTC,sBAAUrU,EAAKsU,YAAa,CAAC,QAC7BrU,EAAO,KAAOA,EAAO,GAAKoU,uBAAU,SAACtS,GAAD,OAAkB/B,EAAK6B,MAAM6W,wBAAwB1Y,EAAK+C,MAAM,CAAC,WACrGsR,sBAAUrU,EAAK6B,MAAM8W,0BAA2B,CAAC,WAEnDnT,cAAevF,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAM+S,gBAAgB5U,EAAK+C,OAC1F,CACDX,QAASV,sBAAS,iBAAM,CACpB1B,EAAKmR,YAmBFpQ,yBAAcS,yBAAagX,EAAwB,CAClDrZ,IAAK,EACLoK,KAAMvJ,EAAKuJ,KACXrG,OAAQlD,EAAK6B,MAAM+W,eAAiB5Y,EAAK+C,IAAM/C,EAAK6B,MAAMgX,mBAAmBC,SAAS9Y,EAAK+C,KAC1F,KAAM,EAAG,CAAC,OAAQ,aAtBpBhC,yBAAcS,yBAAaoF,EAAsB,CAChDzH,IAAK,EACL6H,YAAahH,EAAKgH,YAClBC,OAAQjH,EAAKiH,OACbC,UAAWlH,EAAKkH,UAChB6R,YAAa9Y,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMmX,qBAAqBhZ,EAAK+C,MAC9FkW,WAAYhZ,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMmX,qBAAqBhZ,EAAK+C,MAC7FwB,UAAW,GACV,CACDnC,QAASV,sBAAS,iBAAM,CACtBO,yBAAauW,EAAwB,CACnCjP,KAAMvJ,EAAKuJ,KACXrG,OAAQlD,EAAK6B,MAAM+W,eAAiB5Y,EAAK+C,IAAM/C,EAAK6B,MAAMgX,mBAAmBC,SAAS9Y,EAAK+C,IAC3F,iBAAkB,IACjB,KAAM,EAAG,CAAC,OAAQ,eAEvBN,EAAG,GACF,EAAG,CAAC,cAAe,SAAU,mBAOtCA,EAAG,GACF,EAAG,CAAC,WAAY,SAAU,cA1C/B,IAAM5C,GAAa,CAAEsB,MAAO,eAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,MAAO,CACzBC,MAAOC,4BAAgB,CAAC,uBAAwB,CAC9C,+BAAgCpB,EAAKkD,WAEtC,KAAM,KCPEsF,oCAAgB,CAC7BpK,KAAM,aACNkL,MAAO,CAILpG,OAAQ,CACNqG,KAAMC,QACNpH,SAAS,GAEXmH,KAAM,CACJA,KAAMgJ,OACNnQ,QAAS,M,UuBRf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UxBPT,SAAUrC,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CG,MAAO,aACP0F,MAAOC,4BAAgB,CACrBsE,UAAS,kBAA6B,GAAhBpL,EAAK2O,SAAlB,UAEXyF,UAAWnU,EAAO,KAAOA,EAAO,GAAKoU,uBAAU,SAACtS,GAAD,OAAkB/B,EAAKsG,MAAM,aAAa,CAAC,YACzF,CACDgC,wBAAYtI,EAAKuI,OAAQ,YACxB,ICRUC,oCAAgB,CAC7BpK,KAAM,YACNkL,MAAO,CAILqF,SAAU,CACRpF,KAAMgJ,OACNnQ,QAAS,M,UwBJf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,ICTV8W,GDSU,OCTf,SAAKA,GACHA,0BACAA,yBAFF,CAAKA,QAAQ,KAKEA,UzBKA1Q,gCAAgB,CAC7BpK,KAAM,WACNgL,WAAY,CACV+P,cACAC,aACA/G,aAEF/I,MAAO,CAELvG,GAAI,CACFwG,KAAMqC,OACNxJ,QAAS,IAIXuM,SAAU,CACRpF,KAAMgJ,OACNnQ,QAAS,GAIX2E,SAAU,CACRwC,KAAM9M,OACN2F,QAAS,iBAAO,CACdqC,EAAG,EACHG,EAAG,KAKPuM,WAAY,CACV5H,KAAMC,QACNpH,SAAS,GAIXmH,KAAM,CACJA,KAAMgJ,OACNnQ,QAAS,GAIX8O,YAAa,CACX3H,KAAMgJ,OACNnQ,QAAS,GAIX+S,iBAAkB,CAChB5L,KAAM9M,OACN2F,QAAS,IAIXP,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,IAGdjD,MA3D6B,SA2DtBY,EA3DsB,GA2DP,IAANX,EAAM,EAANA,KACR9G,EAAQyH,EAAMzH,QACduL,EAAWrB,EAASsB,OAEtBgM,EAA+B,KAC/BC,GAAU,EAEd,SAAShF,EAAavS,GACpBA,EAAO+T,iBACP/T,EAAOgU,kBAEPpN,EAAK,WAAY5G,GAGnB,SAASsT,IACPxT,EAAM0X,yBACN1X,EAAM2X,YAAc,KAMtB,SAASxS,IACPqS,EAAc,CACZhG,OAAQF,kBAEVmG,GAAU,EAENhQ,EAAMC,OAAS2P,GAASO,OAC1BJ,EAAY9F,aAAeJ,iBAC3BkG,EAAY3F,SAAWpK,EAAMvG,KAE7BsW,EAAY/F,YAAcH,iBAC1BkG,EAAY5F,SAAWnK,EAAMvG,IAIjC,SAASkE,EAAT,GAAqC,IAAlBxC,EAAkB,EAAlBA,EAAGG,EAAe,EAAfA,EACA,OAAhByU,IAECC,IACHzX,EAAMuR,eAAeiG,GAAa,GAClCxX,EAAM6X,sBAAsB,CAAEC,OAAQrQ,EAAMvG,GAAIoH,YAAY,IAC5DtI,EAAM8R,kBAAkB0F,EAAYhG,SAGtCxR,EAAM+R,SAASyF,EAAYhG,OAAQ,CAAE5O,IAAGG,KAAKmH,EAASsB,SAOxD,SAASnG,IACa,OAAhBmS,IAEAA,EAAY/F,YACdzR,EAAM+X,gBAAgB,CACpBD,OAAQN,EAAY/F,YACpBG,SAAUnK,EAAMvG,KAETsW,EAAY9F,cACrB1R,EAAM+X,gBAAgB,CACpBD,OAAQN,EAAY9F,aACpBG,SAAUpK,EAAMvG,MAKtB,MAAO,CACLlB,QACAuL,WACApG,cACAC,SACAC,YACAoN,cACAe,SACA6D,gB0B7IN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,ICPVjE,GDOU,OCPf,SAAKA,GACHA,qBACAA,+BACAA,yBACAA,2BACAA,2CACAA,2BACAA,8BAPF,CAAKA,QAAQ,KAUEA,ICVV4E,GDUU5E,OCVf,SAAK4E,GACHA,iBAGAA,qBACAA,6BACAA,mBAGAA,2BAGAA,qBACAA,eAGAA,yBAGAA,eACAA,aACAA,iBACAA,eACAA,iBACAA,gBAxBF,CAAKA,QAAW,KA2BDA,U5BZArR,gCAAgB,CAC7BpK,KAAM,OACNgL,WAAY,CACV0Q,oBACAzH,YACA0H,YACAC,eAEF1Q,MAAO,CAELjD,OAAQ,CACNkD,KAAMgJ,OACNnQ,QAAS,GAIX6D,WAAY,CACVsD,KAAMC,QACNpH,SAAS,GAIXW,GAAI,CACFwG,KAAMqC,OACND,UAAU,GAIZzF,MAAO,CACLqD,KAAMC,QACNpH,SAAS,GAIXP,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,IAGdjD,MAvC6B,SAuCtBY,GACL,IAAMzH,EAAQyH,EAAMzH,QACdoS,EAAO9P,iBAAItC,EAAMoY,MAAM3Q,EAAMvG,KAC7BmX,EAAU/V,mBAGVyO,EAAQnJ,uBAAS,WACrB,OAAO5H,EACJoY,MAAM3Q,EAAMvG,IACZoX,QACAtK,KAAI,YAAM,OAAIhO,EAAM+Q,MAAM+G,SAIzBnF,EAAsB/K,uBAAS,WACnC,OAAOH,EAAMrD,YAA+C,IAAjCpE,EAAMuY,gBAAgB5d,QAAgByX,EAAKpV,MAAM0K,OAAS0L,GAASC,YAMhG,SAASjL,IAAK,MACZ,YAAQpL,aAAR,SAAemL,IAAIC,QAGrB,SAASjD,IACPnF,EAAMwY,aACNxY,EAAM8R,kBAAkBrK,EAAMvG,IAUhC,SAASkE,EAAQF,EAAiBvC,GAChC3C,EAAM+R,SAAStK,EAAMvG,GAAI,CACvB0B,EAAGsC,EAAStC,EAAID,EAAOC,EAAIwP,EAAKpV,MAAMgG,MAAQ,EAC9CD,EAAGmC,EAASnC,EAAIJ,EAAOI,EAAIqP,EAAKpV,MAAMkG,OAAS,IAQnD,SAASuP,EAAavS,GAAqB,MACrCe,SAASwX,iBAAT,UAA2BJ,EAAQrb,aAAnC,aAA2B,EAAemL,KAC5CkQ,EAAQrb,MAAMmL,IAAIuQ,OAElBxY,EAAO+T,iBASX,SAASR,EAAYqE,GACf9X,EAAM+W,eAAiBe,GACzB9X,EAAM+S,gBAAgB,MAO1B,SAASlP,EAAUsJ,GACjBnN,EAAM2Y,YAAY,CAChBzX,GAAIuG,EAAMvG,GACViM,SAIJ,MAAO,CACLiF,OACAiG,UACArY,QACA+Q,QACA4B,sBACAvK,QACAhD,SACAD,cACAsN,cACA5O,WACA4P,aACAuE,eACA5E,gB6B3IN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U9BLT,SAAUlV,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMoa,EAAsBla,8BAAkB,YACxCoH,EAAuBpH,8BAAkB,aAE/C,OAAQQ,yBAAcS,yBAAamG,EAAsB,CACvD+S,aAAc1a,EAAK2a,WACnB/S,YAAaC,2BAAe7H,EAAK8H,YAAa,CAAC,UAC/CC,aAAc/H,EAAKgI,aACnBC,YAAajI,EAAKkI,YAClBC,WAAYnI,EAAK4a,WACjBlV,SAAUzF,EAAO,KAAOA,EAAO,GAAK,YAAI,OAAID,EAAKsG,MAAM,SAAU0I,KACjE7N,MAAO,UACN,CACDiB,QAASV,sBAAS,iBAAM,CACtBR,gCAAoB,MAAO,CACzB2F,MAAOC,4BAAgB9G,EAAK6G,OAC5B1F,MAAO,gBACN,CACDc,yBAAawY,EAAqB,CAChCrW,KAAMpE,EAAKoE,KACXyW,iBAAkB7a,EAAK8a,eACvBC,eAAgB/a,EAAKgb,cACpB,KAAM,EAAG,CAAC,OAAQ,mBAAoB,mBACzC1S,wBAAYtI,EAAKuI,OAAQ,YACxB,OAEL9F,EAAG,GACF,EAAG,CAAC,eAAgB,cAAe,eAAgB,cAAe,eA3BjE,SAAU1C,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/C4G,YAAa3H,EAAO,KAAOA,EAAO,GAAK4H,4BAE3C,kBAAc7H,EAAKib,WAAajb,EAAKib,UAAL,QAAI,aAAsB,CAAC,OAAO,UAC9D9Z,MAAO,YACN,CACAnB,EAAKkb,WACDna,yBAAcC,gCAAoB,MAAO,CACxC7B,IAAK,EACL0H,MAAOC,4BAAgB9G,EAAK6G,OAC5B1F,MAAO,uBACN,KAAM,IACTS,gCAAoB,IAAI,IAC3B,ICbU4G,oCAAgB,CAC7BpK,KAAM,WACNkL,MAAO,CACLlF,KAAM,CACJmF,KAAMgJ,OACNnQ,QAAS,IAGbpG,KAR6B,WAS3B,MAAO,CACLkf,WAAW,EACX9K,MAAO,CACL3L,EAAG,EACHG,EAAG,GAELyL,IAAK,CACH5L,EAAG,EACHG,EAAG,KAIT6E,SAAU,CACR5C,MADQ,WAEN,IAAMlC,EAAO0G,KAAK4D,IAAI,KAAKmB,MAAM3L,EAAG,KAAK4L,IAAI5L,GACvChD,EAAM4J,KAAK4D,IAAI,KAAKmB,MAAMxL,EAAG,KAAKyL,IAAIzL,GACtCC,EAAQwG,KAAKC,IAAI,KAAK8E,MAAM3L,EAAI,KAAK4L,IAAI5L,GACzCM,EAASsG,KAAKC,IAAI,KAAK8E,MAAMxL,EAAI,KAAKyL,IAAIzL,GAEhD,MAAO,CACLD,KAAI,UAAKA,EAAL,MACJlD,IAAG,UAAKA,EAAL,MACHoD,MAAK,UAAKA,EAAL,MACLE,OAAM,UAAKA,EAAL,SAIZoW,QApC6B,WAqC3Bzb,OAAOiK,iBAAiB,YAAa,KAAKyR,WAC1C1b,OAAOiK,iBAAiB,UAAW,KAAK0R,UAE1CC,QAxC6B,WAyC3B5b,OAAOoK,oBAAoB,YAAa,KAAKsR,WAC7C1b,OAAOoK,oBAAoB,UAAW,KAAKuR,UAE7C9C,QAAS,CACPgD,YADO,SACMxZ,GACX,MAAuB,KAAKiI,IAAYlB,wBAAhCrH,EAAR,EAAQA,IAAKkD,EAAb,EAAaA,KACPF,GAAK1C,EAAO0C,EAAIE,GAAQ,KAAKP,KAC7BQ,GAAK7C,EAAO6C,EAAInD,GAAO,KAAK2C,KAElC,MAAO,CAAEK,IAAGG,MAGdqW,UATO,SASIlZ,GACT,IAAMgF,EAAW,KAAKwU,YAAYxZ,GAElC,KAAKmZ,WAAY,EACjB,KAAK9K,MAAQrJ,EACb,KAAKsJ,IAAMtJ,EAEX,KAAKT,MAAM,iBAAkBvE,IAG/BqZ,UAnBO,SAmBIrZ,GACL,KAAKmZ,YACP,KAAK7K,IAAM,KAAKkL,YAAYxZ,KAIhCsZ,QAzBO,WA0BD,KAAKH,YACP,KAAK7V,kBAEL,KAAK6V,WAAY,EACjB,KAAK9K,MAAM3L,EAAI,EACf,KAAK2L,MAAMxL,EAAI,EACf,KAAKyL,IAAI5L,EAAI,EACb,KAAK4L,IAAIzL,EAAI,IAIjBS,gBArCO,WAsCL,IAAMV,EAAO0G,KAAK4D,IAAI,KAAKmB,MAAM3L,EAAG,KAAK4L,IAAI5L,GACvChD,EAAM4J,KAAK4D,IAAI,KAAKmB,MAAMxL,EAAG,KAAKyL,IAAIzL,GACtCC,EAAQwG,KAAKC,IAAI,KAAK8E,MAAM3L,EAAI,KAAK4L,IAAI5L,GACzCM,EAASsG,KAAKC,IAAI,KAAK8E,MAAMxL,EAAI,KAAKyL,IAAIzL,GAEhD,KAAK0B,MAAM,eAAgB,CACzB3B,OACAlD,MACAiC,OAAQqB,EAAStD,EACjBqD,MAAOH,EAAOE,Q,U8BvFtB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U9BJA2D,gCAAgB,CAC7BpK,KAAM,SACNqK,MAAO,CACL,SACA,MACA,YACA,WACA,OACA,eAEFW,WAAY,CACVoS,YACAnS,aAEFC,MAAO,CACLlF,KAAM,CACJmF,KAAMgJ,OACNnQ,QAAS,GAEXkC,SAAU,CACRiF,KAAMgJ,OACNnQ,QAAS,GAEXyC,MAAO,CACL0E,KAAMgJ,OACNnQ,QAAS,GAEX2C,OAAQ,CACNwE,KAAMgJ,OACNnQ,QAAS,GAEXoC,OAAQ,CACN+E,KAAM9M,OACN2F,QAAS,iBAAO,CAAEqC,EAAG,EAAGG,EAAG,MAG/B6E,SAAU,CACR5C,MADQ,WAEN,MAAO,CACL4U,eAAc,UAAK,KAAKnX,SAAV,cAAwB,KAAKA,SAA7B,MACd8G,UAAS,gBAAW,KAAKhH,KAAhB,KACTO,KAAI,UAAK,KAAKH,OAAOC,EAAjB,MACJhD,IAAG,UAAK,KAAK+C,OAAOI,EAAjB,MACHC,MAAK,UAAK,KAAKA,MAAV,MACLE,OAAM,UAAK,KAAKA,OAAV,SAIZ/I,KAhD6B,WAiD3B,MAAO,CACL0f,iBAAkB,CAChBjX,EAAG,EACHG,EAAG,GAEL+W,sBAAuB,CACrB/W,EAAG,EACHH,EAAG,GAELmX,SAAS,EACTC,oBAAoB,IAGxBV,QA9D6B,WA+D3Bzb,OAAOiK,iBAAiB,YAAa,KAAKmS,aAC1Cpc,OAAOiK,iBAAiB,UAAW,KAAKoS,YAE1CT,QAlE6B,WAmE3B5b,OAAOoK,oBAAoB,YAAa,KAAKgS,aAC7Cpc,OAAOoK,oBAAoB,UAAW,KAAKiS,YAE7CxD,QAAS,CACPzQ,YADO,SACM/F,GACX,KAAKia,aAAaja,EAAO0C,EAAG1C,EAAO6C,GAEnC7C,EAAO+T,iBACP/T,EAAOgU,mBAGT/N,aARO,SAQOjG,GACZ,MAA6BA,EAAOgJ,QAAQ,GAApCR,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QAEjB,KAAKwR,aAAazR,EAASC,GAE3BzI,EAAO+T,iBACP/T,EAAOgU,mBAGT+F,YAjBO,SAiBM/Z,GACX,KAAKka,IAAIla,EAAO0C,EAAG1C,EAAO6C,IAG5BsD,YArBO,SAqBMnG,GACX,MAA6BA,EAAOgJ,QAAQ,GAApCR,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QAEjB,KAAKyR,IAAI1R,EAASC,IAMpBwR,aA9BO,SA8BOvX,EAAWG,GACvB,KAAKgX,SAAU,EACf,KAAKF,iBAAmB,CACtBjX,EAAGA,EAAI,KAAKD,OAAOC,EACnBG,EAAGA,EAAI,KAAKJ,OAAOI,GAErB,KAAK+W,sBAAwB,CAAElX,IAAGG,MAMpCqX,IA1CO,SA0CFxX,EAAWG,GACV,KAAKgX,SACP,KAAKtV,MAAM,MAAO,CAChB7B,EAAG4G,KAAK4D,IAAIxK,EAAI,KAAKiX,iBAAiBjX,EAAG,GACzCG,EAAGyG,KAAK4D,IAAIrK,EAAI,KAAK8W,iBAAiB9W,EAAG,MAK/CsX,uBAnDO,SAmDiBzX,EAAWG,GACjC,IAAMuX,EAAS9Q,KAAKC,IAAI,KAAKqQ,sBAAsBlX,EAAIA,GACjD2X,EAAS/Q,KAAKC,IAAI,KAAKqQ,sBAAsB/W,EAAIA,GAEvD,OAAOuX,EAASC,EAAS,GAM3BL,UA7DO,SA6DIha,GACJ,KAAK6Z,UAEY,IAAlB7Z,EAAOsa,QACL,KAAKH,uBAAuBna,EAAO0C,EAAG1C,EAAO6C,KAE/C,KAAK0B,MAAM,cAAevE,GAE1BA,EAAOgU,kBACPhU,EAAO+T,kBAIX,KAAK8F,SAAU,IAGjBhB,WA7EO,SA6EK7Y,GACV,MAA6BA,EAAOua,eAAe,GAA3C/R,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QAEb,KAAK0R,uBAAuB3R,EAASC,IACvC,KAAKlE,MAAM,YAGb,KAAKsV,SAAU,GAQjBjB,WA5FO,SA4FK5Y,GACV,GAAKA,EAAOwa,SAAZ,CAGA,IAAMC,EAAQza,EAAOqa,OAAS,EAAI,GAAK,EACjChY,EAAO,KAAKA,KAAQoY,EAAQ,GAElC,KAAKlW,MAAM,OAAQ,CAAElC,OAAMmK,MAAOxM,MAQpC+Y,eA3GO,SA2GS/Y,GACTA,EAAOwa,UACV,KAAKjW,MAAM,aASf0U,aAtHO,SAsHOyB,GACZ,KAAKnW,MAAM,YAAamW,O,U+B3L9B,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UhCPT,SAAU1c,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CG,MAAOC,4BAAgB,CAAC,QAAS,CAC/B,qBAAsBpB,EAAKiG,cAE7B1B,UAAW,EACXsC,MAAOC,4BAAgB,CACrBC,SAAU,WACVpC,KAAI,UAAK3E,EAAK0G,YAAY/B,KAAtB,MACJlD,IAAG,UAAKzB,EAAK0G,YAAYjF,IAAtB,MACHoD,MAAK,UAAK7E,EAAK0G,YAAY5B,MAAQ9E,EAAK0G,YAAY/B,KAA/C,MACLI,OAAM,UAAK/E,EAAK0G,YAAYhD,OAAS1D,EAAK0G,YAAYjF,IAAhD,MACN4E,OAAQrG,EAAKqG,UAEd,KAAM,GCbImC,oCAAgB,CAC7BpK,KAAM,QACNkL,MAAO,CACL5C,YAAa,CACX6C,KAAM9M,OACNkP,UAAU,GAEZ5I,GAAI,CACFwG,KAAMqC,OACND,UAAU,GAEZ1F,WAAY,CACVsD,KAAMC,QACNpH,SAAS,GAEXiE,OAAQ,CACNkD,KAAMgJ,OACNnQ,QAAS,GAEXgC,KAAM,CACJmF,KAAMgJ,OACNnQ,QAAS,M,UgCjBf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UCND,SAAUsa,GAAMC,GAA4E,IAA3CC,EAA2C,uDAAF,GAChG/a,EAAQ8a,IAEVE,EAAqC,CACvC,CACE7Z,MAAO,QACP8Z,QAASjb,EAAMkb,QACfC,YAAa,qBACbC,MAAOpb,EAAMqb,MAEf,CAAE3T,KAAM,aACR,CACE2N,KAAM,MACN4F,QAASjb,EAAMsb,cAEjB,CACEjG,KAAM,OACN4F,QAASjb,EAAMsb,cAEjB,CACEjG,KAAM,QACN4F,QAASjb,EAAMsb,cAEjB,CACEna,MAAO,SACPga,YAAa,SACbF,QAASjb,EAAMsb,aACfF,MAAOpb,EAAMub,iBAEf,CAAE7T,KAAM,aACR,CACE2N,KAAM,YACN4F,QAASjb,EAAMiE,UAAUtJ,OAAS,IAuFtC,OAnFIqF,EAAMuY,gBAAgB5d,OAAS,IACjCqgB,EAAK/f,KAAK,CAAEyM,KAAM,cAClBsT,EAAK/f,KAAK,CACRkG,MAAO,UACPqa,QAAS,CACP,CACEra,MAAO,iBACPga,YAAa,cACbC,MAAO,kBAAMpb,EAAMkO,OAAO,KAE5B,CACE/M,MAAO,kBACPga,YAAa,oBACbC,MAAO,kBAAMpb,EAAMkO,QAAQ,SAM/BlO,EAAMsb,eACRN,EAAK/f,KAAK,CAAEyM,KAAM,cAClBsT,EAAK/f,KAAK,CACRkG,MAAO,kBACPqa,QAAS,CACP,CACEra,MAAO,kBACPia,MAAO,kBAAMpb,EAAMyb,UAAUzb,EAAMwE,UAErC,CACErD,MAAO,iBACPia,MAAO,kBAAMpb,EAAM0b,gBAAgB,QAIzCV,EAAK/f,KAAK,CACRkG,MAAO,gBACPqa,QAAS,CACP,CACEra,MAAO,gBACPia,MAAO,kBAAMpb,EAAMyb,UAAUzb,EAAMwE,UAErC,CACErD,MAAO,iBACPia,MAAO,kBAAMpb,EAAM0b,iBAAiB,SAMxC1b,EAAM2b,UACRX,EAAK/f,KAAK,CACRkG,MAAO,SACPqa,QAAS,CACP,CAAEra,MAAO,UACT,CACEA,MAAO,WACP8Z,QAASjb,EAAM4b,eAMnBb,EAASpgB,OAAS,IACpBqgB,EAAK/f,KAAK,CAAEyM,KAAM,cAClBsT,EAAOA,EAAKa,OAAOd,IAGgB,IAAjC/a,EAAMuY,gBAAgB5d,SACxBqgB,EAAK/f,KAAK,CAAEyM,KAAM,cAClBsT,EAAK/f,KAAK,CACRkG,MAAO,sBAIPnB,EAAM+W,eACRiE,EAAK/f,KAAK,CAAEyM,KAAM,cAClBsT,EAAK/f,KAAK,CACRyM,KAAM,WACNvG,MAAO,wBACP2a,SAAS,KAINd,ECvHK,SAAUe,GAAMjB,GACdA,IAEd,MAAO,CACL,CACE3Z,MAAO,QACPqa,QAAS,CACP,CACEra,MAAO,cAET,CAAEuG,KAAM,aACR,CAAEvG,MAAO,iBACT,CAAEA,MAAO,wBCTH,SAAU6a,GAAQhc,GAC9B,OAAO6a,GAAK7a,EAAO+b,GAAK/b,GAAO6b,OAAO,CAAEnU,KAAM,e,0DCGhD,SAASuU,GAAiB1Z,EAAcyZ,EAAqBnX,EAA0BqX,GAKrF,IAL4I,IAAtCC,EAAsC,uDAAlB,mBACpHC,EAAYJ,EAAOK,WAAU,GAC7BrZ,EAAQ6B,EAAY5B,MAAQ4B,EAAY/B,KAAkB,EAAVoZ,EAChDhZ,EAAS2B,EAAYhD,OAASgD,EAAYjF,IAAiB,EAAVsc,EAE9CzhB,EAAI,EAAGA,EAAI2hB,EAAUE,SAAS3hB,OAAQF,IAAK,CAClD,IAAM8hB,EAAQH,EAAUE,SAAS7hB,GAC3BqI,EAAOuN,SAASkM,EAAMvX,MAAMlC,KAAK0Z,QAAQ,KAAM,IAAK,IAAMN,EAC1Dtc,EAAMyQ,SAASkM,EAAMvX,MAAMpF,IAAI4c,QAAQ,KAAM,IAAK,IAAMN,EAE9DK,EAAMvX,MAAMlC,KAAZ,UAAuBA,EAAO+B,EAAY/B,KAA1C,MACAyZ,EAAMvX,MAAMpF,IAAZ,UAAsBA,EAAMiF,EAAYjF,IAAxC,MAeF,OAZAwc,EAAUpX,MAAM,QAAUzC,EAAKb,WAC/B0a,EAAUpX,MAAMhC,MAAhB,UAA2BA,EAA3B,MACAoZ,EAAUpX,MAAM9B,OAAhB,UAA4BA,EAA5B,MACAkZ,EAAUpX,MAAME,SAAW,WAC3BkX,EAAUpX,MAAMpF,IAAM,IACtBwc,EAAUpX,MAAMlC,KAAO,IACvBsZ,EAAUpX,MAAMyX,WAAa,OAEzBN,GACFC,EAAUM,UAAUC,IAAIR,GAGnB,CAAEC,YAAWpZ,QAAOE,UAS7B,SAAS0Z,GAAkBC,EAAyBC,GAClD,IAAMC,EAAS9b,SAAS+b,cAAc,UAEtCD,EAAOxgB,KAAO,QACdwgB,EAAO/X,MAAMhC,MAAQ,MACrB+Z,EAAO/X,MAAM9B,OAAS,MACtB6Z,EAAO/X,MAAMqM,QAAU,IACvB0L,EAAO/X,MAAME,SAAW,WACxB6X,EAAO/X,MAAMpF,IAAM,MACnBmd,EAAO/X,MAAMlC,KAAO,MAEpB7B,SAASgc,KAAKC,YAAYH,GAE1B,IAAMI,EAAaJ,EAAOK,cAE1B,GAAID,EAAY,CACd,IAAME,EAAWpc,SAAS+b,cAAc,SAExCK,EAASH,YAAYjc,SAASqc,eAAT,yCAETR,EAAS9O,KAAI,SAAAjS,GAAC,gBAAOA,EAAP,SAAcoU,KAAK,KAFxB,4CAOrBgN,EAAWlc,SAASsc,KAAKC,OAAOH,GAChCF,EAAWlc,SAASgc,KAAKC,YAAYL,GAGvC,OAAOE,E,SAQMU,G,qGAAf,WAAqDrB,EAAwBtb,GAA7E,8FACEG,SAASgc,KAAKC,YAAYd,GAD5B,SAGwBsB,KAAW5c,GAAIsb,GAHvC,cAGQuB,EAHR,OAKEvB,EAAUwB,SALZ,kBAOSD,GAPT,2C,kCAaeE,G,mGAAf,WAA4BC,GAA5B,0GACS,IAAIC,SAAc,SAAAC,GACvBjV,YAAW,WACT,IAAK+U,EAAK,OAAOE,IAEjBF,EAAIhW,iBAAiB,cAAc,kBAAMkW,OACzCF,EAAIG,eANV,2C,kCAmBeC,G,uGAAf,WAA2B3b,EAAcyZ,EAAqBnX,GAA9D,sHACuCoX,GAAgB,EAAI1Z,EAAMyZ,EAAQnX,EAAa,IAA5EuX,EADV,EACUA,UAAWpZ,EADrB,EACqBA,MAAOE,EAD5B,EAC4BA,OAD5B,SAEwBib,GAASV,YAAoBrB,EAAW,SAFhE,cAEQuB,EAFR,OAGQb,EAAW,CAAC,IAAK,IACjBsB,EAAkC,GAAxB5U,KAAK4D,IAAL,MAAA5D,KAAYsT,GACtBuB,EAAkC,GAAxB7U,KAAK6D,IAAL,MAAA7D,KAAYsT,GACtBD,EAAQ,IAAIyB,MAEdC,EAAU,EAEd1B,EAAM2B,IAAMb,GAER3a,EAAQob,GAAWpb,EAAQqb,GAAWnb,EAASkb,GAAWlb,EAASmb,KAE/DI,EAAczb,EAAQE,EAG5Bqb,EAAUE,EACNJ,EAAUrb,EACVqb,EAAUnb,EAEVub,GACF3B,EAAS4B,WAIb7B,EAAM7X,MAAMhC,MAAZ,UAAuBwG,KAAK+F,MAAMvM,EAAQub,GAA1C,MACA1B,EAAM7X,MAAM9B,OAAZ,UAAwBsG,KAAK+F,MAAMrM,EAASqb,GAA5C,MAEMxB,EAASoB,GAASvB,iBAAiBC,EAAOC,GA7BlD,UA+BQqB,GAASN,YAAT,OAAqBd,QAArB,IAAqBA,OAArB,EAAqBA,EAAQK,eA/BrC,QAiCQ,OAANL,QAAM,IAANA,KAAQa,SAjCV,4C,yBAoCA,IAAMO,GAAW,CACflC,mBACAW,oBACAa,eACAS,cACAL,gBAGaM,M,uMC5JTQ,G,iBAIJ,WAAaC,EAAmB1d,GAAU,wBACxC2d,KAAKD,KAAOA,EACZC,KAAK3d,GAAKA,KAICyd,MCZTG,GAAa,CACjBC,KAAM,EACNC,OAAQ,EACRC,QAAS,GAGIH,M,0BCHTI,G,iBAkEJ,WAAa3iB,GAAqC,WAAvB4iB,EAAuB,uDAAF,GAAE,wBA5D3C,KAAAC,YAAwC,GAOxC,KAAAC,QAA6B,GAO7B,KAAAC,gBAA0B,EAO1B,KAAAC,eAAyB,EAezB,KAAAviB,MAAgB8hB,GAAWG,QAQ3B,KAAAO,SAAmBV,GAAWG,QAQ9B,KAAAQ,OAA2D,GAqB3D,KAAAC,SAAW,SAAC1iB,GACjB,EAAKwiB,SAAWxiB,EAChB,EAAK2iB,KAAO,kBAAM3iB,IASV,KAAA4iB,YAAc,SAACC,EAAmB7iB,GAC1C,EAAKyiB,OAAOK,SAAQ,SAACC,GACfA,EAAMF,YAAcA,GACtBE,EAAMC,SAAShjB,OAUX,KAAA2iB,KAAO,WACf,OAAO,EAAK3iB,OASJ,KAAAijB,WAAa,SAACC,GACtB,OAAOtlB,OACJulB,OAAO,EAAKf,aACZjM,QAAO,SAACnW,GAAD,OAAWA,IAAUkjB,KAC5BvlB,QAQE,KAAAylB,cAAgB,SAACZ,GACtB,EAAKH,QAAQS,SAAQ,YAA6B,IAA1BlB,EAA0B,EAA1BA,KAAM1d,EAAoB,EAApBA,GAC5B0d,EAAKyB,OAAOb,EAAUte,OAUnB,KAAAmf,OAAS,SAACrjB,EAAekE,GAC9B,EAAKke,YAAYle,GAAMlE,EACvB,EAAKwiB,SAAW,EAAKG,QAQhB,KAAAW,UAAY,WACjB,OAAI,EAAKtjB,QAAU,EAAKwiB,UACtB,EAAKF,gBAAiB,EACtB,EAAKtiB,MAAQ,EAAKwiB,SAClB,EAAKY,cAAc,EAAKZ,UACxB,EAAKI,YAAY,SAAU,EAAKJ,UAEzB,EAAKH,QAAQrR,KAAI,gBAAG4Q,EAAH,EAAGA,KAAH,OAAcA,MAEjC,IAMF,KAAA2B,MAAQ,WACb,EAAKvjB,MAAQ8hB,GAAWG,QACxB,EAAKO,SAAWV,GAAWG,QAC3B,EAAKW,YAAY,SAAU,EAAKJ,WAS3B,KAAAgB,GAAK,SAACX,EAAmBG,GAC9B,EAAKP,OAAOxkB,KAAK,CAAE4kB,YAAWG,cAQzB,KAAAS,kBAAoB,WACzB,OAAO,EAAKd,QAAU,EAAKH,UAAY,EAAKxiB,OArH5C6hB,KAAKtiB,KAAOA,EACZsiB,KAAKO,YAAcD,EAASjS,QAAO,SAACc,EAAK9M,GAAN,uBAAC,mBAC/B8M,GAD8B,sBAEhC9M,EAAK4d,GAAWG,YACf,OAsHOC,MC9LTjK,G,0DAAN,kD,0BAMS,EAAAsL,MAAQ,aANjB,E,2BAAwBrB,IAWTjK,MCXTG,G,0DAAN,kD,0BAOS,EAAAiL,OAAS,SAACrjB,GACX,EAAKwiB,WAAaxiB,IACpB,EAAKwiB,SAAWxiB,EAChB,EAAK4iB,YAAY,SAAU5iB,KAVjC,E,2BAAyBkiB,IAeV9J,MCXTsL,G,iBAAN,gDAMS,KAAAC,MAA4B,GAO5B,KAAAC,MAA4B,GAO5B,KAAAC,WAA+B,GAO/B,KAAAC,QAAU,SAAClC,GACZA,aAAgB3J,KAClB,EAAK4L,WAAW5lB,KAAK2jB,GACrB,EAAKmC,QAAQnC,IAEf,EAAKgC,MAAM3lB,KAAK2jB,IAQX,KAAAoC,WAAa,SAACpC,GACnB,GAAIA,aAAgB3J,GAAW,CAC7B,IAAMgM,EAAa,EAAKJ,WAAWK,WAAU,gBAAG3kB,EAAH,EAAGA,KAAH,OAAcA,IAASqiB,EAAKriB,SAErD,IAAhB0kB,GACF,EAAKJ,WAAWhlB,OAAOolB,EAAY,GAErC,EAAKV,QAGP,IAAM1M,EAAQ,EAAK+M,MAAMM,WAAU,gBAAG3kB,EAAH,EAAGA,KAAH,OAAcA,IAASqiB,EAAKriB,SAEhD,IAAXsX,IACF,EAAKsN,kBAAkBvC,GACvB,EAAKgC,MAAM/kB,OAAOgY,EAAO,IAG3B,EAAKuN,QAUA,KAAAC,cAAgB,SAAC3b,EAAqBC,EAAqBkM,GAChEnM,EAAO2Z,QAAQpkB,KAAK,IAAI0jB,GAAWhZ,EAAQkM,IAC3CnM,EAAO1I,MAAQ8hB,GAAWG,QAC1B,EAAK8B,QAAQrb,GACb,EAAK0b,QAUA,KAAAE,iBAAmB,SAACC,EAAyBC,GAClDD,EACGlC,QACAxD,SACAiE,SAAQ,WAA2BrlB,GAAa,IAArCmkB,EAAqC,EAArCA,KAAM1d,EAA+B,EAA/BA,GACZsgB,IAAe5C,IAEjB4C,EAAWnB,OAAOvB,GAAWG,QAAS/d,GAGtCqgB,EAAWlC,QAAQxjB,OAAOpB,EAAG,GAG7B,EAAKsmB,QAAQS,OAGnB,EAAKJ,QAQP,KAAAD,kBAAoB,SAACzb,GACnB,IAAK,IAAIjL,EAAY,EAAGA,EAAIiL,EAAO2Z,QAAQ1kB,OAAQF,IACjD,EAAK6mB,iBAAiB5b,EAAQA,EAAO2Z,QAAQ5kB,GAAGmkB,OAS7C,KAAAmC,QAAU,WAAkC,2BAA9BU,EAA8B,yBAA9BA,EAA8B,gBACjDA,EAAM3B,SAAQ,SAAClB,IACP,EAAK+B,MAAMe,QAAQ9C,IACvB,EAAK+B,MAAM1lB,KAAK2jB,OAUf,KAAA+C,QAAU,SAACC,GAChB,IAAMC,EAAe,EAAKlB,MAAMe,QAAQE,IAEnCC,GACH,EAAKlB,MAAM9kB,OAAOgmB,EAAc,IAO7B,KAAAtB,MAAQ,WACb,EAAKK,MAAMd,SAAQ,SAAClB,GAAD,OAAUA,EAAK2B,YAO7B,KAAAa,KAAO,WACZ,IAAI9B,GAAiB,EAEjBwC,EAA4B,GAEhC,MAAO,EAAKnB,MAAMhmB,OAAS,EAAG,CAC5B,IAAMikB,EAAO,EAAK+B,MAAMvlB,QAEnBwjB,IAELkD,EAAaA,EAAWjG,OAAO+C,EAAK0B,aAEpC,EAAKqB,QAAQ/C,GAETA,EAAKU,iBACPA,GAAiB,EACjBV,EAAKU,gBAAiB,GAGpBV,EAAKW,iBACS,EAChB,EAAKwB,QAAL,QAAI,eAAYe,IAChBA,EAAa,KAIbxC,GACF,EAAKyB,QAAL,QAAI,eAAYe,KASb,KAAAC,WAAa,WAClB,IAAIA,GAAa,EAEjB,OAA0B,IAAtB,EAAKpB,MAAMhmB,SAIf,EAAKgmB,MAAMb,SAAQ,SAAAlB,GACjB,IAAMoD,EAAYpD,EAAK6B,oBAEnBuB,IAAcpD,EAAK5hB,OAAW4hB,aAAgBxJ,KAChD2M,GAAa,MAIbA,IACF,EAAKpB,MAAQ,IAGRoB,OAIIrB,MClNT7L,G,0DAAN,kD,0BACY,EAAA8K,KAAO,WACf,OAAI,EAAKM,WAAWnB,GAAWC,MACtBD,GAAWE,MAGhB,EAAKiB,WAAWnB,GAAWG,SACtBH,GAAWG,QAGbH,GAAWC,MAVtB,E,2BAAkBG,IAcHrK,MCdToN,G,0DAAN,kD,0BAQS,EAAA5B,OAAS,SAACrjB,GACf,IAAMkE,EAAKtG,OACRsnB,KAAK,EAAK9C,aACV+C,MAECjhB,IACF,EAAKke,YAAYle,GAAMlE,EACvB,EAAKwiB,SAAW,EAAKG,SAIf,EAAAA,KAAO,WACf,OAAO/kB,OACJulB,OAAO,EAAKf,aACZ+C,OAAS,GAtBhB,E,2BAAqBjD,IA0BN+C,M,yBCtBMG,G,iBA0BnB,WAAalhB,EAAY3E,EAAc8lB,EAAgBC,GAAW,mCAlB3D,KAAAtf,MAAgB,EAGf,KAAAuf,MAAgB,EAGjB,KAAAC,SAAoB,GAGpB,KAAAF,IAAc,EAqBd,KAAAG,WAAa,SAACJ,GACnB,IAAMK,EAAU,CAAE9f,EAAG,EAAGG,EAAG,GAEZ,IAAXsf,GACFK,EAAQ3f,EAAI,EACZ,EAAKwf,MAAQ,IAEbG,EAAQ3f,EAAI,EACZ,EAAKwf,MAAQ,GAGf,EAAKI,WAAWD,GAChB,EAAKE,eAMA,KAAArC,MAAQ,WACb,EAAKiC,SAAW,GAChB,EAAKxf,MAAQ,EACb,EAAKyf,WAA0B,IAAf,EAAKF,MAAc,EAAI,IAQlC,KAAAlC,OAAS,SAACwC,GACf,EAAKC,qBASP,KAAAH,WAAa,SAACD,GACZ,IAAMK,EAAW,EAAKP,SAAS,EAAKA,SAAS7nB,OAAS,IAEjDooB,GAAYL,EAAQ9f,EAAI,EAC3B,EAAK4f,SAASvnB,KAAK,CAAE2H,EAAG,EAAGG,EAAG2f,EAAQ3f,IAC7BggB,GAAYA,EAASngB,IAAM8f,EAAQ9f,GAAKmgB,EAAShgB,IAAM2f,EAAQ3f,GAExE,EAAKyf,SAASL,MAGhB,EAAKK,SAASvnB,KAAKynB,GACnB,EAAKE,eAQP,KAAAI,gBAAkB,SAACX,GACjB,IAAQzf,EAAM,EAAK4f,SAAS,EAAKA,SAAS7nB,OAAS,GAA3CiI,EACFG,EAAIsf,IAAWvD,GAAWC,KAAO,EAAI,EAE3C,EAAK6D,cACL,EAAKD,WAAW,CAAE/f,IAAGG,OAMvB,KAAA+f,kBAAoB,WAClB,IAAMC,EAAW,EAAKP,SAAS,EAAKA,SAAS7nB,OAAS,GAEhDsoB,EAAM,EAAKV,QAAUQ,EAAShgB,EAChCggB,EACA,EAAKP,SAASL,MAGdc,IACF,EAAKL,cACL,EAAKD,WAAW,CACd/f,EAAGqgB,EAAIrgB,EAAI,EACXG,EAAGkgB,EAAIlgB,KAGX,EAAKwf,MAAQQ,EAAShgB,GAQxB,KAAAmgB,iBAAmB,SAACC,GAClB,KAAIA,EAAc,EAAKngB,OAAvB,CAQA,IAJA,IAAMogB,EAAkB,EAAKpgB,MAAQmgB,EAI5B1oB,EAAI,EAAGA,EAAI,EAAK+nB,SAAS7nB,OAAQF,IAAK,CAC7C,MAAiB,EAAK+nB,SAAS/nB,GAAvBmI,EAAR,EAAQA,EAAGG,EAAX,EAAWA,EAEX,GAAIH,EAAIwgB,EAAiB,CACdxgB,EAAIwgB,EAEb,EAAKZ,SAAS3mB,OAAO,EAAGpB,GACxB,EAAK+nB,SAASa,QAAQ,CAAEzgB,EAAG,EAAGG,MAE9B,OAIJ,IAAK,IAAItI,EAAI,EAAGA,EAAI,EAAK+nB,SAAS7nB,OAAQF,IAAK,CAC7C,MAAiB,EAAK+nB,SAAS/nB,GAAvBmI,EAAR,EAAQA,EAAGG,EAAX,EAAWA,EAEX,EAAKyf,SAAS/nB,GAAK,CACjBmI,EAAGA,EAAIwgB,EACPrgB,KAIJ,EAAK6f,gBAGP,KAAAA,YAAc,WAAK,MACjB,EAAK5f,OAAQ,YAAKwf,SAASzkB,OAAO,GAAG,UAAxB,eAA4B6E,IAAK,GA1I9Cic,KAAK3d,GAAKA,EACV2d,KAAKtiB,KAAOA,EACZsiB,KAAKyD,IAAMA,EACXzD,KAAK4D,WAAWJ,MC9BCiB,G,iBA0BnB,WAAa/mB,EAAcgnB,EAAkBlB,GAAc,mCAxBpD,KAAAnhB,GAAaoQ,iBAMb,KAAA+Q,OAAiB,EAMhB,KAAAkB,SAAmB,EAGnB,KAAAC,QAAuB,IAAIC,kBAsBnC,KAAAjD,GAAK,SAACT,EAAejf,GACnB,EAAK0iB,QAAQhD,GAAGT,EAAOjf,IAQlB,KAAAuf,OAAS,SAACwC,GACXA,GAAW,EAAKa,WAAa,EAAKH,WACpC,EAAKlB,QAA0B,IAAjB,EAAKA,OAAgB,GAAK,EACxC,EAAKqB,WAAab,EAClB,EAAKW,QAAQ1c,KAAK,SAAU,EAAKub,UAzBnCxD,KAAKtiB,KAAOA,EACZsiB,KAAKwD,OAASA,EACdxD,KAAK0E,SAAWA,EAChB1E,KAAK6E,YAAcH,KC7BFI,G,iBAArB,gDAES,KAAAC,UAAoB,EAGpB,KAAAC,MAA+B,GAG/B,KAAAC,YAAsB,GAGtB,KAAAC,eAAyBC,KAAKC,MAG9B,KAAAC,cAAwB,EAGxB,KAAAC,aAAuB,EAGtB,KAAAX,QAAuB,IAAIC,kBAKnC,KAAAlV,MAAQ,WACN,GAAK,EAAKqV,SAAV,CAIA,IAAMQ,EAAsB,EAAKL,eAAiB,EAAKD,YAEvD,EAAKC,eAAiBC,KAAKC,MAAQG,EACnC,EAAKR,UAAW,EAChB,EAAKS,SAMP,KAAAC,KAAO,WACL,EAAKV,UAAW,GAMlB,KAAAW,MAAQ,WACN3pB,OACGulB,OAAO,EAAK0D,OACZ/D,SAAQ,SAAA0E,GACHA,aAAgBpC,IACjBoC,EAA2BjE,YAWpC,KAAAkE,oBAAsB,SAACZ,GACrB,IAAMa,EAAwB,GACxBC,EAAY,SAACnC,GAAD,OAAuBA,EAASxU,KAAI,gBAAGpL,EAAH,EAAGA,EAAGG,EAAN,EAAMA,EAAN,gBAAiBH,EAAjB,YAAsBG,OAE5E,IAAK,IAAMxG,KAAQsnB,EACjB,GAAIA,EAAMtnB,aAAiB6lB,GAAmB,CAC5C,IAAMoC,EAAOX,EAAMtnB,GACbwR,EAAS4W,EAAUH,EAAKhC,UAE9BkC,EAASnoB,GAAQ,CACfwR,OAAQA,EAAOoC,KAAK,KACpBnN,MAAOwhB,EAAKxhB,MACZsf,IAAKkC,EAAKlC,KAKhB,OAAOoC,GAST,KAAAlE,GAAK,SAACT,EAAejf,GACnB,EAAK0iB,QAAQhD,GAAGT,EAAOjf,IAQzB,KAAA8jB,UAAY,WAEV,IAAMC,EAAchnB,OAAOinB,OAAO9hB,MAC5B+hB,EAAmB,IAAO,EAAKjB,YAC/BkB,EAAoBH,EAAcE,EAEpC,EAAKb,eAAiB,EAAKC,aAAiBa,EAAoB,EAAK,MACvE,EAAKb,aAAe,EAAKD,cAEzBtpB,OACGulB,OAAO,EAAK0D,OACZ/D,SAAQ,SAAC0E,GACJA,aAAgBpC,IAClBoC,EAAKtB,iBAAiB2B,OAK9B,EAAKrB,QAAQ1c,KAAK,SAAU,EAAK2d,oBAAoB,EAAKZ,SAM5D,KAAAQ,KAAO,WACL,IAAI,EAAKT,SAAT,CAEA,IAAMK,EAAMD,KAAKC,MACXgB,EAAgB,IAClBC,GAAa,EAEjB,GAAIjB,GAAO,EAAKF,eAAiBkB,EAI/B,OAFA,EAAKX,YACL,EAAK/V,QAIP,MAAO0V,GAAO,EAAKF,eAAiB,EAAKD,YAAa,CAEpD,IAAMqB,EAAQ3b,KAAK4D,IAAI,EAAK0W,YAAaG,EAAM,EAAKF,gBAEpDmB,GAAa,EACb,EAAKhB,eAAiBiB,EACtB,EAAKpB,gBAAkBoB,EACvB,EAAK9E,SAGH6E,GACF,EAAKN,YAGPQ,sBAAsB,EAAKf,QAM7B,KAAAhE,OAAS,WACPzlB,OACGulB,OAAO,EAAK0D,OACZ/D,SAAQ,SAAC0E,GAAD,OAAUA,EAAKnE,OAAO,EAAK6D,mBAQxC,KAAAvH,IAAM,SAAC6H,GACA,EAAKX,MAAM/oB,eAAe0pB,EAAKtjB,MAClC,EAAK2iB,MAAMW,EAAKtjB,IAAMsjB,EAEK,IAAvB,EAAKN,eACP,EAAKU,cAUX,KAAAhH,OAAS,YAAwB,IAArB1c,EAAqB,EAArBA,UACH,EAAK2iB,MAAM3iB,GAEqB,IAAnCtG,OAAOsnB,KAAK,EAAK2B,OAAOlpB,SAC1B,EAAK2pB,OACL,EAAKC,aC/LX,SAASc,GAAkBrS,EAAiB9R,EAAYie,GACtD,OAAQnM,GACN,KAAKgF,GAAYpD,IACf,OAAO,IAAIC,GAAI3T,EAAIie,GACrB,QACE,OAAO,IAAItK,GAAI3T,EAAIie,IAIzB,SAASmG,GAAT,EAAsDnG,GAAkB,IAA7Cje,EAA6C,EAA7CA,GAAIwG,EAAyC,EAAzCA,KAAMsL,EAAmC,EAAnCA,QACnC,OAAQtL,GACN,KAAK0L,GAAS8L,YACZ,OAAO,IAAIA,GAAYhe,EAAIie,GAC7B,KAAK/L,GAAS6B,UACZ,OAAO,IAAIA,GAAU/T,EAAIie,GAC3B,KAAK/L,GAAS+B,UACZ,OAAOkQ,GAAiBrS,EAAS9R,EAAIie,GACvC,KAAK/L,GAAS6O,OACd,KAAK7O,GAASC,SACZ,OAAO,IAAI4O,GAAO/gB,EAAIie,GACxB,QACE,OAAO,IAAI/J,GAAWlU,EAAIie,IAIjB,QACbkG,oBACAC,mBCXmBC,G,iBAmCnB,WAAanN,EAAevH,EAA2BE,GAA2B,mCAjClF,KAAA6P,MAAqC,GAGrC,KAAAiD,MAA2C,GAG3C,KAAA2B,OAAuC,GAGvC,KAAAC,SAAmC,GAGnC,KAAAC,QAAmB,IAAIhF,GAGvB,KAAAiF,WAAiC,IAAIhC,GAGrC,KAAAH,QAAuB,IAAIC,kBAG3B,KAAAG,UAAoB,EAGpB,KAAAgC,YAA2B,GAwB3B,KAAAC,YAAc,SAACzN,EAAevH,EAA2BE,GACvDqH,EAAM0H,SAAQ,SAAA1N,GAAI,OAAI,EAAK0O,QAAQ1O,EAAMrB,MACzCF,EAAYiP,SAAQ,SAAAzjB,GAAC,OAAI,EAAKglB,cAAchlB,EAAEqJ,OAAQrJ,EAAEsJ,YAS1D,KAAA6a,GAAK,SAACT,EAAejf,GACnB,EAAK0iB,QAAQhD,GAAGT,EAAOjf,IAQzB,KAAAgG,KAAO,WAEL,EAAK0c,QAAQ1c,KAAK,SAAU,EAAK2e,SAAU,EAAKG,cAMlD,KAAAE,MAAQ,WACN,EAAKH,WAAWrB,OAChB,EAAKV,UAAW,GAMlB,KAAAmC,QAAU,WACR,EAAKnC,UAAW,EAChB,EAAK+B,WAAWpX,QAChB,EAAKzH,QAQP,KAAAkf,KAAO,WAA0B,IAAzBC,EAAyB,uDAAL,EAC1B,IAAI,EAAKrC,SAAT,CAEA,EAAK8B,QAAQtE,OAEb,IAAM8E,EAAiB,EAAKR,QAAQ/E,MAAMhmB,OAAS,EAEnD,GAAIsrB,EAAY,IAEd,MAAM,IAAIE,MAAM,8BAGdD,GACF,EAAKF,OAAOC,GAGd,EAAKnf,SAGP,KAAAsf,aAAuB,EAEvB,KAAAC,UAA2B,KAE3B,KAAAC,SAAmB,EAEnB,KAAAC,aAAuC,GAEvC,KAAAC,eAAiB,WACf,EAAKF,SAAU,EACf,EAAKR,QACL,EAAKW,oBAGP,KAAAC,cAAgB,WACd,EAAKJ,SAAU,EACf,EAAKD,UAAY,KACjB,EAAKN,WAGP,KAAAY,QAAU,WACR,IAAMC,EAAahsB,OAAOsnB,KAAK,EAAKqE,cAEhCK,EAAWjsB,OAAS,EAEtBisB,EAAW9G,SAAQ,SAAAhI,GAAM,OAAI,EAAK+O,gBAAgB/O,EAAQ,EAAKyO,aAAazO,OACnE,EAAKuO,YAEd,EAAKZ,SAAWqB,KAAKC,MAAM,EAAKV,YAGlC,EAAKE,aAAe,GACpB,EAAKE,mBACL,EAAK3f,QAGP,KAAA2f,iBAAmB,WACjB,IAAMO,EAAeF,KAAKG,UAAU,EAAKxB,UAEzC,EAAKC,QAAQtE,OAEb,IAAMiF,EAAYS,KAAKG,UAAU,EAAKxB,UAGpC,EAAKY,UADHW,IAAiBX,EACFA,EAEA,KAGnB,EAAKD,YAAiC,OAAnB,EAAKC,WAS1B,KAAAa,eAAiB,SAAChmB,EAAYlE,GAC5B,EAAKyoB,SAASvkB,GAAMlE,EACpB,EAAK8J,QAGP,KAAA+f,gBAAkB,SAAC/O,EAAgB9a,GAAiB,MAClD,EAAK4jB,MAAM9I,GAAQ4H,SAAS1iB,GAC5B,EAAK0oB,QAAQ3E,QAAQ,EAAKH,MAAM9I,IAChC,YAAK+L,MAAM/L,UAAX,SAAoBkL,gBAAgBhmB,IAGtC,KAAAmqB,uBAAyB,SAACrP,EAAgB9a,GACxC,EAAKupB,aAAazO,GAAU9a,EAG5B,EAAKopB,YAAcxrB,OAChBsnB,KAAK,EAAKqE,cACVrZ,QAAO,SAACka,EAA0BtP,GACjC,OAAOsP,GAAmB,EAAK3B,SAAS3N,KAAY,EAAKyO,aAAazO,MACrE,GAEL,EAAKhR,QAWP,KAAAoM,aAAe,SAAC4E,EAAgB9a,GAC9B,GAAI,EAAKspB,QACP,OAAO,EAAKa,uBAAuBrP,EAAQ9a,GAGzC,EAAK4jB,MAAM9I,IAAW,EAAK8I,MAAM9I,GAAQ9a,QAAUA,IACrD,EAAK6pB,gBAAgB/O,EAAQ9a,GAC7B,EAAKgpB,SAST,KAAAqB,qBAAuB,SAACC,GACtB,GAAKA,EAAOC,kBAAZ,CAEA,MAAsCD,EAAOC,kBAArCnP,EAAR,EAAQA,MAAOvH,EAAf,EAAeA,YAAaE,EAA5B,EAA4BA,MAE5BnW,OACGulB,OAAO/H,GACP0H,SAAQ,SAAA1N,GACP,EAAK0O,QAAQ1O,EAAMrB,GAAO,MAG9BnW,OACGulB,OAAOtP,GACPiP,SAAQ,SAAAzjB,GACP,EAAKglB,cAAchlB,EAAEqJ,OAAQrJ,EAAEsJ,aAWrC,KAAAmb,QAAU,SAAC1O,EAAYrB,GAA+D,IAAlCwO,EAAkC,wDACpF,GAA4B,IAAxBnN,EAAKkG,QAAQ3d,OAAjB,CAEA,GAAIyX,EAAKmV,kBACP,OAAO,EAAKF,qBAAqBjV,GAGnC,IAAM+M,EAAW/M,EAAKkG,QAAQnF,QAAO,SAAA2E,GAAM,OAAI/G,EAAM+G,GAAQpQ,OAAS2P,GAASO,SACzE4P,EAAYpV,EAAKkG,QAAQnF,QAAO,SAAA2E,GAAM,OAAI/G,EAAM+G,GAAQpQ,OAAS2P,GAASoQ,UAC1E7I,EAAO8I,GAAkBpC,eAAelT,EAAM+M,GAEpDP,EAAKW,cAAgBA,EAErBnN,EAAKkG,QAAQwH,SAAQ,SAAAhI,GAAM,OAAI,EAAK6P,QAAQ7P,EAAQ8G,MAEhDxM,EAAK1K,OAAS0L,GAAS6B,WAAa7C,EAAKY,UAAYgF,GAAY4P,OACnE,EAAKC,SAASL,EAAU,IAG1B,EAAK9B,QAAQ5E,QAAQlC,GAErBxM,EAAKkG,QAAQwH,SAAQ,SAAAhI,GACnB,IAAM1I,EAAO2B,EAAM+G,GAEf1I,EAAK0Y,aACP,EAAKC,YAAYjQ,EAAQ1I,EAAKpS,MAAOoS,EAAKkT,UAUhD,KAAAtB,WAAa,SAAC5O,GAEZ,IAAM4V,EAA8B,SAA9BA,EAA+BC,GACnC,OAAKA,EAAGV,kBAED3sB,OACJulB,OAAO8H,EAAGV,kBAAkBnP,OAC5BlL,QAAO,SAACoL,EAAS7d,GAChB,OAAIA,EAAE8sB,kBACGjP,EACJuD,OAAOmM,EAA4BvtB,IACnCohB,OAAOphB,EAAE6d,SAEPA,EAAQuD,OAAOphB,EAAE6d,WACvB,IAX6B,IAepClG,EACGkG,QACAuD,OAAOmM,EAA4B5V,IACnC0N,SAAQ,SAAAhI,GACP,IAAM8G,EAAO,EAAKgC,MAAM9I,GAEpB8G,IACF,EAAK8G,QAAQ1E,WAAWpC,GACxB,EAAKsJ,WAAWpQ,OAItB,EAAKhR,QAQP,KAAA+gB,SAAW,SAAC/P,GACV,EAAK0N,OAAO1N,GAAU,IAAIwL,GAAaxL,EAAQ,IAAM,GACrD,EAAK0N,OAAO1N,GAAQ0I,GAAG,UAAU,SAAC6B,GAChC,EAAKnP,aAAa4E,EAAQuK,MAE5B,EAAKsD,WAAWhJ,IAAI,EAAK6I,OAAO1N,KASlC,KAAA6P,QAAU,SAAC7P,EAAgB8G,GACzB,EAAKgC,MAAM9I,GAAU8G,EAErBA,EAAK4B,GAAG,UAAU,SAACxjB,GAAiB,MAClC,EAAKkqB,eAAepP,EAAQ9a,GAC5B,YAAK6mB,MAAM/L,UAAX,SAAoBkL,gBAAgBhmB,OAUxC,KAAAkrB,WAAa,SAACpQ,GACR,EAAK0N,OAAO1N,IACd,EAAK6N,WAAW/H,OAAO,EAAK4H,OAAO1N,IAGrC,EAAKqQ,cAAcrQ,UAEZ,EAAK8I,MAAM9I,UACX,EAAK2N,SAAS3N,UACd,EAAK0N,OAAO1N,UACZ,EAAK+L,MAAM/L,IAUpB,KAAAuJ,cAAgB,SAACzP,EAAkBC,GAC7B,EAAK+O,MAAMhP,IAAa,EAAKgP,MAAM/O,IACrC,EAAK6T,QAAQrE,cAAc,EAAKT,MAAMhP,GAAW,EAAKgP,MAAM/O,GAAWA,IAU3E,KAAAyP,iBAAmB,SAAC1P,EAAkBC,GAChC,EAAK+O,MAAMhP,IAAa,EAAKgP,MAAM/O,IACrC,EAAK6T,QAAQpE,iBAAiB,EAAKV,MAAMhP,GAAW,EAAKgP,MAAM/O,KAUnE,KAAAkW,YAAc,SAACjQ,EAAgB9a,EAAeslB,GACvC,EAAKuB,MAAM/L,KACd,EAAK+L,MAAM/L,GAAU,IAAIsK,GAAkBtK,EAAQA,EAAQ9a,EAAOslB,GAClE,EAAKqD,WAAWhJ,IAAI,EAAKkH,MAAM/L,MASnC,KAAAqQ,cAAgB,SAACrQ,GACX,EAAK+L,MAAM/L,KACb,EAAK6N,WAAW/H,OAAO,EAAKiG,MAAM/L,IAClC,EAAK6N,WAAWf,oBAGX,EAAKf,MAAM/L,UACX,EAAK6N,WAAW9B,MAAM/L,UACtB,EAAK8N,YAAY9N,IAzXxB+G,KAAKgH,YAAYzN,EAAOvH,EAAaE,GACrC8N,KAAK8G,WAAWnF,GAAG,UAAU,SAAAoF,GAC3B,EAAKA,YAAcA,EACnB,EAAK9e,aChDX,SAASoH,GAAQpB,GAAgC,IAAdqB,EAAc,uDAAD,EAC9C,OAASrB,EAAWqB,EAAa,EAAK,GAAK,EAW7C,SAASia,GAA+BC,EAA+BjW,EAAYrD,GACjF,IAAMuZ,EAAID,EAAiBplB,MAAQolB,EAAiBvlB,KAC9CylB,EAAIF,EAAiBxmB,OAASwmB,EAAiBzoB,IAC/C4oB,EAAKH,EAAiBvlB,KAAQwlB,EAAI,EAClCG,EAAKJ,EAAiBzoB,IAAO2oB,EAAI,EACjClU,EAAKjC,EAAKlN,SAAStC,EACnB0R,EAAKlC,EAAKlN,SAASnC,EACnB2lB,EAAKrU,EAAMjC,EAAKpP,MAAQ,EACxB2lB,EAAKrU,EAAMlC,EAAKlP,OAAS,EACzB0lB,EAAIpf,KAAKoB,KAAKpB,KAAKkB,IAAK8d,EAAKE,EAAK,GAAKlf,KAAKkB,IAAK+d,EAAKE,EAAK,IAC3DE,EAAkBrf,KAAKsf,MAAOH,EAAKF,EAAMC,EAAKF,GAC9CO,EAAY,GAAKha,GAAavF,KAAKwf,GAAK,KAAQH,EAChDI,EAASL,EAAIpf,KAAK0f,IAAIH,GAAaP,EACnCW,EAASP,EAAIpf,KAAK4f,IAAIL,GAAaN,EAEzC,MAAO,CACL7lB,EAAGqmB,EAAS7W,EAAKpP,MAAQ,EACzBD,EAAGomB,EAAS/W,EAAKlP,OAAS,GAa9B,SAASmmB,GAAwBja,EAAYka,EAAkBlX,EAAYyB,GACzE,MAAqCzB,EAAKvN,YAAlC/B,EAAR,EAAQA,KAAMlD,EAAd,EAAcA,IAAKiC,EAAnB,EAAmBA,OAAQoB,EAA3B,EAA2BA,MAKrBsmB,GAAWna,EAAKC,YAAc+C,EAAKtF,UAAY,IAAM,EACvDtD,KAAK+F,OAAO1N,EAASjC,GAAO0pB,EAAS3uB,QACrC6O,KAAK+F,OAAOtM,EAAQH,GAAQwmB,EAAS3uB,QAInCmQ,EAAYye,GAAW1V,EAAQ,GAAO0V,EAAU,EAEtD,OAAQrb,GAAOkB,EAAKC,YAAc+C,EAAKtF,WACrC,KAAKmB,GAAUe,KACb,MAAO,CAAEpM,EAAGE,EAAMC,EAAGnD,EAAMkL,GAC7B,KAAKmD,GAAUgB,IACb,MAAO,CAAErM,EAAGK,EAAQ6H,EAAU/H,EAAGnD,GACnC,KAAKqO,GAAUiB,MACb,MAAO,CAAEtM,EAAGK,EAAOF,EAAGlB,EAASiJ,GACjC,KAAKmD,GAAUkB,OACb,MAAO,CAAEvM,EAAGE,EAAOgI,EAAU/H,EAAGlB,IAIvB,QACbqM,UACAka,iCACAiB,2BC1EY,SAAUG,GAAoB3Y,EAA2B4Y,EAA+B9X,GACpG,MAAuC/W,OACpCulB,OAAOtP,GACP3D,QAAO,WAAiC0D,GAAc,IAA5C8Y,EAA4C,EAA5CA,cAAeC,EAA6B,EAA7BA,YACxB,GAAIhY,IAAsBf,EAAWe,kBAAmB,CACtD,IAAMiY,EAAaH,EAAQ7Y,EAAWlL,QAChCmkB,EAAaJ,EAAQ7Y,EAAWjL,QAEtC+jB,EAAc/M,IAAI/L,EAAW1P,IAE7B,OAAI0oB,QAAJ,IAAIA,KAAYta,YAAYqa,EAAYhN,IAAIiN,EAAWE,WACvD,OAAID,QAAJ,IAAIA,KAAYva,YAAYqa,EAAYhN,IAAIkN,EAAWC,WAGzD,MAAO,CAAEJ,gBAAeC,iBACvB,CACDD,cAAe,IAAIK,IACnBJ,YAAa,IAAII,MAhBbL,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,YAmBvB,MAAO,CACLD,cAAe1V,MAAMgW,KAAKN,GAC1BC,YAAa3V,MAAMgW,KAAKL,IC3Bd,SAAUM,GAAc3f,EAAaC,GACjD,OAAID,EAAE9F,OAAS+F,EAAE/F,OAAe,EACvB8F,EAAE9F,OAAS+F,EAAE/F,QAAgB,EAC/B,ECJK,SAAU0lB,GAAahpB,EAAYwG,EAAgBsL,EAAiBhQ,EAAeE,GAAkC,IAAlB6N,EAAkB,uDAAF,GAC/H,MAAO,CACL7P,KACA3E,KAAM,GACNmL,OACAsL,UACAsF,QAASvH,EAAM/C,KAAI,gBAAG9M,EAAH,EAAGA,GAAH,OAAYA,KAC/BiQ,QAAS,KACTrE,SAAU,EACVjI,YAAa,CACXjF,IAAK,EACLkD,KAAM,EACNG,MAAOD,EACPnB,OAAQqB,GAEVgC,SAAU,CACRtC,EAAG,EACHG,EAAG,GAELyB,OAAQ,EACRxB,QACAE,SACAkB,YAAY,EACZwO,WAAY,ICTF,SAAUuX,GAA0BC,GAChD,MAA8C7T,KAAU6T,GAAhDrZ,EAAR,EAAQA,MAAOqH,EAAf,EAAeA,MAAOvH,EAAtB,EAAsBA,YAAalM,EAAnC,EAAmCA,OAC7B0lB,EAAwBH,GAAY5Y,iBAAQ8B,GAAS8B,kBAAmB,YAAa,IAAK,KA2DhG,OAzDAta,OACGulB,OAAO/H,GACP0H,SAAQ,SAAA1N,GACP,GAAIA,EAAK1K,OAAS0L,GAAS6B,WAAa7C,EAAK1K,OAAS0L,GAASgC,WAA/D,CAKA,IAAMkV,EAAWlY,EAAK1K,OAAS0L,GAAS6B,UACpCoC,GAASoQ,OACTpQ,GAASO,MAGPvI,EAAc+C,EAAK1K,OAAS0L,GAAS6B,UACvChH,GAAUe,KACVf,GAAUiB,MAEdkD,EACGkG,QACAnF,QAAO,SAAA2E,GAAM,OAAI/G,EAAM+G,GAAQpQ,OAAS4iB,KACxCxK,SAAQ,SAAAhI,GACP,IAAMyS,EAAQjZ,iBAMdP,EAAMwZ,GAAN,mCACKhU,KAAgBxF,EAAM+G,KAD3B,IAEEpQ,KAAM0K,EAAK1K,OAAS0L,GAAS6B,UACzBoC,GAASO,MACTP,GAASoQ,OACbvmB,GAAIqpB,EACJT,UAAW1X,EAAKlR,GAChBmO,gBAGF+C,EAAKkG,QAAQrd,KAAKsvB,GAClBF,EAAsB/R,QAAQrd,KAAKsvB,MAGvCnY,EAAK1K,KAAO0L,GAAS6O,WAGzBoI,EAAsB9C,kBAAoB,CACxCnP,QACAvH,cACAE,QACApM,SACA6lB,gBAAiB1D,KAAKG,UAAU,CAC9B7O,MAAOgS,EAAMhS,MACbvH,YAAauZ,EAAMvZ,YACnBE,MAAOqZ,EAAMrZ,MACbpM,OAAQylB,EAAMzlB,UAIX0lB,ECxET,SAASI,GAAuB/E,GAAgK,IAAjBgF,EAAiB,uDAAF,GAE5L,EAA4CnU,KAAUmP,GAAhDtN,EAAN,EAAMA,MAAOvH,EAAb,EAAaA,YAAaE,EAA1B,EAA0BA,MAAOpM,EAAjC,EAAiCA,OAEjC,SAASgmB,EAAWhmB,GAalB,OAZA/J,OACGulB,OAAOxb,GACPmb,SAAQ,SAAAlb,GACP,IAAMgmB,EAAQhmB,EAAM1D,GACdqpB,EAAQjZ,iBAEdoZ,EAAME,GAASL,EACf5lB,EAAO4lB,GAAShU,KAAU3R,UAEnBD,EAAOimB,MAGXjmB,EAGT,SAASkmB,EAAaha,EAAyCuH,GAiB7D,OAhBAxd,OACGulB,OAAOtP,GACPiP,SAAQ,SAAAlP,GACPA,EAAWO,QAAiC,OAAvBP,EAAWO,QAC5BuZ,EAAM9Z,EAAWO,SACjB,QAGRvW,OACGulB,OAAO/H,GACP0H,SAAQ,SAAA1N,GACPA,EAAKjB,QAA2B,OAAjBiB,EAAKjB,QAChBuZ,EAAMtY,EAAKjB,SACX,QAGD,CAAEN,cAAauH,SAGxB,SAAS0S,EAAgBja,GAgBrB,OAfFjW,OACGulB,OAAOtP,GACPiP,SAAQ,SAAAlP,GACP,IAAMga,EAAQha,EAAW1P,GACnBqpB,EAAQjZ,iBAEdoZ,EAAME,GAASL,EACf1Z,EAAY0Z,GAAShU,KAAsB3F,GAC3CC,EAAY0Z,GAAOrpB,GAAKqpB,EACxB1Z,EAAY0Z,GAAO7kB,OAASglB,EAAM7Z,EAAY0Z,GAAO7kB,QACrDmL,EAAY0Z,GAAO5kB,OAAS+kB,EAAM7Z,EAAY0Z,GAAO5kB,eAE9CkL,EAAY+Z,MAGd/Z,EAGX,SAASka,EAAuBla,GAO9B,OANAjW,OACGulB,OAAOtP,GACPiP,SAAQ,SAAAlP,GACPC,EAAYD,EAAW1P,IAAIyQ,kBAAoB+Y,EAAM7Z,EAAYD,EAAW1P,IAAIyQ,sBAG7Ed,EAGT,SAASma,EAAU5S,GAwBf,OAvBFxd,OACGulB,OAAO/H,GACP0H,SAAQ,SAAA1N,GACP,IAAMwY,EAAQxY,EAAKlR,GACbqpB,EAAQjZ,iBAEdoZ,EAAME,GAASL,EACfnS,EAAMmS,GAAShU,KAAgBnE,GAE3BA,EAAKmV,kBACPnP,EAAMmS,GAAOhD,kBAAb,iBACEiD,gBAAiBpY,EAAKmV,kBAAkBiD,iBACrCC,GAAsBlU,KAAUnE,EAAKmV,mBAAoBmD,IAG9DtS,EAAMmS,GAAOrpB,GAAKqpB,EAGpBnS,EAAMmS,GAAOjS,QAAUlG,EAAKkG,QAAQtK,KAAI,SAAA4c,GAAK,OAAIF,EAAME,aAEhDxS,EAAMwS,MAGRxS,EAGX,SAAS6S,EAAYla,GAOnB,OANAnW,OACGulB,OAAOpP,GACP+O,SAAQ,SAAA1Q,GACP2B,EAAM3B,EAAKlO,IAAI4oB,UAAYY,EAAMtb,EAAK0a,cAGnC/Y,EAGT,SAASma,EAAUna,GAcjB,OAbAnW,OACGulB,OAAOpP,GACP+O,SAAQ,SAAA1Q,GACP,IAAMwb,EAAQxb,EAAKlO,GACbqpB,EAAQjZ,iBAEdoZ,EAAME,GAASL,EACfxZ,EAAMwZ,GAAShU,KAAgBnH,GAC/B2B,EAAMwZ,GAAOrpB,GAAKqpB,SAEXxZ,EAAM6Z,MAGV7Z,EAUT,OAPAA,EAAQma,EAASna,GACjBqH,EAAQ4S,EAAS5S,GACjBrH,EAAQka,EAAWla,GACnBF,EAAcia,EAAeja,GAC7BA,EAAcka,EAAsBla,GACpClM,EAASgmB,EAAUhmB,GAEZ,mCACFkmB,EAAYha,EAAauH,IAD9B,IAEErH,QACApM,WAIJ,SAASwmB,GAAyB/Y,GAChC,IAAKA,EAAKmV,kBAAmB,OAAOnV,EAEpC,MAAkBqY,GAAsB,CACtCrS,MAAO,mBACJhG,EAAKlR,GAAKkR,GAEbvB,YAAa,GACbE,MAAO,GACPpM,OAAQ,KANFyT,EAAR,EAAQA,MASR,OAAOxd,OAAOulB,OAAO/H,GAAO,GAGf,QACbqS,yBACAU,4BC/JY,SAAUC,GAAiCvoB,EAAqBwoB,EAAmB3e,EAAc4e,GAC7G,MAAO,CACL1oB,GAAI8J,EAAM9J,EAAIyoB,EAASzoB,EAAIC,EAAOC,MAAQwoB,EAC1CvoB,GAAI2J,EAAM3J,EAAIsoB,EAAStoB,EAAIF,EAAOjD,KAAO0rB,GCA/B,SAAUC,GAAazB,EAAmB5oB,EAAYmO,EAAwB3H,EAAgBnL,GAC1G,MAAO,CACL2E,KACAmO,cACA9S,OACA2I,SAAU,CACRtC,EAAG,EACHG,EAAG,GAEL2E,OACAoF,SAAU,EACVgd,YACA9sB,MAAO,EACPslB,IAAK,EACLwF,aAAa,EACbxY,YAAY,EACZgE,iBAAkB,ICGtB,SAASkY,GAAkBpZ,EAAYqZ,GACrC,IAAMlvB,EAAiB,CAAC6V,EAAK1K,MAQ7B,OANI0K,EAAKY,UAAYgF,GAAY0T,MAC/BnvB,EAAKtB,KAAKmX,EAAKY,SAGjBzW,EAAKtB,KAAKwwB,EAAc/pB,YAEjBnF,EAAK4T,KAAK,KAGnB,IAAMwb,GAAY,GACZC,GAAY,EACZC,GAAa,GAENC,GAAsB,SAAC5qB,GAAD,OAAgB6qB,eAAY,CAC7D7qB,KACAkpB,MAAO,iBAAsB,CAC3B4B,UAAW,GACXC,UAAW,GACXC,WAAY,IAAI3G,GAAkB,GAAI,GAAI,IAC1CK,YAAa,GACbuG,eAAgB,GAChB3pB,UAAW,EACXgC,OAAQ,EACR4nB,mBAAoB,IACpBC,oBAAoB,EACpB9nB,oBAAoB,EACpBD,aAAa,EACb/C,SAAS,EACT+qB,WAAW,EACXC,YAAY,EACZC,iBAAiB,EACjBrsB,eAAe,EAGfkrB,SAAU,IAAIoB,QACd5pB,OAAQ,CACNjD,IAAK,EACLkD,KAAM,EACNjB,OAAQ,EACRoB,MAAO,GAITypB,eAAgB,GAChB1V,mBAAoB,GACpB2V,sBAAuB,GACvBpU,gBAAiB,GACjBqU,mBAAoB,EACpBjV,YAAa,KACbkV,iBAAkB,KAClB9V,aAAc,KACdrS,oBAAqB,KAGrB0T,MAAO,GACPvH,YAAa,GACbE,MAAO,GACPpM,OAAQ,KAGVmoB,QAAS,CACP7oB,UADO,SACImmB,GACT,OAAQxvB,OACLulB,OAAOiK,EAAMvZ,aACbgL,OAAOjhB,OAAOulB,OAAOiK,EAAMhS,QAC3B2U,KAAK9C,KAGV1nB,KARO,SAQD6nB,GACJ,OAAOA,EAAM5nB,WAGf8Y,aAZO,SAYO8O,GACZ,OAAOA,EAAM7R,gBAAgB5d,OAAS,GAAKyvB,EAAMuC,sBAAsBhyB,OAAS,GAGlFqyB,iBAhBO,SAgBW5C,GAChB,OAAOA,EAAM7R,gBAAgB5d,OAAS,GAGxCsyB,iBApBO,SAoBW7C,GAChB,IAAM6C,EAAmB,IAAIlD,IAM7B,OAJAK,EACG7R,gBACAuH,SAAQ,SAAA5e,GAAE,aAAI+rB,EAAiBtQ,IAAjB,UAAqByN,EAAMhS,MAAMlX,UAAjC,aAAqB,EAAiBiQ,YAEhD6C,MAAMgW,KAAKiD,IAGpBtR,SA9BO,WAgCL,OAAOkD,KAAKoO,iBAAiBtyB,OAAS,GAGxCihB,WAnCO,WAqCL,OAAO,GAGTV,QAxCO,SAwCEkP,GACP,OAAOA,EAAM4B,UAAUrxB,OAAS,GAGlCuyB,QA5CO,SA4CE9C,GACP,OAAOA,EAAM6B,UAAUtxB,OAAS,IAIpCwyB,QAAS,CAEPC,aAFO,SAEOnsB,GACZ4d,KAAKwO,eACLxO,KAAKyO,WAAWrsB,GAChB4d,KAAK0B,SAQPgN,cAbO,WAaqB,IAAbxe,EAAa,uDAAD,EACzB8P,KAAKnb,QAAQ,CACXnB,KAAMsc,KAAKrc,UAAaqpB,GAAa9c,KAWzCrL,QA1BO,YA0BkD,IAA9CnB,EAA8C,EAA9CA,KAAMmK,EAAwC,EAAxCA,MACXnK,EAAOopB,KAAWppB,EAAOopB,IACzBppB,EAAOqpB,KAAWrpB,EAAOqpB,IAE7BrpB,EAAOiH,KAAKY,MAAa,IAAP7H,GAAc,IAE3BmK,IACHA,EAAQuE,GAAW3D,uBAAuBuR,KAAKwM,UAC/C3e,EAAM9J,GAAKic,KAAKwM,SAASvoB,KACzB4J,EAAM3J,GAAK8b,KAAKwM,SAASzrB,KAG3B,IAAM4tB,EAAcpC,GAAgCvM,KAAKhc,OAAQgc,KAAKwM,SAAU3e,EAAOmS,KAAKrc,WACtFirB,EAAc,CAClB7qB,EAAG4qB,EAAY5qB,EAAIL,EACnBQ,EAAGyqB,EAAYzqB,EAAIR,GAEfmrB,EAAgB,CACpB9qB,EAAG8J,EAAM9J,EAAIic,KAAKwM,SAASzoB,EAC3BG,EAAG2J,EAAM3J,EAAI8b,KAAKwM,SAAStoB,GAG7B8b,KAAKzb,MAAM,CACTR,EAAG4G,KAAKY,MAAMZ,KAAK4D,IAAIsgB,EAAc9qB,EAAI6qB,EAAY7qB,EAAG,IACxDG,EAAGyG,KAAKY,MAAMZ,KAAK4D,IAAIsgB,EAAc3qB,EAAI0qB,EAAY1qB,EAAG,MAG1D8b,KAAKrc,UAAYD,GAQnBuB,cA7DO,SA6DQqJ,GACb0R,KAAKwM,SAAWle,EAEhB0R,KAAKhc,OAAOI,MAAQ6hB,OAAO9hB,MAAQ2oB,GACnC9M,KAAKhc,OAAOhB,OAASijB,OAAO5hB,OAASyoB,IAEhC9M,KAAKyN,WAAanf,EAAKnK,MAAQ,GAAKmK,EAAKjK,OAAS,IACrD2b,KAAKyN,WAAY,EACjBzN,KAAK8O,YACL9O,KAAK+O,gBAOTxqB,MA7EO,SA6EAgX,GACL,IAAME,EAASF,EAAIxX,EAAIic,KAAKhc,OAAOC,KAC7ByX,EAASH,EAAIrX,EAAI8b,KAAKhc,OAAOjD,IAEnCif,KAAKhc,OAAOC,MAAQwX,EACpBuE,KAAKhc,OAAOI,OAASqX,EACrBuE,KAAKhc,OAAOjD,KAAO2a,EACnBsE,KAAKhc,OAAOhB,QAAU0Y,GAMxBqT,YA1FO,WA2FL,IAAMC,EAAW5c,GAAW3D,uBAAuBuR,KAAKhc,QAExDgc,KAAKzb,MAAM,CACTR,EAAIic,KAAKwM,SAASroB,MAAQ,EAAK6qB,EAASjrB,EACxCG,EAAI8b,KAAKwM,SAASnoB,OAAS,EAAK2qB,EAAS9qB,KAQ7C4qB,UAvGO,WAuGE,WACD3iB,EAAgBpQ,OACnBulB,OAAOtB,KAAKzG,OACZpK,KAAI,gBAAGnJ,EAAH,EAAGA,YAAH,OAAqBA,KACtBA,EAAcoM,GAAWhE,oBAAoBjC,GACnD,EAAiBiG,GAAW1D,uBAAuBsR,KAAKhc,OAAQgC,EAAa,IAArEjC,EAAR,EAAQA,EAAGG,EAAX,EAAWA,EAELuX,EAAS1X,EAAIiC,EAAY/B,KACzByX,EAASxX,EAAI8B,EAAYjF,IAE/BhF,OACGulB,OAAOtB,KAAKzG,OACZ0H,SAAQ,SAAA1N,GACP,EAAK0b,gBAAgB,CACnB5sB,GAAIkR,EAAKlR,GACTgE,SAAU,CACRtC,EAAGwP,EAAKlN,SAAStC,EAAI0X,EACrBvX,EAAGqP,EAAKlN,SAASnC,EAAIwX,SAMzBwT,sBA9HC,WA8HoB,gKAEnBC,EAAiB7D,GAAyB,EAAK8D,QAC/CC,EAAiBC,GAAShD,wBAAwB6C,GAExD,EAAKI,WAAW,CAAEhc,KAAM8b,EAAgBnd,MAAO,KAC/C,EAAKsd,mBAAmBH,EAAehtB,IACvC,EAAKotB,qBAAqBJ,EAAehtB,IACzC,EAAKqtB,kBAAkB,CAAErtB,GAAIgtB,EAAehtB,GAAIlE,OAAO,IAR9B,8CAY3BqwB,aA1IO,WA0IK,WACNxO,KAAKqN,WAAWvG,YAClB9G,KAAKqN,WAAWvG,WAAWrB,OAG7B,IAAM4H,EAAa,IAAI3G,GAAkB3qB,OAAOulB,OAAOtB,KAAKzG,OAAQxd,OAAOulB,OAAOtB,KAAKhO,aAAcgO,KAAK9N,OAE1Gmb,EAAW1L,GAAG,UAAU,SAACiF,EAAkCG,GACzD,IAAK,IAAM9N,KAAU2N,EACf,EAAK1U,MAAM+G,KACb,EAAK/G,MAAM+G,GAAQ9a,MAAQyoB,EAAS3N,IAIxC,EAAKvT,oBAAsB,EAAK2nB,WAAW9F,YAC3C,EAAKR,YAAcA,KAGrB/G,KAAKqN,WAAaA,GAGpBloB,iBA/JO,SA+JWwqB,GAChB,IAAMttB,EAAKstB,EACP3P,KAAK5a,UAAU,GACf4a,KAAK5a,UAAUlG,OAAO,GAAG,GAEzBmD,IACF2d,KAAKvb,cACLub,KAAK0P,kBAAkB,CAAErtB,GAAIA,EAAGA,GAAIlE,OAAO,MAI/CoxB,WA1KO,YA0K0F,IAAnFhc,EAAmF,EAAnFA,KAAMrB,EAA6E,EAA7EA,MAAwC0d,EAAqC,uDAAJ,KACtFA,IACHA,EAAmBxd,GAAW3D,uBAAuBuR,KAAKwM,WAG5DxM,KAAK6P,cACL7P,KAAK8P,WAAW,CAAEvc,OAAMrB,UAExB,IAAM7L,EAAWkmB,GAAgCvM,KAAKhc,OAAQgc,KAAKwM,SAAUoD,EAAkB5P,KAAKrc,WAEpGqc,KAAKiP,gBAAgB,CAAE5sB,GAAIkR,EAAKlR,GAAIgE,aACpC2Z,KAAK0P,kBAAkB,CAAErtB,GAAIkR,EAAKlR,GAAIlE,OAAO,KAM/Cqe,KA3LO,WA4LL,IAAMuT,EAAY/P,KAAKmN,UAAUjuB,OAAO,GAAGokB,MAEvCyM,IACF/P,KAAKoN,UAAUhxB,KAAK6rB,KAAKG,UAAU,CACjCpW,YAAagO,KAAKhO,YAClBuH,MAAOyG,KAAKzG,MACZrH,MAAO8N,KAAK9N,MACZpM,OAAQka,KAAKla,UAEfka,KAAKyO,WAAWsB,GAChB/P,KAAKmN,UAAU7J,MACftD,KAAKtd,SAAU,IAOnBstB,KA9MO,WA+ML,IAAMC,EAAYjQ,KAAKoN,UAAUluB,OAAO,GAAGokB,MAEvC2M,IACFjQ,KAAKmN,UAAU/wB,KAAK6rB,KAAKG,UAAU,CACjCpW,YAAagO,KAAKhO,YAClBuH,MAAOyG,KAAKzG,MACZrH,MAAO8N,KAAK9N,MACZpM,OAAQka,KAAKla,UAEfka,KAAKyO,WAAWwB,GAChBjQ,KAAKoN,UAAU9J,MACftD,KAAKtd,SAAU,IAInBmtB,YA9NO,WA+NL7P,KAAKrG,aACLqG,KAAKnM,qBAMP6I,gBAtOO,WAsOQ,WACb,GAAKsD,KAAKvD,aAAV,CAEAuD,KAAK6P,cAEL,IAAMK,EAAmBn0B,OACtBulB,OAAOtB,KAAKzG,OACZjF,QAAO,gBAAG/O,EAAH,EAAGA,WAAYsD,EAAf,EAAeA,KAAf,OAA0BtD,GAAcsD,IAAS0L,GAASC,YAC9D2b,EAAqBD,EAAiB/gB,KAAI,gBAAG9M,EAAH,EAAGA,GAAH,OAAYA,KAG5DtG,OACGulB,OAAOtB,KAAKhO,aACZsC,QAAO,SAAA9W,GACN,IAAMutB,EAAa,EAAK7Y,MAAM1U,EAAEqJ,QAC1BmkB,EAAa,EAAK9Y,MAAM1U,EAAEsJ,QAEhC,GAAIikB,GAAcC,EAChB,OAAOmF,EAAmB/X,SAAS2S,EAAWE,YAC5CkF,EAAmB/X,SAAS4S,EAAWC,cAG5ChK,SAAQ,gBAAG5e,EAAH,EAAGA,GAAH,OAAY,EAAKqtB,kBAAkB,CAAErtB,KAAIlE,OAAO,OAG3DpC,OACGulB,OAAOtB,KAAKhO,aACZsC,QAAO,gBAAG/O,EAAH,EAAGA,WAAH,OAAoBA,KAC3B0b,SAAQ,SAAAlP,GACP,EAAKoB,WAAW,CACdtM,OAAQkL,EAAWlL,OACnBC,OAAQiL,EAAWjL,YAKzBopB,EAAiBjP,SAAQ,SAAArlB,GAAC,OAAI,EAAKw0B,cAAcx0B,EAAEyG,OAGnDtG,OACGulB,OAAOtB,KAAKzG,OACZjF,QAAO,gBAAG/O,EAAH,EAAGA,WAAYsD,EAAf,EAAeA,KAAf,OAA0BtD,GAAcsD,IAAS0L,GAASC,YACjEyM,SAAQ,SAAAoP,GAAC,OAAI,EAAKC,eAAeD,EAAEhuB,SAQxC4Q,kBAxRO,SAwRY5Q,GAAU,WACrBwrB,EAAkB,WACtB,IAAMta,EAAO,EAAKgG,MAAMlX,GAExB,GAAI,EAAK8V,mBAAmBrc,OAE1B,OAAO,EACJqc,mBACAhJ,KAAI,SAAA9M,GAAE,OAAI+P,GAAWrE,iBAAiB,EAAKmE,MAAM7P,GAAIgE,aAG1D,GAAIkN,IAASA,EAAKjB,QAAS,CAEzB,GAAIiB,EAAK1K,OAAS0L,GAASC,SAoBzB,OAAOzY,OACJulB,OAAO,EAAK/H,OACZjF,QAAO,SAAAic,GAAC,OAAIA,EAAEluB,KAAOA,GAAMkuB,EAAE1nB,OAAS0L,GAASC,YAC/CrF,KAAI,SAAAohB,GAAC,OAAIA,EAAEvqB,eAtBd,GAAIuN,EAAKkG,QAAQ3d,OAAS,EAGxB,OAAOC,OACJulB,OAAO,EAAKtP,aACZ3D,QAAO,SAAClC,EAA8B4F,GACrC,OAAIwB,EAAKkG,QAAQrB,SAASrG,EAAWlL,QAC5BsF,EAAc6Q,OAAO5K,GAAWxE,oBAAoB,EAAKsE,MAAMH,EAAWjL,QAAQT,WAGvFkN,EAAKkG,QAAQrB,SAASrG,EAAWjL,QAC5BqF,EAAc6Q,OAAO5K,GAAWxE,oBAAoB,EAAKsE,MAAMH,EAAWlL,QAAQR,WAGpF8F,IACN,IAUX,MAAO,GAtCe,GAyCxB6T,KAAK6N,eAAiBA,GAGxB/T,YArUO,YAqUyD,IAAjDxL,EAAiD,EAAjDA,KAAMjM,EAA2C,EAA3CA,GACbkR,EAAOyM,KAAKzG,MAAMlX,GAExB,GAAKkR,EAAL,CAGA,IAAMid,EAAUjd,EAAKlN,SAAStC,EAAKwP,EAAKpP,MAAQ,EAC1CssB,EAAUld,EAAKlN,SAASnC,EAAKqP,EAAKlP,OAAS,EAC3CqsB,EAAOF,EAAWliB,EAAKnK,MAAQ,EAC/BwsB,EAAOF,EAAWniB,EAAKjK,OAAS,EAEtC2b,KAAKzG,MAAMlX,GAAIgE,SAAW,CACxBtC,EAAG2sB,EACHxsB,EAAGysB,GAEL3Q,KAAKzG,MAAMlX,GAAI8B,MAAQmK,EAAKnK,MAC5B6b,KAAKzG,MAAMlX,GAAIgC,OAASiK,EAAKjK,OAE7B2b,KAAKwP,mBAAmBntB,GACxB2d,KAAKyP,qBAAqBptB,GAEtB2d,KAAKzG,MAAMlX,GAAIiQ,SACjB0N,KAAK4Q,oBAAoB5Q,KAAKzG,MAAMlX,GAAIiQ,SAAW,MASvDmd,qBApWO,SAoWeptB,GAAU,WACxBkR,EAAOyM,KAAKzG,MAAMlX,GAExB,GAAKkR,EAAL,CAEA,IAAMsd,EAAatd,EAChBkG,QACApL,QAAO,SAACwiB,EAAoC5X,GAC3C,IAAM1I,EAAO,EAAK2B,MAAM+G,GAExB,GAAI1I,EAAM,OACFyE,EAAmB/G,GAASoB,OAAOkB,EAAKC,YAAc+C,EAAKtF,UAEjE,UAAA4iB,EAAW9yB,IAAIiX,UAAf,SAAuB5Y,KAAKmU,GAG9B,OAAOsgB,IACN,IAAIC,IAAuB,CAC5B,CAAC1hB,GAAUe,KAAM,IACjB,CAACf,GAAUgB,IAAK,IAChB,CAAChB,GAAUiB,MAAO,IAClB,CAACjB,GAAUkB,OAAQ,OAGjBygB,EAAwB,WAAuB,IAAtB7e,EAAsB,uDAAN,GAC7CA,EAAM+O,SAAQ,SAAC1Q,EAAMyE,GACnB,EAAK9C,MAAM3B,EAAKlO,IAAIgE,SAAW4H,GAASuc,uBAAuBja,EAAM2B,EAAOqB,EAAMyB,OAItF+b,EAAsBF,EAAW9yB,IAAIqR,GAAUe,OAC/C4gB,EAAsBF,EAAW9yB,IAAIqR,GAAUgB,MAC/C2gB,EAAsBF,EAAW9yB,IAAIqR,GAAUiB,QAC/C0gB,EAAsBF,EAAW9yB,IAAIqR,GAAUkB,WAUjD2e,gBA/YO,YA+Y2D,WAA/C5sB,EAA+C,EAA/CA,GAAIgE,EAA2C,EAA3CA,SACfkN,EAAOyM,KAAKzG,MAAMlX,GAClBikB,EAAe,CACnBviB,EAAGsC,EAAStC,EAAIwP,EAAKlN,SAAStC,EAC9BG,EAAGmC,EAASnC,EAAIqP,EAAKlN,SAASnC,GAGhC8b,KAAKzG,MAAMlX,GAAIgE,SAAWA,EAC1B2Z,KAAKwP,mBAAmBntB,GAExBkR,EACGkG,QACAwH,SAAQ,SAAAhI,GACP,IAAM1I,EAAO,EAAK2B,MAAM+G,GAExB,EAAK/G,MAAM+G,GAAQ5S,SAAW,CAC5BtC,EAAGwM,EAAKlK,SAAStC,EAAIuiB,EAAMviB,EAC3BG,EAAGqM,EAAKlK,SAASnC,EAAIoiB,EAAMpiB,OAKnCgP,SAraO,SAqaG7Q,EAAYgE,EAAiBqG,GACrC,MAAiB6f,GAAgCvM,KAAKhc,OAAQgc,KAAKwM,SAAUnmB,EAAU2Z,KAAKtc,MAApFK,EAAR,EAAQA,EAAGG,EAAX,EAAWA,EACX,EAAoC8b,KAAKzG,MAAMlX,GAAvC8B,EAAR,EAAQA,MAAOE,EAAf,EAAeA,OAAQ4J,EAAvB,EAAuBA,SACjBjI,EAAcoM,GAAWpE,eAAe,CAAEjK,IAAGG,KAAK+J,EAAU9J,EAAOE,GACnEP,EAASsO,GAAW3F,cAAcuT,KAAK6N,eAAgB7nB,EAAa0G,GAAYrB,EAASwB,MAAO,IAEtGmT,KAAKgR,qBAAqB,CACxB3uB,KACAgE,SAAU,CACRtC,EAAGA,EAAID,EAAOC,EACdG,EAAGA,EAAIJ,EAAOI,MAUpB+sB,sBAzbO,SAybgB3K,GACrB,IAAMjkB,EAAyB2d,KAAKtG,gBAAgB,GAEpD,GAAIrX,EAAI,CACN,IAAMkR,EAAOyM,KAAKzG,MAAMlX,GAClBgE,EAAkB,CACtBtC,EAAGwP,EAAKlN,SAAStC,EAAIuiB,EAAMviB,EAC3BG,EAAGqP,EAAKlN,SAASnC,EAAIoiB,EAAMpiB,GAG7B8b,KAAK6P,cACL7P,KAAKgR,qBAAqB,CAAE3uB,KAAIgE,eAWpC2qB,qBA/cO,YA+cgE,WAA/C3uB,EAA+C,EAA/CA,GAAIgE,EAA2C,EAA3CA,SACpB6qB,EAAgBlR,KAAKzG,MAAMlX,GAC3BikB,EAAe,CACnBviB,EAAGsC,EAAStC,EAAImtB,EAAc7qB,SAAStC,EACvCG,EAAGmC,EAASnC,EAAIgtB,EAAc7qB,SAASnC,GAEnCitB,EAAW,IAAIjG,IAIrB,GAFAlL,KAAK0P,kBAAkB,CAAErtB,KAAIlE,OAAO,IAEhC+yB,EAAcroB,OAAS0L,GAASC,SAElC,OAAOwL,KAAKiP,gBAAgB,CAAE5sB,KAAIgE,aAGpC2Z,KACGtG,gBACAuH,SAAQ,SAACtO,GACR,IAAMY,EAAO,EAAKgG,MAAM5G,GAClBtM,EAAkB,CACtBtC,EAAGwP,EAAKlN,SAAStC,EAAIuiB,EAAMviB,EAC3BG,EAAGqP,EAAKlN,SAASnC,EAAIoiB,EAAMpiB,GAGzBqP,EAAKjB,SACP6e,EAASrT,IAAIvK,EAAKjB,SAGpB,EAAK2c,gBAAgB,CAAE5sB,GAAIsQ,EAAQtM,gBAGvC8qB,EAASlQ,QAAQjB,KAAK4Q,sBAQxBpB,mBAtfO,SAsfantB,GAClB,GAAK2d,KAAKzG,MAAMlX,GAAhB,CAEA,MAKI2d,KAAKzG,MAAMlX,GAJbgE,EADF,EACEA,SACA4H,EAFF,EAEEA,SACA9J,EAHF,EAGEA,MACAE,EAJF,EAIEA,OAGF2b,KAAKzG,MAAMlX,GAAI2D,YAAcoM,GAAWpE,eAAe3H,EAAU4H,EAAU9J,EAAOE,KAQpFusB,oBAxgBO,SAwgBcvuB,GAAU,WAC7B,GAAK2d,KAAKla,OAAOzD,GAAjB,CAEA,IAAM8J,EAAgB6T,KACnBla,OAAOzD,GACP+uB,QACAjiB,KAAI,SAAA9M,GAAE,OAAI,EAAKkX,MAAMlX,GAAI2D,eAE5Bga,KAAKla,OAAOzD,GAAI2D,YAAcoM,GAAWhE,oBAAoBjC,KAO/DpG,MAvhBO,WAuhBF,WACHia,KAAK6P,cAEL,IAAMxtB,EAAKoQ,iBACL8G,EAAQxd,OACXulB,OAAOtB,KAAKzG,OACZjF,QAAO,gBAAG/O,EAAH,EAAGA,WAAH,OAAoBA,KACxBkU,EAAUF,EAAMlL,QAAO,SAACoL,EAASlG,GACrC,OAAOkG,EAAQuD,OAAOzJ,EAAKkG,WAC1B,IACGzH,EAAcjW,OACjBulB,OAAOtB,KAAKhO,aACZsC,QAAO,SAAA9W,GAEN,OAAOic,EAAQrB,SAAS5a,EAAEqJ,SAAW4S,EAAQrB,SAAS5a,EAAEsJ,SAAWtJ,EAAE+H,cAIzEgU,EAAM0H,SAAQ,SAAArlB,GAAC,OAAIA,EAAE0W,SAAW,EAAK+e,aAAaz1B,EAAE0W,YACpDN,EAAYiP,SAAQ,SAAArlB,GAAC,OAAIA,EAAE0W,SAAW,EAAK+e,aAAaz1B,EAAE0W,YAG1D,IAAM3M,EAAS,yBAAI4T,GAAJ,eAAcvH,IAAa3D,QAAO,SAAC1I,EAAgB4N,GAChE,OAAO5I,KAAK6D,IAAI+E,EAAK5N,OAAQA,KAC5B,GAEHqa,KAAKpD,UAAUjX,GAEf,IAAMI,EAAQ,CACZ1D,KACA+uB,QAAS7X,EAAMpK,KAAI,gBAAG9M,EAAH,EAAGA,GAAH,OAAYA,KAC/BwoB,cAAe7Y,EAAY7C,KAAI,gBAAG9M,EAAH,EAAGA,GAAH,OAAYA,KAC3CkD,YAAY,EACZS,YAAa,CACX/B,KAAM,EACNlD,IAAK,EACLqD,MAAO,EACPpB,OAAQ,GAEVqD,SAAU,CACRtC,EAAG,EAAGG,EAAG,GAEXyB,UAGFqa,KAAKla,OAAOzD,GAAM0D,EAGlBA,EAAMqrB,QAAQnQ,SAAQ,SAAA5e,GACpB,EAAKkX,MAAMlX,GAAIiQ,QAAUvM,EAAM1D,MAIjC0D,EAAM8kB,cAAc5J,SAAQ,SAAA5e,GAC1B,EAAK2P,YAAY3P,GAAIiQ,QAAUvM,EAAM1D,MAGvC2d,KAAK4Q,oBAAoBvuB,IAM3BivB,QAtlBO,WAylBL,IAAK,IAAMjvB,KAFX2d,KAAK6P,cAEY7P,KAAKla,OAChBka,KAAKla,OAAOzD,GAAIkD,YAClBya,KAAKqR,aAAahvB,IASxBoC,YApmBO,WAumBL,IAAK,IAAIpC,KAFT2d,KAAKuR,qBAEUvR,KAAKhO,YAClBgO,KAAKhO,YAAY3P,GAAIkD,YAAa,EAClCya,KAAK8N,sBAAwB,GAG/B,IAAK,IAAIzrB,KAAM2d,KAAKzG,MAClByG,KAAKzG,MAAMlX,GAAIkD,YAAa,EAC5Bya,KAAKtG,gBAAgBtd,KAAKiG,GAC1B2d,KAAKtG,gBAAkB,IAQ3B8X,UAvnBO,WA0nBL,IAAK,IAAInvB,KAFT2d,KAAKuR,qBAEUvR,KAAKhO,YAClBgO,KAAKhO,YAAY3P,GAAIkD,YAAa,EAClCya,KAAK8N,sBAAsB1xB,KAAKiG,GAGlC,IAAK,IAAIA,KAAM2d,KAAKzG,MAClByG,KAAKzG,MAAMlX,GAAIkD,YAAa,EAC5Bya,KAAKtG,gBAAgBtd,KAAKiG,IAI9BkvB,mBAroBO,WAsoBLvR,KAAKnH,yBACLmH,KAAK7H,mBAAqB,GAC1B6H,KAAK8N,sBAAwB,GAC7B9N,KAAKtG,gBAAkB,GACvBsG,KAAK+N,mBAAqB,EAC1B/N,KAAKlH,YAAc,KACnBkH,KAAK9H,aAAe,KACpB8H,KAAKna,oBAAsB,MAQ7BlB,gBArpBO,SAqpBU6V,GAAsB,WACrC,GAAKpI,GAAWzE,sBAAsB6M,GAEtC,IACE,IAAM4W,EAAUr1B,OACbsnB,KAAKrD,KAAKzG,OACVjF,QAAO,SAAAjS,GAAE,OAAI+P,GAAW7E,gBAAgBiN,EAAW,EAAKjB,MAAMlX,GAAI2D,gBAC/D6kB,EAAgB9uB,OACnBsnB,KAAKrD,KAAKhO,aACVsC,QAAO,SAAAjS,GACN,IAAM0P,EAAa,EAAKC,YAAY3P,GAC9BwE,EAAS,EAAKqL,MAAMH,EAAWlL,QAC/BC,EAAS,EAAKoL,MAAMH,EAAWjL,QAErC,OAAOsL,GAAWhF,4BAA4BvG,EAAOR,SAAUS,EAAOT,SAAUmU,MAGpF4W,EACGpU,OAAO6N,GACP5J,SAAQ,SAAA5e,GACP,EAAKovB,oBAAoB,CAAEpvB,KAAIkD,YAAY,OAG/Cya,KAAK0R,sBAAsBN,GAC3B,MAAOO,GACPxmB,QAAQC,IAAI,oBAAqBumB,EAAOnX,KAW5CkX,sBAzrBO,SAyrBgBN,GAAiB,WAChC3X,EAAU2X,EAAQ/iB,QAAO,SAACoL,EAAmB9G,GACjD,OAAO8G,EAAQuD,OAAO,EAAKzD,MAAM5G,GAAQ8G,WACxC,IAEH,IAAK,IAAIpX,KAAM2d,KAAKhO,YAAa,CAC/B,IAAMxU,EAAIwiB,KAAKhO,YAAY3P,GAEvBoX,EAAQrB,SAAS5a,EAAEqJ,SAAW4S,EAAQrB,SAAS5a,EAAEsJ,SACnDkZ,KAAKyR,oBAAoB,CAAEpvB,KAAIkD,YAAY,MAYjDmqB,kBA9sBO,YA8sByD,WAA3CrtB,EAA2C,EAA3CA,GAAIlE,EAAuC,EAAvCA,MACjByzB,EAAU5R,KAAKzG,MAAMlX,IAAO2d,KAAKhO,YAAY3P,GAC7CkD,EAAapH,EAEnB,GAAKyzB,GAAWA,EAAQrsB,aAAeA,EAEvC,GAAIqsB,EAAQtf,QAAS,CAEnB,MAAmC0N,KAAKla,OAAO8rB,EAAQtf,SAA/C8e,EAAR,EAAQA,QAASvG,EAAjB,EAAiBA,cAEjBuG,EACGpU,OAAO6N,GACP5J,SAAQ,SAAA5e,GACP,EAAKovB,oBAAoB,CAAEpvB,KAAIkD,kBAGnCya,KAAKyR,oBAAoB,CAAEpvB,GAAIuvB,EAAQtf,QAAS/M,oBAGhDya,KAAKyR,oBAAoB,CAAEpvB,KAAIkD,gBAInCqB,aAruBO,SAquBOvE,GACZ2d,KAAK0P,kBAAkB,CAAErtB,KAAIlE,OAAO,KAGtCuI,WAzuBO,SAyuBKrE,GAA0C,IAA9BwvB,EAA8B,wDAC/CA,GACH7R,KAAKvb,cAGPub,KAAK0P,kBAAkB,CAAErtB,KAAIlE,OAAO,KAStC2zB,qBAvvBO,SAuvBe7Y,GACpB,GAAI+G,KAAK9H,cAAgBe,EAAQ,CAC/B,IAAIpS,EAASmZ,KAAK9H,aACdpR,EAASmS,EAET+G,KAAK9N,MAAM8N,KAAK9H,cAAcrP,OAAS2P,GAASO,QAClDlS,EAASoS,EACTnS,EAASkZ,KAAK9H,cAGhB,IAAM7V,EAAKoQ,iBAEXuN,KAAKnH,yBACLmH,KAAK+R,QAAQ,CAAElrB,SAAQC,SAAQzE,OAC/B2d,KAAKna,oBAAsBxD,IAO/BwW,uBA5wBO,WA6wBDmH,KAAKna,qBACPma,KAAK7M,WAAW6M,KAAKhO,YAAYgO,KAAKna,sBAExCma,KAAKna,oBAAsB,MAM7BoS,0BAtxBO,WAuxBL,GAAI+H,KAAKna,oBAAqB,CAC5B,MAA2Bma,KAAKhO,YAAYgO,KAAKna,qBAAzCgB,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,OAEhBkZ,KAAK7M,WAAW,CAAEtM,SAAQC,WAC1BkZ,KAAK6P,cACL7P,KAAK+R,QAAQ,CAAElrB,SAAQC,WACvBkZ,KAAKna,oBAAsB,OAU/BmS,wBAvyBO,SAuyBkBiB,GAAc,MACjCA,GAAUA,IAAW+G,KAAK9H,cAC5B8H,KAAK9L,gBAAgB+E,GAGvB,IAAIjE,EAAQgL,KAAK+N,kBAAoB,EAEjC/Y,GAAS,IAAGA,EAAQ,GACpBA,GAASgL,KAAK7H,mBAAmBrc,SAAQkZ,GAAS,GAEtD,IAAMgd,EAAgBhS,KAAK7H,mBAAmBnD,IAE1Cgd,GAAiB,UAAChS,KAAK9N,MAAM+G,UAAZ,OAAC,EAAoBxE,iBAAiB2D,SAAS4Z,IAG3B,IAAnChS,KAAK7H,mBAAmBrc,QAC1BkD,OAAOizB,IAAIC,OAEblS,KAAKnH,0BALLmH,KAAK8R,qBAAqBE,GAO5BhS,KAAK+N,kBAAoB/Y,GAQ3Bd,gBAn0BO,SAm0BU+E,GACX+G,KAAK9H,eAAiBe,IACpBA,EACF+G,KAAKhH,sBAAsB,CAAEC,WAE7B+G,KAAK7H,mBAAqB,GAG5B6H,KAAK9H,aAAee,EACpB+G,KAAK+N,mBAAqB,IAS9B1e,OAr1BO,SAq1BCa,GAAiB,WACvB8P,KAAK6P,cAEL,IAAMsC,EAAgBp2B,OACnBulB,OAAOtB,KAAKzG,OACZjF,QAAO,gBAAG/O,EAAH,EAAGA,WAAH,OAAoBA,KACxB4G,EAAgBgmB,EAAchjB,KAAI,gBAAGnJ,EAAH,EAAGA,YAAH,OAAqBA,KACvDA,EAAcoM,GAAWhE,oBAAoBjC,GAC7CglB,EAAW,IAAIjG,IAErBiH,EAAclR,SAAQ,SAAA1N,GACpB,IAAM6e,EAAcnkB,GAASoB,OAAOkE,EAAKtF,SAAWiC,GAEhDqD,EAAKjB,SACP6e,EAASrT,IAAIvK,EAAKjB,SAGpB,EAAKiH,MAAMhG,EAAKlR,IAAI4L,SAAWmkB,EAC/B,EACG7Y,MAAMhG,EAAKlR,IACXoX,QACAwH,SAAQ,SAAAhI,GACP,EAAK/G,MAAM+G,GAAQhL,SAAWmkB,KAGlC,EAAKnD,gBAAgB,CACnB5sB,GAAIkR,EAAKlR,GACTgE,SAAU4H,GAASsb,8BAA8BvjB,EAAauN,EAAMrD,KAEtE,EAAKuf,qBAAqBlc,EAAKlR,OAGjC8uB,EAASlQ,SAAQ,SAAA3O,GACf,EAAKse,oBAAoBte,OAU7B+B,aAh4BO,YAg4BmD,IAA1ChS,EAA0C,EAA1CA,GAAIlE,EAAsC,EAAtCA,MAClB6hB,KACGqN,WACAhZ,aAAahS,EAAIlE,IAStBmyB,eA54BO,SA44BSjuB,GACd,IAAMkR,EAAOyM,KAAKzG,MAAMlX,GAEpBgwB,EAAmB,GACnBC,EAAmB,GAGvBv2B,OACGulB,OAAOtB,KAAKhO,aACZiP,SAAQ,SAAAzjB,GACHA,EAAEsJ,SAAWyM,EAAKkG,QAAQ,KAAI4Y,EAAmB70B,EAAEqJ,QACnDrJ,EAAEqJ,SAAW0M,EAAKkG,QAAQ,KAAI6Y,EAAmB90B,EAAEsJ,WAGvDurB,GAAkBrS,KAAK7M,WAAW,CAAEtM,OAAQwrB,EAAkBvrB,OAAQyM,EAAKkG,QAAQ,KACnF6Y,GAAkBtS,KAAK7M,WAAW,CAAEtM,OAAQ0M,EAAKkG,QAAQ,GAAI3S,OAAQwrB,IACrED,GAAoBC,GAEtBtS,KAAK+R,QAAQ,CAAElrB,OAAQwrB,EAAkBvrB,OAAQwrB,IAInDtS,KAAKoQ,cAAc/tB,IAYrBqQ,eA96BO,SA86BSpX,GAA0D,IAA1Ci3B,IAA0C,yDACpEvS,KAAKzG,MAAMje,EAAKqX,UAEhBrX,EAAKyX,UAAYzX,EAAK0X,UACxBgN,KAAK6P,cAGP7P,KAAKvb,cACLub,KAAKwS,gBAAgBl3B,GACrB0kB,KAAKwP,mBAAmBl0B,EAAKqX,QAC7BqN,KAAKgO,iBAAmB1yB,EAAKqX,OAEzBrX,EAAKyX,UAAYzX,EAAK0X,UAGxBgN,KACGqN,WACA5K,iBAAiBnnB,EAAKyX,SAAUzX,EAAK0X,UAGtC1X,EAAKyX,UACPiN,KAAK+R,QAAQ,CACXlrB,OAAQvL,EAAKyX,SACbjM,OAAQxL,EAAKsX,YACbE,kBAAmBxX,EAAKwX,mBACvByf,GAGDj3B,EAAK0X,UACPgN,KAAK+R,QAAQ,CACXlrB,OAAQvL,EAAKuX,aACb/L,OAAQxL,EAAK0X,SACbF,kBAAmBxX,EAAKwX,mBACvByf,GAGDj3B,EAAKyX,UAAYzX,EAAK0X,WAExBgN,KAAKvb,cACLub,KAAK0P,kBAAkB,CACrBrtB,GAAI/G,EAAKqX,OACTxU,OAAO,IAET6hB,KAAKnD,gBAAgB,MAazB3D,gBAt+BO,YAs+BkG,WAAtFnG,EAAsF,EAAtFA,SAAUC,EAA4E,EAA5EA,SAAUiG,EAAkE,EAAlEA,OAC/B1I,EAAOyP,KAAK9N,MAAM+G,GAClBwZ,EAAU12B,OACbulB,OAAOtB,KAAK9N,OACZwgB,MAAK,SAAC5zB,GAEL,OAAOA,EAAEuD,KAAO4W,GAAU,EAAKd,mBAAmBC,SAAStZ,EAAEuD,KAAO+P,GAAW5G,iBAAiB1M,EAAEuH,SAAUkK,EAAKlK,SAAU,OAG3HosB,EACE1f,GACFiN,KAAK7M,WAAW,CACdtM,OAAQkM,EACRjM,OAAQmS,IAEV+G,KAAK+R,QAAQ,CACXlrB,OAAQkM,EACRjM,OAAQ2rB,EAAQpwB,MAET2Q,IACTgN,KAAK7M,WAAW,CACdtM,OAAQoS,EACRnS,OAAQkM,IAEVgN,KAAK+R,QAAQ,CACXlrB,OAAQ4rB,EAAQpwB,GAChByE,OAAQkM,KAKZgN,KAAK7M,WAAW,CACdtM,OAAQkM,GAAYkG,EACpBnS,OAAQkM,GAAYiG,IAIxB,IAAM1F,EAAOxX,OACVulB,OAAOtB,KAAKzG,OACZmZ,MAAK,gBAAGjZ,EAAH,EAAGA,QAAH,OAAiBA,EAAQrB,SAASa,MAEtC1F,GACFyM,KAAKoQ,cAAc7c,EAAKlR,IAG1B2d,KAAKuR,sBASPvY,sBA5hCO,YA4hCgF,IAA9DC,EAA8D,EAA9DA,OAAQxP,EAAsD,EAAtDA,WACzB8G,EAAOyP,KAAK9N,MAAM+G,GAExB,IAAI1I,EAAKE,WAAT,CAGA,IAAMgE,EAAmB1Y,OACtBulB,OAAOtB,KAAKhO,aACZ3D,QAAO,SAACoL,EAAmB1H,GAC1B,OAAO0H,EAAQuD,OAAO,CAACjL,EAAWlL,OAAQkL,EAAWjL,WACpD,IAED2C,GAGFgL,EAAiBzX,QAAQ,GAG3B,IAAMsX,EAAS/D,EAAK1H,OAAS2P,GAASoQ,OAClC,SAAC9pB,GAAD,OAAaA,EAAE+J,OAAS2P,GAASO,QAAUja,EAAE2R,aAAegE,EAAiB2D,SAAStZ,EAAEuD,KAAOvD,EAAEmsB,YAAc1a,EAAK0a,WACpH,SAACnsB,GAAD,OAAaA,EAAE+J,OAAS2P,GAASoQ,SAAW9pB,EAAE2R,aAAegE,EAAiB2D,SAAS7H,EAAKlO,KAAOvD,EAAEmsB,YAAc1a,EAAK0a,WAE5HjL,KAAK7H,mBAAqBpc,OACvBulB,OAAOtB,KAAK9N,OACZoC,OAAOA,GACPnF,KAAI,gBAAG9M,EAAH,EAAGA,GAAH,OAAYA,OAGrBojB,KAxjCO,WAyjCLzF,KAAKqN,WAAWpG,SAGlBvX,MA5jCO,WA6jCAsQ,KAAKva,aACRua,KAAKqN,WAAWnG,WAIpBxF,MAlkCO,WAkkCF,WACH1B,KAAKwO,eACLxO,KAAKqN,WAAWtI,SAAW/E,KAAKva,YAChCua,KAAK+G,YAAc,GACnB/G,KAAKqN,WAAWtG,YAAc,GAE9BhrB,OACGulB,OAAOtB,KAAKzG,OACZ0H,SAAQ,SAAA1N,GACPA,EAAKkG,QAAQwH,SAAQ,SAAA5e,GAAK,MAGoD,GAF5E,EAAK6P,MAAM7P,GAAIlE,MAAQ8hB,GAAWG,QAE9B,UAAA7M,EAAKQ,kBAAL,SAAiB4e,YAAc,EAAKzgB,MAAM7P,GAAIwG,OAAS2P,GAASoQ,SAClE,EAAKvU,aAAa,CAChBhS,KACAlE,MAAK,UAAEoV,EAAKQ,kBAAP,aAAE,EAAiB4e,WAAWx0B,cAM7C6hB,KAAKqN,WAAWnG,WAGlB0L,eA1lCO,WA2lCD5S,KAAKva,YACPua,KAAKqN,WAAWxF,gBAEhB7H,KAAKqN,WAAW1F,iBAGlB3H,KAAKva,aAAeua,KAAKva,aAG3BotB,mBApmCO,WAqmCL7S,KAAKqN,WAAWvF,UAChB9H,KAAKta,oBAAsBsa,KAAKqN,WAAW9F,aAG7CuL,mBAzmCO,WA0mCD9S,KAAKwN,mBACPxN,KAAK+S,oBAEL/S,KAAKgT,oBAITA,iBAjnCO,WAinCS,WACdj3B,OACGulB,OAAOtB,KAAK9N,OACZ+O,SAAQ,SAAA1Q,GACHA,EAAK0Y,aACP,EAAKoE,WAAWnE,YAAY3Y,EAAKlO,GAAIkO,EAAKpS,MAAOoS,EAAKkT,QAI5DzD,KAAKwN,oBAAqB,GAG5BuF,kBA7nCO,SA6nCYE,GACZjT,KAAKwN,qBAEVriB,QAAQC,IAAI,gBAAiB6nB,GAC7Bl3B,OACGsnB,KAAKrD,KAAK9N,OACV+O,QAAQjB,KAAKqN,WAAW/D,eAE3BtJ,KAAKqN,WAAWvG,WAAWpB,QAC3B1F,KAAKwN,oBAAqB,EAEtByF,IACFjT,KAAKuN,mBAAqB0F,KAI9BC,kBA7oCO,WA8oCLlT,KAAKqN,WAAWvG,WAAWpB,SAG7BpN,qBAjpCO,SAipCeW,GAChB+G,KAAK9N,MAAM+G,GAAQgQ,YACrBjJ,KAAKsJ,cAAcrQ,GAEnB+G,KAAKkJ,YAAYjQ,IAIrBiQ,YAzpCO,SAypCMjQ,GACX,IAAM1I,EAAOyP,KAAK9N,MAAM+G,GAExB1I,EAAKkT,IAAMlT,EAAKkT,QAAW,IAAM9Y,KAAKwoB,UACtC5iB,EAAK0Y,aAAc,EAEnBjJ,KACGqN,WACAnE,YAAYjQ,EAAQ1I,EAAKpS,MAAOoS,EAAKkT,KAExCzD,KAAKwN,oBAAqB,GAG5BlE,cAtqCO,SAsqCQrQ,GACb,IAAM1I,EAAOyP,KAAK9N,MAAM+G,GAExB1I,EAAK0Y,aAAc,EAEnBjJ,KACGqN,WACA/D,cAAcrQ,IAWnBma,cAxrCO,YAwrCoD,WAA1C/wB,EAA0C,EAA1CA,GAAIgxB,EAAsC,EAAtCA,MACb9f,EAAOyM,KAAKzG,MAAMlX,GAClBixB,EAAW/f,EAAKQ,WAAWuB,WAAWnX,MAE5C,GAAIm1B,EAAWD,EAEbrT,KAAKzG,MAAMlX,GAAIoX,QACZnF,QAAO,SAAA2E,GAAM,OAAI,EAAK/G,MAAM+G,GAAQpQ,OAAS2P,GAASO,SACtD7Z,MAAMm0B,GACNpS,SAAQ,SAAAhI,GAAM,OAAI,EAAKoQ,WAAWpQ,WAErC,IAAK,IAAIrd,EAAI03B,EAAU13B,EAAIy3B,EAAOz3B,IAAK,CACrC,IAAMqd,EAASxG,iBAGfuN,KAAK8I,QAAQzmB,EAAI,CACfA,GAAI4W,EACJvb,KAAM,GACN+W,iBAAkB,GAClB5L,KAAM2P,GAASO,MACfkS,UAAW5oB,EACXkxB,iBAAkBlxB,EAClBmO,YAAapB,GAAUe,KACvBM,YAAY,EACZwY,aAAa,EACbxF,IAAK,EACLpd,SAAU,CACRtC,EAAG,EACHG,EAAG,GAEL+J,SAAU,EACV9P,MAAO,MAcf8V,cAruCO,YAquCmE,IAAzD5R,EAAyD,EAAzDA,GAAI0R,EAAqD,EAArDA,WACbR,EAAOyM,KAAKzG,MAAMlX,GAExB,IAAK,IAAM4U,KAAgBlD,EAAY,CACrC,IAAMlV,EAAWkV,EAAWkD,GAE5B,GAAI1D,EAAKQ,WAAWkD,GAAc9Y,QAAUU,EAASV,MAArD,CAIA,OAAQ8Y,GACN,IAAK,aACH+I,KAAKoT,cAAc,CAAE/wB,KAAIgxB,MAAOx0B,EAASV,QACzC,MAGJ6hB,KAAKzG,MAAMlX,GAAI0R,WAAWkD,GAAc9Y,MAAQU,EAASV,SAS7Dq1B,cA9vCO,SA8vCQ5M,GACb,IAAK,IAAM3N,KAAU2N,EACf5G,KAAK9N,MAAM+G,KACb+G,KAAK9N,MAAM+G,GAAQ9a,MAAQyoB,EAAS3N,KAU1CU,WA3wCO,WA4wCLqG,KAAKlH,YAAcmP,KAAKG,UAAU,CAChCpW,YAAagO,KAAKhO,YAClBuH,MAAOyG,KAAKzG,MACZrH,MAAO8N,KAAK9N,MACZpM,OAAQka,KAAKla,UASjB+N,kBAzxCO,WA0xCDmM,KAAKlH,cACPkH,KAAKmN,UAAU/wB,KAAK4jB,KAAKlH,YAAYjW,YACrCmd,KAAKlH,YAAc,KACnBkH,KAAKoN,UAAY,GACjBpN,KAAKtd,SAAU,IAYnB+rB,WA1yCO,SA0yCKgF,GAAkB,WACtBC,EAAczL,KAAKC,MAAMuL,GACvBla,EAAsCma,EAAtCna,MAAOvH,EAA+B0hB,EAA/B1hB,YAAaE,EAAkBwhB,EAAlBxhB,MAAOpM,EAAW4tB,EAAX5tB,OAGnC,SAAS6tB,EAAoBloB,EAA6BC,GACxD,IAAMkoB,EAAO73B,OAAOsnB,KAAK5X,GACnBooB,EAAO93B,OAAOsnB,KAAK3X,GAEzB,OAAOkoB,EAAKtf,QAAO,SAAAjS,GAAE,OAAKwxB,EAAKzb,SAAS/V,MAI1C,IAAMyxB,EAAeH,EAAmB3T,KAAKzG,MAAOA,GAC9Cwa,EAAqBJ,EAAmB3T,KAAKhO,YAAaA,GAG1DgiB,EAAaL,EAAmBpa,EAAOyG,KAAKzG,OAC5C0a,EAAmBN,EAAmB3hB,EAAagO,KAAKhO,aAE9D+hB,EAAmB9S,SAAQ,SAAA5e,GAAE,OAAI,EAAK8Q,WAAW,EAAKnB,YAAY3P,OAClEyxB,EAAa7S,SAAQ,SAAA5e,GAAE,OAAI,EAAK+tB,cAAc/tB,MAE9C2d,KAAK9N,MAAQA,EACb8N,KAAKzG,MAAQA,EACbyG,KAAKla,OAASA,EAEdkuB,EAAW/S,SAAQ,SAAA5e,GACjB,EAAKytB,WAAW,CACdvc,KAAMgG,EAAMlX,GACZ6P,MAAOnW,OAAOulB,OAAOpP,QAIzB+hB,EAAiBhT,SAAQ,SAAA5e,GAAE,OAAI,EAAK0vB,QAAQ/f,EAAY3P,OAExD2d,KAAKqN,WAAWlG,QAGlB2B,QAj1CO,SAi1CEnW,EAAgBpC,GAAU,WAC3BwP,EAAOhkB,OACVulB,OAAOtB,KAAKqN,WAAWtL,OACvB2Q,MAAK,gBAAGh1B,EAAH,EAAGA,KAAH,OAAc,EAAK6b,MAAM5G,GAAQ8G,QAAQrB,SAAS1a,MAE1DsiB,KAAK9N,MAAM3B,EAAKlO,IAAMkO,EACtByP,KAAKzG,MAAM5G,GAAQ8G,QAAQrd,KAAKmU,EAAKlO,IAEjC0d,EACFC,KAAKqN,WAAWvE,QAAQvY,EAAKlO,GAAI0d,GAEjCC,KAAKqN,WAAWpL,QAAQjC,KAAKzG,MAAM5G,GAASqN,KAAK9N,QAUrDmX,WAt2CO,SAs2CKpQ,GAAc,WAExBld,OACGulB,OAAOtB,KAAKhO,aACZsC,QAAO,gBAAGzN,EAAH,EAAGA,OAAQC,EAAX,EAAWA,OAAX,OAAwBD,IAAWoS,GAAUnS,IAAWmS,KAC/DgI,SAAQ,SAAAzjB,GAEP,MAGImtB,GAAmB5uB,OAAOulB,OAAO,EAAKtP,aAAc,EAAKE,MAAO1U,EAAEsV,mBAFpE+X,EADF,EACEA,cACAC,EAFF,EAEEA,YAGFD,EAAc5J,SAAQ,SAAA5e,GAEpB,MAA2B,EAAK2P,YAAY3P,GAApCwE,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,OAEhB,EACGumB,WACA5K,iBAAiB5b,EAAQC,UAErB,EAAKkL,YAAY3P,MAG1ByoB,EAAY7J,SAAQ,SAAA5e,GAElB,EAAKkX,MAAMlX,GAAIoX,QAAQwH,SAAQ,SAAAhI,UACtB,EAAK/G,MAAM+G,GAClB,EAAKoU,WAAWhE,WAAWpQ,aAGtB,EAAKM,MAAMlX,SAIxB,IAAMkO,EAAOyP,KAAK9N,MAAM+G,GAExB,GAAI1I,EAAM,CACR,IAAMgD,EAAOyM,KAAKzG,MAAMhJ,EAAK0a,WAE7B,IAAK1X,EAAM,OAGX,IAAM2gB,EAAY3gB,EAAKkG,QAAQ4I,WAAU,SAAAzmB,GAAC,OAAIA,IAAMqd,MAEjC,IAAfib,GACFlU,KAAKzG,MAAMhG,EAAKlR,IAAIoX,QAAQzc,OAAOk3B,EAAW,UAGzClU,KAAK9N,MAAM+G,GAClB+G,KAAKqN,WAAWhE,WAAWpQ,KAW/B6W,WAl6CO,YAk6CmD,WAA5Cvc,EAA4C,EAA5CA,KAAMrB,EAAsC,EAAtCA,MACZkX,EAAK7V,EAAKmV,kBAEZU,GAEF7V,EACGkG,QACAwH,SAAQ,SAAAhI,GACHmQ,EAAGlX,MAAM+G,KACX,EAAK/G,MAAM+G,GAAUmQ,EAAGlX,MAAM+G,GAC9B,EAAKX,qBAAqBW,OAKlC/G,EAAM+O,SAAQ,SAAA1Q,GACZ,EAAK2B,MAAM3B,EAAKlO,IAAMkO,EACtB,EAAK+H,qBAAqB/H,EAAKlO,OAGjC,IAAM8xB,EAAW,GAAH,OAAM5gB,EAAK1K,KAAX,YAAmB0K,EAAKY,SAEjC6L,KAAKsN,eAAe6G,KACvBnU,KAAKsN,eAAe6G,GAAY,GAGlC5gB,EAAK7V,KAAOivB,GAAiBpZ,IAAQyM,KAAKsN,eAAe6G,IAEzDnU,KAAKzG,MAAMhG,EAAKlR,IAAMkR,EACtByM,KAAKzG,MAAMhG,EAAKlR,IAAIsD,SAAWqa,KAAKra,OAEpCqa,KACGqN,WACApL,QAAQ1O,EAAMyM,KAAK9N,OAEtB8N,KAAKoU,eAAe7gB,GAEpBrB,EAAM+O,SAAQ,SAAA1Q,GACRA,EAAK0Y,aACP,EACGoE,WACAnE,YAAY3Y,EAAKlO,GAAIkO,EAAKpS,MAAOoS,EAAKkT,SAK/C2Q,eAh9CO,SAg9CS7gB,GAAU,aAClB1U,EAAQ,UAAG0U,EAAKQ,kBAAR,aAAG,EAAiB4e,WAElC,GAAK9zB,EAAL,CAEA,IAAMV,EAAQU,EAASV,MAEvBoV,EAAKkG,QAAQwH,SAAQ,SAAA5e,GAAE,OAAI,EAAKgS,aAAa,CAAEhS,KAAIlE,eAQrDiyB,cA/9CO,SA+9CQ/tB,GAAU,WACjBkR,EAAOyM,KAAKzG,MAAMlX,GAExB2d,KACGqN,WACAlL,WAAW5O,GAGdA,EAAKkG,QAAQwH,SAAQ,SAAAhI,GAAM,OAAI,EAAKoQ,WAAWpQ,aAGxC+G,KAAKzG,MAAMlX,IAWpBovB,oBAr/CO,YAq/CqE,WAArDpvB,EAAqD,EAArDA,GAAIkD,EAAiD,EAAjDA,WAMnB8uB,EAAsB,SAAChyB,EAAY5D,GACvC,IAAMuW,EAAQ,EAAKvW,GAAK4jB,WAAU,SAACzmB,GAAD,OAAeA,IAAMyG,KAEnDkD,IAAyB,IAAXyP,GAChB,EAAKvW,GAAKrC,KAAKiG,GAGZkD,IAAyB,IAAXyP,GACjB,EAAKvW,GAAKzB,OAAOgY,EAAO,IAI5B,GAAIgL,KAAKzG,MAAMlX,GAEb2d,KAAKzG,MAAMlX,GAAIkD,WAAaA,EAC5B8uB,EAAoBhyB,EAAI,wBACnB,GAAI2d,KAAKhO,YAAY3P,GAAK,CAE/B,IAAQyQ,EAAsBkN,KAAKhO,YAAY3P,GAAvCyQ,kBACR,EAGI6X,GAAmB5uB,OAAOulB,OAAOtB,KAAKhO,aAAcgO,KAAK9N,MAAOY,GAFlE+X,EADF,EACEA,cACAC,EAFF,EAEEA,YAIFD,EAAc5J,SAAQ,SAAA5e,GACpB,EAAK2P,YAAY3P,GAAIkD,WAAaA,EAClC8uB,EAAoBhyB,EAAI,4BAI1ByoB,EAAY7J,SAAQ,SAAA5e,GAClB,EAAKkX,MAAMlX,GAAIkD,WAAaA,EAC5B8uB,EAAoBhyB,EAAI,wBAK9BiyB,aAjiDO,WAkiDLtU,KAAK6P,cACL7P,KAAKnD,iBAAiB,IAGxB0X,aAtiDO,WAuiDLvU,KAAK6P,cACL7P,KAAKnD,gBAAgB,IAGvB2X,WA3iDO,WA4iDLxU,KAAK6P,cACL7P,KAAKpD,UAAU,IAGjB6X,aAhjDO,WAijDLzU,KAAK6P,cACL7P,KAAKpD,UAAUoD,KAAKra,SAStBkX,gBA3jDO,SA2jDU3M,GACf,IAAMqJ,EAAoBxd,OAAOulB,OAAOtB,KAAKzG,OACvCvH,EAA0BjW,OAAOulB,OAAOtB,KAAKhO,aAC7C5M,EAAYmU,EACfyD,OAAOhL,GACPkc,KAAK9C,IACF1R,EAAkBtU,EACrBkP,QAAO,gBAAG/O,EAAH,EAAGA,WAAH,OAAoBA,KAC3B4J,KAAI,gBAAG9M,EAAH,EAAGA,GAAH,OAAYA,KAEf6N,EAAY,GAIdwJ,EAAgBmG,UAGlB,IAAM6U,EAAsB,GAE5Bhb,EAAgBuH,SAAQ,SAAA5e,GAAK,MACrBsyB,EAAevvB,EAAUid,WAAU,SAAAzmB,GAAC,OAAIA,EAAEyG,KAAOA,KACjDuyB,EAAYD,EAAezkB,EAEjC,GAAI0kB,EAAY,GAAKA,GAAaxvB,EAAUtJ,OAE1C44B,EAAUt4B,KAAKgJ,EAAUuvB,GAActyB,SAIzC,IAAKqyB,EAAUtc,SAAV,UAAmBhT,EAAUwvB,UAA7B,aAAmB,EAAsBvyB,IAAK,CACjD,IAAMkR,EAAOnO,EAAUuvB,GAEvBvvB,EAAUpI,OAAO23B,EAAc,GAC/BvvB,EAAUpI,OAAO43B,EAAW,EAAGrhB,OAInCnO,EAAU6b,SAAQ,SAAC1N,EAAMyB,GACvBzB,EAAK5N,OAASqP,EAAQ,KAGxBgL,KAAKra,OAAS5J,OAAOsnB,KAAKje,GAAWtJ,QASvC8gB,UA7mDO,SA6mDIjX,GAQT,IAPA,IAAM4T,EAAoBxd,OAAOulB,OAAOtB,KAAKzG,OACvCvH,EAA0BjW,OAAOulB,OAAOtB,KAAKhO,aAC/C5M,EAAYmU,EACbyD,OAAOhL,GACPkc,KAAK9C,IACF+G,EAAgB/sB,EAAUkP,QAAO,gBAAG/O,EAAH,EAAGA,WAAH,OAAoBA,KAElD3J,EAAI,EAAGA,EAAIwJ,EAAUtJ,OAAQF,IAChCwJ,EAAUxJ,GAAG2J,aACfH,EAAUpI,OAAOpB,EAAG,GACpBA,KAIJwJ,EAAUpI,OAAV,MAAAoI,EAAS,CAAQO,EAAS,EAAG,GAApB,sBAA0BwsB,KACnC/sB,EAAU6b,SAAQ,SAAC1N,EAAMyB,GACvBzB,EAAK5N,OAASqP,EAAQ,KAGxBgL,KAAKra,OAAS5J,OAAOsnB,KAAKje,GAAWtJ,QAWvCi2B,QA5oDO,YAipDsC,IALlClrB,EAKkC,EALlCA,OAAQC,EAK0B,EAL1BA,OAAQgM,EAKkB,EALlBA,kBAKkB,IALCzQ,UAKD,MALMoQ,iBAKN,EAA1C8f,IAA0C,yDACvC1rB,GAAUC,IACZkZ,KAAKhO,YAAY3P,GAAM,CACrBA,KACAwE,SACAC,SACAgM,kBAAmBA,GAAqBzQ,EACxCiQ,QAAS,KACT3M,SAAUqa,KAAKra,OACfJ,YAAY,GAGdya,KAAK9N,MAAMrL,GAAQ4N,iBAAiBrY,KAAK0K,GACzCkZ,KAAK9N,MAAMpL,GAAQ2N,iBAAiBrY,KAAKyK,GAErC0rB,GACFvS,KACGqN,WACA7K,cAAc3b,EAAQC,KAY/BqM,WA/qDO,YA+qD2D,IAApDtM,EAAoD,EAApDA,OAAQC,EAA4C,EAA5CA,OACdiL,EAAahW,OAChBulB,OAAOtB,KAAKhO,aACZ0gB,MAAK,SAAAl1B,GAAC,OAAIA,EAAEqJ,SAAWA,GAAUrJ,EAAEsJ,SAAWA,KAEjD,GAAIiL,EAAY,CACdiO,KACGqN,WACA5K,iBAAiB5b,EAAQC,GAE5B,IAAM+tB,EAAc7U,KAAK9N,MAAMrL,GAAQ4N,iBAAiB4N,WAAU,SAAAhgB,GAAE,OAAIA,IAAOyE,KACzEguB,EAAc9U,KAAK9N,MAAMpL,GAAQ2N,iBAAiB4N,WAAU,SAAAhgB,GAAE,OAAIA,IAAOwE,KAE/EmZ,KAAK9N,MAAMrL,GAAQ4N,iBAAiBzX,OAAO63B,EAAa,GACxD7U,KAAK9N,MAAMpL,GAAQ2N,iBAAiBzX,OAAO83B,EAAa,UAEjD9U,KAAKhO,YAAYD,EAAW1P,MASvCgvB,aAxsDO,SAwsDO/e,GAAe,WACrBvM,EAAQia,KAAKla,OAAOwM,GAG1BvM,EAAMqrB,QAAQnQ,SAAQ,SAAA5e,GACpB,EAAKkX,MAAMlX,GAAIiQ,QAAU,KACzB,EAAKoH,gBAAgBtd,KAAKiG,MAI5B0D,EAAM8kB,cAAc5J,SAAQ,SAAA5e,GAC1B,EAAK2P,YAAY3P,GAAIiQ,QAAU,KAC/B,EAAKwb,sBAAsB1xB,KAAKiG,aAG3B2d,KAAKla,OAAOwM,IAgBrBkgB,gBAvuDO,YA4uDN,IALkB7f,EAKlB,EALkBA,OAAQC,EAK1B,EAL0BA,YAAaC,EAKvC,EALuCA,aAKvC,IALqD1U,aAKrD,MAL6D,EAK7D,EACO+T,EAAgB,GAElBU,IACFoN,KAAK9N,MAAMU,GAAe8Z,GAAY/Z,EAAQC,EAAaxD,GAAUe,KAAMqI,GAASO,MAAOnG,GAC3FoN,KAAK9N,MAAMU,GAAazU,MAAQA,EAChC+T,EAAM9V,KAAK4jB,KAAK9N,MAAMU,KAGpBC,IACFmN,KAAK9N,MAAMW,GAAgB6Z,GAAY/Z,EAAQE,EAAczD,GAAUiB,MAAOmI,GAASoQ,OAAQ/V,GAC/FmN,KAAK9N,MAAMW,GAAc1U,MAAQA,EACjC+T,EAAM9V,KAAK4jB,KAAK9N,MAAMW,KAGxBmN,KAAKzG,MAAM5G,GAAU0Y,GAAY1Y,EAAQ4B,GAASC,SAAU2E,GAAY0T,KAAM,EAAG,EAAG3a,GACpF8N,KAAKzG,MAAM5G,GAAQhN,OAASqa,KAAKra,SAEjCqa,KACGqN,WACApL,QAAQjC,KAAKzG,MAAM5G,GAASqN,KAAK9N,OAAO,IAG7CkN,MAnwDO,WAowDLY,KAAK0N,YAAa,GAGpB9O,YAvwDO,WAwwDLoB,KAAK2N,iBAAkB,GAGzBoH,IA3wDO,WA4wDL/U,KAAKgV,OACLhV,KAAKtD,mBAGPsY,KAhxDO,WAgxDH,WACF,GAAKhV,KAAKvD,aAAV,CAEA,IAAMlD,EAA8B,GAC9BrH,EAA8B,GAEpC8N,KAAKtG,gBAAgBuH,SAAQ,SAAA5e,GAC3BkX,EAAMlX,GAAM,EAAKkX,MAAMlX,GACvBkX,EAAMlX,GAAIoX,QAAQwH,SAAQ,SAAAhI,GACxB/G,EAAM+G,GAAU,EAAK/G,MAAM+G,SAI/B,IAAMjH,EAAcjW,OACjBulB,OAAOtB,KAAKhO,aACZ3D,QAAO,SAACc,EAAK4C,GAKZ,OAJIG,EAAMH,EAAWlL,SAAWqL,EAAMH,EAAWjL,UAC/CqI,EAAI4C,EAAW1P,IAAM0P,GAGhB5C,IACN,IAECrJ,EAAS/J,OACZulB,OAAOtB,KAAKla,QACZwO,QAAO,gBAAG/O,EAAH,EAAGA,WAAH,OAAoBA,KAC3B8I,QAAO,SAACc,EAAKpJ,GAAN,uBAAC,mBAAqBoJ,GAAtB,sBAA4BpJ,EAAM1D,GAAK0D,MAAU,IAErDkvB,EAAYhN,KAAKG,UAAU,CAC/B7O,QACArH,QACAF,cACAlM,SACAovB,WAAY,IAGdl2B,OAAOizB,IAAI+C,KAAKC,KAGlBE,MAvzDO,WAuzDF,WACH,IACE,IAAM5J,EAAQvsB,OAAOizB,IAAIkD,QACnBC,EAASnN,KAAKC,MAAMqD,GAOpB8J,EAAS/F,GAAS1D,sBAAsBwJ,GAQ9CpV,KAAK6P,cACL7P,KAAKvb,cAEL1I,OACGsnB,KAAKgS,EAAOnjB,OACZ+O,SAAQ,SAAAhI,GACPoc,EAAOnjB,MAAM+G,GAAQ9a,MAAQ,KAGjCpC,OACGulB,OAAO+T,EAAO9b,OACd0H,SAAQ,SAAA1N,GACPA,EAAKlN,SAAStC,GAAK,GAAKqxB,EAAOF,WAC/B3hB,EAAKlN,SAASnC,GAAK,GAAKkxB,EAAOF,WAC/B3hB,EAAKhO,YAAa,EAElB,EAAKuqB,WAAW,CACdvc,OACArB,MAAOqB,EAAKkG,QAAQtK,KAAI,SAAA8J,GAAM,OAAIoc,EAAOnjB,MAAM+G,QAGjD,EAAKuW,mBAAmBjc,EAAKlR,IAC7B,EAAKotB,qBAAqBlc,EAAKlR,IAC/B,EAAKqtB,kBAAkB,CAAErtB,GAAIkR,EAAKlR,GAAIlE,OAAO,OAGjDpC,OACGulB,OAAO+T,EAAOrjB,aACdiP,SAAQ,SAAAlP,GAAU,OAAI,EAAKggB,QAAQhgB,MAEtChW,OACGulB,OAAO+T,EAAOvvB,QACdmb,SAAQ,SAAAlb,GACP,EAAKD,OAAOC,EAAM1D,IAAM0D,EAExB,EAAK6qB,oBAAoB7qB,EAAM1D,IAC/B,EAAKqtB,kBAAkB,CAAErtB,GAAI0D,EAAM1D,GAAIlE,OAAO,OAGlD,IAAM82B,EAAYhN,KAAKG,UAAL,mCACbH,KAAKC,MAAMqD,IADE,IAEhB2J,WAAYE,EAAOF,WAAa,KAGlCl2B,OAAOizB,IAAI+C,KAAKC,GAChB,MAAOtD,GACPxmB,QAAQC,IAAI,UAAWumB,KAM3B2D,cA73DO,WA83DLtV,KAAK1e,eAAiB0e,KAAK1e,mB,uBCpgEnB,SAAUi0B,GAAaC,GAAgB,MACnD,OAAO,UAAAA,EAASC,MAAM,MAAMnS,aAArB,eAA4BmS,MAAM,KAAKnS,QAAS,GC2BlD,IAAMoS,GAAexI,eAAY,CACtC7qB,GAAI,OACJkpB,MAAO,iBAAkB,CACvBppB,UAAW,GACX8yB,UAAW,KACXr0B,iBAAkB,KAClB+0B,SAAS,EACT1yB,cAAc,IAEhBgrB,QAAS,CACP2H,iBADO,SACWrK,GAChB,OAAOxvB,OACJsnB,KAAKkI,EAAMppB,WACXrG,OAAS,GAEd+E,eANO,SAMS0qB,GACd,OAAIA,EAAM3qB,iBACD2qB,EAAMppB,UAAUopB,EAAM3qB,kBAGxB,OAGX0tB,QAAS,CACPxsB,sBADO,SACgByR,GACjBA,EAAKmV,mBACP1I,KAAK6V,aAAa,GAAItiB,EAAKmV,kBAAkBiD,gBAAiBpY,EAAKlR,GAAIkR,EAAK7V,OAG1Eo4B,UANC,SAMUx6B,GAAU,qKACpB,EAAKuF,eADiB,CAAF,4DAIjBk1B,EAAc,EAAKl1B,eAAe0B,YAAYob,QAAQ,YAAa,IACnEqY,EALiB,UAKHD,EALG,QAMjBP,EAAWx2B,OAAOizB,IAAIgE,mBAAmB,CAC7C,CACEv4B,KAAM,YACNw4B,WAAY,CAAC,UAEdF,GAEER,EAboB,CAAF,iEAejBW,QAAYC,UAAUZ,EAAUl6B,GAff,6DAiBvB0D,OAAOizB,IAAIoE,eAAe,CACxBC,QAAS,oDACTC,MAAO,QACP1tB,KAAM,UApBe,6DAwB3B2tB,YA9BO,WA+BLrrB,QAAQC,IAAI,wBAERqrB,SAjCC,WAiCO,kKACR,EAAK71B,iBADG,gCAEuB,EAAKmC,cAAc,EAAKnC,kBAF/C,cAEJ81B,EAFI,gBAKJ,IAAIxX,SAAQ,SAAAC,GAAO,OAAIjV,WAAWiV,MAL9B,WAONuX,EAPM,yCAQD,EAAKD,YARJ,iCAWH,GAXG,iCAcL,GAdK,+CAgBdE,oBAjDO,WAkDD3W,KAAKnf,iBACPmf,KAAKnf,eAAeM,QAAQusB,YAAa,IAGvC3qB,cAtDC,SAsDcV,GAAU,yKACvBD,EAAW,EAAKD,UAAUE,GAC1BlB,EAAQiB,EAASjB,QACnBy1B,GAAe,EAEnB,EAAKh0B,iBAAiBP,IAElBlB,EAAMuB,QAPmB,oBAQrBm0B,EAAe73B,OAAOizB,IAAIoE,eAAe,CAC7CC,QAAS,mBAAF,OAAqBl0B,EAAS4zB,SAA9B,KACPO,MAAO,UACPO,QAAS,CAAC,MAAO,KAAM,YAGJ,IAAjBD,EAduB,iCAgBJ,EAAKE,qBAhBD,OAgBzBH,EAhByB,kBAmBN,IAAjBC,EAnBuB,2CAqBlB,GArBkB,sBA0BtB,EAAK10B,UAAUE,GACtB,EAAKzB,iBAAmB,KAElBo2B,EAAcj7B,OAAOsnB,KAAK,EAAKlhB,WAAWmhB,MAE5C0T,GACF,EAAKp0B,iBAAiBo0B,GAhCK,kBAmCtBJ,GAnCsB,+CAqCzBG,mBA3FC,WA2F+C,qLAA5BE,EAA4B,yCAE7C,EAAKp2B,eAFwC,0CAEjB,GAFiB,UAG7C,EAAKA,eAAe20B,WAAYyB,EAHa,oBAK1CjB,EAAW,EAAKn1B,eAAem1B,UAApB,UAAmC,EAAKn1B,eAAem1B,SAAvD,SACXR,EAAWx2B,OAAOizB,IAAIgE,mBAAmB,CAC7C,CACEv4B,KAAM,mCACNw4B,WAAY,CAAC,UAEdF,GAEER,EAb2C,0CAa1B,GAb0B,OAc5CA,IACIQ,EAAWT,GAAYC,GAE7B,EAAK30B,eAAe20B,SAAWA,EAC/B,EAAK30B,eAAem1B,SAAWA,EAC/B,EAAKn1B,eAAe0B,YAAcyzB,GAnBY,eAuB5C70B,EAAQ,EAAKN,eAAeM,QAElCg1B,QAAYe,KAAK,EAAKr2B,eAAe20B,SAAU,CAC7Cjc,MAAOpY,EAAMoY,MACbvH,YAAa7Q,EAAM6Q,YACnBlM,OAAQ3E,EAAM2E,OACdoM,MAAO/Q,EAAM+Q,QAGf/Q,EAAMuB,SAAU,EAhCkC,mBAkC3C,GAlC2C,4CAoClD1D,OAAOizB,IAAIoE,eAAe,CACxBC,QAAS,mDACTC,MAAO,QACP1tB,KAAM,UAvC0C,mBA0C3C,GA1C2C,6DA6ChDsuB,eAxIC,WAwIa,gKACZC,EAAQp4B,OAAOizB,IAAIoF,mBAAmB,CAC1C,CACE35B,KAAM,mCACNw4B,WAAY,CAAC,WAIRt6B,EAAI,EARK,YAQFA,EAAIw7B,EAAMt7B,QARR,gCASV,EAAKw7B,qBAAqBF,EAAMx7B,IATtB,OAQgBA,IARhB,6DAYd07B,qBApJC,SAoJqB9B,GAAgB,uLAGlBW,QAAYoB,KAAK/B,GAHC,OAGlCgC,EAHkC,OAKpCA,GACF,EAAK3B,aAAaL,EAAUgC,EAAS/kB,kBANC,mDASxCtH,QAAQC,IAAI,MAAZ,MACApM,OAAOizB,IAAIoE,eAAe,CACxBC,QAAS,kBAAF,OAAoBd,EAApB,gDACPe,MAAO,QACP1tB,KAAM,UAbgC,4DAiB5CgtB,aArKO,SAqKOL,EAAkBgC,EAAiBn1B,GAAoC,IAAxBE,EAAwB,uDAAF,GACjF,GAAIyd,KAAK7d,UAAUE,GACjB,OAAO2d,KAAKpd,iBAAiBP,GAG/B,IAAMlB,EAAQ8rB,GAAoB5qB,GAC5BD,EAAWjB,IACX60B,EAAWT,GAAYC,GAE7BpzB,EAASmsB,aAAaiJ,GAEtBxX,KAAK7d,UAAUE,GAAM,CACnB2zB,WACAR,WACAjzB,YAAaA,GAAeyzB,EAC5B70B,SAEF6e,KAAKpd,iBAAiBP,IAExBT,eAxLO,SAwLSsO,GAAiB,WACzBunB,EAAc17B,OAAOsnB,KAAKrD,KAAK7d,WAC/BwyB,EAAe8C,EAAYpV,WAAU,SAAAhgB,GAAE,OAAI,EAAKzB,mBAAqByB,KAEvEuyB,EAAYD,EAAezkB,EAEJ,IAAvBunB,EAAY37B,UACM,IAAlB64B,GAAuBC,GAAa6C,EAAY37B,OAAQ84B,EAAY,EAC/DA,EAAY,IAAGA,EAAY6C,EAAY37B,OAAS,GAEzDkkB,KAAKpd,iBAAiB60B,EAAY7C,MAEpC8C,cApMO,WAoMM,MACX,UAAA1X,KAAKnf,sBAAL,SAAqBM,QAAQskB,QAE/BkS,eAvMO,WAuMO,MACZ,UAAA3X,KAAKnf,sBAAL,SAAqBM,QAAQuO,SAE/B9M,iBA1MO,SA0MWP,GAChB2d,KAAK0X,gBACL1X,KAAKpf,iBAAmByB,EACxB2d,KAAK2X,kBAEPC,kBA/MO,WAyNL5X,KAAK6V,aAAa,iBAAkB5N,KAAKG,UAAUyP,IAAWplB,iBAAQ,mBAGxEqlB,qBA5NO,SA4Ne5nB,GAAiB,WAC/BunB,EAAc17B,OAAOsnB,KAAKrD,KAAK7d,WAC/BwyB,EAAe8C,EAAYpV,WAAU,SAAAhgB,GAAE,OAAIA,IAAO,EAAKzB,oBACzDg0B,EAAYD,EAAezkB,EAE3B0kB,EAAY,IAAGA,EAAY6C,EAAY37B,OAAS,GAChD84B,GAAa6C,EAAY37B,SAAQ84B,EAAY,GAEjD5U,KAAKpd,iBAAiB60B,EAAY7C,KAGpCzxB,iBAvOO,WAwOL6c,KAAK/c,cAAgB+c,KAAK/c,aAE1BjE,OAAOizB,IAAI8F,cAAc/X,KAAK/c,kB5DjRrB6E,gCAAgB,CAC7BpK,KAAM,WACNgL,WAAY,CACVsvB,SACAC,UACAnY,cACAoY,SAEFtvB,MAAO,CACLzH,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,IAGdjD,MAd6B,SActBY,GACL,IAAMzH,EAAQyH,EAAMzH,QACdg3B,EAAYzC,KACZvY,EAAS1Z,mBAEX20B,EAAe,EACf/U,EAAgC,GAyBpC,SAASgV,EAAelX,GACtB,GAAIhE,EAAOhf,MAAO,CAChB,IAAMgO,EAAgBpQ,OACnBulB,OAAOngB,EAAMoY,OACbpK,KAAI,gBAAGnJ,EAAH,EAAGA,YAAH,OAAqBA,KACtBA,EAAcoM,GAAWhE,oBAAoBjC,GAC7CmsB,EAAgBnb,EAAOhf,MAAMmL,IAAIivB,cAAc,iBAErDpX,EAASmX,EAAetyB,IAvClB,SA2CKqZ,IA3CL,6FA2CV,8FACEgZ,EAAa,yDAAC,WAAOC,EAAetyB,GAAtB,iGACNsZ,GAASD,WAAWle,EAAMuC,KAAM40B,EAAetyB,GADzC,OAGZ7E,EAAMusB,YAAa,EAHP,2CAAD,yDADf,2CA3CU,iCAmDK8K,IAnDL,6FAmDV,8FACEH,EAAa,yDAAC,WAAOC,EAAetyB,GAAtB,oGACUsZ,GAASlC,gBAAgB,EAAIjc,EAAMuC,KAAM40B,EAAetyB,EAAa,GAAI,IAAvFuX,EADI,EACJA,UADI,SAEQ+B,GAASV,YAAkBrB,EAAW,UAF9C,cAENS,EAFM,gBAINma,EAAUrC,UAAU9X,GAJd,OAMZ7c,EAAMwsB,iBAAkB,EANZ,2CAAD,yDADf,2CAnDU,wBA+DV,SAAS8K,EAAaC,GACpB,OAAO,SAAUr3B,GACXA,EAAOyF,kBAAkB6xB,mBAE7Bx3B,EAAMu3B,KACNr3B,EAAO+T,mBAIX,SAAS0B,EAAWzV,GAClB,KAAIA,EAAOyF,kBAAkB6xB,kBAE7B,OAAQt3B,EAAO5C,KACb,IAAK,SACH,OAAO0C,EAAMsD,cACf,IAAK,IACH,OAAOpD,EAAO4I,SAAW9I,EAAMqwB,YACjC,QACE,OAAOoH,EAAoBv3B,IAIjC,SAASw3B,EAASx3B,GAChBgiB,EAAKhiB,EAAO5C,MAAO,EACnB25B,EAAe,EAGjB,SAASrzB,EAAe1D,GACtB8J,QAAQC,IAAI,eACZpM,OAAOizB,IAAI6G,gBAAgBC,GAAkBnwB,EAAMzH,QAEnDE,EAAO+T,iBACP/T,EAAOgU,kBAGT,SAASujB,EAAqBv3B,GAC5B,IAAMilB,EAAS,WACb,OAAQjlB,EAAO5C,KACb,IAAK,YACH,MAAO,CAAEsF,GAAI,EAAGG,EAAG,GACrB,IAAK,UACH,MAAO,CAAEH,EAAG,EAAGG,GAAI,GACrB,IAAK,aACH,MAAO,CAAEH,EAAG,EAAGG,EAAG,GACpB,IAAK,YACH,MAAO,CAAEH,EAAG,EAAGG,EAAG,IATT,GAaf,GAAIoiB,EAAO,CACT,IAAM1qB,EAAI+O,KAAK4D,IAAI6pB,EAAc,IAEjCj3B,EAAM8vB,sBAAsB,CAC1BltB,EAAGuiB,EAAMviB,EAAInI,EACbsI,EAAGoiB,EAAMpiB,EAAItI,IAEfw8B,GAAgB,MAIpB,SAASY,IACP3V,EAAO,GAGT,OAvHAha,0BAAY,WACNlI,EAAMusB,YAAYrO,IAClBle,EAAMwsB,iBAAiB6K,OAG7BjwB,wBAAU,WACRnG,SAAS6G,iBAAiB,UAAW6N,GACrC1U,SAAS6G,iBAAiB,QAAS4vB,GACnCz2B,SAAS6G,iBAAiB,MAAOwvB,EAAY,QAC7Cr2B,SAAS6G,iBAAiB,OAAQwvB,EAAY,SAC9Cr2B,SAAS6G,iBAAiB,QAASwvB,EAAY,UAC/Cz5B,OAAOiK,iBAAiB,OAAQ+vB,MAGlC7vB,8BAAgB,WACd/G,SAASgH,oBAAoB,UAAW0N,GACxC1U,SAASgH,oBAAoB,QAASyvB,GACtCz2B,SAAS6G,iBAAiB,MAAOwvB,EAAY,QAC7Cr2B,SAAS6G,iBAAiB,OAAQwvB,EAAY,SAC9Cr2B,SAAS6G,iBAAiB,QAASwvB,EAAY,UAC/Cz5B,OAAOoK,oBAAoB,OAAQ4vB,MAmG9B,CACL73B,QACAgc,SACA7X,gBAAiBsD,EAAMzH,MACvB2V,YACA+hB,UACA9zB,gBACAi0B,YACAp1B,SAAU,O6D5JhB,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,KAErD,U9DLTzE,GAAa,CAAEsB,MAAO,WACtBrB,GAAa,CAAEqB,MAAO,kBACtB6J,GAAa,CAAE7J,MAAO,iBACtB8J,GAAa,CAAE9J,MAAO,kBAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMs5B,EAA4Bp5B,8BAAkB,kBAC9Cq5B,EAA+Br5B,8BAAkB,qBACjDs5B,EAAyBt5B,8BAAkB,eAEjD,OAAQQ,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,MAAOpB,GAAY,CACrCmC,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAK+5B,oBACXC,KAAM,UACN,aAAc,GACdviB,QAASzX,EAAK6B,MAAMm0B,cACpB9yB,OAAQlD,EAAK6B,MAAMG,eAClB,KAAM,EAAG,CAAC,OAAQ,UAAW,WAChCC,yBAAa23B,KAEf33B,yBAAa43B,EAAwB,CAAE14B,MAAO,uBAAyB,CACrEiB,QAASV,sBAAS,iBAAM,CACtBR,gCAAoB,MAAO8J,GAAY,CACrC/I,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAKi6B,aACXD,KAAM,QACL,KAAM,EAAG,CAAC,SACb/3B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAKk6B,OACXF,KAAM,OACL,KAAM,EAAG,CAAC,SACb/3B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAKm6B,OACXH,KAAM,QACL,KAAM,EAAG,CAAC,SACb/3B,yBAAa23B,GACb33B,yBAAa03B,EAA2B,CACtCliB,QAASzX,EAAK6B,MAAMqb,KACpBkd,UAAWp6B,EAAK6B,MAAMkb,QACtB+c,KAAM95B,EAAKq6B,QACXL,KAAM,QACL,KAAM,EAAG,CAAC,UAAW,WAAY,SACpC/3B,yBAAa03B,EAA2B,CACtCliB,QAASzX,EAAK6B,MAAM6uB,KACpB0J,UAAWp6B,EAAK6B,MAAMktB,QACtB+K,KAAM95B,EAAKs6B,QACXN,KAAM,QACL,KAAM,EAAG,CAAC,UAAW,WAAY,SACpC/3B,yBAAa23B,GACb33B,yBAAa03B,EAA2B,CACtCliB,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMkO,OAAO,KACvEqqB,UAAWp6B,EAAK6B,MAAMgtB,iBACtBiL,KAAM95B,EAAKu6B,gBACXP,KAAM,UACL,KAAM,EAAG,CAAC,WAAY,SACzB/3B,yBAAa23B,GACb33B,yBAAa03B,EAA2B,CACtCliB,QAASzX,EAAK6B,MAAM4E,MACpB2zB,UAAWp6B,EAAK6B,MAAM2b,SACtBsc,KAAM95B,EAAKw6B,cACXR,KAAM,SACL,KAAM,EAAG,CAAC,UAAW,WAAY,SACpC/3B,yBAAa03B,EAA2B,CACtCliB,QAASzX,EAAK6B,MAAMmwB,QACpBoI,UAAWp6B,EAAK6B,MAAM4b,WACtBqc,KAAM95B,EAAKy6B,gBACXT,KAAM,WACL,KAAM,EAAG,CAAC,UAAW,WAAY,SACpC/3B,yBAAa23B,GACb33B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAK06B,WACXV,KAAM,OACL,KAAM,EAAG,CAAC,SACb/3B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAK26B,OACXX,KAAM,QACL,KAAM,EAAG,CAAC,SACb/3B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAK46B,QACXZ,KAAM,SACL,KAAM,EAAG,CAAC,SACb/3B,yBAAa03B,EAA2B,CACtCliB,QAASzX,EAAK6B,MAAMub,gBACpBgd,UAAWp6B,EAAK6B,MAAMsb,aACtB2c,KAAM95B,EAAK66B,MACXb,KAAM,UACL,KAAM,EAAG,CAAC,UAAW,WAAY,SACpC/3B,yBAAa23B,GACb33B,yBAAa03B,EAA2B,CACtCliB,QAASzX,EAAK6B,MAAM+tB,sBACpBkK,KAAM95B,EAAK86B,YACXd,KAAM,YACL,KAAM,EAAG,CAAC,UAAW,WAE1B94B,gCAAoB,MAAO+J,GAAY,CACrChJ,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAK+6B,MACX73B,OAAQlD,EAAK6B,MAAMsE,YACnBsR,QAASzX,EAAK6B,MAAMyxB,eACpB0G,KAAM,SACL,KAAM,EAAG,CAAC,OAAQ,SAAU,YAC/B/3B,yBAAa23B,GACb33B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAKg7B,eACXvjB,QAASzX,EAAK6B,MAAMugB,MACpB4X,KAAM,SACL,KAAM,EAAG,CAAC,OAAQ,YACrB/3B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAKi7B,cACXb,UAAWp6B,EAAK6B,MAAMsE,aAAenG,EAAK6B,MAAMuE,mBAChDqR,QAASzX,EAAK6B,MAAM0xB,mBACpByG,KAAM,QACL,KAAM,EAAG,CAAC,OAAQ,WAAY,YACjC/3B,yBAAa23B,GACb33B,yBAAa03B,EAA2B,CACtCG,KAAM95B,EAAKk7B,aACXd,SAAUp6B,EAAK6B,MAAMsE,YACrBjD,QAASlD,EAAK6B,MAAMsE,aAAenG,EAAK6B,MAAMqsB,mBAC9CzW,QAASzX,EAAK6B,MAAM2xB,mBACpBwG,KAAM,WACL,KAAM,EAAG,CAAC,OAAQ,WAAY,SAAU,kBAG/Cv3B,EAAG,M,8BA5HH5C,GAAa,CAAEsB,MAAO,wBAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAM86B,EAAkB56B,8BAAkB,QAE1C,OAAQQ,yBAAcC,gCAAoB,SAAU,CAClDuD,SAAU,EACVpD,MAAOC,4BAAgB,CAAC,CACtB,yBAA0BpB,EAAKkD,SAAWlD,EAAKo7B,UAC/C,0BAA2Bp7B,EAAKkD,QAAUlD,EAAKo7B,UAC/C,2BAA4Bp7B,EAAKo6B,UAChC,mBACHljB,KAAM,UACL,CACAlX,EAAK85B,MACD/4B,yBAAcS,yBAAa25B,EAAiB,CAC3Ch8B,IAAK,EACL26B,KAAM95B,EAAK85B,KACX34B,MAAO,wBACN,KAAM,EAAG,CAAC,WACZJ,yBAAcS,yBAAa25B,EAAiB,CAC3Ch8B,IAAK,EACL26B,KAAM95B,EAAKq7B,OACXl6B,MAAO,wBACN,KAAM,EAAG,CAAC,UACjBD,gCAAoB,MAAOrB,GAAYiE,6BAAiB9D,EAAKg6B,MAAO,IACnE,GA1BL,IAAMn6B,GAAa,CAAC,WACdC,GAAa,CAAC,KAEd,SAAUC,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/Cs6B,MAAO,6BACPn6B,MAAO,OACP8U,QAAO,cAASjW,EAAK6E,MAAd,YAAuB7E,EAAK+E,SAClC,CACD7D,gCAAoB,OAAQ,CAC1BiK,KAAM,eACNhN,EAAI6B,EAAKu7B,SACR,KAAM,EAAGz7B,KACX,EAAGD,ICXO2I,oCAAgB,CAC7BpK,KAAM,OACNkL,MAAO,CACLwwB,KAAM,CACJvwB,KAAM9M,OACNkP,UAAU,IAGdjD,MAR6B,SAQtBY,GACL,IAAMzE,EAAQ4E,uBAAS,kBAAMH,EAAMwwB,KAAKA,KAAK,MACvC/0B,EAAS0E,uBAAS,kBAAMH,EAAMwwB,KAAKA,KAAK,MACxCyB,EAAU9xB,uBAAS,kBAAMH,EAAMwwB,KAAKA,KAAK,MAE/C,MAAO,CAAEj1B,QAAOE,SAAQw2B,c,U8DV5B,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U9DJA/yB,gCAAgB,CAC7BpK,KAAM,gBACNgL,WAAY,CACVoyB,SAEFx/B,KAL6B,WAM3B,MAAO,CAAEq/B,iBAEX/xB,MAAO,CACLpG,OAAQ,CACNqG,KAAMC,QACNpH,SAAS,GAEXg4B,SAAU,CACR7wB,KAAMC,QACNpH,SAAS,GAEXg5B,UAAW,CACT7xB,KAAMC,QACNpH,SAAS,GAEX03B,KAAM,CACJvwB,KAAM9M,OACN2F,QAAS,MAEX43B,KAAM,CACJzwB,KAAMqC,OACNxJ,QAAS,O,U+DzBf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UhEPTvC,GAAa,CAAEsB,MAAO,qBAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,ICFpC2I,oCAAgB,CAC7BpK,KAAM,qB,UgEGR,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UjEPT,SAAU2B,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CmD,IAAK,SACLhD,MAAOC,4BAAgB,CAAC,cAAe,CACrC,kCAAmCpB,EAAKy7B,iBAE1C50B,MAAOC,4BAAe,0DAAoD9G,EAAK07B,cAAzD,MACtBC,SAAU17B,EAAO,KAAOA,EAAO,GAEnC,kBAAcD,EAAK27B,UAAY37B,EAAK27B,SAAL,QAAI,cAC9B,CACDrzB,wBAAYtI,EAAKuI,OAAQ,YACxB,ICXUC,oCAAgB,CAC7BpK,KAAM,OACNkL,MAAO,CACLmyB,cAAe,CACblyB,KAAMC,QACNpH,SAAS,IAGbsG,MAR6B,WAS3B,IAAM/D,EAAO,uCACPG,EAAQ,oDACR82B,EAASz3B,mBACTu3B,EAAgBv3B,iBAAI,IAE1B,SAAS03B,EAAkBr0B,GACzB,IACEs0B,EAGEt0B,EAHFs0B,YACAC,EAEEv0B,EAFFu0B,WACAC,EACEx0B,EADFw0B,YAGF,GAAIF,EAAcE,EAAa,CAC7B,IAAMC,EAAsB,GAM5B,OAJIF,EAAa,GAAGE,EAAUn/B,KAAK6H,GAC/Bo3B,EAAaC,EAAcF,GAAaG,EAAUn/B,KAAKgI,GAE3D42B,EAAc78B,MAAQo9B,EAAUjqB,KAAK,MAC9BiqB,EAAUjqB,KAAK,MAGxB,MAAO,0BAGT,SAAS2pB,EAAT,GAAsC,IAAjBn0B,EAAiB,EAAjBA,OACnBk0B,EAAc78B,MAAQg9B,EAAiBr0B,GAOzC,OAJAyB,wBAAU,WACRyyB,EAAc78B,MAAQg9B,EAAiBD,EAAO/8B,UAGzC,CACL88B,WACAD,gBACAE,a,UiEzCN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UjEsBApzB,gCAAgB,CAC7BpK,KAAM,UACNgL,WAAY,CACV8yB,iBACAC,oBACAC,eAEFpgC,KAP6B,WAQ3B,MAAO,CACL+9B,4BACAE,qBACAC,eACAC,eACAO,mBACAC,eACAC,gBACAJ,sBACAC,wBACA4B,yBACA9B,wBACAF,gBACAC,gBACAQ,oBACAD,cACAG,uBACAD,cACAE,sBACAC,uBAGJ5xB,MAAO,CACLzH,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,IAGdjD,MApC6B,SAoCtBY,GACL,IAAMzH,EAAQyH,EAAMzH,QACd+hB,EAAana,uBAAS,kBAAM5H,EAAMksB,WAAWxG,QAAQ3D,gBAE3D,MAAO,CACL/hB,QACA+hB,iB,UkElEN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UnEPT,SAAU7jB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMi8B,EAA0B/7B,8BAAkB,gBAC5Cg8B,EAA4Bh8B,8BAAkB,kBAEpD,OAAQQ,yBAAcS,yBAAa+6B,EAA2B,CAAE,UAAWv8B,EAAKgC,eAAiBG,yBAAa,CAAEM,EAAG,GAAK,CACtHG,wBAAY5C,EAAKw8B,WAAW,SAACC,EAAiBlzB,GAC5C,MAAO,CACLnL,KAAMmL,EACN5G,GAAIjB,sBAAS,iBAAM,EAChBX,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY65B,GAAiB,SAACC,EAAS15B,GAC7F,OAAQjC,yBAAcS,yBAAa86B,EAAyB,CAC1DI,QAASA,EACTv9B,IAAK6D,EACLA,MAAOA,EACPoB,KAAMpE,EAAKoE,KACXu4B,OAAQ38B,EAAK28B,QACZ,KAAM,EAAG,CAAC,UAAW,QAAS,OAAQ,cACvC,gBAIR,KAAM,CAAC,YArBb,IAAM98B,GAAa,CAAEsB,MAAO,wBACtBrB,GAAa,CAAEqB,MAAO,uBAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAM2T,EAA+BzT,8BAAkB,qBACjDoH,EAAuBpH,8BAAkB,aACzCqG,EAAuBrG,8BAAkB,aAE/C,OAAQQ,yBAAcS,yBAAaoF,EAAsB,CACvDzF,MAAO,eACPoD,SAAU,EACVyC,YAAahH,EAAKgH,YAClBC,OAAQjH,EAAKiH,OACbC,UAAWlH,EAAKkH,UAChBuQ,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKsG,MAAM,OAAQtG,EAAK08B,YAC5E,CACDt6B,QAASV,sBAAS,iBAAM,CACtBR,gCAAoB,MAAOrB,GAAY,CACrCoC,yBAAa0F,EAAsB,CACjCxG,MAAO,wBACPgD,IAAK,UACLuB,SAAUzF,EAAO,KAAOA,EAAO,GAAK,YAAI,OAAID,EAAK48B,YAAc5tB,KAC9D,CACD5M,QAASV,sBAAS,iBAAM,CACtBO,yBAAa0F,EAAsB,CACjCxG,MAAO,sBACPgD,IAAK,aACL0C,MAAOC,4BAAgB,CAAE1C,KAAMpE,EAAKoE,OACpCsB,SAAUzF,EAAO,KAAOA,EAAO,GAAK,YAAI,OAAID,EAAK68B,eAAiB7tB,KACjE,CACD5M,QAASV,sBAAS,iBAAM,CACtBO,yBAAa+R,EAA8B,CACzCzK,KAAMvJ,EAAKiU,KAAK1K,KAChBsL,QAAS7U,EAAKiU,KAAKY,QACnBjC,MAAO5S,EAAK4S,MACZ6B,WAAYzU,EAAKiU,KAAKQ,YACrB,KAAM,EAAG,CAAC,OAAQ,UAAW,QAAS,mBAE3ChS,EAAG,GACF,EAAG,CAAC,cAETA,EAAG,GACF,OAELvB,gCAAoB,MAAOpB,GAAYgE,6BAAiB9D,EAAKiU,KAAKY,SAAU,OAE9EpS,EAAG,GACF,EAAG,CAAC,cAAe,SAAU,cC3CnB+F,oCAAgB,CAC7BpK,KAAM,cACNgL,WAAY,CACV0Q,oBACAzH,YACAhJ,aAEFZ,MAAO,CACLq0B,KAAM,SAAC/L,EAAgBvxB,GAAjB,OAA+B,IAEvC8J,MAAO,CAELozB,QAAS,CACPnzB,KAAMiJ,SACN7G,UAAU,GAGZvH,KAAM,CACJmF,KAAMgJ,OACNnQ,QAAS,IAGbsG,MAtB6B,SAsBtBY,EAtBsB,GAsBP,IAANX,EAAM,EAANA,KACRo0B,EAAa54B,mBACb04B,EAAiB14B,iBAAI,IAAImqB,SACzBsO,EAAcz4B,iBAAI,IAAImqB,SACtBlqB,EAAOD,iBAAI,GACjB,EAAwBmF,EAAMozB,UAAtBzoB,EAAR,EAAQA,KAAMrB,EAAd,EAAcA,MAEVoqB,EAAqC,KAMzC,SAASn0B,IACP,IAAMo0B,EAAQJ,EAAeh+B,MACvBq+B,EAAQN,EAAY/9B,MACpBs+B,EAAQ9xB,KAAK6D,IAAI+tB,EAAMp4B,MAAQq4B,EAAMr4B,MAAOo4B,EAAMl4B,OAASm4B,EAAMn4B,QAEvEX,EAAKvF,MAAQwM,KAAK4D,IAAI,EAAIkuB,EAAO,GAOnC,SAASn2B,IAAW,MACZi2B,EAAQJ,EAAeh+B,MAE7Bm+B,EAAc,UAAGD,EAAWl+B,aAAd,aAAG,EAAkBmL,IAAIkU,WAAU,GACjD8e,EAAen2B,MAAME,SAAW,WAChCi2B,EAAen2B,MAAM,QAArB,UAAkCyC,EAAMlF,MACxC44B,EAAen2B,MAAMhC,MAArB,UAAgCo4B,EAAMp4B,MAAtC,MACAm4B,EAAen2B,MAAM9B,OAArB,UAAiCk4B,EAAMl4B,OAAvC,MAMF,SAASkC,EAAT,GAAgC,IAAbxC,EAAa,EAAbA,EAAGG,EAAU,EAAVA,EACpB,GAAKo4B,EAAL,CAEKl6B,SAASgc,KAAKse,SAASJ,IAC1Bl6B,SAASgc,KAAKC,YAAYie,GAG5B,MAA0BA,EAAel0B,wBAAjCjE,EAAR,EAAQA,MAAOE,EAAf,EAAeA,OAEfi4B,EAAen2B,MAAMlC,KAArB,WAAgCF,EAAMI,EAAQ,EAAKyE,EAAMlF,MAASkF,EAAMlF,KAAxE,MACA44B,EAAen2B,MAAMpF,IAArB,WAA+BmD,EAAMG,EAAS,EAAKuE,EAAMlF,MAASkF,EAAMlF,KAAxE,OAQF,SAAS8C,IACP,GAAK81B,GACAl6B,SAASgc,KAAKse,SAASJ,GAA5B,CAEA,MAAiBA,EAAel0B,wBAAxBrE,EAAR,EAAQA,EAAGG,EAAX,EAAWA,EAEXo4B,EAAevd,SACfud,EAAiB,KAEjBr0B,EAAK,OAAQW,EAAMozB,QAAS,CAC1Bj4B,EAAGA,EAAI6E,EAAMlF,KACbQ,EAAGA,EAAI0E,EAAMlF,QAIjB,MAAO,CACL4C,cACAC,SACAC,YACA2B,gBACAoL,OACArB,QACAxO,OACA24B,aACAF,iBACAD,kB,UmEtGN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UpEPT/8B,GAAa,CAAC,WAEd,SAAUE,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMw5B,EAAyBt5B,8BAAkB,eAEjD,OAAQQ,yBAAcC,gCAAoB,MAAO,CAC/CmD,IAAK,UACLhD,MAAOC,4BAAgB,CAAC,iBAAkB,CAAE,uBAAwBpB,EAAKuX,UACzE1Q,MAAOC,4BAAgB,CAAE/B,OAAM,UAAK/E,EAAK+E,OAAV,SAC9B,CACD9C,yBAAa43B,EAAwB,CACnC14B,MAAO,6BACP,kBAAkB,GACjB,CACDiB,QAASV,sBAAS,iBAAM,EACrBX,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAKq9B,YAAY,SAACC,GACpF,OAAQv8B,yBAAcC,gCAAoB,MAAO,CAC/CG,MAAOC,4BAAgB,CAAC,wBAAyB,CACnD,gCAAiCk8B,IAAQt9B,EAAKu9B,YAE5Cp+B,IAAKm+B,EACL7lB,QAAS,SAAC1V,GAAD,OAAkB/B,EAAKw9B,OAAOF,KACtCx5B,6BAAiBw5B,GAAM,GAAIz9B,OAC5B,UAEN4C,EAAG,IAELR,yBAAa43B,EAAwB,CAAE14B,MAAO,yBAA2B,CACvEiB,QAASV,sBAAS,iBAAM,CACrB1B,EAAKu9B,UACDx8B,yBAAcC,gCAAoB,MAAO,CACxC7B,IAAKa,EAAKu9B,SACVp8B,MAAO,2BACN,CACDmH,wBAAYtI,EAAKuI,OAAQvI,EAAKu9B,aAEhC37B,gCAAoB,IAAI,OAE9Ba,EAAG,KAEJ,GCtCU+F,oCAAgB,CAC7BpK,KAAM,UACNgL,WAAY,CACVgzB,eAEF9yB,MAAO,CACLiO,OAAQ,CACNhO,KAAMC,QACNpH,SAAS,IAGbsG,MAX6B,SAWtBY,EAXsB,GAWN,IAAPm0B,EAAO,EAAPA,MACRF,EAAWp5B,iBAAmB,MAC9Bu5B,EAAUv5B,iBAAwB,MAClCk5B,EAAa5zB,uBAAS,kBAAMhN,OAAOsnB,KAAK0Z,MACxC14B,EAAS0E,uBAAS,wBAAMH,EAAMiO,OAAN,UAAemmB,EAAQ7+B,aAAvB,aAAe,EAAe8+B,aAAe,KAE3E,SAASH,EAAQI,GACfL,EAAS1+B,MAAQ++B,EAKnB,OAFAJ,EAAOH,EAAWx+B,MAAM,IAEjB,CACLw+B,aACAE,WACAC,SACAz4B,SACA24B,c,UoEzBN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,I,SAAA,MCDTG,GAA4B,SAACt0B,EAAmB1E,EAAeE,GAAgD,IAAhC0P,EAAgC,uDAAN,GACvGkX,EAAYxY,iBACZP,EAAQ,CACZwa,GAAYzB,EAAWxY,iBAAQrD,GAAUiB,MAAOmI,GAASoQ,OAAQ,gBAE7DrV,EAAO8X,GAAYJ,EAAW1W,GAAS6B,UAAWvN,EAAM1E,EAAOE,EAAQ6N,GAgB7E,OAdAqB,EAAKQ,WAAL,mCACKA,GADL,IAEE4e,WAAY,CACVrwB,MAAO,cACPnE,OAAQ,EACR0K,KAAM,SACNsO,QAAS,CACP,KAAQ,EACR,OAAQ,EACR,OAAU,MAKT,CAAE5D,OAAMrB,UAGFirB,MC7BTC,GAA4B,kBAAMD,GAAahkB,GAAY4P,MAAO,GAAI,GAAI,CAC9ErE,SAAU,CACRpiB,MAAO,WACPnE,MAAO,IACP0K,KAAM,SACN0F,IAAK,QAIM6uB,MCJD,SAAUC,KACtB,IAAMpS,EAAYxY,iBACZP,EAAQ,CACZwa,GAAYzB,EAAWxY,iBAAQrD,GAAUe,KAAMqI,GAASO,MAAO,eAE3DxF,EAAO8X,GAAYJ,EAAW1W,GAASgC,WAAY4C,GAAYmkB,UAAW,GAAI,GAAIprB,GAExF,MAAO,CAAEqB,OAAMrB,SCTH,SAAUqrB,GAAkB10B,EAAmB1E,EAAeE,GAC1E,IAAM4mB,EAAYxY,iBACZP,EAAQ,CACZwa,GAAYzB,EAAWxY,iBAAQ,EAAG,EAAG,gBACrCia,GAAYzB,EAAWxY,iBAAQ,EAAG,EAAG,gBACrCia,GAAYzB,EAAWxY,iBAAQ,EAAG,EAAG,gBAEjCc,EAAO8X,GAAYJ,EAAW1W,GAAS+B,UAAWzN,EAAM1E,EAAOE,EAAQ6N,GAgB7E,OAdAqB,EAAKQ,WAAa,CAChBuB,WAAY,CACVhT,MAAO,cACPnE,MAAO,EACP0K,KAAM,SACN0F,IAAK,GAEPivB,mBAAoB,CAClBl7B,MAAO,uBACPnE,OAAO,EACP0K,KAAM,YAIH,CAAE0K,OAAMrB,SChBjB,iCACGqC,GAAS6B,WADZ,yBAEK+C,GAAYskB,OAASN,GAAaz+B,UAAK,EAAMya,GAAYskB,OAAQ,GAAI,KAF1E,mBAGKtkB,GAAY4P,MAAQqU,IAHzB,wBAKG7oB,GAASgC,WALZ,mBAMK4C,GAAYmkB,UAAYD,KAN7B,mBAQG9oB,GAAS+B,WARZ,yBASK6C,GAAYpD,IAAMwnB,GAAiB7+B,UAAK,EAAMya,GAAYpD,IAAK,IAAK,KATzE,mBAUKoD,GAAYlD,KAAOsnB,GAAiB7+B,UAAK,EAAMya,GAAYlD,KAAM,IAAK,KAV3E,mBAWKkD,GAAYjD,KAAOqnB,GAAiB7+B,UAAK,EAAMya,GAAYjD,KAAM,IAAK,KAX3E,mBAYKiD,GAAYnD,IAAMunB,GAAiB7+B,UAAK,EAAMya,GAAYnD,IAAK,IAAK,KAZzE,mBAaKmD,GAAYtD,GAAK0nB,GAAiB7+B,UAAK,EAAMya,GAAYtD,GAAI,IAAK,KAbvE,SzEJe/N,gCAAgB,CAC7BpK,KAAM,UACNgL,WAAY,CACVgzB,cACAgC,eACAC,kBAEF/0B,MAAO,CACLzH,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,IAGdjD,MAb6B,SAatBY,GACL,IAAMzH,EAAQyH,EAAMzH,QACduC,EAAOqF,uBAAS,kBAAM5H,EAAMuC,QAC5BpC,EAAgByH,uBAAS,kBAAM5H,EAAMG,iBAE3C,SAAS26B,EAAQD,EAAsB31B,GACrClF,EAAMouB,WAAWyM,IAAW31B,GAG9B,MAAO,CACLy1B,aACAp4B,OACApC,gBACA26B,a0E9BN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U3ELT98B,GAAa,CAAEsB,MAAO,mBAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CG,MAAOC,4BAAgB,CAAC,CACtB,mBAAoBpB,EAAKkD,OACzB,kBAAmBlD,EAAKmD,OACvB,aACHyE,YAAa3H,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKsG,MAAM,cACpEyB,aAAc9H,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKsG,MAAM,eACpE,CACDpF,gCAAoB,MAAOrB,GAAYiE,6BAAiB9D,EAAKgD,OAASc,6BAAiB9D,EAAKmD,MAAQ,IAAM,IAAK,GAC/GjC,gCAAoB,MAAO,CACzBC,MAAO,kBACPsW,QAASxX,EAAO,KAAOA,EAAO,GAAK4H,4BAAe,SAAC9F,GAAD,OAAkB/B,EAAKsG,MAAM,WAAW,CAAC,WAC1F,QACF,ICfUkC,oCAAgB,CAC7BpK,KAAM,UACNkL,MAAO,CAELpG,OAAQ,CACNqG,KAAMC,QACNpH,SAAS,GAGXY,MAAO,CACLuG,KAAMqC,OACND,UAAU,GAEZxI,MAAO,CACLoG,KAAMC,QACNpH,SAAS,M,U2EXf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U5EPTvC,GAAa,CAAEsB,MAAO,YACtBrB,GAAa,CAAEqB,MAAO,kBAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,MAAOpB,GAAY,CACrCwI,wBAAYtI,EAAKuI,OAAQ,UAE3BD,wBAAYtI,EAAKuI,OAAQ,aCPdC,oCAAgB,CAC7BpK,KAAM,Y,U4EGR,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U7EPTyB,GAAa,CAAEV,IAAK,GAEpB,SAAUY,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAMi+B,EAAoC/9B,8BAAkB,0BACtDg+B,EAAmCh+B,8BAAkB,yBACrDi+B,EAAiCj+B,8BAAkB,uBAEzD,OAAQP,EAAKkuB,oBACRntB,yBAAcS,yBAAag9B,EAAgC,CAC1Dr/B,IAAK,EACLs/B,WAAYz+B,EAAKiuB,mBACjB,sBAAuBhuB,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAmB/B,EAAKiuB,mBAAsBlsB,IAC/F,kBAAmB,GACnB28B,WAAY1+B,EAAKyzB,mBAChB,CACDrxB,QAASV,sBAAS,iBAAM,CACtBO,yBAAaq8B,EAAmC,CAC9CK,UAAW3+B,EAAK4+B,SAChBC,QAAS7+B,EAAK4zB,mBACb,KAAM,EAAG,CAAC,YAAa,YACxB5zB,EAAK4+B,UAEF79B,yBAAcS,yBAAa+8B,EAAkC,CAC5Dp/B,IAAK,EACLsoB,YAAaznB,EAAKynB,aACjB,KAAM,EAAG,CAAC,kBAJZ1mB,yBAAcC,gCAAoB,MAAOnB,GAAY,8BAM5D4C,EAAG,GACF,EAAG,CAAC,aAAc,gBACrBb,gCAAoB,IAAI,GA7B9B,IAAM/B,GAAa,CAAEsB,MAAO,yBACtBrB,GAAa,CACjBqB,MAAO,8BACPgD,IAAK,QAED6G,GAAa,CAAC,QAAS,WACvBC,GAAa,CAAC,SAAU,UAExB,SAAUlL,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,MAAOpB,GAAY,EACpCiB,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAKynB,aAAa,SAACqX,EAAG3/B,GACxF,OAAQ4B,yBAAcC,gCAAoB,MAAO,CAC/C7B,IAAKA,EACL0H,MAAOC,4BAAgB,CAAEi4B,MAAK,eAAUD,EAAE3a,IAAZ,iDAC9BhjB,MAAO,gCACN2C,6BAAiB3E,GAAM,MACxB,OACH,KACH+B,gCAAoB,MAAO,CACzBC,MAAO,iCACPgD,IAAK,WACL66B,QAAS/+B,EAAO,KAAOA,EAAO,GAEpC,kBAAcD,EAAKg/B,SAAWh/B,EAAKg/B,QAAL,QAAI,cAC3B,EACAj+B,wBAAW,GAAOC,gCAAoBC,cAAW,KAAM2B,wBAAY5C,EAAKynB,aAAa,SAAC5oB,EAAOM,GAC5F,OAAQ4B,yBAAcC,gCAAoB,MAAO,CAC/C6F,MAAOC,4BAAgB,CAAEjC,MAAK,UAAK7E,EAAKi/B,WAAV,QAC9B9/B,IAAKA,EACLgC,MAAO,+BACN,CACDD,gCAAoB,MAAO,CACzB2F,MAAOC,4BAAgB,CAAEjC,MAAK,UAAKhG,EAAMgG,MAAX,QAC9B1D,MAAO,8BACN,EACAJ,yBAAcC,gCAAoB,MAAO,CACxC6D,MAAOhG,EAAMgG,MACboR,QAAO,cAASpX,EAAMgG,MAAf,MACPq6B,oBAAqB,QACpB,CACDh+B,gCAAoB,WAAY,CAC9B0O,OAAQ/Q,EAAM+Q,OACduvB,OAAM,eAAUtgC,EAAMslB,IAAhB,+CACN,eAAgB,IAChBhZ,KAAM,OACN,gBAAiB,sBAChB,KAAM,EAAGF,KACX,EAAGD,MACL,IACF,MACD,OACH,OCnDQxC,oCAAgB,CAC7BpK,KAAM,uBACNkL,MAAO,CAELme,YAAa,CACXle,KAAM9M,OACNkP,UAAU,IAGdlC,SAAU,CACRw1B,WADQ,WAEN,OAAOxiC,OAAOulB,OAAO,KAAKyF,aAAa1Y,QAAO,SAACob,EAAD,OAAMtlB,EAAN,EAAMA,MAAN,OAAkBwG,KAAK6D,IAAIrK,EAAOslB,KAAI,KAGxFhP,QAd6B,WAe3B,IAAMikB,EAAW,KAAKC,MAAMD,SACtBE,EAAO,KAAKD,MAAMC,KAExB,KAAKC,uBAELD,EAAK31B,iBAAiB,SAAU,KAAK61B,kBACrCJ,EAASz1B,iBAAiB,SAAU,KAAK61B,mBAE3CC,cAvB6B,WAwB3B,IAAML,EAAW,KAAKC,MAAMD,SACtBE,EAAO,KAAKD,MAAMC,KAExBA,EAAKx1B,oBAAoB,SAAU,KAAK01B,kBACxCJ,EAASt1B,oBAAoB,SAAU,KAAK01B,mBAE9CjnB,QAAS,CACPymB,QADO,SACEj9B,GACP,IAAMq9B,EAAW,KAAKC,MAAMD,SAE5BA,EAASM,WAAa39B,EAAOqa,OAAS,GAEtCra,EAAO+T,kBAMTypB,qBAZO,WAaL,IAAMH,EAAW,KAAKC,MAAMD,SAE5BA,EAASrD,WAAaqD,EAAStD,aAMjC0D,iBArBO,WAsBL,IAAMF,EAAO,KAAKD,MAAMC,KAClBF,EAAW,KAAKC,MAAMD,SAEvBA,IAELE,EAAKI,UAAYN,EAASM,aAI9BxnB,MAAO,CACLuP,YAAa,CACXtP,QADW,WAET,KAAKonB,wBAEPlnB,MAAM,M,U6E9DZ,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U9EPTxY,GAAa,CAAEsB,MAAO,0BACtBrB,GAA0BoB,gCAAoB,MAAO,CAAEC,MAAO,iCAAmC,gBAAiB,GAClH6J,GAAa,CAAE7J,MAAO,mCACtB8J,GAAa,CAAC,YAEd,SAAUlL,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAM86B,EAAkB56B,8BAAkB,QAE1C,OAAQQ,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DC,GACAoB,gCAAoB,MAAO8J,GAAY,CACrC9J,gCAAoB,SAAU,CAC5BC,MAAO,iCACP81B,MAAO,qBACPmD,UAAWp6B,EAAK2+B,UAChBlnB,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKsG,MAAM,YAC/D,CACDrE,yBAAak5B,EAAiB,CAAErB,KAAM95B,EAAK66B,OAAS,KAAM,EAAG,CAAC,UAC7D,EAAG5vB,IACN/J,gCAAoB,SAAU,CAC5BC,MAAO,iCACP81B,MAAO,QACPxf,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKsG,MAAM,YAC/D,CACDrE,yBAAak5B,EAAiB,CAAErB,KAAM95B,EAAK2/B,SAAW,KAAM,EAAG,CAAC,eCrBzDn3B,oCAAgB,CAC7BpK,KAAM,uBACNgL,WAAY,CACVoyB,SAEFlyB,MAAO,CAELq1B,UAAW,CACTp1B,KAAMC,QACNpH,SAAS,IAGbsG,MAZ6B,WAa3B,MAAO,CACLmyB,cACA8E,oB,U8EbN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U/EPT,SAAU5/B,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAO,CAC/CmD,IAAK,SACLhD,MAAO,sBACP0F,MAAOC,4BAAgB,CAAE/B,OAAM,UAAK/E,EAAK+E,OAAV,SAC9B,CACD7D,gCAAoB,MAAO,CACzBC,MAAO,qCACP4G,aAAc9H,EAAO,KAAOA,EAAO,GAEzC,kBAAcD,EAAKgI,cAAgBhI,EAAKgI,aAAL,QAAI,aACjCC,YAAahI,EAAO,KAAOA,EAAO,GAExC,kBAAcD,EAAKkI,aAAelI,EAAKkI,YAAL,QAAI,aAChCG,cAAepI,EAAO,KAAOA,EAAO,GAE1C,kBAAcD,EAAK+b,WAAa/b,EAAK+b,UAAL,QAAI,aAC9B5T,WAAYlI,EAAO,KAAOA,EAAO,GAEvC,kBAAcD,EAAK+b,WAAa/b,EAAK+b,UAAL,QAAI,cAC7B,CACD7a,gCAAoB,MAAO,CACzBC,MAAO,qCACPyG,YAAa3H,EAAO,KAAOA,EAAO,GAE1C,kBAAcD,EAAK8H,aAAe9H,EAAK8H,YAAL,QAAI,cAC7B,KAAM,KACR,IACHQ,wBAAYtI,EAAKuI,OAAQ,YACxB,GC5BUC,oCAAgB,CAC7BpK,KAAM,qBACNkL,MAAO,CACLs2B,eAAgB,CACdr2B,KAAMgJ,OACNnQ,QAAS,IAEXq8B,WAAY,CACVl1B,KAAMgJ,OACN5G,UAAU,IAGdjD,MAZ6B,SAYtBY,EAZsB,GAYP,IAANX,EAAM,EAANA,KACR5D,EAASZ,iBAAImF,EAAMm1B,YACnBoB,EAAS17B,mBAEX27B,EAAY,EACZC,EAAW,EACX51B,GAAa,EAEjB,SAASrC,EAAa/F,GACpB+9B,EAAY/6B,EAAOlG,MACnBkhC,EAAWh+B,EAAOyI,QAClBL,GAAa,EAGf,SAASnC,EAAcjG,GACrB+F,EAAY/F,EAAOgJ,QAAQ,IAG7B,SAAS+Q,EAAa/Z,GAA0B,MAC9C,GAAKoI,GAAe01B,EAAOhhC,MAA3B,CAEA,IAAMmQ,EAAI,UAAG6wB,EAAOhhC,MAAMmhC,qBAAhB,aAAG,EAA4Bl3B,wBAEzC/D,EAAOlG,OAASwM,KAAK4D,IAAI8wB,EAAWh+B,EAAOyI,SAAa,OAAJ,QAAI,IAAJ,WAAMzF,SAAUyJ,KACpEuxB,EAAWh+B,EAAOyI,QAEdzF,EAAOlG,OAASyK,EAAMs2B,eACxBj3B,EAAK,WAAYm3B,GAEjBn3B,EAAK,oBAAqB5D,EAAOlG,QAIrC,SAASqJ,EAAanG,GACpB+Z,EAAY/Z,EAAOgJ,QAAQ,IAG7B,SAASgR,IACP5R,GAAa,EAaf,OAVAlB,wBAAU,WACRvJ,OAAOiK,iBAAiB,YAAamS,GACrCpc,OAAOiK,iBAAiB,UAAWoS,MAGrCkkB,0BAAY,WACVvgC,OAAOoK,oBAAoB,YAAagS,GACxCpc,OAAOoK,oBAAoB,UAAWiS,MAGjC,CACLjU,cACAiU,YACA/T,eACAE,cACAnD,SACA86B,a,U+EjEN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U/EDAr3B,gCAAgB,CAC7BpK,KAAM,eACNgL,WAAY,CACV82B,wBACAC,wBACAC,uBAEF92B,MAAO,CACLzH,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,IAGdjD,MAb6B,SAatBY,GACL,IAAMzH,EAAQyH,EAAMzH,QACpB,EAKIw+B,eAAYx+B,GAJd4lB,EADF,EACEA,YACAthB,EAFF,EAEEA,YACA+nB,EAHF,EAGEA,mBACAD,EAJF,EAIEA,mBAEI2Q,EAAWn1B,uBAAS,kBAAMhN,OAAOsnB,KAAK0D,GAAajrB,OAAS,KAElE,MAAO,CACL2J,cACA+nB,qBACA0Q,WACAnX,cACAwG,qBACA2F,kBAAmB/xB,EAAM+xB,kBACzBH,kBAAmB5xB,EAAM4xB,sBgFjC/B,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UjFLT5zB,GAAa,CAAEV,IAAK,GACpBW,GAAa,CAAEX,IAAK,GACpB6L,GAAa,CAAE7L,IAAK,GAEpB,SAAUY,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,IAAM86B,EAAkB56B,8BAAkB,QACpC+/B,EAA+B//B,8BAAkB,qBACjDggC,EAA6BhgC,8BAAkB,mBAC/CigC,EAA+BjgC,8BAAkB,qBAEvD,OAAQQ,yBAAcS,yBAAag/B,EAA8B,KAAM,CACrE77B,KAAMjD,sBAAS,iBAAM,CAClB1B,EAAKouB,YACDrtB,yBAAcC,gCAAoB,OAAQnB,GAAY,gBACtDG,EAAKquB,iBACHttB,yBAAcC,gCAAoB,OAAQlB,GAAY,wBACtDiB,yBAAcC,gCAAoB,OAAQgK,GAAY,cAE/DlG,MAAOpD,sBAAS,iBAAM,CACpBO,yBAAaq+B,EAA8B,CACzCrJ,MAAO,WACPmD,SAAUp6B,EAAK6B,MAAMwC,WAAa,GAClCoT,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMutB,eAAe,MAC9E,CACDhtB,QAASV,sBAAS,iBAAM,CACtBO,yBAAak5B,EAAiB,CAAErB,KAAM95B,EAAKygC,SAAW,KAAM,EAAG,CAAC,aAElEh+B,EAAG,GACF,EAAG,CAAC,aACPR,yBAAas+B,EAA4B,CACvCh3B,KAAM,QACNpI,MAAO,oBACP8N,IAAK,EACL4Y,KAAM,GACN3Y,IAAK,IACL9K,KAAMpE,EAAK6B,MAAMwC,UACjBiB,OAAQrF,EAAO,KAAOA,EAAO,GAAK,YAAI,OAAID,EAAK6B,MAAM0D,QAAQ,CAAEnB,YAC9D,KAAM,EAAG,CAAC,SACbnC,yBAAaq+B,EAA8B,CACzCrJ,MAAO,UACPmD,SAAUp6B,EAAK6B,MAAMwC,WAAa,EAClCoT,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAMutB,cAAc,MAC7E,CACDhtB,QAASV,sBAAS,iBAAM,CACtBO,yBAAak5B,EAAiB,CAAErB,KAAM95B,EAAK0gC,QAAU,KAAM,EAAG,CAAC,aAEjEj+B,EAAG,GACF,EAAG,CAAC,aACPR,yBAAaq+B,EAA8B,CACzCz7B,MAAO,MACP4S,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAK6B,MAAM0D,QAAQ,CAAEnB,KAAM,OAC/E,CACDhC,QAASV,sBAAS,iBAAM,CACtByV,6BAAiBrT,6BAAiB9D,EAAK2gC,aAAe,KAAM,OAE9Dl+B,EAAG,IAELR,yBAAaq+B,EAA8B,CACzCrJ,MAAO,oBACPxf,QAASxX,EAAO,KAAOA,EAAO,GAAK,SAAC8B,GAAD,OAAkB/B,EAAKsG,MAAM,iBAC/D,CACDlE,QAASV,sBAAS,iBAAM,CACtBO,yBAAak5B,EAAiB,CAC5BrB,KAAM95B,EAAK2D,aAAe3D,EAAK4gC,WAAa5gC,EAAK6gC,UAChD,KAAM,EAAG,CAAC,aAEfp+B,EAAG,QAGPA,EAAG,IArEP,IAAM5C,GAAa,CAAC,WAAY,SAE1B,SAAUE,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,SAAU,CAClDG,MAAO,oBACPi5B,SAAUp6B,EAAKo6B,SACfnD,MAAOj3B,EAAKi3B,MACZpwB,MAAOC,4BAAgB,CAAEjC,MAAO7E,EAAK6E,SACpC,CACDyD,wBAAYtI,EAAKuI,OAAQ,YACxB,GAAI1I,ICTM2I,oCAAgB,CAC7BpK,KAAM,kBACNkL,MAAO,CAEL8wB,SAAU,CACR7wB,KAAMC,QACNpH,SAAS,GAGX60B,MAAO,CACL1tB,KAAMqC,OACNxJ,QAAS,IAGXyC,MAAO,CACL0E,KAAMqC,OACNxJ,QAAS,U,UiFZf,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UlFPTvC,GAAa,CAAEsB,MAAO,qBACtBrB,GAAa,CAAEqB,MAAO,2BACtB6J,GAAa,CAAE7J,MAAO,4BAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,MAAOpB,GAAY,CACrCwI,wBAAYtI,EAAKuI,OAAQ,UAE3BrH,gCAAoB,MAAO8J,GAAY,CACrC1C,wBAAYtI,EAAKuI,OAAQ,aCThBC,oCAAgB,CAC7BpK,KAAM,oB,UkFGR,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UnFPTyB,GAAa,CAAC,OAAQ,MAAO,MAAO,SAEpC,SAAUE,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,QAAS,CACjDuI,KAAM,QACNpI,MAAO,kBACP0mB,KAAM7nB,EAAK6nB,KACX5Y,IAAKjP,EAAKiP,IACVC,IAAKlP,EAAKkP,IACVrQ,MAAOmB,EAAKnB,MACZ+W,QAAS3V,EAAO,KAAOA,EAAO,GAElC,kBAAcD,EAAK4V,SAAW5V,EAAK4V,QAAL,QAAI,cAC7B,KAAM,GAAI/V,ICXA2I,oCAAgB,CAC7BpK,KAAM,gBACNgL,WAAY,CACVoyB,SAEFlyB,MAAO,CAELlF,KAAM,CACJmF,KAAMgJ,OACN5G,UAAU,GAGZsD,IAAK,CACH1F,KAAMgJ,OACNnQ,QAAS,GAGX8M,IAAK,CACH3F,KAAMgJ,OACNnQ,QAAS,KAGXylB,KAAM,CACJte,KAAMgJ,OACNnQ,QAAS,KAGbsG,MA3B6B,SA2BtBY,EA3BsB,GA2BP,IAANX,EAAM,EAANA,KACR9J,EAAQ4K,uBAAS,kBAAM4B,KAAKY,MAAmB,IAAb3C,EAAMlF,SAO9C,SAASwR,EAAS7T,GAChB,IAAMyF,EAASzF,EAAOyF,OAChBpD,EAAO08B,WAAWt5B,EAAO3I,OAE/B8J,EAAK,OAAQvE,EAAO,KAGtB,MAAO,CACLwR,UACA/W,Y,UmFzCN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UnFCA2J,gCAAgB,CAC7BpK,KAAM,YACNgL,WAAY,CACVoyB,QACAuF,mBACAC,mBACAC,kBAEF33B,MAAO,CACLzH,MAAO,CACL0H,KAAMiJ,SACN7G,UAAU,GAEZhI,aAAc,CACZ4F,KAAMC,QACNpH,SAAS,IAGbsG,MAlB6B,SAkBtBY,GACL,IAAMzH,EAAQyH,EAAMzH,QACdusB,EAAa3kB,uBAAS,kBAAM5H,EAAMusB,cAClCC,EAAkB5kB,uBAAS,kBAAM5H,EAAMwsB,mBACvCsS,EAAcl3B,uBAAS,kBAAM4B,KAAKY,MAAwB,IAAlBpK,EAAMwC,cAEpD,MAAO,CACLxC,QACAusB,aACAC,kBACAsS,cACAF,gBACAC,eACAG,iBACAD,uBoFrCN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UCJD,SAAUM,KAAI,MACpBrI,EAAYzC,KACZ+K,EAA6C,OAA/BtI,EAAUv3B,iBACxB8/B,EAAe3kC,OAAOsnB,KAAK8U,EAAUh2B,WACrChB,EAAK,UAAGg3B,EAAUt3B,sBAAb,aAAG,EAA0BM,QAClCoY,EAAsC,CAC1C,CACEjX,MAAO,eACPga,YAAa,qBACbC,MAAO4b,EAAU3B,aAEnB,CAAE3tB,KAAM,aACR,CACEvG,MAAO,gBACPga,YAAa,qBACbC,MAAO4b,EAAUhB,gBAEnB,CACE70B,MAAO,2BACPga,YAAa,2BACbC,MAAO4b,EAAUhB,gBAEnB,CAAEtuB,KAAM,aACR,CACEvG,MAAO,OACP8Z,QAASqkB,EACTnkB,YAAa,qBACbC,MAAO,kBAAM4b,EAAUpB,uBAEzB,CACEz0B,MAAO,aACP8Z,QAASqkB,EACTnkB,YAAa,2BACbC,MAAO,kBAAM4b,EAAUpB,oBAAmB,KAE5C,CACEz0B,MAAO,WACP8Z,QAASqkB,EACTnkB,YAAa,2BACbC,MAAO,kBAAMpR,QAAQC,IAAI,yBAE3B,CAAEvC,KAAM,aACR,CACEvG,MAAO,QACP8Z,QAASqkB,EACTnkB,YAAa,qBACbC,MAAO,yBAAMpb,QAAN,IAAMA,OAAN,EAAMA,EAAOie,UAEtB,CAAEvW,KAAM,aACR,CACEvG,MAAO,YACP8Z,QAASqkB,EACT9jB,QAAS,CACP,CACEra,MAAO,qBACPga,YAAa,2BACbC,MAAO,kBAAMpR,QAAQC,IAAI,eAE3B,CACE9I,MAAO,YACPga,YAAa,2BACbC,MAAO,yBAAMpb,QAAN,IAAMA,OAAN,EAAMA,EAAOyd,kBAI1B,CAAE/V,KAAM,aACR,CACEvG,MAAO,cACPqa,QAAS,CACP,CACEra,MAAO,qBACPga,YAAa,qBACbC,MAAO,kBAAMpR,QAAQC,IAAI,kBAE3B,CACE9I,MAAO,uBACPga,YAAa,2BACbC,MAAO,kBAAMpR,QAAQC,IAAI,kBAMjC,GAAIrP,OAAOsnB,KAAK8U,EAAUh2B,WAAWrG,OAAS,EAAG,CAe/C,IAdA,IAAM6gB,EAAwC,CAC5C,CACEra,MAAO,gBACPga,YAAa,sBACbC,MAAO,kBAAM4b,EAAUv2B,gBAAgB,KAEzC,CACEU,MAAO,YACPga,YAAa,gBACbC,MAAO,kBAAM4b,EAAUv2B,eAAe,KAExC,CAAEiH,KAAM,cAZqC,WAetCjN,GACP+gB,EAAQvgB,KAAK,CACXyM,KAAM,WACNvG,MAAO61B,EAAUh2B,UAAUu+B,EAAa9kC,IAAI2G,YAC5C0a,QAASkb,EAAUv3B,mBAAqB8/B,EAAa9kC,GACrD2gB,MAAO,kBAAM4b,EAAUv1B,iBAAiB89B,EAAa9kC,QALhDA,EAAI,EAAGA,EAAI8kC,EAAa5kC,OAAQF,IAAK,EAArCA,GAST2d,EAAMnd,KAAK,CAAEyM,KAAM,cACnB0Q,EAAMnd,KAAK,CACTkG,MAAO,eACPqa,YAmBJ,OAfApD,EAAMnd,KAAK,CAAEyM,KAAM,cACnB0Q,EAAMnd,KAAK,CACTkG,MAAO,iBACPga,YAAa,cACbF,QAASqkB,EACTlkB,MAAO,kBAAM4b,EAAUp1B,cAAco1B,EAAUv3B,qBAGjD2Y,EAAMnd,KAAK,CAAEyM,KAAM,cACnB0Q,EAAMnd,KAAK,CACTkG,MAAO,OACPga,YAAa,cACbC,MAAO,kBAAMvd,OAAO2hC,WAGfpnB,EChIK,SAAUyC,GAAMC,GAK5B,IAJA,IAAM9a,EAAQ8a,IACR2kB,EAA4C,GAC9CC,GAAe,EAHwC,WAKlDjlC,GACP,IAAM8H,EAAY,GAAJ9H,EAAU,IAClBqhB,EAAU9b,EAAMwC,YAAcD,EAEpCm9B,EAAeA,GAAgB5jB,EAE/B2jB,EAAYxkC,KAAK,CACfyM,KAAM,WACNoU,UACA3a,MAAO,GAAF,OAAY,IAAPoB,EAAL,KACL4Y,YAAsB,IAAT5Y,EAAa,0BAAuB1B,EACjDua,MAAO,kBAAMpb,EAAM0D,QAAQ,CAAEnB,aAXxB9H,EAAI,EAAGA,GAAK,EAAGA,IAAK,EAApBA,GAeJilC,GACHD,EAAYpc,QAAQ,CAClB3b,KAAM,WACNoU,SAAS,EACT3a,MAAO,WAIX,IAAM6Z,EAAqC,CACzC,CACE7Z,MAAO,WACPga,YAAa,qBACbF,QAASjb,EAAMwC,UAAY,EAC3B4Y,MAAO,kBAAMpb,EAAMutB,cAAc,KAEnC,CACEpsB,MAAO,YACPga,YAAa,qBACbF,QAASjb,EAAMwC,UAAY,GAC3B4Y,MAAO,kBAAMpb,EAAMutB,eAAe,KAEpC,CACEpsB,MAAO,WACPqa,QAASikB,GAEX,CAAE/3B,KAAM,aACR,CACEvG,MAAO,iBACPga,YAAa,qBACbC,MAAOpb,EAAM4tB,aAEf,CAAElmB,KAAM,cAGV,OAAOsT,EAAKa,OAAOE,GAAKjB,ICpDZ,SAAU6kB,KACtB,IAAM3/B,EAAQu0B,KACRqL,EAAsC,CAC1C,CACEz+B,MAAO,OACPqa,QAAS6jB,OAyBb,OArBIr/B,EAAMN,iBACRkgC,EAAM3kC,KAAK,CACTkG,MAAO,OACPqa,QAASX,GAAK7a,EAAMN,eAAeM,SAGrC4/B,EAAM3kC,KAAK,CACTkG,MAAO,OACPqa,QAASqkB,GAAK7/B,EAAMN,eAAeM,OAAO6b,OAAO,CAC/C,CAAEnU,KAAM,aACR,CACEA,KAAM,WACN0T,MAAOpb,EAAMgC,iBACb8Z,QAAS9b,EAAM8B,aACfqZ,YAAa,MACbha,MAAO,mBAMRy+B,ExFlCT,IAAM5hC,GAAa,CAAEsB,MAAO,aACtBrB,GAAa,CAAEqB,MAAO,kBACtB6J,GAAa,CAAE7J,MAAO,qBACtB8J,GAAa,CAAE9J,MAAO,qBAEtB,SAAUpB,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQU,yBAAcC,gCAAoB,MAAOnB,GAAY,CAC3DqB,gCAAoB,MAAOpB,GAAY,CACrCwI,wBAAYtI,EAAKuI,OAAQ,SAE3BrH,gCAAoB,MAAO8J,GAAY,CACrC1C,wBAAYtI,EAAKuI,OAAQ,YAE3BrH,gCAAoB,MAAO+J,GAAY,CACrC3C,wBAAYtI,EAAKuI,OAAQ,cCbhBC,oCAAgB,CAC7BpK,KAAM,uB,UwFGR,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UCPA,MzFgBAoK,gCAAgB,CAC7BpK,KAAM,MACNgL,WAAY,CACVu4B,YACAC,WACAC,WACAC,WACAC,WACAC,gBACAC,aACAC,aAEFx5B,MAZ6B,WAa3B,IAAM7G,EAAQu0B,KACd,EAMIiK,eAAYx+B,GALdN,EADF,EACEA,eACAD,EAFF,EAEEA,iBACAuB,EAHF,EAGEA,UACAyzB,EAJF,EAIEA,iBACA3yB,EALF,EAKEA,aAGEtC,EAAa8C,kBAAI,GAgCrB,SAASg+B,EAAYpgC,GACnBA,EAAOgU,kBACPhU,EAAO+T,iBAEH/T,EAAOqgC,eACTrgC,EAAOqgC,aAAaC,WAAa,QAGnChhC,EAAWxC,OAAQ,EAlDlB,SAqDY89B,EArDZ,gGAqDH,WAAuB56B,GAAvB,8FACEA,EAAOgU,kBACPhU,EAAO+T,iBAEDgiB,EAJR,UAIgB/1B,EAAOqgC,oBAJvB,aAIgB,EAAqBtK,OAE/BA,EANN,iBAOax7B,EAAI,EAPjB,YAOoBA,EAAIw7B,EAAMt7B,QAP9B,iCAQYqF,EAAMm2B,qBAAqBF,EAAMx7B,GAAGmP,MARhD,OAOsCnP,IAPtC,uBAYE+E,EAAWxC,OAAQ,EAZrB,4CArDG,wBAoEH,SAASyjC,IACPjhC,EAAWxC,OAAQ,EAGrB,SAAS2Y,EAAWzV,GACdA,EAAO4I,SAAwC,MAA7B5I,EAAO5C,IAAIojC,eAI/B7iC,OAAO8iC,SAASC,SAIpB,OArEKnM,EAAiBz3B,OACpBgD,EAAMy2B,oBAIRvuB,0BAAY,kBAAMrK,OAAOizB,IAAI+P,mBAAmBlB,SAEhDz3B,0BAAY,WACVjH,SAASm0B,MAAQp1B,EAAMN,eAAN,UACVM,EAAMN,eAAe0B,YADX,gBAEb,eAGNvD,OAAOizB,IAAIgQ,cAAc9gC,EAAMs1B,UAC/Bz3B,OAAOizB,IAAIiQ,WAAW/gC,EAAMm2B,sBAE5B/uB,wBAAU,WACRnG,SAAS6G,iBAAiB,UAAW6N,GACrC1U,SAAS6G,iBAAiB,WAAYw4B,GACtCr/B,SAAS6G,iBAAiB,YAAa24B,GACvCx/B,SAAS6G,iBAAiB,OAAQgzB,MAGpC9yB,8BAAgB,WACd/G,SAASgH,oBAAoB,UAAW0N,GACxC1U,SAASgH,oBAAoB,WAAYq4B,GACzCr/B,SAASgH,oBAAoB,YAAaw4B,GAC1Cx/B,SAASgH,oBAAoB,OAAQ6yB,MA0ChC,CACLp7B,iBACAD,mBACAuB,YACAyzB,mBACAj1B,aACAsC,eACAE,iBAAkBhC,EAAMgC,iBACxBP,iBAAkBzB,EAAMyB,iBACxBG,cAAe5B,EAAM4B,cACrBnB,eAAgBT,EAAMS,eACtBE,sBAAuBX,EAAMW,wBAGjCxG,KA3G6B,WA4G3B,MAAO,CACL6mC,YAAY,EACZC,aAAc,EACdC,aAAc,GACd9U,mBAAoB,GACpBtsB,gB,U0F5HN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS5B,KAErD,U,UCJVL,OAAOizB,MAGVjzB,OAAOizB,IAAM,CACX6G,gBADW,aAEXkJ,mBAFW,aAGX3K,mBAHW,WAGa,MAAO,IAC/BpB,mBAJW,WAIa,MAAO,IAC/BI,eALW,WAKS,OAAO,GAC3BnE,KANW,aAOXoQ,KAPW,aAQXtN,KARW,aASXG,MATW,WASA,MAAO,IAClB8M,cAVW,aAWXC,WAXW,aAYXK,SAZW,WAYG,MAAO,IACrBC,SAbW,aAcXzK,cAdW,eAkBf0K,uBAAUC,IACPC,IAAIC,kBACJC,MAAM,S,kCC5BT,W,oKCEqB1M,E,wJACnB,WAAmBX,GAAnB,sGACQsN,EAAM,IAAIC,IAEVC,EAAoBhkC,OAAOizB,IAAIsQ,SAAS/M,GAHhD,SAI0BsN,EAAIG,UAAUD,GAJxC,uBAIU5L,EAJV,EAIUA,MAJV,SAKqBA,EAAMI,QAAQ0L,MAAM,QALzC,cAKQ5nC,EALR,yBAOSA,GAPT,4C,0IAUA,WAAwBk6B,EAAkB2N,GAA1C,yGACuBA,EAAKC,cAD5B,OACQC,EADR,OAEQC,EAAMlgB,EAAO+H,KAAKkY,GAExBrkC,OAAOizB,IAAIuQ,SAAShN,EAAU8N,GAJhC,2C,uIAOA,WAAmB9N,EAAkBgC,GAArC,gGACQsL,EAAM,IAAIC,IAEhBD,EAAItC,KAAK,UAAWvY,KAAKG,UAAUoP,IAHrC,SAKkCsL,EAAIS,cAAc,CAAE16B,KAAM,SAL5D,OAKQm6B,EALR,OAOEhjB,KAAKoW,UAAUZ,EAAUwN,GAP3B,gD,oICpBF,W,kCCAA,W,gFCAA,W","file":"js/index.e7919f49.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/web/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeViewer.vue?vue&type=style&index=0&id=e3956fc6&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarViewer.vue?vue&type=style&index=0&id=dc432b1a&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=ff8e1ac0&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=5bfaeb92&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Wire.vue?vue&type=style&index=0&id=22513f6e&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Group.vue?vue&type=style&index=0&id=2e6e8258&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Properties.vue?vue&type=style&index=0&id=0ac03fe7&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OutputNode.vue?vue&type=style&index=0&id=38254202&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MainView.vue?vue&type=style&index=0&id=4f0058fe&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Editor.vue?vue&type=style&index=0&id=61b17de9&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CircuitComponent.vue?vue&type=style&index=0&id=04a5156f&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolbarButton.vue?vue&type=style&index=0&id=53565970&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./InputNode.vue?vue&type=style&index=0&id=519fc1c3&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toolbar.vue?vue&type=style&index=0&id=44d404bf&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Freeport.vue?vue&type=style&index=0&id=5e8c7cdc&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolboxLayout.vue?vue&type=style&index=0&id=1d9cc0f9&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ScrollFade.vue?vue&type=style&index=0&id=56b2f318&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./IntegratedCircuit.vue?vue&type=style&index=0&id=072f46ee&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PortHandle.vue?vue&type=style&index=0&id=2ce249eb&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./LogicGate.vue?vue&type=style&index=0&id=4853bdc0&lang=scss\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Draggable.vue?vue&type=style&index=0&id=2ce90c10&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PortPivot.vue?vue&type=style&index=0&id=9aa66860&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TabItem.vue?vue&type=style&index=0&id=0cb1a552&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"","import { renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"main-view\" }\nconst _hoisted_2 = { class: \"main-view__top\" }\nconst _hoisted_3 = { class: \"main-view__middle\" }\nconst _hoisted_4 = { class: \"main-view__bottom\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _renderSlot(_ctx.$slots, \"top\")\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _renderSlot(_ctx.$slots, \"middle\")\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _renderSlot(_ctx.$slots, \"bottom\")\n    ])\n  ]))\n}","\n// TODO: the document/toolbox/toolbar stuff should be moved into a separate view called \"Workspace.vue\"\n/// <reference path=\"./types/index.d.ts\" />\nimport { storeToRefs } from 'pinia'\nimport { defineComponent, onBeforeUnmount, onMounted, watchEffect, ref } from 'vue'\nimport Document from './containers/Document.vue'\nimport Toolbar from './containers/Toolbar.vue'\nimport Toolbox from './containers/Toolbox.vue'\nimport { useRootStore } from './store/root'\nimport TabItem from './components/tab/TabItem.vue'\nimport TabHost from './components/tab/TabHost.vue'\nimport Oscilloscope from './containers/Oscilloscope.vue'\nimport StatusBar from './containers/StatusBar.vue'\n// import RemoteService from './services/RemoteService'\nimport createApplicationMenu from './menus'\nimport MainView from './components/layout/MainView.vue'\nimport isMobile from '@/utils/isMobile'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    Document,\n    Toolbar,\n    TabItem,\n    TabHost,\n    Toolbox,\n    Oscilloscope,\n    StatusBar,\n    MainView\n},\n  setup () {\n    const store = useRootStore()\n    const {\n      activeDocument,\n      activeDocumentId,\n      documents,\n      hasOpenDocuments,\n      isFullscreen\n    } = storeToRefs(store)\n\n    let isDropping = ref(false)\n\n    if (!hasOpenDocuments.value) {\n      store.openTestDocuments()\n    }\n\n    // update the app menu when any of the store variables it depends on to show/hide menu items change\n    watchEffect(() => window.api.setApplicationMenu(createApplicationMenu()))\n\n    watchEffect(() => {\n      document.title = store.activeDocument\n        ? `${store.activeDocument.displayName} - Aristotle`\n        : 'Aristotle'\n    })\n\n    window.api.onBeforeClose(store.closeAll)\n    window.api.onOpenFile(store.openDocumentFromPath)\n\n    onMounted(() => {\n      document.addEventListener('keydown', onKeyDown)\n      document.addEventListener('dragover', onDragOver)\n      document.addEventListener('dragleave', onDragLeave)\n      document.addEventListener('drop', onDrop)\n    })\n\n    onBeforeUnmount(() => {\n      document.removeEventListener('keydown', onKeyDown)\n      document.removeEventListener('dragover', onDragOver)\n      document.removeEventListener('dragleave', onDragLeave)\n      document.removeEventListener('drop', onDrop)\n    })\n\n    function onDragOver ($event: DragEvent) {\n      $event.stopPropagation()\n      $event.preventDefault()\n\n      if ($event.dataTransfer) {\n        $event.dataTransfer.dropEffect = 'copy'\n      }\n\n      isDropping.value = true\n    }\n\n    async function onDrop ($event: DragEvent) {\n      $event.stopPropagation()\n      $event.preventDefault()\n\n      const files = $event.dataTransfer?.files\n\n      if (files) {\n        for (let i = 0; i < files.length; i++) {\n          await store.openDocumentFromPath(files[i].path)\n        }\n      }\n\n      isDropping.value = false\n    }\n\n    function onDragLeave () {\n      isDropping.value = false\n    }\n\n    function onKeyDown ($event: KeyboardEvent) {\n      if ($event.ctrlKey && $event.key.toUpperCase() === 'R') {\n        // refresh command\n        // TODO: in development only, this will refresh the page; otherwise, reset active circuit\n        // RemoteService.canCloseWindow = true\n        window.location.reload()\n      }\n    }\n\n    return {\n      activeDocument,\n      activeDocumentId,\n      documents,\n      hasOpenDocuments,\n      isDropping,\n      isFullscreen,\n      toggleFullscreen: store.toggleFullscreen,\n      activateDocument: store.activateDocument,\n      closeDocument: store.closeDocument,\n      switchDocument: store.switchDocument,\n      openIntegratedCircuit: store.openIntegratedCircuit\n    }\n  },\n  data () {\n    return {\n      horizontal: false,\n      lastPosition: 0,\n      toolboxWidth: 20,\n      oscilloscopeHeight: 80,\n      isMobile\n    }\n  }\n})\n","import { render } from \"./Resizable.vue?vue&type=template&id=83fa57da&ts=true\"\nimport script from \"./Resizable.vue?vue&type=script&lang=ts\"\nexport * from \"./Resizable.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Draggable.vue?vue&type=template&id=2ce90c10&ts=true\"\nimport script from \"./Draggable.vue?vue&type=script&lang=ts\"\nexport * from \"./Draggable.vue?vue&type=script&lang=ts\"\n\nimport \"./Draggable.vue?vue&type=style&index=0&id=2ce90c10&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Wire.vue?vue&type=template&id=22513f6e&ts=true\"\nimport script from \"./Wire.vue?vue&type=script&lang=ts\"\nexport * from \"./Wire.vue?vue&type=script&lang=ts\"\n\nimport \"./Wire.vue?vue&type=style&index=0&id=22513f6e&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum SnapMode {\n  Outer,\n  Inner,\n  Radial,\n  Grid,\n  None\n}\n\nexport default SnapMode\n","import SnapMode from \"@/types/enums/SnapMode\"\n\n/**\n * Rounds x to the nearest n.\n */\nfunction roundToNth (x: number, n: number) {\n  return Math.round(x / n) * n\n}\n\n/**\n * Returns true if a is within the radial distance of b.\n */\nfunction isInNeighborhood (a: Point, b: Point, radius: number): boolean {\n  const distX = Math.pow(a.x - b.x, 2)\n  const distY = Math.pow(a.y - b.y, 2)\n\n  return Math.sqrt(distX + distY) <= radius\n}\n\n/**\n * Returns the delta of rounding the top-left point of the given bounding box to the nearest distance.\n * This will achieve the effect of \"snapping to grid.\"\n *\n * @param a - the bounding box of the element moving\n * @param distance - the grid size\n */\nfunction getGridSnapPosition (a: BoundingBox, distance: number): Point {\n  return {\n    x: roundToNth(a.left, distance) - a.left,\n    y: roundToNth(a.top, distance) - a.top\n  }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the radial `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getRadialSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n\n    if (isInNeighborhood({ x: b.left, y: b.top }, { x: a.left, y: a.top }, distance)) {\n      return {\n        x: b.left - a.left,\n        y: b.top - a.top\n      }\n    }\n  }\n\n  return { x: 0, y: 0 }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the linear `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getOuterSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  const offset: Point = { x: 0, y: 0 }\n\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n    const ts = Math.abs(b.top - a.bottom) <= distance\n    const bs = Math.abs(b.bottom - a.top) <= distance\n    const ls = Math.abs(b.left - a.right) <= distance\n    const rs = Math.abs(b.right - a.left) <= distance\n\n    if (\n      (a.left <= b.right && a.left >= b.left) ||\n      (a.right >= b.left && a.right <= b.right) ||\n      (a.left <= b.left && a.right >= b.right)\n    ) {\n      // a is within the y-axis boundaries\n      if (ts) offset.y = b.top - a.bottom\n      if (bs) offset.y = b.bottom - a.top\n    }\n\n    if (\n      (a.top <= b.bottom && a.top >= b.top) ||\n      (a.bottom >= b.top && a.bottom <= b.bottom) ||\n      (a.top <= b.top && a.bottom >= b.bottom)\n    ) {\n      // a is within the x-axis boundaries\n      if (ls) offset.x = b.left - a.right\n      if (rs) offset.x = b.right - a.left\n    }\n  }\n\n  return offset\n}\n\nfunction getSnapOffset (boundingBoxes: BoundingBox[], boundingBox: BoundingBox, snapMode: SnapMode, distance: number) {\n  switch (snapMode) {\n    case SnapMode.Radial:\n      return getRadialSnapOffset(boundingBoxes, boundingBox, distance)\n    case SnapMode.Grid:\n      return getGridSnapPosition(boundingBox, distance)\n    case SnapMode.Outer:\n    default:\n      return getOuterSnapOffset(boundingBoxes, boundingBox, distance)\n  }\n}\n\n/**\n * Returns true if line a intersects with line B.\n *\n * @param a1 - first point of a\n * @param a2 - second point of a\n * @param b1 - first point of b\n * @param b2 - second point of b\n */\nfunction hasLinearIntersection (a1: Point, a2: Point, b1: Point, b2: Point): boolean {\n  const ccw = (a: Point, b: Point, c: Point) => {\n    return (c.y-a.y) * (b.x-a.x) > (b.y-a.y) * (c.x-a.x)\n  }\n\n  return ccw(a1, b1, b2) !== ccw(a2, b1, b2) && ccw(a1, a2, b1) !== ccw(a1, a2, b2)\n}\n\n/**\n * Returns true if the overlaps with the given bounding box.\n *\n * @param a1 - first point of the line\n * @param a2 - second point of the line\n * @param boundingBox - the rectange\n */\nfunction isLineIntersectingRectangle (a1: Point, a2: Point, boundingBox: BoundingBox): boolean {\n  const b1 = { x: boundingBox.left, y: boundingBox.top }\n  const b2 = { x: boundingBox.right, y: boundingBox.top }\n  const b3 = { x: boundingBox.right, y: boundingBox.bottom }\n  const b4 = { x: boundingBox.left, y: boundingBox.bottom }\n\n  return hasLinearIntersection(a1, a2, b1, b2)\n    || hasLinearIntersection(a1, a2, b2, b3)\n    || hasLinearIntersection(a1, a2, b3, b4)\n    || hasLinearIntersection(a1, a2, b4, b1)\n}\n\n/**\n * Returns true if a and b intersect.\n *\n * @param a\n * @param b\n * @returns boolean result of intersection\n */\nfunction hasIntersection (a: BoundingBox, b: BoundingBox): boolean {\n  if (a.left >= b.right || b.left >= a.right) {\n    // one rect is on left side of other\n    return false\n  }\n\n  if (a.top >= b.bottom || b.top >= a.bottom) {\n    // one rect is above other\n    return false\n  }\n\n  return true\n}\n\n/**\n * Scales the bounding box by the given scalar.\n *\n * @param box\n * @param scale\n */\nfunction scaleBoundingBox (box: BoundingBox, scale: number): BoundingBox {\n  return {\n    left: box.left * scale,\n    top: box.top * scale,\n    bottom: box.bottom * scale,\n    right: box.right * scale\n  }\n}\n\n/**\n * Returns true if the given bounding box is one- or two-dimensional.\n */\nfunction isOneOrTwoDimensional (box: BoundingBox) {\n  return box.left !== box.right || box.top !== box.bottom\n}\n\n/**\n * Returns a list of one infinitely-horizontal and one infinitely-vertical boundaries.\n *\n * @param point - the point to compute boundaries for\n * @returns list of bounding boxes\n */\nfunction getLinearBoundaries (point: Point): BoundingBox[] {\n  return [\n    {\n      left: point.x,\n      right: point.x,\n      top: -Infinity,\n      bottom: Infinity\n    },\n    {\n      left: -Infinity,\n      right: Infinity,\n      top: point.y,\n      bottom: point.y\n    }\n  ]\n}\n\n/**\n * Returns a point as a boundary.\n *\n * @param point\n * @returns point boundary\n */\nfunction getPointBoundary (point: Point): BoundingBox {\n  return {\n    left: point.x,\n    top: point.y,\n    right: point.x,\n    bottom: point.y\n  }\n}\n\n/**\n * Computes the bounding box of the given item.\n *\n * @param item\n * @returns computed bounding box\n */\nfunction getBoundingBox (position: Point, rotation: number, width: number, height: number): BoundingBox {\n  if (rotation % 2 === 0) {\n    // item is right side up or upside down\n    return {\n      left: position.x,\n      top: position.y,\n      bottom: height + position.y,\n      right: width + position.x\n    }\n  }\n\n  // item is rotated at a 90 degree angle (CW or CCW)\n  const midX = position.x + (width / 2)\n  const midY = position.y + (height / 2)\n\n  return {\n    left: midX - (height / 2),\n    top: midY - (width / 2),\n    right: midX + (height / 2),\n    bottom: midY + (width / 2)\n  }\n}\n\n/**\n * Computes the group bounding box for the given list of bounding boxes.\n *\n * @param boundingBoxes - list of bounding boxes contained\n * @returns computed bounding box\n */\nfunction getGroupBoundingBox (boundingBoxes: BoundingBox[]): BoundingBox {\n  return boundingBoxes.reduce((rect, boundingBox) => ({\n    left: Math.min(rect.left, boundingBox.left),\n    top: Math.min(rect.top, boundingBox.top),\n    right: Math.max(rect.right, boundingBox.right),\n    bottom: Math.max(rect.bottom, boundingBox.bottom)\n  }), {\n    left: Infinity,\n    top: Infinity,\n    right: 0,\n    bottom: 0\n  })\n}\n\n/**\n * Returns the center point of the given bounding box.\n */\nfunction getBoundingBoxMidpoint (boundingBox: BoundingBox): Point {\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n\n  return {\n    x: width / 2,\n    y: height / 2\n  }\n}\n\n/**\n * Given parent and child bounding boxes, determines the screen point (top left) of the child centered in the parent.\n *\n * @param parentBox\n * @param childBox\n * @param factor - any factor to round by\n */\nfunction getCenteredScreenPoint (parentBox: BoundingBox, childBox: BoundingBox, factor: number): Point {\n  const parentMidpoint = getBoundingBoxMidpoint(parentBox)\n  const childWidth = childBox.right - childBox.left\n  const childHeight = childBox.bottom - childBox.top\n\n  return {\n    x: roundToNth(parentMidpoint.x - (childWidth / 2), factor),\n    y: roundToNth(parentMidpoint.y - (childHeight / 2), factor)\n  }\n}\n\n/**\n * Computes the minima or maxima between the given points.\n *\n * @param a\n * @param b\n * @param fn\n */\nfunction getExtremePoint (fn: 'min' | 'max', ...points: Point[]): Point {\n  const x = Math[fn](...points.map(({ x }) => x))\n  const y = Math[fn](...points.map(({ y }) => y))\n\n  return { x, y }\n}\n\nexport default {\n  isInNeighborhood,\n  getRadialSnapOffset,\n  getOuterSnapOffset,\n  getGridSnapPosition,\n  isLineIntersectingRectangle,\n  scaleBoundingBox,\n  isOneOrTwoDimensional,\n  getLinearBoundaries,\n  getPointBoundary,\n  hasIntersection,\n  getBoundingBox,\n  getGroupBoundingBox,\n  getBoundingBoxMidpoint,\n  getCenteredScreenPoint,\n  getSnapOffset,\n  getExtremePoint\n}\n","enum Direction {\n  Left = 0,\n  Top,\n  Right,\n  Bottom\n}\n\nexport default Direction\n","import Direction from '@/types/enums/Direction'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nexport default function rotate (rotation: Direction, additional: Direction = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n","import Direction from '@/types/enums/Direction'\nimport rotate from './rotate'\n\nconst WIRE_PADDING = 15\n\n/**\n * Renders the wire geometry for the given source and target ports.\n *\n * @param source\n * @param target\n */\nexport default function renderLayout (source: Port, target: Port): WireGeometry {\n  const a = source.position\n  const b = target.position\n  const { start, end } = getEndpoints(a, b)\n\n  if (start.x === end.x || start.y === end.y || end.x <= 1 && start.x <= 1 || end.y <= 1 && start.y <= 1) {\n    return computeStraightLine(start, end)\n  }\n\n  const sourceDirection = getPortDirection(source, a, b)\n  const targetDirection = getPortDirection(target, a, b)\n\n  return computeBezier(sourceDirection, targetDirection, start, end)\n}\n\n\nexport function computeStraightLine (a: Point, b: Point) {\n  return {\n    path: `M ${a.x},${a.y} L ${b.x},${b.y}`,\n    width: Math.abs(a.x - b.x) + WIRE_PADDING,\n    height: Math.abs(a.y - b.y) + WIRE_PADDING,\n    minX: -(WIRE_PADDING / 2),\n    minY: -(WIRE_PADDING / 2)\n  }\n}\n\n/**\n * Reverses the orientation of a FreePort by 180 degrees, if the dimension on an axis exceeds that of its wire's opposite end.\n * This gives the visual effect of \"pinching the wire\" so that weird, unnecessary curves aren't sticking out of FreePorts.\n *\n * @param {number} direction\n * @returns {number}\n */\nexport function inflectDirection (direction: number, a: Point, b: Point): Direction {\n  switch (direction) {\n    case 0:\n      return a.y > b.y ? 2 : Direction.Left\n    case 1:\n      return a.x < b.x ? 3 : Direction.Top\n    case 2:\n      return a.y > b.y ? 0 : Direction.Right\n    case 3:\n      return a.x < b.x ? 1 : Direction.Bottom\n    default:\n      return inflectDirection(rotate(direction), a, b) // normalize direction to [0,3] and try again\n  }\n}\n\n/**\n * Returns the wire direction for a given port.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {number}\n */\nexport function getPortDirection (port: Port, a: Point, b: Point) {\n  // the true direction needs to take into account inherent orientation + its rotation\n  // bezier index directions are one integer off (see computeBezier()) -- subtract by 1\n  let direction = rotate(port.orientation + port.rotation - 1)\n\n  if (port.isFreeport) {\n    // inflect direction for FreePorts to give the \"pinched\" appearance when dragged out of range\n    direction = inflectDirection(direction, a, b)\n\n    if (port.rotation % 4 === 1 || port.rotation % 4 === 2) {\n      direction = rotate(direction - 2)\n    }\n  }\n\n  return direction\n}\n\n/**\n * Updates the source and target endpoints such that the start and end are true.\n * This prevents translations or rotations from \"swapping\" the start and end points.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {object<{ start: Point, end: Point }>}\n */\nexport function getEndpoints (a: Point, b: Point): { start: Point, end: Point } {\n  if (a.x <= b.x) {\n    if (a.y <= b.y) {\n      // top left (a) to bottom right (b)\n      return {\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: Math.floor(b.x - a.x),\n          y: Math.floor(b.y - a.y)\n        }\n      }\n    }\n    // bottom left (a) to top right (b)\n    return {\n      start: {\n        x: 0,\n        y: Math.floor(a.y - b.y)\n      },\n      end: {\n        x: Math.floor(b.x - a.x),\n        y: 0\n      }\n    }\n  }\n\n  if (a.y <= b.y) {\n    // bottom left (b) to top right (a)\n    return {\n      start: {\n        x: Math.floor(a.x - b.x),\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: Math.floor(b.y - a.y)\n      }\n    }\n  }\n\n  // top left (b) to bottom right (a)\n  return {\n    start: {\n      x: Math.floor(a.x - b.x),\n      y: Math.floor(a.y - b.y)\n    },\n    end: {\n      x: 0,\n      y: 0\n    }\n  }\n}\n\n/**\n * Computes a Bezier SVG curve path with respect to given source and target directions and positions.\n *\n * @param {number} sourceDirection - the direction that the source is pointing to\n * @param {number} targetDirection - the direction that the target is pointing from\n * @param {Point} start - the source port position\n * @param {Point} end - the target port position\n */\nexport function computeBezier (sourceDirection: number, targetDirection: number, start: Point, end: Point): WireGeometry {\n  const x1 = start.x\n  const y1 = start.y\n  const x4 = end.x\n  const y4 = end.y\n\n  // TODO: change dx/dy to be more user-friendly\n  const dx = Math.max(Math.abs(x1 - x4) / 2, 10)\n  const dy = Math.max(Math.abs(y1 - y4) / 2, 10)\n\n  const x2 = [x1, x1 + dx, x1, x1 - dx][sourceDirection].toFixed(3)\n  const y2 = [y1 - dy, y1, y1 + dy, y1][sourceDirection].toFixed(3)\n  const x3 = [x4, x4 + dx, x4, x4 - dx][targetDirection].toFixed(3)\n  const y3 = [y4 - dy, y4, y4 + dy, y4][targetDirection].toFixed(3)\n\n  const path = [\n    'M', x1.toFixed(3), y1.toFixed(3),\n    'C', x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)\n  ].join(' ')\n\n  const toNumArr = (...n: Array<string | number>) => n.map(k => parseInt(k.toString(), 10))\n\n  const minX = Math.min(...toNumArr(x1, x2, x3, x4)) - WIRE_PADDING / 2\n  const maxX = Math.max(...toNumArr(x1, x2, x3, x4)) + WIRE_PADDING / 2\n  const minY = Math.min(...toNumArr(y1, y2, y3, y4)) - WIRE_PADDING / 2\n  const maxY = Math.max(...toNumArr(y1, y2, y3, y4)) + WIRE_PADDING / 2\n\n  const width = maxX - minX + WIRE_PADDING\n  const height = maxY - minY + WIRE_PADDING\n\n  return { width, height, path, minX, minY }\n}\n","import { render } from \"./Connection.vue?vue&type=template&id=4941b650&ts=true\"\nimport script from \"./Connection.vue?vue&type=script&lang=ts\"\nexport * from \"./Connection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Freeport.vue?vue&type=template&id=5e8c7cdc&ts=true\"\nimport script from \"./Freeport.vue?vue&type=script&lang=ts\"\nexport * from \"./Freeport.vue?vue&type=script&lang=ts\"\n\nimport \"./Freeport.vue?vue&type=style&index=0&id=5e8c7cdc&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InputNode.vue?vue&type=template&id=519fc1c3&ts=true\"\nimport script from \"./InputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./InputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./InputNode.vue?vue&type=style&index=0&id=519fc1c3&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./IntegratedCircuit.vue?vue&type=template&id=072f46ee&ts=true\"\nimport script from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\n\nimport \"./IntegratedCircuit.vue?vue&type=style&index=0&id=072f46ee&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./And.vue?vue&type=template&id=451c19e4&ts=true\"\nimport script from \"./And.vue?vue&type=script&lang=ts\"\nexport * from \"./And.vue?vue&type=script&lang=ts\"\n\nimport \"./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Or.vue?vue&type=template&id=4e6eb8f2&ts=true\"\nimport script from \"./Or.vue?vue&type=script&lang=ts\"\nexport * from \"./Or.vue?vue&type=script&lang=ts\"\n\nimport \"./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nor.vue?vue&type=template&id=7803c0c0&ts=true\"\nimport script from \"./Nor.vue?vue&type=script&lang=ts\"\nexport * from \"./Nor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nand.vue?vue&type=template&id=1bef5bae&ts=true\"\nimport script from \"./Nand.vue?vue&type=script&lang=ts\"\nexport * from \"./Nand.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xnor.vue?vue&type=template&id=3e58dbce&ts=true\"\nimport script from \"./Xnor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xnor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xor.vue?vue&type=template&id=2e4c44f6&ts=true\"\nimport script from \"./Xor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LogicGate.vue?vue&type=template&id=4853bdc0&ts=true\"\nimport script from \"./LogicGate.vue?vue&type=script&lang=ts\"\nexport * from \"./LogicGate.vue?vue&type=script&lang=ts\"\n\nimport \"./LogicGate.vue?vue&type=style&index=0&id=4853bdc0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OutputNode.vue?vue&type=template&id=38254202&ts=true\"\nimport script from \"./OutputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./OutputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./OutputNode.vue?vue&type=style&index=0&id=38254202&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CircuitComponent.vue?vue&type=template&id=04a5156f&ts=true\"\nimport script from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./CircuitComponent.vue?vue&type=style&index=0&id=04a5156f&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=0ac03fe7&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=0ac03fe7&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortHandle.vue?vue&type=template&id=2ce249eb&ts=true\"\nimport script from \"./PortHandle.vue?vue&type=script&lang=ts\"\nexport * from \"./PortHandle.vue?vue&type=script&lang=ts\"\n\nimport \"./PortHandle.vue?vue&type=style&index=0&id=2ce249eb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortPivot.vue?vue&type=template&id=9aa66860&ts=true\"\nimport script from \"./PortPivot.vue?vue&type=script&lang=ts\"\nexport * from \"./PortPivot.vue?vue&type=script&lang=ts\"\n\nimport \"./PortPivot.vue?vue&type=style&index=0&id=9aa66860&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum PortType {\n  Output = 0,\n  Input\n}\n\nexport default PortType\n","import { render } from \"./PortItem.vue?vue&type=template&id=d2eb2378&ts=true\"\nimport script from \"./PortItem.vue?vue&type=script&lang=ts\"\nexport * from \"./PortItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum ItemType {\n  Buffer = 'Buffer',\n  CircuitNode = 'CircuitNode',\n  Freeport = 'Freeport',\n  InputNode = 'InputNode',\n  IntegratedCircuit = 'IntegratedCircuit',\n  LogicGate = 'LogicGate',\n  OutputNode = 'OutputNode'\n}\n\nexport default ItemType\n","enum ItemSubtype {\n  None = 'None',\n\n  /* input nodes */\n  Switch = 'Switch',\n  PushButton = 'PushButton',\n  Clock = 'Clock',\n\n  /* output nodes */\n  Lightbulb = 'Lightbulb',\n\n  /* buffers */\n  Buffer = 'Buffer',\n  Not = 'Not',\n\n  /* tri-state */\n  Tristate = 'Tristate',\n\n  /* logic gates */\n  And = 'And',\n  Or = 'Or',\n  Nand = 'Nand',\n  Nor = 'Nor',\n  Xnor = 'Xnor',\n  Xor = 'Xor'\n}\n\nexport default ItemSubtype\n","import { render } from \"./Item.vue?vue&type=template&id=cb076f82&ts=true\"\nimport script from \"./Item.vue?vue&type=script&lang=ts\"\nexport * from \"./Item.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Selector.vue?vue&type=template&id=00c70482&ts=true\"\nimport script from \"./Selector.vue?vue&type=script&lang=ts\"\nexport * from \"./Selector.vue?vue&type=script&lang=ts\"\n\nimport \"./Selector.vue?vue&type=style&index=0&id=00c70482&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Editor.vue?vue&type=template&id=61b17de9&ts=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=61b17de9&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=2e6e8258&ts=true\"\nimport script from \"./Group.vue?vue&type=script&lang=ts\"\nexport * from \"./Group.vue?vue&type=script&lang=ts\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=2e6e8258&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function edit (useDocumentStore: DocumentStore, submenus: MenuItemConstructorOptions[] = []): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  let menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Undo',\n      enabled: store.canUndo,\n      accelerator: 'CommandOrControl+Z',\n      click: store.undo\n    },\n    { type: 'separator' },\n    {\n      role: 'cut',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'copy',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'paste',\n      enabled: store.hasSelection\n    },\n    {\n      label: 'Delete',\n      accelerator: 'Delete',\n      enabled: store.hasSelection,\n      click: store.deleteSelection\n    },\n    { type: 'separator' },\n    {\n      role: 'selectAll',\n      enabled: store.baseItems.length > 0\n    }\n  ]\n\n  if (store.selectedItemIds.length > 0) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Rotate',\n      submenu: [\n        {\n          label: 'Rotate 90° &CW',\n          accelerator: 'CmdOrCtrl+R',\n          click: () => store.rotate(1)\n        },\n        {\n          label: 'Rotate 90° CC&W',\n          accelerator: 'CmdOrCtrl+Shift+R',\n          click: () => store.rotate(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.hasSelection) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Bring to Front',\n      submenu: [\n        {\n          label: '&Bring to Front',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Bring &Forward',\n          click: () => store.incrementZIndex(1)\n        }\n      ]\n    })\n    menu.push({\n      label: '&Send to Back',\n      submenu: [\n        {\n          label: '&Send to Back',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Send &Backward',\n          click: () => store.incrementZIndex(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.canGroup) {\n    menu.push({\n      label: '&Group',\n      submenu: [\n        { label: '&Group' },\n        {\n          label: '&Ungroup',\n          enabled: store.canUngroup\n        }\n      ]\n    })\n  }\n\n  if (submenus.length > 0) {\n    menu.push({ type: 'separator' })\n    menu = menu.concat(submenus)\n  }\n\n  if (store.selectedItemIds.length === 1) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Item Properties'\n    })\n  }\n\n  if (store.activePortId) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      type: 'checkbox',\n      label: 'Show in &Oscilloscope',\n      checked: true\n    })\n  }\n\n  return menu\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function grid (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  return [\n    {\n      label: '&Grid',\n      submenu: [\n        {\n          label: '&Show grid'\n        },\n        { type: 'separator' },\n        { label: 'Snap to &grid' },\n        { label: 'Snap to &elements' }\n      ]\n    }\n  ]\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport { DocumentStore } from '@/store/document'\nimport edit from '../submenus/edit'\nimport grid from '../submenus/grid'\n\nexport default function editor (store: DocumentStore): MenuItemConstructorOptions[] {\n  return edit(store, grid(store).concat({ type: 'separator' }))\n}\n","import domToImage from 'dom-to-image'\n\n/**\n * Renders a printer-friendly HTML DOM clone of the given editor element.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n * @param padding - number of pixels to use as surrounding padding\n */\nfunction createPrintArea (zoom: number, editor: HTMLElement, boundingBox: BoundingBox, padding: number, className: string = 'printer-friendly') {\n  const printArea = editor.cloneNode(true) as HTMLElement\n  const width = boundingBox.right - boundingBox.left + (padding * 2)\n  const height = boundingBox.bottom - boundingBox.top + (padding * 2)\n\n  for (let i = 0; i < printArea.children.length; i++) {\n    const child = printArea.children[i] as HTMLElement\n    const left = parseInt(child.style.left.replace('px', ''), 10) + padding\n    const top = parseInt(child.style.top.replace('px', ''), 10) + padding\n\n    child.style.left = `${(left - boundingBox.left)}px`\n    child.style.top = `${(top - boundingBox.top)}px`\n  }\n\n  printArea.style['zoom'] = zoom.toString()\n  printArea.style.width = `${width}px`\n  printArea.style.height = `${height}px`\n  printArea.style.position = 'relative'\n  printArea.style.top = '0'\n  printArea.style.left = '0'\n  printArea.style.background = 'none'\n\n  if (className) {\n    printArea.classList.add(className)\n  }\n\n  return { printArea, width, height }\n}\n\n/**\n * Renders a hidden iframe on the page for printing.\n *\n * @param image - the image to print\n * @param pageSize - list of [width, height] dimensions, in inches\n */\nfunction createPrintFrame (image: HTMLImageElement, pageSize: number[]) {\n  const iframe = document.createElement('iframe')\n\n  iframe.name = 'print'\n  iframe.style.width = '1px'\n  iframe.style.height = '1px'\n  iframe.style.opacity = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.top = '0px'\n  iframe.style.left = '0px'\n\n  document.body.appendChild(iframe)\n\n  const printFrame = iframe.contentWindow\n\n  if (printFrame) {\n    const styleTag = document.createElement('style')\n\n    styleTag.appendChild(document.createTextNode(`\n      @page {\n        size: ${pageSize.map(s => `${s}in`).join(' ')};\n        margin: 0in;\n      }\n    `))\n\n    printFrame.document.head.append(styleTag)\n    printFrame.document.body.appendChild(image)\n  }\n\n  return iframe\n}\n\n/**\n * Renders a binary PNG screenshot of the given HTML element.\n *\n * @param printArea\n */\nasync function createImage<T extends string | Blob> (printArea: HTMLElement, fn: 'toBlob' | 'toPng') {\n  document.body.appendChild(printArea)\n\n  const dataUrl = await domToImage[fn](printArea) as T\n\n  printArea.remove()\n\n  return dataUrl\n}\n\n/**\n * Prints (using a physical printer) the contents of the given window.\n */\nasync function printWindow (win: Window | null) {\n  return new Promise<void>(resolve => {\n    setTimeout(() => {\n      if (!win) return resolve()\n\n      win.addEventListener('afterprint', () => resolve())\n      win.print()\n    })\n  })\n}\n\n/**\n * Prints (using a physical printer) the editor.\n * The version printed will be rendered as a printer-friendly (read: ink-friendly) screenshot of the given editor.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n */\nasync function printImage (zoom: number, editor: HTMLElement, boundingBox: BoundingBox) {\n  const { printArea, width, height } = createPrintArea(1 / zoom, editor, boundingBox, 20)\n  const dataUrl = await printing.createImage<string>(printArea, 'toPng')\n  const pageSize = [8.5, 11] // inches\n  const minSize = Math.min(...pageSize) * 96 // pixels\n  const maxSize = Math.max(...pageSize) * 96 // pixels\n  const image = new Image()\n\n  let percent = 1 // percentage to resize the image by (to fit printable window area)\n\n  image.src = dataUrl as string\n\n  if (width > minSize || width > maxSize || height > minSize || height > maxSize) {\n    // make the image print in either landscape or portrait, whichever fits better\n    const isLandscape = width > height\n\n    // if the image exceeds one of the dimensions, resize it in ratio to match the dimension\n    percent = isLandscape\n      ? maxSize / width\n      : maxSize / height\n\n    if (isLandscape) {\n      pageSize.reverse()\n    }\n  }\n\n  image.style.width = `${Math.floor(width * percent)}px`\n  image.style.height = `${Math.floor(height * percent)}px`\n\n  const iframe = printing.createPrintFrame(image, pageSize)\n\n  await printing.printWindow(iframe?.contentWindow)\n\n  iframe?.remove()\n}\n\nconst printing = {\n  createPrintArea,\n  createPrintFrame,\n  createImage,\n  printImage,\n  printWindow\n}\n\nexport default printing\n","import CircuitNode from '../base/CircuitNode'\n\nclass Connection {\n  node: CircuitNode\n  id: string\n\n  constructor (node: CircuitNode, id: string) {\n    this.node = node\n    this.id = id\n  }\n}\n\nexport default Connection\n","const LogicValue = {\n  TRUE: 1,\n  FALSE: -1,\n  UNKNOWN: 0\n}\n\nexport default LogicValue\n","import Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\n\nclass CircuitNode {\n  /**\n   * Incoming values, to be used for calculation of the node's state.\n   *\n   * @type {Array<LogicValue>}\n   */\n  public inputValues: { [id: string]: number } = {}\n\n  /**\n   * List of outgoing connections.\n   *\n   * @type {Array<Connection>}\n   */\n  public outputs: Array<Connection> = []\n\n  /**\n   * Set to true if the value of the node has changed since last circuit evaluation.\n   *\n   * @type {Boolean}\n   */\n  public isValueChanged: boolean = true\n\n  /**\n   * Set to true to have the debugger continue regardless of whether this node changed or not.\n   *\n   * @type {Boolean}\n   */\n  public forceContinue: boolean = false\n\n  /**\n   * Name of the node.\n   *\n   * @type {String}\n   */\n  public name: string\n\n  /**\n   * Current value of the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public value: number = LogicValue.UNKNOWN\n\n  /**\n   * Next value for the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public newValue: number = LogicValue.UNKNOWN\n\n  /**\n   * List of dictionaries containing event types and their respective callbacks.\n   * Used for the invocation of event listeners when their respective events are fired.\n   *\n   * @type {Array<Object>}\n   */\n  public events: Array<{ eventType: string, callback: Function }> = []\n\n  /**\n   * Constructor.\n   *\n   * @param {String} name - name of the node\n   * @param {Number} [inputIds = []] - ids for each input port\n   */\n  constructor (name: string, inputIds: string[] = []) {\n    this.name = name\n    this.inputValues = inputIds.reduce((map, id) => ({\n      ...map,\n      [id]: LogicValue.UNKNOWN\n    }), {})\n  }\n\n  /**\n   * Updates the node's value to be static having the given value.\n   *\n   * @param {LogicValue} value\n   */\n  public setValue = (value: number): void => {\n    this.newValue = value\n    this.eval = () => value\n  }\n\n  /**\n   * Invokes the registered events having the given `eventType`.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {LogicValue} value\n   */\n  protected invokeEvent = (eventType: string, value: number): void => {\n    this.events.forEach((event) => {\n      if (event.eventType === eventType) {\n        event.callback(value)\n      }\n    })\n  }\n\n  /**\n   * Evaluates the node. Default behavior returns the current value.\n   *\n   * @returns {LogicValue}\n   */\n  protected eval = (): number => {\n    return this.value\n  }\n\n  /**\n   * Calculates how many input values equal the given comparison value.\n   *\n   * @param {LogicValue} compare - value to get count of\n   * @returns {Number}\n   */\n  protected valueCount = (compare: number): number => {\n    return Object\n      .values(this.inputValues)\n      .filter((value) => value === compare)\n      .length\n  }\n\n  /**\n   * Updates all outgoing connected nodes with the given value.\n   *\n   * @param {LogicValue} newValue - new value to output to the nodes\n   */\n  public updateOutputs = (newValue: number): void => {\n    this.outputs.forEach(({ node, id }: Connection) => {\n      node.update(newValue, id)\n    })\n  }\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @param {LogicValue} value - new value\n   * @param {Number} id - source port id\n   */\n  public update = (value: number, id: string): void => {\n    this.inputValues[id] = value\n    this.newValue = this.eval()\n  }\n\n  /**\n   * Propagates a signal, if the value of the node has changed.\n   *\n   * @returns {Array<CircuitNodes>} list of all outgoing connected nodes\n   */\n  public propagate = (): Array<CircuitNode> => {\n    if (this.value !== this.newValue) {\n      this.isValueChanged = true\n      this.value = this.newValue\n      this.updateOutputs(this.newValue)\n      this.invokeEvent('change', this.newValue)\n\n      return this.outputs.map(({ node }) => node)\n    }\n    return []\n  }\n\n  /**\n   * Resets the value and subsequent value of the node with Hi-Z.\n   */\n  public reset = (): void => {\n    this.value = LogicValue.UNKNOWN\n    this.newValue = LogicValue.UNKNOWN\n    this.invokeEvent('change', this.newValue)\n  }\n\n  /**\n   * Registers an event listener.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {Function} callback - method to invoke on event\n   */\n  public on = (eventType: string, callback: Function): void => {\n    this.events.push({ eventType, callback })\n  }\n\n  /**\n   * Returns the value of the node next time the circuit is evaluated.\n   *\n   * @returns {Number}\n   */\n  public getProjectedValue = (): number => {\n    return this.eval() || this.newValue || this.value\n  }\n}\n\n\nexport default CircuitNode\n","import CircuitNode from './CircuitNode'\n\nclass InputNode extends CircuitNode {\n  /**\n   * Resets the node.\n   *\n   * @override CircuitNode.reset\n   */\n  public reset = (): void => {\n    // do nothing\n  }\n}\n\nexport default InputNode\n","import CircuitNode from './CircuitNode'\n\nclass OutputNode extends CircuitNode {\n  /**\n   * Updates the value of the node.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value\n   */\n  public update = (value: number): void => {\n    if (this.newValue !== value) {\n      this.newValue = value\n      this.invokeEvent('change', value)\n    }\n  }\n}\n\nexport default OutputNode\n","import CircuitNode from '../base/CircuitNode'\nimport Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\nimport InputNode from './InputNode'\nimport OutputNode from './OutputNode'\n\nclass Circuit {\n  /**\n   * The debugger processing queue.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public queue: Array<CircuitNode> = []\n\n  /**\n   * A list of all the nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public nodes: Array<CircuitNode> = []\n\n  /**\n   * A list of all input nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public inputNodes: Array<InputNode> = []\n\n  /**\n   * Adds a node to the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to add\n   */\n  public addNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      this.inputNodes.push(node)\n      this.enqueue(node)\n    }\n    this.nodes.push(node)\n  }\n\n  /**\n   * Removes a node from the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to remove\n   */\n  public removeNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      const inputIndex = this.inputNodes.findIndex(({ name }) => name === node.name)\n\n      if (inputIndex !== -1) {\n        this.inputNodes.splice(inputIndex, 1)\n      }\n      this.reset()\n    }\n\n    const index = this.nodes.findIndex(({ name }) => name === node.name)\n\n    if (index !== -1) {\n      this.removeNodeOutputs(node)\n      this.nodes.splice(index, 1)\n    }\n\n    this.next()\n  }\n\n  /**\n   * Adds a connection entry from the source node to the target node on the given index.\n   *\n   * @param {CircuitNode} source - source node\n   * @param {CircuitNode} target - target node\n   * @param {Number} targetId - entry port id on the target node for the connection\n   */\n  public addConnection = (source: CircuitNode, target: CircuitNode, targetId: string): void => {\n    source.outputs.push(new Connection(target, targetId))\n    source.value = LogicValue.UNKNOWN\n    this.enqueue(source)\n    this.next()\n  }\n\n  /**\n   * Removes the connection on the source node at the source index and the connection at its target node.\n   * The input value at the target index will be reset to Hi-Z.\n   *\n   * @param {CircuitNode} sourceNode - source node to disconnect\n   * @param {CircuitNode} targetNode - target node to disconnect\n   */\n  public removeConnection = (sourceNode: CircuitNode, targetNode: CircuitNode): void => {\n    sourceNode\n      .outputs\n      .concat()\n      .forEach(({ node, id }: Connection, i: number) => {\n        if (targetNode === node) {\n          // reset the input of the target for this connection to hi-Z\n          targetNode.update(LogicValue.UNKNOWN, id)\n\n          // remove the output entry at the source\n          sourceNode.outputs.splice(i, 1)\n\n          // place the target node in the queue for processing\n          this.enqueue(targetNode)\n        }\n      })\n    this.next()\n  }\n\n  /**\n   * Removes all connections from the given source node.\n   *\n   * @param {CircuitNode} source\n   */\n  removeNodeOutputs = (source: CircuitNode): void => {\n    for (let i: number = 0; i < source.outputs.length; i++) {\n      this.removeConnection(source, source.outputs[i].node)\n    }\n  }\n\n  /**\n   * Appends the given node(s) to the processing queue.\n   *\n   * @param {...CircuitNode} added - node(s) to add to the queue\n   */\n  public enqueue = (...added: CircuitNode[]): void => {\n    added.forEach((node) => {\n      if (!~this.queue.indexOf(node)) {\n        this.queue.push(node)\n      }\n    })\n  }\n\n  /**\n   * Removes the given node from the processing queue.\n   *\n   * @param {CircuitNode} removed - node to remove from the queue\n   */\n  public dequeue = (removed: CircuitNode): void => {\n    const removedIndex = this.queue.indexOf(removed)\n\n    if (~removedIndex) {\n      this.queue.splice(removedIndex, 1)\n    }\n  }\n\n  /**\n   * Resets the circuit.\n   */\n  public reset = (): void => {\n    this.nodes.forEach((node) => node.reset())\n  }\n\n  /**\n   * Advances the circuit simulation one step. If none of the node values have changed,\n   * it continues stepping through until either a value changes or the queue is empty.\n   */\n  public next = (): void => {\n    let isValueChanged = false\n    let forceContinue = false\n    let localQueue: CircuitNode[] = []\n\n    while (this.queue.length > 0) {\n      const node = this.queue.shift()\n\n      if (!node) continue\n\n      localQueue = localQueue.concat(node.propagate())\n\n      this.dequeue(node)\n\n      if (node.isValueChanged) {\n        isValueChanged = true\n        node.isValueChanged = false\n      }\n\n      if (node.forceContinue) {\n        forceContinue = true\n        this.enqueue(...localQueue)\n        localQueue = []\n      }\n    }\n\n    if (isValueChanged) {\n      this.enqueue(...localQueue)\n    }\n  }\n\n  /**\n   * Returns true when the queue is finished processing.\n   *\n   * @returns {Boolean}\n   */\n  public isComplete = (): boolean => {\n    let isComplete = true\n\n    if (this.queue.length === 0) {\n      return true\n    }\n\n    this.queue.forEach(node => {\n      const nextValue = node.getProjectedValue()\n\n      if (nextValue !== node.value && !(node instanceof OutputNode)) {\n        isComplete = false\n      }\n    })\n\n    if (isComplete) {\n      this.queue = []\n    }\n\n    return isComplete\n  }\n}\n\nexport default Circuit\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nor extends CircuitNode {\n  protected eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.FALSE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.TRUE\n  }\n}\n\nexport default Nor\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Buffer extends CircuitNode {\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value - new value\n   * @param {Number} index - source index\n   */\n  public update = (value: number): void => {\n    const id = Object\n      .keys(this.inputValues)\n      .pop()\n\n    if (id) {\n      this.inputValues[id] = value\n      this.newValue = this.eval()\n    }\n  }\n\n  protected eval = (): number => {\n    return Object\n      .values(this.inputValues)\n      .pop() || 0\n  }\n}\n\nexport default Buffer\n","import { LogicValue } from '@/circuit'\n\n/**\n * @class BinaryWaveService\n * @description this service provides functionality for a graphical illustration of a wave in the oscilloscope.\n * Instances of these waves are the values of the active oscillogram.\n */\nexport default class BinaryWaveService implements Pulse {\n  /** Wave ID. */\n  public id: string\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Width (in pixels) of the wave. */\n  public width: number = 0\n\n  /** The y value for the last segment. */\n  private lastY: number = 0\n\n  /** Cartesian point values for each pixel segment. */\n  public segments: Point[] = []\n\n  /** Hue color value for the wave. */\n  public hue: number = 0\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param signal - current signal value to initialize at\n   * @param hue - color value for the wave\n   */\n  constructor (id: string, name: string, signal: number, hue: number) {\n    this.id = id\n    this.name = name\n    this.hue = hue\n    this.initialize(signal)\n  }\n\n  /**\n   * Creates an initial segment based on the given signal.\n   *\n   * @param signal\n   */\n  public initialize = (signal: number) => {\n    const segment = { x: 1, y: 1 }\n\n    if (signal === 1) {\n      segment.y = 0 // draw a vertical line from 0 up to 1\n      this.lastY = 1\n    } else {\n      segment.y = 1 // draw a vertical line from 1 down to 0\n      this.lastY = 0\n    }\n\n    this.addSegment(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Clears out the existing wave data.\n   */\n  public reset = () => {\n    this.segments = []\n    this.width = 0\n    this.initialize(this.lastY === 1 ? 0 : 1)\n  }\n\n  /**\n   * Periodic update function.\n   *\n   * @param elapsed - (no value necessary)\n   */\n  public update = (elapsed: number): void => {\n    this.drawPulseConstant()\n  }\n\n  /**\n   * Adds a new segment.\n   * This will correct for any mismatches between the segment and the previous one (if any).\n   *\n   * @param segment - new segment to add\n   */\n  addSegment = (segment: Point) => {\n    const previous = this.segments[this.segments.length - 1]\n\n    if (!previous && segment.x > 0) {\n      this.segments.push({ x: 0, y: segment.y })\n    } else if (previous && previous.x !== segment.x && previous.y !== segment.y) {\n      // if a previous segment exists, and both its x and y values mismatch, then remove it\n      this.segments.pop()\n    }\n\n    this.segments.push(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Draws the next segment of the wave with an inverted signal line.\n   *\n   * @param signal - incoming signal change value\n   */\n  drawPulseChange = (signal: number) => {\n    const { x } = this.segments[this.segments.length - 1]\n    const y = signal === LogicValue.TRUE ? 0 : 1\n\n    this.updateWidth()\n    this.addSegment({ x, y })\n  }\n\n  /**\n   * Draws the next segment of the wave, continued from the current signal line.\n   */\n  drawPulseConstant = () => {\n    const previous = this.segments[this.segments.length - 1]\n    // if the y value from the previous segment is unchanged, just extend its x value\n    const pos = this.lastY !== previous.y\n      ? previous\n      : this.segments.pop()\n\n\n    if (pos) {\n      this.updateWidth()\n      this.addSegment({\n        x: pos.x + 1,\n        y: pos.y\n      })\n    }\n    this.lastY = previous.y\n  }\n\n  /**\n   * Truncates the wave from the back such that the resulting wave is no wider than the given value.\n   *\n   * @param widthToKeep - the width, in pixels, to keep from the wave\n   */\n  truncateSegments = (widthToKeep: number) => {\n    if (widthToKeep > this.width) {\n      return\n    }\n\n    const widthToTruncate = this.width - widthToKeep\n\n    let deltaX = 0\n\n    for (let i = 0; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      if (x > widthToTruncate) {\n        deltaX = x - widthToTruncate\n\n        this.segments.splice(0, i)\n        this.segments.unshift({ x: 0, y })\n\n        break\n      }\n    }\n\n    for (let i = 1; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      this.segments[i] = {\n        x: x - widthToTruncate,\n        y\n      }\n    }\n\n    this.updateWidth()\n  }\n\n  updateWidth = () => {\n    this.width = this.segments.slice(-1)[0]?.x || 0\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * @class ClockService\n * @description This provides an oscillating clock wave. It oscillates between TRUE and FALSE.\n */\nexport default class ClockService implements Pulse {\n  /** Wave ID. */\n  public id: string = uuid()\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Current signal value. */\n  public signal: number = 0\n\n  /** Last update time, in milliseconds. */\n  private lastUpdate: number\n\n  /** Interval, in milliseconds, to oscillate at. */\n  private interval: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param interval - time, in milliseconds, to oscillate at\n   * @param signal - current signal value to initialize at\n   */\n  constructor (name: string, interval: number, signal: number) {\n    this.name = name\n    this.signal = signal\n    this.interval = interval\n    this.lastUpdate = -interval\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (signal: number) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Updates all waves with the given time elapsed.\n   *\n   * @param elapsed - time elapsed during simulation\n   */\n  public update = (elapsed: number): void => {\n    if (elapsed >= this.lastUpdate + this.interval) {\n      this.signal = this.signal === -1 ? 1 : -1\n      this.lastUpdate = elapsed\n      this.emitter.emit('change', this.signal)\n    }\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\n\n/**\n * @class OscillationService\n * @description Manages all oscillating services, including binary waves and clock pulses.\n * This service uses system time to determine proper sequencing and updating.\n */\nexport default class OscillationService {\n  /** Whether or not the oscillator is paused. */\n  public isPaused: boolean = true\n\n  /** Key-value pair of all waves. */\n  public waves: Record<string, Pulse> = {}\n\n  /** The refresh rate for the oscilloscope. */\n  public refreshRate: number = 20 // TODO: this can be configured to make the waves wider/oscilloscope run faster\n\n  /** The last time the oscillator was updated, in milliseconds. */\n  public lastUpdateTime: number = Date.now()\n\n  /** Elapsed total time, in milliseconds. */\n  public timeMsElapsed: number = 0\n\n  /** Offset wave time, in milliseconds. */\n  public timeMsOffset: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Starts the oscillator.\n   */\n  start = () => {\n    if (!this.isPaused) return\n\n    // this is the time that has elapsed prior to the completion of a full period\n    // when the oscillator is stopped, we want to maintain the time progressed before the next period\n    const remainingPeriodTime = this.lastUpdateTime % this.refreshRate\n\n    this.lastUpdateTime = Date.now() + remainingPeriodTime\n    this.isPaused = false\n    this.tick()\n  }\n\n  /**\n   * Stops the oscillator.\n   */\n  stop = () => {\n    this.isPaused = true\n  }\n\n  /**\n   * Clears all current binary wave geometries.\n   */\n  clear = () => {\n    Object\n      .values(this.waves)\n      .forEach(wave => {\n        if (wave instanceof BinaryWaveService) {\n          (wave as BinaryWaveService).reset()\n        }\n      })\n  }\n\n  /**\n   * Computes the SVG points for each given binary wave.\n   *\n   * @param waves\n   * @returns oscillogram result\n   */\n  computeWaveGeometry = (waves: Record<string, Pulse>) => {\n    const displays: Oscillogram = {}\n    const getPoints = (segments: Point[]) => segments.map(({ x, y }) => `${x},${y}`)\n\n    for (const name in waves) {\n      if (waves[name] instanceof BinaryWaveService) {\n        const wave = waves[name] as BinaryWaveService\n        const points = getPoints(wave.segments)\n\n        displays[name] = {\n          points: points.join(' '),\n          width: wave.width,\n          hue: wave.hue\n        }\n      }\n    }\n\n    return displays\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Broadcasts the oscillogram.\n   *\n   * @emits change containing the oscillogram data\n   */\n  broadcast = () => {\n    // set the max history to be twice the size of the user's screen, then cut half of it when it is exceeded\n    const screenWidth = window.screen.width\n    const widthOfOneSecond = 1000 / this.refreshRate\n    const maxHistorySeconds = screenWidth / widthOfOneSecond\n\n    if (this.timeMsElapsed >= this.timeMsOffset + ((maxHistorySeconds / 2) * 1000)) {\n      this.timeMsOffset = this.timeMsElapsed\n\n      Object\n        .values(this.waves)\n        .forEach((wave: Pulse) => {\n          if (wave instanceof BinaryWaveService) {\n            wave.truncateSegments(screenWidth)\n          }\n        })\n    }\n\n    this.emitter.emit('change', this.computeWaveGeometry(this.waves))\n  }\n\n  /**\n   * Triggers all oscillation update events.\n   */\n  tick = (): void => {\n    if (this.isPaused) return\n\n    const now = Date.now()\n    const MAX_IDLE_TIME = 10000 // 10 seconds\n    let hasUpdated = false\n\n    if (now >= this.lastUpdateTime + MAX_IDLE_TIME) {\n      // if the oscilloscope has been idle for a while, then re-start it rather than try to catch up to the current time\n      this.stop()\n      this.start()\n      return\n    }\n\n    while (now >= this.lastUpdateTime + this.refreshRate) {\n      // loop through each refresh period elapsed and simulate as if they actually elapsed\n      const delta = Math.min(this.refreshRate, now - this.lastUpdateTime)\n\n      hasUpdated = true\n      this.timeMsElapsed += delta\n      this.lastUpdateTime += delta\n      this.update()\n    }\n\n    if (hasUpdated) {\n      this.broadcast()\n    }\n\n    requestAnimationFrame(this.tick)\n  }\n\n  /**\n   * Updates all waves with the given tick count.\n   */\n  update = (): void => {\n    Object\n      .values(this.waves)\n      .forEach((wave) => wave.update(this.timeMsElapsed))\n  }\n\n  /**\n   * Adds the given wave to the oscillator instance.\n   *\n   * @param {Pulse} wave\n   */\n  add = (wave: Pulse): void => {\n    if (!this.waves.hasOwnProperty(wave.id)) {\n      this.waves[wave.id] = wave\n\n      if (this.timeMsElapsed === 0) {\n        this.broadcast()\n      }\n    }\n  }\n\n  /**\n   * Removes the wave having the given id.\n   *\n   * @param {Pulse} wave\n   */\n  remove = ({ id }: Pulse): void => {\n    delete this.waves[id]\n\n    if (Object.keys(this.waves).length === 0) {\n      this.stop()\n      this.clear()\n    }\n  }\n}\n","import { CircuitNode, Nor, InputNode, OutputNode, Buffer } from '@/circuit'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nfunction getLogicGateNode (subtype: string, id: string, inputIds: string[]): CircuitNode {\n  switch (subtype) {\n    case ItemSubtype.And:\n      return new Nor(id, inputIds)\n    default:\n      return new Nor(id, inputIds)\n  }\n}\n\nfunction getCircuitNode ({ id, type, subtype }: Item, inputIds: string[]): CircuitNode {\n  switch (type) {\n    case ItemType.CircuitNode:\n      return new CircuitNode(id, inputIds)\n    case ItemType.InputNode:\n      return new InputNode(id, inputIds)\n    case ItemType.LogicGate:\n      return getLogicGateNode(subtype, id, inputIds)\n    case ItemType.Buffer:\n    case ItemType.Freeport:\n      return new Buffer(id, inputIds)\n    default:\n      return new OutputNode(id, inputIds) // TODO: use generic CircuitNode instead?\n  }\n}\n\nexport default {\n  getLogicGateNode,\n  getCircuitNode\n}\n","import { Circuit, CircuitNode } from '@/circuit'\nimport { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\nimport ClockService from './ClockService'\nimport OscillationService from './OscillationService'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\nimport circuitNodeMapper from '@/utils/circuitNodeMapper'\n\n/**\n * The SimulationService ties together all aspects of a running simulation, including clock pulses, oscilloscope\n * wave management, and circuit component I/O. Effectively serves as an oracle for all circuit computations.\n *\n * It is important that the simulation maintains the state of the circuit separately from the editor state, as\n * components may be removed/added/changed in the editor by the user at any time. Maintaining them separate allows\n * the state of components present in the editor to be persisted.\n *\n * There is a one-to-one relationship between SimulationService instances and Document instances.\n */\nexport default class SimulationService {\n  /** Mapping of port IDs to their respective circuit nodes. */\n  nodes: Record<string, CircuitNode> = {}\n\n  /** Mapping of port IDs to their respective nodes' binary wave instances. */\n  waves: Record<string, BinaryWaveService> = {}\n\n  /** Mapping of port IDs to their respective nodes' clock instances. */\n  clocks: Record<string, ClockService> = {}\n\n  /** Mapping of port IDs to their respective current values. */\n  valueMap: Record<string, number> = {}\n\n  /** Logical circuit instance. */\n  circuit: Circuit = new Circuit()\n\n  /** Circuit oscillator. */\n  oscillator: OscillationService = new OscillationService()\n\n  /** Event emitter. */\n  emitter: TinyEmitter = new TinyEmitter()\n\n  /** Whether or not the simulation is paused. */\n  isPaused: boolean = false\n\n  /** Oscillogram data, containing each BinaryWave instance observed in the oscilloscope. */\n  oscillogram: Oscillogram = {}\n\n  /**\n   * Constructor.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  constructor (items: Item[], connections: Connection[], ports: Record<string, Port>) {\n    this.addElements(items, connections, ports)\n    this.oscillator.on('change', oscillogram => {\n      this.oscillogram = oscillogram\n      this.emit()\n    })\n  }\n\n  /**\n   * Adds the given items and connections with the given ports to the simulation.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  addElements = (items: Item[], connections: Connection[], ports: Record<string, Port>) => {\n    items.forEach(item => this.addNode(item, ports))\n    connections.forEach(c => this.addConnection(c.source, c.target))\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the port-value mapping as the first argument and oscillogram data as the second\n   */\n  on = (event: string, fn: (valueMap: Record<string, number>, oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Emits a change event.\n   *\n   * @emits change when the oscillogram or any value changes changes\n   */\n  emit = () => {\n    // console.log(Object.keys( this.oscillogram))\n    this.emitter.emit('change', this.valueMap, this.oscillogram)\n  }\n\n  /**\n   * Pauses the simulation.\n   */\n  pause = () => {\n    this.oscillator.stop()\n    this.isPaused = true\n  }\n\n  /**\n   * Continues the simulation.\n   */\n  unpause = () => {\n    this.isPaused = false\n    this.oscillator.start()\n    this.emit()\n  }\n\n  /**\n   * Advances the simulation by one step.\n   *\n   * @param [iteration = 0] - internal iteration count (should always invoke using `0` or undefined)\n   */\n  step = (iteration: number = 0) => {\n    if (this.isPaused) return\n\n    this.circuit.next()\n\n    const shouldContinue = this.circuit.queue.length > 0 // TODO: use circuit.isComplete()?\n\n    if (iteration > 10000) {\n      // TODO: configure this to detect infinite loops...\n      throw new Error('An infinite loop detected!')\n    }\n\n    if (shouldContinue) {\n      this.step(++iteration)\n    }\n\n    this.emit()\n  }\n\n  canContinue: boolean = false\n\n  nextState: string | null = null\n\n  isDebug: boolean = false\n\n  nextValueMap: Record<string, number> = {}\n\n  startDebugging = () => {\n    this.isDebug = true\n    this.pause()\n    this.computeNextState()\n  }\n\n  stopDebugging = () => {\n    this.isDebug = false\n    this.nextState = null\n    this.unpause()\n  }\n\n  advance = () => {\n    const nextValues = Object.keys(this.nextValueMap)\n\n    if (nextValues.length > 0) {\n      // at least one value change was triggered by the editor since last advance\n      nextValues.forEach(portId => this.updatePortValue(portId, this.nextValueMap[portId]))\n    } else if (this.nextState) {\n      // no inputs are pending updates, and there is a new state to advance to\n      this.valueMap = JSON.parse(this.nextState) as Record<string, number>\n    }\n\n    this.nextValueMap = {}\n    this.computeNextState()\n    this.emit()\n  }\n\n  computeNextState = () => {\n    const currentState = JSON.stringify(this.valueMap)\n\n    this.circuit.next()\n\n    const nextState = JSON.stringify(this.valueMap)\n\n    if (currentState !== nextState) {\n      this.nextState = nextState\n    } else {\n      this.nextState = null\n    }\n\n    this.canContinue = this.nextState !== null\n  }\n\n  /**\n   * Sets the output value of a given target node.\n   *\n   * @param id - ID of the port with new value\n   * @param value - new value to set\n   */\n  setOutputValue = (id: string, value: number) => {\n    this.valueMap[id] = value\n    this.emit()\n  }\n\n  updatePortValue = (portId: string, value: number) => {\n    this.nodes[portId].setValue(value)\n    this.circuit.enqueue(this.nodes[portId])\n    this.waves[portId]?.drawPulseChange(value)\n  }\n\n  enqueuePortValueChange = (portId: string, value: number) => {\n    this.nextValueMap[portId] = value\n\n    // circuit can continue only if one or more port values have changed\n    this.canContinue = Object\n      .keys(this.nextValueMap)\n      .reduce((anyValueChanged: boolean, portId) => {\n        return anyValueChanged || this.valueMap[portId] !== this.nextValueMap[portId]\n      }, false)\n\n    this.emit()\n  }\n\n  /**\n   * Sets a port's value logical value, performing all necessary simulation operations that result from such an action.\n   *\n   * This should be invoked by the document.\n   *\n   * @param portId\n   * @param value - new logical value\n   */\n  setPortValue = (portId: string, value: number) => {\n    if (this.isDebug) {\n      return this.enqueuePortValueChange(portId, value)\n    }\n\n    if (this.nodes[portId] && this.nodes[portId].value !== value) {\n      this.updatePortValue(portId, value)\n      this.step()\n    }\n  }\n\n  /**\n   * Adds an integrated circuit to the simulation.\n   *\n   * @param item - the high-level integrated circuit item\n   */\n  addIntegratedCircuit = (icItem: Item) => {\n    if (!icItem.integratedCircuit) return\n\n    const { items, connections, ports } = icItem.integratedCircuit\n\n    Object\n      .values(items)\n      .forEach(item => {\n        this.addNode(item, ports, true)\n      })\n\n    Object\n      .values(connections)\n      .forEach(c => {\n        this.addConnection(c.source, c.target)\n      })\n  }\n\n  /**\n   * Adds new a node to the simulation.\n   *\n   * @param item - item to add\n   * @param ports - port mapping to reference (if an IC, then use the ports within the document itself)\n   * @param [forceContinue] - if true, forces the circuit node to evaluate immediately\n   */\n  addNode = (item: Item, ports: Record<string, Port>, forceContinue: boolean = false) => {\n    if (item.portIds.length === 0) return // if there are no ports, then there is nothing to add\n\n    if (item.integratedCircuit) {\n      return this.addIntegratedCircuit(item)\n    }\n\n    const inputIds = item.portIds.filter(portId => ports[portId].type === PortType.Input)\n    const outputIds = item.portIds.filter(portId => ports[portId].type === PortType.Output)\n    const node = circuitNodeMapper.getCircuitNode(item, inputIds)\n\n    node.forceContinue = forceContinue\n\n    item.portIds.forEach(portId => this.addPort(portId, node))\n\n    if (item.type === ItemType.InputNode && item.subtype === ItemSubtype.Clock) {\n      this.addClock(outputIds[0])\n    }\n\n    this.circuit.addNode(node)\n\n    item.portIds.forEach(portId => {\n      const port = ports[portId]\n\n      if (port.isMonitored) {\n        this.monitorPort(portId, port.value, port.hue)\n      }\n    })\n  }\n\n  /**\n   * Removes a node and all of its ports from the simulation.\n   *\n   * @param portIds - list of IDs of ports associated with the node (at least one matching is required)\n   */\n  removeNode = (item: Item) => {\n    /** returns the port IDs of all ports that are related to the given integrated circuit */\n    const getIntegratedCircuitPortIds = (ic: Item): string[] => {\n      if (!ic.integratedCircuit) return []\n\n      return Object\n        .values(ic.integratedCircuit.items)\n        .reduce((portIds, i) => {\n          if (i.integratedCircuit) {\n            return portIds\n              .concat(getIntegratedCircuitPortIds(i))\n              .concat(i.portIds)\n          }\n          return portIds.concat(i.portIds)\n        }, [] as string[])\n    }\n\n    // remove all nodes that are referenced to port IDs of the given item\n    item\n      .portIds\n      .concat(getIntegratedCircuitPortIds(item)) // ...including IC ports\n      .forEach(portId => {\n        const node = this.nodes[portId]\n\n        if (node) {\n          this.circuit.removeNode(node)\n          this.removePort(portId)\n        }\n      })\n\n    this.emit()\n  }\n\n  /**\n   * Adds an interval clock to the circuit.\n   *\n   * @param portId\n   */\n  addClock = (portId: string) => {\n    this.clocks[portId] = new ClockService(portId, 1000, 1) // TODO: make 1000 configurable by the item\n    this.clocks[portId].on('change', (signal: number) => {\n      this.setPortValue(portId, signal)\n    })\n    this.oscillator.add(this.clocks[portId])\n  }\n\n  /**\n   * Adds a port to the simulation.\n   *\n   * @param portId - ID of the port associated with the node\n   * @param node - circuit node\n   */\n  addPort = (portId: string, node: CircuitNode) => {\n    this.nodes[portId] = node\n\n    node.on('change', (value: number) => {\n      this.setOutputValue(portId, value)\n      this.waves[portId]?.drawPulseChange(value)\n    })\n  }\n\n  /**\n   * Removes a port from the simulation and all associations of it.\n   * Associations include circuit nodes, value mappings, and any active clocks and waves.\n   *\n   * @param portId\n   */\n  removePort = (portId: string) => { // TODO: need to remove wave from oscillation\n    if (this.clocks[portId]) {\n      this.oscillator.remove(this.clocks[portId])\n    }\n\n    this.unmonitorPort(portId)\n\n    delete this.nodes[portId]\n    delete this.valueMap[portId]\n    delete this.clocks[portId]\n    delete this.waves[portId]\n  }\n\n  /**\n   * Adds a new connection between the given source and target ports.\n   * This requires that the circuit nodes for both the source and target have been added to the simulation.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  addConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.addConnection(this.nodes[sourceId], this.nodes[targetId], targetId)\n    }\n  }\n\n  /**\n   * Removes a connection that exists between the given source and target ports.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  removeConnection = (sourceId: string, targetId: string) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.removeConnection(this.nodes[sourceId], this.nodes[targetId])\n    }\n  }\n\n  /**\n   * Begins monitoring an individual port in the oscilloscope.\n   *\n   * @param portId\n   * @param value - current port value\n   */\n  monitorPort = (portId: string, value: number, hue: number) => {\n    if (!this.waves[portId]) {\n      this.waves[portId] = new BinaryWaveService(portId, portId, value, hue)\n      this.oscillator.add(this.waves[portId])\n    }\n  }\n\n  /**\n   * Removes a port from being monitored in the oscilloscope.\n   *\n   * @param portId\n   */\n  unmonitorPort = (portId: string) => {\n    if (this.waves[portId]) {\n      this.oscillator.remove(this.waves[portId])\n      this.oscillator.broadcast()\n    }\n\n    delete this.waves[portId]\n    delete this.oscillator.waves[portId]\n    delete this.oscillogram[portId]\n  }\n}\n","\nimport Direction from '@/types/enums/Direction'\n// TODO: rename parent 'layout' folder to 'geometry'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nfunction rotate (rotation: number, additional = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n\n/**\n * Returns the absolute Cartesian position of an item based on its parent group's rotation and position.\n *\n * @param groupBoundingBox - group for which the item is a member of\n * @param item - item to compute position for\n * @param direction - rotation direction (1 for CW, -1 for CCW)\n * @returns\n */\nfunction getGroupedItemRotatedPosition (groupBoundingBox: BoundingBox, item: Item, direction: number): Point {\n  const w = groupBoundingBox.right - groupBoundingBox.left\n  const h = groupBoundingBox.bottom - groupBoundingBox.top\n  const mx = groupBoundingBox.left + (w / 2)\n  const my = groupBoundingBox.top + (h / 2)\n  const cx = item.position.x\n  const cy = item.position.y\n  const ax = cx + (item.width / 2)\n  const ay = cy + (item.height / 2)\n  const L = Math.sqrt(Math.pow((mx - ax), 2) + Math.pow((my - ay), 2))\n  const currentAngleRad = Math.atan2((ay - my), (ax - mx))\n  const newAngle = (90 * direction * (Math.PI / 180)) + currentAngleRad\n  const newAx = (L * Math.cos(newAngle)) + mx\n  const newAy = (L * Math.sin(newAngle)) + my\n\n  return {\n    x: newAx - (item.width / 2),\n    y: newAy - (item.height / 2)\n  }\n}\n\n/**\n * Returns the absolute Cartesian position of a port based on its parent's rotation and position.\n *\n * @param port\n * @param portList\n * @param item\n * @param index\n * @returns\n */\nfunction getRotatedPortPosition (port: Port, portList: Port[], item: Item, index: number): Point {\n  const { left, top, bottom, right } = item.boundingBox\n\n  // ports use CSS \"space around\" flex property for positions\n  // compute the spacing of each port based on the element width/height\n  // there are n spacings for n ports\n  const spacing = (port.orientation + item.rotation) % 2 === 0\n    ? Math.floor((bottom - top) / portList.length)\n    : Math.floor((right - left) / portList.length)\n\n  // compute the distance (from left-to-right or top-to-bottom)\n  // the distance will be the center of the computed spacing\n  const distance = (spacing * (index + 1)) - (spacing / 2)\n\n  switch (rotate(port.orientation + item.rotation)) {\n    case Direction.Left:\n      return { x: left, y: top + distance }\n    case Direction.Top:\n      return { x: right - distance, y: top }\n    case Direction.Right:\n      return { x: right, y: bottom - distance }\n    case Direction.Bottom:\n      return { x: left + distance, y: bottom }\n  }\n}\n\nexport default {\n  rotate,\n  getGroupedItemRotatedPosition,\n  getRotatedPortPosition\n}\n","/**\n * Returns all connections and any associated freeport items within a connection chain.\n *\n * @param connections - list of all connections to explore\n * @param portMap - ID-to-port mapping of the entire document\n * @param connectionChainId - ID of the connection chain to explore\n * @returns the IDs of the connections and the freeports discovered in the chain\n */\nexport default function getConnectionChain (connections: Connection[], portMap: Record<string, Port>, connectionChainId: string) {\n  const { connectionIds, freeportIds } = Object\n    .values(connections)\n    .reduce(({ connectionIds, freeportIds }, connection) => {\n      if (connectionChainId === connection.connectionChainId) {\n        const sourcePort = portMap[connection.source]\n        const targetPort = portMap[connection.target]\n\n        connectionIds.add(connection.id)\n\n        if (sourcePort?.isFreeport) freeportIds.add(sourcePort.elementId)\n        if (targetPort?.isFreeport) freeportIds.add(targetPort.elementId)\n      }\n\n      return { connectionIds, freeportIds }\n    }, {\n      connectionIds: new Set<string>(),\n      freeportIds: new Set<string>()\n    })\n\n  return {\n    connectionIds: Array.from(connectionIds),\n    freeportIds: Array.from(freeportIds)\n  }\n}\n","/**\n * Sorting function to sort BaseItems by their zIndex values in ascending order.\n */\nexport default function sortByZIndex (a: BaseItem, b: BaseItem) {\n  if (a.zIndex > b.zIndex) return 1\n  else if (a.zIndex < b.zIndex) return -1\n  return 0\n}\n","import ItemType from '@/types/enums/ItemType'\n\nexport default function itemFactory (id: string, type: ItemType, subtype: string, width: number, height: number, ports: Port[] = []): Item {\n  return {\n    id,\n    name: '',\n    type,\n    subtype,\n    portIds: ports.map(({ id }) => id),\n    groupId: null,\n    rotation: 0,\n    boundingBox: {\n      top: 0,\n      left: 0,\n      right: width,\n      bottom: height\n    },\n    position: {\n      x: 0,\n      y: 0\n    },\n    zIndex: 0,\n    width,\n    height,\n    isSelected: false,\n    properties: {}\n  }\n}\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\nimport ItemType from '@/types/enums/ItemType'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport itemFactory from './itemFactory'\nimport DocumentState from '@/store/DocumentState'\n\n/**\n * Creates an integrated circuit item.\n * This will embed the ports, connections, and items provided as internal circuit elements and expose input and output ports for each input and output node, respectively.\n *\n * @param statePorts - ports belonging to all elements to embed\n * @param stateItems - items to embed\n * @param stateConnections - connections between items to embed\n */\nexport default function integratedCircuitFactory (state: DocumentState) {\n  const { ports, items, connections, groups } = cloneDeep(state) as DocumentState\n  const integratedCircuitItem = itemFactory(uuid(), ItemType.IntegratedCircuit, 'Flip flop', 400, 400)\n\n  Object\n    .values(items)\n    .forEach(item => {\n      if (item.type !== ItemType.InputNode && item.type !== ItemType.OutputNode) return\n\n      // loop through each input node (switch, button, etc.) and each output node (lightbulb, etc.) in the circuit\n      // input nodes will convert to buffers and will take in a signal from the outside world\n      // output nodes will convert to buffers and signals it receives and broadcast them to the outside world\n      const portType = item.type === ItemType.InputNode\n        ? PortType.Output\n        : PortType.Input\n\n      // by default, the inputs will be on the left and the outputs on the right, but the user can change this\n      const orientation = item.type === ItemType.InputNode\n        ? Direction.Left\n        : Direction.Right\n\n      item\n        .portIds\n        .filter(portId => ports[portId].type === portType)\n        .forEach(portId => {\n          const newId = uuid()\n\n          // each input node (switch, button, etc.) will become a buffer node when simulated\n          // therefore each input node (now buffer) will receive an additional input port to receive signals from the outside world\n          // likewise, each output node (also now a buffer) will receive an additional output port to broadcast signals to the outside world\n          // these new input and output ports will be used by both the embedded nodes and the integrated circuit element itself\n          ports[newId] = {\n            ...cloneDeep<Port>(ports[portId]),\n            type: item.type === ItemType.InputNode\n              ? PortType.Input\n              : PortType.Output,\n            id: newId,\n            elementId: item.id,\n            orientation\n          }\n\n          item.portIds.push(newId)\n          integratedCircuitItem.portIds.push(newId)\n        })\n\n      item.type = ItemType.Buffer\n    })\n\n  integratedCircuitItem.integratedCircuit = {\n    items,\n    connections,\n    ports,\n    groups,\n    serializedState: JSON.stringify({\n      items: state.items,\n      connections: state.connections,\n      ports: state.ports,\n      groups: state.groups\n    })\n  }\n\n  return integratedCircuitItem\n}\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\n\ntype IdMap = Record<string, string>\n\nfunction mapStandardCircuitIds (circuit: { connections: Record<string, Connection>, items: Record<string, Item>, ports: Record<string, Port>, groups: Record<string, Group> }, idMap: IdMap = {}) {\n\n  let { items, connections, ports, groups } = cloneDeep(circuit)\n\n  function mapGroups (groups: Record<string, Group>) {\n    Object\n      .values(groups)\n      .forEach(group => {\n        const oldId = group.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        groups[newId] = cloneDeep(group)\n\n        delete groups[oldId]\n      })\n\n    return groups\n  }\n\n  function mapGroupIds (connections: Record<string, Connection>, items: Record<string, Item>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connection.groupId = connection.groupId !== null\n          ? idMap[connection.groupId]\n          : null\n      })\n\n    Object\n      .values(items)\n      .forEach(item => {\n        item.groupId = item.groupId !== null\n          ? idMap[item.groupId]\n          : null\n      })\n\n    return { connections, items }\n  }\n\n  function mapConnections (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        const oldId = connection.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        connections[newId] = cloneDeep<Connection>(connection)\n        connections[newId].id = newId\n        connections[newId].source = idMap[connections[newId].source]\n        connections[newId].target = idMap[connections[newId].target]\n\n        delete connections[oldId]\n      })\n\n      return connections\n  }\n\n  function mapConnectionChainIds (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connections[connection.id].connectionChainId = idMap[connections[connection.id].connectionChainId]\n      })\n\n    return connections\n  }\n\n  function mapItems (items: Record<string, Item>) {\n    Object\n      .values(items)\n      .forEach(item => {\n        const oldId = item.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        items[newId] = cloneDeep<Item>(item)\n\n        if (item.integratedCircuit) {\n          items[newId].integratedCircuit = {\n            serializedState: item.integratedCircuit.serializedState,\n            ...mapStandardCircuitIds(cloneDeep(item.integratedCircuit), idMap)\n          }\n        } else {\n          items[newId].id = newId\n        }\n\n        items[newId].portIds = item.portIds.map(oldId => idMap[oldId])\n\n        delete items[oldId]\n      })\n\n      return items\n  }\n\n  function mapItemIds (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        ports[port.id].elementId = idMap[port.elementId]\n      })\n\n    return ports\n  }\n\n  function mapPorts (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        const oldId = port.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        ports[newId] = cloneDeep<Port>(port)\n        ports[newId].id = newId\n\n        delete ports[oldId]\n      })\n\n    return ports\n  }\n\n  ports = mapPorts(ports)\n  items = mapItems(items)\n  ports = mapItemIds(ports)\n  connections = mapConnections(connections)\n  connections = mapConnectionChainIds(connections)\n  groups = mapGroups(groups)\n\n  return {\n    ...mapGroupIds(connections, items),\n    ports,\n    groups\n  }\n}\n\nfunction mapIntegratedCircuitIds (item: Item) {\n  if (!item.integratedCircuit) return item\n\n  const { items } = mapStandardCircuitIds({\n    items: {\n      [item.id]: item\n    },\n    connections: {},\n    ports: {},\n    groups: {}\n  })\n\n  return Object.values(items)[0]\n}\n\nexport default {\n  mapStandardCircuitIds,\n  mapIntegratedCircuitIds\n}\n","export default function fromDocumentToEditorCoordinates (canvas: BoundingBox, viewport: DOMRect, point: Point, z: number) {\n  return {\n    x: (point.x - viewport.x - canvas.left) / z,\n    y: (point.y - viewport.y - canvas.top) / z\n  }\n}\n","import Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function portFactory (elementId: string, id: string, orientation: Direction, type: PortType, name: string): Port {\n  return {\n    id,\n    orientation,\n    name,\n    position: {\n      x: 0,\n      y: 0\n    },\n    type,\n    rotation: 0,\n    elementId,\n    value: 0,\n    hue: 0,\n    isMonitored: false,\n    isFreeport: false,\n    connectedPortIds: []\n  }\n}\n","import { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport { CircuitNode, LogicValue } from '@/circuit'\n\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\nimport SimulationService from '@/services/SimulationService'\nimport boundaries from '@/utils/geometry/boundaries'\nimport rotation from '@/utils/geometry/rotation'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport sortByZIndex from '@/utils/sortByZIndex'\nimport DocumentState from './DocumentState'\nimport integratedCircuitFactory from '@/factories/integratedCircuitFactory'\nimport idMapper from '@/utils/idMapper'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\nimport SnapMode from '@/types/enums/SnapMode'\nimport itemFactory from '@/factories/itemFactory'\nimport portFactory from '@/factories/portFactory'\n\nfunction generateItemName (item: Item, taxonomyCount: number) {\n  const name: string[] = [item.type]\n\n  if (item.subtype !== ItemSubtype.None) {\n    name.push(item.subtype)\n  }\n\n  name.push(taxonomyCount.toString())\n\n  return name.join(' ')\n}\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\nexport const createDocumentStore = (id: string) => defineStore({\n  id,\n  state: (): DocumentState => ({\n    undoStack: [],\n    redoStack: [],\n    simulation: new SimulationService([], [], {}),\n    oscillogram: {},\n    taxonomyCounts: {},\n    zoomLevel: 1,\n    zIndex: 1,\n    oscilloscopeHeight: 200,\n    isOscilloscopeOpen: true,\n    isCircuitEvaluated: false,\n    isDebugging: false,\n    isDirty: false,\n    hasLoaded: false,\n    isPrinting: false,\n    isCreatingImage: false,\n    isToolboxOpen: false,\n\n    /* canvas dimensions */\n    viewport: new DOMRect(),\n    canvas: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0\n    },\n\n    /* the following variables are 'temporary' information */\n    snapBoundaries: [],\n    connectablePortIds: [],\n    selectedConnectionIds: [],\n    selectedItemIds: [],\n    selectedPortIndex: -1,\n    cachedState: null,\n    activeFreeportId: null,\n    activePortId: null,\n    connectionPreviewId: null,\n\n    /* serializable state items */\n    items: {},\n    connections: {},\n    ports: {},\n    groups: {}\n  }),\n\n  getters: {\n    baseItems (state) {\n      return (Object\n        .values(state.connections) as BaseItem[])\n        .concat(Object.values(state.items) as BaseItem[])\n        .sort(sortByZIndex)\n    },\n\n    zoom (state) {\n      return state.zoomLevel\n    },\n\n    hasSelection (state) {\n      return state.selectedItemIds.length > 0 || state.selectedConnectionIds.length > 0\n    },\n\n    hasSelectedItems (state) {\n      return state.selectedItemIds.length > 0\n    },\n\n    selectedGroupIds (state) {\n      const selectedGroupIds = new Set<string | null>()\n\n      state\n        .selectedItemIds\n        .forEach(id => selectedGroupIds.add(state.items[id]?.groupId))\n\n      return Array.from(selectedGroupIds)\n    },\n\n    canGroup () {\n      // return this.selectedGroupIds.length > 1 || this.selectedGroupIds[0] === null // TODO: fails TS check\n      return this.selectedGroupIds.length > 1\n    },\n\n    canUngroup () {\n      // return !!this.selectedGroupIds.find(id => !!id)\n      return true // TODO\n    },\n\n    canUndo (state) {\n      return state.undoStack.length > 0\n    },\n\n    canRedo (state) {\n      return state.redoStack.length > 0\n    }\n  },\n\n  actions: {\n\n    loadDocument (document: string) {\n      this.buildCircuit()\n      this.applyState(document)\n      this.reset()\n    },\n\n    /**\n     * Increments the current zoom by one scale step (in the positive or negative direction).\n     *\n     * @param [direction = 1] - directional scalar (1 or -1)\n     */\n    incrementZoom (direction = 1) {\n      this.setZoom({\n        zoom: this.zoomLevel + (SCALE_STEP * direction)\n      })\n    },\n\n    /**\n     * Sets the zoom level for the document.\n     * This will zoom on the focal point (if provided) or the center of the visible area (viewport).\n     *\n     * @param zoom - percentage of zoom by decimal (e.g., 1.0 = 100%)\n     * @param [point] - focal point to zoom on\n     */\n    setZoom ({ zoom, point }: { zoom: number, point?: Point }) {\n      if (zoom < MIN_SCALE) zoom = MIN_SCALE\n      if (zoom > MAX_SCALE) zoom = MAX_SCALE\n\n      zoom = Math.round(zoom * 100) / 100\n\n      if (!point) {\n        point = boundaries.getBoundingBoxMidpoint(this.viewport)\n        point.x += this.viewport.left\n        point.y += this.viewport.top\n      }\n\n      const zoomedPoint = fromDocumentToEditorCoordinates(this.canvas, this.viewport, point, this.zoomLevel)\n      const scaledPoint = { // the canvas coordinate, scaled by the new zoom factor\n        x: zoomedPoint.x * zoom,\n        y: zoomedPoint.y * zoom\n      }\n      const viewportPoint = { // the point w.r.t. the top left offset of the viewport\n        x: point.x - this.viewport.x,\n        y: point.y - this.viewport.y\n      }\n\n      this.panTo({\n        x: Math.round(Math.min(viewportPoint.x - scaledPoint.x, 0)),\n        y: Math.round(Math.min(viewportPoint.y - scaledPoint.y, 0))\n      })\n\n      this.zoomLevel = zoom\n    },\n\n    /**\n     * Assigns the rects of the canvas and viewport according to the screen size and rect provided.\n     *\n     * @param rect - the bounding box DOM rect of the viewport (user-visible canvas area element)\n     */\n    setViewerSize (rect: DOMRect) {\n      this.viewport = rect\n\n      this.canvas.right = screen.width / MIN_SCALE\n      this.canvas.bottom = screen.height / MIN_SCALE\n\n      if (!this.hasLoaded && rect.width > 0 && rect.height > 0) {\n        this.hasLoaded = true\n        this.centerAll()\n        this.panToCenter()\n      }\n    },\n\n    /**\n     * Pans to the given point.\n     */\n    panTo (pan: Point) {\n      const deltaX = pan.x - this.canvas.left\n      const deltaY = pan.y - this.canvas.top\n\n      this.canvas.left += deltaX\n      this.canvas.right += deltaX\n      this.canvas.top += deltaY\n      this.canvas.bottom += deltaY\n    },\n\n    /**\n     * Pans to the center of the available canvas, such that its center is visible in the center of the viewport.\n     */\n    panToCenter () {\n      const midpoint = boundaries.getBoundingBoxMidpoint(this.canvas)\n\n      this.panTo({\n        x: (this.viewport.width / 2) - midpoint.x,\n        y: (this.viewport.height / 2) - midpoint.y\n      })\n    },\n\n    /**\n     * Centers all items (together as a group) to the center of the canvas.\n     * All distances between items are maintained when this occurs.\n     */\n    centerAll () {\n      const boundingBoxes = Object\n        .values(this.items)\n        .map(({ boundingBox }) => boundingBox)\n      const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n      const { x, y } = boundaries.getCenteredScreenPoint(this.canvas, boundingBox, 20) // TODO: make 20 configurable as grid size\n\n      const deltaX = x - boundingBox.left\n      const deltaY = y - boundingBox.top\n\n      Object\n        .values(this.items)\n        .forEach(item => {\n          this.setItemPosition({\n            id: item.id,\n            position: {\n              x: item.position.x + deltaX,\n              y: item.position.y + deltaY\n            }\n          })\n        })\n    },\n\n    async saveIntegratedCircuit () {\n      // TODO: this action should live in the root state, not here\n      const originalIcItem = integratedCircuitFactory(this.$state as DocumentState)\n      const idMappedIcItem = idMapper.mapIntegratedCircuitIds(originalIcItem)\n\n      this.insertItem({ item: idMappedIcItem, ports: [] })\n      this.setItemBoundingBox(idMappedIcItem.id)\n      this.setItemPortPositions(idMappedIcItem.id)\n      this.setSelectionState({ id: idMappedIcItem.id, value: true })\n\n    },\n\n    buildCircuit () {\n      if (this.simulation.oscillator) {\n        this.simulation.oscillator.stop()\n      }\n\n      const simulation = new SimulationService(Object.values(this.items), Object.values(this.connections), this.ports)\n\n      simulation.on('change', (valueMap: Record<string, number>, oscillogram: Oscillogram) => {\n        for (const portId in valueMap) {\n          if (this.ports[portId]) {\n            this.ports[portId].value = valueMap[portId]\n          }\n        }\n\n        this.isCircuitEvaluated = !this.simulation.canContinue\n        this.oscillogram = oscillogram\n      })\n\n      this.simulation = simulation\n    },\n\n    recycleSelection (backToFirstItem: boolean) {\n      const id = backToFirstItem\n        ? this.baseItems[0]\n        : this.baseItems.slice(-1)[0]\n\n      if (id) {\n        this.deselectAll()\n        this.setSelectionState({ id: id.id, value: true })\n      }\n    },\n\n    insertItem ({ item, ports }: { item: Item, ports: Port[] }, documentPosition: Point | null = null) {\n      if (!documentPosition) {\n        documentPosition = boundaries.getBoundingBoxMidpoint(this.viewport)\n      }\n\n      this.commitState()\n      this.addNewItem({ item, ports })\n\n      const position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, documentPosition, this.zoomLevel)\n\n      this.setItemPosition({ id: item.id, position })\n      this.setSelectionState({ id: item.id, value: true })\n    },\n\n    /**\n     * Reverts to the most-recently committed document this.\n     */\n    undo () {\n      const undoState = this.undoStack.slice(-1).pop()\n\n      if (undoState) {\n        this.redoStack.push(JSON.stringify({\n          connections: this.connections,\n          items: this.items,\n          ports: this.ports,\n          groups: this.groups\n        }))\n        this.applyState(undoState)\n        this.undoStack.pop()\n        this.isDirty = true\n      }\n    },\n\n    /**\n     * Reverts to the most-recently-reverted this.\n     */\n    redo () {\n      const redoState = this.redoStack.slice(-1).pop()\n\n      if (redoState) {\n        this.undoStack.push(JSON.stringify({\n          connections: this.connections,\n          items: this.items,\n          ports: this.ports,\n          groups: this.groups\n        }))\n        this.applyState(redoState)\n        this.redoStack.pop()\n        this.isDirty = true\n      }\n    },\n\n    commitState () {\n      this.cacheState()\n      this.commitCachedState()\n    },\n\n    /**\n     * Deletes all selected items and connections.\n     */\n    deleteSelection () {\n      if (!this.hasSelection) return\n\n      this.commitState()\n\n      const nonFreeportItems = Object\n        .values(this.items)\n        .filter(({ isSelected, type }) => isSelected && type !== ItemType.Freeport)\n      const nonFreeportItemIds = nonFreeportItems.map(({ id }) => id)\n\n      // select the full chains of each connection attached to each selected item\n      Object\n        .values(this.connections)\n        .filter(c => {\n          const sourcePort = this.ports[c.source]\n          const targetPort = this.ports[c.target]\n\n          if (sourcePort && targetPort) {\n            return nonFreeportItemIds.includes(sourcePort.elementId) ||\n              nonFreeportItemIds.includes(targetPort.elementId)\n          }\n        })\n        .forEach(({ id }) => this.setSelectionState({ id, value: true }))\n\n      // remove all selected connections\n      Object\n        .values(this.connections)\n        .filter(({ isSelected }) => isSelected)\n        .forEach(connection => {\n          this.disconnect({\n            source: connection.source,\n            target: connection.target\n          })\n        })\n\n      // delete all selected non-freeport items\n      nonFreeportItems.forEach(i => this.removeElement(i.id))\n\n      // handle selected freeport deletions using removeFreeport\n      Object\n        .values(this.items)\n        .filter(({ isSelected, type }) => isSelected && type === ItemType.Freeport)\n        .forEach(f => this.removeFreeport(f.id))\n    },\n\n    /**\n     * Sets the computed boundaries that an actively-dragged item to snap to.\n     *\n     * @param id - ID of the item being dragged\n     */\n    setSnapBoundaries (id: string) {\n      const snapBoundaries = ((): BoundingBox[] => {\n        const item = this.items[id]\n\n        if (this.connectablePortIds.length) {\n          // if there are connectable port ids, then use those for boundaries\n          return this\n            .connectablePortIds\n            .map(id => boundaries.getPointBoundary(this.ports[id].position))\n        }\n\n        if (item && !item.groupId) {\n          // the item with the given id is an item that does not belong to a group\n          if (item.type === ItemType.Freeport) {\n            if (item.portIds.length > 1) {\n              // if only one port exists on the freeport, then it is a port being dragged by the user and does not apply\n              // freeports should snap to \"straighten out\" wires\n              return Object\n                .values(this.connections)\n                .reduce((boundingBoxes: BoundingBox[], connection: Connection) => {\n                  if (item.portIds.includes(connection.source)) {\n                    return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.target].position))\n                  }\n\n                  if (item.portIds.includes(connection.target)) {\n                    return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.source].position))\n                  }\n\n                  return boundingBoxes\n                }, [])\n            }\n          } else {\n            // this an item that can snap to align with the outer edge of any non-freeport item\n            return Object\n              .values(this.items)\n              .filter(e => e.id !== id && e.type !== ItemType.Freeport)\n              .map(e => e.boundingBox)\n          }\n        }\n        return []\n      })()\n\n      this.snapBoundaries = snapBoundaries\n    },\n\n    setItemSize ({ rect, id }: { rect: DOMRectReadOnly, id: string }) {\n      const item = this.items[id]\n\n      if (!item) return\n\n      // reposition w.r.t. the centroid\n      const centerX = item.position.x + (item.width / 2)\n      const centerY = item.position.y + (item.height / 2)\n      const newX = centerX - (rect.width / 2)\n      const newY = centerY - (rect.height / 2)\n\n      this.items[id].position = {\n        x: newX,\n        y: newY\n      }\n      this.items[id].width = rect.width\n      this.items[id].height = rect.height\n\n      this.setItemBoundingBox(id)\n      this.setItemPortPositions(id)\n\n      if (this.items[id].groupId) {\n        this.setGroupBoundingBox(this.items[id].groupId || '')\n      }\n    },\n\n    /**\n     * Sets the absolute positions for all ports that belong to the given item.\n     *\n     * @param id - ID of the item containing the ports\n     */\n    setItemPortPositions (id: string) {\n      const item = this.items[id]\n\n      if (!item) return\n\n      const portGroups = item\n        .portIds\n        .reduce((portGroups: Map<Direction, Port[]>, portId) => {\n          const port = this.ports[portId]\n\n          if (port) {\n            const index: Direction = rotation.rotate(port.orientation + item.rotation)\n\n            portGroups.get(index)?.push(port)\n          }\n\n          return portGroups\n        }, new Map<Direction, Port[]>([\n          [Direction.Left, []],\n          [Direction.Top, []],\n          [Direction.Right, []],\n          [Direction.Bottom, []]\n        ]))\n\n      const setPortGroupPositions = (ports: Port[] = []) => {\n        ports.forEach((port, index) => {\n          this.ports[port.id].position = rotation.getRotatedPortPosition(port, ports, item, index)\n        })\n      }\n\n      setPortGroupPositions(portGroups.get(Direction.Left))\n      setPortGroupPositions(portGroups.get(Direction.Top))\n      setPortGroupPositions(portGroups.get(Direction.Right))\n      setPortGroupPositions(portGroups.get(Direction.Bottom))\n    },\n\n    /**\n     * Sets the position of an item.\n     *\n     * @param payload\n     * @param payload.id - ID of the item\n     * @param payload.position - new position to move to\n     */\n    setItemPosition ({ id, position }: { id: string, position: Point }) {\n      const item = this.items[id]\n      const delta: Point = {\n        x: position.x - item.position.x,\n        y: position.y - item.position.y\n      }\n\n      this.items[id].position = position\n      this.setItemBoundingBox(id)\n\n      item\n        .portIds\n        .forEach(portId => {\n          const port = this.ports[portId]\n\n          this.ports[portId].position = {\n            x: port.position.x + delta.x,\n            y: port.position.y + delta.y\n          }\n        })\n    },\n\n    dragItem (id: string, position: Point, snapMode?: SnapMode) {\n      const { x, y } = fromDocumentToEditorCoordinates(this.canvas, this.viewport, position, this.zoom)\n      const { width, height, rotation } = this.items[id]\n      const boundingBox = boundaries.getBoundingBox({ x, y }, rotation, width, height)\n      const offset = boundaries.getSnapOffset(this.snapBoundaries, boundingBox, snapMode || SnapMode.Outer, 15) // TODO: configurable snap position and tolerance\n\n      this.setSelectionPosition({\n        id,\n        position: {\n          x: x + offset.x,\n          y: y + offset.y\n        }\n      })\n    },\n\n    /**\n     * Moves all selected items according to the delta provided.\n     *\n     * @param delta - delta to move the items by\n     */\n    moveSelectionPosition (delta: Point) {\n      const id: string | undefined = this.selectedItemIds[0]\n\n      if (id) {\n        const item = this.items[id]\n        const position: Point = {\n          x: item.position.x + delta.x,\n          y: item.position.y + delta.y\n        }\n\n        this.commitState()\n        this.setSelectionPosition({ id, position })\n      }\n    },\n\n    /**\n     * Moves all selected items according to the delta that the given item has moved by.\n     *\n     * @param payload\n     * @param payload.id - ID of the reference item moving\n     * @param payload.position - new position that the reference item has moved to\n     */\n    setSelectionPosition ({ id, position }: { id: string, position: Point }) {\n      const referenceItem = this.items[id]\n      const delta: Point = {\n        x: position.x - referenceItem.position.x,\n        y: position.y - referenceItem.position.y\n      }\n      const groupIds = new Set<string>()\n\n      this.setSelectionState({ id, value: true })\n\n      if (referenceItem.type === ItemType.Freeport) {\n        // if this item is a freeport, drag only this and nothing else\n        return this.setItemPosition({ id, position })\n      }\n\n      this\n        .selectedItemIds\n        .forEach((itemId: string) => {\n          const item = this.items[itemId]\n          const position: Point = {\n            x: item.position.x + delta.x,\n            y: item.position.y + delta.y\n          }\n\n          if (item.groupId) {\n            groupIds.add(item.groupId)\n          }\n\n          this.setItemPosition({ id: itemId, position })\n        })\n\n      groupIds.forEach(this.setGroupBoundingBox)\n    },\n\n    /**\n     * Sets the bounding box of an item.\n     *\n     * @param id - ID of the item\n     */\n    setItemBoundingBox (id: string) {\n      if (!this.items[id]) return\n\n      const {\n        position,\n        rotation,\n        width,\n        height\n      } = this.items[id]\n\n      this.items[id].boundingBox = boundaries.getBoundingBox(position, rotation, width, height)\n    },\n\n    /**\n     * Sets the bounding box of a group.\n     *\n     * @param id - ID of the group\n     */\n    setGroupBoundingBox (id: string) {\n      if (!this.groups[id]) return\n\n      const boundingBoxes = this\n        .groups[id]\n        .itemIds\n        .map(id => this.items[id].boundingBox)\n\n      this.groups[id].boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n    },\n\n    /**\n     * Groups together all selected items and connections.\n     * If any of those selected elements are a member of a group, that group will be destroyed.\n     */\n    group () {\n      this.commitState()\n\n      const id = uuid()\n      const items = Object\n        .values(this.items)\n        .filter(({ isSelected }) => isSelected)\n      const portIds = items.reduce((portIds, item) => {\n        return portIds.concat(item.portIds)\n      }, [] as string[])\n      const connections = Object\n        .values(this.connections)\n        .filter(c => {\n          // ensure both source and target ports are associated with items in the group\n          return portIds.includes(c.source) && portIds.includes(c.target) && c.isSelected\n        })\n\n      // if any of the items or connections are part of another group, ungroup those\n      items.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n      connections.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n\n      // update the zIndex of all items to be the highest one among the selected\n      const zIndex = [...items, ...connections].reduce((zIndex: number, item: BaseItem) => {\n        return Math.max(item.zIndex, zIndex)\n      }, 0)\n\n      this.setZIndex(zIndex)\n\n      const group = {\n        id,\n        itemIds: items.map(({ id }) => id),\n        connectionIds: connections.map(({ id }) => id),\n        isSelected: true,\n        boundingBox: {\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        },\n        position: {\n          x: 0, y: 0\n        },\n        zIndex\n      }\n\n      this.groups[id] = group\n\n      // set the groupId of all items in the group\n      group.itemIds.forEach(id => {\n        this.items[id].groupId = group.id\n      })\n\n      // set the groupId of all connections in the group\n      group.connectionIds.forEach(id => {\n        this.connections[id].groupId = group.id\n      })\n\n      this.setGroupBoundingBox(id)\n    },\n\n    /**\n     * Destroys all selected groups.\n     */\n    ungroup () {\n      this.commitState()\n\n      for (const id in this.groups) {\n        if (this.groups[id].isSelected) {\n          this.destroyGroup(id)\n        }\n      }\n    },\n\n    /**\n     * Deselects all elements.\n     *\n     */\n    deselectAll () {\n      this.clearStatelessInfo()\n\n      for (let id in this.connections) {\n        this.connections[id].isSelected = false\n        this.selectedConnectionIds = []\n      }\n\n      for (let id in this.items) {\n        this.items[id].isSelected = false\n        this.selectedItemIds.push(id)\n        this.selectedItemIds = []\n      }\n    },\n\n    /**\n     * Selects all items and connections.\n     *\n     */\n    selectAll () {\n      this.clearStatelessInfo()\n\n      for (let id in this.connections) {\n        this.connections[id].isSelected = true\n        this.selectedConnectionIds.push(id)\n      }\n\n      for (let id in this.items) {\n        this.items[id].isSelected = true\n        this.selectedItemIds.push(id)\n      }\n    },\n\n    clearStatelessInfo () {\n      this.unsetConnectionPreview()\n      this.connectablePortIds = []\n      this.selectedConnectionIds = []\n      this.selectedItemIds = []\n      this.selectedPortIndex = -1\n      this.cachedState = null\n      this.activePortId = null\n      this.connectionPreviewId = null\n    },\n\n    /**\n     * Selects all connections and items (and its connections) that live within the given boundary.\n     *\n     * @param selection - two-dimensional boundary\n     */\n    createSelection (selection: BoundingBox) {\n      if (!boundaries.isOneOrTwoDimensional(selection)) return // omit selection lines or points\n\n      try {\n        const itemIds = Object\n          .keys(this.items)\n          .filter(id => boundaries.hasIntersection(selection, this.items[id].boundingBox))\n        const connectionIds = Object\n          .keys(this.connections)\n          .filter(id => {\n            const connection = this.connections[id]\n            const source = this.ports[connection.source]\n            const target = this.ports[connection.target]\n\n            return boundaries.isLineIntersectingRectangle(source.position, target.position, selection)\n          })\n\n        itemIds\n          .concat(connectionIds)\n          .forEach(id => {\n            this.SET_SELECTION_STATE({ id, isSelected: true })\n          })\n\n        this.selectItemConnections(itemIds)\n      } catch (error) {\n        console.log('SELECTION ERROR: ', error, selection)\n        // TODO: this really shouldn't ever throw an error, investigate why it does...\n        // do nothing, ignore the error\n      }\n    },\n\n    /**\n     * Selects all connections that are connected to any of the items in the given list.\n     *\n     * @param itemIds - list of items to select their connections for\n     */\n    selectItemConnections (itemIds: string[]) {\n      const portIds = itemIds.reduce((portIds: string[], itemId: string) => {\n        return portIds.concat(this.items[itemId].portIds)\n      }, [])\n\n      for (let id in this.connections) {\n        const c = this.connections[id]\n\n        if (portIds.includes(c.source) && portIds.includes(c.target)) {\n          this.SET_SELECTION_STATE({ id, isSelected: true })\n        }\n      }\n    },\n\n    /**\n     * Inverts the selection this of the element having the given ID, or forces it to the value provided.\n     * If the element is a member of a group, every item in that group will be selected.\n     *\n     * @param payload.id - the ID of the element to toggle its selection\n     * @param payload.value - new selection this value to set to\n     */\n    setSelectionState ({ id, value }: { id: string, value: boolean }) {\n      const element = this.items[id] || this.connections[id]\n      const isSelected = value\n\n      if (!element || element.isSelected === isSelected) return\n\n      if (element.groupId) {\n        // if item is part of a group, select all items in that group\n        const { itemIds, connectionIds } = this.groups[element.groupId]\n\n        itemIds\n          .concat(connectionIds)\n          .forEach(id => {\n            this.SET_SELECTION_STATE({ id, isSelected })\n          })\n\n        this.SET_SELECTION_STATE({ id: element.groupId, isSelected })\n      } else {\n        // otherwise, just select this one item\n        this.SET_SELECTION_STATE({ id, isSelected })\n      }\n    },\n\n    deselectItem (id: string) {\n      this.setSelectionState({ id, value: true })\n    },\n\n    selectItem (id: string, keepSelection: boolean = false) {\n      if (!keepSelection) {\n        this.deselectAll()\n      }\n\n      this.setSelectionState({ id, value: true })\n    },\n\n    /**\n     * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n     * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n     *\n     * @param portId - the ID of the port previewing connections for\n     */\n    setConnectionPreview (portId: string | null) {\n      if (this.activePortId && portId) {\n        let source = this.activePortId\n        let target = portId\n\n        if (this.ports[this.activePortId].type === PortType.Input) {\n          source = portId\n          target = this.activePortId\n        }\n\n        const id = uuid()\n\n        this.unsetConnectionPreview()\n        this.connect({ source, target, id })\n        this.connectionPreviewId = id\n      }\n    },\n\n    /**\n     * Clears the active connection preview.\n     */\n    unsetConnectionPreview () {\n      if (this.connectionPreviewId) {\n        this.disconnect(this.connections[this.connectionPreviewId])\n      }\n      this.connectionPreviewId = null\n    },\n\n    /**\n     * Commits the previewed connection action as an undo-able state.\n     */\n    commitPreviewedConnection () {\n      if (this.connectionPreviewId) {\n        const { source, target } = this.connections[this.connectionPreviewId]\n\n        this.disconnect({ source, target })\n        this.commitState()\n        this.connect({ source, target })\n        this.connectionPreviewId = null\n      }\n    },\n\n    /**\n     * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n     * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n     *\n     * @param portId - the ID of the port previewing connections for\n     */\n    cycleConnectionPreviews (portId: string) {\n      if (portId && portId !== this.activePortId) {\n        this.setActivePortId(portId)\n      }\n\n      let index = this.selectedPortIndex + 1\n\n      if (index <= 0) index = 0\n      if (index >= this.connectablePortIds.length) index = -1\n\n      const previewPortId = this.connectablePortIds[index]\n\n      if (previewPortId && !this.ports[portId]?.connectedPortIds.includes(previewPortId)) {\n        this.setConnectionPreview(previewPortId)\n      } else {\n        if (this.connectablePortIds.length === 0) {\n          window.api.beep() // audibly inform the user they can't connect to anything\n        }\n        this.unsetConnectionPreview()\n      }\n      this.selectedPortIndex = index\n    },\n\n    /**\n     * Sets the ID of the active (i.e., 'previewed'/'enlarged') port.\n     *\n     * @param portId - ID of the port to activate, or null to remove it\n     */\n    setActivePortId (portId: string | null) {\n      if (this.activePortId !== portId) {\n        if (portId) {\n          this.setConnectablePortIds({ portId })\n        } else {\n          this.connectablePortIds = []\n        }\n\n        this.activePortId = portId\n        this.selectedPortIndex = -1\n      }\n    },\n\n    /**\n     * Rotates all selected elements by 90 degrees.\n     *\n     * @param direction - direction of rotation (1 = CW, -1 = CCW)\n     */\n    rotate (direction: number) {\n      this.commitState()\n\n      const selectedItems = Object\n        .values(this.items)\n        .filter(({ isSelected }) => isSelected)\n      const boundingBoxes = selectedItems.map(({ boundingBox }) => boundingBox)\n      const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n      const groupIds = new Set<string>()\n\n      selectedItems.forEach(item => {\n        const newRotation = rotation.rotate(item.rotation + direction)\n\n        if (item.groupId) {\n          groupIds.add(item.groupId)\n        }\n\n        this.items[item.id].rotation = newRotation\n        this\n          .items[item.id]\n          .portIds\n          .forEach(portId => {\n            this.ports[portId].rotation = newRotation\n          })\n\n        this.setItemPosition({\n          id: item.id,\n          position: rotation.getGroupedItemRotatedPosition(boundingBox, item, direction)\n        })\n        this.setItemPortPositions(item.id)\n      })\n\n      groupIds.forEach(groupId => {\n        this.setGroupBoundingBox(groupId)\n      })\n    },\n\n    /**\n     * Sets the value of the port in the circuit.\n     *\n     * @param payload.id - ID of the port\n     * @param payload.value - new port value\n     */\n    setPortValue ({ id, value }: { id: string, value: number }) {\n      this\n        .simulation\n        .setPortValue(id, value)\n    },\n\n    /**\n     * Removes a Freeport from the document.\n     * This can remove either a dragged freeport or a connector between two wire segments.\n     *\n     * @param id - ID of the freeport item\n     */\n    removeFreeport (id: string) {\n      const item = this.items[id]\n\n      let originalSourceId = ''\n      let originalTargetId = ''\n\n      // find the true source and target port ids\n      Object\n        .values(this.connections)\n        .forEach(c => {\n          if (c.target === item.portIds[0]) originalSourceId = c.source\n          if (c.source === item.portIds[1]) originalTargetId = c.target\n        })\n\n      if (originalSourceId) this.disconnect({ source: originalSourceId, target: item.portIds[0] })\n      if (originalTargetId) this.disconnect({ source: item.portIds[1], target: originalTargetId })\n      if (originalSourceId && originalTargetId) {\n        // reconnect the true source and target\n        this.connect({ source: originalSourceId, target: originalTargetId })\n      }\n\n      // finally, remove the element\n      this.removeElement(id)\n    },\n\n    /**\n     * Creates a new freeport item with the given set of IDs in the payload.\n     * This can either be a dragged port (to connect a port) or a joint between two connection segments.\n     *\n     * For a joint, include all required params, including the IDs of the destination ports and the freeport ports.\n     * For a dragged port, include the source IDs (if dragged from an output) or the target IDs (if dragged from an input).\n     *\n     * @param data - IDs for apply the new freeport\n     */\n    createFreeport (data: Freeport, establishCircuitConnection: boolean = true) {\n      if (this.items[data.itemId]) return\n\n      if (data.sourceId && data.targetId) {\n        this.commitState()\n      }\n\n      this.deselectAll()\n      this.addFreeportItem(data)\n      this.setItemBoundingBox(data.itemId)\n      this.activeFreeportId = data.itemId\n\n      if (data.sourceId && data.targetId) {\n        // don't destroy the connection yet, as its component may still be in action (i.e., handling dragging)\n        // it will be the responsibility of the connection component to destroy itself\n        this\n          .simulation\n          .removeConnection(data.sourceId, data.targetId)\n      }\n\n      if (data.sourceId) {\n        this.connect({\n          source: data.sourceId,\n          target: data.inputPortId,\n          connectionChainId: data.connectionChainId\n        }, establishCircuitConnection)\n      }\n\n      if (data.targetId) {\n        this.connect({\n          source: data.outputPortId,\n          target: data.targetId,\n          connectionChainId: data.connectionChainId\n        }, establishCircuitConnection)\n      }\n\n      if (data.sourceId && data.targetId) {\n        // bring forward the freeport item so that it is between the two new connections\n        this.deselectAll()\n        this.setSelectionState({\n          id: data.itemId,\n          value: true\n        })\n        this.incrementZIndex(1)\n      }\n    },\n\n    /**\n     * Establishes a connection after a user drags a port to connect it to an item.\n     * This will disconnect the temporary wire and port being dragged, and establish a new connection between the two items.\n     *\n     * @param payload\n     * @param payload.sourceId - the ID of the source port (if being dragged from one)\n     * @param payload.targetId - the ID of the target port (if being dragged from one)\n     * @param payload.portId - the ID of the temporary freeport being dragged\n     */\n    connectFreeport ({ sourceId, targetId, portId }: { sourceId?: string, targetId?: string, portId: string }) {\n      const port = this.ports[portId]\n      const newPort = Object\n        .values(this.ports)\n        .find((p: Port) => {\n          // TODO: make '10' a user-configurable number\n          return p.id !== portId && this.connectablePortIds.includes(p.id) && boundaries.isInNeighborhood(p.position, port.position, 10)\n        })\n\n      if (newPort) {\n        if (sourceId) {\n          this.disconnect({\n            source: sourceId,\n            target: portId\n          })\n          this.connect({\n            source: sourceId,\n            target: newPort.id\n          })\n        } else if (targetId) {\n          this.disconnect({\n            source: portId,\n            target: targetId\n          })\n          this.connect({\n            source: newPort.id,\n            target: targetId\n          })\n        }\n      } else {\n        // no port can be connected, so disconnect the temporary dragged wire\n        this.disconnect({\n          source: sourceId || portId,\n          target: targetId || portId\n        })\n      }\n\n      const item = Object\n        .values(this.items)\n        .find(({ portIds }) => portIds.includes(portId))\n\n      if (item) {\n        this.removeElement(item.id)\n      }\n\n      this.clearStatelessInfo()\n    },\n\n    /**\n     * Sets the list of connectable port IDs.\n     * This should be invoked whenever a user starts dragging a port.\n     *\n     * @param portId - the ID of the port being dragged\n     */\n    setConnectablePortIds ({ portId, isDragging }: { portId: string, isDragging?: boolean }) {\n      const port = this.ports[portId]\n\n      if (port.isFreeport) return // freeports cannot connect to anything\n\n      // generate a list of all port IDs that have at least one connection to/from it\n      const connectedPortIds = Object\n        .values(this.connections)\n        .reduce((portIds: string[], connection: Connection) => {\n          return portIds.concat([connection.source, connection.target])\n        }, [])\n\n      if (isDragging) {\n        // if this port is being dragged, then the user intents to establish a new connection with it\n        // remove the last two ports (the two ports on opposite ends of the \"preview\" connection)\n        connectedPortIds.splice(-2)\n      }\n\n      const filter = port.type === PortType.Output\n        ? (p: Port) => p.type === PortType.Input && !p.isFreeport && !connectedPortIds.includes(p.id) && p.elementId !== port.elementId\n        : (p: Port) => p.type === PortType.Output && !p.isFreeport && !connectedPortIds.includes(port.id) && p.elementId !== port.elementId\n\n      this.connectablePortIds = Object\n        .values(this.ports)\n        .filter(filter)\n        .map(({ id }) => id)\n    },\n\n    stop () {\n      this.simulation.pause()\n    },\n\n    start () {\n      if (!this.isDebugging) {\n        this.simulation.unpause()\n      }\n    },\n\n    reset () {\n      this.buildCircuit()\n      this.simulation.isPaused = this.isDebugging\n      this.oscillogram = {}\n      this.simulation.oscillogram = {}\n\n      Object\n        .values(this.items)\n        .forEach(item => {\n          item.portIds.forEach(id => {\n            this.ports[id].value = LogicValue.UNKNOWN\n\n            if (item.properties?.startValue && this.ports[id].type === PortType.Output) {\n              this.setPortValue({\n                id,\n                value: item.properties?.startValue.value as number\n              })\n            }\n          })\n        })\n\n      this.simulation.unpause()\n    },\n\n    toggleDebugger () {\n      if (this.isDebugging) {\n        this.simulation.stopDebugging()\n      } else {\n        this.simulation.startDebugging()\n      }\n\n      this.isDebugging = !this.isDebugging\n    },\n\n    stepThroughCircuit () {\n      this.simulation.advance()\n      this.isCircuitEvaluated = !this.simulation.canContinue\n    },\n\n    toggleOscilloscope () {\n      if (this.isOscilloscopeOpen) {\n        this.closeOscilloscope()\n      } else {\n        this.openOscilloscope()\n      }\n    },\n\n    openOscilloscope () {\n      Object\n        .values(this.ports)\n        .forEach(port => {\n          if (port.isMonitored) {\n            this.simulation.monitorPort(port.id, port.value, port.hue)\n          }\n        })\n\n      this.isOscilloscopeOpen = true\n    },\n\n    closeOscilloscope (lastHeight?: number) {\n      if (!this.isOscilloscopeOpen) return\n\n      console.log('COLLAPSE TO: ', lastHeight)\n      Object\n        .keys(this.ports)\n        .forEach(this.simulation.unmonitorPort)\n\n      this.simulation.oscillator.clear()\n      this.isOscilloscopeOpen = false\n\n      if (lastHeight) {\n        this.oscilloscopeHeight = lastHeight\n      }\n    },\n\n    clearOscilloscope () {\n      this.simulation.oscillator.clear()\n    },\n\n    togglePortMonitoring (portId: string) {\n      if (this.ports[portId].isMonitored) {\n        this.unmonitorPort(portId)\n      } else {\n        this.monitorPort(portId)\n      }\n    },\n\n    monitorPort (portId: string) {\n      const port = this.ports[portId]\n\n      port.hue = port.hue ||  ~~(360 * Math.random())\n      port.isMonitored = true\n\n      this\n        .simulation\n        .monitorPort(portId, port.value, port.hue)\n\n      this.isOscilloscopeOpen = true\n    },\n\n    unmonitorPort (portId: string) {\n      const port = this.ports[portId]\n\n      port.isMonitored = false\n\n      this\n        .simulation\n        .unmonitorPort(portId)\n    },\n\n    /**\n     * Sets the number of input ports that a LogicGate should have.\n     * If the number is less than the current number of ports, take away the difference number of existing ports.\n     *\n     * @param payload\n     * @param payload.id - LogicGate ID\n     * @param payload.count - new number of input ports\n     */\n    setInputCount ({ id, count }: { id: string, count: number }) {\n      const item = this.items[id]\n      const oldCount = item.properties.inputCount.value as number\n\n      if (oldCount > count) {\n        // if the count has decreased, find the last remaining port IDs which will be removed\n        this.items[id].portIds\n          .filter(portId => this.ports[portId].type === PortType.Input)\n          .slice(count)\n          .forEach(portId => this.removePort(portId))\n      } else {\n        for (let i = oldCount; i < count; i++) {\n          const portId = uuid()\n\n          // add the difference of ports one by one\n          this.addPort(id, {\n            id: portId,\n            name: '', // TODO\n            connectedPortIds: [],\n            type: PortType.Input,\n            elementId: id,\n            virtualElementId: id,\n            orientation: Direction.Left,\n            isFreeport: false,\n            isMonitored: false,\n            hue: 0,\n            position: {\n              x: 0,\n              y: 0\n            },\n            rotation: 0,\n            value: 0\n          })\n        }\n      }\n    },\n\n    /**\n     * Updates the properties values. If no properties have changed, then no changes will take effect.\n     * This will perform any actions necessary to occur when a property value changes.\n     *\n     * @param payload\n     * @param payload.id - item ID\n     * @param payload.properties - new version of the properties\n     */\n    setProperties ({ id, properties }: { id: string, properties: PropertySet }) {\n      const item = this.items[id]\n\n      for (const propertyName in properties) {\n        const property = properties[propertyName]\n\n        if (item.properties[propertyName].value === property.value) {\n          continue // do nothing if the property value has not changed\n        }\n\n        switch (propertyName) {\n          case 'inputCount':\n            this.setInputCount({ id, count: property.value as number })\n            break\n        }\n\n        this.items[id].properties[propertyName].value = property.value\n      }\n    },\n\n    /**\n     * Assigns values to the ports in the this according to the given map.\n     *\n     * @param valueMap - Port-ID-to-value mapping\n     */\n    setPortValues (valueMap: Record<string, number>) {\n      for (const portId in valueMap) {\n        if (this.ports[portId]) {\n          this.ports[portId].value = valueMap[portId]\n        }\n      }\n    },\n\n    /**\n     * Stringifies and caches the current document this.\n     * This will save all connections, items, ports, and groups.\n     *\n     */\n    cacheState (this) {\n      this.cachedState = JSON.stringify({\n        connections: this.connections,\n        items: this.items,\n        ports: this.ports,\n        groups: this.groups\n      })\n    },\n\n    /**\n     * Commits the actively-cached this to the undo stack.\n     * This will clear the redo stack.\n     *\n     */\n    commitCachedState () {\n      if (this.cachedState) {\n        this.undoStack.push(this.cachedState.toString())\n        this.cachedState = null\n        this.redoStack = []\n        this.isDirty = true\n      }\n    },\n\n    /**\n     * Applies the given serialized this to the active document.\n     *\n     * This this must contain exactly these maps: `items`, `connections`, `ports`, `groups`.\n     * Any other properties will not be applied.\n     *\n     * @param savedState - JSON-serialized this string\n     */\n    applyState (savedState: string) {\n      const parsedState = JSON.parse(savedState) as DocumentState\n      const { items, connections, ports, groups } = parsedState\n\n      /* returns everything in a that is not in b */\n      function getExcludedMembers (a: Record<string, BaseItem>, b: Record<string, BaseItem>) {\n        const aIds = Object.keys(a)\n        const bIds = Object.keys(b)\n\n        return aIds.filter(id => !bIds.includes(id))\n      }\n\n      // find all items and connections in current this that are not in the applied this and remove them from the circuit\n      const removedItems = getExcludedMembers(this.items, items)\n      const removedConnections = getExcludedMembers(this.connections, connections)\n\n      // add any new items from the the applied this to the circuit\n      const addedItems = getExcludedMembers(items, this.items)\n      const addedConnections = getExcludedMembers(connections, this.connections)\n\n      removedConnections.forEach(id => this.disconnect(this.connections[id]))\n      removedItems.forEach(id => this.removeElement(id))\n\n      this.ports = ports\n      this.items = items\n      this.groups = groups\n\n      addedItems.forEach(id => {\n        this.addNewItem({\n          item: items[id],\n          ports: Object.values(ports)\n        })\n      })\n\n      addedConnections.forEach(id => this.connect(connections[id]))\n\n      this.simulation.step()\n    },\n\n    addPort (itemId: string, port: Port) {\n      const node = Object\n        .values(this.simulation.nodes)\n        .find(({ name }) => this.items[itemId].portIds.includes(name))\n\n      this.ports[port.id] = port\n      this.items[itemId].portIds.push(port.id)\n\n      if (node) {\n        this.simulation.addPort(port.id, node as CircuitNode)\n      } else {\n        this.simulation.addNode(this.items[itemId], this.ports)\n      }\n    },\n\n    /**\n     * Removes a port from the state.\n     * This will destroy the entire connection chain that it is a part of (if any).\n     *\n     * @param portId - ID of the port to destroy\n     */\n    removePort (portId: string) {\n      // remove all connections associated with this port\n      Object\n        .values(this.connections)\n        .filter(({ source, target }) => source === portId || target === portId)\n        .forEach(c => {\n          // find all segments and freeports of this connection and remove them\n          const {\n            connectionIds,\n            freeportIds\n          } = getConnectionChain(Object.values(this.connections), this.ports, c.connectionChainId)\n\n          connectionIds.forEach(id => {\n            // delete all connections associated with the chain\n            const { source, target } = this.connections[id]\n\n            this\n              .simulation\n              .removeConnection(source, target)\n\n            delete this.connections[id]\n          })\n\n          freeportIds.forEach(id => {\n            // delete all freeports associated with the chain\n            this.items[id].portIds.forEach(portId => {\n              delete this.ports[portId]\n              this.simulation.removePort(portId)\n            })\n\n            delete this.items[id]\n          })\n        })\n\n      const port = this.ports[portId]\n\n      if (port) {\n        const item = this.items[port.elementId]\n\n        if (!item) return\n\n        // remove the reference to the port from the element\n        const portIndex = item.portIds.findIndex(i => i === portId)\n\n        if (portIndex !== -1) {\n          this.items[item.id].portIds.splice(portIndex, 1)\n        }\n\n        delete this.ports[portId]\n        this.simulation.removePort(portId)\n      }\n    },\n\n    /**\n     * Adds any non-IC component to the this.\n     *\n     * @param payload\n     * @param payload.item - new item to add\n     * @param payload.ports - list of ports associated to the item\n     */\n    addNewItem ({ item, ports }: { item: Item, ports: Port[] }) {\n      const ic = item.integratedCircuit\n\n      if (ic) {\n        // if the item is an integrated circuit, add its visible ports to the document\n        item\n          .portIds\n          .forEach(portId => {\n            if (ic.ports[portId]) {\n              this.ports[portId] = ic.ports[portId]\n              this.togglePortMonitoring(portId)\n            }\n          })\n      }\n\n      ports.forEach(port => {\n        this.ports[port.id] = port\n        this.togglePortMonitoring(port.id)\n      })\n\n      const taxonomy = `${item.type}_${item.subtype}`\n\n      if (!this.taxonomyCounts[taxonomy]) {\n        this.taxonomyCounts[taxonomy] = 0\n      }\n\n      item.name = generateItemName(item, ++this.taxonomyCounts[taxonomy])\n\n      this.items[item.id] = item\n      this.items[item.id].zIndex = ++this.zIndex\n\n      this\n        .simulation\n        .addNode(item, this.ports)\n\n      this.resetItemValue(item)\n\n      ports.forEach(port => {\n        if (port.isMonitored) {\n          this\n            .simulation\n            .monitorPort(port.id, port.value, port.hue)\n        }\n      })\n    },\n\n    resetItemValue (item: Item) {\n      const property = item.properties?.startValue\n\n      if (!property) return\n\n      const value = property.value as number\n\n      item.portIds.forEach(id => this.setPortValue({ id, value }))\n    },\n\n    /**\n     * Removes an element and all its associated ports and circuit nodes from the state.\n     *\n     * @param id - ID of the item to remove\n     */\n    removeElement (id: string) {\n      const item = this.items[id]\n\n      this\n        .simulation\n        .removeNode(item)\n\n      // remove all ports associated with the item\n      item.portIds.forEach(portId => this.removePort(portId))\n\n      // remove the item\n      delete this.items[id]\n    },\n\n    /**\n     * Sets the selection this of the given element to the value provided.\n     * If the item is a connection segment, then its entire connection chain will take on the same value.\n     *\n     * @param payload\n     * @param payload.id - ID of the item, group, or connection to select\n     * @param payload.isSelected - selection this to change to\n     */\n    SET_SELECTION_STATE ({ id, isSelected }: { id: string, isSelected: boolean }) {\n      /**\n       * Updates the selection list (selectedConnectionIds or selectedItemIds) according to the selection value.\n       *\n       * @private\n       */\n      const updateSelectionList = (id: string, key: 'selectedConnectionIds' | 'selectedItemIds') => {\n        const index = this[key].findIndex((i: string) => i === id)\n\n        if (isSelected && index === -1) {\n          this[key].push(id)\n        }\n\n        if (!isSelected && index !== -1) {\n          this[key].splice(index, 1)\n        }\n      }\n\n      if (this.items[id]) {\n        // select an individual item\n        this.items[id].isSelected = isSelected\n        updateSelectionList(id, 'selectedItemIds')\n      } else if (this.connections[id]) {\n        // select a connection (chain)\n        const { connectionChainId } = this.connections[id]\n        const {\n          connectionIds,\n          freeportIds\n        } = getConnectionChain(Object.values(this.connections), this.ports, connectionChainId)\n\n        // select all connection segments that are part of this connection chain\n        connectionIds.forEach(id => {\n          this.connections[id].isSelected = isSelected\n          updateSelectionList(id, 'selectedConnectionIds')\n        })\n\n        // select all freeports that are part of this connection chain\n        freeportIds.forEach(id => {\n          this.items[id].isSelected = isSelected\n          updateSelectionList(id, 'selectedItemIds')\n        })\n      }\n    },\n\n    sendBackward () {\n      this.commitState()\n      this.incrementZIndex(-1)\n    },\n\n    bringForward () {\n      this.commitState()\n      this.incrementZIndex(1)\n    },\n\n    sendToBack () {\n      this.commitState()\n      this.setZIndex(1)\n    },\n\n    bringToFront () {\n      this.commitState()\n      this.setZIndex(this.zIndex)\n    },\n\n    /**\n     * Increments the zIndex of all items selected.\n     * If an item's movement collides with another item's movement, or it becomes out of bounds, its zIndex will not change.\n     *\n     * @param direction - 1 to increment, -1 to decrement\n     */\n    incrementZIndex (direction: number) {\n      const items: BaseItem[] = Object.values(this.items)\n      const connections: BaseItem[] = Object.values(this.connections)\n      const baseItems = items\n        .concat(connections)\n        .sort(sortByZIndex)\n      const selectedItemIds = baseItems\n        .filter(({ isSelected }) => isSelected)\n        .map(({ id }) => id)\n\n      if (direction > 0) {\n        // if the direction is forward, then reverse the selected IDs\n        // this is because the next item that an item may want to swap with may also be swapping (and therefore frozen)\n        // reversing the order that we look at the items will prevent that from happening\n        selectedItemIds.reverse()\n      }\n\n      const frozenIds: string[] = []\n\n      selectedItemIds.forEach(id => {\n        const currentIndex = baseItems.findIndex(i => i.id === id)\n        const nextIndex = currentIndex + direction\n\n        if (nextIndex < 0 || nextIndex >= baseItems.length) {\n          // if the next zIndex pushes it out of bounds, freeze it\n          frozenIds.push(baseItems[currentIndex].id)\n          return\n        }\n\n        if (!frozenIds.includes(baseItems[nextIndex]?.id)) {\n          const item = baseItems[currentIndex]\n          // if the item to swap with is not frozen, then swap places with it\n          baseItems.splice(currentIndex, 1)\n          baseItems.splice(nextIndex, 0, item)\n        }\n      })\n\n      baseItems.forEach((item, index) => {\n        item.zIndex = index + 1\n      })\n\n      this.zIndex = Object.keys(baseItems).length\n    },\n\n    /**\n     * Moves all selected items to the given zIndex values.\n     * If those items aren't siblings already, they will be when this is invoked.\n     *\n     * @param zIndex - new zIndex to move items to\n     */\n    setZIndex (zIndex: number) {\n      const items: BaseItem[] = Object.values(this.items)\n      const connections: BaseItem[] = Object.values(this.connections)\n      let baseItems = items\n        .concat(connections)\n        .sort(sortByZIndex)\n      const selectedItems = baseItems.filter(({ isSelected }) => isSelected)\n\n      for (let i = 0; i < baseItems.length; i++) {\n        if (baseItems[i].isSelected) {\n          baseItems.splice(i, 1)\n          i--\n        }\n      }\n\n      baseItems.splice(zIndex - 1, 0, ...selectedItems)\n      baseItems.forEach((item, index) => {\n        item.zIndex = index + 1\n      })\n\n      this.zIndex = Object.keys(baseItems).length\n    },\n\n    /**\n     * Establishes a new connection between two ports.\n     *\n     * @param payload\n     * @param payload.source - source port ID\n     * @param payload.target - target port ID\n     * @param payload.connectionChainId - optional connection chain ID to add the connection segment to\n     */\n    connect ({ source, target, connectionChainId, id = uuid() }: {\n      source?: string,\n      target?: string,\n      connectionChainId?: string,\n      id?: string\n    }, establishCircuitConnection: boolean = true) {\n      if (source && target) {\n        this.connections[id] = {\n          id,\n          source,\n          target,\n          connectionChainId: connectionChainId || id,\n          groupId: null,\n          zIndex: ++this.zIndex,\n          isSelected: false\n        }\n\n        this.ports[source].connectedPortIds.push(target)\n        this.ports[target].connectedPortIds.push(source)\n\n        if (establishCircuitConnection) {\n          this\n            .simulation\n            .addConnection(source, target)\n        }\n      }\n    },\n\n    /**\n     * Disconnects two ports.\n     *\n     * @param payload\n     * @param payload.source - source port ID\n     * @param payload.target - target port ID\n     */\n    disconnect ({ source, target }: { source: string, target: string }) {\n      const connection = Object\n        .values(this.connections)\n        .find(c => c.source === source && c.target === target)\n\n      if (connection) {\n        this\n          .simulation\n          .removeConnection(source, target)\n\n        const sourceIndex = this.ports[source].connectedPortIds.findIndex(id => id === target)\n        const targetIndex = this.ports[target].connectedPortIds.findIndex(id => id === source)\n\n        this.ports[source].connectedPortIds.splice(sourceIndex, 1)\n        this.ports[target].connectedPortIds.splice(targetIndex, 1)\n\n        delete this.connections[connection.id]\n      }\n    },\n\n    /**\n     * Destroys the group having the given ID.\n     *\n     * @param groupId\n     */\n    destroyGroup (groupId: string) {\n      const group = this.groups[groupId]\n\n      // remove the groupId of all items in the group and select them\n      group.itemIds.forEach(id => {\n        this.items[id].groupId = null\n        this.selectedItemIds.push(id)\n      })\n\n      // remove the groupId of all connections in the group and select them\n      group.connectionIds.forEach(id => {\n        this.connections[id].groupId = null\n        this.selectedConnectionIds.push(id)\n      })\n\n      delete this.groups[groupId]\n    },\n\n    /**\n     * Adds a new freeport element. This can be used in either of two scenarios:\n     *\n     *  1. when a user is dragging a port to establish a connection to another port\n     *  2. when a user drags on a connection to create a new \"pivot point\" on the wire\n     *\n     * @param payload\n     * @param payload.itemId - desired ID for the new freeport\n     * @param payload.inputPortId - the ID of the input port (omit for a wire drag from an output port)\n     * @param payload.outputPortId - the ID of the output port (omit for a wire drag from an input port)\n     * @param payload.position - the initial position of this port\n     * @param payload.value - optional value of the port\n     */\n    addFreeportItem ({ itemId, inputPortId, outputPortId, value = 0 }: {\n      itemId: string\n      outputPortId?: string\n      inputPortId?: string\n      value?: number\n    }) {\n      const ports: Port[] = []\n\n      if (inputPortId) {\n        this.ports[inputPortId] = portFactory(itemId, inputPortId, Direction.Left, PortType.Input, inputPortId)\n        this.ports[inputPortId].value = value\n        ports.push(this.ports[inputPortId])\n      }\n\n      if (outputPortId) {\n        this.ports[outputPortId] = portFactory(itemId, outputPortId, Direction.Right, PortType.Output, outputPortId)\n        this.ports[outputPortId].value = value\n        ports.push(this.ports[outputPortId])\n      }\n\n      this.items[itemId] = itemFactory(itemId, ItemType.Freeport, ItemSubtype.None, 1, 1, ports)\n      this.items[itemId].zIndex = this.zIndex++\n\n      this\n        .simulation\n        .addNode(this.items[itemId], this.ports, true)\n    },\n\n    print () {\n      this.isPrinting = true\n    },\n\n    createImage () {\n      this.isCreatingImage = true\n    },\n\n    cut () {\n      this.copy()\n      this.deleteSelection()\n    },\n\n    copy () {\n      if (!this.hasSelection) return\n\n      const items: Record<string, Item> = {}\n      const ports: Record<string, Port> = {}\n\n      this.selectedItemIds.forEach(id => {\n        items[id] = this.items[id]\n        items[id].portIds.forEach(portId => {\n          ports[portId] = this.ports[portId]\n        })\n      })\n\n      const connections = Object\n        .values(this.connections)\n        .reduce((map, connection) => {\n          if (ports[connection.source] && ports[connection.target]) {\n            map[connection.id] = connection\n          }\n\n          return map\n        }, {} as Record<string, Connection>)\n\n      const groups = Object\n        .values(this.groups)\n        .filter(({ isSelected }) => isSelected)\n        .reduce((map, group) => ({ ...map, [group.id]: group }), {})\n\n      const clipboard = JSON.stringify({\n        items,\n        ports,\n        connections,\n        groups,\n        pasteCount: 1\n      })\n\n      window.api.copy(clipboard)\n    },\n\n    paste () {\n      try {\n        const state = window.api.paste()\n        const parsed = JSON.parse(state as string) as {\n          items: Record<string, Item>\n          connections: Record<string, Connection>\n          groups: Record<string, Group>\n          ports: Record<string, Port>,\n          pasteCount: number\n        }\n        const mapped = idMapper.mapStandardCircuitIds(parsed) as {\n          items: Record<string, Item>\n          connections: Record<string, Connection>\n          groups: Record<string, Group>\n          ports: Record<string, Port>,\n          pasteCount: number\n        }\n\n        this.commitState()\n        this.deselectAll()\n\n        Object\n          .keys(mapped.ports)\n          .forEach(portId => {\n            mapped.ports[portId].value = 0\n          })\n\n        Object\n          .values(mapped.items)\n          .forEach(item => {\n            item.position.x += 20 * parsed.pasteCount\n            item.position.y += 20 * parsed.pasteCount\n            item.isSelected = false\n\n            this.addNewItem({\n              item,\n              ports: item.portIds.map(portId => mapped.ports[portId])\n            })\n\n            this.setItemBoundingBox(item.id)\n            this.setItemPortPositions(item.id)\n            this.setSelectionState({ id: item.id, value: true })\n          })\n\n        Object\n          .values(mapped.connections)\n          .forEach(connection => this.connect(connection))\n\n        Object\n          .values(mapped.groups)\n          .forEach(group => {\n            this.groups[group.id] = group\n\n            this.setGroupBoundingBox(group.id)\n            this.setSelectionState({ id: group.id, value: true })\n          })\n\n        const clipboard = JSON.stringify({\n          ...JSON.parse(state),\n          pasteCount: parsed.pasteCount + 1\n        })\n\n        window.api.copy(clipboard)\n      } catch (error) {\n        console.log('ERROR: ', error)\n        // TODO: clear clipboard?\n      }\n    },\n\n\n    toggleToolbox () {\n      this.isToolboxOpen = !this.isToolboxOpen\n    }\n  }\n})\n// TODO: when debugger is turned off, make sure all elements take on values defined in valueMap\n\n\nexport type DocumentStore = ReturnType<typeof createDocumentStore>\n","export default function getFileName (filePath: string) {\n  return filePath.split('\\\\').pop()?.split('/').pop() || ''\n}\n","// @ts-check\nimport { defineStore, StoreDefinition } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport DocumentState from './DocumentState'\nimport basic from '../containers/fixtures/basic.json'\nimport flipFlop from '../containers/fixtures/flipflop.json'\nimport integratedCircuit from '../containers/fixtures/ic.json'\nimport testIc from '../containers/fixtures/test.json'\n\nimport { createDocumentStore, DocumentStore } from './document'\nimport FileService from '@/services/FileService'\nimport getFileName from '@/utils/getFileName'\n\nexport type RootStore = {\n  documents: {\n    [id: string]: {\n      fileName: string\n      filePath: string\n      displayName: string\n      store: DocumentStore\n    }\n  }\n  clipboard: string | null\n  activeDocumentId: string | null\n  canExit: boolean\n  isFullscreen: boolean\n}\n\nexport const useRootStore = defineStore({\n  id: 'root',\n  state: (): RootStore => ({\n    documents: {},\n    clipboard: null,\n    activeDocumentId: null,\n    canExit: false,\n    isFullscreen: false\n  }),\n  getters: {\n    hasOpenDocuments (state) {\n      return Object\n        .keys(state.documents)\n        .length > 0\n    },\n    activeDocument (state) {\n      if (state.activeDocumentId) {\n        return state.documents[state.activeDocumentId]\n      }\n\n      return null\n    }\n  },\n  actions: {\n    openIntegratedCircuit (item: Item) {\n      if (item.integratedCircuit) {\n        this.openDocument('', item.integratedCircuit.serializedState, item.id, item.name)\n      }\n    },\n    async saveImage (data: Blob) {\n      if (!this.activeDocument) return\n\n      try {\n        const partialName = this.activeDocument.displayName.replace(/\\.[^/.]+$/, \"\")\n        const fileName = `${partialName}.png`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'PNG Image',\n            extensions: ['.png']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.writeBlob(filePath, data)\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the image.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    newDocument () {\n      console.log('will create new doc')\n    },\n    async closeAll (): Promise<boolean> {\n      if (this.activeDocumentId) {\n        const closedSuccessfully = await this.closeDocument(this.activeDocumentId)\n\n        // wait for the next window frame to show the next active document\n        await new Promise(resolve => setTimeout(resolve))\n\n        if (closedSuccessfully) {\n          return this.closeAll()\n        }\n\n        return false // a document refused to close\n      }\n\n      return true // all documents successfully closed\n    },\n    printActiveDocument () {\n      if (this.activeDocument) {\n        this.activeDocument.store().isPrinting = true\n      }\n    },\n    async closeDocument (id: string): Promise<boolean> {\n      const document = this.documents[id]\n      const store = document.store()\n      let isSuccessful = true\n\n      this.activateDocument(id)\n\n      if (store.isDirty) {\n        const dialogResult = window.api.showMessageBox({\n          message: `Save changes to ${document.fileName}?`,\n          title: 'Confirm',\n          buttons: ['Yes', 'No', 'Cancel']\n        })\n\n        if (dialogResult === 0) {\n          // user selected 'Yes' (to save the active document)\n          isSuccessful = await this.saveActiveDocument()\n        }\n\n        if (dialogResult === 2) {\n          // user selected 'Cancel' to continue editing their document\n          return false\n        }\n      }\n\n      // TODO: call some sort of teardown/$dispose() function of document\n      delete this.documents[id]\n      this.activeDocumentId = null\n\n      const remainingId = Object.keys(this.documents).pop()\n\n      if (remainingId) {\n        this.activateDocument(remainingId)\n      }\n\n      return isSuccessful\n    },\n    async saveActiveDocument (setFileName: boolean = false): Promise<boolean> {\n      try {\n        if (!this.activeDocument) return true\n        if (!this.activeDocument.filePath || setFileName) {\n          // if no file name is defined yet, ask the user for the location to save it\n          const fileName = this.activeDocument.fileName || `${this.activeDocument.fileName}.alfx`\n          const filePath = window.api.showSaveFileDialog([\n            {\n              name: 'Aristotle Logic Circuit (*.alfx)',\n              extensions: ['alfx']\n            }\n          ], fileName)\n\n          if (!filePath) return true\n          if (filePath) {\n            const fileName = getFileName(filePath)\n\n            this.activeDocument.filePath = filePath\n            this.activeDocument.fileName = fileName\n            this.activeDocument.displayName = fileName\n          }\n        }\n\n        const store = this.activeDocument.store()\n\n        FileService.save(this.activeDocument.filePath, {\n          items: store.items,\n          connections: store.connections,\n          groups: store.groups,\n          ports: store.ports\n        })\n\n        store.isDirty = false\n\n        return true\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the file.',\n          title: 'Error',\n          type: 'error'\n        })\n\n        return false\n      }\n    },\n    async selectDocument () {\n      const files = window.api.showOpenFileDialog([\n        {\n          name: 'Aristotle Logic Circuit (*.alfx)',\n          extensions: ['alfx']\n        }\n      ])\n\n      for (let i = 0; i < files.length; i++) {\n        await this.openDocumentFromPath(files[i])\n      }\n    },\n    async openDocumentFromPath (filePath: string) {\n      try {\n        // TODO: need to create lock on file while open\n        const content = await FileService.open(filePath)\n\n        if (content) {\n          this.openDocument(filePath, content, uuid())\n        }\n      } catch (error) {\n        console.log('ERR', error)\n        window.api.showMessageBox({\n          message: `Could not open ${filePath}. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    openDocument (filePath: string, content: string, id: string, displayName: string = '') {\n      if (this.documents[id]) {\n        return this.activateDocument(id)\n      }\n\n      const store = createDocumentStore(id)\n      const document = store()\n      const fileName = getFileName(filePath)\n\n      document.loadDocument(content)\n\n      this.documents[id] = {\n        fileName,\n        filePath,\n        displayName: displayName || fileName,\n        store\n      }\n      this.activateDocument(id)\n    },\n    switchDocument (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => this.activeDocumentId === id)\n\n      let nextIndex = currentIndex + direction\n\n      if (documentIds.length === 0) return\n      if (currentIndex === -1 || nextIndex >= documentIds.length) nextIndex = 0\n      else if (nextIndex < 0) nextIndex = documentIds.length - 1\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n    pauseActivity () {\n      this.activeDocument?.store().stop()\n    },\n    resumeActivity () {\n      this.activeDocument?.store().start()\n    },\n    activateDocument (id: string) {\n      this.pauseActivity()\n      this.activeDocumentId = id\n      this.resumeActivity()\n    },\n    openTestDocuments () {\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify({\n      //   connections: {},\n      //   items: {},\n      //   ports: {},\n      //   groups: {}\n      // }))\n      // this.openDocument('test.alfx', JSON.stringify(testIc))\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify(integratedCircuit))\n      // this.pauseActivity()\n      this.openDocument('flip-flop.alfx', JSON.stringify(flipFlop), uuid(), 'flip-flop.alfx')\n    },\n\n    navigateDocumentList (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => id === this.activeDocumentId)\n      let nextIndex = currentIndex + direction\n\n      if (nextIndex < 0) nextIndex = documentIds.length - 1\n      if (nextIndex >= documentIds.length) nextIndex = 0\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n\n    toggleFullscreen () {\n      this.isFullscreen = !this.isFullscreen\n\n      window.api.setFullscreen(this.isFullscreen)\n    }\n  }\n})\n","import { render } from \"./Document.vue?vue&type=template&id=11393e5e&ts=true\"\nimport script from \"./Document.vue?vue&type=script&lang=ts\"\nexport * from \"./Document.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Icon.vue?vue&type=template&id=c2deb328&ts=true\"\nimport script from \"./Icon.vue?vue&type=script&lang=ts\"\nexport * from \"./Icon.vue?vue&type=script&lang=ts\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarButton.vue?vue&type=template&id=53565970&ts=true\"\nimport script from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarButton.vue?vue&type=style&index=0&id=53565970&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarSeparator.vue?vue&type=template&id=3396867d&ts=true\"\nimport script from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarSeparator.vue?vue&type=style&index=0&id=3396867d&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ScrollFade.vue?vue&type=template&id=56b2f318&ts=true\"\nimport script from \"./ScrollFade.vue?vue&type=script&lang=ts\"\nexport * from \"./ScrollFade.vue?vue&type=script&lang=ts\"\n\nimport \"./ScrollFade.vue?vue&type=style&index=0&id=56b2f318&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Toolbar.vue?vue&type=template&id=44d404bf&ts=true\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Toolbar.vue?vue&type=style&index=0&id=44d404bf&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxItem.vue?vue&type=template&id=aea5dc8c&ts=true\"\nimport script from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxItem.vue?vue&type=style&index=0&id=aea5dc8c&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxLayout.vue?vue&type=template&id=1d9cc0f9&ts=true\"\nimport script from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxLayout.vue?vue&type=style&index=0&id=1d9cc0f9&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nconst inputFactory: ItemFactory = (type: ItemSubtype, width: number, height: number, properties: PropertySet = {}) => {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Right, PortType.Output, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.InputNode, type, width, height, ports)\n\n  item.properties = {\n    ...properties,\n    startValue: {\n      label: 'Start value',\n      value: -1,\n      type: 'number',\n      options: {\n        'True': 1,\n        'Hi-Z': 0,\n        'False': -1\n      }\n    },\n  }\n\n  return { item, ports }\n}\n\nexport default inputFactory\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport inputFactory from './inputFactory'\n\nconst clockFactory: ItemFactory = () => inputFactory(ItemSubtype.Clock, 60, 60, {\n  interval: {\n    label: 'Interval',\n    value: 1000,\n    type: 'number',\n    min: 100\n  }\n})\n\nexport default clockFactory\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function lightbulbFactory () {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Left, PortType.Input, 'Input Port')\n  ]\n  const item = itemFactory(elementId, ItemType.OutputNode, ItemSubtype.Lightbulb, 40, 40, ports)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\n\nexport default function logicGateFactory (type: ItemSubtype, width: number, height: number) {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 1'),\n    portFactory(elementId, uuid(), 0, 1, 'Input Port 2'),\n    portFactory(elementId, uuid(), 2, 0, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.LogicGate, type, width, height, ports)\n\n  item.properties = {\n    inputCount: {\n      label: 'Input count',\n      value: 2,\n      type: 'number',\n      min: 2\n    },\n    showInOscilloscope: {\n      label: 'Show in oscilloscope',\n      value: false,\n      type: 'boolean'\n    }\n  }\n\n  return { item, ports }\n}\n","import clockFactory from './clockFactory'\nimport inputFactory from './inputFactory'\nimport lightbulbFactory from './lightbulbFactory'\nimport logicGateFactory from './logicGateFactory'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\ntype FactoryDictionary = {\n  [type: string]: {\n    [subtype: string]: ItemFactory\n  }\n}\n\nexport default {\n  [ItemType.InputNode]: {\n    [ItemSubtype.Switch]: inputFactory.bind(this, ItemSubtype.Switch, 60, 60),\n    [ItemSubtype.Clock]: clockFactory\n  },\n  [ItemType.OutputNode]: {\n    [ItemSubtype.Lightbulb]: lightbulbFactory\n  },\n  [ItemType.LogicGate]: {\n    [ItemSubtype.And]: logicGateFactory.bind(this, ItemSubtype.And, 140, 50),\n    [ItemSubtype.Nand]: logicGateFactory.bind(this, ItemSubtype.Nand, 140, 50),\n    [ItemSubtype.Xnor]: logicGateFactory.bind(this, ItemSubtype.Xnor, 140, 50),\n    [ItemSubtype.Nor]: logicGateFactory.bind(this, ItemSubtype.Nor, 140, 50),\n    [ItemSubtype.Or]: logicGateFactory.bind(this, ItemSubtype.Or, 140, 50)\n  }\n} as FactoryDictionary\n","import { render } from \"./Toolbox.vue?vue&type=template&id=0f01fdac&ts=true\"\nimport script from \"./Toolbox.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbox.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabItem.vue?vue&type=template&id=0cb1a552&ts=true\"\nimport script from \"./TabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TabItem.vue?vue&type=script&lang=ts\"\n\nimport \"./TabItem.vue?vue&type=style&index=0&id=0cb1a552&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabHost.vue?vue&type=template&id=df89a472&ts=true\"\nimport script from \"./TabHost.vue?vue&type=script&lang=ts\"\nexport * from \"./TabHost.vue?vue&type=script&lang=ts\"\n\nimport \"./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTimeline.vue?vue&type=template&id=fc2278b6&ts=true\"\nimport script from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTimeline.vue?vue&type=style&index=0&id=fc2278b6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTitleBar.vue?vue&type=template&id=5bfaeb92&ts=true\"\nimport script from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=5bfaeb92&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeViewer.vue?vue&type=template&id=e3956fc6&ts=true\"\nimport script from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeViewer.vue?vue&type=style&index=0&id=e3956fc6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Oscilloscope.vue?vue&type=template&id=e34aac26&ts=true\"\nimport script from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\nexport * from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarButton.vue?vue&type=template&id=3ddd451b&ts=true\"\nimport script from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarViewer.vue?vue&type=template&id=dc432b1a&ts=true\"\nimport script from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarViewer.vue?vue&type=style&index=0&id=dc432b1a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarZoom.vue?vue&type=template&id=2cb57bfb&ts=true\"\nimport script from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBar.vue?vue&type=template&id=cd242746&ts=true\"\nimport script from \"./StatusBar.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\n\nexport default function file (): MenuItemConstructorOptions[] {\n  const rootStore = useRootStore()\n  const hasDocument = rootStore.activeDocumentId !== null\n  const documentList = Object.keys(rootStore.documents)\n  const store = rootStore.activeDocument?.store()\n  const items: MenuItemConstructorOptions[] = [\n    {\n      label: '&New Circuit',\n      accelerator: 'CommandOrControl+N',\n      click: rootStore.newDocument\n    },\n    { type: 'separator' },\n    {\n      label: '&Open Circuit',\n      accelerator: 'CommandOrControl+O',\n      click: rootStore.selectDocument\n    },\n    {\n      label: 'Open &Integrated Circuit',\n      accelerator: 'CommandOrControl+Shift+O',\n      click: rootStore.selectDocument\n    },\n    { type: 'separator' },\n    {\n      label: 'Save',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+S',\n      click: () => rootStore.saveActiveDocument()\n    },\n    {\n      label: 'Save As...',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+S',\n      click: () => rootStore.saveActiveDocument(true)\n    },\n    {\n      label: 'Save All',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+A',\n      click: () => console.log('root store save all')\n    },\n    { type: 'separator' },\n    {\n      label: 'Print',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+P',\n      click: () => store?.print()\n    },\n    { type: 'separator' },\n    {\n      label: 'Export...',\n      enabled: hasDocument,\n      submenu: [\n        {\n          label: 'Integrated Circuit',\n          accelerator: 'CommandOrControl+Shift+E',\n          click: () => console.log('export IC')\n        },\n        {\n          label: 'PNG Image',\n          accelerator: 'CommandOrControl+Shift+I',\n          click: () => store?.createImage()\n        }\n      ]\n    },\n    { type: 'separator' },\n    {\n      label: 'Preferences',\n      submenu: [\n        {\n          label: 'Global Preferences',\n          accelerator: 'CommandOrControl+,',\n          click: () => console.log('global prefs')\n        },\n        {\n          label: 'Document Preferences',\n          accelerator: 'CommandOrControl+Shift+,',\n          click: () => console.log('doc prefs')\n        }\n      ]\n    }\n  ]\n\n  if (Object.keys(rootStore.documents).length > 1) {\n    const submenu: MenuItemConstructorOptions[] = [\n      {\n        label: 'Previous File',\n        accelerator: 'CmdOrCtrl+Shift+Tab',\n        click: () => rootStore.switchDocument(-1)\n      },\n      {\n        label: 'Next File',\n        accelerator: 'CmdOrCtrl+Tab',\n        click: () => rootStore.switchDocument(1)\n      },\n      { type: 'separator' }\n    ]\n\n    for (let i = 0; i < documentList.length; i++) {\n      submenu.push({\n        type: \"checkbox\",\n        label: rootStore.documents[documentList[i]].displayName,\n        checked: rootStore.activeDocumentId === documentList[i],\n        click: () => rootStore.activateDocument(documentList[i])\n      })\n    }\n\n    items.push({ type: 'separator' })\n    items.push({\n      label: 'Switch to...',\n      submenu\n    })\n  }\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Close Document',\n    accelerator: 'CmdOrCtrl+W',\n    enabled: hasDocument,\n    click: () => rootStore.closeDocument(rootStore.activeDocumentId as string)\n  })\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Exit',\n    accelerator: 'CmdOrCtrl+Q',\n    click: () => window.close()\n  })\n\n  return items\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\nimport grid from './grid'\n\nexport default function edit (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n  const zoomSubmenu: MenuItemConstructorOptions[] = []\n  let hasFixedZoom = false\n\n  for (let i = 1; i <= 8; i++) {\n    const zoom = (i * 25) / 100\n    const checked = store.zoomLevel === zoom\n\n    hasFixedZoom = hasFixedZoom || checked\n\n    zoomSubmenu.push({\n      type: 'checkbox',\n      checked,\n      label: `${zoom * 100}%`,\n      accelerator: zoom === 1 ? 'CommandOrControl+0' : undefined,\n      click: () => store.setZoom({ zoom })\n    })\n  }\n\n  if (!hasFixedZoom) {\n    zoomSubmenu.unshift({\n      type: 'checkbox',\n      checked: true,\n      label: 'Custom'\n    })\n  }\n\n  const menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Zoom In',\n      accelerator: 'CommandOrControl+=',\n      enabled: store.zoomLevel < 2, // TODO: const\n      click: () => store.incrementZoom(1)\n    },\n    {\n      label: '&Zoom Out',\n      accelerator: 'CommandOrControl+-',\n      enabled: store.zoomLevel > 0.1, // TODO: const\n      click: () => store.incrementZoom(-1)\n    },\n    {\n      label: '&Zoom...',\n      submenu: zoomSubmenu\n    },\n    { type: 'separator' },\n    {\n      label: '&Pan to Center',\n      accelerator: 'CommandOrControl+;',\n      click: store.panToCenter\n    },\n    { type: 'separator' }\n  ]\n\n  return menu.concat(grid(useDocumentStore))\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\nimport edit from './submenus/edit'\nimport file from './submenus/file'\nimport view from './submenus/view'\n\nexport default function createApplicationMenu () {\n  const store = useRootStore()\n  const menus: MenuItemConstructorOptions[] = [\n    {\n      label: 'File',\n      submenu: file()\n    }\n  ]\n\n  if (store.activeDocument) {\n    menus.push({\n      label: 'Edit',\n      submenu: edit(store.activeDocument.store)\n    })\n\n    menus.push({\n      label: 'View',\n      submenu: view(store.activeDocument.store).concat([\n        { type: 'separator' },\n        {\n          type: 'checkbox',\n          click: store.toggleFullscreen,\n          checked: store.isFullscreen,\n          accelerator: 'F11',\n          label: 'Fullscreen'\n        }\n      ])\n    })\n  }\n\n  return menus\n}\n","import { render } from \"./MainView.vue?vue&type=template&id=4f0058fe&ts=true\"\nimport script from \"./MainView.vue?vue&type=script&lang=ts\"\nexport * from \"./MainView.vue?vue&type=script&lang=ts\"\n\nimport \"./MainView.vue?vue&type=style&index=0&id=4f0058fe&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const isMobile = true\n\nexport default false\n","import { render } from \"./App.vue?vue&type=template&id=ff8e1ac0&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=ff8e1ac0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createPinia } from 'pinia'\nimport { createApp } from 'vue'\nimport App from '@/App.vue'\nimport '@/styles/main.scss'\n\nif (!window.api) {\n  // stub the ipc api for non-electron environments\n  // TODO: once the app is fully electron, move this to jest setup file\n  window.api = {\n    showContextMenu () {},\n    setApplicationMenu () {},\n    showOpenFileDialog () { return [] },\n    showSaveFileDialog () { return '' },\n    showMessageBox () { return 0 },\n    beep () {},\n    quit () {},\n    copy () {},\n    paste () { return '' },\n    onBeforeClose () {},\n    onOpenFile () {},\n    openFile () { return '' },\n    saveFile () {},\n    setFullscreen () {}\n  }\n}\n\ncreateApp(App)\n  .use(createPinia())\n  .mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolbarSeparator.vue?vue&type=style&index=0&id=3396867d&lang=scss\"","import JSZip from 'jszip'\n\nexport default class FileService {\n  static async open (filePath: string) {\n    const zip = new JSZip()\n\n    const compressedContent = window.api.openFile(filePath)\n    const { files } = await zip.loadAsync(compressedContent)\n    const data = await files.content.async('text')\n\n    return data\n  }\n\n  static async writeBlob (filePath: string, blob: Blob) {\n    const blobby = await blob.arrayBuffer()\n    const buf = Buffer.from(blobby)\n\n    window.api.saveFile(filePath, buf)\n  }\n\n  static async save (filePath: string, content: object) {\n    const zip = new JSZip()\n\n    zip.file('content', JSON.stringify(content))\n\n    const compressedContent = await zip.generateAsync({ type: 'blob' })\n\n    this.writeBlob(filePath, compressedContent)\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Selector.vue?vue&type=style&index=0&id=00c70482&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ToolboxItem.vue?vue&type=style&index=0&id=aea5dc8c&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OscilloscopeTimeline.vue?vue&type=style&index=0&id=fc2278b6&lang=scss\""],"sourceRoot":""}