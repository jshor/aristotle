{"version":3,"file":"js/index-legacy.70fe23eb.js","mappings":"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","sources":["webpack://aristotle/./node_modules/vue-loader/dist/templateLoader.js","webpack://aristotle/./node_modules/vue-loader/dist/index.js","webpack://aristotle/./src/components/builder/BuilderEditableLabel.vue","webpack://aristotle/./src/components/port/PortHandle.vue","webpack://aristotle/./src/components/port/PortWire.vue","webpack://aristotle/./src/components/builder/BuilderDropZone.vue","webpack://aristotle/./src/types/enums/PortType.ts","webpack://aristotle/./src/components/builder/Builder.vue","webpack://aristotle/./src/types/enums/ItemType.ts","webpack://aristotle/./src/types/enums/Direction.ts","webpack://aristotle/./src/types/enums/ItemSubtype.ts","webpack://aristotle/./src/factories/itemFactory.ts","webpack://aristotle/./src/factories/integratedCircuitFactory.ts","webpack://aristotle/./src/services/FileService.ts","webpack://aristotle/./src/utils/idMapper.ts","webpack://aristotle/./src/store/integratedCircuit.ts","webpack://aristotle/./src/components/Icon.vue","webpack://aristotle/./src/components/modal/Modal.vue","webpack://aristotle/./src/components/modal/ModalButton.vue","webpack://aristotle/./src/views/BuilderView.vue","webpack://aristotle/./src/types/enums/SnapMode.ts","webpack://aristotle/./src/store/document/geometry/boundaries.ts","webpack://aristotle/./src/components/interactive/Resizable.vue","webpack://aristotle/./src/components/interactive/Draggable.vue","webpack://aristotle/./src/components/Wire.vue","webpack://aristotle/./src/store/document/geometry/rotate.ts","webpack://aristotle/./src/store/document/geometry/wire.ts","webpack://aristotle/./src/menus/submenus/edit.ts","webpack://aristotle/./src/menus/submenus/grid.ts","webpack://aristotle/./src/menus/context/editor.ts","webpack://aristotle/./src/containers/Connection.vue","webpack://aristotle/./src/components/item/Freeport.vue","webpack://aristotle/./src/components/item/elements/InputNode.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/CustomCircuit/CustomCircuitPort.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/CustomCircuit/CustomCircuitPortZone.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/CustomCircuit/CustomCircuit.vue","webpack://aristotle/./src/components/item/elements/integratedCircuits/DigitDisplay.vue","webpack://aristotle/./src/components/item/elements/IntegratedCircuit.vue","webpack://aristotle/./src/components/item/elements/gates/And.vue","webpack://aristotle/./src/components/item/elements/gates/Or.vue","webpack://aristotle/./src/components/item/elements/gates/Nor.vue","webpack://aristotle/./src/components/item/elements/gates/Buffer.vue","webpack://aristotle/./src/components/item/elements/gates/Not.vue","webpack://aristotle/./src/components/item/elements/gates/Nand.vue","webpack://aristotle/./src/components/item/elements/gates/Xnor.vue","webpack://aristotle/./src/components/item/elements/gates/Xor.vue","webpack://aristotle/./src/components/item/elements/LogicGate.vue","webpack://aristotle/./src/components/item/elements/outputs/Lightbulb.vue","webpack://aristotle/./src/components/item/elements/OutputNode.vue","webpack://aristotle/./src/components/item/CircuitComponent.vue","webpack://aristotle/./src/components/item/Properties.vue","webpack://aristotle/./src/components/port/PortPivot.vue","webpack://aristotle/./src/containers/PortItem.vue","webpack://aristotle/./src/circuit/types/Connection.ts","webpack://aristotle/./src/circuit/types/LogicValue.ts","webpack://aristotle/./src/circuit/base/CircuitNode.ts","webpack://aristotle/./src/circuit/base/InputNode.ts","webpack://aristotle/./src/circuit/base/OutputNode.ts","webpack://aristotle/./src/circuit/base/Circuit.ts","webpack://aristotle/./src/circuit/gates/Nor.ts","webpack://aristotle/./src/circuit/gates/Or.ts","webpack://aristotle/./src/circuit/gates/Buffer.ts","webpack://aristotle/./src/services/BinaryWaveService.ts","webpack://aristotle/./src/services/ClockService.ts","webpack://aristotle/./src/services/OscillationService.ts","webpack://aristotle/./src/circuit/gates/And.ts","webpack://aristotle/./src/circuit/gates/Nand.ts","webpack://aristotle/./src/circuit/gates/Not.ts","webpack://aristotle/./src/utils/circuitNodeMapper.ts","webpack://aristotle/./src/services/SimulationService.ts","webpack://aristotle/./src/store/document/state.ts","webpack://aristotle/./src/store/document/actions/clipboard.ts","webpack://aristotle/./src/store/document/actions/connection.ts","webpack://aristotle/./src/store/document/actions/editor.ts","webpack://aristotle/./src/factories/portFactory.ts","webpack://aristotle/./src/store/preferences.ts","webpack://aristotle/./src/store/document/actions/freeport.ts","webpack://aristotle/./src/store/document/actions/grouping.ts","webpack://aristotle/./src/utils/fromDocumentToEditorCoordinates.ts","webpack://aristotle/./src/store/document/actions/item.ts","webpack://aristotle/./src/store/document/actions/panning.ts","webpack://aristotle/./src/utils/getConnectionChain.ts","webpack://aristotle/./src/store/document/actions/port.ts","webpack://aristotle/./src/store/document/actions/positioning.ts","webpack://aristotle/./src/store/document/geometry/rotation.ts","webpack://aristotle/./src/store/document/actions/rotation.ts","webpack://aristotle/./src/store/document/actions/selection.ts","webpack://aristotle/./src/store/document/actions/simulation.ts","webpack://aristotle/./src/store/document/actions/sizing.ts","webpack://aristotle/./src/store/document/actions/snapping.ts","webpack://aristotle/./src/store/document/actions/undoRedo.ts","webpack://aristotle/./src/utils/sortByZIndex.ts","webpack://aristotle/./src/store/document/actions/zIndex.ts","webpack://aristotle/./src/store/document/actions/zooming.ts","webpack://aristotle/./src/store/document/index.ts","webpack://aristotle/./src/utils/getFileName.ts","webpack://aristotle/./src/store/root.ts","webpack://aristotle/./src/containers/Item.vue","webpack://aristotle/./src/components/editor/Selector.vue","webpack://aristotle/./src/components/editor/Editor.vue","webpack://aristotle/./src/components/Group.vue","webpack://aristotle/./src/utils/printing.ts","webpack://aristotle/./src/containers/Document.vue","webpack://aristotle/./src/components/mobile/MobileButton.vue","webpack://aristotle/./src/components/mobile/MobileCollapsiblePanel.vue","webpack://aristotle/./src/components/properties/PropertySwitch.vue","webpack://aristotle/./src/utils/isMobile.ts","webpack://aristotle/./src/components/PropertyForm.vue","webpack://aristotle/./src/containers/MobilePreferences.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeTimeline.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeTitleBar.vue","webpack://aristotle/./src/components/oscilloscope/OscilloscopeViewer.vue","webpack://aristotle/./src/containers/Oscilloscope.vue","webpack://aristotle/./src/components/statusbar/StatusBarButton.vue","webpack://aristotle/./src/components/statusbar/StatusBarViewer.vue","webpack://aristotle/./src/components/statusbar/StatusBarZoom.vue","webpack://aristotle/./src/containers/StatusBar.vue","webpack://aristotle/./src/components/toolbar/ToolbarButton.vue","webpack://aristotle/./src/components/toolbar/ToolbarSeparator.vue","webpack://aristotle/./src/components/layout/ScrollFade.vue","webpack://aristotle/./src/containers/Toolbar.vue","webpack://aristotle/./src/components/toolbox/ToolboxItem.vue","webpack://aristotle/./src/components/toolbox/ToolboxLayout.vue","webpack://aristotle/./src/factories/inputFactory.ts","webpack://aristotle/./src/factories/clockFactory.ts","webpack://aristotle/./src/factories/digitDisplayFactory.ts","webpack://aristotle/./src/factories/lightbulbFactory.ts","webpack://aristotle/./src/factories/logicGateFactory.ts","webpack://aristotle/./src/factories/index.ts","webpack://aristotle/./src/containers/Toolbox.vue","webpack://aristotle/./src/components/layout/MainView.vue","webpack://aristotle/./src/components/mobile/MobilePopoutMenuItem.vue","webpack://aristotle/./src/components/mobile/MobileDocumentTabItem.vue","webpack://aristotle/./src/components/mobile/MobileHeader.vue","webpack://aristotle/./src/components/mobile/MobilePopoutMenu.vue","webpack://aristotle/./src/components/mobile/MobilePullout.vue","webpack://aristotle/./src/components/mobile/MobilePulloutHeading.vue","webpack://aristotle/./src/components/tab/TabItem.vue","webpack://aristotle/./src/components/tab/TabHost.vue","webpack://aristotle/./src/components/layout/Theme.vue","webpack://aristotle/./src/menus/submenus/file.ts","webpack://aristotle/./src/menus/submenus/view.ts","webpack://aristotle/./src/menus/index.ts","webpack://aristotle/./src/App.vue","webpack://aristotle/./src/main.ts","webpack://aristotle/webpack/bootstrap","webpack://aristotle/webpack/runtime/chunk loaded","webpack://aristotle/webpack/runtime/compat get default export","webpack://aristotle/webpack/runtime/define property getters","webpack://aristotle/webpack/runtime/global","webpack://aristotle/webpack/runtime/hasOwnProperty shorthand","webpack://aristotle/webpack/runtime/make namespace object","webpack://aristotle/webpack/runtime/node module decorator","webpack://aristotle/webpack/runtime/jsonp chunk loading","webpack://aristotle/webpack/startup"],"sourcesContent":["import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createSlots as _createSlots, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_mobile_header = _resolveComponent(\"mobile-header\")!\n  const _component_mobile_pullout_heading = _resolveComponent(\"mobile-pullout-heading\")!\n  const _component_mobile_preferences = _resolveComponent(\"mobile-preferences\")!\n  const _component_mobile_pullout = _resolveComponent(\"mobile-pullout\")!\n  const _component_mobile_document_tab_item = _resolveComponent(\"mobile-document-tab-item\")!\n  const _component_mobile_popout_menu = _resolveComponent(\"mobile-popout-menu\")!\n  const _component_toolbar = _resolveComponent(\"toolbar\")!\n  const _component_toolbox = _resolveComponent(\"toolbox\")!\n  const _component_tab_item = _resolveComponent(\"tab-item\")!\n  const _component_document = _resolveComponent(\"document\")!\n  const _component_tab_host = _resolveComponent(\"tab-host\")!\n  const _component_oscilloscope = _resolveComponent(\"oscilloscope\")!\n  const _component_status_bar = _resolveComponent(\"status-bar\")!\n  const _component_main_view = _resolveComponent(\"main-view\")!\n  const _component_builder_view = _resolveComponent(\"builder-view\")!\n  const _component_theme = _resolveComponent(\"theme\")!\n\n  return (_openBlock(), _createBlock(_component_theme, {\n    dark: _ctx.experience.darkMode.value\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"app__dropzone\", {\n        'app__dropzone--active': _ctx.isDropping\n      }])\n      }, null, 2),\n      (_ctx.activeDocumentId && _ctx.activeDocument)\n        ? (_openBlock(), _createBlock(_component_main_view, {\n            key: 0,\n            \"is-blurred\": _ctx.isDialogOpen,\n            onContextmenu: _ctx.onContextMenu\n          }, {\n            top: _withCtx(() => [\n              (_ctx.isMobile)\n                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                    _createVNode(_component_mobile_header, {\n                      onSelect: _cache[0] || (_cache[0] = ($event: any) => (_ctx.isDocumentSelectOpen = true)),\n                      onOpen: _cache[1] || (_cache[1] = ($event: any) => (_ctx.isSettingsOpen = true)),\n                      \"document-name\": _ctx.activeDocument.displayName,\n                      \"document-count\": 3\n                    }, null, 8, [\"document-name\"]),\n                    _createVNode(_component_mobile_pullout, {\n                      modelValue: _ctx.isSettingsOpen,\n                      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.isSettingsOpen) = $event))\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_mobile_pullout_heading, {\n                          onClose: _cache[2] || (_cache[2] = ($event: any) => (_ctx.isSettingsOpen = false))\n                        }),\n                        _createVNode(_component_mobile_preferences)\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"]),\n                    _createVNode(_component_mobile_popout_menu, {\n                      modelValue: _ctx.isDocumentSelectOpen,\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.isDocumentSelectOpen) = $event))\n                    }, {\n                      default: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.documents, (document, id) => {\n                          return (_openBlock(), _createBlock(_component_mobile_document_tab_item, {\n                            key: id,\n                            label: document.displayName,\n                            dirty: document.store().isDirty,\n                            active: _ctx.activeDocumentId === id,\n                            onActivate: ($event: any) => (_ctx.activateDocument(id)),\n                            onClose: ($event: any) => (_ctx.closeDocument(id))\n                          }, null, 8, [\"label\", \"dirty\", \"active\", \"onActivate\", \"onClose\"]))\n                        }), 128))\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ], 64))\n                : _createCommentVNode(\"\", true),\n              (_openBlock(), _createBlock(_component_toolbar, {\n                key: _ctx.activeDocumentId,\n                store: _ctx.activeDocument.store\n              }, null, 8, [\"store\"])),\n              _createVNode(_component_toolbox, {\n                \"is-open\": _ctx.isToolboxOpen,\n                store: _ctx.activeDocument.store\n              }, null, 8, [\"is-open\", \"store\"])\n            ]),\n            middle: _withCtx(() => [\n              _createVNode(_component_tab_host, null, _createSlots({\n                default: _withCtx(() => [\n                  (_openBlock(), _createBlock(_component_document, {\n                    key: _ctx.activeDocumentId,\n                    store: _ctx.activeDocument.store,\n                    onSwitch: _ctx.switchDocument,\n                    onOpenIntegratedCircuit: _ctx.openIntegratedCircuit\n                  }, null, 8, [\"store\", \"onSwitch\", \"onOpenIntegratedCircuit\"]))\n                ]),\n                _: 2\n              }, [\n                (!_ctx.isMobile)\n                  ? {\n                      name: \"tabs\",\n                      fn: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.documents, (document, id) => {\n                          return (_openBlock(), _createBlock(_component_tab_item, {\n                            key: id,\n                            label: document.displayName,\n                            active: _ctx.activeDocumentId === id,\n                            dirty: document.store().isDirty,\n                            onActivate: ($event: any) => (_ctx.activateDocument(id)),\n                            onClose: ($event: any) => (_ctx.closeDocument(id))\n                          }, null, 8, [\"label\", \"active\", \"dirty\", \"onActivate\", \"onClose\"]))\n                        }), 128))\n                      ])\n                    }\n                  : undefined\n              ]), 1024)\n            ]),\n            bottom: _withCtx(() => [\n              (_openBlock(), _createBlock(_component_oscilloscope, {\n                key: _ctx.activeDocumentId,\n                store: _ctx.activeDocument.store\n              }, null, 8, [\"store\"])),\n              (!_ctx.isMobile)\n                ? (_openBlock(), _createBlock(_component_status_bar, {\n                    key: _ctx.activeDocumentId,\n                    store: _ctx.activeDocument.store,\n                    \"is-fullscreen\": _ctx.isFullscreen,\n                    onFullscreen: _ctx.toggleFullscreen\n                  }, null, 8, [\"store\", \"is-fullscreen\", \"onFullscreen\"]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"is-blurred\", \"onContextmenu\"]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \" no documents open \" + _toDisplayString(_ctx.isDropping), 1)),\n      (_ctx.isBuilderOpen)\n        ? (_openBlock(), _createBlock(_component_builder_view, { key: 2 }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"dark\"]))\n}","\nimport { defineComponent, nextTick, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'BuilderEditableLabel',\n  props: {\n    modelValue: {\n      type: String,\n      default: 'node'\n    }\n  },\n  setup (_, { emit }) {\n    const isReadOnly = ref(true)\n    const inputRef = ref<HTMLInputElement>()\n\n    function onFocus () {\n      isReadOnly.value = false\n\n      nextTick(() => {\n        if (inputRef.value) {\n          inputRef.value.focus()\n          inputRef.value.select()\n        }\n      })\n    }\n\n    function onInput ($event: Event) {\n      const { value } = $event.target as HTMLInputElement\n\n      emit('update:modelValue', value)\n    }\n\n    return {\n      isReadOnly,\n      inputRef,\n      onFocus,\n      onInput\n    }\n  }\n})\n","import { render } from \"./BuilderEditableLabel.vue?vue&type=template&id=b885e1fc&ts=true\"\nimport script from \"./BuilderEditableLabel.vue?vue&type=script&lang=ts\"\nexport * from \"./BuilderEditableLabel.vue?vue&type=script&lang=ts\"\n\nimport \"./BuilderEditableLabel.vue?vue&type=style&index=0&id=b885e1fc&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortHandle.vue?vue&type=template&id=64812d45&ts=true\"\nimport script from \"./PortHandle.vue?vue&type=script&lang=ts\"\nexport * from \"./PortHandle.vue?vue&type=script&lang=ts\"\n\nimport \"./PortHandle.vue?vue&type=style&index=0&id=64812d45&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortWire.vue?vue&type=template&id=7e5f8892&ts=true\"\nimport script from \"./PortWire.vue?vue&type=script&lang=ts\"\nexport * from \"./PortWire.vue?vue&type=script&lang=ts\"\n\nimport \"./PortWire.vue?vue&type=style&index=0&id=7e5f8892&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BuilderDropZone.vue?vue&type=template&id=3660ffa0&ts=true\"\nimport script from \"./BuilderDropZone.vue?vue&type=script&lang=ts\"\nexport * from \"./BuilderDropZone.vue?vue&type=script&lang=ts\"\n\nimport \"./BuilderDropZone.vue?vue&type=style&index=0&id=3660ffa0&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum PortType {\n  Output = 0,\n  Input\n}\n\nexport default PortType\n","import { render } from \"./Builder.vue?vue&type=template&id=bd99e1ac&ts=true\"\nimport script from \"./Builder.vue?vue&type=script&lang=ts\"\nexport * from \"./Builder.vue?vue&type=script&lang=ts\"\n\nimport \"./Builder.vue?vue&type=style&index=0&id=bd99e1ac&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum ItemType {\n  Buffer = 'Buffer',\n  CircuitNode = 'CircuitNode',\n  Freeport = 'Freeport',\n  InputNode = 'InputNode',\n  IntegratedCircuit = 'IntegratedCircuit',\n  LogicGate = 'LogicGate',\n  OutputNode = 'OutputNode'\n}\n\nexport default ItemType\n","enum Direction {\n  Left = 0,\n  Top,\n  Right,\n  Bottom\n}\n\nexport default Direction\n","enum ItemSubtype {\n  None = 'None',\n\n  CustomCircuit = 'CustomCircuit',\n\n  /* input nodes */\n  Switch = 'Switch',\n  PushButton = 'PushButton',\n  Clock = 'Clock',\n\n  /* output nodes */\n  Lightbulb = 'Lightbulb',\n  DigitDisplay = 'DigitDisplay',\n\n  /* buffers */\n  Buffer = 'Buffer',\n  Not = 'Not',\n\n  /* tri-state */\n  Tristate = 'Tristate',\n\n  /* logic gates */\n  And = 'And',\n  Or = 'Or',\n  Nand = 'Nand',\n  Nor = 'Nor',\n  Xnor = 'Xnor',\n  Xor = 'Xor'\n}\n\nexport default ItemSubtype\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\n\nexport default function itemFactory (id: string, type: ItemType, subtype: ItemSubtype, width: number, height: number, ports: Port[] = []): Item {\n  return {\n    id,\n    name: '',\n    type,\n    subtype,\n    portIds: ports.map(({ id }) => id),\n    groupId: null,\n    rotation: 0,\n    boundingBox: {\n      top: 0,\n      left: 0,\n      right: width,\n      bottom: height\n    },\n    position: {\n      x: 0,\n      y: 0\n    },\n    zIndex: 0,\n    width,\n    height,\n    isSelected: false,\n    properties: {\n      name: {\n        type: 'text',\n        label: 'Name',\n        value: ''\n      }\n    }\n  }\n}\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\nimport ItemType from '@/types/enums/ItemType'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport itemFactory from './itemFactory'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\n/**\n * Creates an integrated circuit item.\n * This will embed the ports, connections, and items provided as internal circuit elements and expose input and output ports for each input and output node, respectively.\n *\n * @param statePorts - ports belonging to all elements to embed\n * @param stateItems - items to embed\n * @param stateConnections - connections between items to embed\n */\nexport default function integratedCircuitFactory (state: SerializableState, name: string, width: number, height: number, subtype = ItemSubtype.CustomCircuit) {\n  const { ports, items, connections, groups } = cloneDeep(state)\n  const integratedCircuitItem = itemFactory(uuid(), ItemType.IntegratedCircuit, subtype, width, height)\n\n  Object\n    .values(items)\n    .forEach(item => {\n      const itemPorts = item\n        .portIds\n        .map(portId => ports[portId])\n\n      let portSequenceNumber = 0\n\n      // find the port type (either all input or all output)\n      const homogenousPortType = itemPorts.reduce((portType: PortType | null | undefined, port) => {\n        return portType === undefined || portType === port.type ? port.type : null\n      }, undefined)\n\n      // if there is no homogenous port type (either mixed or no ports), then it's not an I/O element\n      if (typeof homogenousPortType !== 'number') return\n\n      // by default, the inputs will be on the left and the outputs on the right, but the user can change this\n      const orientation = homogenousPortType === PortType.Input\n        ? Direction.Right\n        : Direction.Left\n\n      // loop through each input node (switch, button, etc.) and each output node (lightbulb, etc.) in the circuit\n      // input nodes will convert to buffers and will take in a signal from the outside world\n      // output nodes will convert to buffers and signals it receives and broadcast them to the outside world\n      itemPorts\n        .filter(port => port.type === homogenousPortType)\n        .forEach(port => {\n          const newId = uuid()\n          const name = item.properties.name?.value as string || item.name\n\n          // each input node (switch, button, etc.) will become a buffer node when simulated\n          // therefore each input node (now buffer) will receive an additional input port to receive signals from the outside world\n          // likewise, each output node (also now a buffer) will receive an additional output port to broadcast signals to the outside world\n          // these new input and output ports will be used by both the embedded nodes and the integrated circuit element itself\n          ports[newId] = {\n            ...cloneDeep<Port>(port),\n            type: homogenousPortType === PortType.Input\n              ? PortType.Output\n              : PortType.Input,\n            name: itemPorts.length > 1\n              ? `${name} ${portSequenceNumber++}`\n              : name,\n            id: newId,\n            elementId: item.id,\n            orientation,\n            value: 0\n          }\n\n          item.portIds.push(newId)\n          integratedCircuitItem.portIds.push(newId)\n        })\n\n      item.type = ItemType.Buffer\n    })\n\n  integratedCircuitItem.name = name\n  integratedCircuitItem.integratedCircuit = {\n    items,\n    connections,\n    ports,\n    groups,\n    serializedState: JSON.stringify({\n      items: state.items,\n      connections: state.connections,\n      ports: state.ports,\n      groups: state.groups\n    })\n  }\n\n  return integratedCircuitItem\n}\n","import { Buffer } from 'buffer'\nimport JSZip from 'jszip'\n\nexport default class FileService {\n  static async open (filePath: string) {\n    const zip = new JSZip()\n\n    const compressedContent = window.api.openFile(filePath)\n    const { files } = await zip.loadAsync(compressedContent)\n    const data = await files.content.async('text')\n\n    return data\n  }\n\n  static async writeBlob (filePath: string, blob: Blob) {\n    const blobby = await blob.arrayBuffer()\n    const buf = Buffer.from(blobby)\n\n    window.api.saveFile(filePath, buf)\n  }\n\n  static async save (filePath: string, content: object) {\n    // TODO: handle rapid-succession saves (in a queue?)\n    const zip = new JSZip()\n\n    zip.file('content', JSON.stringify(content))\n\n    const compressedContent = await zip.generateAsync({ type: 'blob' })\n\n    this.writeBlob(filePath, compressedContent)\n  }\n}\n","import cloneDeep from 'lodash.clonedeep'\nimport { v4 as uuid } from 'uuid'\n\ntype IdMap = Record<string, string>\n\nfunction mapStandardCircuitIds (circuit: SerializableState, idMap: IdMap = {}) {\n\n  let { items, connections, ports, groups } = cloneDeep(circuit)\n\n  function mapGroups (groups: Record<string, Group>) {\n    Object\n      .values(groups)\n      .forEach(group => {\n        const oldId = group.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        groups[newId] = cloneDeep(group)\n\n        delete groups[oldId]\n      })\n\n    return groups\n  }\n\n  function mapGroupIds (connections: Record<string, Connection>, items: Record<string, Item>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connection.groupId = connection.groupId !== null\n          ? idMap[connection.groupId]\n          : null\n      })\n\n    Object\n      .values(items)\n      .forEach(item => {\n        item.groupId = item.groupId !== null\n          ? idMap[item.groupId]\n          : null\n      })\n\n    return { connections, items }\n  }\n\n  function mapConnections (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        const oldId = connection.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        connections[newId] = cloneDeep<Connection>(connection)\n        connections[newId].id = newId\n        connections[newId].source = idMap[connections[newId].source]\n        connections[newId].target = idMap[connections[newId].target]\n\n        delete connections[oldId]\n      })\n\n      return connections\n  }\n\n  function mapConnectionChainIds (connections: Record<string, Connection>) {\n    Object\n      .values(connections)\n      .forEach(connection => {\n        connections[connection.id].connectionChainId = idMap[connections[connection.id].connectionChainId]\n      })\n\n    return connections\n  }\n\n  function mapItems (items: Record<string, Item>) {\n    Object\n      .values(items)\n      .forEach(item => {\n        const oldId = item.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        items[newId] = cloneDeep<Item>(item)\n\n        if (item.integratedCircuit) {\n          items[newId].integratedCircuit = {\n            serializedState: item.integratedCircuit.serializedState,\n            ...mapStandardCircuitIds(cloneDeep(item.integratedCircuit), idMap)\n          }\n        } else {\n          items[newId].id = newId\n        }\n\n        items[newId].portIds = item.portIds.map(oldId => idMap[oldId])\n\n        delete items[oldId]\n      })\n\n      return items\n  }\n\n  function mapItemIds (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        ports[port.id].elementId = idMap[port.elementId]\n      })\n\n    return ports\n  }\n\n  function mapPorts (ports: Record<string, Port>) {\n    Object\n      .values(ports)\n      .forEach(port => {\n        const oldId = port.id\n        const newId = uuid()\n\n        idMap[oldId] = newId\n        ports[newId] = cloneDeep<Port>(port)\n        ports[newId].id = newId\n\n        delete ports[oldId]\n      })\n\n    return ports\n  }\n\n  ports = mapPorts(ports)\n  items = mapItems(items)\n  ports = mapItemIds(ports)\n  connections = mapConnections(connections)\n  connections = mapConnectionChainIds(connections)\n  groups = mapGroups(groups)\n\n  return {\n    ...mapGroupIds(connections, items),\n    ports,\n    groups\n  }\n}\n\nfunction mapIntegratedCircuitIds (item: Item) {\n  if (!item.integratedCircuit) return item\n\n  const { items } = mapStandardCircuitIds({\n    items: {\n      [item.id]: item\n    },\n    connections: {},\n    ports: {},\n    groups: {}\n  })\n  const mappedItem = Object.values(items)[0]\n\n  mappedItem.id = uuid()\n\n  return mappedItem // Object.values(items)[0]\n}\n\nexport default {\n  mapStandardCircuitIds,\n  mapIntegratedCircuitIds\n}\n","import { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport integratedCircuitFactory from '@/factories/integratedCircuitFactory'\nimport FileService from '@/services/FileService'\nimport idMapper from '@/utils/idMapper'\n\ntype IntegratedCircuitState = {\n  isBuilderOpen: boolean\n  model: Item | null\n  factories: {\n    [id: string]: ItemFactory\n  }\n  resolve: () => void\n}\n\nexport const useIntegratedCircuitStore = defineStore('integratedCircuit', {\n  state: (): IntegratedCircuitState => ({\n    isBuilderOpen: false,\n    model: null,\n    factories: {},\n    resolve: () => {}\n  }),\n\n  actions: {\n\n    launchBuilder (circuit: SerializableState) {\n      this.isBuilderOpen = true\n      this.model = integratedCircuitFactory(circuit, 'My integrated circuit', 400, 400)\n\n      return new Promise(resolve => {\n        this.resolve = resolve as () => void\n      })\n    },\n\n    async loadLibrary () {\n      const filePaths = window.api.getFilePaths('../../Desktop', 'aicx')\n\n      for (let i = 0; i < filePaths.length; i++) {\n        await this.loadCircuit(filePaths[i])\n      }\n    },\n\n    async loadCircuit (filePath: string) {\n      try {\n        const content = await FileService.open(filePath)\n        const parsed = JSON.parse(content) as Item\n\n        this.factories[parsed.name] = () => {\n          const item = idMapper.mapIntegratedCircuitIds(parsed)\n          const ports = item\n            .portIds\n            .map(portId => item.integratedCircuit?.ports[portId] as Port)\n\n          return { item, ports }\n        }\n      } catch (error) {\n        console.log(error)\n        window.api.showMessageBox({\n          message: `Could not load ${filePath} into the integrated circuit library. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n\n    async save () {\n      if (!this.model) return\n\n      try {\n        const fileName = `${this.model.name}.aicx`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'Aristotle Integrated Circuit (*.aicx)',\n            extensions: ['aicx']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.save(filePath, this.model)\n        await this.loadCircuit(filePath)\n\n        window.api.showMessageBox({\n          message: 'Integrated circuit successfully created. You can find it in the toolbox.',\n          title: 'Success',\n          type: 'info'\n        })\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the integrated circuit.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n\n      this.close()\n    },\n\n    close () {\n      this.resolve()\n      this.isBuilderOpen = true\n    }\n  }\n})\n","import { render } from \"./Icon.vue?vue&type=template&id=c2deb328&ts=true\"\nimport script from \"./Icon.vue?vue&type=script&lang=ts\"\nexport * from \"./Icon.vue?vue&type=script&lang=ts\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=c2deb328&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Modal.vue?vue&type=template&id=ccd36f9e&ts=true\"\nimport script from \"./Modal.vue?vue&type=script&lang=ts\"\nexport * from \"./Modal.vue?vue&type=script&lang=ts\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=ccd36f9e&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ModalButton.vue?vue&type=template&id=675bfb9a&ts=true\"\nimport script from \"./ModalButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ModalButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ModalButton.vue?vue&type=style&index=0&id=675bfb9a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BuilderView.vue?vue&type=template&id=5763befb&ts=true\"\nimport script from \"./BuilderView.vue?vue&type=script&lang=ts\"\nexport * from \"./BuilderView.vue?vue&type=script&lang=ts\"\n\nimport \"./BuilderView.vue?vue&type=style&index=0&id=5763befb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum SnapMode {\n  Outer,\n  Inner,\n  Radial,\n  Grid,\n  None\n}\n\nexport default SnapMode\n","import SnapMode from \"@/types/enums/SnapMode\"\n\n/**\n * Rounds x to the nearest n.\n */\nfunction roundToNth (x: number, n: number) {\n  return Math.round(x / n) * n\n}\n\n/**\n * Returns true if a is within the radial distance of b.\n */\nfunction isInNeighborhood (a: Point, b: Point, radius: number): boolean {\n  return Math.hypot(a.x - b.x, a.y - b.y) <= radius\n}\n\n/**\n * Returns the delta of rounding the top-left point of the given bounding box to the nearest distance.\n * This will achieve the effect of \"snapping to grid.\"\n *\n * @param a - the bounding box of the element moving\n * @param distance - the grid size\n */\nfunction getGridSnapPosition (a: BoundingBox, distance: number): Point {\n  return {\n    x: roundToNth(a.left, distance) - a.left,\n    y: roundToNth(a.top, distance) - a.top\n  }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the radial `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getRadialSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n\n    if (isInNeighborhood({ x: b.left, y: b.top }, { x: a.left, y: a.top }, distance)) {\n      return {\n        x: b.left - a.left,\n        y: b.top - a.top\n      }\n    }\n  }\n\n  return { x: 0, y: 0 }\n}\n\n/**\n * Returns the offset Cartesian distance between bounding box `a` and any other bounding boxes within the linear `distance`.\n * If no bounding boxes are within 'd' distance, it returns an offset of (0, 0).\n *\n * @param boundingBoxes\n * @param a\n * @param d\n */\nfunction getOuterSnapOffset (boundingBoxes: BoundingBox[], a: BoundingBox, distance: number): Point {\n  const offset: Point = { x: 0, y: 0 }\n\n  for (let i = 0; i < boundingBoxes.length; i++) {\n    const b = boundingBoxes[i]\n    const ts = Math.abs(b.top - a.bottom) <= distance\n    const bs = Math.abs(b.bottom - a.top) <= distance\n    const ls = Math.abs(b.left - a.right) <= distance\n    const rs = Math.abs(b.right - a.left) <= distance\n\n    if (\n      (a.left <= b.right && a.left >= b.left) ||\n      (a.right >= b.left && a.right <= b.right) ||\n      (a.left <= b.left && a.right >= b.right)\n    ) {\n      // a is within the y-axis boundaries\n      if (ts) offset.y = b.top - a.bottom\n      if (bs) offset.y = b.bottom - a.top\n    }\n\n    if (\n      (a.top <= b.bottom && a.top >= b.top) ||\n      (a.bottom >= b.top && a.bottom <= b.bottom) ||\n      (a.top <= b.top && a.bottom >= b.bottom)\n    ) {\n      // a is within the x-axis boundaries\n      if (ls) offset.x = b.left - a.right\n      if (rs) offset.x = b.right - a.left\n    }\n  }\n\n  return offset\n}\n\nfunction getSnapOffset (boundingBoxes: BoundingBox[], boundingBox: BoundingBox, snapMode: SnapMode, distance: number) {\n  switch (snapMode) {\n    case SnapMode.Radial:\n      return getRadialSnapOffset(boundingBoxes, boundingBox, distance)\n    case SnapMode.Grid:\n      return getGridSnapPosition(boundingBox, distance)\n    case SnapMode.Outer:\n    default:\n      return getOuterSnapOffset(boundingBoxes, boundingBox, distance)\n  }\n}\n\n/**\n * Returns true if line a intersects with line B.\n *\n * @param a1 - first point of a\n * @param a2 - second point of a\n * @param b1 - first point of b\n * @param b2 - second point of b\n */\nfunction hasLinearIntersection (a1: Point, a2: Point, b1: Point, b2: Point): boolean {\n  const ccw = (a: Point, b: Point, c: Point) => {\n    return (c.y-a.y) * (b.x-a.x) > (b.y-a.y) * (c.x-a.x)\n  }\n\n  return ccw(a1, b1, b2) !== ccw(a2, b1, b2) && ccw(a1, a2, b1) !== ccw(a1, a2, b2)\n}\n\n/**\n * Returns true if the overlaps with the given bounding box.\n *\n * @param a1 - first point of the line\n * @param a2 - second point of the line\n * @param boundingBox - the rectange\n */\nfunction isLineIntersectingRectangle (a1: Point, a2: Point, boundingBox: BoundingBox): boolean {\n  const b1 = { x: boundingBox.left, y: boundingBox.top }\n  const b2 = { x: boundingBox.right, y: boundingBox.top }\n  const b3 = { x: boundingBox.right, y: boundingBox.bottom }\n  const b4 = { x: boundingBox.left, y: boundingBox.bottom }\n\n  return hasLinearIntersection(a1, a2, b1, b2)\n    || hasLinearIntersection(a1, a2, b2, b3)\n    || hasLinearIntersection(a1, a2, b3, b4)\n    || hasLinearIntersection(a1, a2, b4, b1)\n}\n\n/**\n * Returns true if a and b intersect.\n *\n * @param a\n * @param b\n * @returns boolean result of intersection\n */\nfunction hasIntersection (a: BoundingBox, b: BoundingBox): boolean {\n  if (a.left >= b.right || b.left >= a.right) {\n    // one rect is on left side of other\n    return false\n  }\n\n  if (a.top >= b.bottom || b.top >= a.bottom) {\n    // one rect is above other\n    return false\n  }\n\n  return true\n}\n\n/**\n * Scales the bounding box by the given scalar.\n *\n * @param box\n * @param scale\n */\nfunction scaleBoundingBox (box: BoundingBox, scale: number): BoundingBox {\n  return {\n    left: box.left * scale,\n    top: box.top * scale,\n    bottom: box.bottom * scale,\n    right: box.right * scale\n  }\n}\n\n/**\n * Returns true if the given bounding box is one- or two-dimensional.\n */\nfunction isOneOrTwoDimensional (box: BoundingBox) {\n  return box.left !== box.right || box.top !== box.bottom\n}\n\n/**\n * Returns a list of one infinitely-horizontal and one infinitely-vertical boundaries.\n *\n * @param point - the point to compute boundaries for\n * @returns list of bounding boxes\n */\nfunction getLinearBoundaries (point: Point): BoundingBox[] {\n  return [\n    {\n      left: point.x,\n      right: point.x,\n      top: -Infinity,\n      bottom: Infinity\n    },\n    {\n      left: -Infinity,\n      right: Infinity,\n      top: point.y,\n      bottom: point.y\n    }\n  ]\n}\n\n/**\n * Returns a point as a boundary.\n *\n * @param point\n * @returns point boundary\n */\nfunction getPointBoundary (point: Point): BoundingBox {\n  return {\n    left: point.x,\n    top: point.y,\n    right: point.x,\n    bottom: point.y\n  }\n}\n\n/**\n * Computes the bounding box of the given item.\n *\n * @param item\n * @returns computed bounding box\n */\nfunction getBoundingBox (position: Point, rotation: number, width: number, height: number): BoundingBox {\n  if (rotation % 2 === 0) {\n    // item is right side up or upside down\n    return {\n      left: position.x,\n      top: position.y,\n      bottom: height + position.y,\n      right: width + position.x\n    }\n  }\n\n  // item is rotated at a 90 degree angle (CW or CCW)\n  const midX = position.x + (width / 2)\n  const midY = position.y + (height / 2)\n\n  return {\n    left: midX - (height / 2),\n    top: midY - (width / 2),\n    right: midX + (height / 2),\n    bottom: midY + (width / 2)\n  }\n}\n\n/**\n * Computes the group bounding box for the given list of bounding boxes.\n *\n * @param boundingBoxes - list of bounding boxes contained\n * @returns computed bounding box\n */\nfunction getGroupBoundingBox (boundingBoxes: BoundingBox[]): BoundingBox {\n  return boundingBoxes.reduce((rect, boundingBox) => ({\n    left: Math.min(rect.left, boundingBox.left),\n    top: Math.min(rect.top, boundingBox.top),\n    right: Math.max(rect.right, boundingBox.right),\n    bottom: Math.max(rect.bottom, boundingBox.bottom)\n  }), {\n    left: Infinity,\n    top: Infinity,\n    right: 0,\n    bottom: 0\n  })\n}\n\n/**\n * Returns the center point of the given bounding box.\n */\nfunction getBoundingBoxMidpoint (boundingBox: BoundingBox): Point {\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n\n  return {\n    x: width / 2,\n    y: height / 2\n  }\n}\n\n/**\n * Given parent and child bounding boxes, determines the screen point (top left) of the child centered in the parent.\n *\n * @param parentBox\n * @param childBox\n * @param factor - any factor to round by\n */\nfunction getCenteredScreenPoint (parentBox: BoundingBox, childBox: BoundingBox, factor: number): Point {\n  const parentMidpoint = getBoundingBoxMidpoint(parentBox)\n  const childWidth = childBox.right - childBox.left\n  const childHeight = childBox.bottom - childBox.top\n\n  return {\n    x: roundToNth(parentMidpoint.x - (childWidth / 2), factor),\n    y: roundToNth(parentMidpoint.y - (childHeight / 2), factor)\n  }\n}\n\n/**\n * Computes the minima or maxima between the given points.\n *\n * @param a\n * @param b\n * @param fn\n */\nfunction getExtremePoint (fn: 'min' | 'max', ...points: Point[]): Point {\n  const x = Math[fn](...points.map(({ x }) => x))\n  const y = Math[fn](...points.map(({ y }) => y))\n\n  return { x, y }\n}\n\nexport default {\n  isInNeighborhood,\n  getRadialSnapOffset,\n  getOuterSnapOffset,\n  getGridSnapPosition,\n  isLineIntersectingRectangle,\n  scaleBoundingBox,\n  isOneOrTwoDimensional,\n  getLinearBoundaries,\n  getPointBoundary,\n  hasIntersection,\n  getBoundingBox,\n  getGroupBoundingBox,\n  getBoundingBoxMidpoint,\n  getCenteredScreenPoint,\n  getSnapOffset,\n  getExtremePoint\n}\n","import { render } from \"./Resizable.vue?vue&type=template&id=649bf65f&ts=true\"\nimport script from \"./Resizable.vue?vue&type=script&lang=ts\"\nexport * from \"./Resizable.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Draggable.vue?vue&type=template&id=5b88e607&ts=true\"\nimport script from \"./Draggable.vue?vue&type=script&lang=ts\"\nexport * from \"./Draggable.vue?vue&type=script&lang=ts\"\n\nimport \"./Draggable.vue?vue&type=style&index=0&id=5b88e607&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Wire.vue?vue&type=template&id=4124d7de&ts=true\"\nimport script from \"./Wire.vue?vue&type=script&lang=ts\"\nexport * from \"./Wire.vue?vue&type=script&lang=ts\"\n\nimport \"./Wire.vue?vue&type=style&index=0&id=4124d7de&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import Direction from '@/types/enums/Direction'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nexport default function rotate (rotation: Direction, additional: Direction = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n","import Direction from '@/types/enums/Direction'\nimport rotate from './rotate'\n\nconst WIRE_PADDING = 15\n\n/**\n * Renders the wire geometry for the given source and target ports.\n *\n * @param source\n * @param target\n */\nexport default function renderLayout (source: Port, target: Port): WireGeometry {\n  const a = source.position\n  const b = target.position\n  const { start, end } = getEndpoints(a, b)\n\n  if (start.x === end.x || start.y === end.y || end.x <= 1 && start.x <= 1 || end.y <= 1 && start.y <= 1) {\n    return computeStraightLine(start, end)\n  }\n\n  const sourceDirection = getPortDirection(source, a, b)\n  const targetDirection = getPortDirection(target, a, b)\n\n  return computeBezier(sourceDirection, targetDirection, start, end)\n}\n\n\nexport function computeStraightLine (a: Point, b: Point) {\n  return {\n    path: `M ${a.x},${a.y} L ${b.x},${b.y}`,\n    width: Math.abs(a.x - b.x) + WIRE_PADDING,\n    height: Math.abs(a.y - b.y) + WIRE_PADDING,\n    minX: -(WIRE_PADDING / 2),\n    minY: -(WIRE_PADDING / 2)\n  }\n}\n\n/**\n * Reverses the orientation of a FreePort by 180 degrees, if the dimension on an axis exceeds that of its wire's opposite end.\n * This gives the visual effect of \"pinching the wire\" so that weird, unnecessary curves aren't sticking out of FreePorts.\n *\n * @param {number} direction\n * @returns {number}\n */\nexport function inflectDirection (direction: number, a: Point, b: Point): Direction {\n  switch (direction) {\n    case Direction.Left:\n      return a.y > b.y ? Direction.Right : Direction.Left\n    case Direction.Top:\n      return a.x < b.x ? Direction.Bottom : Direction.Top\n    case Direction.Right:\n      return a.y > b.y ? Direction.Left : Direction.Right\n    case Direction.Bottom:\n      return a.x < b.x ? Direction.Top : Direction.Bottom\n    default:\n      return inflectDirection(rotate(direction), a, b) // normalize direction to [0,3] and try again\n  }\n}\n\n/**\n * Returns the wire direction for a given port.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {number}\n */\nexport function getPortDirection (port: Port, a: Point, b: Point) {\n  // the true direction needs to take into account inherent orientation + its rotation\n  // bezier index directions are one integer off (see computeBezier()) -- subtract by 1\n  let direction = rotate(port.orientation + port.rotation - 1)\n\n  if (port.isFreeport) {\n    // inflect direction for FreePorts to give the \"pinched\" appearance when dragged out of range\n    direction = inflectDirection(direction, a, b)\n\n    if (port.rotation % 4 === 1 || port.rotation % 4 === 2) {\n      direction = rotate(direction - 2)\n    }\n  }\n\n  return direction\n}\n\n/**\n * Updates the source and target endpoints such that the start and end are true.\n * This prevents translations or rotations from \"swapping\" the start and end points.\n *\n * @param {IPort} port\n * @param {Point} a - the source point\n * @param {Point} b - the target point\n * @returns {object<{ start: Point, end: Point }>}\n */\nexport function getEndpoints (a: Point, b: Point): { start: Point, end: Point } {\n  if (a.x <= b.x) {\n    if (a.y <= b.y) {\n      // top left (a) to bottom right (b)\n      return {\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: Math.floor(b.x - a.x),\n          y: Math.floor(b.y - a.y)\n        }\n      }\n    }\n    // bottom left (a) to top right (b)\n    return {\n      start: {\n        x: 0,\n        y: Math.floor(a.y - b.y)\n      },\n      end: {\n        x: Math.floor(b.x - a.x),\n        y: 0\n      }\n    }\n  }\n\n  if (a.y <= b.y) {\n    // bottom left (b) to top right (a)\n    return {\n      start: {\n        x: Math.floor(a.x - b.x),\n        y: 0\n      },\n      end: {\n        x: 0,\n        y: Math.floor(b.y - a.y)\n      }\n    }\n  }\n\n  // top left (b) to bottom right (a)\n  return {\n    start: {\n      x: Math.floor(a.x - b.x),\n      y: Math.floor(a.y - b.y)\n    },\n    end: {\n      x: 0,\n      y: 0\n    }\n  }\n}\n\n/**\n * Computes a Bezier SVG curve path with respect to given source and target directions and positions.\n *\n * @param {number} sourceDirection - the direction that the source is pointing to\n * @param {number} targetDirection - the direction that the target is pointing from\n * @param {Point} start - the source port position\n * @param {Point} end - the target port position\n */\nexport function computeBezier (sourceDirection: number, targetDirection: number, start: Point, end: Point): WireGeometry {\n  const x1 = start.x\n  const y1 = start.y\n  const x4 = end.x\n  const y4 = end.y\n\n  // TODO: change dx/dy to be more user-friendly\n  const dx = Math.max(Math.abs(x1 - x4) / 2, 10)\n  const dy = Math.max(Math.abs(y1 - y4) / 2, 10)\n\n  const x2 = [x1, x1 + dx, x1, x1 - dx][sourceDirection].toFixed(3)\n  const y2 = [y1 - dy, y1, y1 + dy, y1][sourceDirection].toFixed(3)\n  const x3 = [x4, x4 + dx, x4, x4 - dx][targetDirection].toFixed(3)\n  const y3 = [y4 - dy, y4, y4 + dy, y4][targetDirection].toFixed(3)\n\n  const path = [\n    'M', x1.toFixed(3), y1.toFixed(3),\n    'C', x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)\n  ].join(' ')\n\n  const toNumArr = (...n: Array<string | number>) => n.map(k => parseInt(k.toString(), 10))\n\n  const minX = Math.min(...toNumArr(x1, x2, x3, x4)) - WIRE_PADDING / 2\n  const maxX = Math.max(...toNumArr(x1, x2, x3, x4)) + WIRE_PADDING / 2\n  const minY = Math.min(...toNumArr(y1, y2, y3, y4)) - WIRE_PADDING / 2\n  const maxY = Math.max(...toNumArr(y1, y2, y3, y4)) + WIRE_PADDING / 2\n\n  const width = maxX - minX + WIRE_PADDING\n  const height = maxY - minY + WIRE_PADDING\n\n  return { width, height, path, minX, minY }\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function edit (useDocumentStore: DocumentStore, submenus: MenuItemConstructorOptions[] = []): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  let menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Undo',\n      enabled: store.canUndo,\n      accelerator: 'CommandOrControl+Z',\n      click: store.undo\n    },\n    { type: 'separator' },\n    {\n      role: 'cut',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'copy',\n      enabled: store.hasSelection\n    },\n    {\n      role: 'paste',\n      enabled: store.hasSelection\n    },\n    {\n      label: 'Delete',\n      accelerator: 'Delete',\n      enabled: store.hasSelection,\n      click: store.deleteSelection\n    },\n    { type: 'separator' },\n    {\n      role: 'selectAll',\n      enabled: store.baseItems.length > 0\n    }\n  ]\n\n  if (store.selectedItemIds.length > 0) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Rotate',\n      submenu: [\n        {\n          label: 'Rotate 90 &CW',\n          accelerator: 'CmdOrCtrl+R',\n          click: () => store.rotate(1)\n        },\n        {\n          label: 'Rotate 90 CC&W',\n          accelerator: 'CmdOrCtrl+Shift+R',\n          click: () => store.rotate(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.hasSelection) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Bring to Front',\n      submenu: [\n        {\n          label: '&Bring to Front',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Bring &Forward',\n          click: () => store.incrementZIndex(1)\n        }\n      ]\n    })\n    menu.push({\n      label: '&Send to Back',\n      submenu: [\n        {\n          label: '&Send to Back',\n          click: () => store.setZIndex(store.zIndex)\n        },\n        {\n          label: 'Send &Backward',\n          click: () => store.incrementZIndex(-1)\n        }\n      ]\n    })\n  }\n\n  if (store.canGroup) {\n    menu.push({\n      label: '&Group',\n      submenu: [\n        { label: '&Group' },\n        {\n          label: '&Ungroup',\n          enabled: store.canUngroup\n        }\n      ]\n    })\n  }\n\n  if (submenus.length > 0) {\n    menu.push({ type: 'separator' })\n    menu = menu.concat(submenus)\n  }\n\n  if (store.selectedItemIds.length === 1) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      label: '&Item Properties'\n    })\n  }\n\n  if (store.activePortId) {\n    menu.push({ type: 'separator' })\n    menu.push({\n      type: 'checkbox',\n      label: 'Show in &Oscilloscope',\n      checked: true\n    })\n  }\n\n  return menu\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\n\nexport default function grid (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n\n  return [\n    {\n      label: '&Grid',\n      submenu: [\n        {\n          label: '&Show grid'\n        },\n        { type: 'separator' },\n        { label: 'Snap to &grid' },\n        { label: 'Snap to &elements' }\n      ]\n    }\n  ]\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { Store } from 'pinia'\nimport { DocumentStore } from '@/store/document'\nimport edit from '../submenus/edit'\nimport grid from '../submenus/grid'\n\nexport default function editor (store: DocumentStore): MenuItemConstructorOptions[] {\n  return edit(store, grid(store).concat({ type: 'separator' }))\n}\n","import { render } from \"./Connection.vue?vue&type=template&id=1a5111e2&ts=true\"\nimport script from \"./Connection.vue?vue&type=script&lang=ts\"\nexport * from \"./Connection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Freeport.vue?vue&type=template&id=0c565b2c&ts=true\"\nimport script from \"./Freeport.vue?vue&type=script&lang=ts\"\nexport * from \"./Freeport.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InputNode.vue?vue&type=template&id=2d7ab5b3&ts=true\"\nimport script from \"./InputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./InputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./InputNode.vue?vue&type=style&index=0&id=2d7ab5b3&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CustomCircuitPort.vue?vue&type=template&id=7c86d268&ts=true\"\nimport script from \"./CustomCircuitPort.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomCircuitPort.vue?vue&type=script&lang=ts\"\n\nimport \"./CustomCircuitPort.vue?vue&type=style&index=0&id=7c86d268&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CustomCircuitPortZone.vue?vue&type=template&id=164f4e76&ts=true\"\nimport script from \"./CustomCircuitPortZone.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomCircuitPortZone.vue?vue&type=script&lang=ts\"\n\nimport \"./CustomCircuitPortZone.vue?vue&type=style&index=0&id=164f4e76&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CustomCircuit.vue?vue&type=template&id=f58f3db6&ts=true\"\nimport script from \"./CustomCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./CustomCircuit.vue?vue&type=script&lang=ts\"\n\nimport \"./CustomCircuit.vue?vue&type=style&index=0&id=f58f3db6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DigitDisplay.vue?vue&type=template&id=05ba6998&ts=true\"\nimport script from \"./DigitDisplay.vue?vue&type=script&lang=ts\"\nexport * from \"./DigitDisplay.vue?vue&type=script&lang=ts\"\n\nimport \"./DigitDisplay.vue?vue&type=style&index=0&id=05ba6998&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./IntegratedCircuit.vue?vue&type=template&id=209f747d&ts=true\"\nimport script from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\nexport * from \"./IntegratedCircuit.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./And.vue?vue&type=template&id=451c19e4&ts=true\"\nimport script from \"./And.vue?vue&type=script&lang=ts\"\nexport * from \"./And.vue?vue&type=script&lang=ts\"\n\nimport \"./And.vue?vue&type=style&index=0&id=451c19e4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Or.vue?vue&type=template&id=4e6eb8f2&ts=true\"\nimport script from \"./Or.vue?vue&type=script&lang=ts\"\nexport * from \"./Or.vue?vue&type=script&lang=ts\"\n\nimport \"./Or.vue?vue&type=style&index=0&id=4e6eb8f2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nor.vue?vue&type=template&id=7803c0c0&ts=true\"\nimport script from \"./Nor.vue?vue&type=script&lang=ts\"\nexport * from \"./Nor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Buffer.vue?vue&type=template&id=353fbcc5&ts=true\"\nimport script from \"./Buffer.vue?vue&type=script&lang=ts\"\nexport * from \"./Buffer.vue?vue&type=script&lang=ts\"\n\nimport \"./Buffer.vue?vue&type=style&index=0&id=353fbcc5&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Not.vue?vue&type=template&id=67c16094&ts=true\"\nimport script from \"./Not.vue?vue&type=script&lang=ts\"\nexport * from \"./Not.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Nand.vue?vue&type=template&id=1bef5bae&ts=true\"\nimport script from \"./Nand.vue?vue&type=script&lang=ts\"\nexport * from \"./Nand.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xnor.vue?vue&type=template&id=3e58dbce&ts=true\"\nimport script from \"./Xnor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xnor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Xor.vue?vue&type=template&id=2e4c44f6&ts=true\"\nimport script from \"./Xor.vue?vue&type=script&lang=ts\"\nexport * from \"./Xor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LogicGate.vue?vue&type=template&id=f2a89218&ts=true\"\nimport script from \"./LogicGate.vue?vue&type=script&lang=ts\"\nexport * from \"./LogicGate.vue?vue&type=script&lang=ts\"\n\nimport \"./LogicGate.vue?vue&type=style&index=0&id=f2a89218&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Lightbulb.vue?vue&type=template&id=49489f78&ts=true\"\nimport script from \"./Lightbulb.vue?vue&type=script&lang=ts\"\nexport * from \"./Lightbulb.vue?vue&type=script&lang=ts\"\n\nimport \"./Lightbulb.vue?vue&type=style&index=0&id=49489f78&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OutputNode.vue?vue&type=template&id=e31799ba&ts=true\"\nimport script from \"./OutputNode.vue?vue&type=script&lang=ts\"\nexport * from \"./OutputNode.vue?vue&type=script&lang=ts\"\n\nimport \"./OutputNode.vue?vue&type=style&index=0&id=e31799ba&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CircuitComponent.vue?vue&type=template&id=aec06ea2&ts=true\"\nimport script from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./CircuitComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./CircuitComponent.vue?vue&type=style&index=0&id=aec06ea2&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Properties.vue?vue&type=template&id=20a4d0f1&ts=true\"\nimport script from \"./Properties.vue?vue&type=script&lang=ts\"\nexport * from \"./Properties.vue?vue&type=script&lang=ts\"\n\nimport \"./Properties.vue?vue&type=style&index=0&id=20a4d0f1&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortPivot.vue?vue&type=template&id=2dd5a235&ts=true\"\nimport script from \"./PortPivot.vue?vue&type=script&lang=ts\"\nexport * from \"./PortPivot.vue?vue&type=script&lang=ts\"\n\nimport \"./PortPivot.vue?vue&type=style&index=0&id=2dd5a235&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PortItem.vue?vue&type=template&id=632b3e1c&ts=true\"\nimport script from \"./PortItem.vue?vue&type=script&lang=ts\"\nexport * from \"./PortItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import CircuitNode from '../base/CircuitNode'\n\nclass Connection {\n  node: CircuitNode\n  id: string\n\n  constructor (node: CircuitNode, id: string) {\n    this.node = node\n    this.id = id\n  }\n}\n\nexport default Connection\n","const LogicValue = {\n  TRUE: 1,\n  FALSE: -1,\n  UNKNOWN: 0\n}\n\nexport default LogicValue\n","import Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\n\nclass CircuitNode {\n  /**\n   * Incoming values, to be used for calculation of the node's state.\n   *\n   * @type {Array<LogicValue>}\n   */\n  public inputValues: { [id: string]: number } = {}\n\n  /**\n   * List of outgoing connections.\n   *\n   * @type {Array<Connection>}\n   */\n  public outputs: Array<Connection> = []\n\n  /**\n   * Set to true if the value of the node has changed since last circuit evaluation.\n   *\n   * @type {Boolean}\n   */\n  public isValueChanged: boolean = true\n\n  /**\n   * Set to true to have the debugger continue regardless of whether this node changed or not.\n   *\n   * @type {Boolean}\n   */\n  public forceContinue: boolean = false\n\n  /**\n   * Name of the node.\n   *\n   * @type {String}\n   */\n  public name: string\n\n  /**\n   * Current value of the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public value: number = LogicValue.UNKNOWN\n\n  /**\n   * Next value for the node.\n   *\n   * @type {LogicValue}\n   * @default LogicValue.UNKNOWN\n   */\n  public newValue: number = LogicValue.UNKNOWN\n\n  /**\n   * List of dictionaries containing event types and their respective callbacks.\n   * Used for the invocation of event listeners when their respective events are fired.\n   *\n   * @type {Array<Object>}\n   */\n  public events: Array<{ eventType: string, callback: Function }> = []\n\n  /**\n   * Constructor.\n   *\n   * @param {String} name - name of the node\n   * @param {Number} [inputIds = []] - ids for each input port\n   */\n  constructor (name: string, inputIds: string[] = []) {\n    this.name = name\n    this.inputValues = inputIds.reduce((map, id) => ({\n      ...map,\n      [id]: LogicValue.UNKNOWN\n    }), {})\n  }\n\n  /**\n   * Updates the node's value to be static having the given value.\n   *\n   * @param {LogicValue} value\n   */\n  public setValue = (value: number): void => {\n    this.newValue = value\n  }\n\n  /**\n   * Invokes the registered events having the given `eventType`.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {LogicValue} value\n   */\n  public invokeEvent = (eventType: string, value: number, outputIds: string[]): void => {\n    this.events.forEach((event) => {\n      if (event.eventType === eventType) {\n        event.callback(value, outputIds)\n      }\n    })\n  }\n\n  /**\n   * Evaluates the node. Default behavior returns the current value.\n   *\n   * @returns {LogicValue}\n   */\n  public eval = (): number => {\n    return this.value\n  }\n\n  /**\n   * Calculates how many input values equal the given comparison value.\n   *\n   * @param {LogicValue} compare - value to get count of\n   * @returns {Number}\n   */\n  public valueCount = (compare: number): number => {\n    return Object\n      .values(this.inputValues)\n      .filter((value) => value === compare)\n      .length\n  }\n\n  /**\n   * Updates all outgoing connected nodes with the given value.\n   *\n   * @param {LogicValue} newValue - new value to output to the nodes\n   */\n  public updateOutputs = (newValue: number): void => {\n    const outputIds: string[] = []\n\n    this.outputs.forEach(({ node, id }: Connection) => {\n      node.update(newValue, id)\n      outputIds.push(id)\n    })\n\n    this.invokeEvent('change', newValue, outputIds)\n  }\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @param {LogicValue} value - new value\n   * @param {Number} id - source port id\n   */\n  public update = (value: number, id: string): void => {\n    this.inputValues[id] = value\n    this.newValue = this.eval()\n    this.invokeEvent('change', this.newValue, this.outputs.map(({ id }) => id))\n  }\n\n  /**\n   * Propagates a signal, if the value of the node has changed.\n   *\n   * @returns {CircuitNodes[]} queue of all resulting nodes to be evaluated in the next state\n   */\n  public propagate = (): Array<CircuitNode> => {\n    let queue: CircuitNode[] = []\n\n    if (this.value !== this.newValue) {\n      this.isValueChanged = true\n      this.value = this.newValue\n      this.updateOutputs(this.newValue)\n\n      this\n        .outputs\n        .forEach(({ node }) => {\n          if (node.forceContinue) {\n            // if this node is forced to continue propagation, enqueue its result\n            queue = queue.concat(node.propagate())\n          } else {\n            // otherwise, just enqueue the node itself\n            queue.push(node)\n          }\n        })\n    }\n\n    return queue\n  }\n\n  /**\n   * Resets the value and subsequent value of the node with Hi-Z.\n   */\n  public reset = (): void => {\n    this.value = LogicValue.UNKNOWN\n    this.newValue = LogicValue.UNKNOWN\n    this.invokeEvent('change', this.newValue, this.outputs.map(({ id }) => id))\n  }\n\n  /**\n   * Registers an event listener.\n   *\n   * @param {String} eventType - 'change' or 'reset'\n   * @param {Function} callback - method to invoke on event\n   */\n  public on = (eventType: string, callback: Function): void => {\n    this.events.push({ eventType, callback })\n  }\n\n  /**\n   * Returns the value of the node next time the circuit is evaluated.\n   *\n   * @returns {Number}\n   */\n  public getProjectedValue = (): number => {\n    return this.eval() || this.newValue || this.value\n  }\n}\n\n\nexport default CircuitNode\n","import CircuitNode from './CircuitNode'\n\nclass InputNode extends CircuitNode {\n  /**\n   * Resets the node.\n   *\n   * @override CircuitNode.reset\n   */\n  public reset = (): void => {\n    // do nothing\n  }\n}\n\nexport default InputNode\n","import CircuitNode from './CircuitNode'\n\nclass OutputNode extends CircuitNode {\n  /**\n   * Updates the value of the node.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value\n   */\n  public update = (value: number): void => {\n    if (this.newValue !== value) {\n      this.newValue = value\n      this.invokeEvent('change', this.newValue, [])\n    }\n  }\n}\n\nexport default OutputNode\n","import CircuitNode from '../base/CircuitNode'\nimport Connection from '../types/Connection'\nimport LogicValue from '../types/LogicValue'\nimport InputNode from './InputNode'\nimport OutputNode from './OutputNode'\n\nclass Circuit {\n  /**\n   * The debugger processing queue.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public queue: Array<CircuitNode> = []\n\n  /**\n   * A list of all the nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public nodes: Array<CircuitNode> = []\n\n  /**\n   * A list of all input nodes in the circuit.\n   *\n   * @type {Array<CircuitNode>}\n   */\n  public inputNodes: Array<InputNode> = []\n\n  /**\n   * Adds a node to the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to add\n   */\n  public addNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      this.inputNodes.push(node)\n      this.enqueue(node)\n    }\n    this.nodes.push(node)\n  }\n\n  /**\n   * Removes a node from the circuit and its appropriate queue(s).\n   *\n   * @param {CircuitNode} node - node to remove\n   */\n  public removeNode = (node: CircuitNode): void => {\n    if (node instanceof InputNode) {\n      const inputIndex = this.inputNodes.findIndex(({ name }) => name === node.name)\n\n      if (inputIndex !== -1) {\n        this.inputNodes.splice(inputIndex, 1)\n      }\n      // this.reset() // TODO: why?\n    }\n\n    const index = this.nodes.findIndex(({ name }) => name === node.name)\n\n    if (index !== -1) {\n      this.removeNodeOutputs(node)\n      this.nodes.splice(index, 1)\n    }\n\n    this.next()\n  }\n\n  /**\n   * Adds a connection entry from the source node to the target node on the given index.\n   *\n   * @param {CircuitNode} source - source node\n   * @param {CircuitNode} target - target node\n   * @param {Number} targetId - entry port id on the target node for the connection\n   */\n  public addConnection = (source: CircuitNode, target: CircuitNode, targetId: string, sourceValue: number = LogicValue.UNKNOWN): void => {\n    source.outputs.push(new Connection(target, targetId))\n    source.value = sourceValue\n\n    if (!sourceValue) {\n      this.enqueue(source)\n    }\n  }\n\n  /**\n   * Removes the connection on the source node at the source index and the connection at its target node.\n   * The input value at the target index will be reset to Hi-Z.\n   *\n   * @param {CircuitNode} sourceNode - source node to disconnect\n   * @param {CircuitNode} targetNode - target node to disconnect\n   */\n  public removeConnection = (sourceNode: CircuitNode, targetNode: CircuitNode, sourceValue: number = LogicValue.UNKNOWN): void => {\n    sourceNode\n      .outputs\n      .concat()\n      .forEach(({ node, id }: Connection, i: number) => {\n        if (targetNode === node) {\n          // reset the input of the target for this connection to hi-Z\n          targetNode.update(sourceValue, id)\n\n          // remove the output entry at the source\n          sourceNode.outputs.splice(i, 1)\n\n          // place the target node in the queue for processing\n          this.enqueue(targetNode)\n        }\n      })\n  }\n\n  /**\n   * Removes all connections from the given source node.\n   *\n   * @param {CircuitNode} source\n   */\n  removeNodeOutputs = (source: CircuitNode): void => {\n    for (let i: number = 0; i < source.outputs.length; i++) {\n      this.removeConnection(source, source.outputs[i].node)\n    }\n  }\n\n  /**\n   * Appends the given node(s) to the processing queue.\n   *\n   * @param {...CircuitNode} added - node(s) to add to the queue\n   */\n  public enqueue = (...added: CircuitNode[]): void => {\n    added.forEach((node) => {\n      if (!~this.queue.indexOf(node)) {\n        this.queue.push(node)\n      }\n    })\n  }\n\n  /**\n   * Removes the given node from the processing queue.\n   *\n   * @param {CircuitNode} removed - node to remove from the queue\n   */\n  public dequeue = (removed: CircuitNode): void => {\n    const removedIndex = this.queue.indexOf(removed)\n\n    if (~removedIndex) {\n      this.queue.splice(removedIndex, 1)\n    }\n  }\n\n  /**\n   * Resets the circuit.\n   */\n  public reset = (): void => {\n    this.nodes.forEach((node) => node.reset())\n  }\n\n  /**\n   * Advances the circuit simulation one step. If none of the node values have changed,\n   * it continues stepping through until either a value changes or the queue is empty.\n   */\n  public next = (): void => {\n    let isValueChanged = false\n    let localQueue: CircuitNode[] = []\n\n    while (this.queue.length > 0) {\n      const node = this.queue.shift()\n\n      if (!node) continue\n\n      localQueue = localQueue.concat(node.propagate())\n\n      this.dequeue(node)\n\n      if (node.isValueChanged) {\n        isValueChanged = true\n      }\n\n      if (node.forceContinue) {\n        this.enqueue(...localQueue)\n        localQueue = []\n      }\n    }\n\n    if (isValueChanged) {\n      this.enqueue(...localQueue)\n    }\n  }\n\n  /**\n   * Returns true when the queue is finished processing.\n   *\n   * @returns {Boolean}\n   */\n  public isComplete = (): boolean => {\n    let isComplete = true\n\n    if (this.queue.length === 0) {\n      return true\n    }\n\n    this.queue.forEach(node => {\n      const nextValue = node.getProjectedValue()\n\n      if (nextValue !== node.value && !(node instanceof OutputNode)) {\n        isComplete = false\n      }\n    })\n\n    if (isComplete) {\n      this.queue = []\n    }\n\n    return isComplete\n  }\n}\n\nexport default Circuit\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nor extends CircuitNode {\n  public eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.FALSE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.TRUE\n  }\n}\n\nexport default Nor\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Or extends CircuitNode {\n  public eval = (): number => {\n    if (this.valueCount(LogicValue.TRUE)) {\n      return LogicValue.TRUE\n    }\n\n    if (this.valueCount(LogicValue.UNKNOWN)) {\n      return LogicValue.UNKNOWN\n    }\n\n    return LogicValue.FALSE\n  }\n}\n\nexport default Or\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Buffer extends CircuitNode {\n  public forceContinue: boolean = true\n\n  /**\n   * Updates the input value at the given index with the given value.\n   *\n   * @override CircuitNode.update\n   * @param {LogicValue} value - new value\n   * @param {Number} index - source index\n   */\n  public update = (value: number): void => {\n    const id = Object\n      .keys(this.inputValues)\n      .pop()\n\n    if (id) {\n      this.inputValues[id] = value\n      this.newValue = this.eval()\n    }\n  }\n\n  public eval = (): number => {\n    return Object.values(this.inputValues).pop() || LogicValue.UNKNOWN\n  }\n}\n\nexport default Buffer\n","import { LogicValue } from '@/circuit'\n\n/**\n * @class BinaryWaveService\n * @description this service provides functionality for a graphical illustration of a wave in the oscilloscope.\n * Instances of these waves are the values of the active oscillogram.\n */\nexport default class BinaryWaveService implements Pulse {\n  /** Wave ID. */\n  public id: string\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Width (in pixels) of the wave. */\n  public width: number = 0\n\n  /** The y value for the last segment. */\n  private lastY: number = 0\n\n  /** Cartesian point values for each pixel segment. */\n  public segments: Point[] = []\n\n  /** Hue color value for the wave. */\n  public hue: number = 0\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param signal - current signal value to initialize at\n   * @param hue - color value for the wave\n   */\n  constructor (id: string, name: string, signal: number, hue: number) {\n    this.id = id\n    this.name = name\n    this.hue = hue\n    this.initialize(signal)\n  }\n\n  /**\n   * Creates an initial segment based on the given signal.\n   *\n   * @param signal\n   */\n  public initialize = (signal: number) => {\n    const segment = { x: 1, y: 1 }\n\n    if (signal === 1) {\n      segment.y = 0 // draw a vertical line from 0 up to 1\n      this.lastY = 1\n    } else {\n      segment.y = 1 // draw a vertical line from 1 down to 0\n      this.lastY = 0\n    }\n\n    this.addSegment(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Clears out the existing wave data.\n   */\n  public reset = () => {\n    this.segments = []\n    this.width = 0\n    this.initialize(this.lastY === 1 ? 0 : 1)\n  }\n\n  /**\n   * Periodic update function.\n   *\n   * @param elapsed - (no value necessary)\n   */\n  public update = (elapsed: number): void => {\n    this.drawPulseConstant()\n  }\n\n  /**\n   * Adds a new segment.\n   * This will correct for any mismatches between the segment and the previous one (if any).\n   *\n   * @param segment - new segment to add\n   */\n  addSegment = (segment: Point) => {\n    const previous = this.segments[this.segments.length - 1]\n\n    if (!previous && segment.x > 0) {\n      this.segments.push({ x: 0, y: segment.y })\n    } else if (previous && previous.x !== segment.x && previous.y !== segment.y) {\n      // if a previous segment exists, and both its x and y values mismatch, then remove it\n      this.segments.pop()\n    }\n\n    this.segments.push(segment)\n    this.updateWidth()\n  }\n\n  /**\n   * Draws the next segment of the wave with an inverted signal line.\n   *\n   * @param signal - incoming signal change value\n   */\n  drawPulseChange = (signal: number) => {\n    const { x } = this.segments[this.segments.length - 1]\n    const y = signal === LogicValue.TRUE ? 0 : 1\n\n    this.updateWidth()\n    this.addSegment({ x, y })\n  }\n\n  /**\n   * Draws the next segment of the wave, continued from the current signal line.\n   */\n  drawPulseConstant = () => {\n    const previous = this.segments[this.segments.length - 1]\n    // if the y value from the previous segment is unchanged, just extend its x value\n    const pos = this.lastY !== previous.y\n      ? previous\n      : this.segments.pop()\n\n\n    if (pos) {\n      this.updateWidth()\n      this.addSegment({\n        x: pos.x + 1,\n        y: pos.y\n      })\n    }\n    this.lastY = previous.y\n  }\n\n  /**\n   * Truncates the wave from the back such that the resulting wave is no wider than the given value.\n   *\n   * @param widthToKeep - the width, in pixels, to keep from the wave\n   */\n  truncateSegments = (widthToKeep: number) => {\n    if (widthToKeep > this.width) {\n      return\n    }\n\n    const widthToTruncate = this.width - widthToKeep\n\n    let deltaX = 0\n\n    for (let i = 0; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      if (x > widthToTruncate) {\n        deltaX = x - widthToTruncate\n\n        this.segments.splice(0, i)\n        this.segments.unshift({ x: 0, y })\n\n        break\n      }\n    }\n\n    for (let i = 1; i < this.segments.length; i++) {\n      const { x, y } = this.segments[i]\n\n      this.segments[i] = {\n        x: x - widthToTruncate,\n        y\n      }\n    }\n\n    this.updateWidth()\n  }\n\n  updateWidth = () => {\n    this.width = this.segments.slice(-1)[0]?.x || 0\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * @class ClockService\n * @description This provides an oscillating clock wave. It oscillates between TRUE and FALSE.\n */\nexport default class ClockService implements Pulse {\n  /** Wave ID. */\n  public id: string = uuid()\n\n  /** User-friendly label for this wave. */\n  public name: string\n\n  /** Current signal value. */\n  public signal: number = 0\n\n  /** Interval, in milliseconds, to oscillate at. */\n  public interval: number = 0\n\n  /** Last update time, in milliseconds. */\n  private lastUpdate: number\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  private isStopped = false\n\n  /**\n   * Constructor.\n   *\n   * @param name - user-friendly label for this wave\n   * @param interval - time, in milliseconds, to oscillate at\n   * @param signal - current signal value to initialize at\n   */\n  constructor (name: string, interval: number, signal: number) {\n    this.name = name\n    this.signal = signal\n    this.interval = interval\n    this.lastUpdate = -interval\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (signal: number) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  stop = () => {\n    this.isStopped = true\n  }\n\n  start = () => {\n    this.isStopped = false\n  }\n\n  /**\n   * Updates all waves with the given time elapsed.\n   *\n   * @param elapsed - time elapsed during simulation\n   */\n  public update = (elapsed: number): void => {\n    if (!this.isStopped && elapsed >= this.lastUpdate + this.interval) {\n      this.signal = this.signal === -1 ? 1 : -1\n      this.lastUpdate = elapsed\n      this.emitter.emit('change', this.signal)\n    }\n  }\n}\n","import { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\n\n/**\n * @class OscillationService\n * @description Manages all oscillating services, including binary waves and clock pulses.\n * This service uses system time to determine proper sequencing and updating.\n */\nexport default class OscillationService {\n  /** Whether or not the oscillator is paused. */\n  public isPaused: boolean = true\n\n  /** Key-value pair of all waves. */\n  public waves: Record<string, Pulse> = {}\n\n  /** The refresh rate for the oscilloscope. */\n  public refreshRate: number = 20 // TODO: this can be configured to make the waves wider/oscilloscope run faster\n\n  /** The last time the oscillator was updated, in milliseconds. */\n  public lastUpdateTime: number = Date.now()\n\n  /** Elapsed total time, in milliseconds. */\n  public timeMsElapsed: number = 0\n\n  /** Offset wave time, in milliseconds. */\n  public timeMsOffset: number = 0\n\n  /** Event emitter. */\n  private emitter: TinyEmitter = new TinyEmitter()\n\n  /**\n   * Starts the oscillator.\n   */\n  start = () => {\n    if (!this.isPaused) return\n\n    // this is the time that has elapsed prior to the completion of a full period\n    // when the oscillator is stopped, we want to maintain the time progressed before the next period\n    const remainingPeriodTime = this.lastUpdateTime % this.refreshRate\n\n    this.lastUpdateTime = Date.now() + remainingPeriodTime\n    this.isPaused = false\n    this.tick()\n  }\n\n  /**\n   * Stops the oscillator.\n   */\n  stop = () => {\n    this.isPaused = true\n  }\n\n  /**\n   * Clears all current binary wave geometries.\n   */\n  clear = () => {\n    Object\n      .values(this.waves)\n      .forEach(wave => {\n        if (wave instanceof BinaryWaveService) {\n          (wave as BinaryWaveService).reset()\n        }\n      })\n  }\n\n  /**\n   * Computes the SVG points for each given binary wave.\n   *\n   * @param waves\n   * @returns oscillogram result\n   */\n  computeWaveGeometry = (waves: Record<string, Pulse>) => {\n    const displays: Oscillogram = {}\n    const getPoints = (segments: Point[]) => segments.map(({ x, y }) => `${x},${y}`)\n\n    for (const name in waves) {\n      if (waves[name] instanceof BinaryWaveService) {\n        const wave = waves[name] as BinaryWaveService\n        const points = getPoints(wave.segments)\n\n        displays[name] = {\n          points: points.join(' '),\n          width: wave.width,\n          hue: wave.hue\n        }\n      }\n    }\n\n    return displays\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the oscillogram data as its sole argument\n   */\n  on = (event: string, fn: (oscillogram: Oscillogram) => void) => {\n    this.emitter.on(event, fn)\n  }\n\n  /**\n   * Broadcasts the oscillogram.\n   *\n   * @emits change containing the oscillogram data\n   */\n  broadcast = () => {\n    // set the max history to be twice the size of the user's screen, then cut half of it when it is exceeded\n    const screenWidth = window.screen.width\n    const widthOfOneSecond = 1000 / this.refreshRate\n    const maxHistorySeconds = screenWidth / widthOfOneSecond\n\n    if (this.timeMsElapsed >= this.timeMsOffset + ((maxHistorySeconds / 2) * 1000)) {\n      this.timeMsOffset = this.timeMsElapsed\n\n      Object\n        .values(this.waves)\n        .forEach((wave: Pulse) => {\n          if (wave instanceof BinaryWaveService) {\n            wave.truncateSegments(screenWidth)\n          }\n        })\n    }\n\n    this.emitter.emit('change', this.computeWaveGeometry(this.waves))\n  }\n\n  /**\n   * Triggers all oscillation update events.\n   */\n  tick = (): void => {\n    if (this.isPaused) return\n\n    const now = Date.now()\n    const MAX_IDLE_TIME = 10000 // 10 seconds\n    let hasUpdated = false\n\n    if (now >= this.lastUpdateTime + MAX_IDLE_TIME) {\n      // if the oscilloscope has been idle for a while, then re-start it rather than try to catch up to the current time\n      this.stop()\n      this.start()\n      return\n    }\n\n    while (now >= this.lastUpdateTime + this.refreshRate) {\n      // loop through each refresh period elapsed and simulate as if they actually elapsed\n      const delta = Math.min(this.refreshRate, now - this.lastUpdateTime)\n\n      hasUpdated = true\n      this.timeMsElapsed += delta\n      this.lastUpdateTime += delta\n      this.update()\n    }\n\n    if (hasUpdated) {\n      this.broadcast()\n    }\n\n    requestAnimationFrame(this.tick)\n  }\n\n  /**\n   * Updates all waves with the given tick count.\n   */\n  update = (): void => {\n    Object\n      .values(this.waves)\n      .forEach((wave) => wave.update(this.timeMsElapsed))\n  }\n\n  /**\n   * Adds the given wave to the oscillator instance.\n   *\n   * @param {Pulse} wave\n   */\n  add = (wave: Pulse): void => {\n    if (!this.waves.hasOwnProperty(wave.id)) {\n      this.waves[wave.id] = wave\n\n      if (this.timeMsElapsed === 0) {\n        this.broadcast()\n      }\n    }\n  }\n\n  /**\n   * Removes the wave having the given id.\n   *\n   * @param {Pulse} wave\n   */\n  remove = ({ id }: Pulse): void => {\n    delete this.waves[id]\n\n    if (Object.keys(this.waves).length === 0) {\n      this.stop()\n      this.clear()\n    }\n  }\n}\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass And extends CircuitNode {\n  public eval = (): number => {\n    return Object\n      .values(this.inputValues)\n      .reduce((result, value) => {\n        return result && value === LogicValue.TRUE\n      }, true) ? LogicValue.TRUE : LogicValue.FALSE\n  }\n}\n\nexport default And\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Nand extends CircuitNode {\n  public eval = (): number => {\n    return Object\n      .values(this.inputValues)\n      .reduce((result, value) => {\n        return result || value === LogicValue.FALSE\n      }, false) ? LogicValue.TRUE : LogicValue.FALSE\n  }\n}\n\nexport default Nand\n","import CircuitNode from '../base/CircuitNode'\nimport LogicValue from '../types/LogicValue'\n\nclass Not extends CircuitNode {\n  public eval = (): number => {\n    const value = Object\n      .values(this.inputValues)\n      .pop()\n\n    switch (value) {\n      case LogicValue.TRUE:\n        return LogicValue.FALSE\n      case LogicValue.FALSE:\n        return LogicValue.TRUE\n      default:\n        return LogicValue.UNKNOWN\n    }\n  }\n}\n\nexport default Not\n","import CircuitNode from '@/circuit/base/CircuitNode'\nimport InputNode from '@/circuit/base/InputNode'\nimport OutputNode from '@/circuit/base/OutputNode'\nimport Buffer from '@/circuit/gates/Buffer'\nimport And from '@/circuit/gates/And'\nimport Nand from '@/circuit/gates/Nand'\nimport Or from '@/circuit/gates/Or'\nimport Nor from '@/circuit/gates/Nor'\nimport Not from '@/circuit/gates/Not'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\nfunction getLogicGateNode (subtype: string, id: string, inputIds: string[]): CircuitNode {\n  switch (subtype) {\n    case ItemSubtype.And:\n      return new And(id, inputIds)\n    case ItemSubtype.Nand:\n      return new Nand(id, inputIds)\n    case ItemSubtype.Or:\n      return new Or(id, inputIds)\n    case ItemSubtype.Nor:\n      return new Nor(id, inputIds)\n    case ItemSubtype.Not:\n      return new Not(id, inputIds)\n    default:\n      return new Nor(id, inputIds)\n  }\n}\n\nfunction getCircuitNode ({ id, type, subtype }: Item, inputIds: string[]): CircuitNode {\n  switch (type) {\n    case ItemType.CircuitNode:\n      return new CircuitNode(id, inputIds)\n    case ItemType.InputNode:\n      return new InputNode(id, inputIds)\n    case ItemType.LogicGate:\n      return getLogicGateNode(subtype, id, inputIds)\n    case ItemType.Buffer:\n    case ItemType.Freeport:\n      return new Buffer(id, inputIds)\n    default:\n      return new OutputNode(id, inputIds) // TODO: use generic CircuitNode instead?\n  }\n}\n\nexport default {\n  getLogicGateNode,\n  getCircuitNode\n}\n","import { Circuit, CircuitNode } from '@/circuit'\nimport { TinyEmitter } from 'tiny-emitter'\nimport BinaryWaveService from './BinaryWaveService'\nimport ClockService from './ClockService'\nimport OscillationService from './OscillationService'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\nimport circuitNodeMapper from '@/utils/circuitNodeMapper'\n\n/**\n * The SimulationService ties together all aspects of a running simulation, including clock pulses, oscilloscope\n * wave management, and circuit component I/O. Effectively serves as an oracle for all circuit computations.\n *\n * It is important that the simulation maintains the state of the circuit separately from the editor state, as\n * components may be removed/added/changed in the editor by the user at any time. Maintaining them separate allows\n * the signal state of components present in the editor to persist.\n *\n * There is a one-to-one relationship between SimulationService instances and Document instances.\n */\nexport default class SimulationService {\n  /** Mapping of port IDs to their respective circuit nodes. */\n  nodes: Record<string, CircuitNode> = {}\n\n  /** Mapping of port IDs to their respective nodes' binary wave instances. */\n  waves: Record<string, BinaryWaveService> = {}\n\n  /** Mapping of port IDs to their respective nodes' clock instances. */\n  clocks: Record<string, ClockService> = {}\n\n  /** Mapping of port IDs to their respective current values. */\n  valueMap: Record<string, number> = {}\n\n  /** Logical circuit instance. */\n  circuit: Circuit = new Circuit()\n\n  /** Circuit oscillator. */\n  oscillator: OscillationService = new OscillationService()\n\n  /** Event emitter. */\n  emitter: TinyEmitter = new TinyEmitter()\n\n  /** Oscillogram data, containing each BinaryWave instance observed in the oscilloscope. */\n  oscillogram: Oscillogram = {}\n\n  canContinue: boolean = false\n\n  nextState: string | null = null\n\n  isDebug: boolean = false\n\n  nextValueMap: Record<string, number> = {}\n\n  /**\n   * Constructor.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  constructor (items: Item[], connections: Connection[], ports: Record<string, Port>) {\n    this.addElements(items, connections, ports)\n  }\n\n  /**\n   * Adds the given items and connections with the given ports to the simulation.\n   *\n   * @param items\n   * @param connections\n   * @param ports\n   */\n  addElements = (items: Item[], connections: Connection[], ports: Record<string, Port>) => {\n    items.forEach(item => this.addNode(item, ports))\n    connections.forEach(c => this.addConnection(c.source, c.target))\n  }\n\n  /**\n   * Event listener.\n   *\n   * @param event - available values: `change`\n   * @param fn - callback function, taking the port-value mapping as the first argument and oscillogram data as the second\n   */\n  onChange = (fn: (valueMap: Record<string, number>) => void) => {\n    this.emitter.on('change', fn)\n  }\n\n  onError = (fn: (error: string) => void) => {\n    this.emitter.on('error', fn)\n  }\n\n  /**\n   * Emits a change event.\n   *\n   * @emits change when the oscillogram or any value changes changes\n   */\n  emit = () => {\n    this.emitter.emit('change', this.valueMap)\n  }\n\n  /**\n   * Advances the simulation by one step.\n   *\n   * @param [iteration = 0] - internal iteration count (should always invoke using `0` or undefined)\n   */\n  step = (iteration: number = 0) => {\n    this.circuit.next()\n\n    const shouldContinue = this.circuit.queue.length > 0 // TODO: use circuit.isComplete()?\n\n    if (iteration > 1000) {\n      // TODO: configure this to detect infinite loops...\n      this.emitter.emit('error', 'INFINITE_LOOP')\n    }\n\n    if (shouldContinue) {\n      this.step(++iteration)\n    }\n\n    if (!this.isDebug) this.emit()\n  }\n\n  toggleClocks = (fn: 'start' | 'stop') => {\n    Object\n      .values(this.clocks)\n      .forEach(clock => clock[fn]())\n  }\n\n  start = () => {\n    if (!this.isDebug) {\n      this.toggleClocks('start')\n    }\n    this.oscillator.start()\n  }\n\n  stop = () => {\n    this.toggleClocks('stop')\n    this.oscillator.stop()\n  }\n\n  startDebugging = () => {\n    this.isDebug = true\n    this.computeNextState()\n    this.toggleClocks('stop')\n  }\n\n  stopDebugging = () => {\n    this.isDebug = false\n    this.advanceDebuggerStep()\n    this.nextState = null\n    this.toggleClocks('start')\n  }\n\n  advanceDebuggerStep = () => {\n    if (!this.isDebug) return this.step()\n\n    const nextValues = Object.keys(this.nextValueMap)\n\n    if (nextValues.length > 0) {\n      // at least one value change was triggered by the editor since last advance\n      nextValues.forEach(portId => this.updatePortValue(portId, this.nextValueMap[portId]))\n    } else if (this.nextState) {\n      // no inputs are pending updates, and there is a new state to advance to\n      this.valueMap = JSON.parse(this.nextState) as Record<string, number>\n    }\n\n    this.nextValueMap = {}\n    this.computeNextState()\n    this.emit()\n  }\n\n  computeNextState = () => {\n    const currentState = JSON.stringify(this.valueMap)\n\n    this.circuit.next()\n\n    const nextState = JSON.stringify(this.valueMap)\n\n    if (currentState !== nextState) {\n      this.nextState = nextState\n    } else {\n      this.nextState = null\n    }\n\n    this.canContinue = this.nextState !== null\n  }\n\n  updatePortValue = (portId: string, value: number) => {\n    this.nodes[portId].setValue(value)\n    this.circuit.enqueue(this.nodes[portId])\n    this.waves[portId]?.drawPulseChange(value)\n  }\n\n  enqueuePortValueChange = (portId: string, value: number) => {\n    this.nextValueMap[portId] = value\n\n    // circuit can continue only if one or more port values have changed\n    this.canContinue = Object\n      .keys(this.nextValueMap)\n      .reduce((anyValueChanged: boolean, portId) => {\n        return anyValueChanged || this.valueMap[portId] !== this.nextValueMap[portId]\n      }, false)\n  }\n\n  /**\n   * Sets a port's value logical value, performing all necessary simulation operations that result from such an action.\n   *\n   * This should be invoked by the document.\n   *\n   * @param portId\n   * @param value - new logical value\n   */\n  setPortValue = (portId: string, value: number) => {\n    if (this.isDebug) {\n      return this.enqueuePortValueChange(portId, value)\n    }\n\n    if (this.nodes[portId] && this.nodes[portId].value !== value) {\n      this.updatePortValue(portId, value)\n      this.step()\n    }\n  }\n\n  /**\n   * Adds an integrated circuit to the simulation.\n   *\n   * @param item - the high-level integrated circuit item\n   */\n  addIntegratedCircuit = (icItem: Item) => {\n    if (!icItem.integratedCircuit) return\n\n    const { items, connections, ports } = icItem.integratedCircuit\n\n    Object\n      .values(items)\n      .forEach(item => {\n        this.addNode(item, ports)\n      })\n\n    Object\n      .values(connections)\n      .forEach(c => {\n        this.addConnection(c.source, c.target)\n      })\n  }\n\n  /**\n   * Adds new a node to the simulation.\n   *\n   * @param item - item to add\n   * @param ports - port mapping to reference (if an IC, then use the ports within the document itself)\n   * @param [forceContinue] - if true, forces the circuit node to evaluate immediately\n   */\n  addNode = (item: Item, ports: Record<string, Port>, forceContinue: boolean = false) => {\n    if (item.portIds.length === 0) return // if there are no ports, then there is nothing to add to the simulation\n\n    if (item.integratedCircuit) {\n      return this.addIntegratedCircuit(item)\n    }\n\n    const inputIds = item.portIds.filter(portId => ports[portId].type === PortType.Input)\n    const outputIds = item.portIds.filter(portId => ports[portId].type === PortType.Output)\n    const node = circuitNodeMapper.getCircuitNode(item, inputIds)\n\n    if (forceContinue) {\n      node.forceContinue = true\n    }\n\n    item.portIds.forEach(portId => this.addPort(portId, node))\n\n    node.on('change', (value: number, outputs: string[]) => {\n      // each time the node value changes, update its oscillogram wave (if any) and the value map to emit to the consumer\n      outputs\n        .concat(outputIds) // include all output ports\n        .forEach(id => {\n          this.valueMap[id] = value\n          this.waves[id]?.drawPulseChange(value)\n        })\n    })\n\n    if (item.type === ItemType.InputNode && item.subtype === ItemSubtype.Clock) {\n      this.addClock(outputIds[0], item.properties.interval?.value as number)\n    }\n\n    this.circuit.addNode(node)\n\n    item.portIds.forEach(portId => {\n      const port = ports[portId]\n\n      if (port.isMonitored) {\n        this.monitorPort(portId, port.value, port.hue)\n      }\n    })\n  }\n\n  /**\n   * Removes a node and all of its ports from the simulation.\n   *\n   * @param portIds - list of IDs of ports associated with the node (at least one matching is required)\n   */\n  removeNode = (item: Item) => {\n    /** returns the port IDs of all ports that are related to the given integrated circuit */\n    const getIntegratedCircuitPortIds = (ic: Item): string[] => {\n      if (!ic.integratedCircuit) return []\n\n      return Object\n        .values(ic.integratedCircuit.items)\n        .reduce((portIds, i) => {\n          if (i.integratedCircuit) {\n            return portIds\n              .concat(getIntegratedCircuitPortIds(i))\n              .concat(i.portIds)\n          }\n          return portIds.concat(i.portIds)\n        }, [] as string[])\n    }\n\n    // remove all nodes that are referenced to port IDs of the given item\n    item\n      .portIds\n      .concat(getIntegratedCircuitPortIds(item)) // ...including IC ports\n      .forEach(portId => {\n        const node = this.nodes[portId]\n\n        if (node) {\n          this.circuit.removeNode(node)\n          this.removePort(portId)\n        }\n      })\n\n    this.emit()\n  }\n\n  /**\n   * Adds an interval clock to the circuit.\n   *\n   * @param portId\n   */\n  addClock = (portId: string, interval = 1000) => { // TODO: make 1000 a constant (default interval)\n    this.clocks[portId] = new ClockService(portId, interval, 1)\n    this.clocks[portId].on('change', (signal: number) => {\n      this.setPortValue(portId, signal)\n    })\n    this.oscillator.add(this.clocks[portId])\n  }\n\n  setClockInterval = (portId: string, interval: number) => {\n    if (this.clocks[portId]) {\n      this.clocks[portId].interval = interval\n    }\n  }\n\n  /**\n   * Adds a port to the simulation.\n   *\n   * @param portId - ID of the port associated with the node\n   * @param node - circuit node\n   */\n  addPort = (portId: string, node: CircuitNode) => {\n    this.nodes[portId] = node\n\n  }\n\n  /**\n   * Removes a port from the simulation and all associations of it.\n   * Associations include circuit nodes, value mappings, and any active clocks and waves.\n   *\n   * @param portId\n   */\n  removePort = (portId: string) => { // TODO: need to remove wave from oscillation\n    if (this.clocks[portId]) {\n      this.oscillator.remove(this.clocks[portId])\n    }\n\n    this.unmonitorPort(portId)\n\n    delete this.nodes[portId]\n    delete this.valueMap[portId]\n    delete this.clocks[portId]\n    delete this.waves[portId]\n  }\n\n  /**\n   * Adds a new connection between the given source and target ports.\n   * This requires that the circuit nodes for both the source and target have been added to the simulation.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  addConnection = (sourceId: string, targetId: string, sourceValue?: number) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.addConnection(this.nodes[sourceId], this.nodes[targetId], targetId, sourceValue)\n      this.advanceDebuggerStep()\n    }\n  }\n\n  /**\n   * Removes a connection that exists between the given source and target ports.\n   *\n   * @param sourceId\n   * @param targetId\n   */\n  removeConnection = (sourceId: string, targetId: string, sourceValue?: number) => {\n    if (this.nodes[sourceId] && this.nodes[targetId]) {\n      this.circuit.removeConnection(this.nodes[sourceId], this.nodes[targetId], sourceValue)\n      this.advanceDebuggerStep()\n    }\n  }\n\n  /**\n   * Begins monitoring an individual port in the oscilloscope.\n   *\n   * @param portId\n   * @param value - current port value\n   */\n  monitorPort = (portId: string, value: number, hue: number) => {\n    if (!this.waves[portId]) {\n      this.waves[portId] = new BinaryWaveService(portId, portId, value, hue)\n      this.oscillator.add(this.waves[portId])\n    }\n  }\n\n  /**\n   * Removes a port from being monitored in the oscilloscope.\n   *\n   * @param portId\n   */\n  unmonitorPort = (portId: string) => {\n    if (this.waves[portId]) {\n      this.oscillator.remove(this.waves[portId])\n      this.oscillator.broadcast()\n    }\n\n    delete this.waves[portId]\n    delete this.oscillator.waves[portId]\n    delete this.oscillogram[portId]\n  }\n}\n","import SimulationService from '@/services/SimulationService'\n\nexport interface DocumentState extends SerializableState {\n  viewport: DOMRect\n  canvas: BoundingBox\n  oscilloscopeHeight: number\n  hasLoaded: boolean\n  cachedState: string | null\n  undoStack: string[]\n  redoStack: string[]\n  snapBoundaries: BoundingBox[]\n  connectablePortIds: string[]\n  itemNames: string[],\n  zoomLevel: number\n  simulation: SimulationService\n  oscillogram: Oscillogram\n  isOscilloscopeOpen: boolean\n  isOscilloscopeRecording: boolean\n  isCircuitEvaluated: boolean\n  isDebugging: boolean\n  isDirty: boolean\n  activeFreeportId: string | null\n  selectedItemIds: string[]\n  selectedConnectionIds: string[]\n  selectedPortIndex: number\n  zIndex: number\n  activePortId: string | null\n  connectionPreviewId: string | null\n  isPrinting: boolean\n  isCreatingImage: boolean\n  animatePan: boolean\n  debugger: {\n    timeout: number\n    hasUpdated: boolean\n  }\n}\n\nexport const state = (): DocumentState => ({\n  undoStack: [],\n  redoStack: [],\n  simulation: new SimulationService([], [], {}),\n  oscillogram: {},\n  itemNames: [],\n  zoomLevel: 1,\n  zIndex: 1,\n  oscilloscopeHeight: 200,\n  isOscilloscopeOpen: false,\n  isOscilloscopeRecording: true,\n  isCircuitEvaluated: false,\n  isDebugging: false,\n  isDirty: false,\n  hasLoaded: false,\n  isPrinting: false,\n  isCreatingImage: false,\n  animatePan: false,\n\n  /** debugger status */\n  debugger: {\n    timeout: 0,\n    hasUpdated: false\n  },\n\n  /* canvas dimensions */\n  viewport: new DOMRect(),\n  canvas: {\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n\n  /* the following variables are 'temporary' information */\n  snapBoundaries: [],\n  connectablePortIds: [],\n  selectedConnectionIds: [],\n  selectedItemIds: [],\n  selectedPortIndex: -1,\n  cachedState: null,\n  activeFreeportId: null,\n  activePortId: null,\n  connectionPreviewId: null,\n\n  /* serializable state items */\n  items: {},\n  connections: {},\n  ports: {},\n  groups: {}\n})\n","import { DocumentStoreInstance } from '..'\nimport idMapper from '@/utils/idMapper'\n\nexport function cut (this: DocumentStoreInstance) {\n  this.copy()\n  this.deleteSelection()\n}\n\nexport function copy (this: DocumentStoreInstance) {\n  if (!this.hasSelection) return\n\n  const items: Record<string, Item> = {}\n  const ports: Record<string, Port> = {}\n\n  this.selectedItemIds.forEach(id => {\n    items[id] = this.items[id]\n    items[id].portIds.forEach(portId => {\n      ports[portId] = this.ports[portId]\n    })\n  })\n\n  const connections = Object\n    .values(this.connections)\n    .reduce((map, connection) => {\n      if (ports[connection.source] && ports[connection.target]) {\n        map[connection.id] = connection\n      }\n\n      return map\n    }, {} as Record<string, Connection>)\n\n  const groups = Object\n    .values(this.groups)\n    .filter(({ isSelected }) => isSelected)\n    .reduce((map, group) => ({ ...map, [group.id]: group }), {})\n\n  const clipboardData: ClipboardData = {\n    items,\n    ports,\n    connections,\n    groups,\n    pasteCount: 1\n  }\n\n  window.api.copy(JSON.stringify(clipboardData))\n}\n\nexport function paste (this: DocumentStoreInstance) {\n  try {\n    const state = window.api.paste()\n    const parsed = JSON.parse(state as string) as ClipboardData\n    const mapped = idMapper.mapStandardCircuitIds(parsed) as ClipboardData\n\n    this.commitState()\n    this.deselectAll()\n\n    Object\n      .keys(mapped.ports)\n      .forEach(portId => {\n        mapped.ports[portId].value = 0\n      })\n\n    Object\n      .values(mapped.items)\n      .forEach(item => {\n        item.position.x += 20 * parsed.pasteCount\n        item.position.y += 20 * parsed.pasteCount\n        item.isSelected = false\n\n        this.addItem({\n          item,\n          ports: mapped.ports\n        })\n        this.setSelectionState({ id: item.id, value: true })\n      })\n\n    Object\n      .values(mapped.connections)\n      .forEach(connection => this.connect(connection))\n\n    Object\n      .values(mapped.groups)\n      .forEach(group => {\n        this.groups[group.id] = group\n\n        this.setGroupBoundingBox(group.id)\n        this.setSelectionState({ id: group.id, value: true })\n      })\n\n    const clipboardData: ClipboardData = {\n      ...JSON.parse(state),\n      pasteCount: parsed.pasteCount + 1\n    }\n\n    window.api.copy(JSON.stringify(clipboardData))\n  } catch (error) {\n    console.log('ERROR: ', error)\n    // TODO: clear clipboard?\n  }\n}\n","import PortType from '@/types/enums/PortType'\nimport { v4 as uuid } from 'uuid'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n *\n * @param portId - the ID of the port previewing connections for\n */\nexport function setConnectionPreview (this: DocumentStoreInstance, portId: string | null) {\n  if (this.activePortId && portId) {\n    let source = this.activePortId\n    let target = portId\n\n    if (this.ports[this.activePortId].type === PortType.Input) {\n      source = portId\n      target = this.activePortId\n    }\n\n    const id = uuid()\n\n    this.unsetConnectionPreview()\n    this.connect({ source, target, id })\n    this.connectionPreviewId = id\n  }\n}\n\n/**\n * Clears the active connection preview.\n */\nexport function unsetConnectionPreview (this: DocumentStoreInstance) {\n  if (this.connectionPreviewId) {\n    this.disconnect(this.connections[this.connectionPreviewId])\n  }\n  this.connectionPreviewId = null\n}\n\n/**\n * Commits the previewed connection action as an undo-able state.\n */\nexport function commitPreviewedConnection (this: DocumentStoreInstance) {\n  if (this.connectionPreviewId) {\n    const { source, target } = this.connections[this.connectionPreviewId]\n\n    this.disconnect({ source, target })\n    this.commitState()\n    this.connect({ source, target })\n    this.connectionPreviewId = null\n  }\n}\n\n/**\n * Establishes a 'preview' of a connection (i.e., not saved in the current document this).\n * This is so that the user can press a keyboard shortcut to quickly navigate/preview possible connections.\n *\n * @param portId - the ID of the port previewing connections for\n */\nexport function cycleConnectionPreviews (this: DocumentStoreInstance, portId: string) {\n  if (portId && portId !== this.activePortId) {\n    this.setActivePortId(portId)\n  }\n\n  let index = this.selectedPortIndex + 1\n\n  if (index <= 0) index = 0\n  if (index >= this.connectablePortIds.length) index = -1\n\n  const previewPortId = this.connectablePortIds[index]\n\n  if (previewPortId && !this.ports[portId]?.connectedPortIds.includes(previewPortId)) {\n    this.setConnectionPreview(previewPortId)\n  } else {\n    if (this.connectablePortIds.length === 0) {\n      window.api.beep() // audibly inform the user they can't connect to anything\n    }\n    this.unsetConnectionPreview()\n  }\n  this.selectedPortIndex = index\n}\n\n/**\n * Establishes a new connection between two ports.\n *\n * @param payload\n * @param payload.source - source port ID\n * @param payload.target - target port ID\n * @param payload.connectionChainId - optional connection chain ID to add the connection segment to\n */\nexport function createConnection (this: DocumentStoreInstance, data: { source: string, target: string, id?: string, connectionChainId?: string }) {\n  const id = data.id || uuid()\n\n  this.connections[id] = {\n    ...data,\n    id,\n    connectionChainId: data.connectionChainId || id,\n    groupId: null,\n    zIndex: ++this.zIndex,\n    isSelected: false\n  }\n\n  this.ports[data.source].connectedPortIds.push(data.target)\n  this.ports[data.target].connectedPortIds.push(data.source)\n}\n\nexport function connect (this: DocumentStoreInstance, data: { source: string, target: string, id?: string, connectionChainId?: string }) {\n  this.createConnection(data)\n\n  this\n    .simulation\n    .addConnection(data.source, data.target)\n\n  this.simulation.circuit.next()\n}\n\n/**\n * Disconnects two ports.\n *\n * @param payload\n * @param payload.source - source port ID\n * @param payload.target - target port ID\n */\nexport function destroyConnection (this: DocumentStoreInstance, { source, target }: { source: string, target: string }) {\n  const connection = Object\n    .values(this.connections)\n    .find(c => c.source === source && c.target === target)\n\n  if (connection) {\n    const sourceIndex = this.ports[source].connectedPortIds.findIndex(id => id === target)\n    const targetIndex = this.ports[target].connectedPortIds.findIndex(id => id === source)\n\n    this.ports[source].connectedPortIds.splice(sourceIndex, 1)\n    this.ports[target].connectedPortIds.splice(targetIndex, 1)\n\n    delete this.connections[connection.id]\n  }\n}\n\nexport function disconnect (this: DocumentStoreInstance, { source, target }: { source: string, target: string }) {\n  this\n    .simulation\n    .removeConnection(source, target)\n\n  this.simulation.circuit.next()\n\n  this.destroyConnection({ source, target })\n}\n","import { DocumentStoreInstance } from '..'\n\nexport function loadDocument (this: DocumentStoreInstance, document: string) {\n  const parsed = JSON.parse(document)\n  const state = parsed.integratedCircuit\n    ? JSON.stringify(parsed.integratedCircuit)\n    : document\n\n  this.applyState(state)\n  this.resetCircuit()\n}\n\nexport function print (this: DocumentStoreInstance) {\n  this.isPrinting = true\n}\n\nexport function createImage (this: DocumentStoreInstance) {\n  this.isCreatingImage = true\n}\n\n\nexport function clearStatelessInfo (this: DocumentStoreInstance) {\n  this.unsetConnectionPreview()\n  this.connectablePortIds = []\n  this.selectedConnectionIds = []\n  this.selectedItemIds = []\n  this.selectedPortIndex = -1\n  this.cachedState = null\n  this.activePortId = null\n  this.connectionPreviewId = null\n}\n\nexport function clearBaseItems (this: DocumentStoreInstance, itemIds: string[], connectionIds: string[], groupIds: string[]) {\n  const portIds = itemIds.reduce((portIds, itemId) => {\n    return portIds.concat(this.items[itemId].portIds)\n  }, [] as string[])\n  const connectionChainIds = new Set<string>()\n\n  Object\n    .values(this.connections)\n    .forEach(({ source, target, connectionChainId }) => {\n      if (portIds.includes(source) || portIds.includes(target)) {\n        connectionChainIds.add(connectionChainId)\n      }\n    })\n\n  const connections = Object\n    .values(this.connections)\n    .filter(({ connectionChainId }) => connectionChainIds.has(connectionChainId))\n    .concat(connectionIds.map(id => this.connections[id]))\n\n  connections.forEach(connection => {\n    this.disconnect(connection)\n\n    if (this.ports[connection.source]?.isFreeport) {\n      // if the source is a freeport, remove its parent item\n      this.removeElement(this.ports[connection.source].elementId)\n    }\n  })\n  itemIds.forEach(this.removeElement)\n  groupIds.forEach(groupId => {\n    delete this.groups[groupId]\n  })\n}\n","import Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function portFactory (elementId: string, id: string, orientation: Direction, type: PortType, name: string): Port {\n  return {\n    id,\n    orientation,\n    name,\n    position: {\n      x: 0,\n      y: 0\n    },\n    type,\n    rotation: 0,\n    elementId,\n    value: 0,\n    hue: 0,\n    isMonitored: false,\n    isFreeport: false,\n    connectedPortIds: []\n  }\n}\n","import FileService from '@/services/FileService'\nimport { defineStore } from 'pinia'\n\nexport const usePreferencesStore = defineStore({\n  id: 'preferences',\n  state: () => ({\n    colors: {\n      onColor: {\n        type: 'color',\n        label: 'High state',\n        value: '#0000ff',\n        description: 'When a signal is present.'\n      },\n      offColor: {\n        type: 'color',\n        label: 'Low state',\n        value: '#c0c0c0',\n        description: 'When no signal is present.'\n      },\n      unknownColor: {\n        type: 'color',\n        label: 'Unknown state',\n        value: '#ff0000',\n        description: 'High impedance (Hi-Z).'\n      }\n    } as PropertySet,\n    snapping: {\n      snapToGrid: {\n        type: 'boolean',\n        label: 'Snap to grid',\n        value: false,\n        description: 'Snap elements to the grid lines.',\n        excludes: ['snapToAlign']\n      },\n      snapToAlign: {\n        type: 'boolean',\n        label: 'Snap to align',\n        value: true,\n        description: 'Snap elements together.',\n        excludes: ['snapToGrid']\n      },\n      snapTolerance: {\n        type: 'number',\n        label: 'Snap tolerance',\n        value: 15,\n        description: 'Maximum distance from a dragging object to snap to another element.'\n      }\n    } as PropertySet,\n    grid: {\n      showGrid: {\n        type: 'boolean',\n        label: 'Show grid',\n        value: true,\n        description: 'Display a grid on the canvas.'\n      },\n      gridSize: {\n        type: 'number',\n        label: 'Grid size',\n        value: 20,\n        description: 'Distance between grid lines.',\n        excludes: ['snapToAlign']\n      }\n    } as PropertySet,\n    simulation: {\n      startPaused: {\n        type: 'boolean',\n        label: 'Pause on startup',\n        value: true,\n        description: 'Start simulation paused.'\n      }\n    } as PropertySet,\n    experience: {\n      vibration: {\n        type: 'boolean',\n        label: 'Vibration',\n        value: true,\n        description: 'Haptic feedback on gestures.',\n        mobileOnly: true\n      },\n      autosave: {\n        type: 'boolean',\n        label: 'Auto-save',\n        value: true,\n        description: 'Automatically save your work.',\n        desktopOnly: true\n      },\n      darkMode: {\n        type: 'boolean',\n        label: 'Dark mode',\n        value: true\n      }\n    } as PropertySet\n  }),\n\n  actions: {\n    async writeSettings () {\n      try {\n        // TODO: determine settings path for each OS\n        // await FileService.open('?')\n      } catch (_) {}\n    },\n\n    async updateSettings (preferences: PropertySet) {\n      await this.writeSettings()\n    }\n  }\n})\n","import boundaries from '../geometry/boundaries'\nimport { DocumentStoreInstance } from '..'\nimport itemFactory from '@/factories/itemFactory'\nimport portFactory from '@/factories/portFactory'\nimport Direction from '@/types/enums/Direction'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport PortType from '@/types/enums/PortType'\nimport { usePreferencesStore } from '@/store/preferences'\n\n/**\n * Adds a new freeport element. This can be used in either of two scenarios:\n *\n *  1. when a user is dragging a port to establish a connection to another port\n *  2. when a user drags on a connection to create a new \"pivot point\" on the wire\n *\n * @param payload\n * @param payload.itemId - desired ID for the new freeport\n * @param payload.inputPortId - the ID of the input port (omit for a wire drag from an output port)\n * @param payload.outputPortId - the ID of the output port (omit for a wire drag from an input port)\n * @param payload.position - the initial position of this port\n * @param payload.value - optional value of the port\n */\nexport function addFreeportItem (this: DocumentStoreInstance, { itemId, inputPortId, outputPortId, value = 0 }: {\n  itemId: string\n  outputPortId?: string\n  inputPortId?: string\n  value?: number\n}) {\n  const ports: Port[] = []\n\n  if (outputPortId) {\n    this.ports[outputPortId] = portFactory(itemId, outputPortId, Direction.Left, PortType.Output, outputPortId)\n    this.ports[outputPortId].value = value\n    this.ports[outputPortId].isFreeport = true\n    ports.push(this.ports[outputPortId])\n  }\n\n  if (inputPortId) {\n    this.ports[inputPortId] = portFactory(itemId, inputPortId, Direction.Right, PortType.Input, inputPortId)\n    this.ports[inputPortId].value = value\n    this.ports[inputPortId].isFreeport = true\n    ports.push(this.ports[inputPortId])\n  }\n\n  this.items[itemId] = itemFactory(itemId, ItemType.Freeport, ItemSubtype.None, 1, 1, ports)\n  this.items[itemId].zIndex = this.zIndex++\n\n  this\n    .simulation\n    .addNode(this.items[itemId], this.ports, true)\n}\n\n/**\n * Removes a Freeport from the document.\n * This can remove either a dragged freeport or a connector between two wire segments.\n *\n * @param id - ID of the freeport item\n */\nexport function disconnectFreeport (this: DocumentStoreInstance, id: string) {\n  const item = this.items[id]\n\n  let originalSourceId = ''\n  let originalTargetId = ''\n\n  // find the true source and target port ids\n  Object\n    .values(this.connections)\n    .forEach(c => {\n      if (c.target === item.portIds[1]) originalSourceId = c.source\n      if (c.source === item.portIds[0]) originalTargetId = c.target\n    })\n\n  if (originalSourceId) this.disconnect({ source: originalSourceId, target: item.portIds[1] })\n  if (originalTargetId) this.disconnect({ source: item.portIds[0], target: originalTargetId })\n  if (originalSourceId && originalTargetId) {\n    // reconnect the true source and target\n    this.connect({ source: originalSourceId, target: originalTargetId })\n  }\n}\n\n/**\n * Creates a new freeport item with the given set of IDs in the payload.\n * This can either be a dragged port (to connect a port) or a joint between two connection segments.\n *\n * For a joint, include all required params, including the IDs of the destination ports and the freeport ports.\n * For a dragged port, include the source IDs (if dragged from an output) or the target IDs (if dragged from an input).\n *\n * @param data - IDs for apply the new freeport\n */\nexport function createFreeport (this: DocumentStoreInstance, data: Freeport, createCircuitConnection: boolean = true) {\n  if (this.items[data.itemId]) return\n\n  if (data.sourceId && data.targetId) {\n    this.commitState()\n  }\n\n  this.deselectAll()\n  this.addFreeportItem(data)\n  this.setItemBoundingBox(data.itemId)\n  this.activeFreeportId = data.itemId\n\n  let connections: { source: string, target: string }[] = []\n\n  if (data.sourceId && data.inputPortId) {\n    connections.push({\n      source: data.sourceId,\n      target: data.inputPortId\n    })\n  }\n\n  if (data.targetId && data.outputPortId) {\n    connections.push({\n      source: data.outputPortId,\n      target: data.targetId\n    })\n  }\n\n  connections.forEach(connection => {\n    this.createConnection({\n      ...connection,\n      connectionChainId: data.connectionChainId\n    })\n\n    if (createCircuitConnection) {\n      this\n        .simulation\n        .addConnection(connection.source, connection.target, this.ports[connection.source].value)\n    }\n  })\n\n  if (data.sourceId && data.targetId) {\n    // only remove the circuit connection (not the store connection), as its component may still be in action (i.e., handling dragging)\n    // once the dragging operation is complete, it will be the responsibility of the connection component to destroy itself\n    this\n      .simulation\n      .removeConnection(data.sourceId, data.targetId, this.ports[data.sourceId].value)\n  }\n\n  if (data.sourceId && data.targetId) {\n    // bring forward the freeport item so that it is between the two new connections\n    this.deselectAll()\n    this.setSelectionState({\n      id: data.itemId,\n      value: true\n    })\n    this.incrementZIndex(1)\n  }\n\n  this.simulation.circuit.next()\n}\n\n/**\n * Establishes a connection after a user drags a port to connect it to an item.\n * This will disconnect the temporary wire and port being dragged, and establish a new connection between the two items.\n *\n * @param payload\n * @param payload.sourceId - the ID of the source port (if being dragged from one)\n * @param payload.targetId - the ID of the target port (if being dragged from one)\n * @param payload.portId - the ID of the temporary freeport being dragged\n */\nexport function connectFreeport (this: DocumentStoreInstance, { sourceId, targetId, portId }: { sourceId?: string, targetId?: string, portId: string }) {\n  const port = this.ports[portId]\n  const snap = usePreferencesStore().snapping.snapTolerance.value as number\n  const newPort = Object\n    .values(this.ports)\n    .find((p: Port) => {\n      return p.id !== portId && this.connectablePortIds.includes(p.id) && boundaries.isInNeighborhood(p.position, port.position, snap)\n    })\n\n  if (newPort) {\n    if (sourceId) {\n      this.disconnect({\n        source: sourceId,\n        target: portId\n      })\n      this.connect({\n        source: sourceId,\n        target: newPort.id\n      })\n    } else if (targetId) {\n      this.disconnect({\n        source: portId,\n        target: targetId\n      })\n      this.connect({\n        source: newPort.id,\n        target: targetId\n      })\n    }\n  } else {\n    // no port can be connected, so disconnect the temporary dragged wire\n    this.disconnect({\n      source: sourceId || portId,\n      target: targetId || portId\n    })\n  }\n\n  const item = Object\n    .values(this.items)\n    .find(({ portIds }) => portIds.includes(portId))\n\n  if (item) {\n    this.removeElement(item.id)\n  }\n\n  this.clearStatelessInfo()\n}\n","import { DocumentStoreInstance } from '..'\nimport { v4 as uuid } from 'uuid'\n\n/**\n * Groups together all selected items and connections.\n * If any of those selected elements are a member of a group, that group will be destroyed.\n */\nexport function group (this: DocumentStoreInstance) {\n  this.commitState()\n\n  const id = uuid()\n  const items = Object\n    .values(this.items)\n    .filter(({ isSelected }) => isSelected)\n\n  const portIds = items.reduce((portIds, item) => {\n    return portIds.concat(item.portIds)\n  }, [] as string[])\n\n  const connections = Object\n    .values(this.connections)\n    .filter(c => {\n      // ensure both source and target ports are associated with items in the group\n      return portIds.includes(c.source) && portIds.includes(c.target) && c.isSelected\n    })\n\n  // if any of the items or connections are part of another group, ungroup those\n  items.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n  connections.forEach(i => i.groupId && this.destroyGroup(i.groupId))\n\n  // update the zIndex of all items to be the highest one among the selected\n  const zIndex = [...items, ...connections].reduce((zIndex: number, item: BaseItem) => {\n    return Math.max(item.zIndex, zIndex)\n  }, 0)\n\n  const group = {\n    id,\n    itemIds: items.map(({ id }) => id),\n    connectionIds: connections.map(({ id }) => id),\n    isSelected: true,\n    boundingBox: {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    },\n    position: {\n      x: 0, y: 0\n    },\n    zIndex\n  }\n\n  this.groups[id] = group\n\n  // set the groupId of all items in the group\n  group.itemIds.forEach(id => {\n    this.items[id].groupId = group.id\n  })\n\n  // set the groupId of all connections in the group\n  group.connectionIds.forEach(id => {\n    this.connections[id].groupId = group.id\n  })\n\n  this.setZIndex(zIndex)\n  this.setGroupBoundingBox(id)\n}\n\n/**\n * Destroys all selected groups.\n */\n export function ungroup (this: DocumentStoreInstance) {\n  this.commitState()\n\n  for (const id in this.groups) {\n    if (this.groups[id].isSelected) {\n      this.destroyGroup(id)\n    }\n  }\n}\n\n/**\n * Destroys the group having the given ID.\n *\n * @param groupId\n */\nexport function destroyGroup (this: DocumentStoreInstance, groupId: string) {\n  const group = this.groups[groupId]\n\n  // remove the groupId of all items in the group and select them\n  group.itemIds.forEach(id => {\n    this.items[id].groupId = null\n    this.selectedItemIds.push(id)\n  })\n\n  // remove the groupId of all connections in the group and select them\n  group.connectionIds.forEach(id => {\n    this.connections[id].groupId = null\n    this.selectedConnectionIds.push(id)\n  })\n\n  delete this.groups[groupId]\n}\n","export default function fromDocumentToEditorCoordinates (canvas: BoundingBox, viewport: DOMRect, point: Point, z: number) {\n  return {\n    x: (point.x - viewport.x - canvas.left) / z,\n    y: (point.y - viewport.y - canvas.top) / z\n  }\n}\n","import { v4 as uuid } from 'uuid'\nimport { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport PortType from '@/types/enums/PortType'\nimport Direction from '@/types/enums/Direction'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\nimport ItemType from '@/types/enums/ItemType'\n\n/**\n * Adds any non-IC component to the state.\n *\n * @param payload\n * @param payload.item - new item to add\n * @param payload.ports - mapping of IDs-to-ports, containing a subset of ports belonging to the new item\n */\nexport function addItem (this: DocumentStoreInstance, { item, ports }: { item: Item, ports: Record<string, Port> }) {\n  // add all ports associated to this item\n  // if the item is an integrated circuit, only add the ports that it defines (ones visible to the user)\n  const portList = item.integratedCircuit?.ports || ports\n\n  item\n    .portIds\n    .forEach(portId => {\n      const port = portList[portId]\n\n      if (port) {\n        this.ports[port.id] = port\n\n        if (port.isMonitored) {\n          this.monitorPort(port.id)\n        }\n      }\n    })\n\n  let name = item.name\n  let c = 0\n\n  while (this.itemNames.includes(name)) {\n    name = `${item.name} ${++c}`\n  }\n\n  item.name = name\n\n  // add the item to the document and create its corresponding circuit node\n  this.items[item.id] = item\n  this.items[item.id].zIndex = ++this.zIndex\n\n  this\n    .simulation\n    .addNode(item, this.ports)\n\n  this.resetItemValue(item)\n  this.setProperties(item.id, item.properties)\n  this.setItemBoundingBox(item.id)\n}\n\nexport function insertItemAtPosition (this: DocumentStoreInstance, { item, ports }: { item: Item, ports: Port[] }, documentPosition: Point | null = null) {\n  if (!documentPosition) {\n    const midpoint = boundaries.getBoundingBoxMidpoint(this.viewport)\n\n    documentPosition = {\n      x: midpoint.x + this.viewport.left,\n      y: midpoint.y + this.viewport.top\n    }\n  }\n\n  const position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, documentPosition, this.zoomLevel)\n\n  position.x -= item.width / 2\n  position.y -= item.height / 2\n\n  item.position = position\n\n  this.commitState()\n  this.addItem({\n    item,\n    ports: ports.reduce((map: Record<string, Port>, port) => ({ ...map, [port.id]: port }), {})\n  })\n  this.setItemBoundingBox(item.id)\n  this.setSelectionState({ id: item.id, value: true })\n}\n\nexport function resetItemValue (this: DocumentStoreInstance, item: Item) {\n  const property = item.properties?.startValue\n\n  if (!property) return\n\n  const value = property.value as number\n\n  item.portIds.forEach(id => this.setPortValue({ id, value }))\n}\n\n/**\n * Removes an element and all its associated ports and circuit nodes from the state.\n *\n * @param id - ID of the item to remove\n */\nexport function removeElement (this: DocumentStoreInstance, id: string) {\n  const item = this.items[id]\n\n  if (!item) return\n  if (item.type === ItemType.Freeport) {\n    this.disconnectFreeport(id)\n  }\n\n  this\n    .simulation\n    .removeNode(item)\n\n  // remove all ports associated with the item\n  const ids = [...item.portIds]\n\n  ids.forEach(portId => this.removePort(portId))\n\n  // remove the item\n  delete this.items[id]\n}\n\n/**\n * Sets the number of input ports that a LogicGate should have.\n * If the number is less than the current number of ports, take away the difference number of existing ports.\n *\n * @param payload\n * @param payload.id - LogicGate ID\n * @param payload.count - new number of input ports\n */\n export function setInputCount (this: DocumentStoreInstance, id: string, count: number) {\n  const item = this.items[id]\n  const oldCount = item.properties.inputCount.value as number\n\n  if (oldCount > count) {\n    // if the count has decreased, find the last remaining port IDs which will be removed\n    this.items[id].portIds\n      .filter(portId => this.ports[portId].type === PortType.Input)\n      .slice(count)\n      .forEach(portId => this.removePort(portId))\n  } else {\n    for (let i = oldCount; i < count; i++) {\n      const portId = uuid()\n\n      // add the difference of ports one by one\n      this.addPort(id, {\n        id: portId,\n        name: '', // TODO\n        connectedPortIds: [],\n        type: PortType.Input,\n        elementId: id,\n        virtualElementId: id,\n        orientation: Direction.Left,\n        isFreeport: false,\n        isMonitored: false,\n        hue: 0,\n        position: {\n          x: 0,\n          y: 0\n        },\n        rotation: 0,\n        value: 0\n      })\n    }\n  }\n}\n\n/**\n * Updates the properties values. If no properties have changed, then no changes will take effect.\n * This will perform any actions necessary to occur when a property value changes.\n *\n * @param payload\n * @param payload.id - item ID\n * @param payload.properties - new version of the properties\n */\nexport function setProperties (this: DocumentStoreInstance, id: string, properties: PropertySet) {\n  const item = this.items[id]\n\n  for (const propertyName in properties) {\n    const property = properties[propertyName]\n\n    if (item.properties[propertyName].value === property.value) {\n      continue // do nothing if the property value has not changed\n    }\n\n    this.commitState()\n\n    switch (propertyName) {\n      case 'inputCount':\n        this.setInputCount(id, property.value as number)\n        break\n      case 'interval':\n        this.simulation.setClockInterval(item.portIds.slice(-1)[0], property.value as number)\n        break\n    }\n\n    this.items[id].properties[propertyName].value = property.value\n  }\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\n\n/**\n * Pans to the given point.\n */\nexport function panTo (this: DocumentStoreInstance, pan: Point, animate = false) {\n  this.panDelta({\n    x: pan.x - this.canvas.left,\n    y: pan.y - this.canvas.top\n  }, animate)\n}\n\nexport function panDelta (this: DocumentStoreInstance, delta: Point, animate = false) {\n  this.animatePan = animate\n\n  const from: BoundingBox = { ...this.canvas }\n\n  const animatePan = (c = 0) => {\n    const easeOut = (x: number) => 1 - (1 - x) * (1 - x)\n    const percent = easeOut(c / 100)\n    const deltaX = delta.x * percent\n    const deltaY = delta.y * percent\n\n    this.canvas.left = from.left + deltaX\n    this.canvas.right = from.right + deltaX\n    this.canvas.top = from.top + deltaY\n    this.canvas.bottom = from.bottom + deltaY\n\n    if (c < 100 && this.animatePan) {\n      requestAnimationFrame(animatePan.bind(this, c + 5))\n    } else {\n      this.animatePan = false\n    }\n  }\n\n  if (animate) {\n    requestAnimationFrame(animatePan.bind(this, 0))\n  } else {\n    this.canvas.left += delta.x\n    this.canvas.right += delta.x\n    this.canvas.top += delta.y\n    this.canvas.bottom += delta.y\n  }\n}\n\n/**\n * Pans to the center of the available canvas, such that its center is visible in the center of the viewport.\n */\nexport function panToCenter (this: DocumentStoreInstance) {\n  const midpoint = boundaries.getBoundingBoxMidpoint(this.canvas)\n  const pan = {\n    x: (this.viewport.width / 2) - midpoint.x,\n    y: (this.viewport.height / 2) - midpoint.y\n  }\n\n  this.panTo(pan)\n}\n","/**\n * Returns all connections and any associated freeport items within a connection chain.\n *\n * @param connections - list of all connections to explore\n * @param portMap - ID-to-port mapping of the entire document\n * @param connectionChainId - ID of the connection chain to explore\n * @returns the IDs of the connections and the freeports discovered in the chain\n */\nexport default function getConnectionChain (connections: Connection[], portMap: Record<string, Port>, connectionChainId: string) {\n  const { connectionIds, freeportIds } = Object\n    .values(connections)\n    .reduce(({ connectionIds, freeportIds }, connection) => {\n      if (connectionChainId === connection.connectionChainId) {\n        const sourcePort = portMap[connection.source]\n        const targetPort = portMap[connection.target]\n\n        connectionIds.add(connection.id)\n\n        if (sourcePort?.isFreeport) freeportIds.add(sourcePort.elementId)\n        if (targetPort?.isFreeport) freeportIds.add(targetPort.elementId)\n      }\n\n      return { connectionIds, freeportIds }\n    }, {\n      connectionIds: new Set<string>(),\n      freeportIds: new Set<string>()\n    })\n\n  return {\n    connectionIds: Array.from(connectionIds),\n    freeportIds: Array.from(freeportIds)\n  }\n}\n","import { CircuitNode } from '@/circuit'\nimport { DocumentStoreInstance } from '..'\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport PortType from '@/types/enums/PortType'\n\nexport function addPort (this: DocumentStoreInstance, itemId: string, port: Port) {\n  const node = Object\n    .values(this.simulation.nodes)\n    .find(({ name }) => this.items[itemId].portIds.includes(name))\n\n  this.ports[port.id] = port\n  this.items[itemId].portIds.push(port.id)\n\n  // if (port.type === PortType.Output) {\n    if (node) {\n      this.simulation.addPort(port.id, node as CircuitNode)\n    } else {\n      this.simulation.addNode(this.items[itemId], this.ports)\n    }\n  // }\n}\n\n/**\n * Removes a port from the state.\n * This will destroy the entire connection chain that it is a part of (if any).\n *\n * @param portId - ID of the port to destroy\n */\nexport function removePort (this: DocumentStoreInstance, portId: string) {\n  // check to make sure that the element this port is attached to exists in the editor\n  // (note: some ports may be embedded in ICs and therefore not in the editor directly)\n  if (!this.items[this.ports[portId]?.elementId]) return\n\n  // remove all connections associated with this port\n  Object\n    .values(this.connections)\n    .filter(({ source, target }) => source === portId || target === portId)\n    .forEach(c => {\n      // find all segments and freeports of this connection and remove them\n      const {\n        connectionIds,\n        freeportIds\n      } = getConnectionChain(Object.values(this.connections), this.ports, c.connectionChainId)\n\n      connectionIds.forEach(id => this.disconnect(this.connections[id]))\n\n      freeportIds.forEach(id => {\n        // delete all freeports associated with the chain\n        this.items[id].portIds.forEach(portId => {\n          delete this.ports[portId]\n          this.simulation.removePort(portId)\n        })\n\n        delete this.items[id]\n      })\n    })\n\n  this.simulation.removePort(portId)\n\n  const itemId = this.ports[portId].elementId\n  const portIndex = this.items[itemId].portIds.indexOf(portId)\n\n  if (portIndex !== -1) {\n    this.items[itemId].portIds.splice(portIndex, 1)\n  }\n\n  delete this.ports[portId]\n}\n\n/**\n * Sets the ID of the active (i.e., 'previewed'/'enlarged') port.\n *\n * @param portId - ID of the port to activate, or null to remove it\n */\nexport function setActivePortId (this: DocumentStoreInstance, portId: string | null) {\n  if (this.activePortId !== portId) {\n    if (portId) {\n      this.setConnectablePortIds({ portId })\n    } else {\n      this.connectablePortIds = []\n    }\n\n    this.activePortId = portId\n    this.selectedPortIndex = -1\n  }\n}\n\n/**\n * Sets the list of connectable port IDs.\n * This should be invoked whenever a user starts dragging a port.\n *\n * @param portId - the ID of the port being dragged\n */\nexport function setConnectablePortIds (this: DocumentStoreInstance, { portId, isDragging }: { portId: string, isDragging?: boolean }) {\n  const port = this.ports[portId]\n\n  if (port.isFreeport) return // freeports cannot connect to anything\n\n  // generate a list of all port IDs that have at least one connection to/from it\n  const connectedPortIds = Object\n    .values(this.connections)\n    .reduce((portIds: string[], connection: Connection) => {\n      return portIds.concat([connection.source, connection.target])\n    }, [])\n\n  if (isDragging) {\n    // if this port is being dragged, then the user intends to establish a new connection with it\n    // remove the last two ports (the two ports on opposite ends of the \"preview\" connection)\n    connectedPortIds.splice(-2)\n  }\n\n  const filter = port.type === PortType.Output\n    ? (p: Port) => p.type === PortType.Input && !p.isFreeport && !connectedPortIds.includes(p.id) && p.elementId !== port.elementId\n    : (p: Port) => p.type === PortType.Output && !p.isFreeport && !connectedPortIds.includes(port.id) && p.elementId !== port.elementId\n\n  this.connectablePortIds = Object\n    .values(this.ports)\n    .filter(filter)\n    .map(({ id }) => id)\n}\n\n/**\n * Sets the value of the port in the circuit.\n *\n * @param payload.id - ID of the port\n * @param payload.value - new port value\n */\nexport function setPortValue (this: DocumentStoreInstance, { id, value }: { id: string, value: number }) {\n  this\n    .simulation\n    .setPortValue(id, value)\n\n\n  if (this.isDebugging) {\n    this.isCircuitEvaluated = !this.simulation.canContinue\n  }\n}\n\nexport function togglePortMonitoring (this: DocumentStoreInstance, portId: string) {\n  if (this.ports[portId].isMonitored) {\n    this.unmonitorPort(portId)\n  } else {\n    this.monitorPort(portId)\n  }\n}\n\nexport function monitorPort (this: DocumentStoreInstance, portId: string) {\n  const port = this.ports[portId]\n\n  port.hue = port.hue ||  ~~(360 * Math.random())\n  port.isMonitored = true\n\n  this\n    .simulation\n    .monitorPort(portId, port.value, port.hue)\n\n  this.isOscilloscopeOpen = true\n}\n\nexport function unmonitorPort (this: DocumentStoreInstance, portId: string) {\n  const port = this.ports[portId]\n\n  port.isMonitored = false\n\n  this\n    .simulation\n    .unmonitorPort(portId)\n\n  this.isOscilloscopeOpen = Object.keys(this.oscillogram).length > 0\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport rotation from '../geometry/rotation'\nimport Direction from '@/types/enums/Direction'\nimport SnapMode from '@/types/enums/SnapMode'\nimport ItemType from '@/types/enums/ItemType'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\nimport { usePreferencesStore } from '@/store/preferences'\n\n/**\n * Centers all items (together as a group) to the center of the canvas.\n * All distances between items are maintained when this occurs.\n */\nexport function centerAll (this: DocumentStoreInstance) {\n  const { grid } = usePreferencesStore()\n  const gridSize = grid.gridSize.value as number\n  const boundingBoxes = Object\n    .values(this.items)\n    .map(({ boundingBox }) => boundingBox)\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const { x, y } = boundaries.getCenteredScreenPoint(this.canvas, boundingBox, gridSize)\n\n  const deltaX = x - boundingBox.left\n  const deltaY = y - boundingBox.top\n\n  Object\n    .values(this.items)\n    .forEach(item => {\n      this.setItemPosition({\n        id: item.id,\n        position: {\n          x: item.position.x + deltaX,\n          y: item.position.y + deltaY\n        }\n      })\n    })\n}\n\nexport function setPortRelativePosition (this: DocumentStoreInstance, position: Point, portId: string) {\n  const port = this.ports[portId]\n\n  port.position = fromDocumentToEditorCoordinates(this.canvas, this.viewport, position, this.zoom)\n}\n\n/**\n * Sets the position of an item.\n *\n * @param payload\n * @param payload.id - ID of the item\n * @param payload.position - new position to move to\n */\nexport function setItemPosition (this: DocumentStoreInstance, { id, position }: { id: string, position: Point }) {\n  const item = this.items[id]\n  const delta: Point = {\n    x: position.x - item.position.x,\n    y: position.y - item.position.y\n  }\n\n  this.items[id].position = position\n  this.setItemBoundingBox(id)\n\n  item\n    .portIds\n    .forEach(portId => {\n      const port = this.ports[portId]\n\n      this.ports[portId].position = {\n        x: port.position.x + delta.x,\n        y: port.position.y + delta.y\n      }\n    })\n}\n\nexport function dragItem (this: DocumentStoreInstance, id: string, position: Point, snapMode?: SnapMode) {\n  const { snapping, grid } = usePreferencesStore()\n  const { x, y } = fromDocumentToEditorCoordinates(this.canvas, this.viewport, position, this.zoom)\n  const { width, height, rotation } = this.items[id]\n  const boundingBox = boundaries.getBoundingBox({ x, y }, rotation, width, height)\n  const snapPreference = (() => {\n    if (snapMode) return snapMode\n    if (snapping.snapToGrid.value) return SnapMode.Grid\n    if (snapping.snapToAlign.value) return SnapMode.Outer\n    return SnapMode.None\n  })()\n  const snapTolerance = (() => {\n    switch (snapPreference) {\n      case SnapMode.Grid:\n        return grid.gridSize.value\n      case SnapMode.Outer:\n      case SnapMode.Radial:\n        return snapping.snapTolerance.value\n      default:\n        return 0\n    }\n  })() as number\n  const offset = boundaries.getSnapOffset(\n    this.snapBoundaries,\n    boundingBox,\n    snapMode || snapPreference,\n    snapTolerance\n  )\n\n  this.setSelectionPosition({\n    id,\n    position: {\n      x: x + offset.x,\n      y: y + offset.y\n    }\n  })\n}\n\n/**\n * Moves all selected items according to the delta provided.\n *\n * @param delta - delta to move the items by\n */\nexport function moveSelectionPosition (this: DocumentStoreInstance, delta: Point) {\n  const id: string | undefined = this.selectedItemIds[0]\n\n  if (id) {\n    const item = this.items[id]\n    const position: Point = {\n      x: item.position.x + delta.x,\n      y: item.position.y + delta.y\n    }\n\n    this.commitState()\n    this.setSelectionPosition({ id, position })\n  }\n}\n\n/**\n * Moves all selected items according to the delta that the given item has moved by.\n *\n * @param payload\n * @param payload.id - ID of the reference item moving\n * @param payload.position - new position that the reference item has moved to\n */\nexport function setSelectionPosition (this: DocumentStoreInstance, { id, position }: { id: string, position: Point }) {\n  const referenceItem = this.items[id]\n  const delta: Point = {\n    x: position.x - referenceItem.position.x,\n    y: position.y - referenceItem.position.y\n  }\n  const groupIds = new Set<string>()\n\n  this.setSelectionState({ id, value: true })\n\n  if (referenceItem.type === ItemType.Freeport) {\n    // if this item is a freeport, drag only this and nothing else\n    return this.setItemPosition({ id, position })\n  }\n\n  this\n    .selectedItemIds\n    .forEach((itemId: string) => {\n      const item = this.items[itemId]\n      const position: Point = {\n        x: item.position.x + delta.x,\n        y: item.position.y + delta.y\n      }\n\n      if (item.groupId) {\n        groupIds.add(item.groupId)\n      }\n\n      this.setItemPosition({ id: itemId, position })\n    })\n\n  groupIds.forEach(this.setGroupBoundingBox)\n}\n","\nimport Direction from '@/types/enums/Direction'\n\n/**\n * Normalizes the given rotation with respect to any additional rotation to augment by.\n *\n * @param {number} rotation\n * @param {number} additional\n * @returns {number}\n */\nfunction rotate (rotation: number, additional = 0): Direction {\n  return ((rotation + additional % 4) + 4) % 4\n}\n\n/**\n * Returns the absolute Cartesian position of an item based on its parent group's rotation and position.\n *\n * @param groupBoundingBox - group for which the item is a member of\n * @param item - item to compute position for\n * @param direction - rotation direction (1 for CW, -1 for CCW)\n * @returns\n */\nfunction getGroupedItemRotatedPosition (groupBoundingBox: BoundingBox, item: Item, direction: number): Point {\n  const w = groupBoundingBox.right - groupBoundingBox.left\n  const h = groupBoundingBox.bottom - groupBoundingBox.top\n  const mx = groupBoundingBox.left + (w / 2)\n  const my = groupBoundingBox.top + (h / 2)\n  const cx = item.position.x\n  const cy = item.position.y\n  const ax = cx + (item.width / 2)\n  const ay = cy + (item.height / 2)\n  const L = Math.hypot(mx - ax, my - ay)\n  const currentAngleRad = Math.atan2((ay - my), (ax - mx))\n  const newAngle = (90 * direction * (Math.PI / 180)) + currentAngleRad\n  const newAx = (L * Math.cos(newAngle)) + mx\n  const newAy = (L * Math.sin(newAngle)) + my\n\n  return {\n    x: newAx - (item.width / 2),\n    y: newAy - (item.height / 2)\n  }\n}\n\nexport default {\n  rotate,\n  getGroupedItemRotatedPosition\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport rotation from '../geometry/rotation'\n\n/**\n * Rotates all selected elements by 90 degrees.\n * If multiple items are selected, this will rotate them as if they are all part of a group.\n *\n * @param direction - direction of rotation (1 = CW, -1 = CCW)\n */\nexport function rotate (this: DocumentStoreInstance, direction: number) {\n  this.commitState()\n\n  const selectedItems = Object\n    .values(this.items)\n    .filter(({ isSelected }) => isSelected)\n  const boundingBoxes = selectedItems.map(({ boundingBox }) => boundingBox)\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const groupIds = new Set<string>()\n\n  selectedItems.forEach(item => {\n    const newRotation = rotation.rotate(item.rotation + direction)\n\n    if (item.groupId) {\n      groupIds.add(item.groupId)\n    }\n\n    this.items[item.id].rotation = newRotation\n    this\n      .items[item.id]\n      .portIds\n      .forEach(portId => {\n        this.ports[portId].rotation = newRotation\n      })\n\n    this.setItemPosition({\n      id: item.id,\n      position: rotation.getGroupedItemRotatedPosition(boundingBox, item, direction)\n    })\n  })\n\n  groupIds.forEach(groupId => {\n    this.setGroupBoundingBox(groupId)\n  })\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport getConnectionChain from '@/utils/getConnectionChain'\nimport ItemType from '@/types/enums/ItemType'\n\n\nexport function deselectItem (this: DocumentStoreInstance, id: string) {\n  this.setSelectionState({ id, value: false })\n}\n\nexport function selectItem (this: DocumentStoreInstance, id: string, keepSelection: boolean = false) {\n  if (!keepSelection) {\n    this.deselectAll()\n  }\n\n  this.setSelectionState({ id, value: true })\n}\n\n/**\n * Selects all items and connections.\n */\nexport function selectAll (this: DocumentStoreInstance) {\n  this.clearStatelessInfo()\n\n  for (let id in this.connections) {\n    this.connections[id].isSelected = true\n    this.selectedConnectionIds.push(id)\n  }\n\n  for (let id in this.items) {\n    this.items[id].isSelected = true\n    this.selectedItemIds.push(id)\n  }\n}\n\n/**\n * Deselects all elements.\n */\nexport function deselectAll (this: DocumentStoreInstance) {\n  this.clearStatelessInfo()\n\n  for (let id in this.connections) {\n    this.connections[id].isSelected = false\n    this.selectedConnectionIds = []\n  }\n\n  for (let id in this.items) {\n    this.items[id].isSelected = false\n    this.selectedItemIds.push(id)\n    this.selectedItemIds = []\n  }\n}\n\n/**\n * Selects all connections and items (and its connections) that live within the given boundary.\n *\n * @param boundingBox - two-dimensional boundary\n */\nexport function createSelection (this: DocumentStoreInstance, selection: BoundingBox) {\n  if (!boundaries.isOneOrTwoDimensional(selection)) return // omit selection lines or points\n\n  const itemIds = Object\n    .keys(this.items)\n    .filter(id => boundaries.hasIntersection(selection, this.items[id].boundingBox))\n  const connectionIds = Object\n    .keys(this.connections)\n    .filter(id => {\n      const connection = this.connections[id]\n      const source = this.ports[connection.source]\n      const target = this.ports[connection.target]\n\n      return boundaries.isLineIntersectingRectangle(source.position, target.position, selection)\n    })\n\n  itemIds\n    .concat(connectionIds)\n    .forEach(id => {\n      this.updateSelectionList({ id, isSelected: true })\n    })\n\n  this.selectItemConnections(itemIds)\n}\n\n/**\n * Selects all connections that are connected to any of the items in the given list.\n *\n * @param itemIds - list of items to select their connections for\n */\nexport function selectItemConnections (this: DocumentStoreInstance, itemIds: string[]) {\n  const portIds = itemIds.reduce((portIds: string[], itemId: string) => {\n    return portIds.concat(this.items[itemId].portIds)\n  }, [])\n\n  for (let id in this.connections) {\n    const c = this.connections[id]\n\n    if (portIds.includes(c.source) && portIds.includes(c.target)) {\n      this.updateSelectionList({ id, isSelected: true })\n    }\n  }\n}\n\n/**\n * Sets the selection this of the given element to the value provided.\n * If the item is a connection segment, then its entire connection chain will take on the same value.\n *\n * @param payload\n * @param payload.id - ID of the item, group, or connection to select\n * @param payload.isSelected - selection this to change to\n */\nexport function updateSelectionList (this: DocumentStoreInstance, { id, isSelected }: { id: string, isSelected: boolean }) {\n  const updateSelectionList = (id: string, key: 'selectedConnectionIds' | 'selectedItemIds') => {\n    const index = this[key].findIndex((i: string) => i === id)\n\n    if (isSelected && index === -1) {\n      this[key].push(id)\n    }\n\n    if (!isSelected && index !== -1) {\n      this[key].splice(index, 1)\n    }\n  }\n\n  if (this.items[id]) {\n    // select an individual item\n    this.items[id].isSelected = isSelected\n    updateSelectionList(id, 'selectedItemIds')\n  } else if (this.connections[id]) {\n    // select a connection (chain)\n    const { connectionChainId } = this.connections[id]\n    const {\n      connectionIds,\n      freeportIds\n    } = getConnectionChain(Object.values(this.connections), this.ports, connectionChainId)\n\n    // select all connection segments that are part of this connection chain\n    connectionIds.forEach(id => {\n      this.connections[id].isSelected = isSelected\n      updateSelectionList(id, 'selectedConnectionIds')\n    })\n\n    // select all freeports that are part of this connection chain\n    freeportIds.forEach(id => {\n      this.items[id].isSelected = isSelected\n      updateSelectionList(id, 'selectedItemIds')\n    })\n  }\n}\n\n/**\n * Inverts the selection this of the element having the given ID, or forces it to the value provided.\n * If the element is a member of a group, every item in that group will be selected.\n *\n * @param payload.id - the ID of the element to toggle its selection\n * @param payload.value - new selection this value to set to\n */\nexport function setSelectionState (this: DocumentStoreInstance, { id, value }: { id: string, value: boolean }) {\n  const element = this.items[id] || this.connections[id]\n  const isSelected = value\n\n  if (!element || element.isSelected === isSelected) return\n\n  if (element.groupId) {\n    // if item is part of a group, select all items in that group\n    const { itemIds, connectionIds } = this.groups[element.groupId]\n\n    itemIds\n      .concat(connectionIds)\n      .forEach(id => {\n        this.updateSelectionList({ id, isSelected })\n      })\n\n    this.updateSelectionList({ id: element.groupId, isSelected })\n  } else {\n    // otherwise, just select this one item\n    this.updateSelectionList({ id, isSelected })\n  }\n}\n\n/**\n * Places focus back to the last base item or forward to the first base item (according to z-index).\n *\n * @param {boolean} backToFirstItem - true if the next item to focus is the first item, or to the first item otherwise\n */\nexport function recycleSelection (this: DocumentStoreInstance, backToFirstItem: boolean) {\n  const id = backToFirstItem\n    ? this.baseItems[0]\n    : this.baseItems.slice(-1)[0]\n\n  if (id) {\n    this.deselectAll()\n    this.setSelectionState({ id: id.id, value: true })\n  }\n}\n\n/**\n * Deletes all selected items and connections.\n */\nexport function deleteSelection (this: DocumentStoreInstance) {\n  if (!this.hasSelection) return\n\n  this.commitState()\n  this.clearBaseItems(this.selectedItemIds, this.selectedConnectionIds, this.selectedGroupIds.filter(id => id !== null) as string[])\n  this.deselectAll()\n}\n","import SimulationService from '@/services/SimulationService'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Restarts the simulation (if not in debugging mode).\n */\nexport function toggleOscillatorRecording (this: DocumentStoreInstance) {\n  if (this.simulation.oscillator.isPaused) {\n    this.simulation.oscillator.start()\n  } else {\n    this.simulation.oscillator.stop()\n  }\n\n  this.isOscilloscopeRecording = !this.simulation.oscillator.isPaused\n}\n\n/**\n * Updates the store according to the port-value mapping provided.\n * This also accepts oscillogram to update the visual oscilloscope.\n */\nexport function onSimulationUpdate (this: DocumentStoreInstance, valueMap: Record<string, number>) {\n  for (const portId in valueMap) {\n    if (this.ports[portId]) {\n      const port = this.ports[portId]\n      const item = this.items[port.elementId]\n\n      if (item && port.value !== valueMap[portId]) {\n        this.debugger.hasUpdated = true\n      }\n\n      port.value = valueMap[portId]\n    }\n  }\n\n  this.isCircuitEvaluated = !this.simulation.canContinue\n\n  clearTimeout(this.debugger.timeout)\n\n  this.debugger.timeout = window.setTimeout(() => {\n    // if the user can still advance a step and the circuit hasn't finished evaluating yet, step over again\n    // this is in a timeout in order to wait for the next JS frame (by which time all event emissions will have completed)\n    if (!this.debugger.hasUpdated && this.simulation.canContinue && this.isDebugging) {\n      this.debugger.hasUpdated = false\n      this.simulation.advanceDebuggerStep()\n    }\n  })\n}\n\nexport function onError (this: DocumentStoreInstance, error: string) {\n  window.api.showMessageBox({\n    message: 'An infinite loop was detected! Entering debugger mode.',\n    type: 'error'\n  })\n\n  this.isDebugging = true\n  this.simulation.startDebugging()\n}\n\nexport function resetCircuit (this: DocumentStoreInstance) {\n  const items = Object.values(this.items)\n  const connections = Object.values(this.connections)\n\n  Object\n    .values(this.ports)\n    .forEach(port => {\n      port.value = 0\n    })\n\n  this.simulation.stop()\n  this.simulation = new SimulationService(items, connections, this.ports)\n  this.simulation.onChange(this.onSimulationUpdate)\n  this.simulation.onError(this.onError)\n\n  // set the callback to update the oscilloscope when the oscillogram updates\n  this.simulation.oscillator.on('change', oscillogram => {\n    this.oscillogram = oscillogram\n  })\n\n  // apply the initial port values\n  Object\n    .values(this.items)\n    .forEach(({ properties, portIds }) => {\n      if (properties?.startValue) {\n        portIds.forEach(portId => this.setPortValue({\n          id: portId,\n          value: properties.startValue.value as number\n        }))\n      }\n    })\n\n  this.simulation.start()\n\n  if (this.isDebugging) {\n    this.simulation.startDebugging()\n    this.isCircuitEvaluated = !this.simulation.canContinue\n  }\n}\n\nexport function stepThroughCircuit (this: DocumentStoreInstance) {\n  this.debugger.hasUpdated = false\n  this.simulation.advanceDebuggerStep()\n  this.isCircuitEvaluated = !this.simulation.canContinue\n}\n\nexport function toggleDebugger (this: DocumentStoreInstance) {\n\n\n  if (this.isDebugging) {\n    this.simulation.stopDebugging()\n  } else {\n    this.simulation.startDebugging()\n  }\n\n  this.isDebugging = !this.isDebugging\n}\n\nexport function toggleOscilloscope (this: DocumentStoreInstance) {\n  if (this.isOscilloscopeOpen) {\n    this.closeOscilloscope()\n  } else {\n    this.openOscilloscope()\n  }\n}\n\nexport function openOscilloscope (this: DocumentStoreInstance) {\n  Object\n    .values(this.ports)\n    .forEach(port => {\n      if (port.isMonitored) {\n        this.simulation.monitorPort(port.id, port.value, port.hue)\n      }\n    })\n\n  this.isOscilloscopeOpen = true\n}\n\nexport function closeOscilloscope (this: DocumentStoreInstance, lastHeight?: number) {\n  if (!this.isOscilloscopeOpen) return\n\n  Object\n    .keys(this.ports)\n    .forEach(this.simulation.unmonitorPort)\n\n  this.simulation.oscillator.clear()\n  this.isOscilloscopeOpen = false\n\n  if (lastHeight) {\n    this.oscilloscopeHeight = lastHeight\n  }\n}\n\nexport function clearOscilloscope (this: DocumentStoreInstance) {\n  this.simulation.oscillator.clear()\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\nexport function updateCanvasSize (this: DocumentStoreInstance) {\n  const boundingBoxes = Object\n    .values(this.items)\n    .map(item => item.boundingBox)\n\n  const boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n  const width = boundingBox.right - boundingBox.left\n  const height = boundingBox.bottom - boundingBox.top\n  const canvasWidth = this.canvas.right - this.canvas.left\n  const canvasHeight = this.canvas.bottom - this.canvas.top\n\n  if (width > canvasWidth || height > canvasHeight) {\n    // if the boundaries of item(s) exceeds the canvas dimensions, then resize the canvas\n    // the new canvas size should be twice the dimensions of the boundary of all the items\n    this.canvas = {\n      left: 0,\n      top: 0,\n      right: width * 2,\n      bottom: height * 2\n    }\n    this.centerAll()\n    this.panToCenter()\n  }\n\n  // zoom to fit everything on the screen (within the editor viewport)\n  setTimeout(() => {\n    this.setZoom({\n      zoom: Math.min(this.viewport.width / width, this.viewport.height / height, 1)\n    })\n  })\n}\n\n/**\n * Assigns the rects of the canvas and viewport according to the screen size and rect provided.\n *\n * @param {DOMRectReadOnly} payload.rect - the rect of the item's DOM element\n */\nexport function setViewerSize (this: DocumentStoreInstance, rect: DOMRect) {\n  this.viewport = rect\n  this.canvas.right = screen.width / MIN_SCALE\n  this.canvas.bottom =  screen.height / MIN_SCALE\n\n  if (!this.hasLoaded && rect.width > 0 && rect.height > 0) {\n    this.hasLoaded = true\n    this.updateCanvasSize()\n    this.centerAll()\n    this.panToCenter()\n    // this.setZoom({ zoom: 1.4 }) // TODO: set the user-defined default zoom like this\n  }\n}\n\n/**\n * Updates the size of the item.\n * This re-positions the item such that its centroid is in the same location as it was with its old size.\n *\n * @param {object} payload\n * @param {DOMRectReadOnly} payload.rect - the rect of the item's DOM element\n * @param {string} payload.id - ID of the item\n */\nexport function setItemSize (this: DocumentStoreInstance, { rect, id }: { rect: DOMRectReadOnly, id: string }) {\n  const item = this.items[id]\n\n  const width = rect.width / this.zoomLevel\n  const height = rect.height / this.zoomLevel\n\n  // reposition w.r.t. the centroid\n  const centerX = item.position.x + (item.width / 2)\n  const centerY = item.position.y + (item.height / 2)\n  const newX = centerX - width / 2\n  const newY = centerY - height / 2\n\n  this.items[id].position = {\n    x: newX,\n    y: newY\n  }\n  this.items[id].width = width\n  this.items[id].height = height\n\n  this.setItemBoundingBox(id)\n\n  if (this.items[id].groupId) {\n    this.setGroupBoundingBox(this.items[id].groupId as string)\n  }\n}\n\n/**\n * Sets the bounding box of an item.\n *\n * @param {string} payload.id - ID of the item\n */\nexport function setItemBoundingBox (this: DocumentStoreInstance, id: string) {\n  if (!this.items[id]) return\n\n  const {\n    position,\n    rotation,\n    width,\n    height\n  } = this.items[id]\n\n  this.items[id].boundingBox = boundaries.getBoundingBox(position, rotation, width, height)\n}\n\n/**\n * Sets the bounding box of a group.\n *\n * @param {string} payload.id - ID of the group\n */\nexport function setGroupBoundingBox (this: DocumentStoreInstance, id: string) {\n  if (!this.groups[id]) return\n\n  const boundingBoxes = this\n    .groups[id]\n    .itemIds\n    .map(id => this.items[id].boundingBox)\n\n  this.groups[id].boundingBox = boundaries.getGroupBoundingBox(boundingBoxes)\n}\n","import ItemType from '@/types/enums/ItemType'\nimport boundaries from '../geometry/boundaries'\nimport { DocumentStoreInstance } from '..'\n\n/**\n * Sets the computed boundaries that an actively-dragged item to snap to.\n *\n * @param id - ID of the item or port being dragged\n */\n  export function setSnapBoundaries (this: DocumentStoreInstance, id: string) {\n  this.snapBoundaries = ((): BoundingBox[] => {\n    if (this.connectablePortIds.length) {\n      // if there are connectable port ids, then use those for boundaries\n      return this\n        .connectablePortIds\n        .filter(portId => portId !== id)\n        .map(portId => boundaries.getPointBoundary(this.ports[portId].position))\n    }\n\n    const item = this.items[id]\n\n    if (item && !item.groupId) {\n      // the item with the given id is an item that does not belong to a group\n      if (item.type === ItemType.Freeport) {\n        if (item.portIds.length > 1) {\n          // if only one port exists on the freeport, then it is a port being dragged by the user and does not apply\n          // freeports should snap to \"straighten out\" wires\n          return Object\n            .values(this.connections)\n            .reduce((boundingBoxes: BoundingBox[], connection: Connection) => {\n              if (item.portIds.includes(connection.source)) {\n                return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.target].position))\n              }\n\n              if (item.portIds.includes(connection.target)) {\n                return boundingBoxes.concat(boundaries.getLinearBoundaries(this.ports[connection.source].position))\n              }\n\n              return boundingBoxes\n            }, [])\n        }\n      } else {\n        // this an item that can snap to align with the outer edge of any non-freeport item\n        return Object\n          .values(this.items)\n          .filter(e => e.id !== id && e.type !== ItemType.Freeport)\n          .map(e => e.boundingBox)\n      }\n    }\n    return []\n  })()\n}\n","import { DocumentStoreInstance } from '..'\n\n/**\n * Reverts to the most-recently committed document this.\n */\nexport function undo (this: DocumentStoreInstance) {\n  const undoState = this.undoStack.slice(-1).pop()\n\n  if (undoState) {\n    this.redoStack.push(JSON.stringify({\n      connections: this.connections,\n      items: this.items,\n      ports: this.ports,\n      groups: this.groups\n    }))\n    this.applyState(undoState)\n    this.undoStack.pop()\n    this.isDirty = true\n  }\n}\n\n/**\n * Reverts to the most-recently-reverted this.\n */\nexport function redo (this: DocumentStoreInstance) {\n  const redoState = this.redoStack.slice(-1).pop()\n\n  if (redoState) {\n    this.undoStack.push(JSON.stringify({\n      connections: this.connections,\n      items: this.items,\n      ports: this.ports,\n      groups: this.groups\n    }))\n    this.applyState(redoState)\n    this.redoStack.pop()\n    this.isDirty = true\n  }\n}\n\nexport function commitState (this: DocumentStoreInstance) {\n  this.cacheState()\n  this.commitCachedState()\n}\n\n/**\n * Stringifies and caches the current document this.\n * This will save all connections, items, ports, and groups.\n */\nexport function cacheState (this: DocumentStoreInstance) {\n  this.cachedState = JSON.stringify({\n    connections: this.connections,\n    items: this.items,\n    ports: this.ports,\n    groups: this.groups\n  })\n}\n\n/**\n * Commits the actively-cached this to the undo stack.\n * This will clear the redo stack.\n */\nexport function commitCachedState (this: DocumentStoreInstance) {\n  if (this.cachedState) {\n    this.undoStack.push(this.cachedState.toString())\n    this.cachedState = null\n    this.redoStack = []\n    this.isDirty = true\n  }\n}\n\n/**\n * Applies the given serialized this to the active document.\n *\n * This this must contain exactly these maps: `items`, `connections`, `ports`, `groups`.\n * Any other properties will not be applied.\n *\n * @param {string} savedState - JSON-serialized this string\n */\nexport function applyState (this: DocumentStoreInstance, savedState: string) {\n  const parsedState = JSON.parse(savedState) as SerializableState\n  const { items, connections, ports, groups } = parsedState\n\n  /* returns everything in a that is not in b */\n  function getExcludedMembers (a: Record<string, BaseItem>, b: Record<string, BaseItem>) {\n    const aIds = Object.keys(a)\n    const bIds = Object.keys(b)\n\n    return aIds.filter(id => !bIds.includes(id))\n  }\n\n  // find all items and connections in current this that are not in the applied this and remove them from the circuit\n  const removedItems = getExcludedMembers(this.items, items)\n  const removedConnections = getExcludedMembers(this.connections, connections)\n\n  // add any new items from the the applied this to the circuit\n  const addedItems = getExcludedMembers(items, this.items)\n  const addedConnections = getExcludedMembers(connections, this.connections)\n\n  this.clearBaseItems(removedItems, removedConnections, [])\n\n  this.ports = ports\n  this.items = items\n  this.groups = groups\n\n  addedItems.forEach(id => {\n    this.addItem({\n      item: items[id],\n      ports\n    })\n  })\n\n  addedConnections.forEach(id => this.connect(connections[id]))\n\n  this.stepThroughCircuit()\n}\n","/**\n * Sorting function to sort BaseItems by their zIndex values in ascending order.\n */\nexport default function sortByZIndex (a: BaseItem, b: BaseItem) {\n  if (a.zIndex > b.zIndex) return 1\n  else if (a.zIndex < b.zIndex) return -1\n  return 0\n}\n","import { DocumentStoreInstance } from '..'\nimport sortByZIndex from '@/utils/sortByZIndex'\n\n/**\n * Sends the selected base item(s) to the back.\n */\nexport function sendBackward (this: DocumentStoreInstance) {\n  this.commitState()\n  this.incrementZIndex(-1)\n}\n\n/**\n * Brings the selected base item(s) to the front.\n */\nexport function bringForward (this: DocumentStoreInstance) {\n  this.commitState()\n  this.incrementZIndex(1)\n}\n\n/**\n * Sends the selected base item(s) backward by one z-index.\n */\nexport function sendToBack (this: DocumentStoreInstance) {\n  this.commitState()\n  this.setZIndex(1)\n}\n\n/**\n * Brings the selected base item(s) forward by one z-index.\n */\nexport function bringToFront (this: DocumentStoreInstance) {\n  this.commitState()\n  this.setZIndex(this.zIndex)\n}\n\n/**\n * Increments the zIndex of all items selected.\n * If an item's movement collides with another item's movement, or it becomes out of bounds, its zIndex will not change.\n *\n * @param {number} direction - 1 to increment, -1 to decrement\n */\nexport function incrementZIndex (this: DocumentStoreInstance, direction: number) {\n  const items: BaseItem[] = Object.values(this.items)\n  const connections: BaseItem[] = Object.values(this.connections)\n  const baseItems = items\n    .concat(connections)\n    .sort(sortByZIndex)\n  const selectedItemIds = baseItems\n    .filter(({ isSelected }) => isSelected)\n    .map(({ id }) => id)\n\n  if (direction > 0) {\n    // if the direction is forward, then reverse the selected IDs\n    // this is because the next item that an item may want to swap with may also be swapping (and therefore frozen)\n    // reversing the order that we look at the items will prevent that from happening\n    selectedItemIds.reverse()\n  }\n\n  const frozenIds: string[] = []\n\n  selectedItemIds.forEach(id => {\n    const currentIndex = baseItems.findIndex(i => i.id === id)\n    const nextIndex = currentIndex + direction\n\n    if (nextIndex < 0 || nextIndex >= baseItems.length) {\n      // if the next zIndex pushes it out of bounds, freeze it\n      frozenIds.push(baseItems[currentIndex].id)\n      return\n    }\n\n    if (!frozenIds.includes(baseItems[nextIndex]?.id)) {\n      const item = baseItems[currentIndex]\n      // if the item to swap with is not frozen, then swap places with it\n      baseItems.splice(currentIndex, 1)\n      baseItems.splice(nextIndex, 0, item)\n    }\n  })\n\n  baseItems.forEach((item, index) => {\n    item.zIndex = index + 1\n  })\n\n  this.zIndex = Object.keys(baseItems).length\n}\n\n/**\n * Moves all selected items to the given zIndex values.\n * If those items aren't siblings already, they will be when this is invoked.\n *\n * @param {number} zIndex - new zIndex to move items to\n */\nexport function setZIndex (this: DocumentStoreInstance, zIndex: number) {\n  const items: BaseItem[] = Object.values(this.items)\n  const connections: BaseItem[] = Object.values(this.connections)\n  let baseItems = items\n    .concat(connections)\n    .sort(sortByZIndex)\n  const selectedItems = baseItems.filter(({ isSelected }) => isSelected)\n\n  for (let i = 0; i < baseItems.length; i++) {\n    if (baseItems[i].isSelected) {\n      baseItems.splice(i, 1)\n      i--\n    }\n  }\n\n  baseItems.splice(zIndex - 1, 0, ...selectedItems)\n  baseItems.forEach((item, index) => {\n    item.zIndex = index + 1\n  })\n\n  this.zIndex = Object.keys(baseItems).length\n}\n","import { DocumentStoreInstance } from '..'\nimport boundaries from '../geometry/boundaries'\nimport fromDocumentToEditorCoordinates from '@/utils/fromDocumentToEditorCoordinates'\n\nconst MIN_SCALE = 0.1\nconst MAX_SCALE = 2\nconst SCALE_STEP = 0.1\n\n/**\n * Increments the current zoom by one scale step (in the positive or negative direction).\n *\n * @param [direction = 1] - directional scalar (1 or -1)\n */\nexport function incrementZoom (this: DocumentStoreInstance, direction = 1) {\n  this.setZoom({\n    zoom: this.zoomLevel + (SCALE_STEP * direction)\n  })\n}\n\n/**\n * Sets the zoom level for the document.\n * This will zoom on the focal point (if provided) or the center of the visible area (viewport).\n *\n * @param zoom - percentage of zoom by decimal (e.g., 1.0 = 100%)\n * @param [point] - focal point to zoom on\n */\nexport function setZoom (this: DocumentStoreInstance, { zoom, point }: { zoom: number, point?: Point }) {\n  if (zoom < MIN_SCALE) zoom = MIN_SCALE\n  if (zoom > MAX_SCALE) zoom = MAX_SCALE\n\n  zoom = Math.round(zoom * 100) / 100\n\n  if (!point) {\n    point = boundaries.getBoundingBoxMidpoint(this.viewport)\n    point.x += this.viewport.left\n    point.y += this.viewport.top\n  }\n\n  const zoomedPoint = fromDocumentToEditorCoordinates(this.canvas, this.viewport, point, this.zoomLevel)\n  const scaledPoint = { // the canvas coordinate, scaled by the new zoom factor\n    x: zoomedPoint.x * zoom,\n    y: zoomedPoint.y * zoom\n  }\n  const viewportPoint = { // the point w.r.t. the top left offset of the viewport\n    x: point.x - this.viewport.x,\n    y: point.y - this.viewport.y\n  }\n\n  this.panTo({\n    x: Math.round(Math.min(viewportPoint.x - scaledPoint.x, 0)),\n    y: Math.round(Math.min(viewportPoint.y - scaledPoint.y, 0))\n  })\n\n  this.zoomLevel = zoom\n}\n","import { defineStore } from 'pinia'\nimport { state, DocumentState } from './state'\nimport * as clipboardActions from './actions/clipboard'\nimport * as connectionActions from './actions/connection'\nimport * as editorActions from './actions/editor'\nimport * as freeportActions from './actions/freeport'\nimport * as groupingActions from './actions/grouping'\nimport * as itemActions from './actions/item'\nimport * as panningActions from './actions/panning'\nimport * as portActions from './actions/port'\nimport * as positioningActions from './actions/positioning'\nimport * as rotationActions from './actions/rotation'\nimport * as selectionActions from './actions/selection'\nimport * as simulationActions from './actions/simulation'\nimport * as sizingActions from './actions/sizing'\nimport * as snappingActions from './actions/snapping'\nimport * as undoRedoActions from './actions/undoRedo'\nimport * as zIndexActions from './actions/zIndex'\nimport * as zoomingActions from './actions/zooming'\nimport sortByZIndex from '@/utils/sortByZIndex'\n\nexport const createDocumentStore = (documentId: string) => defineStore({\n  id: documentId,\n  state,\n  getters: {\n    baseItems (state) {\n      return (Object\n        .values(state.connections) as BaseItem[])\n        .concat(Object.values(state.items) as BaseItem[])\n        .sort(sortByZIndex)\n    },\n\n    zoom (state) {\n      return state.zoomLevel\n    },\n\n    hasSelection (state) {\n      return state.selectedItemIds.length > 0 || state.selectedConnectionIds.length > 0\n    },\n\n    hasSelectedItems (state) {\n      return state.selectedItemIds.length > 0\n    },\n\n    selectedGroupIds (state) {\n      const selectedGroupIds = new Set<string | null>()\n\n      state\n        .selectedItemIds\n        .forEach(id => selectedGroupIds.add(state.items[id]?.groupId))\n\n      return Array.from(selectedGroupIds)\n    },\n\n    canGroup () {\n      return this.selectedGroupIds.length > 1 || [].slice.call(this.selectedGroupIds)[0] === null\n    },\n\n    canUngroup () {\n      return !![].slice.call(this.selectedGroupIds).find(id => !!id)\n    },\n\n    canUndo (state) {\n      return state.undoStack.length > 0\n    },\n\n    canRedo (state) {\n      return state.redoStack.length > 0\n    }\n  },\n  actions: {\n    ...clipboardActions,\n    ...connectionActions,\n    ...editorActions,\n    ...freeportActions,\n    ...groupingActions,\n    ...itemActions,\n    ...panningActions,\n    ...portActions,\n    ...positioningActions,\n    ...rotationActions,\n    ...selectionActions,\n    ...simulationActions,\n    ...snappingActions,\n    ...sizingActions,\n    ...undoRedoActions,\n    ...zIndexActions,\n    ...zoomingActions\n  }\n})\n\nexport type DocumentStore = ReturnType<typeof createDocumentStore>\n\nexport type DocumentStoreInstance = ReturnType<DocumentStore>\n","export default function getFileName (filePath: string) {\n  return filePath.split('\\\\').pop()?.split('/').pop() || ''\n}\n","// @ts-check\nimport { defineStore } from 'pinia'\nimport { v4 as uuid } from 'uuid'\nimport basic from '../containers/fixtures/basic.json'\nimport flipFlop from '../containers/fixtures/flipflop.json'\nimport integratedCircuit from '../containers/fixtures/ic.json'\nimport testIc from '../containers/fixtures/test.json'\n\nimport { createDocumentStore, DocumentStore } from './document'\nimport { useIntegratedCircuitStore } from './integratedCircuit'\nimport FileService from '@/services/FileService'\nimport getFileName from '@/utils/getFileName'\nimport idMapper from '@/utils/idMapper'\n\nexport type RootStore = {\n  documents: {\n    [id: string]: {\n      fileName: string\n      filePath?: string\n      displayName: string\n      store: DocumentStore\n    }\n  }\n  clipboard: string | null\n  activeDocumentId: string | null\n  canExit: boolean\n  isSettingsOpen: boolean\n  isDocumentSelectOpen: boolean\n  isFullscreen: boolean\n  isBuilderOpen: boolean\n  isToolboxOpen: boolean\n}\n\nexport const useRootStore = defineStore({\n  id: 'root',\n  state: (): RootStore => ({\n    documents: {},\n    clipboard: null,\n    activeDocumentId: null,\n    canExit: false,\n    isFullscreen: false,\n    isBuilderOpen: false,\n    isToolboxOpen: false,\n    isSettingsOpen: false,\n    isDocumentSelectOpen: false\n  }),\n  getters: {\n    hasOpenDocuments (state) {\n      return Object\n        .keys(state.documents)\n        .length > 0\n    },\n    activeDocument (state) {\n      if (state.activeDocumentId) {\n        return state.documents[state.activeDocumentId]\n      }\n\n      return null\n    },\n    isDialogOpen (state) {\n      return state.isBuilderOpen\n    }\n  },\n  actions: {\n    async launchIntegratedCircuitBuilder () {\n      const integratedCircuitStore = useIntegratedCircuitStore()\n      const document = this.activeDocument\n\n      if (document) {\n        this.isBuilderOpen = true\n\n        try {\n          await integratedCircuitStore.launchBuilder(document.store().$state)\n\n          const store = document.store()\n\n          // const dialogResult = window.api.showMessageBox({\n          //   message: `Integrated circuit successfully created. Do you want to add it to the current document?`,\n          //   title: 'Confirm',\n          //   buttons: ['Yes', 'No']\n          // })\n\n          const idMappedIcItem = idMapper.mapIntegratedCircuitIds(integratedCircuitStore.model as Item)\n\n\n\n          store.insertItemAtPosition({ item: idMappedIcItem, ports: [] })\n          store.setItemBoundingBox(idMappedIcItem.id)\n          store.setSelectionState({ id: idMappedIcItem.id, value: true })\n\n        } catch (e) {\n          window.api.showMessageBox({ message: 'That\\'s okay.' })\n        }\n\n        this.isBuilderOpen = false\n      }\n\n    },\n    openIntegratedCircuit (item: Item) {\n      if (item.integratedCircuit) {\n        this.openDocument('', item.integratedCircuit.serializedState, item.id, item.name)\n      }\n    },\n    async saveImage (data: Blob) {\n      if (!this.activeDocument) return\n\n      try {\n        const partialName = this.activeDocument.displayName.replace(/\\.[^/.]+$/, \"\")\n        const fileName = `${partialName}.png`\n        const filePath = window.api.showSaveFileDialog([\n          {\n            name: 'PNG Image',\n            extensions: ['.png']\n          }\n        ], fileName)\n\n        if (!filePath) return\n\n        await FileService.writeBlob(filePath, data)\n      } catch (error) {\n        console.log('ERROR: ', error)\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the image.',\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    newDocument () {\n      const id = uuid()\n      const store = createDocumentStore(id)\n      const document = store()\n\n      document.resetCircuit()\n\n      this.documents[id] = {\n        fileName: 'Untitled Circuit',\n        displayName: 'Untitled Circuit',\n        store\n      }\n      this.activateDocument(id)\n    },\n    async closeAll (): Promise<boolean> {\n      if (this.activeDocumentId) {\n        const closedSuccessfully = await this.closeDocument(this.activeDocumentId)\n\n        // wait for the next window frame to show the next active document\n        await new Promise(resolve => setTimeout(resolve))\n\n        if (closedSuccessfully) {\n          return this.closeAll()\n        }\n\n        return false // a document refused to close\n      }\n\n      return true // all documents successfully closed\n    },\n    printActiveDocument () {\n      if (this.activeDocument) {\n        this.activeDocument.store().isPrinting = true\n      }\n    },\n    async closeDocument (id: string): Promise<boolean> {\n      const document = this.documents[id]\n      const store = document.store()\n      let isSuccessful = true\n\n      this.activateDocument(id)\n\n      if (store.isDirty) {\n        const dialogResult = window.api.showMessageBox({\n          message: `Save changes to ${document.fileName}?`,\n          title: 'Confirm',\n          buttons: ['Yes', 'No', 'Cancel']\n        })\n\n        if (dialogResult === 0) {\n          // user selected 'Yes' (to save the active document)\n          isSuccessful = await this.saveActiveDocument()\n        }\n\n        if (dialogResult === 2) {\n          // user selected 'Cancel' to continue editing their document\n          return false\n        }\n      }\n\n      this.activeDocumentId = null\n      store.simulation.stop()\n      store.$reset()\n      store.$dispose()\n      delete this.documents[id]\n\n      const remainingId = Object.keys(this.documents).pop()\n\n      if (remainingId) {\n        this.activateDocument(remainingId)\n      }\n\n      return isSuccessful\n    },\n    async saveActiveDocument (setFileName: boolean = false): Promise<boolean> {\n      try {\n        if (!this.activeDocument) return true\n        if (!this.activeDocument.filePath || setFileName) {\n          // if no file name is defined yet, ask the user for the location to save it\n          const fileName = this.activeDocument.fileName || `${this.activeDocument.fileName}.alfx`\n          const filePath = window.api.showSaveFileDialog([\n            {\n              name: 'Aristotle Logic Circuit (*.alfx)',\n              extensions: ['alfx']\n            }\n          ], fileName)\n\n          if (!filePath) return true\n          if (filePath) {\n            const fileName = getFileName(filePath)\n\n            this.activeDocument.filePath = filePath\n            this.activeDocument.fileName = fileName\n            this.activeDocument.displayName = fileName\n          }\n        }\n\n        if (!this.activeDocument.filePath) return true\n\n        const store = this.activeDocument.store()\n\n        FileService.save(this.activeDocument.filePath, {\n          items: store.items,\n          connections: store.connections,\n          groups: store.groups,\n          ports: store.ports\n        })\n\n        store.isDirty = false\n\n        return true\n      } catch (error) {\n        window.api.showMessageBox({\n          message: 'An error occurred while trying to save the file.',\n          title: 'Error',\n          type: 'error'\n        })\n\n        return false\n      }\n    },\n    async selectDocument () {\n      const files = window.api.showOpenFileDialog([\n        {\n          name: 'Aristotle Logic Circuit (*.alfx)',\n          extensions: ['alfx']\n        },\n        {\n          name: 'Aristotle Integrated Circuit (*.aicx)',\n          extensions: ['aicx']\n        }\n      ])\n\n      for (let i = 0; i < files.length; i++) {\n        await this.openDocumentFromPath(files[i])\n      }\n    },\n    async openDocumentFromPath (filePath: string) {\n      try {\n        // TODO: need to create lock on file while open\n        const content = await FileService.open(filePath)\n\n        if (content) {\n          this.openDocument(filePath, content, uuid())\n        }\n      } catch (error) {\n        console.log(error)\n        window.api.showMessageBox({\n          message: `Could not open ${filePath}. The file is not a valid Aristotle circuit.`,\n          title: 'Error',\n          type: 'error'\n        })\n      }\n    },\n    openDocument (filePath: string, content: string, id: string, displayName: string = '') {\n      if (this.documents[id]) {\n        return this.activateDocument(id)\n      }\n\n      const store = createDocumentStore(id)\n      const document = store()\n      const fileName = getFileName(filePath)\n\n      document.loadDocument(content)\n\n      this.documents[id] = {\n        fileName,\n        // if this is an integrated circuit file (.aicx), then it cannot be directly saved\n        filePath: /^.*.aicx$/i.test(filePath)\n          ? undefined // omit the file path for IC files\n          : filePath, // otherwise, use the file path for a typical circuit\n        displayName: displayName || fileName,\n        store\n      }\n      this.activateDocument(id)\n    },\n    switchDocument (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => this.activeDocumentId === id)\n\n      let nextIndex = currentIndex + direction\n\n      if (documentIds.length === 0) return\n      if (currentIndex === -1 || nextIndex >= documentIds.length) nextIndex = 0\n      else if (nextIndex < 0) nextIndex = documentIds.length - 1\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n    pauseActivity () {\n      this.activeDocument?.store().simulation.stop()\n    },\n    resumeActivity () {\n      this.activeDocument?.store().simulation.start()\n    },\n    activateDocument (id: string) {\n      this.pauseActivity()\n      this.activeDocumentId = id\n      this.resumeActivity()\n    },\n    openTestDocuments () {\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify({\n      //   connections: {},\n      //   items: {},\n      //   ports: {},\n      //   groups: {}\n      // }))\n      // this.openDocument('test.alfx', JSON.stringify(testIc))\n      // this.openDocument('integrated-circuit.alfx', JSON.stringify(integratedCircuit))\n      // this.pauseActivity()\n      this.openDocument('flip-flop.alfx', JSON.stringify(flipFlop), uuid(), 'flip-flop.alfx')\n      useIntegratedCircuitStore().loadLibrary()\n    },\n\n    navigateDocumentList (direction: number) {\n      const documentIds = Object.keys(this.documents)\n      const currentIndex = documentIds.findIndex(id => id === this.activeDocumentId)\n      let nextIndex = currentIndex + direction\n\n      if (nextIndex < 0) nextIndex = documentIds.length - 1\n      if (nextIndex >= documentIds.length) nextIndex = 0\n\n      this.activateDocument(documentIds[nextIndex])\n    },\n\n    toggleFullscreen () {\n      this.isFullscreen = !this.isFullscreen\n\n      window.api.setFullscreen(this.isFullscreen)\n    },\n\n    toggleToolbox () {\n      this.isToolboxOpen = !this.isToolboxOpen\n    }\n  }\n})\n","import { render } from \"./Item.vue?vue&type=template&id=a4cc4e56&ts=true\"\nimport script from \"./Item.vue?vue&type=script&lang=ts\"\nexport * from \"./Item.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Selector.vue?vue&type=template&id=52db8e2a&ts=true\"\nimport script from \"./Selector.vue?vue&type=script&lang=ts\"\nexport * from \"./Selector.vue?vue&type=script&lang=ts\"\n\nimport \"./Selector.vue?vue&type=style&index=0&id=52db8e2a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Editor.vue?vue&type=template&id=d5506d70&ts=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=d5506d70&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=2e6e8258&ts=true\"\nimport script from \"./Group.vue?vue&type=script&lang=ts\"\nexport * from \"./Group.vue?vue&type=script&lang=ts\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=2e6e8258&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import domToImage from 'dom-to-image'\n\n/**\n * Renders a printer-friendly HTML DOM clone of the given editor element.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n * @param padding - number of pixels to use as surrounding padding\n */\nfunction createPrintArea (zoom: number, editor: HTMLElement, boundingBox: BoundingBox, padding: number, className: string = 'printer-friendly') {\n  const printArea = editor.cloneNode(true) as HTMLElement\n  const width = boundingBox.right - boundingBox.left + (padding * 2)\n  const height = boundingBox.bottom - boundingBox.top + (padding * 2)\n\n  for (let i = 0; i < printArea.children.length; i++) {\n    const child = printArea.children[i] as HTMLElement\n    const left = parseInt(child.style.left.replace('px', ''), 10) + padding\n    const top = parseInt(child.style.top.replace('px', ''), 10) + padding\n\n    child.style.left = `${(left - boundingBox.left)}px`\n    child.style.top = `${(top - boundingBox.top)}px`\n  }\n\n  printArea.style['zoom' as any] = zoom.toString()\n  printArea.style.width = `${width}px`\n  printArea.style.height = `${height}px`\n  printArea.style.position = 'relative'\n  printArea.style.top = '0'\n  printArea.style.left = '0'\n  printArea.style.background = 'none'\n\n  if (className) {\n    printArea.classList.add(className)\n  }\n\n  return { printArea, width, height }\n}\n\n/**\n * Renders a hidden iframe on the page for printing.\n *\n * @param image - the image to print\n * @param pageSize - list of [width, height] dimensions, in inches\n */\nfunction createPrintFrame (image: HTMLImageElement, pageSize: number[]) {\n  const iframe = document.createElement('iframe')\n\n  iframe.name = 'print'\n  iframe.style.width = '1px'\n  iframe.style.height = '1px'\n  iframe.style.opacity = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.top = '0px'\n  iframe.style.left = '0px'\n\n  document.body.appendChild(iframe)\n\n  const printFrame = iframe.contentWindow\n\n  if (printFrame) {\n    const styleTag = document.createElement('style')\n\n    styleTag.appendChild(document.createTextNode(`\n      @page {\n        size: ${pageSize.map(s => `${s}in`).join(' ')};\n        margin: 0in;\n      }\n    `))\n\n    printFrame.document.head.append(styleTag)\n    printFrame.document.body.appendChild(image)\n  }\n\n  return iframe\n}\n\n/**\n * Renders a binary PNG screenshot of the given HTML element.\n *\n * @param printArea\n */\nasync function createImage<T extends string | Blob> (printArea: HTMLElement, fn: 'toBlob' | 'toPng') {\n  document.body.appendChild(printArea)\n\n  const dataUrl = await domToImage[fn](printArea) as T\n\n  printArea.remove()\n\n  return dataUrl\n}\n\n/**\n * Prints (using a physical printer) the contents of the given window.\n */\nasync function printWindow (win: Window | null) {\n  return new Promise<void>(resolve => {\n    setTimeout(() => {\n      if (!win) return resolve()\n\n      win.addEventListener('afterprint', () => resolve())\n      win.print()\n    })\n  })\n}\n\n/**\n * Prints (using a physical printer) the editor.\n * The version printed will be rendered as a printer-friendly (read: ink-friendly) screenshot of the given editor.\n *\n * @param zoom - current zoom level of the document\n * @param editor - the editor DOM element to clone\n * @param boundingBox - the bounding box of all items in the editor\n */\nasync function printImage (zoom: number, editor: HTMLElement, boundingBox: BoundingBox) {\n  const { printArea, width, height } = createPrintArea(1 / zoom, editor, boundingBox, 20)\n  const dataUrl = await printing.createImage<string>(printArea, 'toPng')\n  const pageSize = [8.5, 11] // inches\n  const minSize = Math.min(...pageSize) * 96 // pixels\n  const maxSize = Math.max(...pageSize) * 96 // pixels\n  const image = new Image()\n\n  let percent = 1 // percentage to resize the image by (to fit printable window area)\n\n  image.src = dataUrl as string\n\n  if (width > minSize || width > maxSize || height > minSize || height > maxSize) {\n    // make the image print in either landscape or portrait, whichever fits better\n    const isLandscape = width > height\n\n    // if the image exceeds one of the dimensions, resize it in ratio to match the dimension\n    percent = isLandscape\n      ? maxSize / width\n      : maxSize / height\n\n    if (isLandscape) {\n      pageSize.reverse()\n    }\n  }\n\n  image.style.width = `${Math.floor(width * percent)}px`\n  image.style.height = `${Math.floor(height * percent)}px`\n\n  const iframe = printing.createPrintFrame(image, pageSize)\n\n  await printing.printWindow(iframe?.contentWindow)\n\n  iframe?.remove()\n}\n\nconst printing = {\n  createPrintArea,\n  createPrintFrame,\n  createImage,\n  printImage,\n  printWindow\n}\n\nexport default printing\n","import { render } from \"./Document.vue?vue&type=template&id=cf667842&ts=true\"\nimport script from \"./Document.vue?vue&type=script&lang=ts\"\nexport * from \"./Document.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobileButton.vue?vue&type=template&id=288f0660&ts=true\"\nimport script from \"./MobileButton.vue?vue&type=script&lang=ts\"\nexport * from \"./MobileButton.vue?vue&type=script&lang=ts\"\n\nimport \"./MobileButton.vue?vue&type=style&index=0&id=288f0660&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobileCollapsiblePanel.vue?vue&type=template&id=5960dbea&ts=true\"\nimport script from \"./MobileCollapsiblePanel.vue?vue&type=script&lang=ts\"\nexport * from \"./MobileCollapsiblePanel.vue?vue&type=script&lang=ts\"\n\nimport \"./MobileCollapsiblePanel.vue?vue&type=style&index=0&id=5960dbea&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PropertySwitch.vue?vue&type=template&id=2bb8102b&ts=true\"\nimport script from \"./PropertySwitch.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertySwitch.vue?vue&type=script&lang=ts\"\n\nimport \"./PropertySwitch.vue?vue&type=style&index=0&id=2bb8102b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const isMobile = true\n\nexport default isMobile\n","import { render } from \"./PropertyForm.vue?vue&type=template&id=e3468fda&ts=true\"\nimport script from \"./PropertyForm.vue?vue&type=script&lang=ts\"\nexport * from \"./PropertyForm.vue?vue&type=script&lang=ts\"\n\nimport \"./PropertyForm.vue?vue&type=style&index=0&id=e3468fda&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobilePreferences.vue?vue&type=template&id=01b2de90&ts=true\"\nimport script from \"./MobilePreferences.vue?vue&type=script&lang=ts\"\nexport * from \"./MobilePreferences.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTimeline.vue?vue&type=template&id=525efcf4&ts=true\"\nimport script from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTimeline.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTimeline.vue?vue&type=style&index=0&id=525efcf4&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeTitleBar.vue?vue&type=template&id=7ed3e2d7&ts=true\"\nimport script from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeTitleBar.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeTitleBar.vue?vue&type=style&index=0&id=7ed3e2d7&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OscilloscopeViewer.vue?vue&type=template&id=7f022a3c&ts=true\"\nimport script from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./OscilloscopeViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./OscilloscopeViewer.vue?vue&type=style&index=0&id=7f022a3c&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Oscilloscope.vue?vue&type=template&id=c01905de&ts=true\"\nimport script from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\nexport * from \"./Oscilloscope.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarButton.vue?vue&type=template&id=3ddd451b&ts=true\"\nimport script from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarButton.vue?vue&type=style&index=0&id=3ddd451b&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarViewer.vue?vue&type=template&id=dc432b1a&ts=true\"\nimport script from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarViewer.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarViewer.vue?vue&type=style&index=0&id=dc432b1a&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBarZoom.vue?vue&type=template&id=2cb57bfb&ts=true\"\nimport script from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBarZoom.vue?vue&type=script&lang=ts\"\n\nimport \"./StatusBarZoom.vue?vue&type=style&index=0&id=2cb57bfb&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./StatusBar.vue?vue&type=template&id=644f170d&ts=true\"\nimport script from \"./StatusBar.vue?vue&type=script&lang=ts\"\nexport * from \"./StatusBar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarButton.vue?vue&type=template&id=7bbf6728&ts=true\"\nimport script from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarButton.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarButton.vue?vue&type=style&index=0&id=7bbf6728&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolbarSeparator.vue?vue&type=template&id=3396867d&ts=true\"\nimport script from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolbarSeparator.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolbarSeparator.vue?vue&type=style&index=0&id=3396867d&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ScrollFade.vue?vue&type=template&id=33168494&ts=true\"\nimport script from \"./ScrollFade.vue?vue&type=script&lang=ts\"\nexport * from \"./ScrollFade.vue?vue&type=script&lang=ts\"\n\nimport \"./ScrollFade.vue?vue&type=style&index=0&id=33168494&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Toolbar.vue?vue&type=template&id=0f9b5f79&ts=true\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=ts\"\n\nimport \"./Toolbar.vue?vue&type=style&index=0&id=0f9b5f79&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxItem.vue?vue&type=template&id=1372f053&ts=true\"\nimport script from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxItem.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxItem.vue?vue&type=style&index=0&id=1372f053&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ToolboxLayout.vue?vue&type=template&id=0203edc8&ts=true\"\nimport script from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\nexport * from \"./ToolboxLayout.vue?vue&type=script&lang=ts\"\n\nimport \"./ToolboxLayout.vue?vue&type=style&index=0&id=0203edc8&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nconst inputFactory: ItemFactory = (type: ItemSubtype, width: number, height: number, properties: PropertySet = {}) => {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Right, PortType.Output, 'Output Port')\n  ]\n  const item = itemFactory(elementId, ItemType.InputNode, type, width, height, ports)\n\n  item.properties = {\n    ...item.properties,\n    ...properties,\n    startValue: {\n      label: 'Start value',\n      value: -1,\n      type: 'number',\n      options: {\n        'True': 1,\n        'Hi-Z': 0,\n        'False': -1\n      }\n    },\n  }\n\n  return { item, ports }\n}\n\nexport default inputFactory\n","import ItemSubtype from '@/types/enums/ItemSubtype'\nimport inputFactory from './inputFactory'\n\nconst clockFactory: ItemFactory = () => inputFactory(ItemSubtype.Clock, 60, 60, {\n  interval: {\n    label: 'Interval',\n    value: 1000,\n    type: 'number',\n    min: 100,\n    step: 100\n  }\n})\n\nexport default clockFactory\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\nimport integratedCircuitFactory from './integratedCircuitFactory'\n\nexport default function digitFactory () {\n  const ports: Port[] = []\n  const state: SerializableState = Array(4)\n    .fill('')\n    .reduce((map, a, i) => {\n      const portId = uuid()\n      const itemId = uuid()\n      const port = portFactory(itemId, portId, Direction.Left, PortType.Output, `Input Port ${i + 1}`)\n      const item = itemFactory(itemId, ItemType.InputNode, ItemSubtype.Switch, 0, 0, [port])\n\n      ports.push(port)\n\n      return {\n        connections: {},\n        groups: {},\n        items: {\n          ...map.items,\n          [itemId]: item\n        },\n        ports: {\n          ...map.ports,\n          [portId]: port\n        }\n      }\n    }, {\n      connections: {},\n      ports: {},\n      items: {},\n      groups: {}\n    })\n\n  const item = integratedCircuitFactory(state, 'Digit Display', 40, 40, ItemSubtype.DigitDisplay)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\nimport Direction from '@/types/enums/Direction'\nimport PortType from '@/types/enums/PortType'\n\nexport default function lightbulbFactory () {\n  const elementId = uuid()\n  const ports = [\n    portFactory(elementId, uuid(), Direction.Left, PortType.Input, 'Input Port')\n  ]\n  const item = itemFactory(elementId, ItemType.OutputNode, ItemSubtype.Lightbulb, 40, 40, ports)\n\n  return { item, ports }\n}\n","import { v4 as uuid } from 'uuid'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\nimport ItemType from '@/types/enums/ItemType'\nimport itemFactory from './itemFactory'\nimport portFactory from './portFactory'\n\nexport default function logicGateFactory (type: ItemSubtype, width: number, height: number, inputCount: number = 2) {\n  const elementId = uuid()\n  const ports = Array(inputCount)\n    .fill('')\n    .map((a, i) => portFactory(elementId, uuid(), 0, 1, `Input Port ${i}`))\n    .concat(portFactory(elementId, uuid(), 2, 0, 'Output Port'))\n  const item = itemFactory(elementId, ItemType.LogicGate, type, width, height, ports)\n\n  item.properties = {\n    ...item.properties,\n    inputCount: {\n      label: 'Input count',\n      value: inputCount,\n      type: 'number',\n      min: inputCount\n    },\n    showInOscilloscope: {\n      label: 'Show in oscilloscope',\n      value: false,\n      type: 'boolean'\n    }\n  }\n\n  return { item, ports }\n}\n","import clockFactory from './clockFactory'\nimport inputFactory from './inputFactory'\nimport digitDisplayFactory from './digitDisplayFactory'\nimport lightbulbFactory from './lightbulbFactory'\nimport logicGateFactory from './logicGateFactory'\nimport ItemType from '@/types/enums/ItemType'\nimport ItemSubtype from '@/types/enums/ItemSubtype'\n\ntype FactoryDictionary = {\n  [type: string]: {\n    [subtype: string]: ItemFactory\n  }\n}\n\nexport default {\n  [ItemType.InputNode]: {\n    [ItemSubtype.Switch]: inputFactory.bind(this, ItemSubtype.Switch, 60, 60),\n    [ItemSubtype.Clock]: clockFactory\n  },\n  [ItemType.OutputNode]: {\n    [ItemSubtype.Lightbulb]: lightbulbFactory,\n    [ItemSubtype.DigitDisplay]: digitDisplayFactory\n  },\n  [ItemType.LogicGate]: {\n    [ItemSubtype.And]: logicGateFactory.bind(this, ItemSubtype.And, 140, 50),\n    [ItemSubtype.Nand]: logicGateFactory.bind(this, ItemSubtype.Nand, 140, 50),\n    [ItemSubtype.Xnor]: logicGateFactory.bind(this, ItemSubtype.Xnor, 140, 50),\n    [ItemSubtype.Nor]: logicGateFactory.bind(this, ItemSubtype.Nor, 140, 50),\n    [ItemSubtype.Or]: logicGateFactory.bind(this, ItemSubtype.Or, 140, 50),\n    [ItemSubtype.Not]: logicGateFactory.bind(this, ItemSubtype.Not, 140, 50, 1)\n  }\n} as FactoryDictionary\n","import { render } from \"./Toolbox.vue?vue&type=template&id=205b4647&ts=true\"\nimport script from \"./Toolbox.vue?vue&type=script&lang=ts\"\nexport * from \"./Toolbox.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MainView.vue?vue&type=template&id=5453adfa&ts=true\"\nimport script from \"./MainView.vue?vue&type=script&lang=ts\"\nexport * from \"./MainView.vue?vue&type=script&lang=ts\"\n\nimport \"./MainView.vue?vue&type=style&index=0&id=5453adfa&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobilePopoutMenuItem.vue?vue&type=template&id=5d835466&ts=true\"\nimport script from \"./MobilePopoutMenuItem.vue?vue&type=script&lang=ts\"\nexport * from \"./MobilePopoutMenuItem.vue?vue&type=script&lang=ts\"\n\nimport \"./MobilePopoutMenuItem.vue?vue&type=style&index=0&id=5d835466&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobileDocumentTabItem.vue?vue&type=template&id=63b2f753&ts=true\"\nimport script from \"./MobileDocumentTabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./MobileDocumentTabItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobileHeader.vue?vue&type=template&id=12ec2b37&ts=true\"\nimport script from \"./MobileHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./MobileHeader.vue?vue&type=script&lang=ts\"\n\nimport \"./MobileHeader.vue?vue&type=style&index=0&id=12ec2b37&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobilePopoutMenu.vue?vue&type=template&id=043db1a6&ts=true\"\nimport script from \"./MobilePopoutMenu.vue?vue&type=script&lang=ts\"\nexport * from \"./MobilePopoutMenu.vue?vue&type=script&lang=ts\"\n\nimport \"./MobilePopoutMenu.vue?vue&type=style&index=0&id=043db1a6&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobilePullout.vue?vue&type=template&id=5b489102&ts=true\"\nimport script from \"./MobilePullout.vue?vue&type=script&lang=ts\"\nexport * from \"./MobilePullout.vue?vue&type=script&lang=ts\"\n\nimport \"./MobilePullout.vue?vue&type=style&index=0&id=5b489102&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MobilePulloutHeading.vue?vue&type=template&id=6a0efcc1&ts=true\"\nimport script from \"./MobilePulloutHeading.vue?vue&type=script&lang=ts\"\nexport * from \"./MobilePulloutHeading.vue?vue&type=script&lang=ts\"\n\nimport \"./MobilePulloutHeading.vue?vue&type=style&index=0&id=6a0efcc1&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabItem.vue?vue&type=template&id=10855886&ts=true\"\nimport script from \"./TabItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TabItem.vue?vue&type=script&lang=ts\"\n\nimport \"./TabItem.vue?vue&type=style&index=0&id=10855886&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TabHost.vue?vue&type=template&id=df89a472&ts=true\"\nimport script from \"./TabHost.vue?vue&type=script&lang=ts\"\nexport * from \"./TabHost.vue?vue&type=script&lang=ts\"\n\nimport \"./TabHost.vue?vue&type=style&index=0&id=df89a472&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Theme.vue?vue&type=template&id=4dc0cc74&ts=true\"\nimport script from \"./Theme.vue?vue&type=script&lang=ts\"\nexport * from \"./Theme.vue?vue&type=script&lang=ts\"\n\nimport \"./Theme.vue?vue&type=style&index=0&id=4dc0cc74&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\n\nexport default function file (): MenuItemConstructorOptions[] {\n  const rootStore = useRootStore()\n  const hasDocument = rootStore.activeDocumentId !== null\n  const documentList = Object.keys(rootStore.documents)\n  const store = rootStore.activeDocument?.store()\n  const items: MenuItemConstructorOptions[] = [\n    {\n      label: '&New Circuit',\n      accelerator: 'CommandOrControl+N',\n      click: rootStore.newDocument\n    },\n    { type: 'separator' },\n    {\n      label: '&Open Circuit',\n      accelerator: 'CommandOrControl+O',\n      click: rootStore.selectDocument\n    },\n    {\n      label: 'Open &Integrated Circuit',\n      accelerator: 'CommandOrControl+Shift+O',\n      click: rootStore.selectDocument\n    },\n    { type: 'separator' },\n    {\n      label: 'Save',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+S',\n      click: () => rootStore.saveActiveDocument()\n    },\n    {\n      label: 'Save As...',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+S',\n      click: () => rootStore.saveActiveDocument(true)\n    },\n    {\n      label: 'Save All',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+Shift+A',\n      click: () => console.log('root store save all')\n    },\n    { type: 'separator' },\n    {\n      label: 'Print',\n      enabled: hasDocument,\n      accelerator: 'CommandOrControl+P',\n      click: () => store?.print()\n    },\n    { type: 'separator' },\n    {\n      label: 'Export...',\n      enabled: hasDocument,\n      submenu: [\n        {\n          label: 'Integrated Circuit',\n          accelerator: 'CommandOrControl+Shift+E',\n          click: () => console.log('export IC')\n        },\n        {\n          label: 'PNG Image',\n          accelerator: 'CommandOrControl+Shift+I',\n          click: () => store?.createImage()\n        }\n      ]\n    },\n    { type: 'separator' },\n    {\n      label: 'Preferences',\n      submenu: [\n        {\n          label: 'Global Preferences',\n          accelerator: 'CommandOrControl+,',\n          click: () => console.log('global prefs')\n        },\n        {\n          label: 'Document Preferences',\n          accelerator: 'CommandOrControl+Shift+,',\n          click: () => console.log('doc prefs')\n        }\n      ]\n    }\n  ]\n\n  if (Object.keys(rootStore.documents).length > 1) {\n    const submenu: MenuItemConstructorOptions[] = [\n      {\n        label: 'Previous File',\n        accelerator: 'Ctrl+Shift+Tab',\n        click: () => rootStore.switchDocument(-1)\n      },\n      {\n        label: 'Next File',\n        accelerator: 'Ctrl+Tab',\n        click: () => rootStore.switchDocument(1)\n      },\n      { type: 'separator' }\n    ]\n\n    for (let i = 0; i < documentList.length; i++) {\n      submenu.push({\n        type: \"checkbox\",\n        label: rootStore.documents[documentList[i]].displayName,\n        checked: rootStore.activeDocumentId === documentList[i],\n        click: () => rootStore.activateDocument(documentList[i])\n      })\n    }\n\n    items.push({ type: 'separator' })\n    items.push({\n      label: 'Switch to...',\n      submenu\n    })\n  }\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Close Document',\n    accelerator: 'CmdOrCtrl+W',\n    enabled: hasDocument,\n    click: () => rootStore.closeDocument(rootStore.activeDocumentId as string)\n  })\n\n  items.push({ type: 'separator' })\n  items.push({\n    label: 'Exit',\n    accelerator: 'CmdOrCtrl+Q',\n    click: () => window.close()\n  })\n\n  return items\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { DocumentStore } from '@/store/document'\nimport grid from './grid'\n\nexport default function edit (useDocumentStore: DocumentStore): MenuItemConstructorOptions[] {\n  const store = useDocumentStore()\n  const zoomSubmenu: MenuItemConstructorOptions[] = []\n  let hasFixedZoom = false\n\n  for (let i = 1; i <= 8; i++) {\n    const zoom = (i * 25) / 100\n    const checked = store.zoomLevel === zoom\n\n    hasFixedZoom = hasFixedZoom || checked\n\n    zoomSubmenu.push({\n      type: 'checkbox',\n      checked,\n      label: `${zoom * 100}%`,\n      accelerator: zoom === 1 ? 'CommandOrControl+0' : undefined,\n      click: () => store.setZoom({ zoom })\n    })\n  }\n\n  if (!hasFixedZoom) {\n    zoomSubmenu.unshift({\n      type: 'checkbox',\n      checked: true,\n      label: 'Custom'\n    })\n  }\n\n  const menu: MenuItemConstructorOptions[] = [\n    {\n      label: '&Zoom In',\n      accelerator: 'CommandOrControl+=',\n      enabled: store.zoomLevel < 2, // TODO: const\n      click: () => store.incrementZoom(1)\n    },\n    {\n      label: '&Zoom Out',\n      accelerator: 'CommandOrControl+-',\n      enabled: store.zoomLevel > 0.1, // TODO: const\n      click: () => store.incrementZoom(-1)\n    },\n    {\n      label: '&Zoom...',\n      submenu: zoomSubmenu\n    },\n    { type: 'separator' },\n    {\n      label: '&Pan to Center',\n      accelerator: 'CommandOrControl+;',\n      click: store.panToCenter\n    },\n    { type: 'separator' }\n  ]\n\n  return menu.concat(grid(useDocumentStore))\n}\n","import { MenuItemConstructorOptions } from 'electron/main'\nimport { useRootStore } from '@/store/root'\nimport edit from './submenus/edit'\nimport file from './submenus/file'\nimport view from './submenus/view'\n\nexport default function createApplicationMenu (): MenuItemConstructorOptions[] {\n  const store = useRootStore()\n\n  if (store.isDialogOpen) {\n    // TODO: set only basic menus (file and help)\n    return [\n      {\n        label: 'File',\n        submenu: [{\n          label: 'Exit'\n        }]\n      }\n    ]\n  }\n\n  const menus: MenuItemConstructorOptions[] = [\n    {\n      label: 'File',\n      submenu: file()\n    }\n  ]\n\n  if (store.activeDocument) {\n    menus.push({\n      label: 'Edit',\n      submenu: edit(store.activeDocument.store)\n    })\n\n    menus.push({\n      label: 'View',\n      submenu: view(store.activeDocument.store).concat([\n        { type: 'separator' },\n        {\n          type: 'checkbox',\n          click: store.toggleFullscreen,\n          checked: store.isFullscreen,\n          accelerator: 'F11',\n          label: 'Fullscreen'\n        }\n      ])\n    })\n  }\n\n  return menus\n}\n","import { render } from \"./App.vue?vue&type=template&id=51a2b7c8&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=51a2b7c8&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/aristotle/aristotle/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createPinia } from 'pinia'\nimport { createApp } from 'vue'\nimport App from '@/App.vue'\nimport '@/styles/main.scss'\n\nif (!window.api) {\n  // stub the ipc api for non-electron environments\n  // TODO: once the app is fully electron, move this to jest setup file\n  window.api = {\n    showContextMenu () {},\n    setApplicationMenu () {},\n    showOpenFileDialog () { return [] },\n    showSaveFileDialog () { return '' },\n    showMessageBox () { return 0 },\n    beep () {},\n    quit () {},\n    copy () {},\n    paste () { return '' },\n    onBeforeClose () {},\n    onOpenFile () {},\n    openFile () { return '' },\n    saveFile () {},\n    setFullscreen () {},\n    getFilePaths () { return [] }\n  }\n}\n\ncreateApp(App)\n  .use(createPinia())\n  .mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkaristotle\"] = self[\"webpackChunkaristotle\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2725); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_hoisted_1","key","render","_ctx","_cache","$props","$setup","$data","$options","_component_mobile_header","_resolveComponent","_component_mobile_pullout_heading","_component_mobile_preferences","_component_mobile_pullout","_component_mobile_document_tab_item","_component_mobile_popout_menu","_component_toolbar","_component_toolbox","_component_tab_item","_component_document","_component_tab_host","_component_oscilloscope","_component_status_bar","_component_main_view","_component_builder_view","_component_theme","_openBlock","_createBlock","dark","experience","darkMode","value","default","_withCtx","_createElementVNode","class","_normalizeClass","isDropping","activeDocumentId","activeDocument","isDialogOpen","onContextmenu","onContextMenu","top","isMobile","_createElementBlock","_Fragment","_createVNode","onSelect","$event","isDocumentSelectOpen","onOpen","isSettingsOpen","displayName","modelValue","onClose","_","_renderList","documents","document","id","label","dirty","store","isDirty","active","onActivate","activateDocument","closeDocument","_createCommentVNode","isToolboxOpen","middle","_createSlots","onSwitch","switchDocument","onOpenIntegratedCircuit","openIntegratedCircuit","undefined","name","fn","bottom","isFullscreen","onFullscreen","toggleFullscreen","_toDisplayString","isBuilderOpen","_component_builder","_component_modal_button","_component_modal","close","title","buttons","text","onClick","inverted","save","item","_component_builder_drop_zone","_component_builder_editable_label","_component_container","type","getCardPayload","ports","children","onDrop","onWireDrop","left","right","_component_port_handle","_component_port_wire","_component_Draggable","_component_Container","orientation","onDragEnter","onDragLeave","getChildPayload","getGhostParent","port","tag","props","_hoisted_2","tabindex","isReadOnly","onFocus","ref","onInput","onBlur","_renderSlot","$slots","defineComponent","String","setup","emit","inputRef","nextTick","focus","select","target","__exports__","style","_normalizeStyle","backgroundColor","Boolean","hue","Number","computed","components","BuilderEditableLabel","Container","Draggable","PortHandle","PortWire","emits","drop","l","p","Array","Function","required","includes","pattern","draggedOrientation","replaceModifiers","replacement","querySelectorAll","forEach","matches","element","className","match","pop","replace","result","querySelector","PortType","applyDrag","arr","dragResult","removedIndex","addedIndex","payload","itemToAdd","splice","BuilderDropZone","Object","emitModel","orientations","portIds","keys","o","indexOf","push","location","dropResult","newWires","assign","index","integratedCircuit","portId","ItemType","Direction","ItemSubtype","itemFactory","subtype","width","height","map","groupId","rotation","boundingBox","position","x","y","zIndex","isSelected","properties","integratedCircuitFactory","state","cloneDeep","items","connections","groups","integratedCircuitItem","uuid","values","itemPorts","portSequenceNumber","homogenousPortType","reduce","portType","filter","newId","length","elementId","serializedState","JSON","stringify","FileService","filePath","zip","JSZip","compressedContent","window","api","openFile","loadAsync","files","content","async","data","blob","arrayBuffer","blobby","buf","Buffer","saveFile","file","generateAsync","this","writeBlob","mapStandardCircuitIds","circuit","idMap","mapGroups","group","oldId","mapGroupIds","connection","mapConnections","source","mapConnectionChainIds","connectionChainId","mapItems","mapItemIds","mapPorts","mapIntegratedCircuitIds","mappedItem","useIntegratedCircuitStore","defineStore","model","factories","resolve","actions","launchBuilder","Promise","loadLibrary","filePaths","getFilePaths","i","loadCircuit","open","parsed","parse","idMapper","console","log","showMessageBox","message","fileName","showSaveFileDialog","extensions","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_icon","_Transition","appear","$emit","icon","faClose","xmlns","viewBox","fill","d","svgPath","Icon","show","role","disabled","Builder","Modal","ModalButton","isOpen","_component_item","_component_connection","_component_group","_component_editor","zoom","zoomLevel","grid","showGrid","gridSize","offset","canvas","colors","onColor","offColor","unknownColor","onPan","panTo","onDeselect","deselectAll","onSelection","createSelection","onZoom","setZoom","onResize","setViewerSize","recycleSelection","hasLoaded","baseItems","baseItem","storeDefinition","flash","isDebugging","isCircuitEvaluated","connectionPreviewId","_component_wire","_component_draggable","freeportId","onTouchhold","onDragStart","onDrag","onDragEnd","selectItem","k","deselectItem","geometry","isPreview","_component_resizable","onMousedown","_withModifiers","onMouseDown","onMouseup","onMouseUp","onTouchstart","onTouchStart","onTouchmove","onTouchMove","onTouchend","onTouchEnd","onTouchcancel","dragEnd","SnapMode","roundToNth","n","Math","round","isInNeighborhood","a","b","radius","hypot","getGridSnapPosition","distance","getRadialSnapOffset","boundingBoxes","getOuterSnapOffset","ts","abs","bs","ls","rs","getSnapOffset","snapMode","hasLinearIntersection","a1","a2","b1","b2","ccw","c","isLineIntersectingRectangle","b3","b4","hasIntersection","scaleBoundingBox","box","scale","isOneOrTwoDimensional","getLinearBoundaries","point","Infinity","getPointBoundary","getBoundingBox","midX","midY","getGroupBoundingBox","rect","min","max","getBoundingBoxMidpoint","getCenteredScreenPoint","parentBox","childBox","factor","parentMidpoint","childWidth","childHeight","getExtremePoint","points","resize","resizable","onSizeChanged","getBoundingClientRect","observer","ResizeObserver","onMounted","observe","Resizable","allowTouchDrag","dragStart","drag","deselect","touchhold","draggable","touchTimeout","isDragging","hasMovedSubstantially","hasEmittedDragStart","initialTouchPosition","setTimeout","clientX","clientY","$el","onMouseMove","stopImmediatePropagation","preventDefault","touches","newPosition","boundaries","clearTimeout","stopPropagation","addEventListener","onBeforeUnmount","removeEventListener","watchEffect","transform","minX","minY","path","isAnimated","rotate","additional","WIRE_PADDING","renderLayout","getEndpoints","start","end","computeStraightLine","sourceDirection","getPortDirection","targetDirection","computeBezier","inflectDirection","direction","isFreeport","floor","x1","y1","x4","y4","dx","dy","x2","toFixed","y2","x3","y3","join","toNumArr","parseInt","toString","maxX","maxY","edit","useDocumentStore","submenus","menu","enabled","canUndo","accelerator","click","undo","hasSelection","deleteSelection","selectedItemIds","submenu","setZIndex","incrementZIndex","canGroup","canUngroup","concat","activePortId","checked","editor","Wire","root","topLeft","createFreeport","opacity","navigator","vibrate","itemId","inputPortId","outputPortId","sourceId","targetId","setSnapBoundaries","dragItem","destroyConnection","showContextMenu","editorContextMenu","_component_properties","_component_port_item","_component_circuit_component","outline","pointerEvents","onKeydown","_withKeys","onEscapeKey","onDblclick","revealCustomCircuit","commitCachedState","isPropertiesEnabled","viewport","onUpdate","setProperties","setActivePortId","panDelta","onSignal","setPortValue","portUpdates","connectedPortIds","isMonitored","onKeypress","onPortBlur","CustomCircuit","_resolveDynamicComponent","_mergeProps","onChange","Freeport","signal","_normalizeProps","_guardReactiveProps","_component_custom_circuit_port_zone","_component_custom_circuit_port","CustomCircuitPort","CustomCircuitPortZone","segments","segment","charMap","e","f","paths","binaryString","node","hexString","toLowerCase","suffix","DigitDisplay","inputCount","cx","cy","r","isNegated","isXor","_component_or","Or","_component_buffer","stroke","_component_and","And","Nor","Not","Nand","Xnor","Xor","modifier","Lightbulb","InputNode","IntegratedCircuit","LogicGate","OutputNode","args","_createTextVNode","_hoisted_7","_hoisted_8","onKeyDown","propertyName","for","options","_withDirectives","_vModelSelect","_vModelCheckbox","_vModelDynamic","openProperties","faWrench","update","pan","animate","propertiesRef","deltaX","deltaY","watch","deep","_component_port_pivot","cycleConnectionPreviews","commitPreviewedConnection","connectablePortIds","onTouchHold","onDoubleClick","PortPivot","newFreeport","draggedPortId","isAdded","unsetConnectionPreview","cachedState","setConnectablePortIds","connectFreeport","togglePortMonitoring","setPortRelativePosition","Connection","LogicValue","TRUE","FALSE","UNKNOWN","CircuitNode","inputIds","newValue","eventType","outputIds","events","event","callback","compare","inputValues","outputs","invokeEvent","eval","queue","isValueChanged","updateOutputs","forceContinue","propagate","Circuit","inputNodes","enqueue","nodes","inputIndex","findIndex","removeNodeOutputs","next","sourceValue","sourceNode","targetNode","removeConnection","added","removed","reset","localQueue","shift","dequeue","isComplete","nextValue","getProjectedValue","valueCount","BinaryWaveService","lastY","addSegment","updateWidth","initialize","elapsed","drawPulseConstant","previous","pos","widthToKeep","widthToTruncate","unshift","slice","ClockService","interval","TinyEmitter","emitter","on","isStopped","lastUpdate","OscillationService","Date","now","isPaused","remainingPeriodTime","lastUpdateTime","refreshRate","tick","waves","wave","displays","getPoints","screenWidth","screen","widthOfOneSecond","maxHistorySeconds","timeMsElapsed","timeMsOffset","truncateSegments","computeWaveGeometry","MAX_IDLE_TIME","hasUpdated","stop","delta","broadcast","requestAnimationFrame","hasOwnProperty","clear","getLogicGateNode","getCircuitNode","SimulationService","addNode","addConnection","valueMap","iteration","shouldContinue","step","isDebug","clocks","clock","toggleClocks","oscillator","computeNextState","advanceDebuggerStep","nextState","nextValues","nextValueMap","updatePortValue","currentState","canContinue","setValue","drawPulseChange","anyValueChanged","enqueuePortValueChange","icItem","addIntegratedCircuit","circuitNodeMapper","addPort","addClock","monitorPort","getIntegratedCircuitPortIds","ic","removeNode","removePort","add","remove","unmonitorPort","oscillogram","addElements","undoStack","redoStack","simulation","itemNames","oscilloscopeHeight","isOscilloscopeOpen","isOscilloscopeRecording","isPrinting","isCreatingImage","animatePan","debugger","timeout","DOMRect","snapBoundaries","selectedConnectionIds","selectedPortIndex","activeFreeportId","cut","copy","clipboardData","pasteCount","paste","mapped","commitState","addItem","setSelectionState","connect","setGroupBoundingBox","error","setConnectionPreview","disconnect","previewPortId","beep","createConnection","find","sourceIndex","targetIndex","loadDocument","applyState","resetCircuit","print","createImage","clearStatelessInfo","clearBaseItems","itemIds","connectionIds","groupIds","connectionChainIds","Set","has","removeElement","portFactory","usePreferencesStore","description","snapping","snapToGrid","excludes","snapToAlign","snapTolerance","startPaused","vibration","mobileOnly","autosave","desktopOnly","writeSettings","updateSettings","preferences","addFreeportItem","disconnectFreeport","originalSourceId","originalTargetId","createCircuitConnection","setItemBoundingBox","snap","newPort","destroyGroup","ungroup","fromDocumentToEditorCoordinates","z","portList","resetItemValue","insertItemAtPosition","documentPosition","midpoint","property","startValue","ids","setInputCount","count","oldCount","virtualElementId","setClockInterval","from","easeOut","percent","bind","panToCenter","getConnectionChain","portMap","freeportIds","sourcePort","targetPort","portIndex","random","centerAll","setItemPosition","snapPreference","setSelectionPosition","moveSelectionPosition","referenceItem","getGroupedItemRotatedPosition","groupBoundingBox","w","h","mx","my","ax","ay","L","currentAngleRad","atan2","newAngle","PI","newAx","cos","newAy","sin","selectedItems","newRotation","keepSelection","selectAll","selection","updateSelectionList","selectItemConnections","backToFirstItem","selectedGroupIds","toggleOscillatorRecording","onSimulationUpdate","onError","startDebugging","stepThroughCircuit","toggleDebugger","stopDebugging","toggleOscilloscope","closeOscilloscope","openOscilloscope","lastHeight","clearOscilloscope","MIN_SCALE","updateCanvasSize","canvasWidth","canvasHeight","setItemSize","centerX","centerY","newX","newY","undoState","redo","redoState","cacheState","savedState","parsedState","getExcludedMembers","aIds","bIds","removedItems","removedConnections","addedItems","addedConnections","sortByZIndex","sendBackward","bringForward","sendToBack","bringToFront","sort","reverse","frozenIds","currentIndex","nextIndex","MAX_SCALE","SCALE_STEP","incrementZoom","zoomedPoint","scaledPoint","viewportPoint","createDocumentStore","documentId","getters","hasSelectedItems","call","canRedo","clipboardActions","connectionActions","editorActions","freeportActions","groupingActions","itemActions","panningActions","portActions","positioningActions","rotationActions","selectionActions","simulationActions","snappingActions","sizingActions","undoRedoActions","zIndexActions","zoomingActions","getFileName","split","useRootStore","clipboard","canExit","hasOpenDocuments","launchIntegratedCircuitBuilder","integratedCircuitStore","$state","idMappedIcItem","openDocument","saveImage","partialName","newDocument","closeAll","closedSuccessfully","printActiveDocument","isSuccessful","dialogResult","saveActiveDocument","$reset","$dispose","remainingId","setFileName","selectDocument","showOpenFileDialog","openDocumentFromPath","test","documentIds","pauseActivity","resumeActivity","openTestDocuments","flipFlop","navigateDocumentList","setFullscreen","toggleToolbox","CircuitComponent","PortItem","Properties","itemRef","activeElement","blur","_component_selector","onMousewheel","onMouseWheel","onSelectionStart","onSelectionEnd","selectionStart","selectionEnd","selector","bbox","getPosition","contextmenu","Selector","panStartPosition","previousPosition","originalMousePosition","speed","angle","isPanning","firstPinchDistance","initialZoom","backgroundSize","getTouchDistance","startPanning","endPanning","friction","button","targetTouches","changedTouches","shiftKey","wheel","boundary","createPrintArea","padding","printArea","cloneNode","child","background","classList","createPrintFrame","image","pageSize","iframe","createElement","body","appendChild","printFrame","contentWindow","styleTag","createTextNode","s","head","append","domToImage","dataUrl","printWindow","win","printImage","printing","minSize","maxSize","Image","src","isLandscape","Group","Editor","Item","rootStore","updates","storeToRefs","acceleration","initiatePrint","editorElement","exportImage","onClipboard","action","HTMLInputElement","ctrlKey","moveItemsByArrowKey","onKeyUp","clearKeys","_component_mobile_button","_component_property_form","_component_mobile_collapsible_panel","faFile","faCodeBranch","faMicrochip","faImage","faPalette","faTableCells","faMagnet","faGears","faWandMagicSparkles","chevron","faChevronDown","toggle","MobileButton","clientHeight","_component_property_switch","modelModifiers","boolean","PropertySwitch","getModel","m","MobileCollapsiblePanel","PropertyForm","preferencesStore","_component_oscilloscope_title_bar","_component_oscilloscope_timeline","_component_oscilloscope_viewer","onCollapse","clearable","hasWaves","onClear","onToggle","v","color","onWheel","totalWidth","preserveAspectRatio","mounted","timeline","$refs","list","scrollToNextInterval","onTimelineScroll","beforeUnmount","methods","scrollTop","scrollLeft","scrollWidth","handler","faBan","isRecording","faPause","faPlay","collapseHeight","viewer","originalY","currentY","parentElement","onUnmounted","OscilloscopeTimeline","OscilloscopeTitleBar","OscilloscopeViewer","_component_status_bar_button","_component_status_bar_zoom","_component_status_bar_viewer","faMinus","faPlus","zoomPercent","faCompress","faExpand","parseFloat","StatusBarButton","StatusBarViewer","StatusBarZoom","_component_toolbar_button","_component_toolbar_separator","_component_scroll_fade","faScrewdriverWrench","faFolderOpen","faSave","documentStore","faReply","faShare","faRotateForward","faObjectGroup","faObjectUngroup","faScissors","faCopy","faPaste","faBug","faArrowsRotate","faForwardStep","faWaveSquare","isToolbox","faUser","hideScrollbar","gradientStyle","onScroll","scroll","getGradientStyle","clientWidth","modifiers","ToolbarButton","ToolbarSeparator","ScrollFade","faRotateBackward","_component_toolbox_item","_component_toolbox_layout","factorySubtypes","factory","selectable","rects","preview","draggedElement","inner","outer","ratio","contains","categories","cat","selected","slots","toolbox","scrollHeight","categoryName","inputFactory","clockFactory","digitFactory","lightbulbFactory","logicGateFactory","showInOscilloscope","digitDisplayFactory","ToolboxItem","ToolboxLayout","circuits","isBlurred","_component_mobile_popout_menu_item","closable","MobilePopoutMenuItem","activate","faBars","documentName","documentCount","faPlusSquare","version","hasDocument","documentList","zoomSubmenu","hasFixedZoom","createApplicationMenu","menus","view","BuilderView","Document","Oscilloscope","MainView","MobileDocumentTabItem","MobileHeader","MobilePopoutMenu","MobilePreferences","MobilePullout","MobilePulloutHeading","StatusBar","TabItem","TabHost","Theme","Toolbar","Toolbox","onDragOver","dataTransfer","dropEffect","toUpperCase","reload","setApplicationMenu","onBeforeClose","onOpenFile","horizontal","lastPosition","toolboxWidth","quit","createApp","App","use","createPinia","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","deferred","O","chunkIds","priority","notFulfilled","fulfilled","j","every","getter","__esModule","definition","defineProperty","enumerable","get","g","globalThis","obj","prop","prototype","Symbol","toStringTag","nmd","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}