var Oc=Object.defineProperty;var kc=(e,t,n)=>t in e?Oc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>(kc(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function ss(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const lt={},so=[],Xt=()=>{},Pc=()=>!1,$c=/^on[^a-z]/,Zr=e=>$c.test(e),as=e=>e.startsWith("onUpdate:"),_t=Object.assign,ls=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ac=Object.prototype.hasOwnProperty,Qe=(e,t)=>Ac.call(e,t),Le=Array.isArray,ao=e=>Ko(e)==="[object Map]",vo=e=>Ko(e)==="[object Set]",qs=e=>Ko(e)==="[object Date]",He=e=>typeof e=="function",gt=e=>typeof e=="string",Lo=e=>typeof e=="symbol",st=e=>e!==null&&typeof e=="object",Va=e=>st(e)&&He(e.then)&&He(e.catch),Ua=Object.prototype.toString,Ko=e=>Ua.call(e),Dc=e=>Ko(e).slice(8,-1),Ha=e=>Ko(e)==="[object Object]",cs=e=>gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ar=ss(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},zc=/-(\w)/g,an=Gr(e=>e.replace(zc,(t,n)=>n?n.toUpperCase():"")),Tc=/\B([A-Z])/g,Zn=Gr(e=>e.replace(Tc,"-$1").toLowerCase()),Kr=Gr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Di=Gr(e=>e?`on${Kr(e)}`:""),No=(e,t)=>!Object.is(e,t),Dr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Mr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Br=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Mc=e=>{const t=gt(e)?Number(e):NaN;return isNaN(t)?e:t};let Zs;const Fi=()=>Zs||(Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function at(e){if(Le(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=gt(o)?Rc(o):at(o);if(r)for(const i in r)t[i]=r[i]}return t}else{if(gt(e))return e;if(st(e))return e}}const Bc=/;(?![^(]*\))/g,Lc=/:([^]+)/,Nc=/\/\*[^]*?\*\//g;function Rc(e){const t={};return e.replace(Nc,"").split(Bc).forEach(n=>{if(n){const o=n.split(Lc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Ye(e){let t="";if(gt(e))t=e;else if(Le(e))for(let n=0;n<e.length;n++){const o=Ye(e[n]);o&&(t+=o+" ")}else if(st(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Wa(e){if(!e)return null;let{class:t,style:n}=e;return t&&!gt(t)&&(e.class=Ye(t)),n&&(e.style=at(n)),e}const Fc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jc=ss(Fc);function qa(e){return!!e||e===""}function Vc(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Hn(e[o],t[o]);return n}function Hn(e,t){if(e===t)return!0;let n=qs(e),o=qs(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Lo(e),o=Lo(t),n||o)return e===t;if(n=Le(e),o=Le(t),n||o)return n&&o?Vc(e,t):!1;if(n=st(e),o=st(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!Hn(e[s],t[s]))return!1}}return String(e)===String(t)}function us(e,t){return e.findIndex(n=>Hn(n,t))}const dt=e=>gt(e)?e:e==null?"":Le(e)||st(e)&&(e.toString===Ua||!He(e.toString))?JSON.stringify(e,Za,2):String(e),Za=(e,t)=>t&&t.__v_isRef?Za(e,t.value):ao(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r])=>(n[`${o} =>`]=r,n),{})}:vo(t)?{[`Set(${t.size})`]:[...t.values()]}:st(t)&&!Le(t)&&!Ha(t)?String(t):t;let Bt;class Ga{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!t&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Bt;try{return Bt=this,t()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Ka(e){return new Ga(e)}function Uc(e,t=Bt){t&&t.active&&t.effects.push(e)}function Xa(){return Bt}function Hc(e){Bt&&Bt.cleanups.push(e)}const ds=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ya=e=>(e.w&Pn)>0,Ja=e=>(e.n&Pn)>0,Wc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Pn},qc=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const r=t[o];Ya(r)&&!Ja(r)?r.delete(e):t[n++]=r,r.w&=~Pn,r.n&=~Pn}t.length=n}},Lr=new WeakMap;let Po=0,Pn=1;const ji=30;let Gt;const Vn=Symbol(""),Vi=Symbol("");class fs{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Uc(this,o)}run(){if(!this.active)return this.fn();let t=Gt,n=En;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Gt,Gt=this,En=!0,Pn=1<<++Po,Po<=ji?Wc(this):Gs(this),this.fn()}finally{Po<=ji&&qc(this),Pn=1<<--Po,Gt=this.parent,En=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Gt===this?this.deferStop=!0:this.active&&(Gs(this),this.onStop&&this.onStop(),this.active=!1)}}function Gs(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let En=!0;const Qa=[];function yo(){Qa.push(En),En=!1}function bo(){const e=Qa.pop();En=e===void 0?!0:e}function Tt(e,t,n){if(En&&Gt){let o=Lr.get(e);o||Lr.set(e,o=new Map);let r=o.get(n);r||o.set(n,r=ds()),el(r)}}function el(e,t){let n=!1;Po<=ji?Ja(e)||(e.n|=Pn,n=!Ya(e)):n=!e.has(Gt),n&&(e.add(Gt),Gt.deps.push(e))}function hn(e,t,n,o,r,i){const s=Lr.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&Le(e)){const l=Number(o);s.forEach((u,f)=>{(f==="length"||f>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":Le(e)?cs(n)&&a.push(s.get("length")):(a.push(s.get(Vn)),ao(e)&&a.push(s.get(Vi)));break;case"delete":Le(e)||(a.push(s.get(Vn)),ao(e)&&a.push(s.get(Vi)));break;case"set":ao(e)&&a.push(s.get(Vn));break}if(a.length===1)a[0]&&Ui(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Ui(ds(l))}}function Ui(e,t){const n=Le(e)?e:[...e];for(const o of n)o.computed&&Ks(o);for(const o of n)o.computed||Ks(o)}function Ks(e,t){(e!==Gt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Zc(e,t){var n;return(n=Lr.get(e))==null?void 0:n.get(t)}const Gc=ss("__proto__,__v_isRef,__isVue"),tl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Lo)),Kc=hs(),Xc=hs(!1,!0),Yc=hs(!0),Xs=Jc();function Jc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=Ke(this);for(let i=0,s=this.length;i<s;i++)Tt(o,"get",i+"");const r=o[t](...n);return r===-1||r===!1?o[t](...n.map(Ke)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){yo();const o=Ke(this)[t].apply(this,n);return bo(),o}}),e}function Qc(e){const t=Ke(this);return Tt(t,"has",e),t.hasOwnProperty(e)}function hs(e=!1,t=!1){return function(o,r,i){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&i===(e?t?mu:sl:t?il:rl).get(o))return o;const s=Le(o);if(!e){if(s&&Qe(Xs,r))return Reflect.get(Xs,r,i);if(r==="hasOwnProperty")return Qc}const a=Reflect.get(o,r,i);return(Lo(r)?tl.has(r):Gc(r))||(e||Tt(o,"get",r),t)?a:ht(a)?s&&cs(r)?a:a.value:st(a)?e?al(a):Yr(a):a}}const eu=nl(),tu=nl(!0);function nl(e=!1){return function(n,o,r,i){let s=n[o];if(fo(s)&&ht(s)&&!ht(r))return!1;if(!e&&(!Nr(r)&&!fo(r)&&(s=Ke(s),r=Ke(r)),!Le(n)&&ht(s)&&!ht(r)))return s.value=r,!0;const a=Le(n)&&cs(o)?Number(o)<n.length:Qe(n,o),l=Reflect.set(n,o,r,i);return n===Ke(i)&&(a?No(r,s)&&hn(n,"set",o,r):hn(n,"add",o,r)),l}}function nu(e,t){const n=Qe(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&hn(e,"delete",t,void 0),o}function ou(e,t){const n=Reflect.has(e,t);return(!Lo(t)||!tl.has(t))&&Tt(e,"has",t),n}function ru(e){return Tt(e,"iterate",Le(e)?"length":Vn),Reflect.ownKeys(e)}const ol={get:Kc,set:eu,deleteProperty:nu,has:ou,ownKeys:ru},iu={get:Yc,set(e,t){return!0},deleteProperty(e,t){return!0}},su=_t({},ol,{get:Xc,set:tu}),ps=e=>e,Xr=e=>Reflect.getPrototypeOf(e);function wr(e,t,n=!1,o=!1){e=e.__v_raw;const r=Ke(e),i=Ke(t);n||(t!==i&&Tt(r,"get",t),Tt(r,"get",i));const{has:s}=Xr(r),a=o?ps:n?vs:Ro;if(s.call(r,t))return a(e.get(t));if(s.call(r,i))return a(e.get(i));e!==r&&e.get(t)}function Cr(e,t=!1){const n=this.__v_raw,o=Ke(n),r=Ke(e);return t||(e!==r&&Tt(o,"has",e),Tt(o,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Sr(e,t=!1){return e=e.__v_raw,!t&&Tt(Ke(e),"iterate",Vn),Reflect.get(e,"size",e)}function Ys(e){e=Ke(e);const t=Ke(this);return Xr(t).has.call(t,e)||(t.add(e),hn(t,"add",e,e)),this}function Js(e,t){t=Ke(t);const n=Ke(this),{has:o,get:r}=Xr(n);let i=o.call(n,e);i||(e=Ke(e),i=o.call(n,e));const s=r.call(n,e);return n.set(e,t),i?No(t,s)&&hn(n,"set",e,t):hn(n,"add",e,t),this}function Qs(e){const t=Ke(this),{has:n,get:o}=Xr(t);let r=n.call(t,e);r||(e=Ke(e),r=n.call(t,e)),o&&o.call(t,e);const i=t.delete(e);return r&&hn(t,"delete",e,void 0),i}function ea(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&hn(e,"clear",void 0,void 0),n}function Ir(e,t){return function(o,r){const i=this,s=i.__v_raw,a=Ke(s),l=t?ps:e?vs:Ro;return!e&&Tt(a,"iterate",Vn),s.forEach((u,f)=>o.call(r,l(u),l(f),i))}}function xr(e,t,n){return function(...o){const r=this.__v_raw,i=Ke(r),s=ao(i),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=r[e](...o),f=n?ps:t?vs:Ro;return!t&&Tt(i,"iterate",l?Vi:Vn),{next(){const{value:m,done:y}=u.next();return y?{value:m,done:y}:{value:a?[f(m[0]),f(m[1])]:f(m),done:y}},[Symbol.iterator](){return this}}}}function wn(e){return function(...t){return e==="delete"?!1:this}}function au(){const e={get(i){return wr(this,i)},get size(){return Sr(this)},has:Cr,add:Ys,set:Js,delete:Qs,clear:ea,forEach:Ir(!1,!1)},t={get(i){return wr(this,i,!1,!0)},get size(){return Sr(this)},has:Cr,add:Ys,set:Js,delete:Qs,clear:ea,forEach:Ir(!1,!0)},n={get(i){return wr(this,i,!0)},get size(){return Sr(this,!0)},has(i){return Cr.call(this,i,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Ir(!0,!1)},o={get(i){return wr(this,i,!0,!0)},get size(){return Sr(this,!0)},has(i){return Cr.call(this,i,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:Ir(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=xr(i,!1,!1),n[i]=xr(i,!0,!1),t[i]=xr(i,!1,!0),o[i]=xr(i,!0,!0)}),[e,n,t,o]}const[lu,cu,uu,du]=au();function ms(e,t){const n=t?e?du:uu:e?cu:lu;return(o,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Qe(n,r)&&r in o?n:o,r,i)}const fu={get:ms(!1,!1)},hu={get:ms(!1,!0)},pu={get:ms(!0,!1)},rl=new WeakMap,il=new WeakMap,sl=new WeakMap,mu=new WeakMap;function gu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vu(e){return e.__v_skip||!Object.isExtensible(e)?0:gu(Dc(e))}function Yr(e){return fo(e)?e:gs(e,!1,ol,fu,rl)}function yu(e){return gs(e,!1,su,hu,il)}function al(e){return gs(e,!0,iu,pu,sl)}function gs(e,t,n,o,r){if(!st(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const s=vu(e);if(s===0)return e;const a=new Proxy(e,s===2?o:n);return r.set(e,a),a}function fn(e){return fo(e)?fn(e.__v_raw):!!(e&&e.__v_isReactive)}function fo(e){return!!(e&&e.__v_isReadonly)}function Nr(e){return!!(e&&e.__v_isShallow)}function ll(e){return fn(e)||fo(e)}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function Jr(e){return Mr(e,"__v_skip",!0),e}const Ro=e=>st(e)?Yr(e):e,vs=e=>st(e)?al(e):e;function cl(e){En&&Gt&&(e=Ke(e),el(e.dep||(e.dep=ds())))}function ul(e,t){e=Ke(e);const n=e.dep;n&&Ui(n)}function ht(e){return!!(e&&e.__v_isRef===!0)}function Ue(e){return bu(e,!1)}function bu(e,t){return ht(e)?e:new _u(e,t)}class _u{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:Ro(t)}get value(){return cl(this),this._value}set value(t){const n=this.__v_isShallow||Nr(t)||fo(t);t=n?t:Ke(t),No(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ro(t),ul(this))}}function wu(e){return ht(e)?e.value:e}const Cu={get:(e,t,n)=>wu(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return ht(r)&&!ht(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function dl(e){return fn(e)?e:new Proxy(e,Cu)}function Su(e){const t=Le(e)?new Array(e.length):{};for(const n in e)t[n]=fl(e,n);return t}class Iu{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Zc(Ke(this._object),this._key)}}class xu{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Eu(e,t,n){return ht(e)?e:He(e)?new xu(e):st(e)&&arguments.length>1?fl(e,t,n):Ue(e)}function fl(e,t,n){const o=e[t];return ht(o)?o:new Iu(e,t,n)}class Ou{constructor(t,n,o,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new fs(t,()=>{this._dirty||(this._dirty=!0,ul(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const t=Ke(this);return cl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ku(e,t,n=!1){let o,r;const i=He(e);return i?(o=e,r=Xt):(o=e.get,r=e.set),new Ou(o,r,i||!r,n)}function On(e,t,n,o){let r;try{r=o?e(...o):e()}catch(i){Qr(i,t,n)}return r}function Ut(e,t,n,o){if(He(e)){const i=On(e,t,n,o);return i&&Va(i)&&i.catch(s=>{Qr(s,t,n)}),i}const r=[];for(let i=0;i<e.length;i++)r.push(Ut(e[i],t,n,o));return r}function Qr(e,t,n,o=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const s=t.proxy,a=n;for(;i;){const u=i.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,s,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){On(l,null,10,[e,s,a]);return}}Pu(e,n,r,o)}function Pu(e,t,n,o=!0){console.error(e)}let Fo=!1,Hi=!1;const Pt=[];let rn=0;const lo=[];let cn=null,Nn=0;const hl=Promise.resolve();let ys=null;function ei(e){const t=ys||hl;return e?t.then(this?e.bind(this):e):t}function $u(e){let t=rn+1,n=Pt.length;for(;t<n;){const o=t+n>>>1;jo(Pt[o])<e?t=o+1:n=o}return t}function bs(e){(!Pt.length||!Pt.includes(e,Fo&&e.allowRecurse?rn+1:rn))&&(e.id==null?Pt.push(e):Pt.splice($u(e.id),0,e),pl())}function pl(){!Fo&&!Hi&&(Hi=!0,ys=hl.then(gl))}function Au(e){const t=Pt.indexOf(e);t>rn&&Pt.splice(t,1)}function Du(e){Le(e)?lo.push(...e):(!cn||!cn.includes(e,e.allowRecurse?Nn+1:Nn))&&lo.push(e),pl()}function ta(e,t=Fo?rn+1:0){for(;t<Pt.length;t++){const n=Pt[t];n&&n.pre&&(Pt.splice(t,1),t--,n())}}function ml(e){if(lo.length){const t=[...new Set(lo)];if(lo.length=0,cn){cn.push(...t);return}for(cn=t,cn.sort((n,o)=>jo(n)-jo(o)),Nn=0;Nn<cn.length;Nn++)cn[Nn]();cn=null,Nn=0}}const jo=e=>e.id==null?1/0:e.id,zu=(e,t)=>{const n=jo(e)-jo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function gl(e){Hi=!1,Fo=!0,Pt.sort(zu);const t=Xt;try{for(rn=0;rn<Pt.length;rn++){const n=Pt[rn];n&&n.active!==!1&&On(n,null,14)}}finally{rn=0,Pt.length=0,ml(),Fo=!1,ys=null,(Pt.length||lo.length)&&gl()}}function Tu(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||lt;let r=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in o){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:y}=o[f]||lt;y&&(r=n.map(d=>gt(d)?d.trim():d)),m&&(r=n.map(Br))}let a,l=o[a=Di(t)]||o[a=Di(an(t))];!l&&i&&(l=o[a=Di(Zn(t))]),l&&Ut(l,e,6,r);const u=o[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ut(u,e,6,r)}}function vl(e,t,n=!1){const o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;const i=e.emits;let s={},a=!1;if(!He(e)){const l=u=>{const f=vl(u,t,!0);f&&(a=!0,_t(s,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(st(e)&&o.set(e,null),null):(Le(i)?i.forEach(l=>s[l]=null):_t(s,i),st(e)&&o.set(e,s),s)}function ti(e,t){return!e||!Zr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,Zn(t))||Qe(e,t))}let xt=null,yl=null;function Rr(e){const t=xt;return xt=e,yl=e&&e.type.__scopeId||null,t}function je(e,t=xt,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&ha(-1);const i=Rr(t);let s;try{s=e(...r)}finally{Rr(i),o._d&&ha(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function zi(e){const{type:t,vnode:n,proxy:o,withProxy:r,props:i,propsOptions:[s],slots:a,attrs:l,emit:u,render:f,renderCache:m,data:y,setupState:d,ctx:v,inheritAttrs:h}=e;let g,w;const x=Rr(e);try{if(n.shapeFlag&4){const k=r||o;g=nn(f.call(k,k,m,i,d,y,v)),w=l}else{const k=t;g=nn(k.length>1?k(i,{attrs:l,slots:a,emit:u}):k(i,null)),w=t.props?l:Mu(l)}}catch(k){To.length=0,Qr(k,e,1),g=ue(Ht)}let P=g;if(w&&h!==!1){const k=Object.keys(w),{shapeFlag:A}=P;k.length&&A&7&&(s&&k.some(as)&&(w=Bu(w,s)),P=$n(P,w))}return n.dirs&&(P=$n(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),g=P,Rr(x),g}const Mu=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zr(n))&&((t||(t={}))[n]=e[n]);return t},Bu=(e,t)=>{const n={};for(const o in e)(!as(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Lu(e,t,n){const{props:o,children:r,component:i}=e,{props:s,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?na(o,s,u):!!s;if(l&8){const f=t.dynamicProps;for(let m=0;m<f.length;m++){const y=f[m];if(s[y]!==o[y]&&!ti(u,y))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?na(o,s,u):!0:!!s;return!1}function na(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!ti(n,i))return!0}return!1}function Nu({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Ru=e=>e.__isSuspense;function Fu(e,t){t&&t.pendingBranch?Le(e)?t.effects.push(...e):t.effects.push(e):Du(e)}function Fr(e,t){return _s(e,null,t)}const Er={};function sn(e,t,n){return _s(e,t,n)}function _s(e,t,{immediate:n,deep:o,flush:r,onTrack:i,onTrigger:s}=lt){var a;const l=Xa()===((a=Ct)==null?void 0:a.scope)?Ct:null;let u,f=!1,m=!1;if(ht(e)?(u=()=>e.value,f=Nr(e)):fn(e)?(u=()=>e,o=!0):Le(e)?(m=!0,f=e.some(k=>fn(k)||Nr(k)),u=()=>e.map(k=>{if(ht(k))return k.value;if(fn(k))return jn(k);if(He(k))return On(k,l,2)})):He(e)?t?u=()=>On(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return y&&y(),Ut(e,l,3,[d])}:u=Xt,t&&o){const k=u;u=()=>jn(k())}let y,d=k=>{y=x.onStop=()=>{On(k,l,4)}},v;if(Ho)if(d=Xt,t?n&&Ut(t,l,3,[u(),m?[]:void 0,d]):u(),r==="sync"){const k=zd();v=k.__watcherHandles||(k.__watcherHandles=[])}else return Xt;let h=m?new Array(e.length).fill(Er):Er;const g=()=>{if(x.active)if(t){const k=x.run();(o||f||(m?k.some((A,X)=>No(A,h[X])):No(k,h)))&&(y&&y(),Ut(t,l,3,[k,h===Er?void 0:m&&h[0]===Er?[]:h,d]),h=k)}else x.run()};g.allowRecurse=!!t;let w;r==="sync"?w=g:r==="post"?w=()=>zt(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),w=()=>bs(g));const x=new fs(u,w);t?n?g():h=x.run():r==="post"?zt(x.run.bind(x),l&&l.suspense):x.run();const P=()=>{x.stop(),l&&l.scope&&ls(l.scope.effects,x)};return v&&v.push(P),P}function ju(e,t,n){const o=this.proxy,r=gt(e)?e.includes(".")?bl(o,e):()=>o[e]:e.bind(o,o);let i;He(t)?i=t:(i=t.handler,n=t);const s=Ct;ho(this);const a=_s(r,i.bind(o),n);return s?ho(s):Un(),a}function bl(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}function jn(e,t){if(!st(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ht(e))jn(e.value,t);else if(Le(e))for(let n=0;n<e.length;n++)jn(e[n],t);else if(vo(e)||ao(e))e.forEach(n=>{jn(n,t)});else if(Ha(e))for(const n in e)jn(e[n],t);return e}function co(e,t){const n=xt;if(n===null)return e;const o=ai(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,l,u=lt]=t[i];s&&(He(s)&&(s={mounted:s,updated:s}),s.deep&&jn(a),r.push({dir:s,instance:o,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Tn(e,t,n,o){const r=e.dirs,i=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];i&&(a.oldValue=i[s].value);let l=a.dir[o];l&&(yo(),Ut(l,n,8,[e.el,a,e,t]),bo())}}function Vu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wt(()=>{e.isMounted=!0}),Gn(()=>{e.isUnmounting=!0}),e}const jt=[Function,Array],_l={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},Uu={name:"BaseTransition",props:_l,setup(e,{slots:t}){const n=xd(),o=Vu();let r;return()=>{const i=t.default&&Cl(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==Ht){s=h;break}}const a=Ke(e),{mode:l}=a;if(o.isLeaving)return Ti(s);const u=oa(s);if(!u)return Ti(s);const f=Wi(u,a,o,n);qi(u,f);const m=n.subTree,y=m&&oa(m);let d=!1;const{getTransitionKey:v}=u.type;if(v){const h=v();r===void 0?r=h:h!==r&&(r=h,d=!0)}if(y&&y.type!==Ht&&(!Rn(u,y)||d)){const h=Wi(y,a,o,n);if(qi(y,h),l==="out-in")return o.isLeaving=!0,h.afterLeave=()=>{o.isLeaving=!1,n.update.active!==!1&&n.update()},Ti(s);l==="in-out"&&u.type!==Ht&&(h.delayLeave=(g,w,x)=>{const P=wl(o,y);P[String(y.key)]=y,g._leaveCb=()=>{w(),g._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=x})}return s}}},Hu=Uu;function wl(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function Wi(e,t,n,o){const{appear:r,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:m,onLeave:y,onAfterLeave:d,onLeaveCancelled:v,onBeforeAppear:h,onAppear:g,onAfterAppear:w,onAppearCancelled:x}=t,P=String(e.key),k=wl(n,e),A=(N,D)=>{N&&Ut(N,o,9,D)},X=(N,D)=>{const M=D[1];A(N,D),Le(N)?N.every(se=>se.length<=1)&&M():N.length<=1&&M()},F={mode:i,persisted:s,beforeEnter(N){let D=a;if(!n.isMounted)if(r)D=h||a;else return;N._leaveCb&&N._leaveCb(!0);const M=k[P];M&&Rn(e,M)&&M.el._leaveCb&&M.el._leaveCb(),A(D,[N])},enter(N){let D=l,M=u,se=f;if(!n.isMounted)if(r)D=g||l,M=w||u,se=x||f;else return;let S=!1;const H=N._enterCb=p=>{S||(S=!0,p?A(se,[N]):A(M,[N]),F.delayedLeave&&F.delayedLeave(),N._enterCb=void 0)};D?X(D,[N,H]):H()},leave(N,D){const M=String(e.key);if(N._enterCb&&N._enterCb(!0),n.isUnmounting)return D();A(m,[N]);let se=!1;const S=N._leaveCb=H=>{se||(se=!0,D(),H?A(v,[N]):A(d,[N]),N._leaveCb=void 0,k[M]===e&&delete k[M])};k[M]=e,y?X(y,[N,S]):S()},clone(N){return Wi(N,t,n,o)}};return F}function Ti(e){if(ni(e))return e=$n(e),e.children=null,e}function oa(e){return ni(e)?e.children?e.children[0]:void 0:e}function qi(e,t){e.shapeFlag&6&&e.component?qi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Cl(e,t=!1,n){let o=[],r=0;for(let i=0;i<e.length;i++){let s=e[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===et?(s.patchFlag&128&&r++,o=o.concat(Cl(s.children,t,a))):(t||s.type!==Ht)&&o.push(a!=null?$n(s,{key:a}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function xe(e,t){return He(e)?(()=>_t({name:e.name},t,{setup:e}))():e}const Ao=e=>!!e.type.__asyncLoader,ni=e=>e.type.__isKeepAlive;function Wu(e,t){Sl(e,"a",t)}function qu(e,t){Sl(e,"da",t)}function Sl(e,t,n=Ct){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(oi(t,o,n),n){let r=n.parent;for(;r&&r.parent;)ni(r.parent.vnode)&&Zu(o,t,n,r),r=r.parent}}function Zu(e,t,n,o){const r=oi(t,e,o,!0);ws(()=>{ls(o[t],r)},n)}function oi(e,t,n=Ct,o=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;yo(),ho(n);const a=Ut(t,n,e,s);return Un(),bo(),a});return o?r.unshift(i):r.push(i),i}}const pn=e=>(t,n=Ct)=>(!Ho||e==="sp")&&oi(e,(...o)=>t(...o),n),Gu=pn("bm"),Wt=pn("m"),Ku=pn("bu"),Xu=pn("u"),Gn=pn("bum"),ws=pn("um"),Yu=pn("sp"),Ju=pn("rtg"),Qu=pn("rtc");function ed(e,t=Ct){oi("ec",e,t)}const Cs="components";function we(e,t){return xl(Cs,e,!0,t)||e}const Il=Symbol.for("v-ndc");function ri(e){return gt(e)?xl(Cs,e,!1)||e:e||Il}function xl(e,t,n=!0,o=!1){const r=xt||Ct;if(r){const i=r.type;if(e===Cs){const a=$d(i,!1);if(a&&(a===t||a===an(t)||a===Kr(an(t))))return i}const s=ra(r[e]||i[e],t)||ra(r.appContext[e],t);return!s&&o?i:s}}function ra(e,t){return e&&(e[t]||e[an(t)]||e[Kr(an(t))])}function wt(e,t,n,o){let r;const i=n&&n[o];if(Le(e)||gt(e)){r=new Array(e.length);for(let s=0,a=e.length;s<a;s++)r[s]=t(e[s],s,void 0,i&&i[s])}else if(typeof e=="number"){r=new Array(e);for(let s=0;s<e;s++)r[s]=t(s+1,s,void 0,i&&i[s])}else if(st(e))if(e[Symbol.iterator])r=Array.from(e,(s,a)=>t(s,a,void 0,i&&i[a]));else{const s=Object.keys(e);r=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];r[a]=t(e[u],u,a,i&&i[a])}}else r=[];return n&&(n[o]=r),r}function Ss(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(Le(o))for(let r=0;r<o.length;r++)e[o[r].name]=o[r].fn;else o&&(e[o.name]=o.key?(...r)=>{const i=o.fn(...r);return i&&(i.key=o.key),i}:o.fn)}return e}function ft(e,t,n={},o,r){if(xt.isCE||xt.parent&&Ao(xt.parent)&&xt.parent.isCE)return t!=="default"&&(n.name=t),ue("slot",n,o&&o());let i=e[t];i&&i._c&&(i._d=!1),K();const s=i&&El(i(n)),a=Fe(et,{key:n.key||s&&s.key||`_${t}`},s||(o?o():[]),s&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function El(e){return e.some(t=>Vr(t)?!(t.type===Ht||t.type===et&&!El(t.children)):!0)?e:null}const Zi=e=>e?Nl(e)?ai(e)||e.proxy:Zi(e.parent):null,Do=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zi(e.parent),$root:e=>Zi(e.root),$emit:e=>e.emit,$options:e=>Is(e),$forceUpdate:e=>e.f||(e.f=()=>bs(e.update)),$nextTick:e=>e.n||(e.n=ei.bind(e.proxy)),$watch:e=>ju.bind(e)}),Mi=(e,t)=>e!==lt&&!e.__isScriptSetup&&Qe(e,t),td={get({_:e},t){const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(Mi(o,t))return s[t]=1,o[t];if(r!==lt&&Qe(r,t))return s[t]=2,r[t];if((u=e.propsOptions[0])&&Qe(u,t))return s[t]=3,i[t];if(n!==lt&&Qe(n,t))return s[t]=4,n[t];Gi&&(s[t]=0)}}const f=Do[t];let m,y;if(f)return t==="$attrs"&&Tt(e,"get",t),f(e);if((m=a.__cssModules)&&(m=m[t]))return m;if(n!==lt&&Qe(n,t))return s[t]=4,n[t];if(y=l.config.globalProperties,Qe(y,t))return y[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:i}=e;return Mi(r,t)?(r[t]=n,!0):o!==lt&&Qe(o,t)?(o[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let a;return!!n[s]||e!==lt&&Qe(e,s)||Mi(t,s)||(a=i[0])&&Qe(a,s)||Qe(o,s)||Qe(Do,s)||Qe(r.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ia(e){return Le(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Gi=!0;function nd(e){const t=Is(e),n=e.proxy,o=e.ctx;Gi=!1,t.beforeCreate&&sa(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:s,watch:a,provide:l,inject:u,created:f,beforeMount:m,mounted:y,beforeUpdate:d,updated:v,activated:h,deactivated:g,beforeDestroy:w,beforeUnmount:x,destroyed:P,unmounted:k,render:A,renderTracked:X,renderTriggered:F,errorCaptured:N,serverPrefetch:D,expose:M,inheritAttrs:se,components:S,directives:H,filters:p}=t;if(u&&od(u,o,null),s)for(const Q in s){const Se=s[Q];He(Se)&&(o[Q]=Se.bind(n))}if(r){const Q=r.call(n,n);st(Q)&&(e.data=Yr(Q))}if(Gi=!0,i)for(const Q in i){const Se=i[Q],ce=He(Se)?Se.bind(n,n):He(Se.get)?Se.get.bind(n,n):Xt,fe=!He(Se)&&He(Se.set)?Se.set.bind(n):Xt,G=nt({get:ce,set:fe});Object.defineProperty(o,Q,{enumerable:!0,configurable:!0,get:()=>G.value,set:Z=>G.value=Z})}if(a)for(const Q in a)Ol(a[Q],o,n,Q);if(l){const Q=He(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(Se=>{cd(Se,Q[Se])})}f&&sa(f,e,"c");function ve(Q,Se){Le(Se)?Se.forEach(ce=>Q(ce.bind(n))):Se&&Q(Se.bind(n))}if(ve(Gu,m),ve(Wt,y),ve(Ku,d),ve(Xu,v),ve(Wu,h),ve(qu,g),ve(ed,N),ve(Qu,X),ve(Ju,F),ve(Gn,x),ve(ws,k),ve(Yu,D),Le(M))if(M.length){const Q=e.exposed||(e.exposed={});M.forEach(Se=>{Object.defineProperty(Q,Se,{get:()=>n[Se],set:ce=>n[Se]=ce})})}else e.exposed||(e.exposed={});A&&e.render===Xt&&(e.render=A),se!=null&&(e.inheritAttrs=se),S&&(e.components=S),H&&(e.directives=H)}function od(e,t,n=Xt){Le(e)&&(e=Ki(e));for(const o in e){const r=e[o];let i;st(r)?"default"in r?i=zo(r.from||o,r.default,!0):i=zo(r.from||o):i=zo(r),ht(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[o]=i}}function sa(e,t,n){Ut(Le(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ol(e,t,n,o){const r=o.includes(".")?bl(n,o):()=>n[o];if(gt(e)){const i=t[e];He(i)&&sn(r,i)}else if(He(e))sn(r,e.bind(n));else if(st(e))if(Le(e))e.forEach(i=>Ol(i,t,n,o));else{const i=He(e.handler)?e.handler.bind(n):t[e.handler];He(i)&&sn(r,i,e)}}function Is(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!o?l=t:(l={},r.length&&r.forEach(u=>jr(l,u,s,!0)),jr(l,t,s)),st(t)&&i.set(t,l),l}function jr(e,t,n,o=!1){const{mixins:r,extends:i}=t;i&&jr(e,i,n,!0),r&&r.forEach(s=>jr(e,s,n,!0));for(const s in t)if(!(o&&s==="expose")){const a=rd[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const rd={data:aa,props:la,emits:la,methods:$o,computed:$o,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:$o,directives:$o,watch:sd,provide:aa,inject:id};function aa(e,t){return t?e?function(){return _t(He(e)?e.call(this,this):e,He(t)?t.call(this,this):t)}:t:e}function id(e,t){return $o(Ki(e),Ki(t))}function Ki(e){if(Le(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function At(e,t){return e?[...new Set([].concat(e,t))]:t}function $o(e,t){return e?_t(Object.create(null),e,t):t}function la(e,t){return e?Le(e)&&Le(t)?[...new Set([...e,...t])]:_t(Object.create(null),ia(e),ia(t??{})):t}function sd(e,t){if(!e)return t;if(!t)return e;const n=_t(Object.create(null),e);for(const o in t)n[o]=At(e[o],t[o]);return n}function kl(){return{app:null,config:{isNativeTag:Pc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ad=0;function ld(e,t){return function(o,r=null){He(o)||(o=_t({},o)),r!=null&&!st(r)&&(r=null);const i=kl(),s=new Set;let a=!1;const l=i.app={_uid:ad++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:Td,get config(){return i.config},set config(u){},use(u,...f){return s.has(u)||(u&&He(u.install)?(s.add(u),u.install(l,...f)):He(u)&&(s.add(u),u(l,...f))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,f){return f?(i.components[u]=f,l):i.components[u]},directive(u,f){return f?(i.directives[u]=f,l):i.directives[u]},mount(u,f,m){if(!a){const y=ue(o,r);return y.appContext=i,f&&t?t(y,u):e(y,u,m),a=!0,l._container=u,u.__vue_app__=l,ai(y.component)||y.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,f){return i.provides[u]=f,l},runWithContext(u){Vo=l;try{return u()}finally{Vo=null}}};return l}}let Vo=null;function cd(e,t){if(Ct){let n=Ct.provides;const o=Ct.parent&&Ct.parent.provides;o===n&&(n=Ct.provides=Object.create(o)),n[e]=t}}function zo(e,t,n=!1){const o=Ct||xt;if(o||Vo){const r=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Vo._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&He(t)?t.call(o&&o.proxy):t}}function ud(){return!!(Ct||xt||Vo)}function dd(e,t,n,o=!1){const r={},i={};Mr(i,si,1),e.propsDefaults=Object.create(null),Pl(e,t,r,i);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=o?r:yu(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function fd(e,t,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=e,a=Ke(r),[l]=e.propsOptions;let u=!1;if((o||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let m=0;m<f.length;m++){let y=f[m];if(ti(e.emitsOptions,y))continue;const d=t[y];if(l)if(Qe(i,y))d!==i[y]&&(i[y]=d,u=!0);else{const v=an(y);r[v]=Xi(l,a,v,d,e,!1)}else d!==i[y]&&(i[y]=d,u=!0)}}}else{Pl(e,t,r,i)&&(u=!0);let f;for(const m in a)(!t||!Qe(t,m)&&((f=Zn(m))===m||!Qe(t,f)))&&(l?n&&(n[m]!==void 0||n[f]!==void 0)&&(r[m]=Xi(l,a,m,void 0,e,!0)):delete r[m]);if(i!==a)for(const m in i)(!t||!Qe(t,m))&&(delete i[m],u=!0)}u&&hn(e,"set","$attrs")}function Pl(e,t,n,o){const[r,i]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(Ar(l))continue;const u=t[l];let f;r&&Qe(r,f=an(l))?!i||!i.includes(f)?n[f]=u:(a||(a={}))[f]=u:ti(e.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,s=!0)}if(i){const l=Ke(n),u=a||lt;for(let f=0;f<i.length;f++){const m=i[f];n[m]=Xi(r,l,m,u[m],e,!Qe(u,m))}}return s}function Xi(e,t,n,o,r,i){const s=e[n];if(s!=null){const a=Qe(s,"default");if(a&&o===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&He(l)){const{propsDefaults:u}=r;n in u?o=u[n]:(ho(r),o=u[n]=l.call(null,t),Un())}else o=l}s[0]&&(i&&!a?o=!1:s[1]&&(o===""||o===Zn(n))&&(o=!0))}return o}function $l(e,t,n=!1){const o=t.propsCache,r=o.get(e);if(r)return r;const i=e.props,s={},a=[];let l=!1;if(!He(e)){const f=m=>{l=!0;const[y,d]=$l(m,t,!0);_t(s,y),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!l)return st(e)&&o.set(e,so),so;if(Le(i))for(let f=0;f<i.length;f++){const m=an(i[f]);ca(m)&&(s[m]=lt)}else if(i)for(const f in i){const m=an(f);if(ca(m)){const y=i[f],d=s[m]=Le(y)||He(y)?{type:y}:_t({},y);if(d){const v=fa(Boolean,d.type),h=fa(String,d.type);d[0]=v>-1,d[1]=h<0||v<h,(v>-1||Qe(d,"default"))&&a.push(m)}}}const u=[s,a];return st(e)&&o.set(e,u),u}function ca(e){return e[0]!=="$"}function ua(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function da(e,t){return ua(e)===ua(t)}function fa(e,t){return Le(t)?t.findIndex(n=>da(n,e)):He(t)&&da(t,e)?0:-1}const Al=e=>e[0]==="_"||e==="$stable",xs=e=>Le(e)?e.map(nn):[nn(e)],hd=(e,t,n)=>{if(t._n)return t;const o=je((...r)=>xs(t(...r)),n);return o._c=!1,o},Dl=(e,t,n)=>{const o=e._ctx;for(const r in e){if(Al(r))continue;const i=e[r];if(He(i))t[r]=hd(r,i,o);else if(i!=null){const s=xs(i);t[r]=()=>s}}},zl=(e,t)=>{const n=xs(t);e.slots.default=()=>n},pd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ke(t),Mr(t,"_",n)):Dl(t,e.slots={})}else e.slots={},t&&zl(e,t);Mr(e.slots,si,1)},md=(e,t,n)=>{const{vnode:o,slots:r}=e;let i=!0,s=lt;if(o.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(_t(r,t),!n&&a===1&&delete r._):(i=!t.$stable,Dl(t,r)),s=t}else t&&(zl(e,t),s={default:1});if(i)for(const a in r)!Al(a)&&!(a in s)&&delete r[a]};function Yi(e,t,n,o,r=!1){if(Le(e)){e.forEach((y,d)=>Yi(y,t&&(Le(t)?t[d]:t),n,o,r));return}if(Ao(o)&&!r)return;const i=o.shapeFlag&4?ai(o.component)||o.component.proxy:o.el,s=r?null:i,{i:a,r:l}=e,u=t&&t.r,f=a.refs===lt?a.refs={}:a.refs,m=a.setupState;if(u!=null&&u!==l&&(gt(u)?(f[u]=null,Qe(m,u)&&(m[u]=null)):ht(u)&&(u.value=null)),He(l))On(l,a,12,[s,f]);else{const y=gt(l),d=ht(l);if(y||d){const v=()=>{if(e.f){const h=y?Qe(m,l)?m[l]:f[l]:l.value;r?Le(h)&&ls(h,i):Le(h)?h.includes(i)||h.push(i):y?(f[l]=[i],Qe(m,l)&&(m[l]=f[l])):(l.value=[i],e.k&&(f[e.k]=l.value))}else y?(f[l]=s,Qe(m,l)&&(m[l]=s)):d&&(l.value=s,e.k&&(f[e.k]=s))};s?(v.id=-1,zt(v,n)):v()}}}const zt=Fu;function gd(e){return vd(e)}function vd(e,t){const n=Fi();n.__VUE__=!0;const{insert:o,remove:r,patchProp:i,createElement:s,createText:a,createComment:l,setText:u,setElementText:f,parentNode:m,nextSibling:y,setScopeId:d=Xt,insertStaticContent:v}=e,h=(T,j,c,B=null,z=null,C=null,b=!1,I=null,W=!!j.dynamicChildren)=>{if(T===j)return;T&&!Rn(T,j)&&(B=Re(T),Z(T,z,C,!0),T=null),j.patchFlag===-2&&(W=!1,j.dynamicChildren=null);const{type:V,ref:R,shapeFlag:Y}=j;switch(V){case ii:g(T,j,c,B);break;case Ht:w(T,j,c,B);break;case Bi:T==null&&x(j,c,B,b);break;case et:S(T,j,c,B,z,C,b,I,W);break;default:Y&1?A(T,j,c,B,z,C,b,I,W):Y&6?H(T,j,c,B,z,C,b,I,W):(Y&64||Y&128)&&V.process(T,j,c,B,z,C,b,I,W,Be)}R!=null&&z&&Yi(R,T&&T.ref,C,j||T,!j)},g=(T,j,c,B)=>{if(T==null)o(j.el=a(j.children),c,B);else{const z=j.el=T.el;j.children!==T.children&&u(z,j.children)}},w=(T,j,c,B)=>{T==null?o(j.el=l(j.children||""),c,B):j.el=T.el},x=(T,j,c,B)=>{[T.el,T.anchor]=v(T.children,j,c,B,T.el,T.anchor)},P=({el:T,anchor:j},c,B)=>{let z;for(;T&&T!==j;)z=y(T),o(T,c,B),T=z;o(j,c,B)},k=({el:T,anchor:j})=>{let c;for(;T&&T!==j;)c=y(T),r(T),T=c;r(j)},A=(T,j,c,B,z,C,b,I,W)=>{b=b||j.type==="svg",T==null?X(j,c,B,z,C,b,I,W):D(T,j,z,C,b,I,W)},X=(T,j,c,B,z,C,b,I)=>{let W,V;const{type:R,props:Y,shapeFlag:re,transition:ne,dirs:pe}=T;if(W=T.el=s(T.type,C,Y&&Y.is,Y),re&8?f(W,T.children):re&16&&N(T.children,W,null,B,z,C&&R!=="foreignObject",b,I),pe&&Tn(T,null,B,"created"),F(W,T,T.scopeId,b,B),Y){for(const Pe in Y)Pe!=="value"&&!Ar(Pe)&&i(W,Pe,null,Y[Pe],C,T.children,B,z,Ee);"value"in Y&&i(W,"value",null,Y.value),(V=Y.onVnodeBeforeMount)&&tn(V,B,T)}pe&&Tn(T,null,B,"beforeMount");const ze=(!z||z&&!z.pendingBranch)&&ne&&!ne.persisted;ze&&ne.beforeEnter(W),o(W,j,c),((V=Y&&Y.onVnodeMounted)||ze||pe)&&zt(()=>{V&&tn(V,B,T),ze&&ne.enter(W),pe&&Tn(T,null,B,"mounted")},z)},F=(T,j,c,B,z)=>{if(c&&d(T,c),B)for(let C=0;C<B.length;C++)d(T,B[C]);if(z){let C=z.subTree;if(j===C){const b=z.vnode;F(T,b,b.scopeId,b.slotScopeIds,z.parent)}}},N=(T,j,c,B,z,C,b,I,W=0)=>{for(let V=W;V<T.length;V++){const R=T[V]=I?xn(T[V]):nn(T[V]);h(null,R,j,c,B,z,C,b,I)}},D=(T,j,c,B,z,C,b)=>{const I=j.el=T.el;let{patchFlag:W,dynamicChildren:V,dirs:R}=j;W|=T.patchFlag&16;const Y=T.props||lt,re=j.props||lt;let ne;c&&Mn(c,!1),(ne=re.onVnodeBeforeUpdate)&&tn(ne,c,j,T),R&&Tn(j,T,c,"beforeUpdate"),c&&Mn(c,!0);const pe=z&&j.type!=="foreignObject";if(V?M(T.dynamicChildren,V,I,c,B,pe,C):b||Se(T,j,I,null,c,B,pe,C,!1),W>0){if(W&16)se(I,j,Y,re,c,B,z);else if(W&2&&Y.class!==re.class&&i(I,"class",null,re.class,z),W&4&&i(I,"style",Y.style,re.style,z),W&8){const ze=j.dynamicProps;for(let Pe=0;Pe<ze.length;Pe++){const We=ze[Pe],ct=Y[We],Ze=re[We];(Ze!==ct||We==="value")&&i(I,We,ct,Ze,z,T.children,c,B,Ee)}}W&1&&T.children!==j.children&&f(I,j.children)}else!b&&V==null&&se(I,j,Y,re,c,B,z);((ne=re.onVnodeUpdated)||R)&&zt(()=>{ne&&tn(ne,c,j,T),R&&Tn(j,T,c,"updated")},B)},M=(T,j,c,B,z,C,b)=>{for(let I=0;I<j.length;I++){const W=T[I],V=j[I],R=W.el&&(W.type===et||!Rn(W,V)||W.shapeFlag&70)?m(W.el):c;h(W,V,R,null,B,z,C,b,!0)}},se=(T,j,c,B,z,C,b)=>{if(c!==B){if(c!==lt)for(const I in c)!Ar(I)&&!(I in B)&&i(T,I,c[I],null,b,j.children,z,C,Ee);for(const I in B){if(Ar(I))continue;const W=B[I],V=c[I];W!==V&&I!=="value"&&i(T,I,V,W,b,j.children,z,C,Ee)}"value"in B&&i(T,"value",c.value,B.value)}},S=(T,j,c,B,z,C,b,I,W)=>{const V=j.el=T?T.el:a(""),R=j.anchor=T?T.anchor:a("");let{patchFlag:Y,dynamicChildren:re,slotScopeIds:ne}=j;ne&&(I=I?I.concat(ne):ne),T==null?(o(V,c,B),o(R,c,B),N(j.children,c,R,z,C,b,I,W)):Y>0&&Y&64&&re&&T.dynamicChildren?(M(T.dynamicChildren,re,c,z,C,b,I),(j.key!=null||z&&j===z.subTree)&&Tl(T,j,!0)):Se(T,j,c,R,z,C,b,I,W)},H=(T,j,c,B,z,C,b,I,W)=>{j.slotScopeIds=I,T==null?j.shapeFlag&512?z.ctx.activate(j,c,B,b,W):p(j,c,B,z,C,b,W):ee(T,j,W)},p=(T,j,c,B,z,C,b)=>{const I=T.component=Id(T,B,z);if(ni(T)&&(I.ctx.renderer=Be),Ed(I),I.asyncDep){if(z&&z.registerDep(I,ve),!T.el){const W=I.subTree=ue(Ht);w(null,W,j,c)}return}ve(I,T,j,c,z,C,b)},ee=(T,j,c)=>{const B=j.component=T.component;if(Lu(T,j,c))if(B.asyncDep&&!B.asyncResolved){Q(B,j,c);return}else B.next=j,Au(B.update),B.update();else j.el=T.el,B.vnode=j},ve=(T,j,c,B,z,C,b)=>{const I=()=>{if(T.isMounted){let{next:R,bu:Y,u:re,parent:ne,vnode:pe}=T,ze=R,Pe;Mn(T,!1),R?(R.el=pe.el,Q(T,R,b)):R=pe,Y&&Dr(Y),(Pe=R.props&&R.props.onVnodeBeforeUpdate)&&tn(Pe,ne,R,pe),Mn(T,!0);const We=zi(T),ct=T.subTree;T.subTree=We,h(ct,We,m(ct.el),Re(ct),T,z,C),R.el=We.el,ze===null&&Nu(T,We.el),re&&zt(re,z),(Pe=R.props&&R.props.onVnodeUpdated)&&zt(()=>tn(Pe,ne,R,pe),z)}else{let R;const{el:Y,props:re}=j,{bm:ne,m:pe,parent:ze}=T,Pe=Ao(j);if(Mn(T,!1),ne&&Dr(ne),!Pe&&(R=re&&re.onVnodeBeforeMount)&&tn(R,ze,j),Mn(T,!0),Y&&Xe){const We=()=>{T.subTree=zi(T),Xe(Y,T.subTree,T,z,null)};Pe?j.type.__asyncLoader().then(()=>!T.isUnmounted&&We()):We()}else{const We=T.subTree=zi(T);h(null,We,c,B,T,z,C),j.el=We.el}if(pe&&zt(pe,z),!Pe&&(R=re&&re.onVnodeMounted)){const We=j;zt(()=>tn(R,ze,We),z)}(j.shapeFlag&256||ze&&Ao(ze.vnode)&&ze.vnode.shapeFlag&256)&&T.a&&zt(T.a,z),T.isMounted=!0,j=c=B=null}},W=T.effect=new fs(I,()=>bs(V),T.scope),V=T.update=()=>W.run();V.id=T.uid,Mn(T,!0),V()},Q=(T,j,c)=>{j.component=T;const B=T.vnode.props;T.vnode=j,T.next=null,fd(T,j.props,B,c),md(T,j.children,c),yo(),ta(),bo()},Se=(T,j,c,B,z,C,b,I,W=!1)=>{const V=T&&T.children,R=T?T.shapeFlag:0,Y=j.children,{patchFlag:re,shapeFlag:ne}=j;if(re>0){if(re&128){fe(V,Y,c,B,z,C,b,I,W);return}else if(re&256){ce(V,Y,c,B,z,C,b,I,W);return}}ne&8?(R&16&&Ee(V,z,C),Y!==V&&f(c,Y)):R&16?ne&16?fe(V,Y,c,B,z,C,b,I,W):Ee(V,z,C,!0):(R&8&&f(c,""),ne&16&&N(Y,c,B,z,C,b,I,W))},ce=(T,j,c,B,z,C,b,I,W)=>{T=T||so,j=j||so;const V=T.length,R=j.length,Y=Math.min(V,R);let re;for(re=0;re<Y;re++){const ne=j[re]=W?xn(j[re]):nn(j[re]);h(T[re],ne,c,null,z,C,b,I,W)}V>R?Ee(T,z,C,!0,!1,Y):N(j,c,B,z,C,b,I,W,Y)},fe=(T,j,c,B,z,C,b,I,W)=>{let V=0;const R=j.length;let Y=T.length-1,re=R-1;for(;V<=Y&&V<=re;){const ne=T[V],pe=j[V]=W?xn(j[V]):nn(j[V]);if(Rn(ne,pe))h(ne,pe,c,null,z,C,b,I,W);else break;V++}for(;V<=Y&&V<=re;){const ne=T[Y],pe=j[re]=W?xn(j[re]):nn(j[re]);if(Rn(ne,pe))h(ne,pe,c,null,z,C,b,I,W);else break;Y--,re--}if(V>Y){if(V<=re){const ne=re+1,pe=ne<R?j[ne].el:B;for(;V<=re;)h(null,j[V]=W?xn(j[V]):nn(j[V]),c,pe,z,C,b,I,W),V++}}else if(V>re)for(;V<=Y;)Z(T[V],z,C,!0),V++;else{const ne=V,pe=V,ze=new Map;for(V=pe;V<=re;V++){const ot=j[V]=W?xn(j[V]):nn(j[V]);ot.key!=null&&ze.set(ot.key,V)}let Pe,We=0;const ct=re-pe+1;let Ze=!1,bt=0;const Te=new Array(ct);for(V=0;V<ct;V++)Te[V]=0;for(V=ne;V<=Y;V++){const ot=T[V];if(We>=ct){Z(ot,z,C,!0);continue}let tt;if(ot.key!=null)tt=ze.get(ot.key);else for(Pe=pe;Pe<=re;Pe++)if(Te[Pe-pe]===0&&Rn(ot,j[Pe])){tt=Pe;break}tt===void 0?Z(ot,z,C,!0):(Te[tt-pe]=V+1,tt>=bt?bt=tt:Ze=!0,h(ot,j[tt],c,null,z,C,b,I,W),We++)}const $e=Ze?yd(Te):so;for(Pe=$e.length-1,V=ct-1;V>=0;V--){const ot=pe+V,tt=j[ot],Dt=ot+1<R?j[ot+1].el:B;Te[V]===0?h(null,tt,c,Dt,z,C,b,I,W):Ze&&(Pe<0||V!==$e[Pe]?G(tt,c,Dt,2):Pe--)}}},G=(T,j,c,B,z=null)=>{const{el:C,type:b,transition:I,children:W,shapeFlag:V}=T;if(V&6){G(T.component.subTree,j,c,B);return}if(V&128){T.suspense.move(j,c,B);return}if(V&64){b.move(T,j,c,Be);return}if(b===et){o(C,j,c);for(let Y=0;Y<W.length;Y++)G(W[Y],j,c,B);o(T.anchor,j,c);return}if(b===Bi){P(T,j,c);return}if(B!==2&&V&1&&I)if(B===0)I.beforeEnter(C),o(C,j,c),zt(()=>I.enter(C),z);else{const{leave:Y,delayLeave:re,afterLeave:ne}=I,pe=()=>o(C,j,c),ze=()=>{Y(C,()=>{pe(),ne&&ne()})};re?re(C,pe,ze):ze()}else o(C,j,c)},Z=(T,j,c,B=!1,z=!1)=>{const{type:C,props:b,ref:I,children:W,dynamicChildren:V,shapeFlag:R,patchFlag:Y,dirs:re}=T;if(I!=null&&Yi(I,null,c,T,!0),R&256){j.ctx.deactivate(T);return}const ne=R&1&&re,pe=!Ao(T);let ze;if(pe&&(ze=b&&b.onVnodeBeforeUnmount)&&tn(ze,j,T),R&6)te(T.component,c,B);else{if(R&128){T.suspense.unmount(c,B);return}ne&&Tn(T,null,j,"beforeUnmount"),R&64?T.type.remove(T,j,c,z,Be,B):V&&(C!==et||Y>0&&Y&64)?Ee(V,j,c,!1,!0):(C===et&&Y&384||!z&&R&16)&&Ee(W,j,c),B&&Ce(T)}(pe&&(ze=b&&b.onVnodeUnmounted)||ne)&&zt(()=>{ze&&tn(ze,j,T),ne&&Tn(T,null,j,"unmounted")},c)},Ce=T=>{const{type:j,el:c,anchor:B,transition:z}=T;if(j===et){_e(c,B);return}if(j===Bi){k(T);return}const C=()=>{r(c),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(T.shapeFlag&1&&z&&!z.persisted){const{leave:b,delayLeave:I}=z,W=()=>b(c,C);I?I(T.el,C,W):W()}else C()},_e=(T,j)=>{let c;for(;T!==j;)c=y(T),r(T),T=c;r(j)},te=(T,j,c)=>{const{bum:B,scope:z,update:C,subTree:b,um:I}=T;B&&Dr(B),z.stop(),C&&(C.active=!1,Z(b,T,j,c)),I&&zt(I,j),zt(()=>{T.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Ee=(T,j,c,B=!1,z=!1,C=0)=>{for(let b=C;b<T.length;b++)Z(T[b],j,c,B,z)},Re=T=>T.shapeFlag&6?Re(T.component.subTree):T.shapeFlag&128?T.suspense.next():y(T.anchor||T.el),Ie=(T,j,c)=>{T==null?j._vnode&&Z(j._vnode,null,null,!0):h(j._vnode||null,T,j,null,null,null,c),ta(),ml(),j._vnode=T},Be={p:h,um:Z,m:G,r:Ce,mt:p,mc:N,pc:Se,pbc:M,n:Re,o:e};let Ge,Xe;return t&&([Ge,Xe]=t(Be)),{render:Ie,hydrate:Ge,createApp:ld(Ie,Ge)}}function Mn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Tl(e,t,n=!1){const o=e.children,r=t.children;if(Le(o)&&Le(r))for(let i=0;i<o.length;i++){const s=o[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=xn(r[i]),a.el=s.el),n||Tl(s,a)),a.type===ii&&(a.el=s.el)}}function yd(e){const t=e.slice(),n=[0];let o,r,i,s,a;const l=e.length;for(o=0;o<l;o++){const u=e[o];if(u!==0){if(r=n[n.length-1],e[r]<u){t[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<u?i=a+1:s=a;u<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}const bd=e=>e.__isTeleport,et=Symbol.for("v-fgt"),ii=Symbol.for("v-txt"),Ht=Symbol.for("v-cmt"),Bi=Symbol.for("v-stc"),To=[];let Kt=null;function K(e=!1){To.push(Kt=e?null:[])}function _d(){To.pop(),Kt=To[To.length-1]||null}let Uo=1;function ha(e){Uo+=e}function Ml(e){return e.dynamicChildren=Uo>0?Kt||so:null,_d(),Uo>0&&Kt&&Kt.push(e),e}function de(e,t,n,o,r,i){return Ml(ye(e,t,n,o,r,i,!0))}function Fe(e,t,n,o,r){return Ml(ue(e,t,n,o,r,!0))}function Vr(e){return e?e.__v_isVNode===!0:!1}function Rn(e,t){return e.type===t.type&&e.key===t.key}const si="__vInternal",Bl=({key:e})=>e??null,zr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?gt(e)||ht(e)||He(e)?{i:xt,r:e,k:t,f:!!n}:e:null);function ye(e,t=null,n=null,o=0,r=null,i=e===et?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bl(t),ref:t&&zr(t),scopeId:yl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:xt};return a?(ks(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=gt(n)?8:16),Uo>0&&!s&&Kt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Kt.push(l),l}const ue=wd;function wd(e,t=null,n=null,o=0,r=null,i=!1){if((!e||e===Il)&&(e=Ht),Vr(e)){const a=$n(e,t,!0);return n&&ks(a,n),Uo>0&&!i&&Kt&&(a.shapeFlag&6?Kt[Kt.indexOf(e)]=a:Kt.push(a)),a.patchFlag|=-2,a}if(Ad(e)&&(e=e.__vccOpts),t){t=Es(t);let{class:a,style:l}=t;a&&!gt(a)&&(t.class=Ye(a)),st(l)&&(ll(l)&&!Le(l)&&(l=_t({},l)),t.style=at(l))}const s=gt(e)?1:Ru(e)?128:bd(e)?64:st(e)?4:He(e)?2:0;return ye(e,t,n,o,r,s,i,!0)}function Es(e){return e?ll(e)||si in e?_t({},e):e:null}function $n(e,t,n=!1){const{props:o,ref:r,patchFlag:i,children:s}=e,a=t?Ll(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Bl(a),ref:t&&t.ref?n&&r?Le(r)?r.concat(zr(t)):[r,zr(t)]:zr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==et?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Os(e=" ",t=0){return ue(ii,null,e,t)}function pt(e="",t=!1){return t?(K(),Fe(Ht,null,e)):ue(Ht,null,e)}function nn(e){return e==null||typeof e=="boolean"?ue(Ht):Le(e)?ue(et,null,e.slice()):typeof e=="object"?xn(e):ue(ii,null,String(e))}function xn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$n(e)}function ks(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Le(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),ks(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(si in t)?t._ctx=xt:r===3&&xt&&(xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else He(t)?(t={default:t,_ctx:xt},n=32):(t=String(t),o&64?(n=16,t=[Os(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ll(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Ye([t.class,o.class]));else if(r==="style")t.style=at([t.style,o.style]);else if(Zr(r)){const i=t[r],s=o[r];s&&i!==s&&!(Le(i)&&i.includes(s))&&(t[r]=i?[].concat(i,s):s)}else r!==""&&(t[r]=o[r])}return t}function tn(e,t,n,o=null){Ut(e,t,7,[n,o])}const Cd=kl();let Sd=0;function Id(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||Cd,i={uid:Sd++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ga(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$l(o,r),emitsOptions:vl(o,r),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:o.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Tu.bind(null,i),e.ce&&e.ce(i),i}let Ct=null;const xd=()=>Ct||xt;let Ps,oo,pa="__VUE_INSTANCE_SETTERS__";(oo=Fi()[pa])||(oo=Fi()[pa]=[]),oo.push(e=>Ct=e),Ps=e=>{oo.length>1?oo.forEach(t=>t(e)):oo[0](e)};const ho=e=>{Ps(e),e.scope.on()},Un=()=>{Ct&&Ct.scope.off(),Ps(null)};function Nl(e){return e.vnode.shapeFlag&4}let Ho=!1;function Ed(e,t=!1){Ho=t;const{props:n,children:o}=e.vnode,r=Nl(e);dd(e,n,r,t),pd(e,o);const i=r?Od(e,t):void 0;return Ho=!1,i}function Od(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Jr(new Proxy(e.ctx,td));const{setup:o}=n;if(o){const r=e.setupContext=o.length>1?Pd(e):null;ho(e),yo();const i=On(o,e,0,[e.props,r]);if(bo(),Un(),Va(i)){if(i.then(Un,Un),t)return i.then(s=>{ma(e,s,t)}).catch(s=>{Qr(s,e,0)});e.asyncDep=i}else ma(e,i,t)}else Rl(e,t)}function ma(e,t,n){He(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:st(t)&&(e.setupState=dl(t)),Rl(e,n)}let ga;function Rl(e,t,n){const o=e.type;if(!e.render){if(!t&&ga&&!o.render){const r=o.template||Is(e).template;if(r){const{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=o,u=_t(_t({isCustomElement:i,delimiters:a},s),l);o.render=ga(r,u)}}e.render=o.render||Xt}ho(e),yo(),nd(e),bo(),Un()}function kd(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Tt(e,"get","$attrs"),t[n]}}))}function Pd(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return kd(e)},slots:e.slots,emit:e.emit,expose:t}}function ai(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(dl(Jr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Do)return Do[n](e)},has(t,n){return n in t||n in Do}}))}function $d(e,t=!0){return He(e)?e.displayName||e.name:e.name||t&&e.__name}function Ad(e){return He(e)&&"__vccOpts"in e}const nt=(e,t)=>ku(e,t,Ho);function $s(e,t,n){const o=arguments.length;return o===2?st(t)&&!Le(t)?Vr(t)?ue(e,null,[t]):ue(e,t):ue(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Vr(n)&&(n=[n]),ue(e,t,n))}const Dd=Symbol.for("v-scx"),zd=()=>zo(Dd),Td="3.3.4",Md="http://www.w3.org/2000/svg",Fn=typeof document<"u"?document:null,va=Fn&&Fn.createElement("template"),Bd={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t?Fn.createElementNS(Md,e):Fn.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>Fn.createTextNode(e),createComment:e=>Fn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Fn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){const s=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{va.innerHTML=o?`<svg>${e}</svg>`:e;const a=va.content;if(o){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Ld(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Nd(e,t,n){const o=e.style,r=gt(n);if(n&&!r){if(t&&!gt(t))for(const i in t)n[i]==null&&Ji(o,i,"");for(const i in n)Ji(o,i,n[i])}else{const i=o.display;r?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=i)}}const ya=/\s*!important$/;function Ji(e,t,n){if(Le(n))n.forEach(o=>Ji(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Rd(e,t);ya.test(n)?e.setProperty(Zn(o),n.replace(ya,""),"important"):e[o]=n}}const ba=["Webkit","Moz","ms"],Li={};function Rd(e,t){const n=Li[t];if(n)return n;let o=an(t);if(o!=="filter"&&o in e)return Li[t]=o;o=Kr(o);for(let r=0;r<ba.length;r++){const i=ba[r]+o;if(i in e)return Li[t]=i}return t}const _a="http://www.w3.org/1999/xlink";function Fd(e,t,n,o,r){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(_a,t.slice(6,t.length)):e.setAttributeNS(_a,t,n);else{const i=jc(t);n==null||i&&!qa(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function jd(e,t,n,o,r,i,s){if(t==="innerHTML"||t==="textContent"){o&&s(o,r,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const u=a==="OPTION"?e.getAttribute("value"):e.value,f=n??"";u!==f&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=qa(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function un(e,t,n,o){e.addEventListener(t,n,o)}function Vd(e,t,n,o){e.removeEventListener(t,n,o)}function Ud(e,t,n,o,r=null){const i=e._vei||(e._vei={}),s=i[t];if(o&&s)s.value=o;else{const[a,l]=Hd(t);if(o){const u=i[t]=Zd(o,r);un(e,a,u,l)}else s&&(Vd(e,a,s,l),i[t]=void 0)}}const wa=/(?:Once|Passive|Capture)$/;function Hd(e){let t;if(wa.test(e)){t={};let o;for(;o=e.match(wa);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zn(e.slice(2)),t]}let Ni=0;const Wd=Promise.resolve(),qd=()=>Ni||(Wd.then(()=>Ni=0),Ni=Date.now());function Zd(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Ut(Gd(o,n.value),t,5,[o])};return n.value=e,n.attached=qd(),n}function Gd(e,t){if(Le(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Ca=/^on[a-z]/,Kd=(e,t,n,o,r=!1,i,s,a,l)=>{t==="class"?Ld(e,o,r):t==="style"?Nd(e,n,o):Zr(t)?as(t)||Ud(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Xd(e,t,o,r))?jd(e,t,o,i,s,a,l):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Fd(e,t,o,r))};function Xd(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&Ca.test(t)&&He(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ca.test(t)&&gt(n)?!1:t in e}const Cn="transition",ko="animation",Xo=(e,{slots:t})=>$s(Hu,Yd(e),t);Xo.displayName="Transition";const Fl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Xo.props=_t({},_l,Fl);const Bn=(e,t=[])=>{Le(e)?e.forEach(n=>n(...t)):e&&e(...t)},Sa=e=>e?Le(e)?e.some(t=>t.length>1):e.length>1:!1;function Yd(e){const t={};for(const S in e)S in Fl||(t[S]=e[S]);if(e.css===!1)return t;const{name:n="v",type:o,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=s,appearToClass:f=a,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,v=Jd(r),h=v&&v[0],g=v&&v[1],{onBeforeEnter:w,onEnter:x,onEnterCancelled:P,onLeave:k,onLeaveCancelled:A,onBeforeAppear:X=w,onAppear:F=x,onAppearCancelled:N=P}=t,D=(S,H,p)=>{Ln(S,H?f:a),Ln(S,H?u:s),p&&p()},M=(S,H)=>{S._isLeaving=!1,Ln(S,m),Ln(S,d),Ln(S,y),H&&H()},se=S=>(H,p)=>{const ee=S?F:x,ve=()=>D(H,S,p);Bn(ee,[H,ve]),Ia(()=>{Ln(H,S?l:i),Sn(H,S?f:a),Sa(ee)||xa(H,o,h,ve)})};return _t(t,{onBeforeEnter(S){Bn(w,[S]),Sn(S,i),Sn(S,s)},onBeforeAppear(S){Bn(X,[S]),Sn(S,l),Sn(S,u)},onEnter:se(!1),onAppear:se(!0),onLeave(S,H){S._isLeaving=!0;const p=()=>M(S,H);Sn(S,m),tf(),Sn(S,y),Ia(()=>{S._isLeaving&&(Ln(S,m),Sn(S,d),Sa(k)||xa(S,o,g,p))}),Bn(k,[S,p])},onEnterCancelled(S){D(S,!1),Bn(P,[S])},onAppearCancelled(S){D(S,!0),Bn(N,[S])},onLeaveCancelled(S){M(S),Bn(A,[S])}})}function Jd(e){if(e==null)return null;if(st(e))return[Ri(e.enter),Ri(e.leave)];{const t=Ri(e);return[t,t]}}function Ri(e){return Mc(e)}function Sn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ln(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Ia(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Qd=0;function xa(e,t,n,o){const r=e._endId=++Qd,i=()=>{r===e._endId&&o()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=ef(e,t);if(!s)return o();const u=s+"end";let f=0;const m=()=>{e.removeEventListener(u,y),i()},y=d=>{d.target===e&&++f>=l&&m()};setTimeout(()=>{f<l&&m()},a+1),e.addEventListener(u,y)}function ef(e,t){const n=window.getComputedStyle(e),o=v=>(n[v]||"").split(", "),r=o(`${Cn}Delay`),i=o(`${Cn}Duration`),s=Ea(r,i),a=o(`${ko}Delay`),l=o(`${ko}Duration`),u=Ea(a,l);let f=null,m=0,y=0;t===Cn?s>0&&(f=Cn,m=s,y=i.length):t===ko?u>0&&(f=ko,m=u,y=l.length):(m=Math.max(s,u),f=m>0?s>u?Cn:ko:null,y=f?f===Cn?i.length:l.length:0);const d=f===Cn&&/\b(transform|all)(,|$)/.test(o(`${Cn}Property`).toString());return{type:f,timeout:m,propCount:y,hasTransform:d}}function Ea(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Oa(n)+Oa(e[o])))}function Oa(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function tf(){return document.body.offsetHeight}const An=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Le(t)?n=>Dr(t,n):t};function nf(e){e.target.composing=!0}function ka(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pa={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e._assign=An(r);const i=o||r.props&&r.props.type==="number";un(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=Br(a)),e._assign(a)}),n&&un(e,"change",()=>{e.value=e.value.trim()}),t||(un(e,"compositionstart",nf),un(e,"compositionend",ka),un(e,"change",ka))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:r}},i){if(e._assign=An(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===t||(r||e.type==="number")&&Br(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},As={deep:!0,created(e,t,n){e._assign=An(n),un(e,"change",()=>{const o=e._modelValue,r=po(e),i=e.checked,s=e._assign;if(Le(o)){const a=us(o,r),l=a!==-1;if(i&&!l)s(o.concat(r));else if(!i&&l){const u=[...o];u.splice(a,1),s(u)}}else if(vo(o)){const a=new Set(o);i?a.add(r):a.delete(r),s(a)}else s(jl(e,i))})},mounted:$a,beforeUpdate(e,t,n){e._assign=An(n),$a(e,t,n)}};function $a(e,{value:t,oldValue:n},o){e._modelValue=t,Le(t)?e.checked=us(t,o.props.value)>-1:vo(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=Hn(t,jl(e,!0)))}const of={created(e,{value:t},n){e.checked=Hn(t,n.props.value),e._assign=An(n),un(e,"change",()=>{e._assign(po(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e._assign=An(o),t!==n&&(e.checked=Hn(t,o.props.value))}},Ds={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=vo(t);un(e,"change",()=>{const i=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Br(po(s)):po(s));e._assign(e.multiple?r?new Set(i):i:i[0])}),e._assign=An(o)},mounted(e,{value:t}){Aa(e,t)},beforeUpdate(e,t,n){e._assign=An(n)},updated(e,{value:t}){Aa(e,t)}};function Aa(e,t){const n=e.multiple;if(!(n&&!Le(t)&&!vo(t))){for(let o=0,r=e.options.length;o<r;o++){const i=e.options[o],s=po(i);if(n)Le(t)?i.selected=us(t,s)>-1:i.selected=t.has(s);else if(Hn(po(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function po(e){return"_value"in e?e._value:e.value}function jl(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Vl={created(e,t,n){Or(e,t,n,null,"created")},mounted(e,t,n){Or(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){Or(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){Or(e,t,n,o,"updated")}};function rf(e,t){switch(e){case"SELECT":return Ds;case"TEXTAREA":return Pa;default:switch(t){case"checkbox":return As;case"radio":return of;default:return Pa}}}function Or(e,t,n,o,r){const s=rf(e.tagName,n.props&&n.props.type)[r];s&&s(e,t,n,o)}const sf=["ctrl","shift","alt","meta"],af={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>sf.some(n=>e[`${n}Key`]&&!t.includes(n))},Wn=(e,t)=>(n,...o)=>{for(let r=0;r<t.length;r++){const i=af[t[r]];if(i&&i(n,t))return}return e(n,...o)},lf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},kn=(e,t)=>n=>{if(!("key"in n))return;const o=Zn(n.key);if(t.some(r=>r===o||lf[r]===o))return e(n)},cf=_t({patchProp:Kd},Bd);let Da;function uf(){return Da||(Da=gd(cf))}const df=(...e)=>{const t=uf().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=ff(o);if(!r)return;const i=t._component;!He(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function ff(e){return gt(e)?document.querySelector(e):e}var hf=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ul;const li=e=>Ul=e,Hl=Symbol();function Qi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Mo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Mo||(Mo={}));function pf(){const e=Ka(!0),t=e.run(()=>Ue({}));let n=[],o=[];const r=Jr({install(i){li(r),r._a=i,i.provide(Hl,r),i.config.globalProperties.$pinia=r,o.forEach(s=>n.push(s)),o=[]},use(i){return!this._a&&!hf?o.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Wl=()=>{};function za(e,t,n,o=Wl){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),o())};return!n&&Xa()&&Hc(r),r}function ro(e,...t){e.slice().forEach(n=>{n(...t)})}const mf=e=>e();function es(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];Qi(r)&&Qi(o)&&e.hasOwnProperty(n)&&!ht(o)&&!fn(o)?e[n]=es(r,o):e[n]=o}return e}const gf=Symbol();function vf(e){return!Qi(e)||!e.hasOwnProperty(gf)}const{assign:In}=Object;function yf(e){return!!(ht(e)&&e.effect)}function bf(e,t,n,o){const{state:r,actions:i,getters:s}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=r?r():{});const f=Su(n.state.value[e]);return In(f,i,Object.keys(s||{}).reduce((m,y)=>(m[y]=Jr(nt(()=>{li(n);const d=n._s.get(e);return s[y].call(d,d)})),m),{}))}return l=ql(e,u,t,n,o,!0),l}function ql(e,t,n={},o,r,i){let s;const a=In({actions:{}},n),l={deep:!0};let u,f,m=[],y=[],d;const v=o.state.value[e];!i&&!v&&(o.state.value[e]={}),Ue({});let h;function g(N){let D;u=f=!1,typeof N=="function"?(N(o.state.value[e]),D={type:Mo.patchFunction,storeId:e,events:d}):(es(o.state.value[e],N),D={type:Mo.patchObject,payload:N,storeId:e,events:d});const M=h=Symbol();ei().then(()=>{h===M&&(u=!0)}),f=!0,ro(m,D,o.state.value[e])}const w=i?function(){const{state:D}=n,M=D?D():{};this.$patch(se=>{In(se,M)})}:Wl;function x(){s.stop(),m=[],y=[],o._s.delete(e)}function P(N,D){return function(){li(o);const M=Array.from(arguments),se=[],S=[];function H(ve){se.push(ve)}function p(ve){S.push(ve)}ro(y,{args:M,name:N,store:A,after:H,onError:p});let ee;try{ee=D.apply(this&&this.$id===e?this:A,M)}catch(ve){throw ro(S,ve),ve}return ee instanceof Promise?ee.then(ve=>(ro(se,ve),ve)).catch(ve=>(ro(S,ve),Promise.reject(ve))):(ro(se,ee),ee)}}const k={_p:o,$id:e,$onAction:za.bind(null,y),$patch:g,$reset:w,$subscribe(N,D={}){const M=za(m,N,D.detached,()=>se()),se=s.run(()=>sn(()=>o.state.value[e],S=>{(D.flush==="sync"?f:u)&&N({storeId:e,type:Mo.direct,events:d},S)},In({},l,D)));return M},$dispose:x},A=Yr(k);o._s.set(e,A);const X=o._a&&o._a.runWithContext||mf,F=o._e.run(()=>(s=Ka(),X(()=>s.run(t))));for(const N in F){const D=F[N];if(ht(D)&&!yf(D)||fn(D))i||(v&&vf(D)&&(ht(D)?D.value=v[N]:es(D,v[N])),o.state.value[e][N]=D);else if(typeof D=="function"){const M=P(N,D);F[N]=M,a.actions[N]=D}}return In(A,F),In(Ke(A),F),Object.defineProperty(A,"$state",{get:()=>o.state.value[e],set:N=>{g(D=>{In(D,N)})}}),o._p.forEach(N=>{In(A,s.run(()=>N({store:A,app:o._a,pinia:o,options:a})))}),v&&i&&n.hydrate&&n.hydrate(A.$state,v),u=!0,f=!0,A}function ci(e,t,n){let o,r;const i=typeof t=="function";typeof e=="string"?(o=e,r=i?n:t):(r=e,o=e.id);function s(a,l){const u=ud();return a=a||(u?zo(Hl,null):null),a&&li(a),a=Ul,a._s.has(o)||(i?ql(o,t,r,a):bf(o,r,a)),a._s.get(o)}return s.$id=o,s}function Wo(e){{e=Ke(e);const t={};for(const n in e){const o=e[n];(ht(o)||fn(o))&&(t[n]=Eu(e,n))}return t}}/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var _f={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M464 16c-17.67 0-32 14.31-32 32v74.09C392.1 66.52 327.4 32 256 32C161.5 32 78.59 92.34 49.58 182.2c-5.438 16.81 3.797 34.88 20.61 40.28c16.89 5.5 34.88-3.812 40.3-20.59C130.9 138.5 189.4 96 256 96c50.5 0 96.26 24.55 124.4 64H336c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32V48C496 30.31 481.7 16 464 16zM441.8 289.6c-16.92-5.438-34.88 3.812-40.3 20.59C381.1 373.5 322.6 416 256 416c-50.5 0-96.25-24.55-124.4-64H176c17.67 0 32-14.31 32-32s-14.33-32-32-32h-128c-17.67 0-32 14.31-32 32v144c0 17.69 14.33 32 32 32s32-14.31 32-32v-74.09C119.9 445.5 184.6 480 255.1 480c94.45 0 177.4-60.34 206.4-150.2C467.9 313 458.6 294.1 441.8 289.6z"]},Zl={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM99.5 144.8C77.15 176.1 64 214.5 64 256C64 362 149.1 448 256 448C297.5 448 335.9 434.9 367.2 412.5L99.5 144.8zM448 256C448 149.1 362 64 256 64C214.5 64 176.1 77.15 144.8 99.5L412.5 367.2C434.9 335.9 448 297.5 448 256V256z"]},wf={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"]},Cf={prefix:"fas",iconName:"bug",icon:[512,512,[],"f188","M352 96V99.56C352 115.3 339.3 128 323.6 128H188.4C172.7 128 159.1 115.3 159.1 99.56V96C159.1 42.98 202.1 0 255.1 0C309 0 352 42.98 352 96zM41.37 105.4C53.87 92.88 74.13 92.88 86.63 105.4L150.6 169.4C151.3 170 151.9 170.7 152.5 171.4C166.8 164.1 182.9 160 199.1 160H312C329.1 160 345.2 164.1 359.5 171.4C360.1 170.7 360.7 170 361.4 169.4L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L406.6 214.6C405.1 215.3 405.3 215.9 404.6 216.5C410.7 228.5 414.6 241.9 415.7 256H480C497.7 256 512 270.3 512 288C512 305.7 497.7 320 480 320H416C416 344.6 410.5 367.8 400.6 388.6C402.7 389.9 404.8 391.5 406.6 393.4L470.6 457.4C483.1 469.9 483.1 490.1 470.6 502.6C458.1 515.1 437.9 515.1 425.4 502.6L362.3 439.6C337.8 461.4 306.5 475.8 272 479.2V240C272 231.2 264.8 224 255.1 224C247.2 224 239.1 231.2 239.1 240V479.2C205.5 475.8 174.2 461.4 149.7 439.6L86.63 502.6C74.13 515.1 53.87 515.1 41.37 502.6C28.88 490.1 28.88 469.9 41.37 457.4L105.4 393.4C107.2 391.5 109.3 389.9 111.4 388.6C101.5 367.8 96 344.6 96 320H32C14.33 320 0 305.7 0 288C0 270.3 14.33 256 32 256H96.3C97.38 241.9 101.3 228.5 107.4 216.5C106.7 215.9 106 215.3 105.4 214.6L41.37 150.6C28.88 138.1 28.88 117.9 41.37 105.4H41.37z"]},Gl={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"]},Kl={prefix:"fas",iconName:"code-branch",icon:[448,512,[],"f126","M160 80C160 112.8 140.3 140.1 112 153.3V241.1C130.8 230.2 152.7 224 176 224H272C307.3 224 336 195.3 336 160V153.3C307.7 140.1 288 112.8 288 80C288 35.82 323.8 0 368 0C412.2 0 448 35.82 448 80C448 112.8 428.3 140.1 400 153.3V160C400 230.7 342.7 288 272 288H176C140.7 288 112 316.7 112 352V358.7C140.3 371 160 399.2 160 432C160 476.2 124.2 512 80 512C35.82 512 0 476.2 0 432C0 399.2 19.75 371 48 358.7V153.3C19.75 140.1 0 112.8 0 80C0 35.82 35.82 0 80 0C124.2 0 160 35.82 160 80V80zM80 104C93.25 104 104 93.25 104 80C104 66.75 93.25 56 80 56C66.75 56 56 66.75 56 80C56 93.25 66.75 104 80 104zM368 56C354.7 56 344 66.75 344 80C344 93.25 354.7 104 368 104C381.3 104 392 93.25 392 80C392 66.75 381.3 56 368 56zM80 456C93.25 456 104 445.3 104 432C104 418.7 93.25 408 80 408C66.75 408 56 418.7 56 432C56 445.3 66.75 456 80 456z"]},Sf={prefix:"fas",iconName:"compress",icon:[448,512,[],"f066","M128 320H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32v-96C160 334.3 145.7 320 128 320zM416 320h-96c-17.69 0-32 14.31-32 32v96c0 17.69 14.31 32 32 32s32-14.31 32-32v-64h64c17.69 0 32-14.31 32-32S433.7 320 416 320zM320 192h96c17.69 0 32-14.31 32-32s-14.31-32-32-32h-64V64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96C288 177.7 302.3 192 320 192zM128 32C110.3 32 96 46.31 96 64v64H32C14.31 128 0 142.3 0 160s14.31 32 32 32h96c17.69 0 32-14.31 32-32V64C160 46.31 145.7 32 128 32z"]},If={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M128 32H32C14.31 32 0 46.31 0 64v96c0 17.69 14.31 32 32 32s32-14.31 32-32V96h64c17.69 0 32-14.31 32-32S145.7 32 128 32zM416 32h-96c-17.69 0-32 14.31-32 32s14.31 32 32 32h64v64c0 17.69 14.31 32 32 32s32-14.31 32-32V64C448 46.31 433.7 32 416 32zM128 416H64v-64c0-17.69-14.31-32-32-32s-32 14.31-32 32v96c0 17.69 14.31 32 32 32h96c17.69 0 32-14.31 32-32S145.7 416 128 416zM416 320c-17.69 0-32 14.31-32 32v64h-64c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c17.69 0 32-14.31 32-32v-96C448 334.3 433.7 320 416 320z"]},Xl={prefix:"fas",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H224V128C224 145.7 238.3 160 256 160H384V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM256 128V0L384 128H256z"]},xf={prefix:"fas",iconName:"forward-step",icon:[320,512,["step-forward"],"f051","M287.1 447.1c17.67 0 31.1-14.33 31.1-32V96.03c0-17.67-14.33-32-32-32c-17.67 0-31.1 14.33-31.1 31.1v319.9C255.1 433.6 270.3 447.1 287.1 447.1zM52.51 440.6l192-159.1c7.625-6.436 11.43-15.53 11.43-24.62c0-9.094-3.809-18.18-11.43-24.62l-192-159.1C31.88 54.28 0 68.66 0 96.03v319.9C0 443.3 31.88 457.7 52.51 440.6z"]},Ef={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M286.3 155.1C287.4 161.9 288 168.9 288 175.1C288 183.1 287.4 190.1 286.3 196.9L308.5 216.7C315.5 223 318.4 232.1 314.7 241.7C312.4 246.1 309.9 252.2 307.1 257.2L304 262.6C300.1 267.6 297.7 272.4 294.2 277.1C288.5 284.7 278.5 287.2 269.5 284.2L241.2 274.9C230.5 283.8 218.3 290.9 205 295.9L198.1 324.9C197 334.2 189.8 341.6 180.4 342.8C173.7 343.6 166.9 344 160 344C153.1 344 146.3 343.6 139.6 342.8C130.2 341.6 122.1 334.2 121 324.9L114.1 295.9C101.7 290.9 89.5 283.8 78.75 274.9L50.53 284.2C41.54 287.2 31.52 284.7 25.82 277.1C22.28 272.4 18.98 267.5 15.94 262.5L12.92 257.2C10.13 252.2 7.592 247 5.324 241.7C1.62 232.1 4.458 223 11.52 216.7L33.7 196.9C32.58 190.1 31.1 183.1 31.1 175.1C31.1 168.9 32.58 161.9 33.7 155.1L11.52 135.3C4.458 128.1 1.62 119 5.324 110.3C7.592 104.1 10.13 99.79 12.91 94.76L15.95 89.51C18.98 84.46 22.28 79.58 25.82 74.89C31.52 67.34 41.54 64.83 50.53 67.79L78.75 77.09C89.5 68.25 101.7 61.13 114.1 56.15L121 27.08C122.1 17.8 130.2 10.37 139.6 9.231C146.3 8.418 153.1 8 160 8C166.9 8 173.7 8.418 180.4 9.23C189.8 10.37 197 17.8 198.1 27.08L205 56.15C218.3 61.13 230.5 68.25 241.2 77.09L269.5 67.79C278.5 64.83 288.5 67.34 294.2 74.89C297.7 79.56 300.1 84.42 304 89.44L307.1 94.83C309.9 99.84 312.4 105 314.7 110.3C318.4 119 315.5 128.1 308.5 135.3L286.3 155.1zM160 127.1C133.5 127.1 112 149.5 112 175.1C112 202.5 133.5 223.1 160 223.1C186.5 223.1 208 202.5 208 175.1C208 149.5 186.5 127.1 160 127.1zM484.9 478.3C478.1 479.4 471.1 480 464 480C456.9 480 449.9 479.4 443.1 478.3L423.3 500.5C416.1 507.5 407 510.4 398.3 506.7C393 504.4 387.8 501.9 382.8 499.1L377.4 496C372.4 492.1 367.6 489.7 362.9 486.2C355.3 480.5 352.8 470.5 355.8 461.5L365.1 433.2C356.2 422.5 349.1 410.3 344.1 397L315.1 390.1C305.8 389 298.4 381.8 297.2 372.4C296.4 365.7 296 358.9 296 352C296 345.1 296.4 338.3 297.2 331.6C298.4 322.2 305.8 314.1 315.1 313L344.1 306.1C349.1 293.7 356.2 281.5 365.1 270.8L355.8 242.5C352.8 233.5 355.3 223.5 362.9 217.8C367.6 214.3 372.5 210.1 377.5 207.9L382.8 204.9C387.8 202.1 392.1 199.6 398.3 197.3C407 193.6 416.1 196.5 423.3 203.5L443.1 225.7C449.9 224.6 456.9 224 464 224C471.1 224 478.1 224.6 484.9 225.7L504.7 203.5C511 196.5 520.1 193.6 529.7 197.3C535 199.6 540.2 202.1 545.2 204.9L550.5 207.9C555.5 210.1 560.4 214.3 565.1 217.8C572.7 223.5 575.2 233.5 572.2 242.5L562.9 270.8C571.8 281.5 578.9 293.7 583.9 306.1L612.9 313C622.2 314.1 629.6 322.2 630.8 331.6C631.6 338.3 632 345.1 632 352C632 358.9 631.6 365.7 630.8 372.4C629.6 381.8 622.2 389 612.9 390.1L583.9 397C578.9 410.3 571.8 422.5 562.9 433.2L572.2 461.5C575.2 470.5 572.7 480.5 565.1 486.2C560.4 489.7 555.6 492.1 550.6 496L545.2 499.1C540.2 501.9 534.1 504.4 529.7 506.7C520.1 510.4 511 507.5 504.7 500.5L484.9 478.3zM512 352C512 325.5 490.5 304 464 304C437.5 304 416 325.5 416 352C416 378.5 437.5 400 464 400C490.5 400 512 378.5 512 352z"]},Of={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},kf={prefix:"fas",iconName:"magnet",icon:[448,512,[129522],"f076","M128 160V256C128 309 170.1 352 224 352C277 352 320 309 320 256V160H448V256C448 379.7 347.7 480 224 480C100.3 480 0 379.7 0 256V160H128zM0 64C0 46.33 14.33 32 32 32H96C113.7 32 128 46.33 128 64V128H0V64zM320 64C320 46.33 334.3 32 352 32H416C433.7 32 448 46.33 448 64V128H320V64z"]},zs={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M160 352h192V160H160V352zM448 176h48C504.8 176 512 168.8 512 160s-7.162-16-16-16H448V128c0-35.35-28.65-64-64-64h-16V16C368 7.164 360.8 0 352 0c-8.836 0-16 7.164-16 16V64h-64V16C272 7.164 264.8 0 256 0C247.2 0 240 7.164 240 16V64h-64V16C176 7.164 168.8 0 160 0C151.2 0 144 7.164 144 16V64H128C92.65 64 64 92.65 64 128v16H16C7.164 144 0 151.2 0 160s7.164 16 16 16H64v64H16C7.164 240 0 247.2 0 256s7.164 16 16 16H64v64H16C7.164 336 0 343.2 0 352s7.164 16 16 16H64V384c0 35.35 28.65 64 64 64h16v48C144 504.8 151.2 512 160 512c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448h64v48c0 8.836 7.164 16 16 16c8.838 0 16-7.164 16-16V448H384c35.35 0 64-28.65 64-64v-16h48c8.838 0 16-7.164 16-16s-7.162-16-16-16H448v-64h48C504.8 272 512 264.8 512 256s-7.162-16-16-16H448V176zM384 368c0 8.836-7.162 16-16 16h-224C135.2 384 128 376.8 128 368v-224C128 135.2 135.2 128 144 128h224C376.8 128 384 135.2 384 144V368z"]},Pf={prefix:"fas",iconName:"minus",icon:[448,512,[8722,10134,8211,"subtract"],"f068","M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"]},$f={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 255.1C512 256.9 511.1 257.8 511.1 258.7C511.6 295.2 478.4 319.1 441.9 319.1H344C317.5 319.1 296 341.5 296 368C296 371.4 296.4 374.7 297 377.9C299.2 388.1 303.5 397.1 307.9 407.8C313.9 421.6 320 435.3 320 449.8C320 481.7 298.4 510.5 266.6 511.8C263.1 511.9 259.5 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256V255.1zM96 255.1C78.33 255.1 64 270.3 64 287.1C64 305.7 78.33 319.1 96 319.1C113.7 319.1 128 305.7 128 287.1C128 270.3 113.7 255.1 96 255.1zM128 191.1C145.7 191.1 160 177.7 160 159.1C160 142.3 145.7 127.1 128 127.1C110.3 127.1 96 142.3 96 159.1C96 177.7 110.3 191.1 128 191.1zM256 63.1C238.3 63.1 224 78.33 224 95.1C224 113.7 238.3 127.1 256 127.1C273.7 127.1 288 113.7 288 95.1C288 78.33 273.7 63.1 256 63.1zM384 191.1C401.7 191.1 416 177.7 416 159.1C416 142.3 401.7 127.1 384 127.1C366.3 127.1 352 142.3 352 159.1C352 177.7 366.3 191.1 384 191.1z"]},Af={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M272 63.1l-32 0c-26.51 0-48 21.49-48 47.1v288c0 26.51 21.49 48 48 48L272 448c26.51 0 48-21.49 48-48v-288C320 85.49 298.5 63.1 272 63.1zM80 63.1l-32 0c-26.51 0-48 21.49-48 48v288C0 426.5 21.49 448 48 448l32 0c26.51 0 48-21.49 48-48v-288C128 85.49 106.5 63.1 80 63.1z"]},Df={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]},zf={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},Tf={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"]},Mf={prefix:"fas",iconName:"rotate-left",icon:[512,512,["rotate-back","rotate-backward","undo-alt"],"f2ea","M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.84 0-95.17-15.58-134.2-44.86c-14.12-10.59-16.97-30.66-6.375-44.81c10.59-14.12 30.62-16.94 44.81-6.375c27.84 20.91 61 31.94 95.88 31.94C344.3 415.8 416 344.1 416 256s-71.69-159.8-159.8-159.8c-37.46 0-73.09 13.49-101.3 36.64l45.12 45.14c17.01 17.02 4.955 46.1-19.1 46.1H35.17C24.58 224.1 16 215.5 16 204.9V59.04c0-24.04 29.07-36.08 46.07-19.07l47.6 47.63C149.9 52.71 201.5 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z"]},Bf=Mf,Lf={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M468.9 32.11c13.87 0 27.18 10.77 27.18 27.04v145.9c0 10.59-8.584 19.17-19.17 19.17h-145.7c-16.28 0-27.06-13.32-27.06-27.2c0-6.634 2.461-13.4 7.96-18.9l45.12-45.14c-28.22-23.14-63.85-36.64-101.3-36.64c-88.09 0-159.8 71.69-159.8 159.8S167.8 415.9 255.9 415.9c73.14 0 89.44-38.31 115.1-38.31c18.48 0 31.97 15.04 31.97 31.96c0 35.04-81.59 70.41-147 70.41c-123.4 0-223.9-100.5-223.9-223.9S132.6 32.44 256 32.44c54.6 0 106.2 20.39 146.4 55.26l47.6-47.63C455.5 34.57 462.3 32.11 468.9 32.11z"]},Nf=Lf,Rf={prefix:"fas",iconName:"scissors",icon:[512,512,[9986,9988,9984,"cut"],"f0c4","M396.8 51.2C425.1 22.92 470.9 22.92 499.2 51.2C506.3 58.27 506.3 69.73 499.2 76.8L216.5 359.5C221.3 372.1 224 385.7 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 287.1 112 287.1C126.3 287.1 139.9 290.7 152.5 295.5L191.1 255.1L152.5 216.5C139.9 221.3 126.3 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 126.3 221.3 139.9 216.5 152.5L255.1 191.1L396.8 51.2zM160 111.1C160 85.49 138.5 63.1 112 63.1C85.49 63.1 64 85.49 64 111.1C64 138.5 85.49 159.1 112 159.1C138.5 159.1 160 138.5 160 111.1zM112 448C138.5 448 160 426.5 160 400C160 373.5 138.5 352 112 352C85.49 352 64 373.5 64 400C64 426.5 85.49 448 112 448zM278.6 342.6L342.6 278.6L499.2 435.2C506.3 442.3 506.3 453.7 499.2 460.8C470.9 489.1 425.1 489.1 396.8 460.8L278.6 342.6z"]},Ff={prefix:"fas",iconName:"screwdriver-wrench",icon:[512,512,["tools"],"f7d9","M331.8 224.1c28.29 0 54.88 10.99 74.86 30.97l19.59 19.59c40.01-17.74 71.25-53.3 81.62-96.65c5.725-23.92 5.34-47.08 .2148-68.4c-2.613-10.88-16.43-14.51-24.34-6.604l-68.9 68.9h-75.6V97.2l68.9-68.9c7.912-7.912 4.275-21.73-6.604-24.34c-21.32-5.125-44.48-5.51-68.4 .2148c-55.3 13.23-98.39 60.22-107.2 116.4C224.5 128.9 224.2 137 224.3 145l82.78 82.86C315.2 225.1 323.5 224.1 331.8 224.1zM384 278.6c-23.16-23.16-57.57-27.57-85.39-13.9L191.1 158L191.1 95.99l-127.1-95.99L0 63.1l96 127.1l62.04 .0077l106.7 106.6c-13.67 27.82-9.251 62.23 13.91 85.39l117 117.1c14.62 14.5 38.21 14.5 52.71-.0016l52.75-52.75c14.5-14.5 14.5-38.08-.0016-52.71L384 278.6zM227.9 307L168.7 247.9l-148.9 148.9c-26.37 26.37-26.37 69.08 0 95.45C32.96 505.4 50.21 512 67.5 512s34.54-6.592 47.72-19.78l119.1-119.1C225.5 352.3 222.6 329.4 227.9 307zM64 472c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24S88 434.7 88 448C88 461.3 77.25 472 64 472z"]},jf={prefix:"fas",iconName:"share",icon:[512,512,["arrow-turn-right","mail-forward"],"f064","M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"]},Vf={prefix:"fas",iconName:"table-cells",icon:[512,512,["th"],"f00a","M448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM152 96H64V160H152V96zM208 160H296V96H208V160zM448 96H360V160H448V96zM64 288H152V224H64V288zM296 224H208V288H296V224zM360 288H448V224H360V288zM152 352H64V416H152V352zM208 416H296V352H208V416zM448 352H360V416H448V352z"]},Uf={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},Hf={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M248.8 4.994C249.9 1.99 252.8 .0001 256 .0001C259.2 .0001 262.1 1.99 263.2 4.994L277.3 42.67L315 56.79C318 57.92 320 60.79 320 64C320 67.21 318 70.08 315 71.21L277.3 85.33L263.2 123C262.1 126 259.2 128 256 128C252.8 128 249.9 126 248.8 123L234.7 85.33L196.1 71.21C193.1 70.08 192 67.21 192 64C192 60.79 193.1 57.92 196.1 56.79L234.7 42.67L248.8 4.994zM427.4 14.06C446.2-4.686 476.6-4.686 495.3 14.06L529.9 48.64C548.6 67.38 548.6 97.78 529.9 116.5L148.5 497.9C129.8 516.6 99.38 516.6 80.64 497.9L46.06 463.3C27.31 444.6 27.31 414.2 46.06 395.4L427.4 14.06zM461.4 59.31L356.3 164.3L379.6 187.6L484.6 82.58L461.4 59.31zM7.491 117.2L64 96L85.19 39.49C86.88 34.98 91.19 32 96 32C100.8 32 105.1 34.98 106.8 39.49L128 96L184.5 117.2C189 118.9 192 123.2 192 128C192 132.8 189 137.1 184.5 138.8L128 160L106.8 216.5C105.1 221 100.8 224 96 224C91.19 224 86.88 221 85.19 216.5L64 160L7.491 138.8C2.985 137.1 0 132.8 0 128C0 123.2 2.985 118.9 7.491 117.2zM359.5 373.2L416 352L437.2 295.5C438.9 290.1 443.2 288 448 288C452.8 288 457.1 290.1 458.8 295.5L480 352L536.5 373.2C541 374.9 544 379.2 544 384C544 388.8 541 393.1 536.5 394.8L480 416L458.8 472.5C457.1 477 452.8 480 448 480C443.2 480 438.9 477 437.2 472.5L416 416L359.5 394.8C354.1 393.1 352 388.8 352 384C352 379.2 354.1 374.9 359.5 373.2z"]},Wf={prefix:"fas",iconName:"wave-square",icon:[640,512,[],"f83e","M476 480h-152c-19.88 0-36-16.12-36-36v-348H192v156c0 19.88-16.12 36-36 36H31.1C14.33 288 0 273.7 0 256s14.33-31.1 31.1-31.1H128v-156c0-19.88 16.12-36 36-36h152c19.88 0 36 16.12 36 36v348h96v-156c0-19.88 16.12-36 36-36h124C625.7 224 640 238.3 640 256s-14.33 32-31.1 32H512v156C512 463.9 495.9 480 476 480z"]},qf={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]},Zf={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]},_o=Zf,dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ts={exports:{}};(function(e,t){(function(n,o){o(t)})(dn,function(n){var o,r,i="smooth-dnd-container-instance",s="smooth-dnd-draggable-wrapper",a="animated",l="__smooth_dnd_draggable_translation_value",u="__smooth_dnd_draggable_visibility_value",f="smooth-dnd-ghost",m="smooth-dnd-container",y="smooth-dnd-extra-size-for-insertion",d="smooth-dnd-stretcher-element",v="smooth-dnd-stretcher-instance",h="smooth-dnd-disable-touch-action",g="smooth-dnd-no-user-select",w="smooth-dnd-prevent-auto-scroll-class",x="smooth-dnd-drop-preview-default-class",P="smooth-dnd-drop-preview-inner-class",k="smooth-dnd-drop-preview-constant-class",A="smooth-dnd-drop-preview-flex-container-class",X=Object.freeze({containerInstance:i,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:s,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:a,translationValue:l,visibilityValue:u,ghostClass:f,containerClass:m,extraSizeForInsertion:y,stretcherElementClass:d,stretcherElementInstance:v,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:h,noUserSelectClass:g,preventAutoScrollClass:w,dropPlaceholderDefaultClass:x,dropPlaceholderInnerClass:P,dropPlaceholderWrapperClass:k,dropPlaceholderFlexContainerClass:A}),F={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function N(E){return(N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(E)}function D(E,O,$){return O in E?Object.defineProperty(E,O,{value:$,enumerable:!0,configurable:!0,writable:!0}):E[O]=$,E}function M(E){return function(O){if(Array.isArray(O)){for(var $=0,L=new Array(O.length);$<O.length;$++)L[$]=O[$];return L}}(E)||function(O){if(Symbol.iterator in Object(O)||Object.prototype.toString.call(O)==="[object Arguments]")return Array.from(O)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r=o||(o={})).x="x",r.y="y",r.xy="xy";function se(E,O,$){return $==="x"?{left:Math.max(E.left,O.left),top:E.top,right:Math.min(E.right,O.right),bottom:E.bottom}:{left:E.left,top:Math.max(E.top,O.top),right:E.right,bottom:Math.min(E.bottom,O.bottom)}}function S(E){var O=window.getComputedStyle(E),$=O.overflow;if($==="auto"||$==="scroll")return o.xy;var L=O["overflow-x"],q=L==="auto"||L==="scroll",oe=O["overflow-y"],he=oe==="auto"||oe==="scroll";return q&&he?o.xy:q?o.x:he?o.y:null}function H(E,O){var $=window.getComputedStyle(E),L=$.overflow,q=$["overflow-".concat(O)];return L==="auto"||L==="scroll"||q==="auto"||q==="scroll"}var p=function(E,O){return{left:Math.max(E.left,O.left),top:Math.max(E.top,O.top),right:Math.min(E.right,O.right),bottom:Math.min(E.bottom,O.bottom)}},ee=function(E){var O=E.getBoundingClientRect(),$={left:O.left,right:O.right,top:O.top,bottom:O.bottom};if(Q(E,"x")&&!ve(E,"x")){var L=$.right-$.left;$.right=$.right+E.scrollWidth-L}if(Q(E,"y")&&!ve(E,"y")){var q=$.bottom-$.top;$.bottom=$.bottom+E.scrollHeight-q}return $},ve=function(E,O){var $=window.getComputedStyle(E),L=$.overflow,q=$["overflow-".concat(O)];return L==="auto"||L==="scroll"||L==="hidden"||q==="auto"||q==="scroll"||q==="hidden"},Q=function(E,O){return O==="x"?E.scrollWidth>E.clientWidth:E.scrollHeight>E.clientHeight},Se=function(E,O){var $=E,L=O||ee(E);for($=E.parentElement;$;)Q($,"x")&&ve($,"x")&&(L=se(L,$.getBoundingClientRect(),"x")),Q($,"y")&&ve($,"y")&&(L=se(L,$.getBoundingClientRect(),"y")),$=$.parentElement;return L},ce=function(E,O){for(var $=E;$;){if($[i]){var L=function(){var q=$[i];if(O.some(function(oe){return oe===q}))return{v:q}}();if(N(L)==="object")return L.v}$=$.parentElement}return null},fe=function(E,O){for(var $=E;$;){if($.matches(O))return $;$=$.parentElement}return null},G=function(E,O){return-1<E.className.split(" ").map(function($){return $}).indexOf(O)},Z=function(E,O){if(E){var $=E.className.split(" ").filter(function(L){return L});$.indexOf(O)===-1&&($.unshift(O),E.className=$.join(" "))}},Ce=function(E,O){if(E){var $=E.className.split(" ").filter(function(L){return L&&L!==O});E.className=$.join(" ")}},_e=function(E,O){return E.removeChild(E.children[O])},te=function(E,O,$){$>=E.children.length?E.appendChild(O):E.insertBefore(O,E.children[$])},Ee=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},Re=function(E){if(E){var O=window.getComputedStyle(E);if(O)return O.cursor}return null};function Ie(E){return!(E.bottom<=E.top||E.right<=E.left)}function Be(E){var O=E.element,$=E.draggables;return function(L,q){var oe=L,he=oe.removedIndex,le=oe.addedIndex,ge=oe.droppedElement,J=null;if(he!==null&&(J=_e(O,he),$.splice(he,1)),le!==null){var ie=window.document.createElement("div");ie.className="".concat(s),ie.appendChild(J&&J.firstElementChild?J.firstElementChild:ge),te(O,ie,le),le>=$.length?$.push(ie):$.splice(le,0,ie)}q&&q(L)}}var Ge=Object.freeze({domDropHandler:Be,reactDropHandler:function(){return{handler:function(){return function(E,O){O&&O(E)}}}}}),Xe={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(E){return"translate3d(".concat(E,"px, 0, 0)")}}},T={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(E){return"translate3d(0,".concat(E,"px, 0)")}}};function j(E,O,$){E[y]=0;var L=function(J){return{get:function(ie,me){return ie[J[me]||me]},set:function(ie,me,ke){ie[J[me]]=J.setters[me]?J.setters[me](ke):ke}}}(O==="horizontal"?Xe:T),q={translation:0};function oe(){he(E),function(J){var ie=J.getBoundingClientRect();q.scaleX=J.offsetWidth?(ie.right-ie.left)/J.offsetWidth:1,q.scaleY=J.offsetHeight?(ie.bottom-ie.top)/J.offsetHeight:1}(E)}function he(J){q.rect=ee(J);var ie=Se(J,q.rect);Ie(ie)&&(q.lastVisibleRect=q.visibleRect),q.visibleRect=ie}function le(J){var ie=J;if(ie.tagName){var me=ie.getBoundingClientRect();return O==="vertical"?me.bottom-me.top:me.right-me.left}return L.get(J,"size")*L.get(q,"scale")}function ge(J){return L.get(J,"dragPosition")}return window.addEventListener("resize",function(){he(E)}),setTimeout(function(){oe()},10),{getSize:le,getContainerRectangles:function(){return{rect:q.rect,visibleRect:q.visibleRect,lastVisibleRect:q.lastVisibleRect}},getBeginEndOfDOMRect:function(J){return{begin:L.get(J,"begin"),end:L.get(J,"end")}},getBeginEndOfContainer:function(){return{begin:L.get(q.rect,"begin")+q.translation,end:L.get(q.rect,"end")+q.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:L.get(q.visibleRect,"begin")+q.translation,end:L.get(q.visibleRect,"end")+q.translation}},getBeginEnd:function(J){var ie=function(me){return(L.get(me,"distanceToParent")+(me[l]||0))*L.get(q,"scale")}(J)+(L.get(q.rect,"begin")+q.translation)-L.get(E,"scrollValue");return{begin:ie,end:ie+le(J)*L.get(q,"scale")}},getAxisValue:ge,setTranslation:function(J,ie){ie?L.set(J.style,"translate",ie):J.style.removeProperty("transform"),J[l]=ie},getTranslation:function(J){return J[l]},setVisibility:function(J,ie){J[u]!==void 0&&J[u]===ie||(ie?J.style.removeProperty("visibility"):J.style.visibility="hidden",J[u]=ie)},isVisible:function(J){return J[u]===void 0||J[u]},isInVisibleRect:function(J,ie){var me=q.visibleRect,ke=me.left,De=me.top,Me=me.right,Ve=me.bottom;Ve-De<2&&(Ve=De+30);var _=q.rect;return O==="vertical"?J>_.left&&J<_.right&&De<ie&&ie<Ve:ke<J&&J<Me&&ie>_.top&&ie<_.bottom},setSize:function(J,ie){L.set(J,"setSize",ie)},getTopLeftOfElementBegin:function(J){var ie=0;return{top:O==="horizontal"?(ie=J,q.rect.top):(ie=q.rect.left,J),left:ie}},getScrollSize:function(J){return L.get(J,"scrollSize")},getScrollValue:function(J){return L.get(J,"scrollValue")},setScrollValue:function(J,ie){return L.set(J,"scrollValue",ie)},invalidate:oe,invalidateRects:function(){he(E)},getPosition:function(J){return ge(J)},setBegin:function(J,ie){L.set(J,"begin",ie)}}}function c(E,O,$){var L,q,oe,he=$.left,le=$.right,ge=$.top,J=$.bottom,ie=E.x,me=E.y;if(ie<he||le<ie||me<ge||J<me)return null;oe=O==="x"?(L=he,q=le,ie):(L=ge,q=J,me);var ke=q-L,De=400<ke?100:ke/4;return q-oe<De?{direction:"end",speedFactor:(De-(q-oe))/De}:oe-L<De?{direction:"begin",speedFactor:(De-(oe-L))/De}:null}function B(E){var O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",$=null,L=null,q=null,oe=null;return{animate:function(he,le){q=he,oe=le,function ge(){$===null&&($=requestAnimationFrame(function(J){L===null&&(L=J);var ie=J-L;L=J;var me,ke,De,Me=ie/1e3*oe;ke=O,De=Me=q==="begin"?0-Me:Me,(me=E)&&(me!==window?ke==="x"?me.scrollLeft+=De:me.scrollTop+=De:ke==="x"?me.scrollBy(De,0):me.scrollBy(0,De)),$=null,ge()}))}()},stop:function(){$!==null&&(cancelAnimationFrame($),$=null),L=null}}}function z(E){return function(){return Se(E,E.getBoundingClientRect())}}var C,b,I,W=function(E){var O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,$=E.reduce(function(L,q){var oe=function(he){for(var le=[],ge=he.element;ge;){var J=S(ge);if(J&&!G(ge,w)){var ie={};switch(J){case o.xy:ie.x={animator:B(ge,"x")},ie.y={animator:B(ge,"y")};break;case o.x:ie.x={animator:B(ge,"x")};break;case o.y:ie.y={animator:B(ge,"y")}}le.push({axisAnimations:ie,getRect:z(ge),scrollerElement:ge})}ge=ge.parentElement}return le}(q).filter(function(he){return!L.find(function(le){return le.scrollerElement===he.scrollerElement})});return[].concat(M(L),M(oe))},[]);return function(L){var q=L.draggableInfo;if(L.reset)$.forEach(function(le){le.axisAnimations.x&&le.axisAnimations.x.animator.stop(),le.axisAnimations.y&&le.axisAnimations.y.animator.stop()});else if(q){(function(le,ge){le.forEach(function(J){var ie=J.axisAnimations,me=(0,J.getRect)();ie.x&&(ie.x.scrollParams=c(ge,"x",me),J.cachedRect=me),ie.y&&(ie.y.scrollParams=c(ge,"y",me),J.cachedRect=me)})})($,q.mousePosition),$.forEach(function(le){var ge=le.axisAnimations,J=ge.x,ie=ge.y;if(J)if(J.scrollParams){var me=J.scrollParams,ke=me.direction,De=me.speedFactor;J.animator.animate(ke,De*O)}else J.animator.stop();if(ie)if(ie.scrollParams){var Me=ie.scrollParams,Ve=Me.direction,_=Me.speedFactor;ie.animator.animate(Ve,_*O)}else ie.animator.stop()});var oe=$.filter(function(le){return le.cachedRect});if(oe.length&&1<oe.length){var he=function(le,ge){for(var J=document.elementFromPoint(ge.x,ge.y);J;){var ie=le.find(function(me){return me.scrollerElement===J});if(ie)return ie;J=J.parentElement}return null}(oe,q.mousePosition);he&&oe.forEach(function(le){le!==he&&(le.axisAnimations.x&&le.axisAnimations.x.animator.stop(),le.axisAnimations.y&&le.axisAnimations.y.animator.stop())})}}}};typeof window<"u"&&((C=Element)&&C.prototype&&!C.prototype.matches&&(C.prototype.matches=C.prototype.matchesSelector||C.prototype.mozMatchesSelector||C.prototype.msMatchesSelector||C.prototype.oMatchesSelector||C.prototype.webkitMatchesSelector||function(E){for(var O=(this.document||this.ownerDocument).querySelectorAll(E),$=O.length;0<=--$&&O.item($)!==this;);return-1<$}),(b=Node||Element)&&b.prototype&&b.prototype.firstElementChild==null&&Object.defineProperty(b.prototype,"firstElementChild",{get:function(){for(var E,O=this.childNodes,$=0;E=O[$++];)if(E.nodeType===1)return E;return null}}),Array.prototype.some||(Array.prototype.some=function(E){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof E!="function")throw new TypeError;for(var O=Object(this),$=O.length>>>0,L=2<=arguments.length?arguments[1]:void 0,q=0;q<$;q++)if(q in O&&E.call(L,O[q],q,O))return!0;return!1}));var V={overflow:"hidden",display:"block"},R={height:"100%",display:"table-cell","vertical-align":"top"},Y=(D(I={},".".concat(m),{position:"relative","min-height":"30px","min-width":"30px"}),D(I,".".concat(m,".horizontal"),{display:"table"}),D(I,".".concat(m,".horizontal > .").concat(d),{display:"inline-block"}),D(I,".".concat(m,".horizontal > .").concat(s),R),D(I,".".concat(m,".vertical > .").concat(s),V),D(I,".".concat(s),{"box-sizing":"border-box"}),D(I,".".concat(s,".horizontal"),R),D(I,".".concat(s,".vertical"),V),D(I,".".concat(s,".animated"),{transition:"transform ease"}),D(I,".".concat(f),{"box-sizing":"border-box"}),D(I,".".concat(f,".animated"),{transition:"all ease-in-out"}),D(I,".".concat(f," *"),{"pointer-events":"none"}),D(I,".".concat(h," *"),{"touch-action":"none","-ms-touch-action":"none"}),D(I,".".concat(g),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),D(I,".".concat(P),{flex:"1"}),D(I,".".concat(m,".horizontal > .").concat(k),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),D(I,".".concat(m,".vertical > .").concat(k),{overflow:"hidden",display:"block",width:"100%"}),D(I,".".concat(A),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),D(I,".".concat(x),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),I);function re(E){return Object.keys(E).reduce(function(O,$){var L=E[$];return N(L)==="object"?"".concat(O).concat($,"{").concat(re(L),"}"):"".concat(O).concat($,":").concat(L,";")},"")}function ne(E){if(E&&typeof window<"u"){var O=window.document.head||window.document.getElementsByTagName("head")[0],$=window.document.createElement("style"),L=re({"body *":{cursor:"".concat(E," !important")}});return $.type="text/css",$.styleSheet?$.styleSheet.cssText=L:$.appendChild(window.document.createTextNode(L)),O.appendChild($),$}return null}var pe,ze,Pe=["mousedown","touchstart"],We=["mousemove","touchmove"],ct=["mouseup","touchend"],Ze=null,bt=null,Te=null,$e=null,ot=[],tt=!1,Dt=!1,Mt=!1,Yt=!1,Lt=null,St=null,Et=null,Nt=null,Yo=(pe=null,ze=!1,{start:function(){ze||(ze=!0,function E(){pe=requestAnimationFrame(function(){Ze.forEach(function(O){return O.layout.invalidateRects()}),setTimeout(function(){pe!==null&&E()},50)})}())},stop:function(){pe!==null&&(cancelAnimationFrame(pe),pe=null),ze=!1}}),gi=typeof window<"u"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function vi(){typeof window<"u"&&Pe.forEach(function(E){window.document.addEventListener(E,bi,{passive:!1})})}function Jo(){return $e&&$e.ghostParent?$e.ghostParent:bt&&bt.parentElement||window.document.body}var gn,Xn,Jt,Yn,So,Io,yi=(Yn=null,So=1,Io=5,function(E,O,$){gn=Qn(E),Jt=$,(Xn=typeof O=="number"?O:gi?200:0)&&(Yn=setTimeout(tr,Xn)),We.forEach(function(L){return window.document.addEventListener(L,Qo)},{passive:!1}),ct.forEach(function(L){return window.document.addEventListener(L,Rt)},{passive:!1}),window.document.addEventListener("drag",er,{passive:!1})});function Qo(E){var O=Qn(E),$=O.clientX,L=O.clientY;if(Xn)(Math.abs(gn.clientX-$)>Io||Math.abs(gn.clientY-L)>Io)&&Jn();else if(Math.abs(gn.clientX-$)>So||Math.abs(gn.clientY-L)>So)return tr()}function Rt(){Jn()}function er(){Jn()}function Jn(){clearTimeout(Yn),We.forEach(function(E){return window.document.removeEventListener(E,Qo)},{passive:!1}),ct.forEach(function(E){return window.document.removeEventListener(E,Rt)},{passive:!1}),window.document.removeEventListener("drag",er,{passive:!1})}function tr(){clearTimeout(Yn),Jn(),Jt()}function bi(E){var O=Qn(E);if(!tt&&(O.button===void 0||O.button===0)&&(bt=fe(O.target,"."+s))){var $=fe(bt,"."+m),L=ot.filter(function(le){return le.element===$})[0],q=L.getOptions().dragHandleSelector,oe=L.getOptions().nonDragAreaSelector,he=!0;q&&!fe(O.target,q)&&(he=!1),oe&&fe(O.target,oe)&&(he=!1),he&&(L.layout.invalidate(),Z(window.document.body,h),Z(window.document.body,g),window.document.addEventListener("mouseup",function le(){Ce(window.document.body,h),Ce(window.document.body,g),window.document.removeEventListener("mouseup",le)})),he&&yi(O,L.getOptions().dragBeginDelay,function(){Ee(),lr(O,Re(E.target)),We.forEach(function(le){window.document.addEventListener(le,nr,{passive:!1})}),ct.forEach(function(le){window.document.addEventListener(le,Qt,{passive:!1})})})}}function nr(E){E.preventDefault();var O=Qn(E);if($e){var $=$e.container.getOptions();$.behaviour==="contain"?function(L){var q,oe,he,le,ge=L.clientX,J=L.clientY,ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",me=$e.container.layout.getBeginEndOfContainerVisibleRect();le=ie==="vertical"?(q=J,oe="y",he="top",$e.size.offsetHeight):(q=ge,oe="x",he="left",$e.size.offsetWidth);var ke=me.begin,De=me.end-le,Me=Math.max(ke,Math.min(De,q+Te.positionDelta[he]));Te.topLeft[oe]=Me,$e.position[oe]=Math.max(me.begin,Math.min(me.end,q+Te.centerDelta[oe])),$e.mousePosition[oe]=Math.max(me.begin,Math.min(me.end,q)),$e.position[oe]<me.begin+le/2&&($e.position[oe]=me.begin+2),$e.position[oe]>me.end-le/2&&($e.position[oe]=me.end-2)}(O,$.orientation):Et?Et==="y"?(Te.topLeft.y=O.clientY+Te.positionDelta.top,$e.position.y=O.clientY+Te.centerDelta.y,$e.mousePosition.y=O.clientY):Et==="x"&&(Te.topLeft.x=O.clientX+Te.positionDelta.left,$e.position.x=O.clientX+Te.centerDelta.x,$e.mousePosition.x=O.clientX):(Te.topLeft.x=O.clientX+Te.positionDelta.left,Te.topLeft.y=O.clientY+Te.positionDelta.top,$e.position.x=O.clientX+Te.centerDelta.x,$e.position.y=O.clientY+Te.centerDelta.y,$e.mousePosition.x=O.clientX,$e.mousePosition.y=O.clientY),yn(),(Yt=!Lt($e))&&_i()}else lr(O,Re(E.target))}var Ft,or,rr,vn,_i=(Ft=ir,rr=!(or=20),vn=null,function(){for(var E=arguments.length,O=new Array(E),$=0;$<E;$++)O[$]=arguments[$];vn&&clearTimeout(vn),rr&&!vn?Ft.call.apply(Ft,[null].concat(O)):vn=setTimeout(function(){vn=null,Ft.call.apply(Ft,[null].concat(O))},or)});function ir(){Yt&&(Yt=!1,sr($e,Ze))}function Qt(){We.forEach(function(E){window.document.removeEventListener(E,nr,{passive:!1})}),ct.forEach(function(E){window.document.removeEventListener(E,Qt,{passive:!1})}),St({reset:!0}),Nt&&(function(E){E&&typeof window<"u"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(E)}(Nt),Nt=null),$e&&(Yo.stop(),ir(),Mt=!0,function(E){function O(){Ce(Te.ghost,"animated"),Te.ghost.style.transitionDuration=null,Jo().removeChild(Te.ghost),E()}function $(_,U,ae){var Ae=_.top,ut=_.left;Z(Te.ghost,"animated"),ae&&Z(Te.ghost.firstElementChild,ae),Te.topLeft.x=ut,Te.topLeft.y=Ae,yn(U),setTimeout(function(){O()},U+20)}function L(_,U){Z(Te.ghost,"animated"),yn(_,.9,!0),setTimeout(function(){U()},_+20)}if($e.targetElement){var q=ot.filter(function(_){return _.element===$e.targetElement})[0];!(Ve=q.getOptions()).shouldAnimateDrop||Ve.shouldAnimateDrop($e.container.getOptions(),$e.payload)?$(q.getDragResult().shadowBeginEnd.rect,Math.max(150,q.getOptions().animationDuration/2),q.getOptions().dropClass):O()}else{var oe=ot.filter(function(_){return _===$e.container})[0];if(oe){var he=oe.getOptions(),le=he.behaviour,ge=he.removeOnDropOut;if(le!=="move"&&le!=="contain"||!Dt&&ge||!oe.getDragResult())L(oe.getOptions().animationDuration,O);else{var J=oe.layout.getContainerRectangles();if(!Ie(J.visibleRect)&&Ie(J.lastVisibleRect))$({top:J.lastVisibleRect.top,left:J.lastVisibleRect.left},oe.getOptions().animationDuration,oe.getOptions().dropClass);else{var ie=oe.getDragResult(),me=ie.removedIndex,ke=ie.elementSize,De=oe.layout;oe.getTranslateCalculator({dragResult:{removedIndex:me,addedIndex:me,elementSize:ke,pos:void 0,shadowBeginEnd:void 0}});var Me=0<me?De.getBeginEnd(oe.draggables[me-1]).end:De.getBeginEndOfContainer().begin;$(De.getTopLeftOfElementBegin(Me),oe.getOptions().animationDuration,oe.getOptions().dropClass)}}}else L(F.animationDuration,O)}var Ve}(function(){ar(tt=!1);for(var E=Ze||[],O=E.shift();O!==void 0;)O.handleDrop($e),O=E.shift();Lt=Et=$e=Te=bt=Ze=null,Mt=!1}))}function Qn(E){return E.touches?E.touches[0]:E}function sr(E,O){var $=!1;O.forEach(function(L){var q=L.handleDrag(E);$=!!q.containerBoxChanged||!1,q.containerBoxChanged=!1}),$&&($=!1,requestAnimationFrame(function(){ot.forEach(function(L){L.layout.invalidateRects(),L.onTranslated()})}))}function xo(E){var O=E,$=null;return function(L){return!($!==null||!tt||Mt)&&($=requestAnimationFrame(function(){tt&&!Mt&&(sr(L,O),St({draggableInfo:L})),$=null}),!0)}}function Eo(E,O){return E.getOptions().autoScrollEnabled?W(O,E.getScrollMaxSpeed()):function($){return null}}function ar(E){ot.forEach(function(O){var $=E?O.getOptions().onDragStart:O.getOptions().onDragEnd;if($){var L={isSource:O===$e.container,payload:$e.payload};O.isDragRelevant($e.container,$e.payload)?L.willAcceptDrop=!0:L.willAcceptDrop=!1,$(L)}})}function lr(E,O){if(bt!==null){tt=!0;var $=ot.filter(function(L){return bt.parentElement===L.element})[0];$.setDraggables(),Et=$.getOptions().lockAxis?$.getOptions().lockAxis.toLowerCase():null,$e=function(L){var q=ot.filter(function(ge){return L.parentElement===ge.element})[0],oe=q.draggables.indexOf(L),he=q.getOptions().getGhostParent,le=L.getBoundingClientRect();return{container:q,element:L,size:{offsetHeight:le.bottom-le.top,offsetWidth:le.right-le.left},elementIndex:oe,payload:q.getOptions().getChildPayload?q.getOptions().getChildPayload(oe):void 0,targetElement:null,position:{x:0,y:0},groupName:q.getOptions().groupName,ghostParent:he?he():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(bt),Te=function(L,q,oe,he){var le=q.x,ge=q.y,J=L.getBoundingClientRect(),ie=J.left,me=J.top,ke=J.right,De=J.bottom,Me=p(oe.layout.getContainerRectangles().visibleRect,J),Ve=Me.left+(Me.right-Me.left)/2,_=Me.top+(Me.bottom-Me.top)/2,U=L.cloneNode(!0);return U.style.zIndex="1000",U.style.boxSizing="border-box",U.style.position="fixed",U.style.top="0px",U.style.left="0px",U.style.transform=null,U.style.removeProperty("transform"),oe.shouldUseTransformForGhost()?U.style.transform="translate3d(".concat(ie,"px, ").concat(me,"px, 0)"):(U.style.top="".concat(me,"px"),U.style.left="".concat(ie,"px")),U.style.width=ke-ie+"px",U.style.height=De-me+"px",U.style.overflow="visible",U.style.transition=null,U.style.removeProperty("transition"),U.style.pointerEvents="none",U.style.userSelect="none",oe.getOptions().dragClass?setTimeout(function(){Z(U.firstElementChild,oe.getOptions().dragClass);var ae=window.getComputedStyle(U.firstElementChild).cursor;Nt=ne(ae)}):Nt=ne(he),Z(U,oe.getOptions().orientation||"vertical"),Z(U,f),{ghost:U,centerDelta:{x:Ve-le,y:_-ge},positionDelta:{left:ie-le,top:me-ge},topLeft:{x:ie,y:me}}}(bt,{x:E.clientX,y:E.clientY},$e.container,O),$e.position={x:E.clientX+Te.centerDelta.x,y:E.clientY+Te.centerDelta.y},$e.mousePosition={x:E.clientX,y:E.clientY},Ze=ot.filter(function(L){return L.isDragRelevant($,$e.payload)}),$e.relevantContainers=Ze,Lt=xo(Ze),St&&St({reset:!0,draggableInfo:void 0}),St=Eo($,Ze),Ze.forEach(function(L){return L.prepareDrag(L,Ze)}),ar(!0),Lt($e),Jo().appendChild(Te.ghost),Yo.start()}}var Dn=null;function yn(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,$=2<arguments.length&&arguments[2]!==void 0&&arguments[2],L=Te,q=L.ghost,oe=L.topLeft,he=oe.x,le=oe.y,ge=!$e.container||$e.container.shouldUseTransformForGhost(),J=ge?"translate3d(".concat(he,"px,").concat(le,"px, 0)"):null;if(O!==1&&(J=J?"".concat(J," scale(").concat(O,")"):"scale(".concat(O,")")),0<E)return Te.ghost.style.transitionDuration=E+"ms",void requestAnimationFrame(function(){J&&(q.style.transform=J),ge||(q.style.left=he+"px",q.style.top=le+"px"),Dn=null,$&&(q.style.opacity="0")});Dn===null&&(Dn=requestAnimationFrame(function(){J&&(q.style.transform=J),ge||(q.style.left=he+"px",q.style.top=le+"px"),Dn=null,$&&(q.style.opacity="0")}))}function wi(){if(tt&&!Dt&&!Mt){Yt=!(Dt=!0);var E=Object.assign({},$e,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});Ze.forEach(function(O){O.handleDrag(E)}),$e.targetElement=null,$e.cancelDrop=!0,Qt(),Dt=!1}}typeof window<"u"&&function(){if(typeof window<"u"){var E=window.document.head||window.document.getElementsByTagName("head")[0],O=window.document.createElement("style");O.id="smooth-dnd-style-definitions";var $=re(Y);O.type="text/css",O.styleSheet?O.styleSheet.cssText=$:O.appendChild(window.document.createTextNode($)),E.appendChild(O)}}();var bn=(vi(),{register:function(E){(function(O){ot.push(O),tt&&$e&&O.isDragRelevant($e.container,$e.payload)&&(Ze.push(O),O.prepareDrag(O,Ze),St&&St({reset:!0,draggableInfo:void 0}),St=Eo(O,Ze),Lt=xo(Ze),O.handleDrag($e))})(E)},unregister:function(E){(function(O){if(ot.splice(ot.indexOf(O),1),tt&&$e){$e.container===O&&O.fireRemoveElement(),$e.targetElement===O.element&&($e.targetElement=null);var $=Ze.indexOf(O);-1<$&&(Ze.splice($,1),St&&St({reset:!0,draggableInfo:void 0}),St=Eo(O,Ze),Lt=xo(Ze))}})(E)},isDragging:function(){return tt},cancelDrag:wi});function cr(E,O){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:F.animationDuration;O?(Z(E,a),E.style.transitionDuration=$+"ms"):(Ce(E,a),E.style.removeProperty("transition-duration"))}function ur(E){var O=[];return Array.prototype.forEach.call(E.children,function($){if($.nodeType===Node.ELEMENT_NODE){var L=$;G($,s)||(L=function(q){if(It.wrapChild){var oe=window.document.createElement("div");return oe.className="".concat(s),q.parentElement.insertBefore(oe,q),oe.appendChild(q),oe}return q}($)),L[l]=0,O.push(L)}else E.removeChild($)}),O}function Ci(E){var O=E.layout;return function($,L){var q=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function oe(he,le,ge,J){var ie=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(J<ge)return ge;if(ge===J){var me=O.getBeginEnd(he[ge]),ke=me.begin,De=me.end;return ie?le<(De+ke)/2?ge:ge+1:ge}var Me=Math.floor((J+ge)/2),Ve=O.getBeginEnd(he[Me]),_=Ve.begin,U=Ve.end;return le<_?oe(he,le,ge,Me-1,ie):U<le?oe(he,le,Me+1,J,ie):ie?le<(U+_)/2?Me:Me+1:Me}($,L,0,$.length-1,q)}}function Si(E){var O=E.element,$=E.draggables,L=E.layout,q=E.getOptions,oe=function(le){var ge=le.element,J=le.draggables,ie=le.layout;return function(){J.forEach(function(me){cr(me,!1),ie.setTranslation(me,0),ie.setVisibility(me,!0)}),ge[v]&&(ge[v].parentNode.removeChild(ge[v]),ge[v]=null)}}({element:O,draggables:$,layout:L,getOptions:q}),he=(It.dropHandler||Be)({element:O,draggables:$,layout:L,getOptions:q});return function(le,ge){var J=ge.addedIndex,ie=ge.removedIndex,me=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(oe(),!le.cancelDrop&&(le.targetElement||q().removeOnDropOut||me)){var ke={removedIndex:ie,addedIndex:J!==null?ie!==null&&ie<J?J-1:J:null,payload:le.payload};he(ke,q().onDrop)}}}function dr(E){var O=E.element,$=E.getOptions,L=null;return function(q){var oe=q.draggableInfo,he=L;return L==null&&oe.container.element===O&&$().behaviour!=="copy"&&(he=L=oe.elementIndex),{removedIndex:he}}}function fr(E){var O=E.draggables,$=E.layout;return function(L){var q=L.dragResult;q.removedIndex!==null&&$.setVisibility(O[q.removedIndex],!1)}}function eo(E){var O=E.element,$=E.layout;return function(L){var q=L.draggableInfo,oe=document.elementFromPoint(q.position.x,q.position.y);if(oe){var he=ce(oe,q.relevantContainers);if(he&&he.element===O)return{pos:$.getPosition(q.position)}}return{pos:null}}}function hr(E){var O=E.layout,$=null;return function(L){var q=L.draggableInfo;return L.dragResult.pos===null?$=null:{elementSize:$=$||O.getSize(q.size)}}}function pr(E){var O=E.element;return function($){var L=$.draggableInfo,q=$.dragResult;(function(oe,he){var le=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];he&&le?oe.targetElement=he:oe.targetElement===he&&(oe.targetElement=null)})(L,O,!!q.pos)}}function Ii(){return function(E){return E.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function xi(E){var O=E.layout,$=null;return function(L){var q=L.dragResult.addedIndex;if(q===$)return null;$=q;var oe=O.getBeginEndOfContainer(),he=oe.begin;return oe.end,{shadowBeginEnd:{rect:O.getTopLeftOfElementBegin(he)}}}}function Ei(E){var O=E.layout,$=E.element,L=E.getOptions,q=null;return function(oe){var he=oe.dragResult,le=he.elementSize,ge=he.shadowBeginEnd,J=he.addedIndex,ie=he.dropPlaceholderContainer,me=L();if(me.dropPlaceholder){var ke=typeof me.dropPlaceholder=="boolean"?{}:me.dropPlaceholder,De=ke.animationDuration,Me=ke.className,Ve=ke.showOnTop;if(J===null)return ie&&q!==null&&$.removeChild(ie),q=null,{dropPlaceholderContainer:void 0};if(!ie){var _=document.createElement("div"),U=document.createElement("div");U.className=A,_.className="".concat(P," ").concat(Me||x),(ie=document.createElement("div")).className="".concat(k),ie.style.position="absolute",De!==void 0&&(ie.style.transition="all ".concat(De,"ms ease")),ie.appendChild(U),U.appendChild(_),O.setSize(ie.style,le+"px"),ie.style.pointerEvents="none",Ve?$.appendChild(ie):$.insertBefore(ie,$.firstElementChild)}return q!==J&&ge.dropArea&&O.setBegin(ie.style,ge.dropArea.begin-O.getBeginEndOfContainer().begin+"px"),q=J,{dropPlaceholderContainer:ie}}return null}}function Oi(E){var O=zn(E);return function($){var L=$.draggableInfo,q=$.dragResult;return L.invalidateShadow?O({draggableInfo:L,dragResult:q}):null}}function ki(E){var O=function($){var L=$.draggables,q=Ci({layout:$.layout});return function(oe){var he=oe.dragResult,le=he.shadowBeginEnd,ge=he.pos;if(le)return le.begin+le.beginAdjustment<=ge&&le.end>=ge?null:ge<le.begin+le.beginAdjustment?q(L,ge):ge>le.end?q(L,ge)+1:L.length;var J=q(L,ge,!0);return J!==null?J:L.length}}(E);return function($){var L=$.dragResult,q=null;return L.pos!==null&&(q=O({dragResult:L}))===null&&(q=L.addedIndex),{addedIndex:q}}}function mr(){var E=null;return function(O){var $=O.dragResult,L=$.addedIndex,q=$.shadowBeginEnd;L!==E&&E!==null&&q&&(q.beginAdjustment=0),E=L}}function Pi(E){var O=E.element,$=E.draggables,L=E.layout,q=E.getOptions,oe=null;return function(he){var le=he.dragResult,ge=le.addedIndex,J=le.removedIndex,ie=le.elementSize;if(J===null){if(ge!==null){if(!oe){var me=L.getBeginEndOfContainer();me.end=me.begin+L.getSize(O);var ke=L.getScrollSize(O)>L.getSize(O)?me.begin+L.getScrollSize(O)-L.getScrollValue(O):me.end,De=0<$.length?L.getBeginEnd($[$.length-1]).end-$[$.length-1][l]:me.begin;if(ke<De+ie){(oe=window.document.createElement("div")).className=d+" "+q().orientation;var Me=0<$.length?ie+De-ke:ie;return L.setSize(oe.style,"".concat(Me,"px")),O.appendChild(oe),O[v]=oe,{containerBoxChanged:!0}}}}else if(oe){L.setTranslation(oe,0);var Ve=oe;return oe=null,O.removeChild(Ve),{containerBoxChanged:!(O[v]=null)}}}}}function gr(E){var O=E.draggables,$=E.layout,L=null,q=null;return function(oe){var he=oe.dragResult,le=he.addedIndex,ge=he.removedIndex,J=he.elementSize;if(le!==L||ge!==q){for(var ie=0;ie<O.length;ie++)if(ie!==ge){var me=O[ie],ke=0;ge!==null&&ge<ie&&(ke-=J),le!==null&&le<=ie&&(ke+=J),$.setTranslation(me,ke)}return{addedIndex:L=le,removedIndex:q=ge}}}}function zn(E){var O=E.draggables,$=E.layout,L=null;return function(q){var oe=q.draggableInfo,he=q.dragResult,le=he.addedIndex,ge=he.removedIndex,J=he.elementSize,ie=he.pos,me=he.shadowBeginEnd;if(ie===null)return{shadowBeginEnd:L=null};if(le===null||!oe.invalidateShadow&&le===L)return null;var ke=le-1,De=Number.MIN_SAFE_INTEGER,Me=0,Ve=0,_=null,U=null;if(ke===ge&&ke--,-1<ke){var ae=$.getSize(O[ke]);if(U=$.getBeginEnd(O[ke]),J<ae){var Ae=(ae-J)/2;De=U.end-Ae}else De=U.end;Me=U.end}else U={end:$.getBeginEndOfContainer().begin},Me=$.getBeginEndOfContainer().begin;var ut=Number.MAX_SAFE_INTEGER,vt=le;if(vt===ge&&vt++,vt<O.length){var $t=$.getSize(O[vt]);if(_=$.getBeginEnd(O[vt]),J<$t){var kt=($t-J)/2;ut=_.begin+kt}else ut=_.begin;Ve=_.begin}else _={begin:$.getContainerRectangles().rect.end},Ve=$.getContainerRectangles().rect.end-$.getContainerRectangles().rect.begin;var br=U&&_?$.getTopLeftOfElementBegin(U.end):null;return L=le,{shadowBeginEnd:{dropArea:{begin:Me,end:Ve},begin:De,end:ut,rect:br,beginAdjustment:me?me.beginAdjustment:0}}}}function _n(){var E=null;return function(O){var $=O.dragResult,L=$.pos,q=$.addedIndex,oe=$.shadowBeginEnd;if(L!==null){if(q!=null&&E===null){if(L<oe.begin){var he=L-oe.begin-5;oe.beginAdjustment=he}E=q}}else E=null}}function Oo(E){var O=E.getOptions,$=!1,L=O();return function(q){var oe=!!q.dragResult.pos;oe!==$&&(($=oe)?L.onDragEnter&&L.onDragEnter():L.onDragLeave&&L.onDragLeave())}}function en(E){var O=E.getOptions,$=null,L=O();return function(q){var oe=q.dragResult,he=oe.addedIndex,le=oe.removedIndex,ge=q.draggableInfo,J=ge.payload,ie=ge.element;if(L.onDropReady&&he!==null&&$!==he){var me=$=he;le!==null&&le<he&&me--,L.onDropReady({addedIndex:me,removedIndex:le,payload:J,element:ie?ie.firstElementChild:void 0})}}}function vr(E){return E.getOptions().behaviour==="drop-zone"?yr(E)(dr,fr,eo,hr,pr,Ii,xi,Oo,en):yr(E)(dr,fr,eo,hr,pr,Oi,ki,mr,Pi,gr,zn,Ei,_n,Oo,en)}function yr(E){return function(){for(var O=arguments.length,$=new Array(O),L=0;L<O;L++)$[L]=arguments[L];var q=$.map(function(he){return he(E)}),oe=null;return function(he){return oe=q.reduce(function(le,ge){return Object.assign(le,ge({draggableInfo:he,dragResult:le}))},oe||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function $i(E){return function(O){var $=Object.assign({},F,O),L=null,q=null,oe=function(ke,De){var Me=ur(ke),Ve=De();return Z(ke,"".concat(m," ").concat(Ve.orientation)),{element:ke,draggables:Me,getOptions:De,layout:j(ke,Ve.orientation,Ve.animationDuration)}}(E,me),he=vr(oe),le=Si(oe),ge=function(ke,De){var Me=[];function Ve(){Me&&(Me.forEach(function(_){return _.removeEventListener("scroll",De)}),window.removeEventListener("scroll",De))}return function(){for(var _=ke;_;)(H(_,"x")||H(_,"y"))&&Me.push(_),_=_.parentElement}(),{dispose:function(){Ve(),Me=null},start:function(){Me&&(Me.forEach(function(_){return _.addEventListener("scroll",De)}),window.addEventListener("scroll",De))},stop:Ve}}(E,function(){oe.layout.invalidateRects(),J()});function J(){q!==null&&(q.invalidateShadow=!0,L=he(q),q.invalidateShadow=!1)}function ie(ke,De){for(var Me=ur(De),Ve=0;Ve<Me.length;Ve++)ke[Ve]=Me[Ve];for(var _=0;_<ke.length-Me.length;_++)ke.pop()}function me(){return $}return{element:E,draggables:oe.draggables,isDragRelevant:function(ke){var De=ke.element,Me=ke.getOptions;return function(Ve,_){var U=Me();if(U.shouldAcceptDrop)return U.shouldAcceptDrop(Ve.getOptions(),_);var ae=Ve.getOptions();return U.behaviour!=="copy"&&fe(De,"."+s)!==Ve.element&&(Ve.element===De||!(!ae.groupName||ae.groupName!==U.groupName))}}(oe),layout:oe.layout,dispose:function(ke){ge.dispose(),function(De){It.wrapChild&&Array.prototype.forEach.call(De.children,function(Me){Me.nodeType===Node.ELEMENT_NODE&&G(Me,s)&&(De.insertBefore(Me.firstElementChild,Me),De.removeChild(Me))})}(ke.element)},prepareDrag:function(ke,De){var Me=ke.element,Ve=oe.draggables;ie(Ve,Me),ke.layout.invalidateRects(),Ve.forEach(function(_){return cr(_,!0,me().animationDuration)}),ge.start()},handleDrag:function(ke){return L=he(q=ke)},handleDrop:function(ke){ge.stop(),L&&L.dropPlaceholderContainer&&E.removeChild(L.dropPlaceholderContainer),q=null,he=vr(oe),le(ke,L),L=null},fireRemoveElement:function(){le(q,Object.assign({},L,{addedIndex:null}),!0),L=null},getDragResult:function(){return L},getTranslateCalculator:function(ke){return gr(oe)(ke)},onTranslated:function(){J()},setDraggables:function(){ie(oe.draggables,E)},getScrollMaxSpeed:function(){return It.maxScrollSpeed},shouldUseTransformForGhost:function(){return It.useTransformForGhost===!0},getOptions:me,setOptions:function(ke){var De=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];$=De===!1?Object.assign({},F,ke):Object.assign({},F,$,ke)}}}}var It=function(E,O){var $=$i(E)(O);return E[i]=$,bn.register($),{dispose:function(){bn.unregister($),$.dispose($)},setOptions:function(L,q){$.setOptions(L,q)}}};function to(E,O,$){Object.defineProperty(E,$,{set:function(L){O[$]=L},get:function(){return O[$]}})}It.wrapChild=!0,It.cancelDrag=function(){bn.cancelDrag()},It.isDragging=function(){return bn.isDragging()};function ln(E,O){return console.warn('default export is deprecated. please use named export "smoothDnD"'),It(E,O)}ln.cancelDrag=function(){It.cancelDrag()},ln.isDragging=function(){return It.isDragging()},to(ln,It,"useTransformForGhost"),to(ln,It,"maxScrollSpeed"),to(ln,It,"wrapChild"),to(ln,It,"dropHandler"),n.smoothDnD=It,n.constants=X,n.dropHandlers=Ge,n.default=ln,Object.defineProperty(n,"__esModule",{value:!0})})})(ts,ts.exports);var qo=ts.exports;const Gf=function(e){return Array.isArray(e)};function Yl(e){return e?typeof e=="string"||typeof e=="object"&&(typeof e.value=="string"||typeof e.value=="function"||typeof e.value=="object"):!0}function Jl(e,t){const n=e.$props.tag;if(n){if(typeof n=="string"){const o={value:n};return t&&(o.props={class:t}),o}else if(typeof n=="object"){const o={value:n.value||"div",props:n.props||{}};return t&&(o.props.class?Gf(o.props.class)?o.props.class.push(t):o.props.class=[t,o.props.class]:o.props.class=t),o}}return{value:"div"}}qo.smoothDnD.dropHandler=qo.dropHandlers.reactDropHandler().handler;qo.smoothDnD.wrapChild=!1;const Ta={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var Ql=xe({name:"Container",mounted(){const e=Object.assign({},this.$props);for(const t in Ta)e[Ta[t]]=n=>{this.$emit(t,n)};this.containerElement=this.$refs.container||this.$el,this.container=qo.smoothDnD(this.containerElement,e)},unmounted(){this.container&&this.container.dispose()},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},behaviour:String,groupName:String,orientation:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,animationDuration:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:Yl,default:"div"}},render(){const e=Jl(this);return $s(e.value,Object.assign({},{ref:"container"},e.props),this.$slots.default())}}),Kf=xe({name:"Draggable",props:{tag:{validator:Yl,default:"div"}},render:function(){const e=Jl(this,qo.constants.wrapperClass);return $s(e.value,Object.assign({},e.props),this.$slots.default())}});const Xf=xe({name:"BuilderEditableLabel",props:{modelValue:{type:String,default:"node"}},setup(e,{emit:t}){const n=Ue(!0),o=Ue();function r(){n.value=!1,ei(()=>{o.value&&(o.value.focus(),o.value.select())})}function i(s){const{value:a}=s.target;t("update:modelValue",a)}return{isReadOnly:n,inputRef:o,onFocus:r,onInput:i}}});const Oe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Yf={class:"builder-editable-label"},Jf=["value"];function Qf(e,t,n,o,r,i){return K(),de("div",Yf,[ye("div",{tabindex:0,class:Ye([{"builder-editable-label__read-only--hidden":!e.isReadOnly},"builder-editable-label__read-only"]),onFocus:t[0]||(t[0]=(...s)=>e.onFocus&&e.onFocus(...s))},dt(e.modelValue),35),e.isReadOnly?pt("",!0):(K(),de("input",{key:0,class:"builder-editable-label__textbox",type:"text",ref:"inputRef",value:e.modelValue,onInput:t[1]||(t[1]=(...s)=>e.onInput&&e.onInput(...s)),onBlur:t[2]||(t[2]=s=>e.isReadOnly=!0)},null,40,Jf)),ft(e.$slots,"default")])}const ec=Oe(Xf,[["render",Qf]]),eh=xe({name:"PortHandle",props:{active:{type:Boolean,default:!1},hue:{type:Number,default:0}},setup(e){return{backgroundColor:nt(()=>e.hue>0?`hsla(${e.hue}, var(--lightness), var(--saturation), 0.8)`:"var(--color-bg-secondary)")}}});const th={class:"port-handle"};function nh(e,t,n,o,r,i){return K(),de("div",th,[ye("div",{class:Ye(["port-handle__display",{"port-handle__display--active":e.active}])},[ye("div",{class:"port-handle__hue",style:at({backgroundColor:e.backgroundColor})},null,4)],2)])}const Ms=Oe(eh,[["render",nh]]),oh=xe({name:"PortWire",props:{type:{type:String,default:"top"}}});const rh={class:"port-wire__port"};function ih(e,t,n,o,r,i){return K(),de("div",{class:Ye(`port-wire port-wire--${e.type}`)},[ye("div",{class:Ye(`port-wire__connector port-wire__connector--${e.type}`)},null,2),ye("div",rh,[ft(e.$slots,"default")])],2)}const tc=Oe(oh,[["render",ih]]),sh=xe({name:"BuilderDropZone",components:{BuilderEditableLabel:ec,Container:Ql,Draggable:Kf,PortHandle:Ms,PortWire:tc},emits:{drop:(e,t)=>!!(e&&t)},props:{ports:{type:Array,default:()=>[]},getChildPayload:{type:Function,required:!0},type:{type:String,required:!0}},computed:{orientation(){return["left","right"].includes(this.type)?"vertical":"horizontal"}},setup(e,{emit:t}){const n=/--([a-z]+)/ig;let o="";function r(u){document.querySelectorAll(".smooth-dnd-ghost, .smooth-dnd-ghost div").forEach(f=>{const m=f.className.match(n);m&&(o=m.pop()||""),f.className=f.className.replace(n,u)})}function i(){r(`--${e.type}`)}function s(){r(o)}function a(u){t("drop",e.type,u)}function l(){return document.querySelector(".modal")}return{onDragEnter:i,onDragLeave:s,onDrop:a,getGhostParent:l}}});function ah(e,t,n,o,r,i){const s=we("port-handle"),a=we("port-wire"),l=we("builder-editable-label"),u=we("Draggable"),f=we("Container");return K(),Fe(f,{orientation:e.orientation,"animation-duration":500,"group-name":e.type,class:Ye(`builder-drop-zone builder-drop-zone--${e.orientation}`),onDrop:e.onDrop,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,"should-accept-drop":()=>!0,"get-child-payload":e.getChildPayload,"get-ghost-parent":e.getGhostParent},{default:je(()=>[(K(!0),de(et,null,wt(e.ports,m=>(K(),Fe(u,{key:m.id,tag:{value:"div",props:{class:`builder-drop-zone__io builder-drop-zone__io--${e.type}`}}},{default:je(()=>[ue(l,{modelValue:m.name,"onUpdate:modelValue":y=>m.name=y},{default:je(()=>[ue(a,{type:e.type},{default:je(()=>[ue(s)]),_:1},8,["type"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["tag"]))),128))]),_:1},8,["orientation","group-name","class","onDrop","onDragEnter","onDragLeave","get-child-payload","get-ghost-parent"])}const lh=Oe(sh,[["render",ah]]);var yt=(e=>(e[e.Output=0]="Output",e[e.Input=1]="Input",e))(yt||{});const ch=(e,t)=>{const{removedIndex:n,addedIndex:o,payload:r}=t;if(n===null&&o===null)return e;const i=[...e];let s=r;return n!==null&&(s=i.splice(n,1)[0]),o!==null&&i.splice(o,0,s),i},uh=xe({name:"Builder",components:{BuilderDropZone:lh,BuilderEditableLabel:ec,Container:Ql},emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0}},setup(e,{emit:t}){const n=Ue({left:{children:[]},top:{children:[]},right:{children:[]},bottom:{children:[]}});e.modelValue.portIds.forEach(s=>{var l;const a=(l=e.modelValue.integratedCircuit)==null?void 0:l.ports[s];a&&n.value[a.type===yt.Input?"left":"right"].children.push(a)});function o(){const s=["left","top","right","bottom"];e.modelValue.portIds=[],Object.keys(n.value).forEach(a=>{const l=a,{children:u}=n.value[l];u.forEach(f=>{f.orientation=s.indexOf(l),e.modelValue.portIds.push(f.id)})}),t("update:modelValue",e.modelValue)}function r(s,a){const l=Object.assign({},n.value[s]);n.value[s].children=ch(l.children,a),o()}function i(s){return a=>n.value[s].children[a]}return{item:e.modelValue,ports:n,onWireDrop:r,getCardPayload:i}}});const dh={class:"builder__center"};function fh(e,t,n,o,r,i){const s=we("builder-drop-zone"),a=we("builder-editable-label"),l=we("container");return K(),Fe(l,{class:"builder"},{default:je(()=>[ue(s,{type:"top","get-child-payload":e.getCardPayload("top"),ports:e.ports.top.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),ye("div",dh,[ue(s,{type:"left","get-child-payload":e.getCardPayload("left"),ports:e.ports.left.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"]),ue(a,{modelValue:e.item.name,"onUpdate:modelValue":t[0]||(t[0]=u=>e.item.name=u)},null,8,["modelValue"]),ue(s,{type:"right","get-child-payload":e.getCardPayload("right"),ports:e.ports.right.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),ue(s,{type:"bottom","get-child-payload":e.getCardPayload("bottom"),ports:e.ports.bottom.children,onDrop:e.onWireDrop},null,8,["get-child-payload","ports","onDrop"])]),_:1})}const hh=Oe(uh,[["render",fh]]);var Ur={exports:{}};Ur.exports;(function(e,t){var n=200,o="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",f="[object Function]",m="[object GeneratorFunction]",y="[object Map]",d="[object Number]",v="[object Object]",h="[object Promise]",g="[object RegExp]",w="[object Set]",x="[object String]",P="[object Symbol]",k="[object WeakMap]",A="[object ArrayBuffer]",X="[object DataView]",F="[object Float32Array]",N="[object Float64Array]",D="[object Int8Array]",M="[object Int16Array]",se="[object Int32Array]",S="[object Uint8Array]",H="[object Uint8ClampedArray]",p="[object Uint16Array]",ee="[object Uint32Array]",ve=/[\\^$.*+?()[\]{}|]/g,Q=/\w*$/,Se=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,fe={};fe[i]=fe[s]=fe[A]=fe[X]=fe[a]=fe[l]=fe[F]=fe[N]=fe[D]=fe[M]=fe[se]=fe[y]=fe[d]=fe[v]=fe[g]=fe[w]=fe[x]=fe[P]=fe[S]=fe[H]=fe[p]=fe[ee]=!0,fe[u]=fe[f]=fe[k]=!1;var G=typeof dn=="object"&&dn&&dn.Object===Object&&dn,Z=typeof self=="object"&&self&&self.Object===Object&&self,Ce=G||Z||Function("return this")(),_e=t&&!t.nodeType&&t,te=_e&&!0&&e&&!e.nodeType&&e,Ee=te&&te.exports===_e;function Re(_,U){return _.set(U[0],U[1]),_}function Ie(_,U){return _.add(U),_}function Be(_,U){for(var ae=-1,Ae=_?_.length:0;++ae<Ae&&U(_[ae],ae,_)!==!1;);return _}function Ge(_,U){for(var ae=-1,Ae=U.length,ut=_.length;++ae<Ae;)_[ut+ae]=U[ae];return _}function Xe(_,U,ae,Ae){var ut=-1,vt=_?_.length:0;for(Ae&&vt&&(ae=_[++ut]);++ut<vt;)ae=U(ae,_[ut],ut,_);return ae}function T(_,U){for(var ae=-1,Ae=Array(_);++ae<_;)Ae[ae]=U(ae);return Ae}function j(_,U){return _==null?void 0:_[U]}function c(_){var U=!1;if(_!=null&&typeof _.toString!="function")try{U=!!(_+"")}catch{}return U}function B(_){var U=-1,ae=Array(_.size);return _.forEach(function(Ae,ut){ae[++U]=[ut,Ae]}),ae}function z(_,U){return function(ae){return _(U(ae))}}function C(_){var U=-1,ae=Array(_.size);return _.forEach(function(Ae){ae[++U]=Ae}),ae}var b=Array.prototype,I=Function.prototype,W=Object.prototype,V=Ce["__core-js_shared__"],R=function(){var _=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),Y=I.toString,re=W.hasOwnProperty,ne=W.toString,pe=RegExp("^"+Y.call(re).replace(ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=Ee?Ce.Buffer:void 0,Pe=Ce.Symbol,We=Ce.Uint8Array,ct=z(Object.getPrototypeOf,Object),Ze=Object.create,bt=W.propertyIsEnumerable,Te=b.splice,$e=Object.getOwnPropertySymbols,ot=ze?ze.isBuffer:void 0,tt=z(Object.keys,Object),Dt=_n(Ce,"DataView"),Mt=_n(Ce,"Map"),Yt=_n(Ce,"Promise"),Lt=_n(Ce,"Set"),St=_n(Ce,"WeakMap"),Et=_n(Object,"create"),Nt=O(Dt),Yo=O(Mt),gi=O(Yt),vi=O(Lt),Jo=O(St),gn=Pe?Pe.prototype:void 0,Xn=gn?gn.valueOf:void 0;function Jt(_){var U=-1,ae=_?_.length:0;for(this.clear();++U<ae;){var Ae=_[U];this.set(Ae[0],Ae[1])}}function Yn(){this.__data__=Et?Et(null):{}}function So(_){return this.has(_)&&delete this.__data__[_]}function Io(_){var U=this.__data__;if(Et){var ae=U[_];return ae===o?void 0:ae}return re.call(U,_)?U[_]:void 0}function yi(_){var U=this.__data__;return Et?U[_]!==void 0:re.call(U,_)}function Qo(_,U){var ae=this.__data__;return ae[_]=Et&&U===void 0?o:U,this}Jt.prototype.clear=Yn,Jt.prototype.delete=So,Jt.prototype.get=Io,Jt.prototype.has=yi,Jt.prototype.set=Qo;function Rt(_){var U=-1,ae=_?_.length:0;for(this.clear();++U<ae;){var Ae=_[U];this.set(Ae[0],Ae[1])}}function er(){this.__data__=[]}function Jn(_){var U=this.__data__,ae=yn(U,_);if(ae<0)return!1;var Ae=U.length-1;return ae==Ae?U.pop():Te.call(U,ae,1),!0}function tr(_){var U=this.__data__,ae=yn(U,_);return ae<0?void 0:U[ae][1]}function bi(_){return yn(this.__data__,_)>-1}function nr(_,U){var ae=this.__data__,Ae=yn(ae,_);return Ae<0?ae.push([_,U]):ae[Ae][1]=U,this}Rt.prototype.clear=er,Rt.prototype.delete=Jn,Rt.prototype.get=tr,Rt.prototype.has=bi,Rt.prototype.set=nr;function Ft(_){var U=-1,ae=_?_.length:0;for(this.clear();++U<ae;){var Ae=_[U];this.set(Ae[0],Ae[1])}}function or(){this.__data__={hash:new Jt,map:new(Mt||Rt),string:new Jt}}function rr(_){return zn(this,_).delete(_)}function vn(_){return zn(this,_).get(_)}function _i(_){return zn(this,_).has(_)}function ir(_,U){return zn(this,_).set(_,U),this}Ft.prototype.clear=or,Ft.prototype.delete=rr,Ft.prototype.get=vn,Ft.prototype.has=_i,Ft.prototype.set=ir;function Qt(_){this.__data__=new Rt(_)}function Qn(){this.__data__=new Rt}function sr(_){return this.__data__.delete(_)}function xo(_){return this.__data__.get(_)}function Eo(_){return this.__data__.has(_)}function ar(_,U){var ae=this.__data__;if(ae instanceof Rt){var Ae=ae.__data__;if(!Mt||Ae.length<n-1)return Ae.push([_,U]),this;ae=this.__data__=new Ft(Ae)}return ae.set(_,U),this}Qt.prototype.clear=Qn,Qt.prototype.delete=sr,Qt.prototype.get=xo,Qt.prototype.has=Eo,Qt.prototype.set=ar;function lr(_,U){var ae=oe(_)||q(_)?T(_.length,String):[],Ae=ae.length,ut=!!Ae;for(var vt in _)(U||re.call(_,vt))&&!(ut&&(vt=="length"||It(vt,Ae)))&&ae.push(vt);return ae}function Dn(_,U,ae){var Ae=_[U];(!(re.call(_,U)&&L(Ae,ae))||ae===void 0&&!(U in _))&&(_[U]=ae)}function yn(_,U){for(var ae=_.length;ae--;)if(L(_[ae][0],U))return ae;return-1}function wi(_,U){return _&&mr(U,De(U),_)}function bn(_,U,ae,Ae,ut,vt,$t){var kt;if(Ae&&(kt=vt?Ae(_,ut,vt,$t):Ae(_)),kt!==void 0)return kt;if(!me(_))return _;var br=oe(_);if(br){if(kt=vr(_),!U)return ki(_,kt)}else{var no=en(_),Us=no==f||no==m;if(ge(_))return fr(_,U);if(no==v||no==i||Us&&!vt){if(c(_))return vt?_:{};if(kt=yr(Us?{}:_),!U)return Pi(_,wi(kt,_))}else{if(!fe[no])return vt?_:{};kt=$i(_,no,bn,U)}}$t||($t=new Qt);var Hs=$t.get(_);if(Hs)return Hs;if($t.set(_,kt),!br)var Ws=ae?gr(_):De(_);return Be(Ws||_,function(Ai,_r){Ws&&(_r=Ai,Ai=_[_r]),Dn(kt,_r,bn(Ai,U,ae,Ae,_r,_,$t))}),kt}function cr(_){return me(_)?Ze(_):{}}function ur(_,U,ae){var Ae=U(_);return oe(_)?Ae:Ge(Ae,ae(_))}function Ci(_){return ne.call(_)}function Si(_){if(!me(_)||ln(_))return!1;var U=J(_)||c(_)?pe:Se;return U.test(O(_))}function dr(_){if(!E(_))return tt(_);var U=[];for(var ae in Object(_))re.call(_,ae)&&ae!="constructor"&&U.push(ae);return U}function fr(_,U){if(U)return _.slice();var ae=new _.constructor(_.length);return _.copy(ae),ae}function eo(_){var U=new _.constructor(_.byteLength);return new We(U).set(new We(_)),U}function hr(_,U){var ae=U?eo(_.buffer):_.buffer;return new _.constructor(ae,_.byteOffset,_.byteLength)}function pr(_,U,ae){var Ae=U?ae(B(_),!0):B(_);return Xe(Ae,Re,new _.constructor)}function Ii(_){var U=new _.constructor(_.source,Q.exec(_));return U.lastIndex=_.lastIndex,U}function xi(_,U,ae){var Ae=U?ae(C(_),!0):C(_);return Xe(Ae,Ie,new _.constructor)}function Ei(_){return Xn?Object(Xn.call(_)):{}}function Oi(_,U){var ae=U?eo(_.buffer):_.buffer;return new _.constructor(ae,_.byteOffset,_.length)}function ki(_,U){var ae=-1,Ae=_.length;for(U||(U=Array(Ae));++ae<Ae;)U[ae]=_[ae];return U}function mr(_,U,ae,Ae){ae||(ae={});for(var ut=-1,vt=U.length;++ut<vt;){var $t=U[ut],kt=Ae?Ae(ae[$t],_[$t],$t,ae,_):void 0;Dn(ae,$t,kt===void 0?_[$t]:kt)}return ae}function Pi(_,U){return mr(_,Oo(_),U)}function gr(_){return ur(_,De,Oo)}function zn(_,U){var ae=_.__data__;return to(U)?ae[typeof U=="string"?"string":"hash"]:ae.map}function _n(_,U){var ae=j(_,U);return Si(ae)?ae:void 0}var Oo=$e?z($e,Object):Me,en=Ci;(Dt&&en(new Dt(new ArrayBuffer(1)))!=X||Mt&&en(new Mt)!=y||Yt&&en(Yt.resolve())!=h||Lt&&en(new Lt)!=w||St&&en(new St)!=k)&&(en=function(_){var U=ne.call(_),ae=U==v?_.constructor:void 0,Ae=ae?O(ae):void 0;if(Ae)switch(Ae){case Nt:return X;case Yo:return y;case gi:return h;case vi:return w;case Jo:return k}return U});function vr(_){var U=_.length,ae=_.constructor(U);return U&&typeof _[0]=="string"&&re.call(_,"index")&&(ae.index=_.index,ae.input=_.input),ae}function yr(_){return typeof _.constructor=="function"&&!E(_)?cr(ct(_)):{}}function $i(_,U,ae,Ae){var ut=_.constructor;switch(U){case A:return eo(_);case a:case l:return new ut(+_);case X:return hr(_,Ae);case F:case N:case D:case M:case se:case S:case H:case p:case ee:return Oi(_,Ae);case y:return pr(_,Ae,ae);case d:case x:return new ut(_);case g:return Ii(_);case w:return xi(_,Ae,ae);case P:return Ei(_)}}function It(_,U){return U=U??r,!!U&&(typeof _=="number"||ce.test(_))&&_>-1&&_%1==0&&_<U}function to(_){var U=typeof _;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?_!=="__proto__":_===null}function ln(_){return!!R&&R in _}function E(_){var U=_&&_.constructor,ae=typeof U=="function"&&U.prototype||W;return _===ae}function O(_){if(_!=null){try{return Y.call(_)}catch{}try{return _+""}catch{}}return""}function $(_){return bn(_,!0,!0)}function L(_,U){return _===U||_!==_&&U!==U}function q(_){return le(_)&&re.call(_,"callee")&&(!bt.call(_,"callee")||ne.call(_)==i)}var oe=Array.isArray;function he(_){return _!=null&&ie(_.length)&&!J(_)}function le(_){return ke(_)&&he(_)}var ge=ot||Ve;function J(_){var U=me(_)?ne.call(_):"";return U==f||U==m}function ie(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=r}function me(_){var U=typeof _;return!!_&&(U=="object"||U=="function")}function ke(_){return!!_&&typeof _=="object"}function De(_){return he(_)?lr(_):dr(_)}function Me(){return[]}function Ve(){return!1}e.exports=$})(Ur,Ur.exports);var ph=Ur.exports;const Zt=Ts(ph);let kr;const mh=new Uint8Array(16);function gh(){if(!kr&&(kr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kr(mh)}const Ot=[];for(let e=0;e<256;++e)Ot.push((e+256).toString(16).slice(1));function vh(e,t=0){return(Ot[e[t+0]]+Ot[e[t+1]]+Ot[e[t+2]]+Ot[e[t+3]]+"-"+Ot[e[t+4]]+Ot[e[t+5]]+"-"+Ot[e[t+6]]+Ot[e[t+7]]+"-"+Ot[e[t+8]]+Ot[e[t+9]]+"-"+Ot[e[t+10]]+Ot[e[t+11]]+Ot[e[t+12]]+Ot[e[t+13]]+Ot[e[t+14]]+Ot[e[t+15]]).toLowerCase()}const yh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ma={randomUUID:yh};function it(e,t,n){if(Ma.randomUUID&&!t&&!e)return Ma.randomUUID();e=e||{};const o=e.random||(e.rng||gh)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=o[r];return t}return vh(o)}var rt=(e=>(e.Buffer="Buffer",e.CircuitNode="CircuitNode",e.Freeport="Freeport",e.InputNode="InputNode",e.IntegratedCircuit="IntegratedCircuit",e.LogicGate="LogicGate",e.OutputNode="OutputNode",e))(rt||{}),Ne=(e=>(e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom",e))(Ne||{});function wo(e,t,n,o,r,i){return{id:e,name:"",type:t,subtype:n,portIds:Object.values(i||{}).reduce((s,a)=>s.concat(a.map(({id:l})=>l)),[]),groupId:null,rotation:0,boundingBox:{top:0,left:0,right:o,bottom:r},position:{x:0,y:0},zIndex:0,width:o,height:r,isSelected:!1,properties:{name:{type:"text",label:"Name",value:""}}}}var Je=(e=>(e.None="None",e.CustomCircuit="CustomCircuit",e.Switch="Switch",e.PushButton="PushButton",e.Clock="Clock",e.Lightbulb="Lightbulb",e.DigitDisplay="DigitDisplay",e.Buffer="Buffer",e.Not="Not",e.Tristate="Tristate",e.And="And",e.Or="Or",e.Nand="Nand",e.Nor="Nor",e.Xnor="Xnor",e.Xor="Xor",e))(Je||{});function nc(e,t,n,o,r=Je.CustomCircuit){const{ports:i,items:s,connections:a,groups:l}=Zt(e),u=wo(it(),rt.IntegratedCircuit,r,n,o);return Object.values(s).forEach(f=>{const m=f.portIds.map(h=>i[h]);let y=0;const d=m.reduce((h,g)=>h===void 0||h===g.type?g.type:null,void 0);if(typeof d!="number")return;const v=d===yt.Input?Ne.Right:Ne.Left;m.filter(h=>h.type===d).forEach(h=>{var x;const g=it(),w=((x=f.properties.name)==null?void 0:x.value)||f.name;i[g]={...Zt(h),type:d===yt.Input?yt.Output:yt.Input,name:m.length>1?`${w} ${y++}`:w,id:g,elementId:f.id,orientation:v,value:0},f.portIds.push(g),u.portIds.push(g)}),f.type=rt.Buffer}),u.name=t,u.integratedCircuit={items:s,connections:a,ports:i,groups:l,serializedState:JSON.stringify({items:e.items,connections:e.connections,ports:e.ports,groups:e.groups})},u}function Pr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oc={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(o,r,i){function s(u,f){if(!r[u]){if(!o[u]){var m=typeof Pr=="function"&&Pr;if(!f&&m)return m(u,!0);if(a)return a(u,!0);var y=new Error("Cannot find module '"+u+"'");throw y.code="MODULE_NOT_FOUND",y}var d=r[u]={exports:{}};o[u][0].call(d.exports,function(v){var h=o[u][1][v];return s(h||v)},d,d.exports,n,o,r,i)}return r[u].exports}for(var a=typeof Pr=="function"&&Pr,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(n,o,r){var i=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,f,m,y,d,v,h,g=[],w=0,x=l.length,P=x,k=i.getTypeOf(l)!=="string";w<l.length;)P=x-w,m=k?(u=l[w++],f=w<x?l[w++]:0,w<x?l[w++]:0):(u=l.charCodeAt(w++),f=w<x?l.charCodeAt(w++):0,w<x?l.charCodeAt(w++):0),y=u>>2,d=(3&u)<<4|f>>4,v=1<P?(15&f)<<2|m>>6:64,h=2<P?63&m:64,g.push(a.charAt(y)+a.charAt(d)+a.charAt(v)+a.charAt(h));return g.join("")},r.decode=function(l){var u,f,m,y,d,v,h=0,g=0,w="data:";if(l.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var x,P=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&P--,l.charAt(l.length-2)===a.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=s.uint8array?new Uint8Array(0|P):new Array(0|P);h<l.length;)u=a.indexOf(l.charAt(h++))<<2|(y=a.indexOf(l.charAt(h++)))>>4,f=(15&y)<<4|(d=a.indexOf(l.charAt(h++)))>>2,m=(3&d)<<6|(v=a.indexOf(l.charAt(h++))),x[g++]=u,d!==64&&(x[g++]=f),v!==64&&(x[g++]=m);return x}},{"./support":30,"./utils":32}],2:[function(n,o,r){var i=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(f,m,y,d,v){this.compressedSize=f,this.uncompressedSize=m,this.crc32=y,this.compression=d,this.compressedContent=v}u.prototype={getContentWorker:function(){var f=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,m,y){return f.pipe(new a).pipe(new l("uncompressedSize")).pipe(m.compressWorker(y)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},o.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,r){var i=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,r){var i=n("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();o.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(u,f,m,y){var d=s,v=y+m;u^=-1;for(var h=y;h<v;h++)u=u>>>8^d[255&(u^f[h])];return-1^u}(0|l,a,a.length,0):function(u,f,m,y){var d=s,v=y+m;u^=-1;for(var h=y;h<v;h++)u=u>>>8^d[255&(u^f.charCodeAt(h))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,o,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,o,r){var i=null;i=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:i}},{lie:37}],7:[function(n,o,r){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=i?"uint8array":"array";function f(m,y){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=y,this.meta={}}r.magic="\b\0",a.inherits(f,l),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,m.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(y){m.push({data:y,meta:m.meta})}},r.compressWorker=function(m){return new f("Deflate",m)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,r){function i(d,v){var h,g="";for(h=0;h<v;h++)g+=String.fromCharCode(255&d),d>>>=8;return g}function s(d,v,h,g,w,x){var P,k,A=d.file,X=d.compression,F=x!==u.utf8encode,N=a.transformTo("string",x(A.name)),D=a.transformTo("string",u.utf8encode(A.name)),M=A.comment,se=a.transformTo("string",x(M)),S=a.transformTo("string",u.utf8encode(M)),H=D.length!==A.name.length,p=S.length!==M.length,ee="",ve="",Q="",Se=A.dir,ce=A.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};v&&!h||(fe.crc32=d.crc32,fe.compressedSize=d.compressedSize,fe.uncompressedSize=d.uncompressedSize);var G=0;v&&(G|=8),F||!H&&!p||(G|=2048);var Z=0,Ce=0;Se&&(Z|=16),w==="UNIX"?(Ce=798,Z|=function(te,Ee){var Re=te;return te||(Re=Ee?16893:33204),(65535&Re)<<16}(A.unixPermissions,Se)):(Ce=20,Z|=function(te){return 63&(te||0)}(A.dosPermissions)),P=ce.getUTCHours(),P<<=6,P|=ce.getUTCMinutes(),P<<=5,P|=ce.getUTCSeconds()/2,k=ce.getUTCFullYear()-1980,k<<=4,k|=ce.getUTCMonth()+1,k<<=5,k|=ce.getUTCDate(),H&&(ve=i(1,1)+i(f(N),4)+D,ee+="up"+i(ve.length,2)+ve),p&&(Q=i(1,1)+i(f(se),4)+S,ee+="uc"+i(Q.length,2)+Q);var _e="";return _e+=`
\0`,_e+=i(G,2),_e+=X.magic,_e+=i(P,2),_e+=i(k,2),_e+=i(fe.crc32,4),_e+=i(fe.compressedSize,4),_e+=i(fe.uncompressedSize,4),_e+=i(N.length,2),_e+=i(ee.length,2),{fileRecord:m.LOCAL_FILE_HEADER+_e+N+ee,dirRecord:m.CENTRAL_FILE_HEADER+i(Ce,2)+_e+i(se.length,2)+"\0\0\0\0"+i(Z,4)+i(g,4)+N+ee+se}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),f=n("../crc32"),m=n("../signature");function y(d,v,h,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=h,this.encodeFileName=g,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(y,l),y.prototype.push=function(d){var v=d.meta.percent||0,h=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:h?(v+100*(h-g-1))/h:100}}))},y.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var v=this.streamFiles&&!d.file.dir;if(v){var h=s(d,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(d){this.accumulate=!1;var v=this.streamFiles&&!d.file.dir,h=s(d,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),v)this.push({data:function(g){return m.DATA_DESCRIPTOR+i(g.crc32,4)+i(g.compressedSize,4)+i(g.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var d=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var h=this.bytesWritten-d,g=function(w,x,P,k,A){var X=a.transformTo("string",A(k));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(w,2)+i(w,2)+i(x,4)+i(P,4)+i(X.length,2)+X}(this.dirRecords.length,h,d,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(d){this._sources.push(d);var v=this;return d.on("data",function(h){v.processChunk(h)}),d.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),d.on("error",function(h){v.error(h)}),this},y.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(d){var v=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var h=0;h<v.length;h++)try{v[h].error(d)}catch{}return!0},y.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,v=0;v<d.length;v++)d[v].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,r){var i=n("../compressions"),s=n("./ZipFileWorker");r.generateWorker=function(a,l,u){var f=new s(l.streamFiles,u,l.platform,l.encodeFileName),m=0;try{a.forEach(function(y,d){m++;var v=function(x,P){var k=x||P,A=i[k];if(!A)throw new Error(k+" is not a valid compression method !");return A}(d.options.compression,l.compression),h=d.options.compressionOptions||l.compressionOptions||{},g=d.dir,w=d.date;d._compressWorker(v,h).withStreamInfo("file",{name:y,dir:g,date:w,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(y){f.error(y)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,r){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(s,a){return new i().loadAsync(s,a)},i.external=n("./external"),o.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,r){var i=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function m(y){return new s.Promise(function(d,v){var h=y.decompressed.getContentWorker().pipe(new u);h.on("error",function(g){v(g)}).on("end",function(){h.streamInfo.crc32!==y.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}o.exports=function(y,d){var v=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(y)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",y,!0,d.optimizedBinaryString,d.base64).then(function(h){var g=new l(d);return g.load(h),g}).then(function(h){var g=[s.Promise.resolve(h)],w=h.files;if(d.checkCRC32)for(var x=0;x<w.length;x++)g.push(m(w[x]));return s.Promise.all(g)}).then(function(h){for(var g=h.shift(),w=g.files,x=0;x<w.length;x++){var P=w[x],k=P.fileNameStr,A=i.resolve(P.fileNameStr);v.file(A,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:d.createFolders}),P.dir||(v.file(A).unsafeOriginalName=k)}return g.zipComment.length&&(v.comment=g.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,r){var i=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,r){var i=n("readable-stream").Readable;function s(a,l,u){i.call(this,l),this._helper=a;var f=this;a.on("data",function(m,y){f.push(m)||f._helper.pause(),u&&u(y)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,r){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,o,r){function i(A,X,F){var N,D=a.getTypeOf(X),M=a.extend(F||{},f);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(A=w(A)),M.createFolders&&(N=g(A))&&x.call(this,N,!0);var se=D==="string"&&M.binary===!1&&M.base64===!1;F&&F.binary!==void 0||(M.binary=!se),(X instanceof m&&X.uncompressedSize===0||M.dir||!X||X.length===0)&&(M.base64=!1,M.binary=!0,X="",M.compression="STORE",D="string");var S=null;S=X instanceof m||X instanceof l?X:v.isNode&&v.isStream(X)?new h(A,X):a.prepareContent(A,X,M.binary,M.optimizedBinaryString,M.base64);var H=new y(A,S,M);this.files[A]=H}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),f=n("./defaults"),m=n("./compressedObject"),y=n("./zipObject"),d=n("./generate"),v=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),g=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var X=A.lastIndexOf("/");return 0<X?A.substring(0,X):""},w=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},x=function(A,X){return X=X!==void 0?X:f.createFolders,A=w(A),this.files[A]||i.call(this,A,null,{dir:!0,createFolders:X}),this.files[A]};function P(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var X,F,N;for(X in this.files)N=this.files[X],(F=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&A(F,N)},filter:function(A){var X=[];return this.forEach(function(F,N){A(F,N)&&X.push(N)}),X},file:function(A,X,F){if(arguments.length!==1)return A=this.root+A,i.call(this,A,X,F),this;if(P(A)){var N=A;return this.filter(function(M,se){return!se.dir&&N.test(M)})}var D=this.files[this.root+A];return D&&!D.dir?D:null},folder:function(A){if(!A)return this;if(P(A))return this.filter(function(D,M){return M.dir&&A.test(D)});var X=this.root+A,F=x.call(this,X),N=this.clone();return N.root=F.name,N},remove:function(A){A=this.root+A;var X=this.files[A];if(X||(A.slice(-1)!=="/"&&(A+="/"),X=this.files[A]),X&&!X.dir)delete this.files[A];else for(var F=this.filter(function(D,M){return M.name.slice(0,A.length)===A}),N=0;N<F.length;N++)delete this.files[F[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var X,F={};try{if((F=a.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var N=F.comment||this.comment||"";X=d.generateWorker(this,F,N)}catch(D){(X=new l("error")).error(D)}return new u(X,F.type||"string",F.mimeType)},generateAsync:function(A,X){return this.generateInternalStream(A).accumulate(X)},generateNodeStream:function(A,X){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(X)}};o.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,r){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,r){var i=n("./DataReader");function s(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),m=a.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===l&&this.data[y+1]===u&&this.data[y+2]===f&&this.data[y+3]===m)return y-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),m=a.charCodeAt(3),y=this.readData(4);return l===y[0]&&u===y[1]&&f===y[2]&&m===y[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,r){var i=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,r){var i=n("./Uint8ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,r){var i=n("./DataReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,r){var i=n("./ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,r){var i=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");o.exports=function(m){var y=i.getTypeOf(m);return i.checkSupport(y),y!=="string"||s.uint8array?y==="nodebuffer"?new u(m):s.uint8array?new f(i.transformTo("uint8array",m)):new a(i.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,r){var i=n("./GenericWorker"),s=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,r){var i=n("./GenericWorker"),s=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,r){var i=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,r){var i=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=i.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,r){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=i},{}],29:[function(n,o,r){var i=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),f=n("../external"),m=null;if(u.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(v,h){return new f.Promise(function(g,w){var x=[],P=v._internalType,k=v._outputType,A=v._mimeType;v.on("data",function(X,F){x.push(X),h&&h(F)}).on("error",function(X){x=[],w(X)}).on("end",function(){try{var X=function(F,N,D){switch(F){case"blob":return i.newBlob(i.transformTo("arraybuffer",N),D);case"base64":return l.encode(N);default:return i.transformTo(F,N)}}(k,function(F,N){var D,M=0,se=null,S=0;for(D=0;D<N.length;D++)S+=N[D].length;switch(F){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(se=new Uint8Array(S),D=0;D<N.length;D++)se.set(N[D],M),M+=N[D].length;return se;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+F+"'")}}(P,x),A);g(X)}catch(F){w(F)}x=[]}).resume()})}function d(v,h,g){var w=h;switch(h){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=h,this._mimeType=g,i.checkSupport(w),this._worker=v.pipe(new s(w)),v.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}d.prototype={accumulate:function(v){return y(this,v)},on:function(v,h){var g=this;return v==="data"?this._worker.on(v,function(w){h.call(g,w.data,w.meta)}):this._worker.on(v,function(){i.delay(h,arguments,g)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},v)}},o.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,r){for(var i=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function y(){l.call(this,"utf-8 encode")}r.utf8encode=function(d){return s.nodebuffer?a.newBufferFrom(d,"utf-8"):function(v){var h,g,w,x,P,k=v.length,A=0;for(x=0;x<k;x++)(64512&(g=v.charCodeAt(x)))==55296&&x+1<k&&(64512&(w=v.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(w-56320),x++),A+=g<128?1:g<2048?2:g<65536?3:4;for(h=s.uint8array?new Uint8Array(A):new Array(A),x=P=0;P<A;x++)(64512&(g=v.charCodeAt(x)))==55296&&x+1<k&&(64512&(w=v.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(w-56320),x++),g<128?h[P++]=g:(g<2048?h[P++]=192|g>>>6:(g<65536?h[P++]=224|g>>>12:(h[P++]=240|g>>>18,h[P++]=128|g>>>12&63),h[P++]=128|g>>>6&63),h[P++]=128|63&g);return h}(d)},r.utf8decode=function(d){return s.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(v){var h,g,w,x,P=v.length,k=new Array(2*P);for(h=g=0;h<P;)if((w=v[h++])<128)k[g++]=w;else if(4<(x=u[w]))k[g++]=65533,h+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&h<P;)w=w<<6|63&v[h++],x--;1<x?k[g++]=65533:w<65536?k[g++]=w:(w-=65536,k[g++]=55296|w>>10&1023,k[g++]=56320|1023&w)}return k.length!==g&&(k.subarray?k=k.subarray(0,g):k.length=g),i.applyFromCharCode(k)}(d=i.transformTo(s.uint8array?"uint8array":"array",d))},i.inherits(m,l),m.prototype.processChunk=function(d){var v=i.transformTo(s.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var h=v;(v=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),v.set(h,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var g=function(x,P){var k;for((P=P||x.length)>x.length&&(P=x.length),k=P-1;0<=k&&(192&x[k])==128;)k--;return k<0||k===0?P:k+u[x[k]]>P?k:P}(v),w=v;g!==v.length&&(s.uint8array?(w=v.subarray(0,g),this.leftOver=v.subarray(g,v.length)):(w=v.slice(0,g),this.leftOver=v.slice(g,v.length))),this.push({data:r.utf8decode(w),meta:d.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=m,i.inherits(y,l),y.prototype.processChunk=function(d){this.push({data:r.utf8encode(d.data),meta:d.meta})},r.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,r){var i=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(h){return h}function f(h,g){for(var w=0;w<h.length;++w)g[w]=255&h.charCodeAt(w);return g}n("setimmediate"),r.newBlob=function(h,g){r.checkSupport("blob");try{return new Blob([h],{type:g})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(h),w.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(h,g,w){var x=[],P=0,k=h.length;if(k<=w)return String.fromCharCode.apply(null,h);for(;P<k;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,h.slice(P,Math.min(P+w,k)))):x.push(String.fromCharCode.apply(null,h.subarray(P,Math.min(P+w,k)))),P+=w;return x.join("")},stringifyByChar:function(h){for(var g="",w=0;w<h.length;w++)g+=String.fromCharCode(h[w]);return g},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function y(h){var g=65536,w=r.getTypeOf(h),x=!0;if(w==="uint8array"?x=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(x=m.applyCanBeUsed.nodebuffer),x)for(;1<g;)try{return m.stringifyByChunk(h,w,g)}catch{g=Math.floor(g/2)}return m.stringifyByChar(h)}function d(h,g){for(var w=0;w<h.length;w++)g[w]=h[w];return g}r.applyFromCharCode=y;var v={};v.string={string:u,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return v.string.uint8array(h).buffer},uint8array:function(h){return f(h,new Uint8Array(h.length))},nodebuffer:function(h){return f(h,a.allocBuffer(h.length))}},v.array={string:y,array:u,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(h)}},v.arraybuffer={string:function(h){return y(new Uint8Array(h))},array:function(h){return d(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:u,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(new Uint8Array(h))}},v.uint8array={string:y,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:u,nodebuffer:function(h){return a.newBufferFrom(h)}},v.nodebuffer={string:y,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return v.nodebuffer.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:u},r.transformTo=function(h,g){if(g=g||"",!h)return g;r.checkSupport(h);var w=r.getTypeOf(g);return v[w][h](g)},r.resolve=function(h){for(var g=h.split("/"),w=[],x=0;x<g.length;x++){var P=g[x];P==="."||P===""&&x!==0&&x!==g.length-1||(P===".."?w.pop():w.push(P))}return w.join("/")},r.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(h){var g,w,x="";for(w=0;w<(h||"").length;w++)x+="\\x"+((g=h.charCodeAt(w))<16?"0":"")+g.toString(16).toUpperCase();return x},r.delay=function(h,g,w){setImmediate(function(){h.apply(w||null,g||[])})},r.inherits=function(h,g){function w(){}w.prototype=g.prototype,h.prototype=new w},r.extend=function(){var h,g,w={};for(h=0;h<arguments.length;h++)for(g in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],g)&&w[g]===void 0&&(w[g]=arguments[h][g]);return w},r.prepareContent=function(h,g,w,x,P){return l.Promise.resolve(g).then(function(k){return i.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,X){var F=new FileReader;F.onload=function(N){A(N.target.result)},F.onerror=function(N){X(N.target.error)},F.readAsArrayBuffer(k)}):k}).then(function(k){var A=r.getTypeOf(k);return A?(A==="arraybuffer"?k=r.transformTo("uint8array",k):A==="string"&&(P?k=s.decode(k):w&&x!==!0&&(k=function(X){return f(X,i.uint8array?new Uint8Array(X.length):new Array(X.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,r){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(y)+", expected "+s.pretty(m)+")")}},isSignature:function(m,y){var d=this.reader.index;this.reader.setIndex(m);var v=this.reader.readString(4)===y;return this.reader.setIndex(d),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),y=u.uint8array?"uint8array":"array",d=s.transformTo(y,m);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,y,d,v=this.zip64EndOfCentralSize-44;0<v;)m=this.reader.readInt(2),y=this.reader.readInt(4),d=this.reader.readData(y),this.zip64ExtensibleData[m]={id:m,length:y,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,y;for(m=0;m<this.files.length;m++)y=this.files[m],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var y=m;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var v=y-d;if(0<v)this.isSignature(y,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(m){this.reader=i(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,r){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),f=n("./compressions"),m=n("./support");function y(d,v){this.options=d,this.loadOptions=v}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var v,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(g){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===g)return f[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var v=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(v),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var v,h,g,w=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<w;)v=d.readInt(2),h=d.readInt(2),g=d.readData(h),this.extraFields[v]={id:v,length:h,value:g};d.setIndex(w)},handleUTF8:function(){var d=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var h=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var w=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var v=i(d.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var v=i(d.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,r){function i(v,h,g){this.name=v,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=h,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),f=n("./stream/GenericWorker");i.prototype={internalStream:function(v){var h=null,g="string";try{if(!v)throw new Error("No output type specified.");var w=(g=v.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),h=this._decompressWorker();var x=!this._dataBinary;x&&!w&&(h=h.pipe(new l.Utf8EncodeWorker)),!x&&w&&(h=h.pipe(new l.Utf8DecodeWorker))}catch(P){(h=new f("error")).error(P)}return new s(h,g,"")},async:function(v,h){return this.internalStream(v).accumulate(h)},nodeStream:function(v,h){return this.internalStream(v||"nodebuffer").toNodejsStream(h)},_compressWorker:function(v,h){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,v,h)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<m.length;d++)i.prototype[m[d]]=y;o.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,r){(function(i){var s,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var u=0,f=new l(v),m=i.document.createTextNode("");f.observe(m,{characterData:!0}),s=function(){m.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){v(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(v,0)};else{var y=new i.MessageChannel;y.port1.onmessage=v,s=function(){y.port2.postMessage(0)}}var d=[];function v(){var h,g;a=!0;for(var w=d.length;w;){for(g=d,d=[],h=-1;++h<w;)g[h]();w=d.length}a=!1}o.exports=function(h){d.push(h)!==1||a||s()}}).call(this,typeof dn<"u"?dn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,r){var i=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==s&&h(this,w)}function y(w,x,P){this.promise=w,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function d(w,x,P){i(function(){var k;try{k=x(P)}catch(A){return a.reject(w,A)}k===w?a.reject(w,new TypeError("Cannot resolve promise with itself")):a.resolve(w,k)})}function v(w){var x=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof x=="function")return function(){x.apply(w,arguments)}}function h(w,x){var P=!1;function k(F){P||(P=!0,a.reject(w,F))}function A(F){P||(P=!0,a.resolve(w,F))}var X=g(function(){x(A,k)});X.status==="error"&&k(X.value)}function g(w,x){var P={};try{P.value=w(x),P.status="success"}catch(k){P.status="error",P.value=k}return P}(o.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var x=this.constructor;return this.then(function(P){return x.resolve(w()).then(function(){return P})},function(P){return x.resolve(w()).then(function(){throw P})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,x){if(typeof w!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var P=new this.constructor(s);return this.state!==f?d(P,this.state===u?w:x,this.outcome):this.queue.push(new y(P,w,x)),P},y.prototype.callFulfilled=function(w){a.resolve(this.promise,w)},y.prototype.otherCallFulfilled=function(w){d(this.promise,this.onFulfilled,w)},y.prototype.callRejected=function(w){a.reject(this.promise,w)},y.prototype.otherCallRejected=function(w){d(this.promise,this.onRejected,w)},a.resolve=function(w,x){var P=g(v,x);if(P.status==="error")return a.reject(w,P.value);var k=P.value;if(k)h(w,k);else{w.state=u,w.outcome=x;for(var A=-1,X=w.queue.length;++A<X;)w.queue[A].callFulfilled(x)}return w},a.reject=function(w,x){w.state=l,w.outcome=x;for(var P=-1,k=w.queue.length;++P<k;)w.queue[P].callRejected(x);return w},m.resolve=function(w){return w instanceof this?w:a.resolve(new this(s),w)},m.reject=function(w){var x=new this(s);return a.reject(x,w)},m.all=function(w){var x=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=w.length,k=!1;if(!P)return this.resolve([]);for(var A=new Array(P),X=0,F=-1,N=new this(s);++F<P;)D(w[F],F);return N;function D(M,se){x.resolve(M).then(function(S){A[se]=S,++X!==P||k||(k=!0,a.resolve(N,A))},function(S){k||(k=!0,a.reject(N,S))})}},m.race=function(w){var x=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=w.length,k=!1;if(!P)return this.resolve([]);for(var A=-1,X=new this(s);++A<P;)F=w[A],x.resolve(F).then(function(N){k||(k=!0,a.resolve(X,N))},function(N){k||(k=!0,a.reject(X,N))});var F;return X}},{immediate:36}],38:[function(n,o,r){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,r){var i=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),f=Object.prototype.toString,m=0,y=-1,d=0,v=8;function h(w){if(!(this instanceof h))return new h(w);this.options=s.assign({level:y,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},w||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var P=i.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(P!==m)throw new Error(l[P]);if(x.header&&i.deflateSetHeader(this.strm,x.header),x.dictionary){var k;if(k=typeof x.dictionary=="string"?a.string2buf(x.dictionary):f.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(P=i.deflateSetDictionary(this.strm,k))!==m)throw new Error(l[P]);this._dict_set=!0}}function g(w,x){var P=new h(x);if(P.push(w,!0),P.err)throw P.msg||l[P.err];return P.result}h.prototype.push=function(w,x){var P,k,A=this.strm,X=this.options.chunkSize;if(this.ended)return!1;k=x===~~x?x:x===!0?4:0,typeof w=="string"?A.input=a.string2buf(w):f.call(w)==="[object ArrayBuffer]"?A.input=new Uint8Array(w):A.input=w,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(X),A.next_out=0,A.avail_out=X),(P=i.deflate(A,k))!==1&&P!==m)return this.onEnd(P),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(A.output,A.next_out))):this.onData(s.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&P!==1);return k===4?(P=i.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===m):k!==2||(this.onEnd(m),!(A.avail_out=0))},h.prototype.onData=function(w){this.chunks.push(w)},h.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},r.Deflate=h,r.deflate=g,r.deflateRaw=function(w,x){return(x=x||{}).raw=!0,g(w,x)},r.gzip=function(w,x){return(x=x||{}).gzip=!0,g(w,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,r){var i=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),f=n("./zlib/zstream"),m=n("./zlib/gzheader"),y=Object.prototype.toString;function d(h){if(!(this instanceof d))return new d(h);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},h||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||h&&h.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=i.inflateInit2(this.strm,g.windowBits);if(w!==l.Z_OK)throw new Error(u[w]);this.header=new m,i.inflateGetHeader(this.strm,this.header)}function v(h,g){var w=new d(g);if(w.push(h,!0),w.err)throw w.msg||u[w.err];return w.result}d.prototype.push=function(h,g){var w,x,P,k,A,X,F=this.strm,N=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;x=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof h=="string"?F.input=a.binstring2buf(h):y.call(h)==="[object ArrayBuffer]"?F.input=new Uint8Array(h):F.input=h,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(N),F.next_out=0,F.avail_out=N),(w=i.inflate(F,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&(X=typeof D=="string"?a.string2buf(D):y.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,w=i.inflateSetDictionary(this.strm,X)),w===l.Z_BUF_ERROR&&M===!0&&(w=l.Z_OK,M=!1),w!==l.Z_STREAM_END&&w!==l.Z_OK)return this.onEnd(w),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&w!==l.Z_STREAM_END&&(F.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=a.utf8border(F.output,F.next_out),k=F.next_out-P,A=a.buf2string(F.output,P),F.next_out=k,F.avail_out=N-k,k&&s.arraySet(F.output,F.output,P,k,0),this.onData(A)):this.onData(s.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(M=!0)}while((0<F.avail_in||F.avail_out===0)&&w!==l.Z_STREAM_END);return w===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(w=i.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(F.avail_out=0))},d.prototype.onData=function(h){this.chunks.push(h)},d.prototype.onEnd=function(h){h===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},r.Inflate=d,r.inflate=v,r.inflateRaw=function(h,g){return(g=g||{}).raw=!0,v(h,g)},r.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,r){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(l[m]=f[m])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,f,m,y){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+m),y);else for(var d=0;d<m;d++)l[y+d]=u[f+d]},flattenChunks:function(l){var u,f,m,y,d,v;for(u=m=0,f=l.length;u<f;u++)m+=l[u].length;for(v=new Uint8Array(m),u=y=0,f=l.length;u<f;u++)d=l[u],v.set(d,y),y+=d.length;return v}},a={arraySet:function(l,u,f,m,y){for(var d=0;d<m;d++)l[y+d]=u[f+d]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(i)},{}],42:[function(n,o,r){var i=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(m,y){if(y<65537&&(m.subarray&&a||!m.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(m,y));for(var d="",v=0;v<y;v++)d+=String.fromCharCode(m[v]);return d}l[254]=l[254]=1,r.string2buf=function(m){var y,d,v,h,g,w=m.length,x=0;for(h=0;h<w;h++)(64512&(d=m.charCodeAt(h)))==55296&&h+1<w&&(64512&(v=m.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),h++),x+=d<128?1:d<2048?2:d<65536?3:4;for(y=new i.Buf8(x),h=g=0;g<x;h++)(64512&(d=m.charCodeAt(h)))==55296&&h+1<w&&(64512&(v=m.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),h++),d<128?y[g++]=d:(d<2048?y[g++]=192|d>>>6:(d<65536?y[g++]=224|d>>>12:(y[g++]=240|d>>>18,y[g++]=128|d>>>12&63),y[g++]=128|d>>>6&63),y[g++]=128|63&d);return y},r.buf2binstring=function(m){return f(m,m.length)},r.binstring2buf=function(m){for(var y=new i.Buf8(m.length),d=0,v=y.length;d<v;d++)y[d]=m.charCodeAt(d);return y},r.buf2string=function(m,y){var d,v,h,g,w=y||m.length,x=new Array(2*w);for(d=v=0;d<w;)if((h=m[d++])<128)x[v++]=h;else if(4<(g=l[h]))x[v++]=65533,d+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&d<w;)h=h<<6|63&m[d++],g--;1<g?x[v++]=65533:h<65536?x[v++]=h:(h-=65536,x[v++]=55296|h>>10&1023,x[v++]=56320|1023&h)}return f(x,v)},r.utf8border=function(m,y){var d;for((y=y||m.length)>m.length&&(y=m.length),d=y-1;0<=d&&(192&m[d])==128;)d--;return d<0||d===0?y:d+l[m[d]]>y?d:y}},{"./common":41}],43:[function(n,o,r){o.exports=function(i,s,a,l){for(var u=65535&i|0,f=i>>>16&65535|0,m=0;a!==0;){for(a-=m=2e3<a?2e3:a;f=f+(u=u+s[l++]|0)|0,--m;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(n,o,r){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,r){var i=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();o.exports=function(s,a,l,u){var f=i,m=u+l;s^=-1;for(var y=u;y<m;y++)s=s>>>8^f[255&(s^a[y])];return-1^s}},{}],46:[function(n,o,r){var i,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),f=n("./messages"),m=0,y=4,d=0,v=-2,h=-1,g=4,w=2,x=8,P=9,k=286,A=30,X=19,F=2*k+1,N=15,D=3,M=258,se=M+D+1,S=42,H=113,p=1,ee=2,ve=3,Q=4;function Se(c,B){return c.msg=f[B],B}function ce(c){return(c<<1)-(4<c?9:0)}function fe(c){for(var B=c.length;0<=--B;)c[B]=0}function G(c){var B=c.state,z=B.pending;z>c.avail_out&&(z=c.avail_out),z!==0&&(s.arraySet(c.output,B.pending_buf,B.pending_out,z,c.next_out),c.next_out+=z,B.pending_out+=z,c.total_out+=z,c.avail_out-=z,B.pending-=z,B.pending===0&&(B.pending_out=0))}function Z(c,B){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,B),c.block_start=c.strstart,G(c.strm)}function Ce(c,B){c.pending_buf[c.pending++]=B}function _e(c,B){c.pending_buf[c.pending++]=B>>>8&255,c.pending_buf[c.pending++]=255&B}function te(c,B){var z,C,b=c.max_chain_length,I=c.strstart,W=c.prev_length,V=c.nice_match,R=c.strstart>c.w_size-se?c.strstart-(c.w_size-se):0,Y=c.window,re=c.w_mask,ne=c.prev,pe=c.strstart+M,ze=Y[I+W-1],Pe=Y[I+W];c.prev_length>=c.good_match&&(b>>=2),V>c.lookahead&&(V=c.lookahead);do if(Y[(z=B)+W]===Pe&&Y[z+W-1]===ze&&Y[z]===Y[I]&&Y[++z]===Y[I+1]){I+=2,z++;do;while(Y[++I]===Y[++z]&&Y[++I]===Y[++z]&&Y[++I]===Y[++z]&&Y[++I]===Y[++z]&&Y[++I]===Y[++z]&&Y[++I]===Y[++z]&&Y[++I]===Y[++z]&&Y[++I]===Y[++z]&&I<pe);if(C=M-(pe-I),I=pe-M,W<C){if(c.match_start=B,V<=(W=C))break;ze=Y[I+W-1],Pe=Y[I+W]}}while((B=ne[B&re])>R&&--b!=0);return W<=c.lookahead?W:c.lookahead}function Ee(c){var B,z,C,b,I,W,V,R,Y,re,ne=c.w_size;do{if(b=c.window_size-c.lookahead-c.strstart,c.strstart>=ne+(ne-se)){for(s.arraySet(c.window,c.window,ne,ne,0),c.match_start-=ne,c.strstart-=ne,c.block_start-=ne,B=z=c.hash_size;C=c.head[--B],c.head[B]=ne<=C?C-ne:0,--z;);for(B=z=ne;C=c.prev[--B],c.prev[B]=ne<=C?C-ne:0,--z;);b+=ne}if(c.strm.avail_in===0)break;if(W=c.strm,V=c.window,R=c.strstart+c.lookahead,Y=b,re=void 0,re=W.avail_in,Y<re&&(re=Y),z=re===0?0:(W.avail_in-=re,s.arraySet(V,W.input,W.next_in,re,R),W.state.wrap===1?W.adler=l(W.adler,V,re,R):W.state.wrap===2&&(W.adler=u(W.adler,V,re,R)),W.next_in+=re,W.total_in+=re,re),c.lookahead+=z,c.lookahead+c.insert>=D)for(I=c.strstart-c.insert,c.ins_h=c.window[I],c.ins_h=(c.ins_h<<c.hash_shift^c.window[I+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[I+D-1])&c.hash_mask,c.prev[I&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=I,I++,c.insert--,!(c.lookahead+c.insert<D)););}while(c.lookahead<se&&c.strm.avail_in!==0)}function Re(c,B){for(var z,C;;){if(c.lookahead<se){if(Ee(c),c.lookahead<se&&B===m)return p;if(c.lookahead===0)break}if(z=0,c.lookahead>=D&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),z!==0&&c.strstart-z<=c.w_size-se&&(c.match_length=te(c,z)),c.match_length>=D)if(C=a._tr_tally(c,c.strstart-c.match_start,c.match_length-D),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=D){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else C=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(C&&(Z(c,!1),c.strm.avail_out===0))return p}return c.insert=c.strstart<D-1?c.strstart:D-1,B===y?(Z(c,!0),c.strm.avail_out===0?ve:Q):c.last_lit&&(Z(c,!1),c.strm.avail_out===0)?p:ee}function Ie(c,B){for(var z,C,b;;){if(c.lookahead<se){if(Ee(c),c.lookahead<se&&B===m)return p;if(c.lookahead===0)break}if(z=0,c.lookahead>=D&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=D-1,z!==0&&c.prev_length<c.max_lazy_match&&c.strstart-z<=c.w_size-se&&(c.match_length=te(c,z),c.match_length<=5&&(c.strategy===1||c.match_length===D&&4096<c.strstart-c.match_start)&&(c.match_length=D-1)),c.prev_length>=D&&c.match_length<=c.prev_length){for(b=c.strstart+c.lookahead-D,C=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-D),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=b&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+D-1])&c.hash_mask,z=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=D-1,c.strstart++,C&&(Z(c,!1),c.strm.avail_out===0))return p}else if(c.match_available){if((C=a._tr_tally(c,0,c.window[c.strstart-1]))&&Z(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return p}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(C=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<D-1?c.strstart:D-1,B===y?(Z(c,!0),c.strm.avail_out===0?ve:Q):c.last_lit&&(Z(c,!1),c.strm.avail_out===0)?p:ee}function Be(c,B,z,C,b){this.good_length=c,this.max_lazy=B,this.nice_length=z,this.max_chain=C,this.func=b}function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*F),this.dyn_dtree=new s.Buf16(2*(2*A+1)),this.bl_tree=new s.Buf16(2*(2*X+1)),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(N+1),this.heap=new s.Buf16(2*k+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*k+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xe(c){var B;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=w,(B=c.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?S:H,c.adler=B.wrap===2?0:1,B.last_flush=m,a._tr_init(B),d):Se(c,v)}function T(c){var B=Xe(c);return B===d&&function(z){z.window_size=2*z.w_size,fe(z.head),z.max_lazy_match=i[z.level].max_lazy,z.good_match=i[z.level].good_length,z.nice_match=i[z.level].nice_length,z.max_chain_length=i[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=D-1,z.match_available=0,z.ins_h=0}(c.state),B}function j(c,B,z,C,b,I){if(!c)return v;var W=1;if(B===h&&(B=6),C<0?(W=0,C=-C):15<C&&(W=2,C-=16),b<1||P<b||z!==x||C<8||15<C||B<0||9<B||I<0||g<I)return Se(c,v);C===8&&(C=9);var V=new Ge;return(c.state=V).strm=c,V.wrap=W,V.gzhead=null,V.w_bits=C,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=b+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+D-1)/D),V.window=new s.Buf8(2*V.w_size),V.head=new s.Buf16(V.hash_size),V.prev=new s.Buf16(V.w_size),V.lit_bufsize=1<<b+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new s.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=B,V.strategy=I,V.method=z,T(c)}i=[new Be(0,0,0,0,function(c,B){var z=65535;for(z>c.pending_buf_size-5&&(z=c.pending_buf_size-5);;){if(c.lookahead<=1){if(Ee(c),c.lookahead===0&&B===m)return p;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var C=c.block_start+z;if((c.strstart===0||c.strstart>=C)&&(c.lookahead=c.strstart-C,c.strstart=C,Z(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-se&&(Z(c,!1),c.strm.avail_out===0))return p}return c.insert=0,B===y?(Z(c,!0),c.strm.avail_out===0?ve:Q):(c.strstart>c.block_start&&(Z(c,!1),c.strm.avail_out),p)}),new Be(4,4,8,4,Re),new Be(4,5,16,8,Re),new Be(4,6,32,32,Re),new Be(4,4,16,16,Ie),new Be(8,16,32,32,Ie),new Be(8,16,128,128,Ie),new Be(8,32,128,256,Ie),new Be(32,128,258,1024,Ie),new Be(32,258,258,4096,Ie)],r.deflateInit=function(c,B){return j(c,B,x,15,8,0)},r.deflateInit2=j,r.deflateReset=T,r.deflateResetKeep=Xe,r.deflateSetHeader=function(c,B){return c&&c.state?c.state.wrap!==2?v:(c.state.gzhead=B,d):v},r.deflate=function(c,B){var z,C,b,I;if(!c||!c.state||5<B||B<0)return c?Se(c,v):v;if(C=c.state,!c.output||!c.input&&c.avail_in!==0||C.status===666&&B!==y)return Se(c,c.avail_out===0?-5:v);if(C.strm=c,z=C.last_flush,C.last_flush=B,C.status===S)if(C.wrap===2)c.adler=0,Ce(C,31),Ce(C,139),Ce(C,8),C.gzhead?(Ce(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),Ce(C,255&C.gzhead.time),Ce(C,C.gzhead.time>>8&255),Ce(C,C.gzhead.time>>16&255),Ce(C,C.gzhead.time>>24&255),Ce(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ce(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(Ce(C,255&C.gzhead.extra.length),Ce(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(c.adler=u(c.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(Ce(C,0),Ce(C,0),Ce(C,0),Ce(C,0),Ce(C,0),Ce(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Ce(C,3),C.status=H);else{var W=x+(C.w_bits-8<<4)<<8;W|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(W|=32),W+=31-W%31,C.status=H,_e(C,W),C.strstart!==0&&(_e(C,c.adler>>>16),_e(C,65535&c.adler)),c.adler=1}if(C.status===69)if(C.gzhead.extra){for(b=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>b&&(c.adler=u(c.adler,C.pending_buf,C.pending-b,b)),G(c),b=C.pending,C.pending!==C.pending_buf_size));)Ce(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>b&&(c.adler=u(c.adler,C.pending_buf,C.pending-b,b)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){b=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>b&&(c.adler=u(c.adler,C.pending_buf,C.pending-b,b)),G(c),b=C.pending,C.pending===C.pending_buf_size)){I=1;break}I=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,Ce(C,I)}while(I!==0);C.gzhead.hcrc&&C.pending>b&&(c.adler=u(c.adler,C.pending_buf,C.pending-b,b)),I===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){b=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>b&&(c.adler=u(c.adler,C.pending_buf,C.pending-b,b)),G(c),b=C.pending,C.pending===C.pending_buf_size)){I=1;break}I=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,Ce(C,I)}while(I!==0);C.gzhead.hcrc&&C.pending>b&&(c.adler=u(c.adler,C.pending_buf,C.pending-b,b)),I===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&G(c),C.pending+2<=C.pending_buf_size&&(Ce(C,255&c.adler),Ce(C,c.adler>>8&255),c.adler=0,C.status=H)):C.status=H),C.pending!==0){if(G(c),c.avail_out===0)return C.last_flush=-1,d}else if(c.avail_in===0&&ce(B)<=ce(z)&&B!==y)return Se(c,-5);if(C.status===666&&c.avail_in!==0)return Se(c,-5);if(c.avail_in!==0||C.lookahead!==0||B!==m&&C.status!==666){var V=C.strategy===2?function(R,Y){for(var re;;){if(R.lookahead===0&&(Ee(R),R.lookahead===0)){if(Y===m)return p;break}if(R.match_length=0,re=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,re&&(Z(R,!1),R.strm.avail_out===0))return p}return R.insert=0,Y===y?(Z(R,!0),R.strm.avail_out===0?ve:Q):R.last_lit&&(Z(R,!1),R.strm.avail_out===0)?p:ee}(C,B):C.strategy===3?function(R,Y){for(var re,ne,pe,ze,Pe=R.window;;){if(R.lookahead<=M){if(Ee(R),R.lookahead<=M&&Y===m)return p;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=D&&0<R.strstart&&(ne=Pe[pe=R.strstart-1])===Pe[++pe]&&ne===Pe[++pe]&&ne===Pe[++pe]){ze=R.strstart+M;do;while(ne===Pe[++pe]&&ne===Pe[++pe]&&ne===Pe[++pe]&&ne===Pe[++pe]&&ne===Pe[++pe]&&ne===Pe[++pe]&&ne===Pe[++pe]&&ne===Pe[++pe]&&pe<ze);R.match_length=M-(ze-pe),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=D?(re=a._tr_tally(R,1,R.match_length-D),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(re=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),re&&(Z(R,!1),R.strm.avail_out===0))return p}return R.insert=0,Y===y?(Z(R,!0),R.strm.avail_out===0?ve:Q):R.last_lit&&(Z(R,!1),R.strm.avail_out===0)?p:ee}(C,B):i[C.level].func(C,B);if(V!==ve&&V!==Q||(C.status=666),V===p||V===ve)return c.avail_out===0&&(C.last_flush=-1),d;if(V===ee&&(B===1?a._tr_align(C):B!==5&&(a._tr_stored_block(C,0,0,!1),B===3&&(fe(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),G(c),c.avail_out===0))return C.last_flush=-1,d}return B!==y?d:C.wrap<=0?1:(C.wrap===2?(Ce(C,255&c.adler),Ce(C,c.adler>>8&255),Ce(C,c.adler>>16&255),Ce(C,c.adler>>24&255),Ce(C,255&c.total_in),Ce(C,c.total_in>>8&255),Ce(C,c.total_in>>16&255),Ce(C,c.total_in>>24&255)):(_e(C,c.adler>>>16),_e(C,65535&c.adler)),G(c),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?d:1)},r.deflateEnd=function(c){var B;return c&&c.state?(B=c.state.status)!==S&&B!==69&&B!==73&&B!==91&&B!==103&&B!==H&&B!==666?Se(c,v):(c.state=null,B===H?Se(c,-3):d):v},r.deflateSetDictionary=function(c,B){var z,C,b,I,W,V,R,Y,re=B.length;if(!c||!c.state||(I=(z=c.state).wrap)===2||I===1&&z.status!==S||z.lookahead)return v;for(I===1&&(c.adler=l(c.adler,B,re,0)),z.wrap=0,re>=z.w_size&&(I===0&&(fe(z.head),z.strstart=0,z.block_start=0,z.insert=0),Y=new s.Buf8(z.w_size),s.arraySet(Y,B,re-z.w_size,z.w_size,0),B=Y,re=z.w_size),W=c.avail_in,V=c.next_in,R=c.input,c.avail_in=re,c.next_in=0,c.input=B,Ee(z);z.lookahead>=D;){for(C=z.strstart,b=z.lookahead-(D-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[C+D-1])&z.hash_mask,z.prev[C&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=C,C++,--b;);z.strstart=C,z.lookahead=D-1,Ee(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=D-1,z.match_available=0,c.next_in=V,c.input=R,c.avail_in=W,z.wrap=I,d},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,r){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,r){o.exports=function(i,s){var a,l,u,f,m,y,d,v,h,g,w,x,P,k,A,X,F,N,D,M,se,S,H,p,ee;a=i.state,l=i.next_in,p=i.input,u=l+(i.avail_in-5),f=i.next_out,ee=i.output,m=f-(s-i.avail_out),y=f+(i.avail_out-257),d=a.dmax,v=a.wsize,h=a.whave,g=a.wnext,w=a.window,x=a.hold,P=a.bits,k=a.lencode,A=a.distcode,X=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;e:do{P<15&&(x+=p[l++]<<P,P+=8,x+=p[l++]<<P,P+=8),N=k[x&X];t:for(;;){if(x>>>=D=N>>>24,P-=D,(D=N>>>16&255)===0)ee[f++]=65535&N;else{if(!(16&D)){if(!(64&D)){N=k[(65535&N)+(x&(1<<D)-1)];continue t}if(32&D){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}M=65535&N,(D&=15)&&(P<D&&(x+=p[l++]<<P,P+=8),M+=x&(1<<D)-1,x>>>=D,P-=D),P<15&&(x+=p[l++]<<P,P+=8,x+=p[l++]<<P,P+=8),N=A[x&F];n:for(;;){if(x>>>=D=N>>>24,P-=D,!(16&(D=N>>>16&255))){if(!(64&D)){N=A[(65535&N)+(x&(1<<D)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(se=65535&N,P<(D&=15)&&(x+=p[l++]<<P,(P+=8)<D&&(x+=p[l++]<<P,P+=8)),d<(se+=x&(1<<D)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=D,P-=D,(D=f-m)<se){if(h<(D=se-D)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(H=w,(S=0)===g){if(S+=v-D,D<M){for(M-=D;ee[f++]=w[S++],--D;);S=f-se,H=ee}}else if(g<D){if(S+=v+g-D,(D-=g)<M){for(M-=D;ee[f++]=w[S++],--D;);if(S=0,g<M){for(M-=D=g;ee[f++]=w[S++],--D;);S=f-se,H=ee}}}else if(S+=g-D,D<M){for(M-=D;ee[f++]=w[S++],--D;);S=f-se,H=ee}for(;2<M;)ee[f++]=H[S++],ee[f++]=H[S++],ee[f++]=H[S++],M-=3;M&&(ee[f++]=H[S++],1<M&&(ee[f++]=H[S++]))}else{for(S=f-se;ee[f++]=ee[S++],ee[f++]=ee[S++],ee[f++]=ee[S++],2<(M-=3););M&&(ee[f++]=ee[S++],1<M&&(ee[f++]=ee[S++]))}break}}break}}while(l<u&&f<y);l-=M=P>>3,x&=(1<<(P-=M<<3))-1,i.next_in=l,i.next_out=f,i.avail_in=l<u?u-l+5:5-(l-u),i.avail_out=f<y?y-f+257:257-(f-y),a.hold=x,a.bits=P}},{}],49:[function(n,o,r){var i=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),f=1,m=2,y=0,d=-2,v=1,h=852,g=592;function w(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(S){var H;return S&&S.state?(H=S.state,S.total_in=S.total_out=H.total=0,S.msg="",H.wrap&&(S.adler=1&H.wrap),H.mode=v,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new i.Buf32(h),H.distcode=H.distdyn=new i.Buf32(g),H.sane=1,H.back=-1,y):d}function k(S){var H;return S&&S.state?((H=S.state).wsize=0,H.whave=0,H.wnext=0,P(S)):d}function A(S,H){var p,ee;return S&&S.state?(ee=S.state,H<0?(p=0,H=-H):(p=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?d:(ee.window!==null&&ee.wbits!==H&&(ee.window=null),ee.wrap=p,ee.wbits=H,k(S))):d}function X(S,H){var p,ee;return S?(ee=new x,(S.state=ee).window=null,(p=A(S,H))!==y&&(S.state=null),p):d}var F,N,D=!0;function M(S){if(D){var H;for(F=new i.Buf32(512),N=new i.Buf32(32),H=0;H<144;)S.lens[H++]=8;for(;H<256;)S.lens[H++]=9;for(;H<280;)S.lens[H++]=7;for(;H<288;)S.lens[H++]=8;for(u(f,S.lens,0,288,F,0,S.work,{bits:9}),H=0;H<32;)S.lens[H++]=5;u(m,S.lens,0,32,N,0,S.work,{bits:5}),D=!1}S.lencode=F,S.lenbits=9,S.distcode=N,S.distbits=5}function se(S,H,p,ee){var ve,Q=S.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new i.Buf8(Q.wsize)),ee>=Q.wsize?(i.arraySet(Q.window,H,p-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(ee<(ve=Q.wsize-Q.wnext)&&(ve=ee),i.arraySet(Q.window,H,p-ee,ve,Q.wnext),(ee-=ve)?(i.arraySet(Q.window,H,p-ee,ee,0),Q.wnext=ee,Q.whave=Q.wsize):(Q.wnext+=ve,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=ve))),0}r.inflateReset=k,r.inflateReset2=A,r.inflateResetKeep=P,r.inflateInit=function(S){return X(S,15)},r.inflateInit2=X,r.inflate=function(S,H){var p,ee,ve,Q,Se,ce,fe,G,Z,Ce,_e,te,Ee,Re,Ie,Be,Ge,Xe,T,j,c,B,z,C,b=0,I=new i.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return d;(p=S.state).mode===12&&(p.mode=13),Se=S.next_out,ve=S.output,fe=S.avail_out,Q=S.next_in,ee=S.input,ce=S.avail_in,G=p.hold,Z=p.bits,Ce=ce,_e=fe,B=y;e:for(;;)switch(p.mode){case v:if(p.wrap===0){p.mode=13;break}for(;Z<16;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(2&p.wrap&&G===35615){I[p.check=0]=255&G,I[1]=G>>>8&255,p.check=a(p.check,I,2,0),Z=G=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&G)<<8)+(G>>8))%31){S.msg="incorrect header check",p.mode=30;break}if((15&G)!=8){S.msg="unknown compression method",p.mode=30;break}if(Z-=4,c=8+(15&(G>>>=4)),p.wbits===0)p.wbits=c;else if(c>p.wbits){S.msg="invalid window size",p.mode=30;break}p.dmax=1<<c,S.adler=p.check=1,p.mode=512&G?10:12,Z=G=0;break;case 2:for(;Z<16;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(p.flags=G,(255&p.flags)!=8){S.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){S.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=G>>8&1),512&p.flags&&(I[0]=255&G,I[1]=G>>>8&255,p.check=a(p.check,I,2,0)),Z=G=0,p.mode=3;case 3:for(;Z<32;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}p.head&&(p.head.time=G),512&p.flags&&(I[0]=255&G,I[1]=G>>>8&255,I[2]=G>>>16&255,I[3]=G>>>24&255,p.check=a(p.check,I,4,0)),Z=G=0,p.mode=4;case 4:for(;Z<16;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}p.head&&(p.head.xflags=255&G,p.head.os=G>>8),512&p.flags&&(I[0]=255&G,I[1]=G>>>8&255,p.check=a(p.check,I,2,0)),Z=G=0,p.mode=5;case 5:if(1024&p.flags){for(;Z<16;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}p.length=G,p.head&&(p.head.extra_len=G),512&p.flags&&(I[0]=255&G,I[1]=G>>>8&255,p.check=a(p.check,I,2,0)),Z=G=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(ce<(te=p.length)&&(te=ce),te&&(p.head&&(c=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),i.arraySet(p.head.extra,ee,Q,te,c)),512&p.flags&&(p.check=a(p.check,ee,te,Q)),ce-=te,Q+=te,p.length-=te),p.length))break e;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(ce===0)break e;for(te=0;c=ee[Q+te++],p.head&&c&&p.length<65536&&(p.head.name+=String.fromCharCode(c)),c&&te<ce;);if(512&p.flags&&(p.check=a(p.check,ee,te,Q)),ce-=te,Q+=te,c)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(ce===0)break e;for(te=0;c=ee[Q+te++],p.head&&c&&p.length<65536&&(p.head.comment+=String.fromCharCode(c)),c&&te<ce;);if(512&p.flags&&(p.check=a(p.check,ee,te,Q)),ce-=te,Q+=te,c)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;Z<16;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(G!==(65535&p.check)){S.msg="header crc mismatch",p.mode=30;break}Z=G=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),S.adler=p.check=0,p.mode=12;break;case 10:for(;Z<32;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}S.adler=p.check=w(G),Z=G=0,p.mode=11;case 11:if(p.havedict===0)return S.next_out=Se,S.avail_out=fe,S.next_in=Q,S.avail_in=ce,p.hold=G,p.bits=Z,2;S.adler=p.check=1,p.mode=12;case 12:if(H===5||H===6)break e;case 13:if(p.last){G>>>=7&Z,Z-=7&Z,p.mode=27;break}for(;Z<3;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}switch(p.last=1&G,Z-=1,3&(G>>>=1)){case 0:p.mode=14;break;case 1:if(M(p),p.mode=20,H!==6)break;G>>>=2,Z-=2;break e;case 2:p.mode=17;break;case 3:S.msg="invalid block type",p.mode=30}G>>>=2,Z-=2;break;case 14:for(G>>>=7&Z,Z-=7&Z;Z<32;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if((65535&G)!=(G>>>16^65535)){S.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&G,Z=G=0,p.mode=15,H===6)break e;case 15:p.mode=16;case 16:if(te=p.length){if(ce<te&&(te=ce),fe<te&&(te=fe),te===0)break e;i.arraySet(ve,ee,Q,te,Se),ce-=te,Q+=te,fe-=te,Se+=te,p.length-=te;break}p.mode=12;break;case 17:for(;Z<14;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(p.nlen=257+(31&G),G>>>=5,Z-=5,p.ndist=1+(31&G),G>>>=5,Z-=5,p.ncode=4+(15&G),G>>>=4,Z-=4,286<p.nlen||30<p.ndist){S.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;Z<3;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}p.lens[W[p.have++]]=7&G,G>>>=3,Z-=3}for(;p.have<19;)p.lens[W[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,z={bits:p.lenbits},B=u(0,p.lens,0,19,p.lencode,0,p.work,z),p.lenbits=z.bits,B){S.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;Be=(b=p.lencode[G&(1<<p.lenbits)-1])>>>16&255,Ge=65535&b,!((Ie=b>>>24)<=Z);){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(Ge<16)G>>>=Ie,Z-=Ie,p.lens[p.have++]=Ge;else{if(Ge===16){for(C=Ie+2;Z<C;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(G>>>=Ie,Z-=Ie,p.have===0){S.msg="invalid bit length repeat",p.mode=30;break}c=p.lens[p.have-1],te=3+(3&G),G>>>=2,Z-=2}else if(Ge===17){for(C=Ie+3;Z<C;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}Z-=Ie,c=0,te=3+(7&(G>>>=Ie)),G>>>=3,Z-=3}else{for(C=Ie+7;Z<C;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}Z-=Ie,c=0,te=11+(127&(G>>>=Ie)),G>>>=7,Z-=7}if(p.have+te>p.nlen+p.ndist){S.msg="invalid bit length repeat",p.mode=30;break}for(;te--;)p.lens[p.have++]=c}}if(p.mode===30)break;if(p.lens[256]===0){S.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,z={bits:p.lenbits},B=u(f,p.lens,0,p.nlen,p.lencode,0,p.work,z),p.lenbits=z.bits,B){S.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,z={bits:p.distbits},B=u(m,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,z),p.distbits=z.bits,B){S.msg="invalid distances set",p.mode=30;break}if(p.mode=20,H===6)break e;case 20:p.mode=21;case 21:if(6<=ce&&258<=fe){S.next_out=Se,S.avail_out=fe,S.next_in=Q,S.avail_in=ce,p.hold=G,p.bits=Z,l(S,_e),Se=S.next_out,ve=S.output,fe=S.avail_out,Q=S.next_in,ee=S.input,ce=S.avail_in,G=p.hold,Z=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;Be=(b=p.lencode[G&(1<<p.lenbits)-1])>>>16&255,Ge=65535&b,!((Ie=b>>>24)<=Z);){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(Be&&!(240&Be)){for(Xe=Ie,T=Be,j=Ge;Be=(b=p.lencode[j+((G&(1<<Xe+T)-1)>>Xe)])>>>16&255,Ge=65535&b,!(Xe+(Ie=b>>>24)<=Z);){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}G>>>=Xe,Z-=Xe,p.back+=Xe}if(G>>>=Ie,Z-=Ie,p.back+=Ie,p.length=Ge,Be===0){p.mode=26;break}if(32&Be){p.back=-1,p.mode=12;break}if(64&Be){S.msg="invalid literal/length code",p.mode=30;break}p.extra=15&Be,p.mode=22;case 22:if(p.extra){for(C=p.extra;Z<C;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}p.length+=G&(1<<p.extra)-1,G>>>=p.extra,Z-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;Be=(b=p.distcode[G&(1<<p.distbits)-1])>>>16&255,Ge=65535&b,!((Ie=b>>>24)<=Z);){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(!(240&Be)){for(Xe=Ie,T=Be,j=Ge;Be=(b=p.distcode[j+((G&(1<<Xe+T)-1)>>Xe)])>>>16&255,Ge=65535&b,!(Xe+(Ie=b>>>24)<=Z);){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}G>>>=Xe,Z-=Xe,p.back+=Xe}if(G>>>=Ie,Z-=Ie,p.back+=Ie,64&Be){S.msg="invalid distance code",p.mode=30;break}p.offset=Ge,p.extra=15&Be,p.mode=24;case 24:if(p.extra){for(C=p.extra;Z<C;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}p.offset+=G&(1<<p.extra)-1,G>>>=p.extra,Z-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){S.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(fe===0)break e;if(te=_e-fe,p.offset>te){if((te=p.offset-te)>p.whave&&p.sane){S.msg="invalid distance too far back",p.mode=30;break}Ee=te>p.wnext?(te-=p.wnext,p.wsize-te):p.wnext-te,te>p.length&&(te=p.length),Re=p.window}else Re=ve,Ee=Se-p.offset,te=p.length;for(fe<te&&(te=fe),fe-=te,p.length-=te;ve[Se++]=Re[Ee++],--te;);p.length===0&&(p.mode=21);break;case 26:if(fe===0)break e;ve[Se++]=p.length,fe--,p.mode=21;break;case 27:if(p.wrap){for(;Z<32;){if(ce===0)break e;ce--,G|=ee[Q++]<<Z,Z+=8}if(_e-=fe,S.total_out+=_e,p.total+=_e,_e&&(S.adler=p.check=p.flags?a(p.check,ve,_e,Se-_e):s(p.check,ve,_e,Se-_e)),_e=fe,(p.flags?G:w(G))!==p.check){S.msg="incorrect data check",p.mode=30;break}Z=G=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;Z<32;){if(ce===0)break e;ce--,G+=ee[Q++]<<Z,Z+=8}if(G!==(4294967295&p.total)){S.msg="incorrect length check",p.mode=30;break}Z=G=0}p.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return d}return S.next_out=Se,S.avail_out=fe,S.next_in=Q,S.avail_in=ce,p.hold=G,p.bits=Z,(p.wsize||_e!==S.avail_out&&p.mode<30&&(p.mode<27||H!==4))&&se(S,S.output,S.next_out,_e-S.avail_out)?(p.mode=31,-4):(Ce-=S.avail_in,_e-=S.avail_out,S.total_in+=Ce,S.total_out+=_e,p.total+=_e,p.wrap&&_e&&(S.adler=p.check=p.flags?a(p.check,ve,_e,S.next_out-_e):s(p.check,ve,_e,S.next_out-_e)),S.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(Ce==0&&_e===0||H===4)&&B===y&&(B=-5),B)},r.inflateEnd=function(S){if(!S||!S.state)return d;var H=S.state;return H.window&&(H.window=null),S.state=null,y},r.inflateGetHeader=function(S,H){var p;return S&&S.state&&2&(p=S.state).wrap?((p.head=H).done=!1,y):d},r.inflateSetDictionary=function(S,H){var p,ee=H.length;return S&&S.state?(p=S.state).wrap!==0&&p.mode!==11?d:p.mode===11&&s(1,H,ee,0)!==p.check?-3:se(S,H,ee,ee)?(p.mode=31,-4):(p.havedict=1,y):d},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,r){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(f,m,y,d,v,h,g,w){var x,P,k,A,X,F,N,D,M,se=w.bits,S=0,H=0,p=0,ee=0,ve=0,Q=0,Se=0,ce=0,fe=0,G=0,Z=null,Ce=0,_e=new i.Buf16(16),te=new i.Buf16(16),Ee=null,Re=0;for(S=0;S<=15;S++)_e[S]=0;for(H=0;H<d;H++)_e[m[y+H]]++;for(ve=se,ee=15;1<=ee&&_e[ee]===0;ee--);if(ee<ve&&(ve=ee),ee===0)return v[h++]=20971520,v[h++]=20971520,w.bits=1,0;for(p=1;p<ee&&_e[p]===0;p++);for(ve<p&&(ve=p),S=ce=1;S<=15;S++)if(ce<<=1,(ce-=_e[S])<0)return-1;if(0<ce&&(f===0||ee!==1))return-1;for(te[1]=0,S=1;S<15;S++)te[S+1]=te[S]+_e[S];for(H=0;H<d;H++)m[y+H]!==0&&(g[te[m[y+H]]++]=H);if(F=f===0?(Z=Ee=g,19):f===1?(Z=s,Ce-=257,Ee=a,Re-=257,256):(Z=l,Ee=u,-1),S=p,X=h,Se=H=G=0,k=-1,A=(fe=1<<(Q=ve))-1,f===1&&852<fe||f===2&&592<fe)return 1;for(;;){for(N=S-Se,M=g[H]<F?(D=0,g[H]):g[H]>F?(D=Ee[Re+g[H]],Z[Ce+g[H]]):(D=96,0),x=1<<S-Se,p=P=1<<Q;v[X+(G>>Se)+(P-=x)]=N<<24|D<<16|M|0,P!==0;);for(x=1<<S-1;G&x;)x>>=1;if(x!==0?(G&=x-1,G+=x):G=0,H++,--_e[S]==0){if(S===ee)break;S=m[y+g[H]]}if(ve<S&&(G&A)!==k){for(Se===0&&(Se=ve),X+=p,ce=1<<(Q=S-Se);Q+Se<ee&&!((ce-=_e[Q+Se])<=0);)Q++,ce<<=1;if(fe+=1<<Q,f===1&&852<fe||f===2&&592<fe)return 1;v[k=G&A]=ve<<24|Q<<16|X-h|0}}return G!==0&&(v[X+G]=S-Se<<24|64<<16|0),w.bits=ve,0}},{"../utils/common":41}],51:[function(n,o,r){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,r){var i=n("../utils/common"),s=0,a=1;function l(b){for(var I=b.length;0<=--I;)b[I]=0}var u=0,f=29,m=256,y=m+1+f,d=30,v=19,h=2*y+1,g=15,w=16,x=7,P=256,k=16,A=17,X=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(y+2));l(se);var S=new Array(2*d);l(S);var H=new Array(512);l(H);var p=new Array(256);l(p);var ee=new Array(f);l(ee);var ve,Q,Se,ce=new Array(d);function fe(b,I,W,V,R){this.static_tree=b,this.extra_bits=I,this.extra_base=W,this.elems=V,this.max_length=R,this.has_stree=b&&b.length}function G(b,I){this.dyn_tree=b,this.max_code=0,this.stat_desc=I}function Z(b){return b<256?H[b]:H[256+(b>>>7)]}function Ce(b,I){b.pending_buf[b.pending++]=255&I,b.pending_buf[b.pending++]=I>>>8&255}function _e(b,I,W){b.bi_valid>w-W?(b.bi_buf|=I<<b.bi_valid&65535,Ce(b,b.bi_buf),b.bi_buf=I>>w-b.bi_valid,b.bi_valid+=W-w):(b.bi_buf|=I<<b.bi_valid&65535,b.bi_valid+=W)}function te(b,I,W){_e(b,W[2*I],W[2*I+1])}function Ee(b,I){for(var W=0;W|=1&b,b>>>=1,W<<=1,0<--I;);return W>>>1}function Re(b,I,W){var V,R,Y=new Array(g+1),re=0;for(V=1;V<=g;V++)Y[V]=re=re+W[V-1]<<1;for(R=0;R<=I;R++){var ne=b[2*R+1];ne!==0&&(b[2*R]=Ee(Y[ne]++,ne))}}function Ie(b){var I;for(I=0;I<y;I++)b.dyn_ltree[2*I]=0;for(I=0;I<d;I++)b.dyn_dtree[2*I]=0;for(I=0;I<v;I++)b.bl_tree[2*I]=0;b.dyn_ltree[2*P]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function Be(b){8<b.bi_valid?Ce(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Ge(b,I,W,V){var R=2*I,Y=2*W;return b[R]<b[Y]||b[R]===b[Y]&&V[I]<=V[W]}function Xe(b,I,W){for(var V=b.heap[W],R=W<<1;R<=b.heap_len&&(R<b.heap_len&&Ge(I,b.heap[R+1],b.heap[R],b.depth)&&R++,!Ge(I,V,b.heap[R],b.depth));)b.heap[W]=b.heap[R],W=R,R<<=1;b.heap[W]=V}function T(b,I,W){var V,R,Y,re,ne=0;if(b.last_lit!==0)for(;V=b.pending_buf[b.d_buf+2*ne]<<8|b.pending_buf[b.d_buf+2*ne+1],R=b.pending_buf[b.l_buf+ne],ne++,V===0?te(b,R,I):(te(b,(Y=p[R])+m+1,I),(re=F[Y])!==0&&_e(b,R-=ee[Y],re),te(b,Y=Z(--V),W),(re=N[Y])!==0&&_e(b,V-=ce[Y],re)),ne<b.last_lit;);te(b,P,I)}function j(b,I){var W,V,R,Y=I.dyn_tree,re=I.stat_desc.static_tree,ne=I.stat_desc.has_stree,pe=I.stat_desc.elems,ze=-1;for(b.heap_len=0,b.heap_max=h,W=0;W<pe;W++)Y[2*W]!==0?(b.heap[++b.heap_len]=ze=W,b.depth[W]=0):Y[2*W+1]=0;for(;b.heap_len<2;)Y[2*(R=b.heap[++b.heap_len]=ze<2?++ze:0)]=1,b.depth[R]=0,b.opt_len--,ne&&(b.static_len-=re[2*R+1]);for(I.max_code=ze,W=b.heap_len>>1;1<=W;W--)Xe(b,Y,W);for(R=pe;W=b.heap[1],b.heap[1]=b.heap[b.heap_len--],Xe(b,Y,1),V=b.heap[1],b.heap[--b.heap_max]=W,b.heap[--b.heap_max]=V,Y[2*R]=Y[2*W]+Y[2*V],b.depth[R]=(b.depth[W]>=b.depth[V]?b.depth[W]:b.depth[V])+1,Y[2*W+1]=Y[2*V+1]=R,b.heap[1]=R++,Xe(b,Y,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(Pe,We){var ct,Ze,bt,Te,$e,ot,tt=We.dyn_tree,Dt=We.max_code,Mt=We.stat_desc.static_tree,Yt=We.stat_desc.has_stree,Lt=We.stat_desc.extra_bits,St=We.stat_desc.extra_base,Et=We.stat_desc.max_length,Nt=0;for(Te=0;Te<=g;Te++)Pe.bl_count[Te]=0;for(tt[2*Pe.heap[Pe.heap_max]+1]=0,ct=Pe.heap_max+1;ct<h;ct++)Et<(Te=tt[2*tt[2*(Ze=Pe.heap[ct])+1]+1]+1)&&(Te=Et,Nt++),tt[2*Ze+1]=Te,Dt<Ze||(Pe.bl_count[Te]++,$e=0,St<=Ze&&($e=Lt[Ze-St]),ot=tt[2*Ze],Pe.opt_len+=ot*(Te+$e),Yt&&(Pe.static_len+=ot*(Mt[2*Ze+1]+$e)));if(Nt!==0){do{for(Te=Et-1;Pe.bl_count[Te]===0;)Te--;Pe.bl_count[Te]--,Pe.bl_count[Te+1]+=2,Pe.bl_count[Et]--,Nt-=2}while(0<Nt);for(Te=Et;Te!==0;Te--)for(Ze=Pe.bl_count[Te];Ze!==0;)Dt<(bt=Pe.heap[--ct])||(tt[2*bt+1]!==Te&&(Pe.opt_len+=(Te-tt[2*bt+1])*tt[2*bt],tt[2*bt+1]=Te),Ze--)}}(b,I),Re(Y,ze,b.bl_count)}function c(b,I,W){var V,R,Y=-1,re=I[1],ne=0,pe=7,ze=4;for(re===0&&(pe=138,ze=3),I[2*(W+1)+1]=65535,V=0;V<=W;V++)R=re,re=I[2*(V+1)+1],++ne<pe&&R===re||(ne<ze?b.bl_tree[2*R]+=ne:R!==0?(R!==Y&&b.bl_tree[2*R]++,b.bl_tree[2*k]++):ne<=10?b.bl_tree[2*A]++:b.bl_tree[2*X]++,Y=R,ze=(ne=0)===re?(pe=138,3):R===re?(pe=6,3):(pe=7,4))}function B(b,I,W){var V,R,Y=-1,re=I[1],ne=0,pe=7,ze=4;for(re===0&&(pe=138,ze=3),V=0;V<=W;V++)if(R=re,re=I[2*(V+1)+1],!(++ne<pe&&R===re)){if(ne<ze)for(;te(b,R,b.bl_tree),--ne!=0;);else R!==0?(R!==Y&&(te(b,R,b.bl_tree),ne--),te(b,k,b.bl_tree),_e(b,ne-3,2)):ne<=10?(te(b,A,b.bl_tree),_e(b,ne-3,3)):(te(b,X,b.bl_tree),_e(b,ne-11,7));Y=R,ze=(ne=0)===re?(pe=138,3):R===re?(pe=6,3):(pe=7,4)}}l(ce);var z=!1;function C(b,I,W,V){_e(b,(u<<1)+(V?1:0),3),function(R,Y,re,ne){Be(R),ne&&(Ce(R,re),Ce(R,~re)),i.arraySet(R.pending_buf,R.window,Y,re,R.pending),R.pending+=re}(b,I,W,!0)}r._tr_init=function(b){z||(function(){var I,W,V,R,Y,re=new Array(g+1);for(R=V=0;R<f-1;R++)for(ee[R]=V,I=0;I<1<<F[R];I++)p[V++]=R;for(p[V-1]=R,R=Y=0;R<16;R++)for(ce[R]=Y,I=0;I<1<<N[R];I++)H[Y++]=R;for(Y>>=7;R<d;R++)for(ce[R]=Y<<7,I=0;I<1<<N[R]-7;I++)H[256+Y++]=R;for(W=0;W<=g;W++)re[W]=0;for(I=0;I<=143;)se[2*I+1]=8,I++,re[8]++;for(;I<=255;)se[2*I+1]=9,I++,re[9]++;for(;I<=279;)se[2*I+1]=7,I++,re[7]++;for(;I<=287;)se[2*I+1]=8,I++,re[8]++;for(Re(se,y+1,re),I=0;I<d;I++)S[2*I+1]=5,S[2*I]=Ee(I,5);ve=new fe(se,F,m+1,y,g),Q=new fe(S,N,0,d,g),Se=new fe(new Array(0),D,0,v,x)}(),z=!0),b.l_desc=new G(b.dyn_ltree,ve),b.d_desc=new G(b.dyn_dtree,Q),b.bl_desc=new G(b.bl_tree,Se),b.bi_buf=0,b.bi_valid=0,Ie(b)},r._tr_stored_block=C,r._tr_flush_block=function(b,I,W,V){var R,Y,re=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(ne){var pe,ze=4093624447;for(pe=0;pe<=31;pe++,ze>>>=1)if(1&ze&&ne.dyn_ltree[2*pe]!==0)return s;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return a;for(pe=32;pe<m;pe++)if(ne.dyn_ltree[2*pe]!==0)return a;return s}(b)),j(b,b.l_desc),j(b,b.d_desc),re=function(ne){var pe;for(c(ne,ne.dyn_ltree,ne.l_desc.max_code),c(ne,ne.dyn_dtree,ne.d_desc.max_code),j(ne,ne.bl_desc),pe=v-1;3<=pe&&ne.bl_tree[2*M[pe]+1]===0;pe--);return ne.opt_len+=3*(pe+1)+5+5+4,pe}(b),R=b.opt_len+3+7>>>3,(Y=b.static_len+3+7>>>3)<=R&&(R=Y)):R=Y=W+5,W+4<=R&&I!==-1?C(b,I,W,V):b.strategy===4||Y===R?(_e(b,2+(V?1:0),3),T(b,se,S)):(_e(b,4+(V?1:0),3),function(ne,pe,ze,Pe){var We;for(_e(ne,pe-257,5),_e(ne,ze-1,5),_e(ne,Pe-4,4),We=0;We<Pe;We++)_e(ne,ne.bl_tree[2*M[We]+1],3);B(ne,ne.dyn_ltree,pe-1),B(ne,ne.dyn_dtree,ze-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,re+1),T(b,b.dyn_ltree,b.dyn_dtree)),Ie(b),V&&Be(b)},r._tr_tally=function(b,I,W){return b.pending_buf[b.d_buf+2*b.last_lit]=I>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&I,b.pending_buf[b.l_buf+b.last_lit]=255&W,b.last_lit++,I===0?b.dyn_ltree[2*W]++:(b.matches++,I--,b.dyn_ltree[2*(p[W]+m+1)]++,b.dyn_dtree[2*Z(I)]++),b.last_lit===b.lit_bufsize-1},r._tr_align=function(b){_e(b,2,3),te(b,P,se),function(I){I.bi_valid===16?(Ce(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(n,o,r){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,r){(function(i){(function(s,a){if(!s.setImmediate){var l,u,f,m,y=1,d={},v=!1,h=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,l={}.toString.call(s.process)==="[object process]"?function(k){process.nextTick(function(){x(k)})}:function(){if(s.postMessage&&!s.importScripts){var k=!0,A=s.onmessage;return s.onmessage=function(){k=!1},s.postMessage("","*"),s.onmessage=A,k}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",P,!1):s.attachEvent("onmessage",P),function(k){s.postMessage(m+k,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(k){x(k.data)},function(k){f.port2.postMessage(k)}):h&&"onreadystatechange"in h.createElement("script")?(u=h.documentElement,function(k){var A=h.createElement("script");A.onreadystatechange=function(){x(k),A.onreadystatechange=null,u.removeChild(A),A=null},u.appendChild(A)}):function(k){setTimeout(x,0,k)},g.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var A=new Array(arguments.length-1),X=0;X<A.length;X++)A[X]=arguments[X+1];var F={callback:k,args:A};return d[y]=F,l(y),y++},g.clearImmediate=w}function w(k){delete d[k]}function x(k){if(v)setTimeout(x,0,k);else{var A=d[k];if(A){v=!0;try{(function(X){var F=X.callback,N=X.args;switch(N.length){case 0:F();break;case 1:F(N[0]);break;case 2:F(N[0],N[1]);break;case 3:F(N[0],N[1],N[2]);break;default:F.apply(a,N)}})(A)}finally{w(k),v=!1}}}}function P(k){k.source===s&&typeof k.data=="string"&&k.data.indexOf(m)===0&&x(+k.data.slice(m.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof dn<"u"?dn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(oc);var bh=oc.exports;const Ba=Ts(bh);class Bo{static async open(t){const n=new Ba,o=window.api.openFile(t),{files:r}=await n.loadAsync(o);return await r.content.async("text")}static async writeBlob(t,n){const o=await n.arrayBuffer();window.api.saveFile(t,o)}static async save(t,n){const o=new Ba;o.file("content",JSON.stringify(n));const r=await o.generateAsync({type:"blob"});this.writeBlob(t,r)}}function Bs(e,t={}){let{items:n,connections:o,ports:r,groups:i}=Zt(e);function s(d){return Object.values(d).forEach(v=>{const h=v.id,g=it();t[h]=g,d[g]=Zt(v),delete d[h]}),d}function a(d,v){return Object.values(d).forEach(h=>{h.groupId=h.groupId!==null?t[h.groupId]:null}),Object.values(v).forEach(h=>{h.groupId=h.groupId!==null?t[h.groupId]:null}),{connections:d,items:v}}function l(d){return Object.values(d).forEach(v=>{const h=v.id,g=it();t[h]=g,d[g]=Zt(v),d[g].id=g,d[g].source=t[d[g].source],d[g].target=t[d[g].target],delete d[h]}),d}function u(d){return Object.values(d).forEach(v=>{d[v.id].connectionChainId=t[d[v.id].connectionChainId]}),d}function f(d){return Object.values(d).forEach(v=>{const h=v.id,g=it();t[h]=g,d[g]=Zt(v),v.integratedCircuit&&(d[g].integratedCircuit={serializedState:v.integratedCircuit.serializedState,...Bs(Zt(v.integratedCircuit),t)}),d[g].id=g,d[g].portIds=v.portIds.map(w=>t[w]),delete d[h]}),d}function m(d){return Object.values(d).forEach(v=>{d[v.id].elementId=t[v.elementId]}),d}function y(d){return Object.values(d).forEach(v=>{const h=v.id,g=it();t[h]=g,d[g]=Zt(v),d[g].id=g,delete d[h]}),d}return r=y(r),n=f(n),r=m(r),o=l(o),o=u(o),i=s(i),{...a(o,n),ports:r,groups:i}}function _h(e){if(!e.integratedCircuit)return e;const{items:t}=Bs({items:{[e.id]:e},connections:{},ports:{},groups:{}}),n=Object.values(t)[0];return n.id=it(),n}const Ls={mapStandardCircuitIds:Bs,mapIntegratedCircuitIds:_h},Ns=ci("integratedCircuit",{state:()=>({isBuilderOpen:!1,model:null,factories:{},resolve:()=>{}}),actions:{launchBuilder(e){return this.isBuilderOpen=!0,this.model=nc(e,"My integrated circuit",400,400),new Promise(t=>{this.resolve=t})},async loadLibrary(){const e=window.api.getFilePaths(window.api.getDefaultSavePath(),"aicx");for(let t=0;t<e.length;t++)await this.loadCircuit(e[t])},async loadCircuit(e){try{const t=await Bo.open(e),n=JSON.parse(t);this.factories[n.name]=()=>{const o=Ls.mapIntegratedCircuitIds(n),r=o.portIds.reduce((i,s)=>{var l;const a=(l=o.integratedCircuit)==null?void 0:l.ports[s];return a&&i[a.orientation].push(a),i},{[Ne.Left]:[],[Ne.Top]:[],[Ne.Right]:[],[Ne.Bottom]:[]});return{item:o,ports:r}}}catch(t){console.log(t),window.api.showMessageBox({message:`Could not load ${e} into the integrated circuit library. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},async save(){if(this.model){try{const e=`${this.model.name}.aicx`,t=window.api.showSaveFileDialog([{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}],e);if(!t)return;await Bo.save(t,this.model),await this.loadCircuit(t),window.api.showMessageBox({message:"Integrated circuit successfully created. You can find it in the toolbox.",title:"Success",type:"info"})}catch{window.api.showMessageBox({message:"An error occurred while trying to save the integrated circuit.",title:"Error",type:"error"})}this.close()}},close(){this.resolve(),this.isBuilderOpen=!0}}}),wh=xe({name:"Icon",props:{icon:{type:Object,default:null}},setup(e){const t=nt(()=>e.icon.icon[0]),n=nt(()=>e.icon.icon[1]),o=nt(()=>e.icon.icon[4]);return{width:t,height:n,svgPath:o}}});const Ch=["viewBox"],Sh=["d"];function Ih(e,t,n,o,r,i){return K(),de("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:`0 0 ${e.width} ${e.height}`},[ye("path",{fill:"currentColor",d:e.svgPath},null,8,Sh)],8,Ch)}const qt=Oe(wh,[["render",Ih]]),xh=xe({name:"Modal",components:{Icon:qt},props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:""}},setup(){const e=Ue(!1);return{faClose:_o,show:e}}});const Eh={key:0,class:"modal"},Oh={class:"modal__inner"},kh={class:"modal__title"},Ph={class:"modal__title-text"},$h={class:"modal__content"},Ah={key:0,class:"modal__buttons"};function Dh(e,t,n,o,r,i){const s=we("icon");return K(),Fe(Xo,{name:"modal",appear:""},{default:je(()=>[e.modelValue?(K(),de("div",Eh,[ye("div",Oh,[ye("div",kh,[ye("div",Ph,dt(e.title),1),ye("button",{title:"Close",onClick:t[0]||(t[0]=a=>e.$emit("update:modelValue",!1)),class:"modal__close"},[ue(s,{icon:e.faClose},null,8,["icon"])])]),ye("div",$h,[ft(e.$slots,"default")]),e.$slots.buttons?(K(),de("div",Ah,[ft(e.$slots,"buttons")])):pt("",!0)])])):pt("",!0)]),_:3})}const zh=Oe(xh,[["render",Dh]]),Th=xe({name:"ModalButton",props:{text:{type:String,required:!0},disabled:{type:Boolean,default:!1},inverted:{type:Boolean,default:!1}}});function Mh(e,t,n,o,r,i){return K(),de("button",{class:Ye(["modal-button",{"modal-button--inverted":e.inverted}]),role:"button"},dt(e.text),3)}const Bh=Oe(Th,[["render",Mh]]),Lh=xe({name:"BuilderView",components:{Builder:hh,Modal:zh,ModalButton:Bh},setup(){const{isBuilderOpen:e,model:t,save:n,close:o}=Ns(),r=Ue(!1);return r.value=!0,{item:t,isBuilderOpen:e,save:n,close:o,isOpen:r}}});const Nh={class:"builder-canvas"};function Rh(e,t,n,o,r,i){const s=we("builder"),a=we("modal-button"),l=we("modal");return K(),Fe(l,{modelValue:e.isBuilderOpen,"onUpdate:modelValue":[t[1]||(t[1]=u=>e.isBuilderOpen=u),e.close],title:"Build Circuit"},{buttons:je(()=>[ue(a,{text:"Cancel",onClick:e.close,inverted:""},null,8,["onClick"]),ue(a,{text:"Save",onClick:e.save},null,8,["onClick"])]),default:je(()=>[ye("div",Nh,[ue(s,{modelValue:e.item,"onUpdate:modelValue":t[0]||(t[0]=u=>e.item=u)},null,8,["modelValue"])])]),_:1},8,["modelValue","onUpdate:modelValue"])}const Fh=Oe(Lh,[["render",Rh]]);var Vt=(e=>(e[e.Outer=0]="Outer",e[e.Inner=1]="Inner",e[e.Radial=2]="Radial",e[e.Grid=3]="Grid",e[e.None=4]="None",e))(Vt||{});function Hr(e,t){return Math.round(e/t)*t}function rc(e,t,n){return Math.hypot(e.x-t.x,e.y-t.y)<=n}function ic(e,t){return{x:Hr(e.left,t)-e.left,y:Hr(e.top,t)-e.top}}function sc(e,t,n){for(let o=0;o<e.length;o++){const r=e[o];if(rc({x:r.left,y:r.top},{x:t.left,y:t.top},n))return{x:r.left-t.left,y:r.top-t.top}}return{x:0,y:0}}function ac(e,t,n){const o={x:0,y:0};for(let r=0;r<e.length;r++){const i=e[r],s=Math.abs(i.top-t.bottom)<=n,a=Math.abs(i.bottom-t.top)<=n,l=Math.abs(i.left-t.right)<=n,u=Math.abs(i.right-t.left)<=n;(t.left<=i.right&&t.left>=i.left||t.right>=i.left&&t.right<=i.right||t.left<=i.left&&t.right>=i.right)&&(s&&(o.y=i.top-t.bottom),a&&(o.y=i.bottom-t.top)),(t.top<=i.bottom&&t.top>=i.top||t.bottom>=i.top&&t.bottom<=i.bottom||t.top<=i.top&&t.bottom>=i.bottom)&&(l&&(o.x=i.left-t.right),u&&(o.x=i.right-t.left))}return o}function jh(e,t,n,o){switch(n){case Vt.Radial:return sc(e,t,o);case Vt.Grid:return ic(t,o);case Vt.Outer:default:return ac(e,t,o)}}function $r(e,t,n,o){const r=(i,s,a)=>(a.y-i.y)*(s.x-i.x)>(s.y-i.y)*(a.x-i.x);return r(e,n,o)!==r(t,n,o)&&r(e,t,n)!==r(e,t,o)}function Vh(e,t,n){const o={x:n.left,y:n.top},r={x:n.right,y:n.top},i={x:n.right,y:n.bottom},s={x:n.left,y:n.bottom};return $r(e,t,o,r)||$r(e,t,r,i)||$r(e,t,i,s)||$r(e,t,s,o)}function Uh(e,t){return!(e.left>=t.right||t.left>=e.right||e.top>=t.bottom||t.top>=e.bottom)}function Hh(e,t){return{left:e.left*t,top:e.top*t,bottom:e.bottom*t,right:e.right*t}}function Wh(e){return e.left!==e.right||e.top!==e.bottom}function qh(e){return[{left:e.x,right:e.x,top:-1/0,bottom:1/0},{left:-1/0,right:1/0,top:e.y,bottom:e.y}]}function Zh(e){return{left:e.x,top:e.y,right:e.x,bottom:e.y}}function Gh(e,t,n,o){if(t%2===0)return{left:e.x,top:e.y,bottom:o+e.y,right:n+e.x};const r=e.x+n/2,i=e.y+o/2;return{left:r-o/2,top:i-n/2,right:r+o/2,bottom:i+n/2}}function Kh(e){return e.reduce((t,n)=>({left:Math.min(t.left,n.left),top:Math.min(t.top,n.top),right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)}),{left:1/0,top:1/0,right:0,bottom:0})}function lc(e){const t=e.right-e.left,n=e.bottom-e.top;return{x:t/2,y:n/2}}function Xh(e,t,n){const o=lc(e),r=t.right-t.left,i=t.bottom-t.top;return{x:Hr(o.x-r/2,n),y:Hr(o.y-i/2,n)}}function Yh(e,...t){const n=Math[e](...t.map(({x:r})=>r)),o=Math[e](...t.map(({y:r})=>r));return{x:n,y:o}}const mt={isInNeighborhood:rc,getRadialSnapOffset:sc,getOuterSnapOffset:ac,getGridSnapPosition:ic,isLineIntersectingRectangle:Vh,scaleBoundingBox:Hh,isOneOrTwoDimensional:Wh,getLinearBoundaries:qh,getPointBoundary:Zh,hasIntersection:Uh,getBoundingBox:Gh,getGroupBoundingBox:Kh,getBoundingBoxMidpoint:lc,getCenteredScreenPoint:Xh,getSnapOffset:jh,getExtremePoint:Yh},Jh=xe({name:"Draggable",props:{position:{type:Object,default:()=>({x:0,y:0})},isSelected:{type:Boolean,default:!1},allowTouchDrag:{type:Boolean,default:!0}},emits:{dragStart:(e,t)=>!0,drag:(e,t)=>!0,dragEnd:(e,t)=>!0,select:e=>!0,deselect:()=>!0,touchhold:e=>!0},setup(e,{emit:t}){const n=nt(()=>({left:`${e.position.x}px`,top:`${e.position.y}px`})),o=Ue();let r=0,i=0,s=!1,a=!1,l=!1,u={x:0,y:0},f={x:0,y:0},m={x:0,y:0};Wt(()=>{window.addEventListener("mousemove",w),window.addEventListener("mouseup",h)}),Gn(()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",h)});function y(){requestAnimationFrame(()=>{e.isSelected||t("select",!1)})}function d(A){const{clientX:X,clientY:F}=A;s&&(f.x===X&&f.y===F||(f={x:X,y:F},t(l?"drag":"dragStart",f,m),l=!0,a=!0))}function v({clientX:A,clientY:X}){if(!o.value)return;const{x:F,y:N,width:D,height:M}=o.value.getBoundingClientRect();f={x:A,y:X},m={x:A-(F+D/2),y:X-(N+M/2)},s=!0,l=!1}function h(){s&&(s=!1,a&&t("dragEnd",f,m))}function g(A){A.stopPropagation(),A.preventDefault(),t("select",A.ctrlKey),v(A)}function w(A){s&&(r||(r=window.requestAnimationFrame(()=>{r=0,A.stopPropagation(),A.preventDefault(),d(A)})))}function x(A){A.stopPropagation(),A.preventDefault(),a=!1,u={x:A.touches[0].clientX,y:A.touches[0].clientY},i=window.setTimeout(()=>{t("touchhold",A)},500)}function P(A){if(!r){if(A.touches.length>1)return k();r=window.requestAnimationFrame(()=>{r=0,mt.isInNeighborhood(u,{x:A.touches[0].clientX,y:A.touches[0].clientY},5)||(a=!0,clearTimeout(i)),e.allowTouchDrag&&(s=!0,d(A.touches[0]))})}}function k(A){clearTimeout(i),s?h():a||(e.isSelected?t("deselect"):t("select",!0))}return{style:n,draggable:o,onMouseDown:g,onTouchStart:x,onTouchMove:P,onTouchEnd:k,dragEnd:h,onFocus:y}}});function Qh(e,t,n,o,r,i){return K(),de("div",{class:"draggable",ref:"draggable",style:at(e.style),onMousedown:t[0]||(t[0]=Wn((...s)=>e.onMouseDown&&e.onMouseDown(...s),["left"])),onTouchstart:t[1]||(t[1]=(...s)=>e.onTouchStart&&e.onTouchStart(...s)),onTouchmove:t[2]||(t[2]=(...s)=>e.onTouchMove&&e.onTouchMove(...s)),onTouchend:t[3]||(t[3]=(...s)=>e.onTouchEnd&&e.onTouchEnd(...s)),onTouchcancel:t[4]||(t[4]=(...s)=>e.dragEnd&&e.dragEnd(...s)),onFocus:t[5]||(t[5]=(...s)=>e.onFocus&&e.onFocus(...s))},[ft(e.$slots,"default")],36)}const ui=Oe(Jh,[["render",Qh]]),ep=xe({name:"Wire",props:{isAnimated:{type:Boolean,default:!1},source:{type:Object,required:!0},target:{type:Object,required:!0},label:{type:String,default:""},isPreview:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},geometry:{type:Object,required:!0}}});const tp=["width","height"],np=["transform","d"],op=["transform","d"],rp=["transform","d"],ip=["transform","d"];function sp(e,t,n,o,r,i){return K(),de("svg",{class:Ye(["wire",{"wire--selected":e.isSelected,"wire--flash":e.flash,"wire--preview":e.isPreview}]),width:e.geometry.width,height:e.geometry.height},[ye("title",null,dt(e.label),1),ye("path",{class:"wire__outline",fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,8,np),ye("path",{class:Ye(["wire__display",{"wire__display--on":e.source.value===1,"wire__display--off":e.source.value===-1}]),fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,10,op),e.isAnimated?(K(),de("path",{key:0,class:"wire__animation",fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,8,rp)):pt("",!0),ye("path",{class:"wire__clickable",fill:"none",transform:`translate(${Math.abs(e.geometry.minX)}, ${Math.abs(e.geometry.minY)})`,d:e.geometry.path},null,8,ip)],10,tp)}const ap=Oe(ep,[["render",sp]]);function lp(e,t=0){return(e+t%4+4)%4}function cp(e,t,n){const o=e.right-e.left,r=e.bottom-e.top,i=e.left+o/2,s=e.top+r/2,a=t.position.x,l=t.position.y,u=a+t.width/2,f=l+t.height/2,m=Math.hypot(i-u,s-f),y=Math.atan2(f-s,u-i),d=90*n*(Math.PI/180)+y,v=m*Math.cos(d)+i,h=m*Math.sin(d)+s;return{x:v-t.width/2,y:h-t.height/2}}const Zo={rotate:lp,getGroupedItemRotatedPosition:cp},on=15;function up(e,t){const n=e.position,o=t.position,{start:r,end:i}=fp(n,o);if(r.x===i.x||r.y===i.y||i.x<=1&&r.x<=1||i.y<=1&&r.y<=1)return dp(r,i);const s=La(e,n,o),a=La(t,n,o);return hp(s,a,r,i)}function dp(e,t){return{path:`M ${e.x},${e.y} L ${t.x},${t.y}`,width:Math.abs(e.x-t.x)+on,height:Math.abs(e.y-t.y)+on,minX:-(on/2),minY:-(on/2)}}function cc(e,t,n){switch(e){case Ne.Left:return t.y>n.y?Ne.Right:Ne.Left;case Ne.Top:return t.x<n.x?Ne.Bottom:Ne.Top;case Ne.Right:return t.y>n.y?Ne.Left:Ne.Right;case Ne.Bottom:return t.x<n.x?Ne.Top:Ne.Bottom;default:return cc(Zo.rotate(e),t,n)}}function La(e,t,n){let o=Zo.rotate(e.orientation+e.rotation-1);return e.isFreeport&&(o=cc(o,t,n),(e.rotation%4===1||e.rotation%4===2)&&(o=Zo.rotate(o-2))),o}function fp(e,t){return e.x<=t.x?e.y<=t.y?{start:{x:0,y:0},end:{x:Math.floor(t.x-e.x),y:Math.floor(t.y-e.y)}}:{start:{x:0,y:Math.floor(e.y-t.y)},end:{x:Math.floor(t.x-e.x),y:0}}:e.y<=t.y?{start:{x:Math.floor(e.x-t.x),y:0},end:{x:0,y:Math.floor(t.y-e.y)}}:{start:{x:Math.floor(e.x-t.x),y:Math.floor(e.y-t.y)},end:{x:0,y:0}}}function hp(e,t,n,o){const r=n.x,i=n.y,s=o.x,a=o.y,l=Math.max(Math.abs(r-s)/2,10),u=Math.max(Math.abs(i-a)/2,10),f=X=>Math.round(X*1e3)/1e3,m=f([r,r+l,r,r-l][e]),y=f([i-u,i,i+u,i][e]),d=f([s,s+l,s,s-l][t]),v=f([a-u,a,a+u,a][t]),h=["M",f(r),f(i),"C",m,y,d,v,f(s),f(a)].join(" "),g=Math.min(r,m,d,s)-on/2,w=Math.max(r,m,d,s)+on/2,x=Math.min(i,y,v,a)-on/2,P=Math.max(i,y,v,a)+on/2,k=w-g+on,A=P-x+on;return{width:k,height:A,path:h,minX:g,minY:x}}const pp={},mp={switch1_nor1_conn:{id:"switch1_nor1_conn",connectionChainId:"switch1_nor1_conn",source:"switchOutputPort1",target:"nor1InputPort1",isSelected:!1,groupId:null,zIndex:7},switch2_nor2_conn:{id:"switch2_nor2_conn",connectionChainId:"switch2_nor2_conn",source:"switchOutputPort2",target:"nor2InputPort1",isSelected:!1,groupId:null,zIndex:8},nor1_nor2_conn:{id:"nor1_nor2_conn",connectionChainId:"nor1_nor2_conn",source:"nor1OutputPort1",target:"nor2InputPort2",isSelected:!1,groupId:null,zIndex:9},nor2_nor1_conn:{id:"nor2_nor1_conn",connectionChainId:"nor2_nor1_conn",source:"nor2OutputPort1",target:"nor1InputPort2",isSelected:!1,groupId:null,zIndex:10},nor1_lightbulb1_conn:{id:"nor1_lightbulb1_conn",connectionChainId:"nor1_lightbulb1_conn",source:"nor1OutputPort1",target:"lightbulbInputPort1",isSelected:!1,groupId:null,zIndex:11},nor2_lightbulb2_conn:{id:"nor2_lightbulb2_conn",connectionChainId:"nor2_lightbulb2_conn",source:"nor2OutputPort1",target:"lightbulbInputPort2",isSelected:!1,groupId:null,zIndex:12}},gp={nor1InputPort1:{id:"nor1InputPort1",elementId:"nor1",name:"Input Port 1",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1InputPort2:{id:"nor1InputPort2",elementId:"nor1",name:"Input Port 2",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor1OutputPort1:{id:"nor1OutputPort1",elementId:"nor1",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},nor2InputPort1:{id:"nor2InputPort1",elementId:"nor2",name:"Input Port 1",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2InputPort2:{id:"nor2InputPort2",elementId:"nor2",name:"Input Port 2",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},nor2OutputPort1:{id:"nor2OutputPort1",elementId:"nor2",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort1:{id:"switchOutputPort1",elementId:"switch1",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},switchOutputPort2:{id:"switchOutputPort2",elementId:"switch2",name:"Output Port",connectedPortIds:[],position:{x:0,y:0},type:0,rotation:0,orientation:2,value:0,isFreeport:!1},lightbulbInputPort1:{id:"lightbulbInputPort1",elementId:"lightbulb1",name:"Input Port",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1},lightbulbInputPort2:{id:"lightbulbInputPort2",elementId:"lightbulb2",name:"Input Port",connectedPortIds:[],position:{x:0,y:0},type:1,rotation:0,orientation:0,value:0,isFreeport:!1}},vp={nor1:{id:"nor1",type:"LogicGate",subtype:"Nor",portIds:["nor1InputPort1","nor1InputPort2","nor1OutputPort1"],position:{x:300,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2}},groupId:null,zIndex:1,width:100,height:150},nor2:{id:"nor2",type:"LogicGate",subtype:"Nor",portIds:["nor2InputPort2","nor2InputPort1","nor2OutputPort1"],position:{x:300,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{inputCount:{label:"Input count",value:2,type:"number",min:2}},groupId:null,zIndex:2,width:120,height:51},switch1:{id:"switch1",type:"InputNode",subtype:"Clock",portIds:["switchOutputPort1"],position:{x:100,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},interval:{label:"Interval",value:1e3,type:"number",min:100,step:100},startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:3,width:40,height:40},switch2:{id:"switch2",type:"InputNode",subtype:"Switch",portIds:["switchOutputPort2"],position:{x:100,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"},startValue:{label:"Start value",value:1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},groupId:null,zIndex:4,width:40,height:40},lightbulb1:{id:"lightbulb1",type:"OutputNode",subtype:"Lightbulb",portIds:["lightbulbInputPort1"],position:{x:700,y:300},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:5,width:40,height:40},lightbulb2:{id:"lightbulb2",type:"OutputNode",subtype:"Lightbulb",portIds:["lightbulbInputPort2"],position:{x:700,y:500},boundingBox:{left:0,top:0,right:0,bottom:0},rotation:0,isSelected:!1,properties:{name:{label:"Name",value:"",type:"text"}},groupId:null,zIndex:6,width:40,height:40}},yp={groups:pp,connections:mp,ports:gp,items:vp};var qe=(e=>(e[e.FALSE=-1]="FALSE",e[e.UNKNOWN=0]="UNKNOWN",e[e.TRUE=1]="TRUE",e))(qe||{});class mn{constructor(t,n=[]){be(this,"inputValues",{});be(this,"outputs",[]);be(this,"isValueChanged",!0);be(this,"forceContinue",!1);be(this,"name");be(this,"value",qe.UNKNOWN);be(this,"newValue",qe.UNKNOWN);be(this,"events",[]);be(this,"setValue",t=>{this.newValue=t});be(this,"invokeEvent",(t,n,o)=>{this.events.forEach(r=>{r.eventType===t&&r.callback(n,o)})});be(this,"eval",()=>this.value);be(this,"valueCount",t=>Object.values(this.inputValues).filter(n=>n===t).length);be(this,"updateOutputs",t=>{const n=[];this.outputs.forEach(({node:o,id:r})=>{o.update(t,r),n.push(r)}),this.invokeEvent("change",t,n)});be(this,"update",(t,n)=>{this.inputValues[n]=t,this.newValue=this.eval(),this.invokeEvent("change",this.newValue,this.outputs.map(({id:o})=>o))});be(this,"propagate",()=>{let t=[];return this.value!==this.newValue&&(this.isValueChanged=!0,this.value=this.newValue,this.updateOutputs(this.newValue),this.outputs.forEach(({node:n})=>{n.forceContinue?t=t.concat(n.propagate()):t.push(n)})),t});be(this,"reset",()=>{this.value=qe.UNKNOWN,this.newValue=qe.UNKNOWN,this.invokeEvent("change",this.newValue,this.outputs.map(({id:t})=>t))});be(this,"on",(t,n)=>{this.events.push({eventType:t,callback:n})});this.name=t,this.inputValues=n.reduce((o,r)=>({...o,[r]:qe.UNKNOWN}),{})}}let ns=class extends mn{constructor(){super(...arguments);be(this,"reset",()=>{})}},bp=class{constructor(t,n){be(this,"node");be(this,"id");this.node=t,this.id=n}};class _p{constructor(){be(this,"queue",[]);be(this,"nodes",[]);be(this,"inputNodes",[]);be(this,"addNode",t=>{t instanceof ns&&(this.inputNodes.push(t),this.enqueue(t)),this.nodes.push(t)});be(this,"removeNode",t=>{if(t instanceof ns){const o=this.inputNodes.findIndex(({name:r})=>r===t.name);o!==-1&&this.inputNodes.splice(o,1)}const n=this.nodes.findIndex(({name:o})=>o===t.name);n!==-1&&(this.removeNodeOutputs(t),this.nodes.splice(n,1)),this.advance()});be(this,"addConnection",(t,n,o,r=qe.UNKNOWN)=>{!t||!n||(t.outputs.push(new bp(n,o)),t.value=r,r||this.enqueue(t))});be(this,"removeConnection",(t,n,o=qe.UNKNOWN)=>{t.outputs.concat().forEach(({node:r,id:i},s)=>{n===r&&(n.update(o,i),t.outputs.splice(s,1),this.enqueue(n))})});be(this,"removeNodeOutputs",t=>{for(let n=0;n<t.outputs.length;n++)this.removeConnection(t,t.outputs[n].node)});be(this,"enqueue",(...t)=>{t.forEach(n=>{~this.queue.indexOf(n)||this.queue.push(n)})});be(this,"dequeue",t=>{const n=this.queue.indexOf(t);~n&&this.queue.splice(n,1)});be(this,"reset",()=>{this.nodes.forEach(t=>t.reset())});be(this,"advance",()=>{let t=!1,n=[];for(;this.queue.length>0;){const o=this.queue.shift();o&&(n=n.concat(o.propagate()),this.dequeue(o),o.isValueChanged&&(t=!0),o.forceContinue&&(this.enqueue(...n),n=[]))}t&&this.enqueue(...n)})}}class Tr{constructor(t,n,o,r){be(this,"id");be(this,"name");be(this,"width",0);be(this,"lastY",0);be(this,"segments",[]);be(this,"hue",0);be(this,"toString",()=>null);be(this,"initialize",t=>{const n={x:1,y:1};t===1?(n.y=0,this.lastY=1):(n.y=1,this.lastY=0),this.addSegment(n),this.updateWidth()});be(this,"reset",()=>{this.segments=[],this.width=0,this.initialize(this.lastY===1?0:1)});be(this,"update",t=>{this.drawPulseConstant()});be(this,"addSegment",t=>{const n=this.segments[this.segments.length-1];!n&&t.x>0?this.segments.push({x:0,y:t.y}):n&&n.x!==t.x&&n.y!==t.y&&this.segments.pop(),this.segments.push(t),this.updateWidth()});be(this,"drawPulseChange",t=>{const{x:n}=this.segments[this.segments.length-1],o=t===qe.TRUE?0:1;this.updateWidth(),this.addSegment({x:n,y:o})});be(this,"drawPulseConstant",()=>{const t=this.segments[this.segments.length-1],n=this.lastY!==t.y?t:this.segments.pop();n&&(this.updateWidth(),this.addSegment({x:n.x+1,y:n.y})),this.lastY=t.y});be(this,"truncateSegments",t=>{if(t>this.width)return;const n=this.width-t;for(let o=0;o<this.segments.length;o++){const{x:r,y:i}=this.segments[o];if(r>n){this.segments.splice(0,o),this.segments.unshift({x:0,y:i});break}}for(let o=1;o<this.segments.length;o++){const{x:r,y:i}=this.segments[o];this.segments[o]={x:r-n,y:i}}this.updateWidth()});be(this,"updateWidth",()=>{var t;this.width=((t=this.segments.slice(-1)[0])==null?void 0:t.x)||0});this.id=t,this.name=n,this.hue=r,this.initialize(o)}}class wp{constructor(){be(this,"isPaused",!0);be(this,"waves",{});be(this,"refreshRate",20);be(this,"lastUpdateTime",Date.now());be(this,"timeMsElapsed",0);be(this,"timeMsOffset",0);be(this,"onTick");be(this,"start",()=>{if(!this.isPaused)return;const t=this.lastUpdateTime%this.refreshRate;this.lastUpdateTime=Date.now()+t,this.isPaused=!1,this.tick()});be(this,"stop",()=>{this.isPaused=!0});be(this,"clear",()=>{Object.values(this.waves).forEach(t=>{t instanceof Tr&&t.reset()})});be(this,"computeWaveGeometry",t=>{const n={},o=r=>r.map(({x:i,y:s})=>`${i},${s}`);for(const r in t)if(t[r]instanceof Tr){const i=t[r],s=o(i.segments);n[r]={points:s.join(" "),width:i.width,hue:i.hue}}return n});be(this,"broadcast",()=>{var r;const t=window.screen.width,n=1e3/this.refreshRate,o=t/n;this.timeMsElapsed>=this.timeMsOffset+o/2*1e3&&(this.timeMsOffset=this.timeMsElapsed,Object.values(this.waves).forEach(i=>{i instanceof Tr&&i.truncateSegments(t)})),(r=this.onTick)==null||r.call(this,this.computeWaveGeometry(this.waves))});be(this,"tick",()=>{if(this.isPaused)return;const t=Date.now(),n=1e4;let o=!1;if(t>=this.lastUpdateTime+n){this.stop(),this.start();return}for(;t>=this.lastUpdateTime+this.refreshRate;){const r=Math.min(this.refreshRate,t-this.lastUpdateTime);o=!0,this.timeMsElapsed+=r,this.lastUpdateTime+=r,this.update()}o&&this.broadcast(),requestAnimationFrame(this.tick)});be(this,"update",()=>{Object.values(this.waves).forEach(t=>t.update(this.timeMsElapsed))});be(this,"add",t=>{this.waves.hasOwnProperty(t.id)||(this.waves[t.id]=t,this.timeMsElapsed===0&&this.broadcast())});be(this,"remove",t=>{t&&(delete this.waves[t.id],Object.keys(this.waves).length===0&&(this.stop(),this.clear()),this.broadcast())})}}const Cp=()=>({undoStack:[],redoStack:[],oscillogram:{},zoomLevel:1,zIndex:1,oscilloscopeHeight:200,isOscilloscopeOpen:!1,isOscilloscopeRecording:!0,isCircuitEvaluated:!1,isDebugging:!1,isDirty:!1,isBusy:!1,hasLoaded:!1,isPrinting:!1,isCreatingImage:!1,animatePan:!1,nodes:{},circuit:new _p,oscillator:new wp,viewport:new DOMRect,canvas:{top:0,left:0,bottom:0,right:0},snapBoundaries:[],connectablePortIds:[],selectedConnectionIds:[],selectedItemIds:[],selectedPortIndex:-1,cachedState:null,activeFreeportId:null,activePortId:null,connectionPreviewId:null,items:{},connections:{},ports:{},groups:{}});function di(e,t,n){const{connectionIds:o,freeportIds:r}=Object.values(e).reduce(({connectionIds:i,freeportIds:s},a)=>{if(n===a.connectionChainId){const l=t[a.source],u=t[a.target];i.add(a.id),l!=null&&l.isFreeport&&s.add(l.elementId),u!=null&&u.isFreeport&&s.add(u.elementId)}return{connectionIds:i,freeportIds:s}},{connectionIds:new Set,freeportIds:new Set});return{connectionIds:Array.from(o),freeportIds:Array.from(r)}}function Sp(){this.copy(),this.deleteSelection()}function Ip(){if(!this.hasSelectedItems)return window.api.beep();const e={},t={},n={},o=new Set,r=new Set,i=new Set;this.selectedItemIds.forEach(l=>{e[l]=this.items[l],e[l].portIds.forEach(u=>{t[u]=this.ports[u]}),e[l].type===rt.Freeport&&i.add(l)}),Object.values(this.selectedConnectionIds).forEach(l=>{const u=this.connections[l];n[l]=u,t[u.source]&&t[u.target]?(r.add(u.source),r.add(u.target)):o.add(u.connectionChainId)}),o.forEach(l=>{const u=di(n,t,l);u.connectionIds.forEach(f=>delete n[f]),u.freeportIds.forEach(f=>{var m;(m=e[f])==null||m.portIds.forEach(y=>delete t[y]),i.delete(f),delete e[f]})}),i.forEach(l=>{!!e[l].portIds.find(f=>r.has(f))||delete e[l]});const s=this.selectedGroupIds.filter(l=>l!==null).reduce((l,u)=>({...l,[u]:this.groups[u]}),{}),a={items:e,ports:t,connections:n,groups:s,pasteCount:1};Object.keys(a.items).length?window.api.setClipboardContents(JSON.stringify(a)):window.api.beep()}function xp(){if(!window.api.canPaste())return window.api.beep();try{const e=window.api.getClipboardContents(),t=JSON.parse(e),n=Ls.mapStandardCircuitIds(t);this.commitState(),Object.keys(n.ports).forEach(i=>{const s=n.ports[i];s.value=qe.UNKNOWN,s.isMonitored=!1,delete s.wave}),this.applyDeserializedState({items:{...this.items,...n.items},connections:{...this.connections,...n.connections},ports:{...this.ports,...n.ports},groups:{...this.groups,...n.groups}}),Object.keys(n.items).concat(Object.keys(n.groups)).concat(Object.keys(n.connections)).forEach(i=>this.setSelectionState({id:i,value:!0}));const o=Object.values(n.items).find(i=>i.type!==rt.Freeport);requestAnimationFrame(()=>{this.setSelectionPosition({id:o.id,position:{x:o.position.x+t.pasteCount*20,y:o.position.y+t.pasteCount*20}})});const r={...JSON.parse(e),pasteCount:t.pasteCount+1};window.api.setClipboardContents(JSON.stringify(r))}catch{window.api.clearClipboard(),window.api.beep()}}const Ep=Object.defineProperty({__proto__:null,copy:Ip,cut:Sp,paste:xp},Symbol.toStringTag,{value:"Module"});function Op(e){if(this.activePortId&&e){let t=this.activePortId,n=e;this.ports[this.activePortId].type===yt.Input&&(t=e,n=this.activePortId);const o=it();this.unsetConnectionPreview(),this.connect({source:t,target:n,id:o}),this.connectionPreviewId=o}}function kp(){this.connectionPreviewId&&this.disconnectById(this.connectionPreviewId),this.connectionPreviewId=null}function Pp(){if(this.connectionPreviewId){const{source:e,target:t}=this.connections[this.connectionPreviewId];this.disconnectById(this.connectionPreviewId),this.commitState(),this.connect({source:e,target:t}),this.connectionPreviewId=null}}function $p(e){var o;e&&e!==this.activePortId&&this.setActivePortId(e);let t=this.selectedPortIndex+1;t<=0&&(t=0),t>=this.connectablePortIds.length&&(t=-1);const n=this.connectablePortIds[t];n&&!((o=this.ports[e])!=null&&o.connectedPortIds.includes(n))?this.setConnectionPreview(n):(this.connectablePortIds.length===0&&window.api.beep(),this.unsetConnectionPreview()),this.selectedPortIndex=t}function Ap(e){const t=e.id||it();this.connections[t]={...e,id:t,connectionChainId:e.connectionChainId||t,groupId:null,zIndex:++this.zIndex,isSelected:!1},this.ports[e.source].connectedPortIds.push(e.target),this.ports[e.target].connectedPortIds.push(e.source)}function Dp(e){!this.ports[e.source]||!this.ports[e.target]||(this.createConnection(e),this.circuit.addConnection(this.nodes[e.source],this.nodes[e.target],e.target),this.advanceSimulation())}function zp({source:e,target:t}){const n=Object.values(this.connections).find(o=>o.source===e&&o.target===t);n&&this.destroyConnectionById(n.id)}function Tp(e){const{source:t,target:n}=this.connections[e],o=this.ports[t].connectedPortIds.findIndex(i=>i===n),r=this.ports[n].connectedPortIds.findIndex(i=>i===t);this.ports[t].connectedPortIds.splice(o,1),this.ports[n].connectedPortIds.splice(r,1),delete this.connections[e]}function Mp({source:e,target:t}){this.circuit.removeConnection(this.nodes[e],this.nodes[t]),this.advanceSimulation(),this.destroyConnection({source:e,target:t})}function Bp(e){if(!this.connections[e])return;const{source:t,target:n}=this.connections[e];this.circuit.removeConnection(this.nodes[t],this.nodes[n]),this.advanceSimulation(),this.destroyConnectionById(e)}const Lp=Object.defineProperty({__proto__:null,commitPreviewedConnection:Pp,connect:Dp,createConnection:Ap,cycleConnectionPreviews:$p,destroyConnection:zp,destroyConnectionById:Tp,disconnect:Mp,disconnectById:Bp,setConnectionPreview:Op,unsetConnectionPreview:kp},Symbol.toStringTag,{value:"Module"});function Np(e){const t=JSON.parse(e);t.integratedCircuit?this.applyDeserializedState(t.integratedCircuit):this.applySerializedState(e),this.initialize()}function Rp(){this.resetCircuit(),this.oscillator.onTick=e=>this.oscillogram=e}function Fp(){this.isPrinting=!0}function jp(){this.isCreatingImage=!0}const Vp=Object.defineProperty({__proto__:null,createImage:jp,initialize:Rp,loadDocument:Np,print:Fp},Symbol.toStringTag,{value:"Module"});function qn(e,t,n,o,r){return{id:t,orientation:n,name:r,position:{x:0,y:0},type:o,rotation:0,elementId:e,value:0,hue:0,isMonitored:!1,isFreeport:!1,connectedPortIds:[]}}const Co=ci({id:"preferences",state:()=>({colors:{onColor:{type:"color",label:"High state",value:"#4bc567",description:"When a signal is present."},offColor:{type:"color",label:"Low state",value:"#c0c0c0",description:"When no signal is present."},unknownColor:{type:"color",label:"Unknown state",value:"#ff0000",description:"High impedance (Hi-Z)."}},snapping:{snapToGrid:{type:"boolean",label:"Snap to grid",value:!1,description:"Snap elements to the grid lines.",excludes:["snapToAlign"]},snapToAlign:{type:"boolean",label:"Snap to align",value:!0,description:"Snap elements together.",excludes:["snapToGrid"]},snapTolerance:{type:"number",label:"Snap tolerance",value:15,description:"Maximum distance from a dragging object to snap to another element."}},grid:{showGrid:{type:"boolean",label:"Show grid",value:!0,description:"Display a grid on the canvas."},gridSize:{type:"number",label:"Grid size",value:20,description:"Distance between grid lines.",excludes:["snapToAlign"]}},simulation:{startPaused:{type:"boolean",label:"Pause on startup",value:!0,description:"Start simulation paused."}},experience:{vibration:{type:"boolean",label:"Vibration",value:!0,description:"Haptic feedback on gestures.",mobileOnly:!0},autosave:{type:"boolean",label:"Auto-save",value:!0,description:"Automatically save your work.",desktopOnly:!0},darkMode:{type:"boolean",label:"Dark mode",value:!0}}}),actions:{async writeSettings(){},async updateSettings(e){await this.writeSettings()}}});function Up({itemId:e,inputPortId:t,outputPortId:n,value:o=0}){const r={[Ne.Left]:[],[Ne.Top]:[],[Ne.Right]:[],[Ne.Bottom]:[]};n&&(this.ports[n]=qn(e,n,Ne.Left,yt.Output,n),this.ports[n].value=o,this.ports[n].isFreeport=!0,r[Ne.Left].push(this.ports[n])),t&&(this.ports[t]=qn(e,t,Ne.Right,yt.Input,t),this.ports[t].value=o,this.ports[t].isFreeport=!0,r[Ne.Right].push(this.ports[t])),this.items[e]=wo(e,rt.Freeport,Je.None,1,1,r),this.items[e].zIndex=this.zIndex++,this.addVirtualNode(this.items[e])}function Hp(e){const t=this.items[e];let n="",o="";Object.values(this.connections).forEach(r=>{r.target===t.portIds[1]&&(n=r.source),r.source===t.portIds[0]&&(o=r.target)}),n&&this.disconnect({source:n,target:t.portIds[1]}),o&&this.disconnect({source:t.portIds[0],target:o}),n&&o&&this.connect({source:n,target:o})}function Wp(e,t=!0){if(this.items[e.itemId])return;e.sourceId&&e.targetId&&this.commitState(),this.deselectAll(),this.addFreeportItem(e),this.setItemBoundingBox(e.itemId),this.activeFreeportId=e.itemId;let n=[];e.sourceId&&e.inputPortId&&n.push({source:e.sourceId,target:e.inputPortId}),e.targetId&&e.outputPortId&&n.push({source:e.outputPortId,target:e.targetId}),n.forEach(o=>{this.createConnection({...o,connectionChainId:e.connectionChainId}),t&&this.circuit.addConnection(this.nodes[o.source],this.nodes[o.target],o.target,this.ports[o.source].value)}),e.sourceId&&e.targetId&&this.circuit.removeConnection(this.nodes[e.sourceId],this.nodes[e.targetId],this.ports[e.sourceId].value),e.sourceId&&e.targetId&&(this.deselectAll(),this.setSelectionState({id:e.itemId,value:!0}),this.incrementZIndex(1)),this.advanceSimulation()}function qp({sourceId:e,targetId:t,portId:n}){const o=this.ports[n],r=Co().snapping.snapTolerance.value,i=Object.values(this.ports).find(a=>a.id!==n&&this.connectablePortIds.includes(a.id)&&mt.isInNeighborhood(a.position,o.position,r));i?e?(this.disconnect({source:e,target:n}),this.connect({source:e,target:i.id})):t&&(this.disconnect({source:n,target:t}),this.connect({source:i.id,target:t})):this.disconnect({source:e||n,target:t||n});const s=Object.values(this.items).find(({portIds:a})=>a.includes(n));s&&this.removeElement(s.id),this.clearStatelessInfo()}const Zp=Object.defineProperty({__proto__:null,addFreeportItem:Up,connectFreeport:qp,createFreeport:Wp,disconnectFreeport:Hp},Symbol.toStringTag,{value:"Module"});function Gp(){this.commitState();const e=it(),t=Object.values(this.items).filter(({isSelected:s})=>s),n=t.reduce((s,a)=>s.concat(a.portIds),[]),o=Object.values(this.connections).filter(s=>n.includes(s.source)&&n.includes(s.target)&&s.isSelected);t.forEach(s=>s.groupId&&this.destroyGroup(s.groupId)),o.forEach(s=>s.groupId&&this.destroyGroup(s.groupId));const r=[...t,...o].reduce((s,a)=>Math.max(a.zIndex,s),0),i={id:e,itemIds:t.map(({id:s})=>s),connectionIds:o.map(({id:s})=>s),isSelected:!0,boundingBox:{left:0,top:0,right:0,bottom:0},position:{x:0,y:0},zIndex:r};this.groups[e]=i,i.itemIds.forEach(s=>{this.items[s].groupId=i.id}),i.connectionIds.forEach(s=>{this.connections[s].groupId=i.id}),this.setZIndex(r),this.setGroupBoundingBox(e)}function Kp(){this.commitState();for(const e in this.groups)this.groups[e].isSelected&&this.destroyGroup(e)}function Xp(e){const t=this.groups[e];t.itemIds.forEach(n=>{this.items[n].groupId=null,this.selectedItemIds.push(n)}),t.connectionIds.forEach(n=>{this.connections[n].groupId=null,this.selectedConnectionIds.push(n)}),delete this.groups[e]}const Yp=Object.defineProperty({__proto__:null,destroyGroup:Xp,group:Gp,ungroup:Kp},Symbol.toStringTag,{value:"Module"});function fi(e,t,n,o){return{x:(n.x-t.x-e.left)/o,y:(n.y-t.y-e.top)/o}}var uc={exports:{}};function Rs(){}Rs.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function r(){o.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],r=[];if(o&&t)for(var i=0,s=o.length;i<s;i++)o[i].fn!==t&&o[i].fn._!==t&&r.push(o[i]);return r.length?n[e]=r:delete n[e],this}};uc.exports=Rs;var Jp=uc.exports.TinyEmitter=Rs;class mo{constructor(t,n,o){be(this,"id",it());be(this,"name");be(this,"signal",0);be(this,"interval",0);be(this,"lastUpdate");be(this,"emitter",new Jp);be(this,"isStopped",!1);be(this,"toString",()=>({name:this.name,interval:this.interval,signal:this.signal}));be(this,"on",(t,n)=>{this.emitter.on(t,n)});be(this,"stop",()=>{this.isStopped=!0});be(this,"start",()=>{this.isStopped=!1});be(this,"update",t=>{!this.isStopped&&t>=this.lastUpdate+this.interval&&(this.signal=this.signal===-1?1:-1,this.lastUpdate=t,this.emitter.emit("change",this.signal))});this.name=t,this.signal=o,this.interval=n,this.lastUpdate=-n}static deserialize(t){if(t instanceof mo)return t;if(t)return new mo(t.name,t.interval,t.signal)}}function Qp({item:e,ports:t}){var i;const n=((i=e.integratedCircuit)==null?void 0:i.ports)||t;e.portIds.forEach(s=>{const a=n[s];a&&(this.ports[a.id]=a,a.isMonitored&&(delete a.wave,this.unmonitorPort(a.id),setTimeout(()=>this.monitorPort(a.id))))});let r=e.name||e.subtype;e.name=r,e.clock=mo.deserialize(e.clock),e.isSelected=!1,this.items[e.id]=e,this.items[e.id].zIndex=++this.zIndex,this.addVirtualNode(e),this.resetItemValue(e),this.setProperties(e.id,e.properties),this.setItemBoundingBox(e.id)}function e1({item:e,ports:t},n=null){if(!n){const r=mt.getBoundingBoxMidpoint(this.viewport);n={x:r.x+this.viewport.left,y:r.y+this.viewport.top}}if(n.x<this.viewport.left||n.x>this.viewport.right||n.y<this.viewport.top||n.y>this.viewport.bottom)return;const o=fi(this.canvas,this.viewport,n,this.zoomLevel);o.x-=e.width/2,o.y-=e.height/2,e.position=o,this.commitState(),this.addItem({item:e,ports:Object.values(t||{}).reduce((r,i)=>i.reduce((s,a)=>({...s,[a.id]:a}),r),{})}),this.setItemBoundingBox(e.id),this.setSelectionState({id:e.id,value:!0})}function t1(e){var o;const t=(o=e.properties)==null?void 0:o.startValue;if(!t)return;const n=t.value;e.portIds.forEach(r=>this.setPortValue({id:r,value:n}))}function n1(e){const t=this.items[e];if(!t)return;t.type===rt.Freeport&&this.disconnectFreeport(e),this.removeVirtualNode(t.id),[...t.portIds].forEach(o=>this.removePort(o)),delete this.items[e]}function o1(e,t){const o=this.items[e].properties.inputCount.value;if(o>t)this.items[e].portIds.filter(r=>this.ports[r].type===yt.Input).slice(t).forEach(r=>this.removePort(r));else for(let r=o;r<t;r++){const i=it();this.addPort(e,{id:i,name:"",connectedPortIds:[],type:yt.Input,elementId:e,virtualElementId:e,orientation:Ne.Left,isFreeport:!1,isMonitored:!1,hue:0,position:{x:0,y:0},rotation:0,value:0})}}function r1(e,t){const n=this.items[e];for(const o in t){const r=t[o];if(n.properties[o].value!==r.value){switch(this.commitState(),o){case"inputCount":this.setInputCount(e,r.value);break;case"interval":n.clock&&(n.clock.interval=r.value);break}this.items[e].properties[o].value=r.value}}}const i1=Object.defineProperty({__proto__:null,addItem:Qp,insertItemAtPosition:e1,removeElement:n1,resetItemValue:t1,setInputCount:o1,setProperties:r1},Symbol.toStringTag,{value:"Module"}),Go=.1,os=2,s1=.1,rs=4,a1=15,l1=20,c1=1.05,u1=e=>1-Math.pow(1-e,3);function d1(e,t=!1){this.panDelta({x:e.x-this.canvas.left,y:e.y-this.canvas.top},t)}function f1(e,t=!1){let n=0;const o={...this.canvas},r=Math.max(Math.abs(e.x),Math.abs(e.y),1)*rs,i=a1,s=(a=0)=>{const l=u1(a/r),u=e.x*l,f=e.y*l;this.setCanvasBoundingBox({left:o.left+u,right:o.right+u,top:o.top+f,bottom:o.bottom+f}),a<r&&(cancelAnimationFrame(n),n=requestAnimationFrame(s.bind(this,a+i)))};t?s():this.setCanvasBoundingBox({left:this.canvas.left+e.x,right:this.canvas.right+e.x,top:this.canvas.top+e.y,bottom:this.canvas.bottom+e.y})}function h1(){const e=mt.getBoundingBoxMidpoint(this.canvas);this.panTo({x:this.viewport.width/2-e.x*this.zoomLevel,y:this.viewport.height/2-e.y*this.zoomLevel})}function p1(e){this.canvas={...e}}const m1=Object.defineProperty({__proto__:null,panDelta:f1,panTo:d1,panToCenter:h1,setCanvasBoundingBox:p1},Symbol.toStringTag,{value:"Module"});function g1(e,t){const n=Object.values(this.nodes).find(({name:o})=>this.items[e].portIds.includes(o));this.ports[t.id]=t,this.items[e].portIds.push(t.id),n?this.nodes[t.id]=n:this.addVirtualNode(this.items[e])}function v1(e){var o;if(!this.items[(o=this.ports[e])==null?void 0:o.elementId])return;Object.values(this.connections).filter(({source:r,target:i})=>r===e||i===e).forEach(r=>{const{connectionIds:i,freeportIds:s}=di(this.connections,this.ports,r.connectionChainId);i.forEach(a=>this.disconnectById(a)),s.forEach(a=>{this.items[a].portIds.forEach(l=>{delete this.ports[l],delete this.nodes[l]}),delete this.items[a]})}),this.unmonitorPort(e);const t=this.ports[e].elementId,n=this.items[t].portIds.indexOf(e);n!==-1&&this.items[t].portIds.splice(n,1),delete this.nodes[e],delete this.ports[e]}function y1(e){this.activePortId!==e&&(e?this.setConnectablePortIds({portId:e}):this.connectablePortIds=[],this.activePortId=e,this.selectedPortIndex=-1)}function b1({portId:e,isDragging:t}){const n=this.ports[e];if(n.isFreeport)return;const o=Object.values(this.connections).reduce((i,s)=>i.concat([s.source,s.target]),[]);t&&o.splice(-2);const r=n.type===yt.Output?i=>i.type===yt.Input&&!i.isFreeport&&!o.includes(i.id)&&i.elementId!==n.elementId:i=>i.type===yt.Output&&!i.isFreeport&&!o.includes(n.id)&&i.elementId!==n.elementId;this.connectablePortIds=Object.values(this.ports).filter(r).map(({id:i})=>i)}function _1({id:e,value:t}){var n;this.nodes[e]&&this.nodes[e].value!==t&&(this.nodes[e].setValue(t),(n=this.ports[e].wave)==null||n.drawPulseChange(t),this.circuit.enqueue(this.nodes[e]),this.isCircuitEvaluated=!1,this.isDebugging||this.advanceSimulation())}function w1(e){this.ports[e].isMonitored?this.unmonitorPort(e):this.monitorPort(e)}function C1(e){const t=this.ports[e],n=this.items[t.elementId].name;t.hue=t.hue||~~(360*Math.random()),t.isMonitored=!0,t.wave=new Tr(e,`${n} ${t.name}`,t.value,t.hue),this.oscillator.add(t.wave),this.isOscilloscopeOpen=!0}function S1(e){const t=this.ports[e];t.isMonitored=!1,this.oscillator.remove(t.wave),delete this.oscillogram[e],delete t.wave,this.isOscilloscopeOpen=Object.keys(this.oscillogram).length>0}const I1=Object.defineProperty({__proto__:null,addPort:g1,monitorPort:C1,removePort:v1,setActivePortId:y1,setConnectablePortIds:b1,setPortValue:_1,togglePortMonitoring:w1,unmonitorPort:S1},Symbol.toStringTag,{value:"Module"});function x1(){const{grid:e}=Co(),t=e.gridSize.value,n=Object.values(this.items).map(({boundingBox:l})=>l),o=mt.getGroupBoundingBox(n),{x:r,y:i}=mt.getCenteredScreenPoint(this.canvas,o,t),s=r-o.left,a=i-o.top;Object.values(this.items).forEach(l=>{this.setItemPosition({id:l.id,position:{x:l.position.x+s,y:l.position.y+a}})})}function E1(e,t){const n=this.ports[t];n.position=fi(this.canvas,this.viewport,e,this.zoom)}function O1({id:e,position:t}){const n=this.items[e],o={x:t.x-n.position.x,y:t.y-n.position.y};this.items[e].position=t,this.setItemBoundingBox(e),n.portIds.forEach(r=>{const i=this.ports[r];this.ports[r].position={x:i.position.x+o.x,y:i.position.y+o.y}})}function k1(e,t,n){const{snapping:o,grid:r}=Co(),{x:i,y:s}=fi(this.canvas,this.viewport,t,this.zoom),{width:a,height:l,rotation:u}=this.items[e],f=mt.getBoundingBox({x:i,y:s},u,a,l),m=(()=>n||(o.snapToGrid.value?Vt.Grid:o.snapToAlign.value?Vt.Outer:Vt.None))(),y=(()=>{switch(m){case Vt.Grid:return r.gridSize.value;case Vt.Outer:case Vt.Radial:return o.snapTolerance.value;default:return 0}})(),d=mt.getSnapOffset(this.snapBoundaries,f,m,y);this.setSelectionPosition({id:e,position:{x:i+d.x,y:s+d.y}})}function P1(e){const t=this.selectedItemIds[0];if(t){const n=this.items[t],o={x:n.position.x+e.x,y:n.position.y+e.y};this.commitState(),this.setSelectionPosition({id:t,position:o})}}function $1({id:e,position:t}){const n=this.items[e],o={x:t.x-n.position.x,y:t.y-n.position.y},r=new Set;if(this.setSelectionState({id:e,value:!0}),n.type===rt.Freeport)return this.setItemPosition({id:e,position:t});this.selectedItemIds.forEach(i=>{const s=this.items[i],a={x:s.position.x+o.x,y:s.position.y+o.y};s.groupId&&r.add(s.groupId),this.setItemPosition({id:i,position:a})}),r.forEach(this.setGroupBoundingBox)}const A1=Object.defineProperty({__proto__:null,centerAll:x1,dragItem:k1,moveSelectionPosition:P1,setItemPosition:O1,setPortRelativePosition:E1,setSelectionPosition:$1},Symbol.toStringTag,{value:"Module"});function D1(){this.oscillator.isPaused?this.oscillator.start():this.oscillator.stop(),this.oscillator.isPaused=!this.oscillator.isPaused,this.isOscilloscopeRecording=!this.oscillator.isPaused}function z1(){this.isOscilloscopeOpen?this.closeOscilloscope():this.openOscilloscope()}function T1(){Object.values(this.ports).forEach(e=>{e.isMonitored&&this.monitorPort(e.id)}),this.isOscilloscopeOpen=!0}function M1(e){this.isOscilloscopeOpen&&(Object.keys(this.ports).forEach(t=>this.unmonitorPort(t)),this.oscillator.clear(),this.isOscilloscopeOpen=!1,e&&(this.oscilloscopeHeight=e))}const B1=Object.defineProperty({__proto__:null,closeOscilloscope:M1,openOscilloscope:T1,toggleOscillatorRecording:D1,toggleOscilloscope:z1},Symbol.toStringTag,{value:"Module"});function L1(e){this.commitState();const t=Object.values(this.items).filter(({isSelected:i})=>i),n=t.map(({boundingBox:i})=>i),o=mt.getGroupBoundingBox(n),r=new Set;t.forEach(i=>{const s=Zo.rotate(i.rotation+e);i.groupId&&r.add(i.groupId),this.items[i.id].rotation=s,this.items[i.id].portIds.forEach(a=>{this.ports[a].rotation=s}),this.setItemPosition({id:i.id,position:Zo.getGroupedItemRotatedPosition(o,i,e)})}),r.forEach(i=>{this.setGroupBoundingBox(i)})}const N1=Object.defineProperty({__proto__:null,rotate:L1},Symbol.toStringTag,{value:"Module"});function R1(e){this.setSelectionState({id:e,value:!1})}function F1(e,t=!1){var n,o,r;(n=this.items[e])!=null&&n.isSelected||(o=this.connections[e])!=null&&o.isSelected||(r=this.groups[e])!=null&&r.isSelected||(t||this.deselectAll(),this.setSelectionState({id:e,value:!0}))}function j1(){this.clearStatelessInfo();for(let e in this.connections)this.connections[e].isSelected=!0,this.selectedConnectionIds.push(e);for(let e in this.items)this.items[e].isSelected=!0,this.selectedItemIds.push(e)}function V1(){this.clearStatelessInfo();for(let e in this.connections)this.connections[e].isSelected=!1,this.selectedConnectionIds=[];for(let e in this.items)this.items[e].isSelected=!1,this.selectedItemIds.push(e),this.selectedItemIds=[]}function U1(e){if(!mt.isOneOrTwoDimensional(e))return;const t=Object.keys(this.items).filter(o=>mt.hasIntersection(e,this.items[o].boundingBox)),n=Object.keys(this.connections).filter(o=>{const r=this.connections[o],i=this.ports[r.source],s=this.ports[r.target];return mt.isLineIntersectingRectangle(i.position,s.position,e)});t.concat(n).forEach(o=>{this.updateSelectionList({id:o,isSelected:!0})}),this.selectBaseItemConnections(t)}function H1(e){const t=e.reduce((n,o)=>n.concat(this.items[o].portIds),[]);for(let n in this.connections){const o=this.connections[n];t.includes(o.source)&&t.includes(o.target)&&this.updateSelectionList({id:n,isSelected:!0})}}function W1({id:e,isSelected:t}){const n=(o,r)=>{const i=this[r].findIndex(s=>s===o);t&&i===-1&&this[r].push(o),!t&&i!==-1&&this[r].splice(i,1)};if(this.items[e])this.items[e].isSelected=t,n(e,"selectedItemIds");else if(this.connections[e]){const{connectionChainId:o}=this.connections[e],{connectionIds:r,freeportIds:i}=di(this.connections,this.ports,o);r.forEach(s=>{this.connections[s].isSelected=t,n(s,"selectedConnectionIds")}),i.forEach(s=>{this.items[s].isSelected=t,n(s,"selectedItemIds")})}}function q1({id:e,value:t}){const n=this.items[e]||this.connections[e],o=t;if(!(!n||n.isSelected===o))if(n.groupId){const{itemIds:r,connectionIds:i}=this.groups[n.groupId];r.concat(i).forEach(s=>{this.updateSelectionList({id:s,isSelected:o})}),this.updateSelectionList({id:n.groupId,isSelected:o})}else this.updateSelectionList({id:e,isSelected:o})}function Z1(e){const t=e?this.baseItems[0]:this.baseItems.slice(-1)[0];t&&(this.deselectAll(),this.setSelectionState({id:t.id,value:!0}))}function G1(){if(!this.hasSelection)return;this.commitState();const e=this.selectedItemIds.reduce((r,i)=>(this.items[i].portIds.forEach(s=>r.add(s)),r),new Set),t=Object.values(this.connections).reduce((r,{source:i,target:s,connectionChainId:a})=>((e.has(i)||e.has(s))&&r.add(a),r),new Set),{freeportIds:n,connectionIds:o}=Array.from(t).reduce((r,i)=>{const{freeportIds:s,connectionIds:a}=di(this.connections,this.ports,i);return{freeportIds:r.freeportIds.concat(s),connectionIds:r.connectionIds.concat(a)}},{freeportIds:[],connectionIds:[]});this.selectedConnectionIds.concat(o).forEach(r=>this.disconnectById(r)),this.selectedItemIds.concat(n).forEach(r=>this.removeElement(r)),this.selectedGroupIds.forEach(r=>r!==null&&delete this.groups[r]),this.deselectAll()}function K1(){this.unsetConnectionPreview(),this.connectablePortIds=[],this.selectedConnectionIds=[],this.selectedItemIds=[],this.selectedPortIndex=-1,this.cachedState=null,this.activePortId=null,this.connectionPreviewId=null}const X1=Object.defineProperty({__proto__:null,clearStatelessInfo:K1,createSelection:U1,deleteSelection:G1,deselectAll:V1,deselectBaseItem:R1,recycleSelection:Z1,selectAll:j1,selectBaseItem:F1,selectBaseItemConnections:H1,setSelectionState:q1,updateSelectionList:W1},Symbol.toStringTag,{value:"Module"});let Y1=class extends mn{constructor(){super(...arguments);be(this,"update",n=>{this.newValue!==n&&(this.newValue=n,this.invokeEvent("change",this.newValue,[]))})}},J1=class extends mn{constructor(){super(...arguments);be(this,"update",n=>{const o=Object.keys(this.inputValues).pop();o&&(this.inputValues[o]=n,this.newValue=this.eval())});be(this,"eval",()=>Object.values(this.inputValues).pop()||qe.UNKNOWN)}},Q1=class extends mn{constructor(){super(...arguments);be(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n&&o===qe.TRUE,!0)?qe.TRUE:qe.FALSE)}},em=class extends mn{constructor(){super(...arguments);be(this,"eval",()=>Object.values(this.inputValues).reduce((n,o)=>n||o===qe.FALSE,!1)?qe.TRUE:qe.FALSE)}},tm=class extends mn{constructor(){super(...arguments);be(this,"eval",()=>this.valueCount(qe.TRUE)?qe.TRUE:this.valueCount(qe.UNKNOWN)?qe.UNKNOWN:qe.FALSE)}},Na=class extends mn{constructor(){super(...arguments);be(this,"eval",()=>this.valueCount(qe.TRUE)?qe.FALSE:this.valueCount(qe.UNKNOWN)?qe.UNKNOWN:qe.TRUE)}},nm=class extends mn{constructor(){super(...arguments);be(this,"eval",()=>{switch(Object.values(this.inputValues).pop()){case qe.TRUE:return qe.FALSE;case qe.FALSE:return qe.TRUE;default:return qe.UNKNOWN}})}};function dc(e,t,n){switch(e){case Je.And:return new Q1(t,n);case Je.Nand:return new em(t,n);case Je.Or:return new tm(t,n);case Je.Nor:return new Na(t,n);case Je.Not:return new nm(t,n);default:return new Na(t,n)}}function om({id:e,type:t,subtype:n},o){switch(t){case rt.CircuitNode:return new mn(e,o);case rt.InputNode:return new ns(e,o);case rt.LogicGate:return dc(n,e,o);case rt.Buffer:case rt.Freeport:return new J1(e,o);default:return new Y1(e,o)}}const rm={getLogicGateNode:dc,getCircuitNode:om};function im(e){Object.values(this.items).forEach(t=>{var n;return(n=t.clock)==null?void 0:n[e]()})}function sm(){this.isDebugging||(this.toggleClocks("start"),this.oscillator.start())}function am(){this.toggleClocks("stop"),this.oscillator.stop()}function lm(){this.isCircuitEvaluated=!0,this.evaluateCircuitStep()}function cm(e=!1){this.isDebugging=!this.isDebugging,this.isDebugging||e?(this.stopSimulation(),this.isDebugging=!0):(this.startSimulation(),this.advanceSimulation())}function um(){const e=this.isDebugging;this.isDebugging=!1,this.advanceSimulation(),this.isDebugging=e,this.isCircuitEvaluated=!0}function dm(e=0){if(this.circuit.advance(),e>1e3)return this.toggleDebugger();this.circuit.queue.length>0&&!(this.isDebugging&&!this.isCircuitEvaluated)&&this.evaluateCircuitStep(++e)}function fm(){this.oscillator.clear(),this.circuit.reset(),Object.values(this.items).forEach(({type:e,properties:t,portIds:n})=>{e===rt.InputNode&&n.forEach(o=>{this.setPortValue({id:o,value:qe.UNKNOWN}),this.flushCircuit(),this.setPortValue({id:o,value:qe.FALSE}),this.flushCircuit(),t!=null&&t.startValue&&this.setPortValue({id:o,value:t.startValue.value})})}),this.flushCircuit()}function hm(e){if(!e.integratedCircuit)return;const{items:t,connections:n,ports:o}=e.integratedCircuit;Object.values(t).forEach(r=>{this.addVirtualNode(r,o)}),Object.values(n).forEach(r=>{this.circuit.addConnection(this.nodes[r.source],this.nodes[r.target],r.target)})}function pm(e,t=this.ports){var i;if(e.portIds.length===0)return;if(e.integratedCircuit)return this.addIntegratedCircuitNode(e);const n=e.portIds.filter(s=>t[s].type===yt.Input),o=e.portIds.filter(s=>t[s].type===yt.Output),r=rm.getCircuitNode(e,n);if(r.forceContinue=e.type===rt.Freeport,r.on("change",this.onVirtualNodeChange.bind(this,r,o)),e.portIds.forEach(s=>{this.nodes[s]=r}),e.type===rt.InputNode&&e.subtype===Je.Clock){const s=(i=e.properties.interval)==null?void 0:i.value;e.clock=new mo(o[0],s,1),e.clock.on("change",a=>this.setPortValue({id:o[0],value:a})),this.oscillator.add(e.clock)}this.circuit.addNode(r),e.portIds.forEach(s=>{t[s].isMonitored&&this.monitorPort(s)})}function mm(e){const t=this.items[e],n=o=>o.integratedCircuit?Object.values(o.integratedCircuit.items).reduce((r,i)=>i.integratedCircuit?r.concat(n(i)).concat(i.portIds):r.concat(i.portIds),[]):[];t.portIds.concat(n(t)).forEach(o=>{const r=this.nodes[o];r&&(this.circuit.removeNode(r),this.removePort(o))})}function gm(e,t,n,o){o.concat(t).forEach(r=>{var i;if(this.ports[r]){const s=this.ports[r];this.items[s.elementId]&&s.value!==n&&(e.forceContinue||(this.isCircuitEvaluated=!1)),s.value=n,(i=s.wave)==null||i.drawPulseChange(n)}})}const vm=Object.defineProperty({__proto__:null,addIntegratedCircuitNode:hm,addVirtualNode:pm,advanceSimulation:lm,evaluateCircuitStep:dm,flushCircuit:um,onVirtualNodeChange:gm,removeVirtualNode:mm,resetCircuit:fm,startSimulation:sm,stopSimulation:am,toggleClocks:im,toggleDebugger:cm},Symbol.toStringTag,{value:"Module"});function ym(){const e=Object.values(this.items).map(s=>s.boundingBox),t=mt.getGroupBoundingBox(e),n=t.right-t.left,o=t.bottom-t.top,r=this.canvas.right-this.canvas.left,i=this.canvas.bottom-this.canvas.top;(n>r||o>i)&&(this.canvas={left:0,top:0,right:n*2,bottom:o*2},this.centerAll(),this.panToCenter()),setTimeout(()=>{this.setZoom({zoom:Math.min(this.viewport.width/n,this.viewport.height/o,1)})})}function bm(e){this.viewport=e,this.canvas.right=screen.width/Go,this.canvas.bottom=screen.height/Go,!this.hasLoaded&&e.width>0&&e.height>0&&(this.hasLoaded=!0,this.updateCanvasSize(),this.centerAll(),this.panToCenter())}function _m({rect:e,id:t}){const n=this.items[t];if(!n)return;const o=e.width/this.zoomLevel,r=e.height/this.zoomLevel,i=n.position.x+n.width/2,s=n.position.y+n.height/2,a=i-o/2,l=s-r/2;this.items[t].position={x:a,y:l},this.items[t].width=o,this.items[t].height=r,this.setItemBoundingBox(t),this.items[t].groupId&&this.setGroupBoundingBox(this.items[t].groupId)}function wm(e){if(!this.items[e])return;const{position:t,rotation:n,width:o,height:r}=this.items[e];this.items[e].boundingBox=mt.getBoundingBox(t,n,o,r)}function Cm(e){if(!this.groups[e])return;const t=this.groups[e].itemIds.map(n=>this.items[n].boundingBox);this.groups[e].boundingBox=mt.getGroupBoundingBox(t)}const Sm=Object.defineProperty({__proto__:null,setGroupBoundingBox:Cm,setItemBoundingBox:wm,setItemSize:_m,setViewerSize:bm,updateCanvasSize:ym},Symbol.toStringTag,{value:"Module"});function Im(e){this.snapBoundaries=(()=>{if(this.connectablePortIds.length)return this.connectablePortIds.filter(n=>n!==e).map(n=>mt.getPointBoundary(this.ports[n].position));const t=this.items[e];if(t&&!t.groupId)if(t.type===rt.Freeport){if(t.portIds.length>1)return Object.values(this.connections).reduce((n,o)=>t.portIds.includes(o.source)?n.concat(mt.getLinearBoundaries(this.ports[o.target].position)):t.portIds.includes(o.target)?n.concat(mt.getLinearBoundaries(this.ports[o.source].position)):n,[])}else return Object.values(this.items).filter(n=>n.id!==e&&n.type!==rt.Freeport).map(n=>n.boundingBox);return[]})()}const xm=Object.defineProperty({__proto__:null,setSnapBoundaries:Im},Symbol.toStringTag,{value:"Module"});function Em(){const e=this.undoStack.slice(-1).pop();e&&(this.redoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applySerializedState(e),this.undoStack.pop(),this.isDirty=!0)}function Om(){const e=this.redoStack.slice(-1).pop();e&&(this.undoStack.push(JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})),this.applySerializedState(e),this.redoStack.pop(),this.isDirty=!0)}function km(){this.cacheState(),this.commitCachedState()}function Pm(){this.cachedState=JSON.stringify({connections:this.connections,items:this.items,ports:this.ports,groups:this.groups})}function $m(){this.cachedState&&(this.undoStack.push(this.cachedState.toString()),this.cachedState=null,this.redoStack=[],this.isDirty=!0)}function Am({items:e,connections:t,ports:n,groups:o}){this.deselectAll();function r(u,f){const m=Object.keys(u),y=Object.keys(f);return m.filter(d=>!y.includes(d))}const i=r(this.items,e),s=r(this.connections,t),a=r(e,this.items),l=r(t,this.connections);s.forEach(u=>this.disconnectById(u)),i.forEach(u=>this.removeElement(u)),Object.keys(n).forEach(u=>{var f,m;this.ports[u]={...n[u],value:(f=this.ports[u])==null?void 0:f.value,wave:(m=this.ports[u])==null?void 0:m.wave}}),Object.keys(e).forEach(u=>{var f,m;this.items[u]={...e[u],clock:((f=this.items[u])==null?void 0:f.clock)||mo.deserialize((m=e[u])==null?void 0:m.clock)},this.setItemBoundingBox(u)}),a.forEach(u=>{this.addItem({item:e[u],ports:n})}),Object.keys(o).forEach(u=>{this.groups[u]=o[u],this.setGroupBoundingBox(u)}),requestAnimationFrame(()=>{l.forEach(u=>this.connect(t[u]))})}function Dm(e){this.applyDeserializedState(JSON.parse(e))}const zm=Object.defineProperty({__proto__:null,applyDeserializedState:Am,applySerializedState:Dm,cacheState:Pm,commitCachedState:$m,commitState:km,redo:Om,undo:Em},Symbol.toStringTag,{value:"Module"});function Fs(e,t){return e.zIndex>t.zIndex?1:e.zIndex<t.zIndex?-1:0}function Tm(){this.commitState(),this.incrementZIndex(-1)}function Mm(){this.commitState(),this.incrementZIndex(1)}function Bm(){this.commitState(),this.setZIndex(1)}function Lm(){this.commitState(),this.setZIndex(this.zIndex)}function Nm(e){const t=Object.values(this.items),n=Object.values(this.connections),o=t.concat(n).sort(Fs),r=o.filter(({isSelected:s})=>s).map(({id:s})=>s);e>0&&r.reverse();const i=[];r.forEach(s=>{var u;const a=o.findIndex(f=>f.id===s),l=a+e;if(l<0||l>=o.length){i.push(o[a].id);return}if(!i.includes((u=o[l])==null?void 0:u.id)){const f=o[a];o.splice(a,1),o.splice(l,0,f)}}),o.forEach((s,a)=>{s.zIndex=a+1}),this.zIndex=Object.keys(o).length}function Rm(e){const t=Object.values(this.items),n=Object.values(this.connections);let o=t.concat(n).sort(Fs);const r=o.filter(({isSelected:i})=>i);for(let i=0;i<o.length;i++)o[i].isSelected&&(o.splice(i,1),i--);o.splice(e-1,0,...r),o.forEach((i,s)=>{i.zIndex=s+1}),this.zIndex=Object.keys(o).length}const Fm=Object.defineProperty({__proto__:null,bringForward:Mm,bringToFront:Lm,incrementZIndex:Nm,sendBackward:Tm,sendToBack:Bm,setZIndex:Rm},Symbol.toStringTag,{value:"Module"});function jm(e=1){this.setZoom({zoom:this.zoomLevel+s1*e})}function Vm({zoom:e,point:t}){e<Go&&(e=Go),e>os&&(e=os),e=Math.round(e*100)/100,t||(t=mt.getBoundingBoxMidpoint(this.viewport),t.x+=this.viewport.left,t.y+=this.viewport.top);const n=fi(this.canvas,this.viewport,t,this.zoomLevel),o={x:n.x*e,y:n.y*e},r={x:t.x-this.viewport.x,y:t.y-this.viewport.y};this.panTo({x:Math.round(Math.min(r.x-o.x,0)),y:Math.round(Math.min(r.y-o.y,0))}),this.zoomLevel=e}const Um=Object.defineProperty({__proto__:null,incrementZoom:jm,setZoom:Vm},Symbol.toStringTag,{value:"Module"}),Ra=e=>ci({id:e,state:Cp,getters:{baseItems(t){return Object.values(t.connections).concat(Object.values(t.items)).sort(Fs)},zoom(t){return t.zoomLevel},hasSelection(t){return t.selectedItemIds.length>0||t.selectedConnectionIds.length>0},hasSelectedItems(t){return t.selectedItemIds.length>0},selectedGroupIds(t){const n=new Set;return t.selectedItemIds.forEach(o=>{var r;return n.add((r=t.items[o])==null?void 0:r.groupId)}),Array.from(n)},canGroup(){return this.selectedGroupIds.length>1||[].slice.call(this.selectedGroupIds)[0]===null},canUngroup(){return!![].slice.call(this.selectedGroupIds).find(t=>!!t)},canUndo(t){return t.undoStack.length>0},canRedo(t){return t.redoStack.length>0}},actions:{...Ep,...Lp,...Vp,...Zp,...Yp,...i1,...m1,...I1,...A1,...B1,...N1,...X1,...vm,...xm,...Sm,...zm,...Fm,...Um}});function Fa(e){var t;return((t=e.split("\\").pop())==null?void 0:t.split("/").pop())||""}const Kn=ci({id:"root",state:()=>({documents:{},clipboard:null,activeDocumentId:null,canExit:!1,canPaste:!1,isFullscreen:!1,isBuilderOpen:!1,isToolboxOpen:!1,isSettingsOpen:!1,isDocumentSelectOpen:!1,navigationAnimationFrameId:0}),getters:{hasOpenDocuments(e){return Object.keys(e.documents).length>0},activeDocument(e){return e.activeDocumentId?e.documents[e.activeDocumentId]:null},isDialogOpen(e){return e.isBuilderOpen}},actions:{async launchIntegratedCircuitBuilder(){const e=Ns(),t=this.activeDocument;if(t){this.isBuilderOpen=!0;try{await e.launchBuilder(t.store().$state);const n=t.store(),o=Ls.mapIntegratedCircuitIds(e.model);n.insertItemAtPosition({item:o}),n.setItemBoundingBox(o.id),n.setSelectionState({id:o.id,value:!0})}catch{window.api.showMessageBox({message:"That's okay."})}this.isBuilderOpen=!1}},openIntegratedCircuit(e){e.integratedCircuit&&this.openDocument("",e.integratedCircuit.serializedState,e.id,e.name)},async saveImage(e){if(this.activeDocument)try{const n=`${this.activeDocument.displayName.replace(/\.[^/.]+$/,"")}.png`,o=window.api.showSaveFileDialog([{name:"PNG Image",extensions:[".png"]}],n);if(!o)return;await Bo.writeBlob(o,e)}catch(t){console.log("ERROR: ",t),window.api.showMessageBox({message:"An error occurred while trying to save the image.",title:"Error",type:"error"})}},newDocument(){const e=it(),t=Ra(e);t().resetCircuit(),this.documents[e]={fileName:"Untitled Circuit",displayName:"Untitled Circuit",store:t},this.activateDocument(e)},async closeAll(){if(this.activeDocumentId){const e=await this.closeDocument(this.activeDocumentId);return await new Promise(t=>setTimeout(t)),e?this.closeAll():!1}return!0},printActiveDocument(){this.activeDocument&&(this.activeDocument.store().isPrinting=!0)},async closeDocument(e){const t=this.documents[e],n=t.store();let o=!0;if(this.activateDocument(e),n.isDirty){const i=window.api.showMessageBox({message:`Save changes to ${t.fileName}?`,title:"Confirm",buttons:["Yes","No","Cancel"]});if(i===0&&(o=await this.saveActiveDocument()),i===2)return!1}this.activeDocumentId=null,n.stopSimulation(),n.$reset(),n.$dispose(),delete this.documents[e];const r=Object.keys(this.documents).pop();return r&&this.activateDocument(r),o},async saveActiveDocument(e=!1){try{if(!this.activeDocument)return!0;if(!this.activeDocument.filePath||e){const n=this.activeDocument.fileName||`${this.activeDocument.fileName}.alfx`,o=window.api.showSaveFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]}],n);if(!o)return!0;if(o){const r=Fa(o);this.activeDocument.filePath=o,this.activeDocument.fileName=r,this.activeDocument.displayName=r}}if(!this.activeDocument.filePath)return!0;const t=this.activeDocument.store();return Bo.save(this.activeDocument.filePath,{items:t.items,connections:t.connections,groups:t.groups,ports:t.ports}),t.isDirty=!1,!0}catch{return window.api.showMessageBox({message:"An error occurred while trying to save the file.",title:"Error",type:"error"}),!1}},async selectDocument(){const e=window.api.showOpenFileDialog([{name:"Aristotle Logic Circuit (*.alfx)",extensions:["alfx"]},{name:"Aristotle Integrated Circuit (*.aicx)",extensions:["aicx"]}]);for(let t=0;t<e.length;t++)await this.openDocumentFromPath(e[t])},async openDocumentFromPath(e){try{const t=await Bo.open(e);t&&this.openDocument(e,t,it())}catch(t){console.log(t),window.api.showMessageBox({message:`Could not open ${e}. The file is not a valid Aristotle circuit.`,title:"Error",type:"error"})}},openDocument(e,t,n,o=""){if(this.documents[n])return this.activateDocument(n);const r=Ra(n),i=r(),s=Fa(e);i.loadDocument(t),i.oscillator.onTick=a=>i.oscillogram=a,this.documents[n]={fileName:s,filePath:/^.*.aicx$/i.test(e)?void 0:e,displayName:o||s,store:r},this.activateDocument(n)},switchDocument(e){const t=Object.keys(this.documents),n=t.findIndex(r=>this.activeDocumentId===r);let o=n+e;t.length!==0&&(n===-1||o>=t.length?o=0:o<0&&(o=t.length-1),this.activateDocument(t[o]))},pauseActivity(){var e;(e=this.activeDocument)==null||e.store().stopSimulation()},resumeActivity(){var e;(e=this.activeDocument)==null||e.store().startSimulation()},activateDocument(e){this.pauseActivity(),this.activeDocumentId=e,this.resumeActivity()},openTestDocuments(){this.openDocument("flip-flop.alfx",JSON.stringify(yp),it(),"flip-flop.alfx")},navigateDocumentList(e){this.navigationAnimationFrameId||(this.navigationAnimationFrameId=requestAnimationFrame(()=>{this.navigationAnimationFrameId=0;const t=Object.keys(this.documents);let o=t.findIndex(r=>r===this.activeDocumentId)+e;o<0&&(o=t.length-1),o>=t.length&&(o=0),this.activateDocument(t[o])}))},toggleFullscreen(){this.isFullscreen=!this.isFullscreen,window.api.setFullscreen(this.isFullscreen)},toggleToolbox(){this.isToolboxOpen=!this.isToolboxOpen},invokeClipboardAction(e){var t;(t=this.activeDocument)==null||t.store()[e]()},checkPastability(){this.canPaste=window.api.canPaste()}}});function fc(e,t=[]){const n=e(),o=Kn();let r=[{label:"&Undo",enabled:n.canUndo,accelerator:"CommandOrControl+Z",click:n.undo},{type:"separator"},{role:"cut",enabled:n.hasSelectedItems},{role:"copy",enabled:n.hasSelectedItems},{role:"paste",enabled:o.canPaste},{label:"Delete",accelerator:"Delete",enabled:n.hasSelection,click:n.deleteSelection},{type:"separator"},{label:"&Select All",accelerator:"CommandOrControl+A",enabled:n.baseItems.length>0,click:n.selectAll}];return n.selectedItemIds.length>0&&(r.push({type:"separator"}),r.push({label:"&Rotate",submenu:[{label:"Rotate 90 &CW",accelerator:"CmdOrCtrl+R",click:()=>n.rotate(1)},{label:"Rotate 90 CC&W",accelerator:"CmdOrCtrl+Shift+R",click:()=>n.rotate(-1)}]})),n.hasSelection&&(r.push({type:"separator"}),r.push({label:"&Bring to Front",submenu:[{label:"&Bring to Front",click:()=>n.setZIndex(n.zIndex)},{label:"Bring &Forward",click:()=>n.incrementZIndex(1)}]}),r.push({label:"&Send to Back",submenu:[{label:"&Send to Back",click:()=>n.setZIndex(n.zIndex)},{label:"Send &Backward",click:()=>n.incrementZIndex(-1)}]})),n.canGroup&&r.push({label:"&Group",submenu:[{label:"&Group"},{label:"&Ungroup",enabled:n.canUngroup}]}),t.length>0&&(r.push({type:"separator"}),r=r.concat(t)),n.selectedItemIds.length===1&&(r.push({type:"separator"}),r.push({label:"&Item Properties"})),n.activePortId&&(r.push({type:"separator"}),r.push({type:"checkbox",label:"Show in &Oscilloscope",checked:!0})),r}function hc(e){return e(),[{label:"&Grid",submenu:[{label:"&Show grid"},{type:"separator"},{label:"Snap to &grid"},{label:"Snap to &elements"}]}]}function js(e){return fc(e,hc(e).concat({type:"separator"}))}const Hm=xe({name:"Connection",components:{Draggable:ui,Wire:ap},props:{isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},zIndex:{type:Number,default:0},isPreview:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(e){const t=e.store(),n=Ue(t.connections[e.id]),o=Ue(),r=nt(()=>t.ports[t.connections[e.id].source]),i=nt(()=>t.ports[t.connections[e.id].target]),s=nt(()=>up(r.value,i.value)),a=nt(()=>{const v=mt.getExtremePoint("min",r.value.position,i.value.position);return{y:v.y+s.value.minY,x:v.x+s.value.minX}}),l=Ue(null);function u({touches:v}){f({x:v[0].clientX,y:v[0].clientY})}function f(v){var h;!((h=o.value)!=null&&h.$el)||n.value.groupId!==null||(o.value.$el.style.opacity="0",l.value=it(),navigator.vibrate(20),t.createFreeport({itemId:l.value,inputPortId:it(),outputPortId:it(),connectionChainId:n.value.connectionChainId,sourceId:r.value.id,targetId:i.value.id,value:r.value.value}),t.setSnapBoundaries(l.value),t.dragItem(l.value,v))}async function m(v){l.value?t.dragItem(l.value,v):f(v)}function y(){l.value&&t.destroyConnection({source:n.value.source,target:n.value.target}),l.value=null}function d(){e.isSelected||t.selectBaseItem(e.id),window.api.showContextMenu(js(e.store))}return{root:o,geometry:s,position:a,source:r,target:i,freeportId:l,onDragStart:u,onDrag:m,onDragEnd:y,onContextMenu:d,selectBaseItem:t.selectBaseItem,deselectBaseItem:t.deselectBaseItem}}});function Wm(e,t,n,o,r,i){const s=we("wire"),a=we("draggable");return K(),Fe(a,{style:at({zIndex:e.zIndex}),position:e.position,"is-selected":e.isSelected,"allow-touch-drag":e.freeportId!==null,onTouchhold:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onSelect:t[0]||(t[0]=l=>e.selectBaseItem(e.id,l)),onDeselect:t[1]||(t[1]=l=>e.deselectBaseItem(e.id)),onContextmenu:e.onContextMenu},{default:je(()=>[ue(s,{source:e.source,target:e.target,geometry:e.geometry,"is-selected":e.isSelected,"is-preview":e.isPreview,flash:e.flash,label:"TODO",ref:"root","data-test":"wire"},null,8,["source","target","geometry","is-selected","is-preview","flash"])]),_:1},8,["style","position","is-selected","allow-touch-drag","onTouchhold","onDrag","onDragEnd","onContextmenu"])}const qm=Oe(Hm,[["render",Wm]]),Zm=xe({name:"Freeport",components:{PortHandle:Ms}});function Gm(e,t,n,o,r,i){const s=we("port-handle");return K(),Fe(s)}const Km=Oe(Zm,[["render",Gm]]),Xm=xe({name:"InputNode",props:{ports:{type:Object,default:()=>{}}},emits:{signal:e=>!0},setup(e,{emit:t}){var i;const n=Ue(0),o=(i=e.ports[Ne.Right])==null?void 0:i[0];Fr(()=>{n.value=(o==null?void 0:o.value)||qe.UNKNOWN});function r(s){s.preventDefault(),s.stopPropagation(),n.value=n.value===qe.TRUE?qe.FALSE:qe.TRUE,t("signal",{id:o.id,value:n.value})}return{model:n,onInput:r}}});const Ym={class:"input-node"},Jm={key:0},Qm={key:1},eg={key:2};function tg(e,t,n,o,r,i){return K(),de("div",Ym,[ye("button",{type:"button",class:Ye(["input-node__flipper",{"input-node__flipper--on":e.model===1,"input-node__flipper--off":e.model===-1,"input-node__flipper--high-z":e.model===0}]),tabindex:0,onMousedown:t[0]||(t[0]=Wn((...s)=>e.onInput&&e.onInput(...s),["stop"])),onTouchstart:t[1]||(t[1]=Wn((...s)=>e.onInput&&e.onInput(...s),["stop"]))},[e.model===1?(K(),de("span",Jm,"ON")):e.model===-1?(K(),de("span",Qm,"OFF")):(K(),de("span",eg,"?"))],34)])}const ng=Oe(Xm,[["render",tg]]),og=xe({name:"CustomCircuitPort",components:{PortWire:tc},props:{label:{type:String,default:""},type:{type:String,required:!0}}});const rg={class:"custom-circuit-port"},ig={class:"custom-circuit-port__label"};function sg(e,t,n,o,r,i){const s=we("port-wire");return K(),de("div",rg,[ye("div",ig,dt(e.label),1),ue(s,{type:e.type},null,8,["type"])])}const ag=Oe(og,[["render",sg]]),lg=xe({name:"CustomCircuitPortZone",components:{CustomCircuitPort:ag},props:{ports:{type:Array,default:()=>[]},orientation:{type:String,required:!0},type:{type:String,required:!0}}});function cg(e,t,n,o,r,i){const s=we("custom-circuit-port");return K(),de("div",{class:Ye(`custom-circuit-port-zone custom-circuit-port-zone--${e.orientation}`)},[(K(!0),de(et,null,wt(e.ports,a=>(K(),de("div",{key:a.id,class:Ye([`custom-circuit-port-zone__io--${e.type}`,"custom-circuit-port-zone__io"])},[ue(s,{label:a.name,type:e.type},null,8,["label","type"])],2))),128))],2)}const ug=Oe(lg,[["render",cg]]),dg=xe({name:"CustomCircuit",components:{CustomCircuitPortZone:ug},props:{ports:{type:Object,default:()=>{}},name:{type:String,default:"circuit"}},setup(){return{Direction:Ne}}});const fg={class:"custom-circuit__center"},hg={class:"custom-circuit__name"};function pg(e,t,n,o,r,i){const s=we("custom-circuit-port-zone");return K(),de("div",{class:Ye(["custom-circuit",{"custom-circuit--no-left":!e.ports[e.Direction.Left].length,"custom-circuit--no-right":!e.ports[e.Direction.Right].length,"custom-circuit--no-top":!e.ports[e.Direction.Top].length,"custom-circuit--no-bottom":!e.ports[e.Direction.Bottom].length}])},[ue(s,{ports:e.ports[e.Direction.Top],orientation:"horizontal",type:"top"},null,8,["ports"]),ye("div",fg,[ue(s,{ports:e.ports[e.Direction.Left],orientation:"vertical",type:"left"},null,8,["ports"]),ye("div",hg,dt(e.name),1),ue(s,{ports:e.ports[e.Direction.Right],orientation:"vertical",type:"right"},null,8,["ports"])]),ue(s,{ports:e.ports[e.Direction.Bottom],orientation:"horizontal",type:"bottom"},null,8,["ports"])],2)}const mg=Oe(dg,[["render",pg]]),gg={" ":[0,0,0,0,0,0,0],0:[1,1,1,1,1,1,0],1:[0,0,1,1,0,0,0],2:[0,1,1,0,1,1,1],3:[0,1,1,1,1,0,1],4:[1,0,1,1,0,0,1],5:[1,1,0,1,1,0,1],6:[1,1,0,1,1,1,1],7:[0,1,1,1,0,0,0],8:[1,1,1,1,1,1,1],9:[1,1,1,1,0,0,1],a:[1,1,1,1,0,1,1],b:[1,0,0,1,1,1,1],c:[1,1,0,0,1,1,0],d:[0,0,1,1,1,1,1],e:[1,1,0,0,1,1,1],f:[1,1,0,0,0,1,1]},vg=["M 8,10 L 12,14 L 12,42 L 8,46 L 4,42 L 4,14 L 8,10 z","M 10,8 L 14,4 L 42,4 L 46,8 L 42,12 L 14,12 L 10,8 z","M 48,10 L 52,14 L 52,42 L 48,46 L 44,42 L 44,14 L 48,10 z","M 48,50 L 52,54 L 52,82 L 48,86 L 44,82 L 44,54 L 48,50 z","M 10,88 L 14,84 L 42,84 L 46,88 L 42,92 L 14,92 L 10,88 z","M 8,50 L 12,54 L 12,82 L 8,86 L 4,82 L 4,54 L 8,50 z","M 10,48 L 14,44 L 42,44 L 46,48 L 42,52 L 14,52 L 10,48 z"],yg=xe({name:"DigitDisplay",props:{ports:{type:Object,default:()=>{}}},setup(e){return{segments:nt(()=>{var r,i;const n=(i=(r=e.ports)==null?void 0:r[Ne.Left])==null?void 0:i.map(s=>s.value===qe.TRUE?1:0).join(""),o=parseInt(n,2).toString(16).toLowerCase();return gg[o].map((s,a)=>{const l=s?"on":"bg-tertiary";return{path:vg[a],style:{fill:`var(--color-${l})`}}})})}}});const bg={class:"digit"},_g={width:"58",height:"98"},wg=["d"];function Cg(e,t,n,o,r,i){return K(),de("div",bg,[(K(),de("svg",_g,[ye("g",null,[(K(!0),de(et,null,wt(e.segments,(s,a)=>(K(),de("path",{key:a,style:at(s.style),d:s.path},null,12,wg))),128))])]))])}const Sg=Oe(yg,[["render",Cg]]),Ig={CustomCircuit:mg,DigitDisplay:Sg},xg=xe({name:"IntegratedCircuit",components:Ig,props:{ports:{type:Object,default:()=>{}},subtype:{type:String,required:!0},name:{type:String,default:""}},setup(e){sn(()=>e.ports,()=>{console.log("ports changed",e.ports)})}});function Eg(e,t,n,o,r,i){return K(),Fe(ri(e.subtype),Wa(Es(e.$props)),null,16)}const Og=Oe(xg,[["render",Eg]]),kg=xe({name:"And",props:{isNegated:{type:Boolean,default:!1}}});const Pg={class:"and",width:"100",height:"50",viewBox:"0 -1 100 50"},$g=ye("path",{transform:"translate(20, 0)",class:"and__element",d:"M 0 0 V 48 H 24 C 36 48 48 36 48 24 C 48 12 36 0 24 0 Z"},null,-1),Ag={key:0,cx:"73",cy:"24",r:"5",class:"and__negation"};function Dg(e,t,n,o,r,i){return K(),de("svg",Pg,[$g,e.isNegated?(K(),de("circle",Ag)):pt("",!0)])}const pc=Oe(kg,[["render",Dg]]),zg=xe({name:"Or",props:{isNegated:{type:Boolean,default:!1},isXor:{type:Boolean,default:!1}}});const Tg={width:"100",height:"50",viewBox:"0 -1 100 50",class:"or"},Mg=ye("path",{transform:"translate(10, 0)",fill:"#fff",d:"M 0 0 C 12 12 12 36 0 48 H 0 H 24 C 48 48 60 36 72 24 C 60 12 48 0 24 0 Z",class:"or__element"},null,-1),Bg={key:0,fill:"none",d:"M 0 0 C 12 12 12 36 0 48",class:"or__tail"},Lg={key:1,cx:"88",cy:"24",r:"5",class:"or__negation"};function Ng(e,t,n,o,r,i){return K(),de("svg",Tg,[Mg,e.isXor?(K(),de("path",Bg)):pt("",!0),e.isNegated?(K(),de("circle",Lg)):pt("",!0)])}const hi=Oe(zg,[["render",Ng]]),Rg=xe({name:"Nor",components:{Or:hi}});function Fg(e,t,n,o,r,i){const s=we("or");return K(),Fe(s,{"is-negated":!0})}const jg=Oe(Rg,[["render",Fg]]),Vg=xe({name:"Buffer",props:{isNegated:{type:Boolean,default:!1}}});const Ug={class:"buffer",width:"100",height:"50",viewBox:"0 -1 100 50"},Hg=ye("path",{class:"buffer__element",transform:"translate(40, 0)",stroke:"#000","stroke-width":"2",fill:"#fff",d:"M 0 0 V 48 L 36 24 Z"},null,-1),Wg={key:0,class:"buffer__negation",stroke:"#000","stroke-width":"2",cx:"88",cy:"24",r:"5",fill:"#fff"};function qg(e,t,n,o,r,i){return K(),de("svg",Ug,[Hg,e.isNegated?(K(),de("circle",Wg)):pt("",!0)])}const Zg=Oe(Vg,[["render",qg]]),Gg=xe({name:"Not",components:{Buffer:Zg}});function Kg(e,t,n,o,r,i){const s=we("buffer");return K(),Fe(s,{"is-negated":!0})}const Xg=Oe(Gg,[["render",Kg]]),Yg=xe({name:"Nand",components:{And:pc}});function Jg(e,t,n,o,r,i){const s=we("and");return K(),Fe(s,{"is-negated":!0})}const Qg=Oe(Yg,[["render",Jg]]),e0=xe({name:"Xnor",components:{Or:hi}});function t0(e,t,n,o,r,i){const s=we("or");return K(),Fe(s,{"is-negated":!0,"is-xor":!0})}const n0=Oe(e0,[["render",t0]]),o0=xe({name:"Xor",components:{Or:hi}});function r0(e,t,n,o,r,i){const s=we("or");return K(),Fe(s,{"is-xor":!0})}const i0=Oe(o0,[["render",r0]]),s0=xe({name:"LogicGate",components:{And:pc,Or:hi,Nor:jg,Not:Xg,Nand:Qg,Xnor:n0,Xor:i0},props:{properties:{type:Object,default:()=>({})},subtype:{subtype:String,required:!0}},setup(e){return{inputCount:nt(()=>{var n;return((n=e.properties.inputCount)==null?void 0:n.value)||2})}}});const a0=ye("div",{class:"logic-gate__wire"},null,-1),l0={key:0,class:"logic-gate__wires--multiwire"},c0=ye("div",{class:"logic-gate__wires-divider"},[ye("div",{class:"logic-gate__wire"})],-1);function u0(e,t,n,o,r,i){return K(),de("div",{style:at({height:`${25*e.inputCount}px`}),class:"logic-gate"},[ye("div",{style:at({width:(e.inputCount>2,100+"%")}),class:"logic-gate__wires"},[ye("div",{class:Ye([{"logic-gate__wires-divider--multiwire":e.inputCount>2},"logic-gate__wires-divider"])},[(K(!0),de(et,null,wt(e.inputCount-1,s=>(K(),de("div",{key:s,class:"logic-gate__wire"}))),128)),a0],2),e.inputCount>2?(K(),de("div",l0)):pt("",!0),c0],4),(K(),Fe(ri(e.subtype),{class:"logic-gate__component"}))],4)}const d0=Oe(s0,[["render",u0]]),f0=xe({name:"Lightbulb",props:{ports:{type:Object,default:()=>{}}},setup(e){return{modifier:nt(()=>{var n,o;switch((o=(n=e.ports[Ne.Left])==null?void 0:n[0])==null?void 0:o.value){case qe.TRUE:return"on";case qe.FALSE:return"off";default:return"high-z"}})}}});const h0={class:"lightbulb"},p0=ye("div",{class:"lightbulb__wire"},null,-1);function m0(e,t,n,o,r,i){return K(),de("div",h0,[p0,ye("div",{class:Ye(["lightbulb__bulb",`lightbulb__bulb--${e.modifier}`])},null,2)])}const g0=Oe(f0,[["render",m0]]),v0={Lightbulb:g0},y0=xe({name:"OutputNode",components:v0,props:{ports:{type:Object,default:()=>{}},subtype:{type:String,required:!0}}});function b0(e,t,n,o,r,i){return K(),Fe(ri(e.subtype),Wa(Es(e.$props)),null,16)}const _0=Oe(y0,[["render",b0]]),w0={Freeport:Km,InputNode:ng,IntegratedCircuit:Og,LogicGate:d0,OutputNode:_0},C0=xe({name:"CircuitComponent",components:w0,emits:{signal:e=>!0},props:{isSelected:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},type:{type:String,required:!0},subtype:{type:String,required:!0},name:{type:String,default:""},ports:{type:Object,default:()=>{}},properties:{type:Object,default:()=>({})}},setup(e,{emit:t}){return{onChange(n){t("signal",n)},ItemType:rt,ItemSubtype:Je}}});function S0(e,t,n,o,r,i){return K(),de("div",{class:Ye(["circuit-component",{"circuit-component--selected":e.isSelected,"circuit-component--flash":e.flash,"circuit-component--custom":e.subtype===e.ItemSubtype.CustomCircuit}])},[(K(),Fe(ri(e.type),Ll(e.$props,{onSignal:e.onChange}),null,16,["onSignal"])),e.type!==e.ItemType.Freeport?(K(),de(et,{key:0},wt(["left","top","right","bottom"],(s,a)=>ye("div",{key:a,class:Ye([`circuit-component__ports--${s}`,"circuit-component__ports"])},[ft(e.$slots,a)],2)),64)):pt("",!0)],2)}const mc=Oe(C0,[["render",S0]]),I0=xe({name:"Properties",components:{Icon:qt},props:{properties:{type:Object,default:()=>({})},id:{type:String,default:""},viewport:{type:Object,required:!0}},emits:{update:(e,t)=>!0,pan:(e,t)=>!0},setup(e,{emit:t}){const n=Ue(),o=Ue(!1),r=Ue(Zt(e.properties));sn(e.properties,f=>{r.value=Zt(f)},{deep:!0});function i(f){o.value=!1,f.preventDefault()}function s(f){var m;i(f),(m=n.value)==null||m.focus()}function a(f){f.stopPropagation()}function l(){t("update",e.id,r.value)}function u(){o.value=!0,ei(()=>{if(!n.value)return;const{bottom:f,right:m}=n.value.getBoundingClientRect(),y=Math.max(m-e.viewport.right,0),d=Math.max(f-e.viewport.bottom,0);(y>0||d>0)&&t("pan",{x:-y,y:-d},!0)})}return{faClose:_o,faWrench:qf,model:r,isOpen:o,propertiesRef:n,close:i,onKeyDown:s,onChange:l,openProperties:u,stopPropagation:a}}});const x0=["aria-hidden"],E0={class:"properties__heading",role:"title"},O0=["for"],k0=["onUpdate:modelValue","id"],P0=["value"],$0=["onUpdate:modelValue","id"],A0=["onUpdate:modelValue","min","max","type","id"];function D0(e,t,n,o,r,i){const s=we("icon");return K(),de("div",{onContextmenu:t[3]||(t[3]=(...a)=>e.stopPropagation&&e.stopPropagation(...a)),onMousedown:t[4]||(t[4]=(...a)=>e.stopPropagation&&e.stopPropagation(...a)),onMouseup:t[5]||(t[5]=(...a)=>e.stopPropagation&&e.stopPropagation(...a)),onKeydown:t[6]||(t[6]=kn((...a)=>e.onKeyDown&&e.onKeyDown(...a),["esc"])),class:"properties"},[e.isOpen?(K(),de("div",{key:0,class:"properties__dialog",ref:"propertiesRef","aria-hidden":!e.isOpen},[ye("div",E0,[Os(" Properties "),ue(s,{tabindex:0,icon:e.faClose,onClick:e.close,role:"button",class:"properties__close"},null,8,["icon","onClick"])]),(K(!0),de(et,null,wt(e.model,(a,l)=>(K(),de("div",{key:l,class:"properties__entry"},[ye("label",{for:`${e.id}_${l}`,class:"properties__label"},dt(a.label),9,O0),a.options?co((K(),de("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${e.id}_${l}`,class:"properties__input",onChange:t[0]||(t[0]=(...u)=>e.onChange&&e.onChange(...u))},[(K(!0),de(et,null,wt(a.options,(u,f)=>(K(),de("option",{key:f,value:u},dt(f),9,P0))),128))],40,k0)),[[Ds,a.value]]):a.type==="boolean"?co((K(),de("input",{key:1,"onUpdate:modelValue":u=>a.value=u,id:`${e.id}_${l}`,type:"checkbox",class:"properties__input",onChange:t[1]||(t[1]=(...u)=>e.onChange&&e.onChange(...u))},null,40,$0)),[[As,a.value]]):co((K(),de("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${e.id}_${l}`,class:"properties__input",onChange:t[2]||(t[2]=(...u)=>e.onChange&&e.onChange(...u))},null,40,A0)),[[Vl,a.value]])]))),128))],8,x0)):(K(),Fe(s,{key:1,onKeydown:kn(e.openProperties,["space"]),onClick:e.openProperties,tabindex:0,icon:e.faWrench,class:"properties__icon"},null,8,["onKeydown","onClick","icon"]))],32)}const z0=Oe(I0,[["render",D0]]),T0=xe({name:"PortPivot",props:{rotation:{type:Number,default:0}}});function M0(e,t,n,o,r,i){return K(),de("div",{class:"port-pivot",style:at({transform:`rotate(-${e.rotation*90}deg)`}),onKeydown:t[0]||(t[0]=kn(s=>e.$emit("connect"),["space"]))},[ft(e.$slots,"default")],36)}const B0=Oe(T0,[["render",M0]]);var gc=function(){if(typeof Map<"u")return Map;function e(t,n){var o=-1;return t.some(function(r,i){return r[0]===n?(o=i,!0):!1}),o}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var o=e(this.__entries__,n),r=this.__entries__[o];return r&&r[1]},t.prototype.set=function(n,o){var r=e(this.__entries__,n);~r?this.__entries__[r][1]=o:this.__entries__.push([n,o])},t.prototype.delete=function(n){var o=this.__entries__,r=e(o,n);~r&&o.splice(r,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,o){o===void 0&&(o=null);for(var r=0,i=this.__entries__;r<i.length;r++){var s=i[r];n.call(o,s[1],s[0])}},t}()}(),is=typeof window<"u"&&typeof document<"u"&&window.document===document,Wr=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),L0=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Wr):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),N0=2;function R0(e,t){var n=!1,o=!1,r=0;function i(){n&&(n=!1,e()),o&&a()}function s(){L0(i)}function a(){var l=Date.now();if(n){if(l-r<N0)return;o=!0}else n=!0,o=!1,setTimeout(s,t);r=l}return a}var F0=20,j0=["top","right","bottom","left","width","height","size","weight"],V0=typeof MutationObserver<"u",U0=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=R0(this.refresh.bind(this),F0)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,o=n.indexOf(t);~o&&n.splice(o,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!is||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),V0?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!is||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,o=n===void 0?"":n,r=j0.some(function(i){return!!~o.indexOf(i)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),vc=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},go=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Wr},yc=pi(0,0,0,0);function qr(e){return parseFloat(e)||0}function ja(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(o,r){var i=e["border-"+r+"-width"];return o+qr(i)},0)}function H0(e){for(var t=["top","right","bottom","left"],n={},o=0,r=t;o<r.length;o++){var i=r[o],s=e["padding-"+i];n[i]=qr(s)}return n}function W0(e){var t=e.getBBox();return pi(0,0,t.width,t.height)}function q0(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return yc;var o=go(e).getComputedStyle(e),r=H0(o),i=r.left+r.right,s=r.top+r.bottom,a=qr(o.width),l=qr(o.height);if(o.boxSizing==="border-box"&&(Math.round(a+i)!==t&&(a-=ja(o,"left","right")+i),Math.round(l+s)!==n&&(l-=ja(o,"top","bottom")+s)),!G0(e)){var u=Math.round(a+i)-t,f=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(f)!==1&&(l-=f)}return pi(r.left,r.top,a,l)}var Z0=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof go(e).SVGGraphicsElement}:function(e){return e instanceof go(e).SVGElement&&typeof e.getBBox=="function"}}();function G0(e){return e===go(e).document.documentElement}function K0(e){return is?Z0(e)?W0(e):q0(e):yc}function X0(e){var t=e.x,n=e.y,o=e.width,r=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return vc(s,{x:t,y:n,width:o,height:r,top:n,right:t+o,bottom:r+n,left:t}),s}function pi(e,t,n,o){return{x:e,y:t,width:n,height:o}}var Y0=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=pi(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=K0(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),J0=function(){function e(t,n){var o=X0(n);vc(this,{target:t,contentRect:o})}return e}(),Q0=function(){function e(t,n,o){if(this.activeObservations_=[],this.observations_=new gc,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=o}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof go(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Y0(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof go(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(o){return new J0(o.target,o.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),bc=typeof WeakMap<"u"?new WeakMap:new gc,_c=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=U0.getInstance(),o=new Q0(t,n,this);bc.set(this,o)}return e}();["observe","unobserve","disconnect"].forEach(function(e){_c.prototype[e]=function(){var t;return(t=bc.get(this))[e].apply(t,arguments)}});var e2=function(){return typeof Wr.ResizeObserver<"u"?Wr.ResizeObserver:_c}();const t2=xe({name:"Resizable",emits:{resize:e=>!0},setup(e,{emit:t}){const n=Ue();function o([i]){t("resize",i.target.getBoundingClientRect())}const r=new e2(o);return Wt(()=>{r.observe(n.value)}),{onSizeChanged:o,resizable:n}}}),n2={ref:"resizable"};function o2(e,t,n,o,r,i){return K(),de("div",n2,[ft(e.$slots,"default")],512)}const mi=Oe(t2,[["render",o2]]),r2=xe({name:"PortItem",components:{PortHandle:Ms,PortPivot:B0,Draggable:ui,Resizable:mi},props:{id:{type:String,default:""},rotation:{type:Number,default:0},position:{type:Object,default:()=>({x:0,y:0})},isFreeport:{type:Boolean,default:!1},type:{type:Number,default:0},orientation:{type:Number,default:0},hue:{type:Number,default:0},connectedPortIds:{type:Object,default:[]},store:{type:Function,required:!0}},setup(e,{emit:t}){const n=e.store(),o=Vt.Radial,r=Ue(),i=nt(()=>n.activePortId===e.id||n.connectablePortIds.includes(e.id));let s=null,a="",l=!1;Wt(()=>{setTimeout(()=>{n.setPortRelativePosition(r.value.$el.getBoundingClientRect(),e.id)})});function u(g){g.preventDefault(),g.stopPropagation(),t("deselect",g)}function f(){n.unsetConnectionPreview(),n.cachedState=null}function m(){s={itemId:it()},a=it(),l=!1,e.type===yt.Input?(s.outputPortId=a,s.targetId=e.id):(s.inputPortId=a,s.sourceId=e.id)}function y({x:g,y:w}){s!==null&&(l||(n.createFreeport(s,!1),n.setConnectablePortIds({portId:e.id,isDragging:!0}),n.setSnapBoundaries(a)),n.dragItem(s.itemId,{x:g,y:w},Vt.Radial))}function d(){s!==null&&(s.inputPortId?n.connectFreeport({portId:s.inputPortId,sourceId:e.id}):s.outputPortId&&n.connectFreeport({portId:s.outputPortId,targetId:e.id}))}function v(g){g.stopPropagation(),g.preventDefault(),navigator.vibrate(100),n.togglePortMonitoring(e.id)}function h(g){g.stopPropagation(),g.preventDefault(),n.togglePortMonitoring(e.id)}return{store:n,snapMode:o,pivotRef:r,isActive:i,onDragStart:m,onDrag:y,onDragEnd:d,onEscapeKey:u,onBlur:f,onTouchHold:v,onDoubleClick:h,PortType:yt}}});function i2(e,t,n,o,r,i){const s=we("port-handle"),a=we("draggable"),l=we("port-pivot");return K(),Fe(l,{rotation:e.rotation,onBlur:e.onBlur,onKeydown:[kn(e.onEscapeKey,["esc"]),t[0]||(t[0]=kn(u=>e.store.cycleConnectionPreviews(e.id),["space"])),kn(e.store.commitPreviewedConnection,["enter"])],onContextmenu:t[1]||(t[1]=u=>e.store.setActivePortId(e.id)),"allow-touch-drag":"",ref:"pivotRef"},{default:je(()=>[e.isFreeport?(K(),Fe(s,{key:1,type:e.type,hue:e.hue,active:e.isActive},null,8,["type","hue","active"])):(K(),Fe(a,{key:0,onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onTouchhold:e.onTouchHold,onDblclick:e.onDoubleClick,tabindex:-1},{default:je(()=>[ue(s,{type:e.type,hue:e.hue,active:e.isActive,"touch-friendly":""},null,8,["type","hue","active"])]),_:1},8,["onDragStart","onDrag","onDragEnd","onTouchhold","onDblclick"]))]),_:1},8,["rotation","onBlur","onKeydown"])}const s2=Oe(r2,[["render",i2]]),a2=xe({name:"Item",components:{CircuitComponent:mc,Draggable:ui,PortItem:s2,Properties:z0},props:{zIndex:{type:Number,default:1},isSelected:{type:Boolean,default:!1},id:{type:String,required:!0},flash:{type:Boolean,default:!1},store:{type:Function,required:!0}},setup(e){const t=e.store(),n=nt(()=>t.items[e.id]),o=nt(()=>t.viewport),r=Ue(),i=Ue(0);sn(()=>{var g;return(g=t.items[e.id])==null?void 0:g.rotation},()=>i.value++),sn(()=>{var g,w;return(w=(g=t.items[e.id])==null?void 0:g.properties.inputCount)==null?void 0:w.value},()=>{h(),i.value++}),Wt(h);const s=nt(()=>{const g={[Ne.Left]:[],[Ne.Top]:[],[Ne.Right]:[],[Ne.Bottom]:[]};return t.items[e.id].portIds.forEach(w=>{g[t.ports[w].orientation].push(t.ports[w])}),g}),a=nt(()=>e.isSelected&&t.selectedItemIds.length===1&&t.items[e.id].type!==rt.Freeport);function l(){r.value.$el.focus()}function u(){t.items[e.id].subtype===Je.CustomCircuit&&Kn().openIntegratedCircuit(t.items[e.id])}function f(){t.cacheState(),t.setSnapBoundaries(e.id)}function m(g,w){t.dragItem(e.id,{x:g.x-w.x-t.items[e.id].width/2*t.zoomLevel,y:g.y-w.y-t.items[e.id].height/2*t.zoomLevel})}function y(g){document.activeElement===r.value.$el?r.value.$el.blur():g.preventDefault()}function d(g){t.activePortId===g&&t.setActivePortId(null)}function v(){e.isSelected||t.selectBaseItem(e.id),window.api.showContextMenu(js(e.store))}function h(){var g;t.setItemSize({id:e.id,rect:(g=r.value)==null?void 0:g.$el.getBoundingClientRect()})}return{item:n,itemRef:r,store:t,ports:s,viewport:o,isPropertiesEnabled:a,portUpdates:i,focus:l,onDrag:m,onDragStart:f,onEscapeKey:y,onPortBlur:d,onContextMenu:v,revealCustomCircuit:u,ItemSubtype:Je,ItemType:rt}}});function l2(e,t,n,o,r,i){const s=we("properties"),a=we("port-item"),l=we("circuit-component"),u=we("draggable");return K(),Fe(u,{style:at({outline:"none",pointerEvents:"none",zIndex:e.zIndex}),position:e.item.position,"is-selected":e.isSelected,"allow-touch-drag":e.isSelected,onKeydown:kn(e.onEscapeKey,["esc"]),onDrag:e.onDrag,onDragStart:e.onDragStart,onContextmenu:e.onContextMenu,onDblclick:e.revealCustomCircuit,onTouchhold:e.revealCustomCircuit,onDragEnd:e.store.commitCachedState,onSelect:t[1]||(t[1]=f=>e.store.selectBaseItem(e.id,f)),onDeselect:t[2]||(t[2]=f=>e.store.deselectBaseItem(e.id)),ref:"itemRef","data-test":"item"},{default:je(()=>[e.isPropertiesEnabled?(K(),Fe(s,{key:0,properties:e.item.properties,id:e.id,viewport:e.viewport,onUpdate:e.store.setProperties,onFocus:t[0]||(t[0]=f=>e.store.setActivePortId(null)),onPan:e.store.panDelta,"aria-label":"Properties dialog","data-test":"properties"},null,8,["properties","id","viewport","onUpdate","onPan"])):pt("",!0),ue(l,{type:e.item.type,subtype:e.item.subtype,name:e.item.name,ports:e.ports,properties:e.item.properties,"is-selected":e.isSelected,flash:e.flash,style:at({transform:`rotate(${90*e.item.rotation}deg)`}),onSignal:e.store.setPortValue},Ss({_:2},[wt(e.ports,(f,m)=>({name:m,fn:je(()=>[(K(!0),de(et,null,wt(f,y=>(K(),Fe(a,{tabindex:0,store:e.$props.store,id:y.id,key:`${y.id}_${e.portUpdates}`,title:y.name,type:y.type,position:y.position,orientation:y.orientation+e.item.rotation,"connected-port-ids":y.connectedPortIds,hue:y.isMonitored?y.hue:0,rotation:e.item.rotation,onKeypress:kn(e.onEscapeKey,["esc"]),onFocus:d=>e.store.setActivePortId(y.id),onBlur:d=>e.onPortBlur(y.id),onDeselect:e.focus,"data-test":"port-item"},null,8,["store","id","title","type","position","orientation","connected-port-ids","hue","rotation","onKeypress","onFocus","onBlur","onDeselect"]))),128))])}))]),1032,["type","subtype","name","ports","properties","is-selected","flash","style","onSignal"])]),_:1},8,["style","position","is-selected","allow-touch-drag","onKeydown","onDrag","onDragStart","onContextmenu","onDblclick","onTouchhold","onDragEnd"])}const c2=Oe(a2,[["render",l2]]),u2=xe({name:"Editor",emits:{resize:e=>!0,pan:(e,t)=>!0,zoom:e=>!0,contextmenu:e=>!0},components:{Resizable:mi},props:{zoom:{type:Number,default:1},gridSize:{type:Number,default:0},canvas:{type:Object,required:!0},snapshot:{type:Object,default:null}},setup(e,{emit:t}){let n=0,o={x:0,y:0},r={y:0,x:0},i=0,s=0,a=!1,l=0,u=1;const f=Ue(null),m=nt(()=>{const M=e.canvas.right-e.canvas.left,se=e.canvas.bottom-e.canvas.top;return{backgroundSize:`${e.gridSize}px ${e.gridSize}px`,transform:`scale(${e.zoom})`,left:`${e.canvas.left}px`,top:`${e.canvas.top}px`,width:`${M}px`,height:`${se}px`}}),y=Ue();Wt(()=>{window.addEventListener("mousemove",k),window.addEventListener("mouseup",A)}),Gn(()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",A)});function d({touches:M}){const se=M[0].clientX-M[1].clientX,S=M[0].clientY-M[1].clientY;return Math.hypot(se,S)}function v(M){if(M.touches.length===1)return{x:M.touches[0].clientX,y:M.touches[0].clientY};{const se=Math.abs(M.touches[0].clientX-M.touches[1].clientX)/2,S=Math.abs(M.touches[0].clientY-M.touches[1].clientY)/2;return{x:Math.min(M.touches[0].clientX,M.touches[1].clientX)+se,y:Math.min(M.touches[0].clientY,M.touches[1].clientY)+S}}}function h(M){a=!0,r=M,o=M,i=0,s=0}function g({x:M,y:se}){if(n=0,!a)return;const S=M-o.x,H=se-o.y;t("pan",{x:S,y:H}),i=Math.hypot(S,H),s=Math.atan2(H,S),o={x:M,y:se}}function w(M){n=0;const se=v(M);if(M.touches.length===2&&l){const S=d(M),H=Math.max(Math.min(u*(S/l),os),Go);t("zoom",{zoom:H,point:se})}g(se)}function x(){if(!i)return;const M=i*Math.cos(s)*rs,se=i*Math.sin(s)*rs;t("pan",{x:M,y:se},!0)}function P(M){h(M),M.preventDefault(),M.stopPropagation()}function k(M){n||(n=window.requestAnimationFrame(()=>g({x:M.clientX,y:M.clientY})))}function A(M){if(a){if(a=!1,M.button===2&&mt.isInNeighborhood(M,r,5)){t("contextmenu",M);return}M.stopPropagation(),M.preventDefault(),x()}}function X(M){M.touches.length>2||(h(v(M)),u=e.zoom,M.touches.length===2&&(l=d(M)),M.preventDefault(),M.stopPropagation())}function F(M){n||(n=window.requestAnimationFrame(()=>w(M)))}function N(M){if(M.touches.length){n=window.requestAnimationFrame(()=>X(M));return}l===0&&x(),a=!1,l=0,n=0}function D(M){if(!M.ctrlKey||!M.deltaY)return;const se=M.deltaY<0?1:-1,S=e.zoom+se/10;t("zoom",{zoom:S,point:{x:M.x,y:M.y}})}return{selector:f,style:m,grid:y,onTouchStart:X,onTouchMove:F,onTouchEnd:N,onMouseDown:P,onMouseMove:k,onMouseWheel:D}}});function d2(e,t,n,o,r,i){const s=we("resizable");return K(),Fe(s,{onMousewheel:e.onMouseWheel,onMousedown:Wn(e.onMouseDown,["right"]),onTouchstart:e.onTouchStart,onTouchmove:e.onTouchMove,onTouchend:e.onTouchEnd,onResize:t[0]||(t[0]=a=>e.$emit("resize",a)),class:"editor"},{default:je(()=>[ye("div",{style:at(e.style),class:"editor__grid",ref:"grid"},[ft(e.$slots,"default")],4)]),_:3},8,["onMousewheel","onMousedown","onTouchstart","onTouchmove","onTouchend"])}const f2=Oe(u2,[["render",d2]]),h2=xe({name:"Selector",emits:{selectionStart:e=>!0,selectionEnd:e=>!0},props:{zoom:{type:Number,default:1}},setup(e,{emit:t}){const n=Ue({x:0,y:0}),o=Ue({x:0,y:0}),r=Ue(null),i=Ue(!1),s=()=>({left:Math.min(n.value.x,o.value.x),top:Math.min(n.value.y,o.value.y),width:Math.abs(n.value.x-o.value.x),height:Math.abs(n.value.y-o.value.y)}),a=nt(()=>{const d=s();return{left:`${d.left}px`,top:`${d.top}px`,width:`${d.width}px`,height:`${d.height}px`}});Wt(()=>{window.addEventListener("mousemove",m),window.addEventListener("mouseup",y)}),Gn(()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",y)});function l(d){if(!r.value)return{x:0,y:0};const{top:v,left:h}=r.value.getBoundingClientRect(),g=(d.x-h)/e.zoom,w=(d.y-v)/e.zoom;return{x:g,y:w}}function u(){const{left:d,top:v,width:h,height:g}=s();t("selectionEnd",{left:d,top:v,bottom:g+v,right:d+h})}function f(d){const v=l(d);i.value=!0,n.value=v,o.value=v,t("selectionStart",d)}function m(d){i.value&&(o.value=l(d))}function y(){i.value&&(u(),i.value=!1,n.value.x=0,n.value.y=0,o.value.x=0,o.value.y=0)}return{selector:r,hasSelection:i,style:a,onMouseDown:f}}});function p2(e,t,n,o,r,i){return K(),de("div",{onMousedown:t[0]||(t[0]=Wn((...s)=>e.onMouseDown&&e.onMouseDown(...s),["left","self"])),class:"selector",ref:"selector"},[e.hasSelection?(K(),de("div",{key:0,style:at(e.style),class:"selector__selection"},null,4)):pt("",!0)],544)}const m2=Oe(h2,[["render",p2]]),g2=xe({name:"Group",props:{boundingBox:{type:Object,required:!0},id:{type:String,required:!0},isSelected:{type:Boolean,default:!1},zIndex:{type:Number,default:0},zoom:{type:Number,default:1}}});function v2(e,t,n,o,r,i){return K(),de("div",{class:Ye(["group",{"group--is-selected":e.isSelected}]),tabindex:-1,style:at({position:"absolute",left:`${e.boundingBox.left}px`,top:`${e.boundingBox.top}px`,width:`${e.boundingBox.right-e.boundingBox.left}px`,height:`${e.boundingBox.bottom-e.boundingBox.top}px`,zIndex:e.zIndex})},null,6)}const y2=Oe(g2,[["render",v2]]);var wc={exports:{}};(function(e){(function(t){var n=P(),o=k(),r=A(),i=X(),s={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:f,toJpeg:m,toBlob:y,toPixelData:u,impl:{fontFaces:r,images:i,util:n,inliner:o,options:{}}};e.exports=a;function l(F,N){return N=N||{},d(N),Promise.resolve(F).then(function(M){return h(M,N.filter,!0)}).then(g).then(w).then(D).then(function(M){return x(M,N.width||n.width(F),N.height||n.height(F))});function D(M){return N.bgcolor&&(M.style.backgroundColor=N.bgcolor),N.width&&(M.style.width=N.width+"px"),N.height&&(M.style.height=N.height+"px"),N.style&&Object.keys(N.style).forEach(function(se){M.style[se]=N.style[se]}),M}}function u(F,N){return v(F,N||{}).then(function(D){return D.getContext("2d").getImageData(0,0,n.width(F),n.height(F)).data})}function f(F,N){return v(F,N||{}).then(function(D){return D.toDataURL()})}function m(F,N){return N=N||{},v(F,N).then(function(D){return D.toDataURL("image/jpeg",N.quality||1)})}function y(F,N){return v(F,N||{}).then(n.canvasToBlob)}function d(F){typeof F.imagePlaceholder>"u"?a.impl.options.imagePlaceholder=s.imagePlaceholder:a.impl.options.imagePlaceholder=F.imagePlaceholder,typeof F.cacheBust>"u"?a.impl.options.cacheBust=s.cacheBust:a.impl.options.cacheBust=F.cacheBust}function v(F,N){return l(F,N).then(n.makeImage).then(n.delay(100)).then(function(M){var se=D(F);return se.getContext("2d").drawImage(M,0,0),se});function D(M){var se=document.createElement("canvas");if(se.width=N.width||n.width(M),se.height=N.height||n.height(M),N.bgcolor){var S=se.getContext("2d");S.fillStyle=N.bgcolor,S.fillRect(0,0,se.width,se.height)}return se}}function h(F,N,D){if(!D&&N&&!N(F))return Promise.resolve();return Promise.resolve(F).then(M).then(function(H){return se(F,H,N)}).then(function(H){return S(F,H)});function M(H){return H instanceof HTMLCanvasElement?n.makeImage(H.toDataURL()):H.cloneNode(!1)}function se(H,p,ee){var ve=H.childNodes;if(ve.length===0)return Promise.resolve(p);return Q(p,n.asArray(ve),ee).then(function(){return p});function Q(Se,ce,fe){var G=Promise.resolve();return ce.forEach(function(Z){G=G.then(function(){return h(Z,fe)}).then(function(Ce){Ce&&Se.appendChild(Ce)})}),G}}function S(H,p){if(!(p instanceof Element))return p;return Promise.resolve().then(ee).then(ve).then(Q).then(Se).then(function(){return p});function ee(){ce(window.getComputedStyle(H),p.style);function ce(fe,G){fe.cssText?G.cssText=fe.cssText:Z(fe,G);function Z(Ce,_e){n.asArray(Ce).forEach(function(te){_e.setProperty(te,Ce.getPropertyValue(te),Ce.getPropertyPriority(te))})}}}function ve(){[":before",":after"].forEach(function(fe){ce(fe)});function ce(fe){var G=window.getComputedStyle(H,fe),Z=G.getPropertyValue("content");if(Z===""||Z==="none")return;var Ce=n.uid();p.className=p.className+" "+Ce;var _e=document.createElement("style");_e.appendChild(te(Ce,fe,G)),p.appendChild(_e);function te(Ee,Re,Ie){var Be="."+Ee+":"+Re,Ge=Ie.cssText?Xe(Ie):T(Ie);return document.createTextNode(Be+"{"+Ge+"}");function Xe(j){var c=j.getPropertyValue("content");return j.cssText+" content: "+c+";"}function T(j){return n.asArray(j).map(c).join("; ")+";";function c(B){return B+": "+j.getPropertyValue(B)+(j.getPropertyPriority(B)?" !important":"")}}}}}function Q(){H instanceof HTMLTextAreaElement&&(p.innerHTML=H.value),H instanceof HTMLInputElement&&p.setAttribute("value",H.value)}function Se(){p instanceof SVGElement&&(p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p instanceof SVGRectElement&&["width","height"].forEach(function(ce){var fe=p.getAttribute(ce);fe&&p.style.setProperty(ce,fe)}))}}}function g(F){return r.resolveAll().then(function(N){var D=document.createElement("style");return F.appendChild(D),D.appendChild(document.createTextNode(N)),F})}function w(F){return i.inlineAll(F).then(function(){return F})}function x(F,N,D){return Promise.resolve(F).then(function(M){return M.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(M)}).then(n.escapeXhtml).then(function(M){return'<foreignObject x="0" y="0" width="100%" height="100%">'+M+"</foreignObject>"}).then(function(M){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+N+'" height="'+D+'">'+M+"</svg>"}).then(function(M){return"data:image/svg+xml;charset=utf-8,"+M})}function P(){return{escape:Se,parseExtension:N,mimeType:D,dataAsUrl:Q,isDataUrl:M,canvasToBlob:S,resolveUrl:H,getAndEncode:ve,uid:p(),delay:ce,asArray:fe,escapeXhtml:G,makeImage:ee,width:Z,height:Ce};function F(){var te="application/font-woff",Ee="image/jpeg";return{woff:te,woff2:te,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ee,jpeg:Ee,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function N(te){var Ee=/\.([^\.\/]*?)$/g.exec(te);return Ee?Ee[1]:""}function D(te){var Ee=N(te).toLowerCase();return F()[Ee]||""}function M(te){return te.search(/^(data:)/)!==-1}function se(te){return new Promise(function(Ee){for(var Re=window.atob(te.toDataURL().split(",")[1]),Ie=Re.length,Be=new Uint8Array(Ie),Ge=0;Ge<Ie;Ge++)Be[Ge]=Re.charCodeAt(Ge);Ee(new Blob([Be],{type:"image/png"}))})}function S(te){return te.toBlob?new Promise(function(Ee){te.toBlob(Ee)}):se(te)}function H(te,Ee){var Re=document.implementation.createHTMLDocument(),Ie=Re.createElement("base");Re.head.appendChild(Ie);var Be=Re.createElement("a");return Re.body.appendChild(Be),Ie.href=Ee,Be.href=te,Be.href}function p(){var te=0;return function(){return"u"+Ee()+te++;function Ee(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function ee(te){return new Promise(function(Ee,Re){var Ie=new Image;Ie.onload=function(){Ee(Ie)},Ie.onerror=Re,Ie.src=te})}function ve(te){var Ee=3e4;return a.impl.options.cacheBust&&(te+=(/\?/.test(te)?"&":"?")+new Date().getTime()),new Promise(function(Re){var Ie=new XMLHttpRequest;Ie.onreadystatechange=Xe,Ie.ontimeout=T,Ie.responseType="blob",Ie.timeout=Ee,Ie.open("GET",te,!0),Ie.send();var Be;if(a.impl.options.imagePlaceholder){var Ge=a.impl.options.imagePlaceholder.split(/,/);Ge&&Ge[1]&&(Be=Ge[1])}function Xe(){if(Ie.readyState===4){if(Ie.status!==200){Be?Re(Be):j("cannot fetch resource: "+te+", status: "+Ie.status);return}var c=new FileReader;c.onloadend=function(){var B=c.result.split(/,/)[1];Re(B)},c.readAsDataURL(Ie.response)}}function T(){Be?Re(Be):j("timeout of "+Ee+"ms occured while fetching resource: "+te)}function j(c){console.error(c),Re("")}})}function Q(te,Ee){return"data:"+Ee+";base64,"+te}function Se(te){return te.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function ce(te){return function(Ee){return new Promise(function(Re){setTimeout(function(){Re(Ee)},te)})}}function fe(te){for(var Ee=[],Re=te.length,Ie=0;Ie<Re;Ie++)Ee.push(te[Ie]);return Ee}function G(te){return te.replace(/#/g,"%23").replace(/\n/g,"%0A")}function Z(te){var Ee=_e(te,"border-left-width"),Re=_e(te,"border-right-width");return te.scrollWidth+Ee+Re}function Ce(te){var Ee=_e(te,"border-top-width"),Re=_e(te,"border-bottom-width");return te.scrollHeight+Ee+Re}function _e(te,Ee){var Re=window.getComputedStyle(te).getPropertyValue(Ee);return parseFloat(Re.replace("px",""))}}function k(){var F=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:se,shouldProcess:N,impl:{readUrls:D,inline:M}};function N(S){return S.search(F)!==-1}function D(S){for(var H=[],p;(p=F.exec(S))!==null;)H.push(p[1]);return H.filter(function(ee){return!n.isDataUrl(ee)})}function M(S,H,p,ee){return Promise.resolve(H).then(function(Q){return p?n.resolveUrl(Q,p):Q}).then(ee||n.getAndEncode).then(function(Q){return n.dataAsUrl(Q,n.mimeType(H))}).then(function(Q){return S.replace(ve(H),"$1"+Q+"$3")});function ve(Q){return new RegExp(`(url\\(['"]?)(`+n.escape(Q)+`)(['"]?\\))`,"g")}}function se(S,H,p){if(ee())return Promise.resolve(S);return Promise.resolve(S).then(D).then(function(ve){var Q=Promise.resolve(S);return ve.forEach(function(Se){Q=Q.then(function(ce){return M(ce,Se,H,p)})}),Q});function ee(){return!N(S)}}}function A(){return{resolveAll:F,impl:{readAll:N}};function F(){return N().then(function(D){return Promise.all(D.map(function(M){return M.resolve()}))}).then(function(D){return D.join(`
`)})}function N(){return Promise.resolve(n.asArray(document.styleSheets)).then(M).then(D).then(function(S){return S.map(se)});function D(S){return S.filter(function(H){return H.type===CSSRule.FONT_FACE_RULE}).filter(function(H){return o.shouldProcess(H.style.getPropertyValue("src"))})}function M(S){var H=[];return S.forEach(function(p){try{n.asArray(p.cssRules||[]).forEach(H.push.bind(H))}catch(ee){console.log("Error while reading CSS rules from "+p.href,ee.toString())}}),H}function se(S){return{resolve:function(){var p=(S.parentStyleSheet||{}).href;return o.inlineAll(S.cssText,p)},src:function(){return S.style.getPropertyValue("src")}}}}}function X(){return{inlineAll:N,impl:{newImage:F}};function F(D){return{inline:M};function M(se){return n.isDataUrl(D.src)?Promise.resolve():Promise.resolve(D.src).then(se||n.getAndEncode).then(function(S){return n.dataAsUrl(S,n.mimeType(D.src))}).then(function(S){return new Promise(function(H,p){D.onload=H,D.onerror=p,D.src=S})})}}function N(D){if(!(D instanceof Element))return Promise.resolve(D);return M(D).then(function(){return D instanceof HTMLImageElement?F(D).inline():Promise.all(n.asArray(D.childNodes).map(function(se){return N(se)}))});function M(se){var S=se.style.getPropertyValue("background");return S?o.inlineAll(S).then(function(H){se.style.setProperty("background",H,se.style.getPropertyPriority("background"))}).then(function(){return se}):Promise.resolve(se)}}}})()})(wc);var b2=wc.exports;const _2=Ts(b2);function Cc(e,t,n,o,r="printer-friendly"){const i=t.cloneNode(!0),s=n.right-n.left+o*2,a=n.bottom-n.top+o*2;for(let l=0;l<i.children.length;l++){const u=i.children[l],f=parseInt(u.style.left.replace("px",""),10)+o,m=parseInt(u.style.top.replace("px",""),10)+o;u.style.left=`${f-n.left}px`,u.style.top=`${m-n.top}px`}return i.style.zoom=e.toString(),i.style.width=`${s}px`,i.style.height=`${a}px`,i.style.position="relative",i.style.top="0",i.style.left="0",i.style.background="none",r&&i.classList.add(r),{printArea:i,width:s,height:a}}function w2(e,t){const n=document.createElement("iframe");n.name="print",n.style.width="1px",n.style.height="1px",n.style.opacity="0",n.style.position="absolute",n.style.top="0px",n.style.left="0px",document.body.appendChild(n);const o=n.contentWindow;if(o){const r=document.createElement("style");r.appendChild(document.createTextNode(`
      @page {
        size: ${t.map(i=>`${i}in`).join(" ")};
        margin: 0in;
      }
    `)),o.document.head.append(r),o.document.body.appendChild(e)}return n}async function C2(e,t){document.body.appendChild(e);const n=await _2[t](e);return e.remove(),n}async function S2(e){return new Promise(t=>{setTimeout(()=>{if(!e)return t();e.addEventListener("afterprint",()=>t()),e.print()})})}async function I2(e,t,n){const{printArea:o,width:r,height:i}=Cc(1/e,t,n,20),s=await uo.createImage(o,"toPng"),a=[8.5,11],l=Math.min(...a)*96,u=Math.max(...a)*96,f=new Image;let m=1;if(f.src=s,r>l||r>u||i>l||i>u){const d=r>i;m=d?u/r:u/i,d&&a.reverse()}f.style.width=`${Math.floor(r*m)}px`,f.style.height=`${Math.floor(i*m)}px`;const y=uo.createPrintFrame(f,a);await uo.printWindow(y==null?void 0:y.contentWindow),y==null||y.remove()}const uo={createPrintArea:Cc,createPrintFrame:w2,createImage:C2,printImage:I2,printWindow:S2},x2=xe({name:"Document",components:{Group:y2,Editor:f2,Selector:m2,Connection:qm,Item:c2},props:{store:{type:Function,required:!0}},setup(e){const t=e.store(),n=Kn(),o=Co(),r=Ue(),i=Ue(0),{colors:s}=Wo(o),a=nt(()=>t.isDebugging&&t.isCircuitEvaluated),l=nt(()=>o.grid.showGrid.value?o.grid.gridSize.value:0);let u=1,f=0;Fr(()=>{t.isPrinting&&y(),t.isCreatingImage&&d()}),Wt(()=>{document.addEventListener("keydown",v),document.addEventListener("keyup",h),window.addEventListener("blur",h)}),Gn(()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",h),window.removeEventListener("blur",h)});function m(P){if(!r.value)return;const k=Object.values(t.items).map(({boundingBox:X})=>X),A=mt.getGroupBoundingBox(k);P(r.value.grid,A)}async function y(){m(async(P,k)=>{await uo.printImage(t.zoom,P,k),t.isPrinting=!1})}async function d(){m(async(P,k)=>{const{printArea:A}=uo.createPrintArea(1/t.zoom,P,k,l1,""),X=await uo.createImage(A,"toBlob");await n.saveImage(X),t.isCreatingImage=!1})}function v(P){P.target instanceof HTMLInputElement||f||(f=requestAnimationFrame(()=>{switch(f=0,P.key){case"Escape":return t.deselectAll();case"a":return P.ctrlKey&&t.selectAll();default:return g(P)}}))}function h(){u=1}function g(P){const k=(()=>{switch(P.key){case"ArrowLeft":return{x:-1,y:0};case"ArrowUp":return{x:0,y:-1};case"ArrowRight":return{x:1,y:0};case"ArrowDown":return{x:0,y:1}}})();if(k){const A=Math.min(u,10);t.moveSelectionPosition({x:k.x*A,y:k.y*A}),u*=c1}}function w(P){window.api.showContextMenu(js(e.store)),P.preventDefault(),P.stopPropagation()}function x(P){P.ctrlKey||t.deselectAll()}return{store:t,editorRef:r,updates:i,colors:s,gridSize:l,flash:a,storeDefinition:e.store,onKeyDown:v,onKeyUp:h,onContextMenu:w,onDeselect:x}}});function E2(e,t,n,o,r,i){const s=we("selector"),a=we("item"),l=we("connection"),u=we("group"),f=we("editor");return K(),Fe(f,{ref:"editorRef",zoom:e.store.zoom,"grid-size":e.gridSize,tabindex:0,canvas:e.store.canvas,style:at({"--color-on":e.colors.onColor.value,"--color-off":e.colors.offColor.value,"--color-hi-i":e.colors.unknownColor.value}),onPan:e.store.panDelta,onZoom:e.store.setZoom,onContextmenu:e.onContextMenu,onResize:e.store.setViewerSize},{default:je(()=>[ue(s,{zoom:e.store.zoom,onSelectionEnd:e.store.createSelection,onSelectionStart:e.onDeselect,ref:"selector"},null,8,["zoom","onSelectionEnd","onSelectionStart"]),ye("div",{tabindex:0,onFocus:t[0]||(t[0]=m=>e.store.recycleSelection(!1))},null,32),e.store.hasLoaded?(K(!0),de(et,{key:0},wt(e.store.baseItems,m=>(K(),de(et,null,["type"in m?(K(),Fe(a,{tabindex:0,store:e.storeDefinition,id:m.id,key:m.id,"is-selected":m.isSelected,flash:e.flash,"z-index":m.zIndex+(m.type!=="Freeport"?2e3:1e3),onContextmenu:e.onContextMenu},null,8,["store","id","is-selected","flash","z-index","onContextmenu"])):(K(),Fe(l,{tabindex:0,store:e.storeDefinition,id:m.id,key:`c${m.id}`,"is-selected":m.isSelected,"is-preview":e.store.connectionPreviewId===m.id,flash:e.flash,"z-index":m.zIndex,onContextmenu:e.onContextMenu},null,8,["store","id","is-selected","is-preview","flash","z-index","onContextmenu"]))],64))),256)):pt("",!0),ye("div",{tabindex:0,onFocus:t[1]||(t[1]=m=>e.store.recycleSelection(!0))},null,32),(K(!0),de(et,null,wt(e.store.groups,m=>(K(),Fe(u,{key:m.id,id:m.id,"bounding-box":m.boundingBox,"is-selected":m.isSelected,"z-index":e.store.zIndex,zoom:e.store.zoom},null,8,["id","bounding-box","is-selected","z-index","zoom"]))),128))]),_:1},8,["zoom","grid-size","canvas","style","onPan","onZoom","onContextmenu","onResize"])}const O2=Oe(x2,[["render",E2]]),k2=xe({name:"MobileButton",components:{Icon:qt},props:{label:{type:String,default:""},icon:{type:Object,required:!0},chevron:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1}},setup(){return{faChevronDown:Gl}}});const P2={class:"mobile-button"},$2={class:"mobile-button__label"};function A2(e,t,n,o,r,i){const s=we("icon");return K(),de("div",P2,[ue(s,{icon:e.icon,class:"mobile-button__icon"},null,8,["icon"]),ye("div",$2,dt(e.label),1),e.chevron?(K(),Fe(s,{key:0,icon:e.faChevronDown,class:Ye([{"mobile-button__icon--open":e.isOpen},"mobile-button__icon--chevron"])},null,8,["icon","class"])):pt("",!0)])}const Sc=Oe(k2,[["render",A2]]),D2=xe({name:"MobileCollapsiblePanel",components:{MobileButton:Sc},props:{title:{type:String,default:""},icon:{type:Object,required:!0}},setup(){const e=Ue("0"),t=Ue(),n=Ue(!1);function o(){var i;e.value=n.value?((i=t.value)==null?void 0:i.clientHeight)+"px":"0px"}function r(){n.value=!n.value,o()}return Wt(()=>o()),{faChevronDown:Gl,isOpen:n,height:e,content:t,toggle:r}}});const z2={class:"mobile-collapsible-panel"},T2={ref:"content"};function M2(e,t,n,o,r,i){const s=we("mobile-button");return K(),de("div",z2,[ue(s,{label:e.title,icon:e.icon,"is-open":e.isOpen,onClick:e.toggle,chevron:""},null,8,["label","icon","is-open","onClick"]),ye("div",{class:"mobile-collapsible-panel__content",style:at({height:e.height})},[ye("div",T2,[ye("div",{class:Ye(["mobile-collapsible-panel__inner",{"mobile-collapsible-panel__inner--open":e.isOpen}])},[ft(e.$slots,"default")],2)],512)],4)])}const B2=Oe(D2,[["render",M2]]),L2=xe({name:"PropertyForm",props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""}},emits:{"update:modelValue":e=>!0},setup(e,{emit:t}){const n=Ue(e.modelValue);return sn(()=>e.modelValue,()=>{n.value=e.modelValue}),{model:n}}});const N2=["id","disabled"];function R2(e,t,n,o,r,i){return K(),de("label",{class:Ye(["property-switch",{"property-switch--on":e.model,"property-switch--disabled":e.disabled}])},[co(ye("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.model=s),id:e.id,disabled:e.disabled,type:"checkbox",class:"property-switch__input",onInput:t[1]||(t[1]=s=>e.$emit("update:modelValue",!e.model))},null,40,N2),[[As,e.model]]),ye("div",{class:Ye(["property-switch__trigger",{"property-switch__trigger--on":e.model}])},null,2)],2)}const F2=Oe(L2,[["render",R2]]),Ic=/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent),j2=xe({name:"PropertyForm",components:{Icon:qt,PropertySwitch:F2},props:{modelValue:{type:Object,default:()=>({})},id:{type:String,default:""}},setup(e,{emit:t}){const n=s=>Object.keys(s).filter(a=>Ic?!s[a].desktopOnly:!s[a].mobileOnly).reduce((a,l)=>({...a,[l]:Zt(s[l])}),{}),o=Ue(n(e.modelValue));sn(()=>e.modelValue,s=>{o.value=n(s)},{deep:!0});function r(s){var l;const a=o.value[s];(l=a.excludes)==null||l.forEach(u=>{a.value&&o.value[u].type==="boolean"&&(o.value[u].value=!1)}),i()}function i(){t("update:modelValue",o.value)}return{model:o,close,onSwitch:r,onChange:i}}});const V2={class:"property-form"},U2=["for"],H2=["onUpdate:modelValue","id","disabled"],W2=["value"],q2={key:1,class:"property-form__switch"},Z2=["onUpdate:modelValue","min","max","type","id","disabled"],G2={key:3,class:"property-form__description"};function K2(e,t,n,o,r,i){const s=we("property-switch");return K(),de("div",V2,[(K(!0),de(et,null,wt(e.model,(a,l)=>(K(),de("div",{key:l,class:"property-form__entry"},[ye("label",{for:`${e.id}_${l}`,class:Ye([{"property-form__label--disabled":a.disabled},"property-form__label"])},dt(a.label),11,U2),a.options?co((K(),de("select",{key:0,"onUpdate:modelValue":u=>a.value=u,id:`${e.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:t[0]||(t[0]=(...u)=>e.onChange&&e.onChange(...u))},[(K(!0),de(et,null,wt(a.options,(u,f)=>(K(),de("option",{key:f,value:u},dt(f),9,W2))),128))],40,H2)),[[Ds,a.value]]):a.type==="boolean"?(K(),de("div",q2,[ue(s,{modelValue:a.value,"onUpdate:modelValue":[u=>a.value=u,u=>e.onSwitch(l)],modelModifiers:{boolean:!0},id:`${e.id}_${l}`,disabled:a.disabled},null,8,["modelValue","onUpdate:modelValue","id","disabled"])])):co((K(),de("input",{key:2,"onUpdate:modelValue":u=>a.value=u,min:a.min,max:a.max,type:a.type,id:`${e.id}_${l}`,disabled:a.disabled,class:"property-form__input",onChange:t[1]||(t[1]=(...u)=>e.onChange&&e.onChange(...u))},null,40,Z2)),[[Vl,a.value]]),a.description?(K(),de("small",G2,dt(a.description),1)):pt("",!0)]))),128))])}const X2=Oe(j2,[["render",K2]]),Y2=xe({components:{MobileButton:Sc,MobileCollapsiblePanel:B2,PropertyForm:X2},name:"MobilePreferences",setup(){const e=Co(),{colors:t,grid:n,snapping:o,simulation:r,experience:i}=Wo(e),{updateSettings:s}=e;return{faFile:Xl,faCodeBranch:Kl,faGears:Ef,faImage:Of,faMagnet:kf,faMicrochip:zs,faPalette:$f,faTableCells:Vf,faWandMagicSparkles:Hf,colors:t,grid:n,snapping:o,simulation:r,experience:i,updateSettings:s}}});function J2(e,t,n,o,r,i){const s=we("mobile-button"),a=we("property-form"),l=we("mobile-collapsible-panel");return K(),de(et,null,[ue(s,{icon:e.faFile,label:"New Circuit"},null,8,["icon"]),ue(s,{icon:e.faCodeBranch,label:"Load Circuit"},null,8,["icon"]),ue(s,{icon:e.faMicrochip,label:"Import integrated circuit"},null,8,["icon"]),ue(s,{icon:e.faImage,label:"Export image"},null,8,["icon"]),ue(l,{title:"Colors",icon:e.faPalette},{default:je(()=>[ue(a,{modelValue:e.colors,"onUpdate:modelValue":t[0]||(t[0]=u=>e.colors=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ue(l,{title:"Grid",icon:e.faTableCells},{default:je(()=>[ue(a,{modelValue:e.grid,"onUpdate:modelValue":t[1]||(t[1]=u=>e.grid=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ue(l,{title:"Snapping",icon:e.faMagnet},{default:je(()=>[ue(a,{modelValue:e.snapping,"onUpdate:modelValue":t[2]||(t[2]=u=>e.snapping=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ue(l,{title:"Simulation",icon:e.faGears},{default:je(()=>[ue(a,{modelValue:e.simulation,"onUpdate:modelValue":t[3]||(t[3]=u=>e.simulation=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"]),ue(l,{title:"Experience",icon:e.faWandMagicSparkles},{default:je(()=>[ue(a,{modelValue:e.experience,"onUpdate:modelValue":t[4]||(t[4]=u=>e.experience=u),id:"section1"},null,8,["modelValue"])]),_:1},8,["icon"])],64)}const Q2=Oe(Y2,[["render",J2]]),ev=xe({name:"OscilloscopeTimeline",props:{oscillogram:{type:Object,required:!0},items:{type:Object,required:!0},ports:{type:Object,required:!0}},computed:{totalWidth(){return Object.values(this.oscillogram).reduce((e,{width:t})=>Math.max(t,e),0)}},mounted(){const e=this.$refs.timeline,t=this.$refs.list;this.scrollToNextInterval(),t.addEventListener("scroll",this.onTimelineScroll),e.addEventListener("scroll",this.onTimelineScroll)},beforeUnmount(){const e=this.$refs.timeline;this.$refs.list.removeEventListener("scroll",this.onTimelineScroll),e.removeEventListener("scroll",this.onTimelineScroll)},methods:{onWheel(e){const t=this.$refs.timeline;t.scrollTop+=e.deltaY/10,e.preventDefault()},scrollToNextInterval(){const e=this.$refs.timeline;e.scrollLeft=e.scrollWidth},onTimelineScroll(){const e=this.$refs.list,t=this.$refs.timeline;t&&(e.scrollTop=t.scrollTop)}},watch:{oscillogram:{handler(){this.scrollToNextInterval()},deep:!0}}});const tv={class:"oscilloscope-timeline"},nv={class:"oscilloscope-timeline__list",ref:"list"},ov=["width","viewBox"],rv=["points","stroke"];function iv(e,t,n,o,r,i){return K(),de("div",tv,[ye("div",nv,[(K(!0),de(et,null,wt(e.oscillogram,(s,a)=>{var l,u,f;return K(),de("div",{key:a,style:at({color:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`}),class:"oscilloscope-timeline__label"},dt(`${((u=e.items[(l=e.ports[a])==null?void 0:l.elementId])==null?void 0:u.name)||""} ${(f=e.ports[a])==null?void 0:f.name}`),5)}),128))],512),ye("div",{class:"oscilloscope-timeline__display",ref:"timeline",onWheel:t[0]||(t[0]=(...s)=>e.onWheel&&e.onWheel(...s))},[(K(!0),de(et,null,wt(e.oscillogram,(s,a)=>(K(),de("div",{style:at({width:`${e.totalWidth}px`}),key:a,class:"oscilloscope-timeline__item"},[ye("div",{style:at({width:`${s.width}px`}),class:"oscilloscope-timeline__svg"},[(K(),de("svg",{width:s.width,viewBox:`0 0 ${s.width} 1`,preserveAspectRatio:"none"},[ye("polyline",{points:s.points,stroke:`hsla(${s.hue}, var(--lightness), var(--saturation), 0.8)`,"stroke-width":"2",fill:"none","vector-effect":"non-scaling-stroke"},null,8,rv)],8,ov))],4)],4))),128))],544)])}const sv=Oe(ev,[["render",iv]]),av=xe({name:"OscilloscopeTitleBar",components:{Icon:qt},props:{clearable:{type:Boolean,default:!0},isRecording:{type:Boolean,default:!0}},setup(){return{faBan:Zl,faClose:_o,faPause:Af,faPlay:Df}}});const lv={class:"oscilloscope-title-bar"},cv=ye("div",{class:"oscilloscope-title-bar__title"},"Oscilloscope",-1),uv={class:"oscilloscope-title-bar__actions"},dv=["disabled"];function fv(e,t,n,o,r,i){const s=we("icon");return K(),de("div",lv,[cv,ye("div",uv,[ye("button",{class:"oscilloscope-title-bar__button",title:"Close",onClick:t[0]||(t[0]=a=>e.$emit("close"))},[ue(s,{icon:e.faClose},null,8,["icon"])]),ye("button",{class:"oscilloscope-title-bar__button",title:"Clear oscilloscope",disabled:!e.clearable,onClick:t[1]||(t[1]=a=>e.$emit("clear"))},[ue(s,{icon:e.faBan},null,8,["icon"])],8,dv),ye("button",{class:"oscilloscope-title-bar__button",title:"Close",onClick:t[2]||(t[2]=a=>e.$emit("toggle"))},[ue(s,{icon:e.isRecording?e.faPause:e.faPlay},null,8,["icon"])])])])}const hv=Oe(av,[["render",fv]]),pv=xe({name:"OscilloscopeViewer",props:{collapseHeight:{type:Number,default:20},modelValue:{type:Number,required:!0}},setup(e,{emit:t}){const n=Ue(e.modelValue),o=Ue();let r=0,i=0,s=!1;function a(y){r=n.value,i=y.clientY,s=!0}function l(y){a(y.touches[0])}function u(y){var v;if(!s||!o.value)return;const d=(v=o.value.parentElement)==null?void 0:v.getBoundingClientRect();n.value+=Math.min(i-y.clientY,(d==null?void 0:d.height)||1/0),i=y.clientY,n.value<=e.collapseHeight?t("collapse",r):t("update:modelValue",n.value)}function f(y){u(y.touches[0])}function m(){s=!1}return Wt(()=>{window.addEventListener("mousemove",u),window.addEventListener("mouseup",m)}),ws(()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",m)}),{onMouseDown:a,onMouseUp:m,onTouchStart:l,onTouchMove:f,height:n,viewer:o}}});function mv(e,t,n,o,r,i){return K(),de("div",{ref:"viewer",class:"oscilloscope-viewer",style:at({height:`${e.height}px`})},[ye("div",{class:"oscilloscope-viewer__touch-resizer",onTouchstart:t[1]||(t[1]=(...s)=>e.onTouchStart&&e.onTouchStart(...s)),onTouchmove:t[2]||(t[2]=(...s)=>e.onTouchMove&&e.onTouchMove(...s)),onTouchcancel:t[3]||(t[3]=(...s)=>e.onMouseUp&&e.onMouseUp(...s)),onTouchend:t[4]||(t[4]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[ye("div",{class:"oscilloscope-viewer__mouse-resizer",onMousedown:t[0]||(t[0]=(...s)=>e.onMouseDown&&e.onMouseDown(...s))},null,32)],32),ft(e.$slots,"default")],4)}const gv=Oe(pv,[["render",mv]]),vv=xe({name:"Oscilloscope",components:{OscilloscopeTimeline:sv,OscilloscopeTitleBar:hv,OscilloscopeViewer:gv},props:{store:{type:Function,required:!0}},setup(e){const t=e.store(),{oscilloscopeHeight:n,isOscilloscopeOpen:o,isOscilloscopeRecording:r,oscillogram:i,items:s,ports:a}=Wo(t),{closeOscilloscope:l,toggleOscillatorRecording:u}=t,f=nt(()=>Object.keys(t.oscillogram).length>0);function m(){t.oscillator.clear()}return{hasWaves:f,oscillogram:i,items:s,ports:a,oscilloscopeHeight:n,isOscilloscopeOpen:o,isOscilloscopeRecording:r,clearOscilloscope:m,closeOscilloscope:l,toggleOscillatorRecording:u}}}),yv={key:0};function bv(e,t,n,o,r,i){const s=we("oscilloscope-title-bar"),a=we("oscilloscope-timeline"),l=we("oscilloscope-viewer");return e.isOscilloscopeOpen?(K(),Fe(l,{key:0,modelValue:e.oscilloscopeHeight,"onUpdate:modelValue":t[0]||(t[0]=u=>e.oscilloscopeHeight=u),"collapse-height":40,onCollapse:e.closeOscilloscope},{default:je(()=>[ue(s,{clearable:e.hasWaves,"is-recording":e.isOscilloscopeRecording,onClear:e.clearOscilloscope,onToggle:e.toggleOscillatorRecording},null,8,["clearable","is-recording","onClear","onToggle"]),e.hasWaves?(K(),Fe(a,{key:1,oscillogram:e.oscillogram,items:e.items,ports:e.ports},null,8,["oscillogram","items","ports"])):(K(),de("div",yv," no waves to observe "))]),_:1},8,["modelValue","onCollapse"])):pt("",!0)}const _v=Oe(vv,[["render",bv]]),wv=xe({name:"StatusBarButton",props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"2em"}}});const Cv=["disabled","title"];function Sv(e,t,n,o,r,i){return K(),de("button",{class:"status-bar-button",disabled:e.disabled,title:e.title,style:at({width:e.width})},[ft(e.$slots,"default")],12,Cv)}const Iv=Oe(wv,[["render",Sv]]),xv=xe({name:"StatusBarViewer"});const Ev={class:"status-bar-viewer"},Ov={class:"status-bar-viewer__left"},kv={class:"status-bar-viewer__right"};function Pv(e,t,n,o,r,i){return K(),de("div",Ev,[ye("div",Ov,[ft(e.$slots,"left")]),ye("div",kv,[ft(e.$slots,"right")])])}const $v=Oe(xv,[["render",Pv]]),Av=xe({name:"StatusBarZoom",components:{Icon:qt},props:{zoom:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:200},step:{type:Number,default:10}},setup(e,{emit:t}){const n=nt(()=>Math.round(e.zoom*100));function o(r){const i=r.target,s=parseFloat(i.value);t("zoom",s/100)}return{onInput:o,value:n}}});const Dv=["step","min","max","value"];function zv(e,t,n,o,r,i){return K(),de("input",{type:"range",class:"status-bar-zoom",step:e.step,min:e.min,max:e.max,value:e.value,onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s))},null,40,Dv)}const Tv=Oe(Av,[["render",zv]]),Mv=xe({name:"StatusBar",components:{Icon:qt,StatusBarButton:Iv,StatusBarViewer:$v,StatusBarZoom:Tv},props:{store:{type:Function,required:!0},isFullscreen:{type:Boolean,default:!1}},setup(e){const t=e.store(),n=nt(()=>t.isPrinting),o=nt(()=>t.isCreatingImage),r=nt(()=>Math.round(t.zoomLevel*100));return{store:t,isPrinting:n,isCreatingImage:o,zoomPercent:r,faMinus:Pf,faPlus:zf,faExpand:If,faCompress:Sf}}}),Bv={key:0},Lv={key:1},Nv={key:2};function Rv(e,t,n,o,r,i){const s=we("icon"),a=we("status-bar-button"),l=we("status-bar-zoom"),u=we("status-bar-viewer");return K(),Fe(u,null,{left:je(()=>[e.isPrinting?(K(),de("span",Bv,"Printing...")):e.isCreatingImage?(K(),de("span",Lv,"Rendering image...")):(K(),de("span",Nv,"Ready"))]),right:je(()=>[ue(a,{title:"Zoom out",disabled:e.store.zoomLevel<=.1,onClick:t[0]||(t[0]=f=>e.store.incrementZoom(-1))},{default:je(()=>[ue(s,{icon:e.faMinus},null,8,["icon"])]),_:1},8,["disabled"]),ue(l,{type:"range",class:"status-bar__range",min:0,step:10,max:200,zoom:e.store.zoomLevel,onZoom:t[1]||(t[1]=f=>e.store.setZoom({zoom:f}))},null,8,["zoom"]),ue(a,{title:"Zoom in",disabled:e.store.zoomLevel>=2,onClick:t[2]||(t[2]=f=>e.store.incrementZoom(1))},{default:je(()=>[ue(s,{icon:e.faPlus},null,8,["icon"])]),_:1},8,["disabled"]),ue(a,{width:"3em",onClick:t[3]||(t[3]=f=>e.store.setZoom({zoom:1}))},{default:je(()=>[Os(dt(e.zoomPercent)+"% ",1)]),_:1}),ue(a,{title:"Toggle fullscreen",onClick:t[4]||(t[4]=f=>e.$emit("fullscreen"))},{default:je(()=>[ue(s,{icon:e.isFullscreen?e.faCompress:e.faExpand},null,8,["icon"])]),_:1})]),_:1})}const Fv=Oe(Mv,[["render",Rv]]);/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var jv={prefix:"far",iconName:"copy",icon:[512,512,[],"f0c5","M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"]},Vv={prefix:"far",iconName:"file",icon:[384,512,[128459,61462,128196],"f15b","M0 64C0 28.65 28.65 0 64 0H229.5C246.5 0 262.7 6.743 274.7 18.75L365.3 109.3C377.3 121.3 384 137.5 384 154.5V448C384 483.3 355.3 512 320 512H64C28.65 512 0 483.3 0 448V64zM336 448V160H256C238.3 160 224 145.7 224 128V48H64C55.16 48 48 55.16 48 64V448C48 456.8 55.16 464 64 464H320C328.8 464 336 456.8 336 448z"]},Uv={prefix:"far",iconName:"floppy-disk",icon:[448,512,[128426,128190,"save"],"f0c7","M224 256c-35.2 0-64 28.8-64 64c0 35.2 28.8 64 64 64c35.2 0 64-28.8 64-64C288 284.8 259.2 256 224 256zM433.1 129.1l-83.9-83.9C341.1 37.06 328.8 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 151.2 442.9 138.9 433.1 129.1zM128 80h144V160H128V80zM400 416c0 8.836-7.164 16-16 16H64c-8.836 0-16-7.164-16-16V96c0-8.838 7.164-16 16-16h16v104c0 13.25 10.75 24 24 24h192C309.3 208 320 197.3 320 184V83.88l78.25 78.25C399.4 163.2 400 164.8 400 166.3V416z"]},Hv=Uv,Wv={prefix:"far",iconName:"folder-open",icon:[576,512,[128449,61717,128194],"f07c","M572.6 270.3l-96 192C471.2 473.2 460.1 480 447.1 480H64c-35.35 0-64-28.66-64-64V96c0-35.34 28.65-64 64-64h117.5c16.97 0 33.25 6.742 45.26 18.75L275.9 96H416c35.35 0 64 28.66 64 64v32h-48V160c0-8.824-7.178-16-16-16H256L192.8 84.69C189.8 81.66 185.8 80 181.5 80H64C55.18 80 48 87.18 48 96v288l71.16-142.3C124.6 230.8 135.7 224 147.8 224h396.2C567.7 224 583.2 249 572.6 270.3z"]},qv={prefix:"far",iconName:"object-group",icon:[576,512,[],"f247","M128 160C128 142.3 142.3 128 160 128H288C305.7 128 320 142.3 320 160V256C320 273.7 305.7 288 288 288H160C142.3 288 128 273.7 128 256V160zM288 320C323.3 320 352 291.3 352 256V224H416C433.7 224 448 238.3 448 256V352C448 369.7 433.7 384 416 384H288C270.3 384 256 369.7 256 352V320H288zM48 115.8C38.18 106.1 32 94.22 32 80C32 53.49 53.49 32 80 32C94.22 32 106.1 38.18 115.8 48H460.2C469 38.18 481.8 32 496 32C522.5 32 544 53.49 544 80C544 94.22 537.8 106.1 528 115.8V396.2C537.8 405 544 417.8 544 432C544 458.5 522.5 480 496 480C481.8 480 469 473.8 460.2 464H115.8C106.1 473.8 94.22 480 80 480C53.49 480 32 458.5 32 432C32 417.8 38.18 405 48 396.2V115.8zM96 125.3V386.7C109.6 391.6 120.4 402.4 125.3 416H450.7C455.6 402.4 466.4 391.6 480 386.7V125.3C466.4 120.4 455.6 109.6 450.7 96H125.3C120.4 109.6 109.6 120.4 96 125.3z"]},Zv={prefix:"far",iconName:"object-ungroup",icon:[640,512,[],"f248","M64 0C90.86 0 113.9 16.55 123.3 40H324.7C334.1 16.55 357.1 0 384 0C419.3 0 448 28.65 448 64C448 90.86 431.5 113.9 408 123.3V228.7C431.5 238.1 448 261.1 448 288C448 323.3 419.3 352 384 352C357.1 352 334.1 335.5 324.7 312H123.3C113.9 335.5 90.86 352 64 352C28.65 352 0 323.3 0 288C0 261.1 16.55 238.1 40 228.7V123.3C16.55 113.9 0 90.86 0 64C0 28.65 28.65 0 64 0V0zM64 80C72.84 80 80 72.84 80 64C80 56.1 74.28 49.54 66.75 48.24C65.86 48.08 64.94 48 64 48C55.16 48 48 55.16 48 64C48 64.07 48 64.14 48 64.21C48.01 65.07 48.09 65.92 48.24 66.75C49.54 74.28 56.1 80 64 80zM384 48C383.1 48 382.1 48.08 381.2 48.24C373.7 49.54 368 56.1 368 64C368 72.84 375.2 80 384 80C391.9 80 398.5 74.28 399.8 66.75C399.9 65.86 400 64.94 400 64C400 55.16 392.8 48 384 48V48zM324.7 88H123.3C116.9 104 104 116.9 88 123.3V228.7C104 235.1 116.9 247.1 123.3 264H324.7C331.1 247.1 343.1 235.1 360 228.7V123.3C343.1 116.9 331.1 104 324.7 88zM400 288C400 287.1 399.9 286.1 399.8 285.2C398.5 277.7 391.9 272 384 272C375.2 272 368 279.2 368 288C368 295.9 373.7 302.5 381.2 303.8C382.1 303.9 383.1 304 384 304C392.8 304 400 296.8 400 288zM64 272C56.1 272 49.54 277.7 48.24 285.2C48.08 286.1 48 287.1 48 288C48 296.8 55.16 304 64 304L64.22 303.1C65.08 303.1 65.93 303.9 66.75 303.8C74.28 302.5 80 295.9 80 288C80 279.2 72.84 272 64 272zM471.3 248C465.8 235.9 457.8 225.2 448 216.4V200H516.7C526.1 176.5 549.1 160 576 160C611.3 160 640 188.7 640 224C640 250.9 623.5 273.9 600 283.3V388.7C623.5 398.1 640 421.1 640 448C640 483.3 611.3 512 576 512C549.1 512 526.1 495.5 516.7 472H315.3C305.9 495.5 282.9 512 256 512C220.7 512 192 483.3 192 448C192 421.1 208.5 398.1 232 388.7V352H280V388.7C296 395.1 308.9 407.1 315.3 424H516.7C523.1 407.1 535.1 395.1 552 388.7V283.3C535.1 276.9 523.1 264 516.7 248H471.3zM592 224C592 215.2 584.8 208 576 208C575.1 208 574.1 208.1 573.2 208.2C565.7 209.5 560 216.1 560 224C560 232.8 567.2 240 576 240C583.9 240 590.5 234.3 591.8 226.8C591.9 225.9 592 224.9 592 224zM240 448C240 456.8 247.2 464 256 464C256.9 464 257.9 463.9 258.8 463.8C266.3 462.5 272 455.9 272 448C272 439.2 264.8 432 256 432C248.1 432 241.5 437.7 240.2 445.2C240.1 446.1 240 447.1 240 448zM573.2 463.8C574.1 463.9 575.1 464 576 464C584.8 464 592 456.8 592 448C592 447.1 591.9 446.2 591.8 445.3L591.8 445.2C590.5 437.7 583.9 432 576 432C567.2 432 560 439.2 560 448C560 455.9 565.7 462.5 573.2 463.8V463.8z"]},Gv={prefix:"far",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M502.6 198.6l-61.25-61.25C435.4 131.4 427.3 128 418.8 128H256C220.7 128 191.1 156.7 192 192l.0065 255.1C192 483.3 220.7 512 256 512h192c35.2 0 64-28.8 64-64l.0098-226.7C512 212.8 508.6 204.6 502.6 198.6zM464 448c0 8.836-7.164 16-16 16h-192c-8.838 0-16-7.164-16-16L240 192.1c0-8.836 7.164-16 16-16h128L384 224c0 17.67 14.33 32 32 32h48.01V448zM317.7 96C310.6 68.45 285.8 48 256 48H215.2C211.3 20.93 188.1 0 160 0C131.9 0 108.7 20.93 104.8 48H64c-35.35 0-64 28.65-64 64V384c0 35.34 28.65 64 64 64h96v-48H64c-8.836 0-16-7.164-16-16V112C48 103.2 55.18 96 64 96h16v16c0 17.67 14.33 32 32 32h61.35C190 115.4 220.6 96 256 96H317.7zM160 72c-8.822 0-16-7.176-16-16s7.178-16 16-16s16 7.176 16 16S168.8 72 160 72z"]},Kv={prefix:"far",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M200 344V280H136C122.7 280 112 269.3 112 256C112 242.7 122.7 232 136 232H200V168C200 154.7 210.7 144 224 144C237.3 144 248 154.7 248 168V232H312C325.3 232 336 242.7 336 256C336 269.3 325.3 280 312 280H248V344C248 357.3 237.3 368 224 368C210.7 368 200 357.3 200 344zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]},Xv=Kv;const Yv=xe({name:"ToolbarButton",components:{Icon:qt},data(){return{faUser:Uf}},emits:{click:e=>!0},props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isToolbox:{type:Boolean,default:!1},icon:{type:Object,default:null},text:{type:String,default:""}},setup(e,{emit:t}){function n(o){o.stopPropagation(),o.preventDefault(),e.disabled||t("click",o)}return{onClick:n}}});const Jv={class:"toolbar-button__text"};function Qv(e,t,n,o,r,i){const s=we("icon");return K(),de("button",{tabindex:0,class:Ye([{"toolbar-button--active":e.active&&!e.isToolbox,"toolbar-button--toolbox":e.active&&e.isToolbox,"toolbar-button--disabled":e.disabled},"toolbar-button"]),role:"button",onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},[e.icon?(K(),Fe(s,{key:0,icon:e.icon,class:"toolbar-button__icon"},null,8,["icon"])):(K(),Fe(s,{key:1,icon:e.faUser,class:"toolbar-button__icon"},null,8,["icon"])),ye("div",Jv,dt(e.text),1)],2)}const e4=Oe(Yv,[["render",Qv]]),t4=xe({name:"ToolbarSeparator"});const n4={class:"toolbar-separator"};function o4(e,t,n,o,r,i){return K(),de("div",n4)}const r4=Oe(t4,[["render",o4]]),i4=xe({name:"ScrollFade",components:{Resizable:mi},props:{hideScrollbar:{type:Boolean,default:!1}},setup(){const e="transparent, black var(--mask-width)",t="black calc(100% - var(--mask-width)), transparent",n=Ue(),o=Ue("");function r(s){const{scrollWidth:a,scrollLeft:l,clientWidth:u}=s;if(a>u){const f=[];return l>0&&f.push(e),l+u<a&&f.push(t),o.value=f.join(", "),f.join(", ")}return"transparent transparent"}function i(){n.value&&(o.value=r(n.value.$el))}return{onChange:i,gradientStyle:o,scroll:n}}});function s4(e,t,n,o,r,i){const s=we("resizable");return K(),Fe(s,{ref:"scroll",class:Ye(["scroll-fade",{"scrollbar-fade--show-scrollbar":!e.hideScrollbar}]),style:at(`--mask-image-content: linear-gradient(to right, ${e.gradientStyle})`),onScroll:e.onChange,onResize:e.onChange},{default:je(()=>[ft(e.$slots,"default")]),_:3},8,["class","style","onScroll","onResize"])}const Vs=Oe(i4,[["render",s4]]),a4=xe({name:"Toolbar",components:{ToolbarButton:e4,ToolbarSeparator:r4,ScrollFade:Vs},data(){return{faScrewdriverWrench:Ff,faFolderOpen:Wv,faFile:Vv,faSave:Hv,faScissors:Rf,faCopy:jv,faPaste:Gv,faObjectGroup:qv,faObjectUngroup:Zv,faRotateBackward:Bf,faRotateForward:Nf,faReply:Tf,faShare:jf,faMicrochip:zs,faBan:Zl,faArrowsRotate:_f,faBug:Cf,faForwardStep:xf,faWaveSquare:Wf}},props:{store:{type:Function,required:!0}},setup(e){const t=Kn(),n=e.store();return{rootStore:t,documentStore:n}}});const l4={class:"toolbar"},c4={class:"toolbar__fixed"},u4={class:"toolbar__left"},d4={class:"toolbar__right"};function f4(e,t,n,o,r,i){const s=we("toolbar-button"),a=we("toolbar-separator"),l=we("scroll-fade");return K(),de("div",l4,[ye("div",c4,[ue(s,{icon:e.faScrewdriverWrench,text:"Toolbox","is-toolbox":"",onClick:e.rootStore.toggleToolbox,active:e.rootStore.isToolboxOpen},null,8,["icon","onClick","active"]),ue(a)]),ue(l,{class:"toolbar__scrollable"},{default:je(()=>[ye("div",u4,[ue(s,{icon:e.faFolderOpen,text:"Open"},null,8,["icon"]),ue(s,{icon:e.faFile,text:"New"},null,8,["icon"]),ue(s,{icon:e.faSave,text:"Save"},null,8,["icon"]),ue(a),ue(s,{onClick:e.documentStore.undo,disabled:!e.documentStore.canUndo,icon:e.faReply,text:"Undo"},null,8,["onClick","disabled","icon"]),ue(s,{onClick:e.documentStore.redo,disabled:!e.documentStore.canRedo,icon:e.faShare,text:"Redo"},null,8,["onClick","disabled","icon"]),ue(a),ue(s,{onClick:t[0]||(t[0]=u=>e.documentStore.rotate(1)),disabled:!e.documentStore.hasSelectedItems,icon:e.faRotateForward,text:"Rotate"},null,8,["disabled","icon"]),ue(a),ue(s,{onClick:e.documentStore.group,disabled:!e.documentStore.canGroup,icon:e.faObjectGroup,text:"Group"},null,8,["onClick","disabled","icon"]),ue(s,{onClick:e.documentStore.ungroup,disabled:!e.documentStore.canUngroup,icon:e.faObjectUngroup,text:"Ungroup"},null,8,["onClick","disabled","icon"]),ue(a),ue(s,{onClick:t[1]||(t[1]=u=>e.rootStore.invokeClipboardAction("cut")),icon:e.faScissors,disabled:!e.documentStore.hasSelectedItems,text:"Cut"},null,8,["icon","disabled"]),ue(s,{onClick:t[2]||(t[2]=u=>e.rootStore.invokeClipboardAction("copy")),icon:e.faCopy,disabled:!e.documentStore.hasSelectedItems,text:"Copy"},null,8,["icon","disabled"]),ue(s,{onClick:t[3]||(t[3]=u=>e.rootStore.invokeClipboardAction("paste")),disabled:!e.rootStore.canPaste,icon:e.faPaste,text:"Paste"},null,8,["disabled","icon"]),ue(s,{onClick:e.documentStore.deleteSelection,disabled:!e.documentStore.hasSelection,icon:e.faBan,text:"Delete"},null,8,["onClick","disabled","icon"]),ue(a),ue(s,{onClick:e.rootStore.launchIntegratedCircuitBuilder,icon:e.faMicrochip,text:"Export"},null,8,["onClick","icon"])]),ye("div",d4,[ue(s,{icon:e.faBug,active:e.documentStore.isDebugging,onClick:e.documentStore.toggleDebugger,text:"Debug"},null,8,["icon","active","onClick"]),ue(a),ue(s,{icon:e.faArrowsRotate,onClick:e.documentStore.resetCircuit,text:"Reset"},null,8,["icon","onClick"]),ue(s,{icon:e.faForwardStep,disabled:!e.documentStore.isDebugging||e.documentStore.isCircuitEvaluated,onClick:e.documentStore.advanceSimulation,text:"Next"},null,8,["icon","disabled","onClick"]),ue(a),ue(s,{icon:e.faWaveSquare,disabled:e.documentStore.isDebugging,active:!e.documentStore.isDebugging&&e.documentStore.isOscilloscopeOpen,onClick:e.documentStore.toggleOscilloscope,text:"Analyze"},null,8,["icon","disabled","active","onClick"])])]),_:1})])}const h4=Oe(a4,[["render",f4]]),p4=xe({name:"ToolboxItem",components:{CircuitComponent:mc,Draggable:ui,Resizable:mi},emits:{drop:(e,t)=>!0},props:{factory:{type:Function,required:!0},zoom:{type:Number,default:1}},setup(e,{emit:t}){const n=Ue(),o=Ue(!1),r=Ue(1),{item:i,ports:s}=e.factory(),a={selectable:new DOMRect,preview:new DOMRect};let l=null;function u(d,v){a[v]=d;const h=a.selectable,g=a.preview,w=Math.max(h.width/g.width,h.height/g.height);r.value=Math.min(1/w,1)}function f(){var v;const d=a.selectable;l=(v=n.value)==null?void 0:v.$el.cloneNode(!0),l.style.position="absolute",l.style.zoom=`${e.zoom}`,l.style.width=`${d.width}px`,l.style.height=`${d.height}px`,o.value=!0,navigator.vibrate(20)}function m({x:d,y:v}){if(!l)return f();document.body.contains(l)||document.body.appendChild(l);const{width:h,height:g}=l.getBoundingClientRect();l.style.left=`${(d-h/2*e.zoom)/e.zoom}px`,l.style.top=`${(v-g/2*e.zoom)/e.zoom}px`}function y(d){l&&(l.remove(),l=null,o.value=!1,t("drop",e.factory,d))}return{onDragStart:f,onDrag:m,onDragEnd:y,onSizeChanged:u,item:i,ports:s,zoom:r,selectable:n,isDragging:o}}});const m4={class:"toolbox-item__parent"},g4={class:"toolbox-item__label"};function v4(e,t,n,o,r,i){const s=we("circuit-component"),a=we("resizable"),l=we("draggable");return K(),Fe(l,{class:"toolbox-item",tabindex:0,onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onClick:t[2]||(t[2]=u=>e.$emit("drop",e.factory))},{default:je(()=>[ye("div",m4,[ue(a,{class:"toolbox-item__preview",ref:"preview",onResize:t[1]||(t[1]=u=>e.onSizeChanged(u,"preview"))},{default:je(()=>[ue(a,{class:"toolbox-item__inner",ref:"selectable",style:at({zoom:e.zoom}),onResize:t[0]||(t[0]=u=>e.onSizeChanged(u,"selectable"))},{default:je(()=>[ue(s,{type:e.item.type,subtype:e.item.subtype,ports:e.ports,properties:e.item.properties},null,8,["type","subtype","ports","properties"])]),_:1},8,["style"])]),_:1},512)]),ye("div",g4,dt(e.item.name||e.item.subtype),1)]),_:1},8,["onDragStart","onDrag","onDragEnd"])}const y4=Oe(p4,[["render",v4]]),b4=xe({name:"Toolbox",components:{ScrollFade:Vs},props:{isOpen:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=Ue(null),o=Ue(null),r=nt(()=>Object.keys(t)),i=nt(()=>{var a;return e.isOpen?(a=o.value)==null?void 0:a.scrollHeight:0});function s(a){n.value=a}return s(r.value[0]),{categories:r,selected:n,select:s,height:i,toolbox:o}}});const _4=["onClick"];function w4(e,t,n,o,r,i){const s=we("scroll-fade");return K(),de("div",{ref:"toolbox",class:Ye(["toolbox-layout",{"toolbox-layout--open":e.isOpen}]),style:at({height:`${e.height}px`})},[ue(s,{class:"toolbox-layout__categories","hide-scrollbar":!0},{default:je(()=>[(K(!0),de(et,null,wt(e.categories,a=>(K(),de("div",{class:Ye(["toolbox-layout__badge",{"toolbox-layout__badge--active":a===e.selected}]),key:a,onClick:l=>e.select(a)},dt(a),11,_4))),128))]),_:1}),ue(s,{class:"toolbox-layout__items"},{default:je(()=>[ft(e.$slots,e.selected)]),_:3})],6)}const C4=Oe(b4,[["render",w4]]),xc=(e,t,n,o={})=>{const r=it(),i={[Ne.Left]:[],[Ne.Top]:[],[Ne.Bottom]:[],[Ne.Right]:[qn(r,it(),Ne.Right,yt.Output,"Output Port")]},s=wo(r,rt.InputNode,e,t,n,i);return s.properties={...s.properties,...o,startValue:{label:"Start value",value:-1,type:"number",options:{True:1,"Hi-Z":0,False:-1}}},{item:s,ports:i}},S4=()=>xc(Je.Clock,60,60,{interval:{label:"Interval",value:1e3,type:"number",min:100,step:100}});function I4(){const e=[],t=Array(4).fill("").reduce((o,r,i)=>{const s=it(),a=it(),l=qn(a,s,Ne.Left,yt.Output,`Input Port ${i+1}`),u=wo(a,rt.InputNode,Je.Switch,0,0,{[Ne.Left]:[l],[Ne.Right]:[],[Ne.Top]:[],[Ne.Bottom]:[]});return e.push(l),{connections:{},groups:{},items:{...o.items,[a]:u},ports:{...o.ports,[s]:l}}},{connections:{},ports:{},items:{},groups:{}});return{item:nc(t,"Digit Display",40,40,Je.DigitDisplay),ports:e}}function x4(){const e=it(),t={[Ne.Left]:[qn(e,it(),Ne.Left,yt.Input,"Input Port")],[Ne.Top]:[],[Ne.Bottom]:[],[Ne.Right]:[]};return{item:wo(e,rt.OutputNode,Je.Lightbulb,40,40,t),ports:t}}function io(e,t,n,o=2){const r=it(),i={[Ne.Top]:[],[Ne.Left]:Array(o).fill("").map((a,l)=>qn(r,it(),0,1,`Input Port ${l}`)),[Ne.Bottom]:[],[Ne.Right]:[qn(r,it(),2,0,"Output Port")]},s=wo(r,rt.LogicGate,e,t,n,i);return s.properties={...s.properties,inputCount:{label:"Input count",value:o,type:"number",min:o},showInOscilloscope:{label:"Show in oscilloscope",value:!1,type:"boolean"}},{item:s,ports:i}}const E4={[rt.InputNode]:{[Je.Switch]:xc.bind(void 0,Je.Switch,60,60),[Je.Clock]:S4},[rt.OutputNode]:{[Je.Lightbulb]:x4,[Je.DigitDisplay]:I4},[rt.LogicGate]:{[Je.And]:io.bind(void 0,Je.And,140,50),[Je.Nand]:io.bind(void 0,Je.Nand,140,50),[Je.Xnor]:io.bind(void 0,Je.Xnor,140,50),[Je.Nor]:io.bind(void 0,Je.Nor,140,50),[Je.Or]:io.bind(void 0,Je.Or,140,50),[Je.Not]:io.bind(void 0,Je.Not,140,50,1)}},O4=xe({name:"Toolbox",components:{ScrollFade:Vs,ToolboxItem:y4,ToolboxLayout:C4},props:{store:{type:Function,required:!0},isOpen:{type:Boolean,default:!1}},setup(e){const t=e.store(),n=Ns(),o=nt(()=>t.zoom),r=nt(()=>n.factories);function i(s,a){t.insertItemAtPosition(s(),a)}return{factories:{...E4,[rt.IntegratedCircuit]:r.value},zoom:o,onDrop:i}}});function k4(e,t,n,o,r,i){const s=we("toolbox-item"),a=we("toolbox-layout");return K(),Fe(a,{"is-open":e.isOpen},Ss({_:2},[wt(e.factories,(l,u)=>({name:u,fn:je(()=>[(K(!0),de(et,null,wt(l,(f,m)=>(K(),Fe(s,{factory:f,key:m,label:m,zoom:e.zoom,onDrop:e.onDrop},null,8,["factory","label","zoom","onDrop"]))),128))])}))]),1032,["is-open"])}const P4=Oe(O4,[["render",k4]]),$4=xe({name:"MainView",props:{isBlurred:{type:Boolean,default:!1}}});const A4={class:"main-view__top"},D4={class:"main-view__middle"},z4={class:"main-view__bottom"};function T4(e,t,n,o,r,i){return K(),de("div",{class:Ye(["main-view",{"main-view--blurred":e.isBlurred}])},[ye("div",A4,[ft(e.$slots,"top")]),ye("div",D4,[ft(e.$slots,"middle")]),ye("div",z4,[ft(e.$slots,"bottom")])],2)}const M4=Oe($4,[["render",T4]]),B4=xe({components:{Icon:qt},name:"MobileFileName",emits:{close:()=>!0},props:{label:{type:String,required:!0},icon:{type:Object,required:!0},closable:{type:Boolean,default:!0}},setup(){return{faClose:_o}}});const L4={class:"mobile-popout-menu-item"},N4={class:"mobile-popout-menu-item__label"};function R4(e,t,n,o,r,i){const s=we("icon");return K(),de("div",L4,[ue(s,{icon:e.icon,class:"mobile-popout-menu-item__icon"},null,8,["icon"]),ye("div",N4,dt(e.label),1),e.closable?(K(),Fe(s,{key:0,icon:e.faClose,class:"mobile-popout-menu-item__icon",onClick:t[0]||(t[0]=a=>e.$emit("close"))},null,8,["icon"])):pt("",!0)])}const Ec=Oe(B4,[["render",R4]]),F4=xe({components:{MobilePopoutMenuItem:Ec},name:"MobileDocumentTabItem",emits:{activate:()=>!0,close:()=>!0},props:{label:{type:String,required:!0},dirty:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},setup(){return{faMicrochip:zs}}});function j4(e,t,n,o,r,i){const s=we("mobile-popout-menu-item");return K(),Fe(s,{label:`${e.label}${e.dirty?"*":""}`,icon:e.faMicrochip,active:e.active,onClick:t[0]||(t[0]=a=>e.$emit("activate")),onClose:t[1]||(t[1]=a=>e.$emit("close"))},null,8,["label","icon","active"])}const V4=Oe(F4,[["render",j4]]),U4=xe({components:{Icon:qt},name:"MobileHeader",emits:{select:()=>!0,open:()=>!0},props:{documentName:{type:String,required:!0},documentCount:{type:Number,default:1}},setup(){return{faBars:wf,faPlusSquare:Xv}}});const H4={class:"mobile-header"},W4={class:"mobile-header__heading"};function q4(e,t,n,o,r,i){const s=we("icon");return K(),de("div",H4,[ye("div",{class:"mobile-header__button",onClick:t[0]||(t[0]=a=>e.$emit("open"))},[ue(s,{icon:e.faBars},null,8,["icon"])]),ye("div",W4,[ye("span",{class:"mobile-header__document-name",onClick:t[1]||(t[1]=a=>e.$emit("select"))},dt(e.documentName),1),e.documentCount>1?(K(),de("span",{key:0,class:"mobile-header__badge",onClick:t[2]||(t[2]=a=>e.$emit("select"))},dt(e.documentCount),1)):pt("",!0)])])}const Z4=Oe(U4,[["render",q4]]),G4=xe({name:"MobilePopoutMenu",props:{modelValue:{type:Boolean,required:!0}}});const K4={key:0,class:"mobile-popout-menu"},X4={class:"mobile-popout-menu__content"};function Y4(e,t,n,o,r,i){return K(),Fe(Xo,{name:"mobile-popout-menu"},{default:je(()=>[e.modelValue?(K(),de("div",K4,[ye("div",{class:"mobile-popout-menu__overlay",onClick:t[0]||(t[0]=Wn(s=>e.$emit("update:modelValue",!1),["self"]))},[ye("div",X4,[ft(e.$slots,"default")])])])):pt("",!0)]),_:3})}const J4=Oe(G4,[["render",Y4]]),Q4=xe({name:"MobilePullout",props:{modelValue:{type:Boolean,required:!0}}});const ey={key:0,class:"mobile-pullout"},ty={class:"mobile-pullout__content"};function ny(e,t,n,o,r,i){return K(),Fe(Xo,{name:"mobile-pullout"},{default:je(()=>[e.modelValue?(K(),de("div",ey,[ye("div",{class:"mobile-pullout__overlay",onClick:t[0]||(t[0]=s=>e.$emit("update:modelValue",!1))}),ye("div",ty,[ft(e.$slots,"default")])])):pt("",!0)]),_:3})}const oy=Oe(Q4,[["render",ny]]),ry=xe({name:"MobilePulloutHeading",components:{Icon:qt},props:{version:{type:String,default:"1.0.0"}},emits:{close:()=>!0},setup(){return{faClose:_o}}}),iy="/web/assets/logo-a680abc5.svg";const sy={class:"mobile-pullout-heading"},ay=ye("img",{src:iy,class:"mobile-pullout-heading__logo"},null,-1),ly={class:"mobile-pullout-heading__brand"},cy=ye("div",{class:"mobile-pullout-heading__title"}," Aristotle ",-1),uy={class:"mobile-pullout-heading__subtitle"};function dy(e,t,n,o,r,i){const s=we("icon");return K(),de("div",sy,[ay,ye("div",ly,[cy,ye("div",uy," v"+dt(e.version),1)]),ue(s,{icon:e.faClose,class:"mobile-pullout-heading__close",onClick:t[0]||(t[0]=a=>e.$emit("close"))},null,8,["icon"])])}const fy=Oe(ry,[["render",dy]]),hy=xe({name:"TabItem",components:{Icon:qt},props:{active:{type:Boolean,default:!1},label:{type:String,required:!0},dirty:{type:Boolean,default:!1}},setup(){return{faClose:_o,faCodeBranch:Kl}}});const py={class:"tab-item__icon"},my={class:"tab-item__label"};function gy(e,t,n,o,r,i){const s=we("icon");return K(),de("div",{class:Ye([{"tab-item--active":e.active,"tab-item--dirty":e.dirty},"tab-item"]),onMousedown:t[1]||(t[1]=a=>e.$emit("activate")),onTouchstart:t[2]||(t[2]=a=>e.$emit("activate"))},[ye("div",py,[ue(s,{icon:e.faCodeBranch},null,8,["icon"])]),ye("div",my,dt(e.label)+dt(e.dirty?"*":""),1),ye("div",{class:"tab-item__icon tab-item__icon--close",onClick:t[0]||(t[0]=Wn(a=>e.$emit("close"),["stop"]))},[ue(s,{icon:e.faClose},null,8,["icon"])])],34)}const vy=Oe(hy,[["render",gy]]),yy=xe({name:"TabHost"});const by={class:"tab-host"},_y={class:"tab-host__list"};function wy(e,t,n,o,r,i){return K(),de("div",by,[ye("div",_y,[ft(e.$slots,"tabs")]),ft(e.$slots,"default")])}const Cy=Oe(yy,[["render",wy]]),Sy=xe({name:"Theme",props:{dark:{type:Boolean,default:!1}}});function Iy(e,t,n,o,r,i){return K(),de("div",{class:Ye(["theme",{"theme--dark":e.dark}])},[ft(e.$slots,"default")],2)}const xy=Oe(Sy,[["render",Iy]]);function Ey(){var i;const e=Kn(),t=e.activeDocumentId!==null,n=Object.keys(e.documents),o=(i=e.activeDocument)==null?void 0:i.store(),r=[{label:"&New Circuit",accelerator:"CommandOrControl+N",click:e.newDocument},{type:"separator"},{label:"&Open Circuit",accelerator:"CommandOrControl+O",click:e.selectDocument},{label:"Open &Integrated Circuit",accelerator:"CommandOrControl+Shift+O",click:e.selectDocument},{type:"separator"},{label:"Save",enabled:t,accelerator:"CommandOrControl+S",click:()=>e.saveActiveDocument()},{label:"Save As...",enabled:t,accelerator:"CommandOrControl+Shift+S",click:()=>e.saveActiveDocument(!0)},{label:"Save All",enabled:t,accelerator:"CommandOrControl+Shift+A",click:()=>console.log("root store save all")},{type:"separator"},{label:"Print",enabled:t,accelerator:"CommandOrControl+P",click:()=>o==null?void 0:o.print()},{type:"separator"},{label:"Export...",enabled:t,submenu:[{label:"Integrated Circuit",accelerator:"CommandOrControl+Shift+E",click:()=>console.log("export IC")},{label:"PNG Image",accelerator:"CommandOrControl+Shift+I",click:()=>o==null?void 0:o.createImage()}]},{type:"separator"},{label:"Preferences",submenu:[{label:"Global Preferences",accelerator:"CommandOrControl+,",click:()=>console.log("global prefs")},{label:"Document Preferences",accelerator:"CommandOrControl+Shift+,",click:()=>console.log("doc prefs")}]}];if(Object.keys(e.documents).length>1){const s=[{label:"Previous File",accelerator:"Ctrl+Shift+Tab",click:()=>e.switchDocument(-1)},{label:"Next File",accelerator:"Ctrl+Tab",click:()=>e.switchDocument(1)},{type:"separator"}];for(let a=0;a<n.length;a++)s.push({type:"checkbox",label:e.documents[n[a]].displayName,checked:e.activeDocumentId===n[a],click:()=>e.activateDocument(n[a])});r.push({type:"separator"}),r.push({label:"Switch to...",submenu:s})}return r.push({type:"separator"}),r.push({label:"Close Document",accelerator:"CmdOrCtrl+W",enabled:t,click:()=>e.closeDocument(e.activeDocumentId)}),r.push({type:"separator"}),r.push({label:"Exit",accelerator:"CmdOrCtrl+Q",click:()=>window.close()}),r}function Oy(e){const t=e(),n=[];let o=!1;for(let i=1;i<=8;i++){const s=i*25/100,a=t.zoomLevel===s;o=o||a,n.push({type:"checkbox",checked:a,label:`${s*100}%`,accelerator:s===1?"CommandOrControl+0":void 0,click:()=>t.setZoom({zoom:s})})}return o||n.unshift({type:"checkbox",checked:!0,label:"Custom"}),[{label:"&Zoom In",accelerator:"CommandOrControl+=",enabled:t.zoomLevel<2,click:()=>t.incrementZoom(1)},{label:"&Zoom Out",accelerator:"CommandOrControl+-",enabled:t.zoomLevel>.1,click:()=>t.incrementZoom(-1)},{label:"&Zoom...",submenu:n},{type:"separator"},{label:"&Pan to Center",accelerator:"CommandOrControl+;",click:t.panToCenter},{type:"separator"}].concat(hc(e))}function ky(){const e=Kn();if(e.isDialogOpen)return[{label:"File",submenu:[{label:"Exit"}]}];const t=[{label:"File",submenu:Ey()}];return e.activeDocument&&(t.push({label:"Edit",submenu:fc(e.activeDocument.store)}),t.push({label:"View",submenu:Oy(e.activeDocument.store).concat([{type:"separator"},{type:"checkbox",click:e.toggleFullscreen,checked:e.isFullscreen,accelerator:"F11",label:"Fullscreen"}])})),t.push({label:"Help",role:"help",submenu:[]}),t}const Py=xe({name:"App",components:{BuilderView:Fh,Document:O2,Oscilloscope:_v,MainView:M4,MobileDocumentTabItem:V4,MobileHeader:Z4,MobilePopoutMenu:J4,MobilePopoutMenuItem:Ec,MobilePreferences:Q2,MobilePullout:oy,MobilePulloutHeading:fy,StatusBar:Fv,TabItem:vy,TabHost:Cy,Theme:xy,Toolbar:h4,Toolbox:P4},setup(){const e=Kn(),{experience:t}=Wo(Co()),{activeDocument:n,activeDocumentId:o,documents:r,hasOpenDocuments:i,isFullscreen:s,isDialogOpen:a,isBuilderOpen:l,isToolboxOpen:u,isSettingsOpen:f,isDocumentSelectOpen:m}=Wo(e),y=Ue(!1);i.value||e.openTestDocuments(),Fr(()=>window.api.setApplicationMenu(ky())),Fr(()=>{document.title=e.activeDocument?`${e.activeDocument.displayName} - Aristotle`:"Aristotle"}),window.api.onBeforeClose(e.closeAll),window.api.onOpenFile(e.openDocumentFromPath),Wt(()=>{document.addEventListener("keydown",x),document.addEventListener("dragover",h),document.addEventListener("dragleave",w),document.addEventListener("drop",g),document.addEventListener("cut",v("cut")),document.addEventListener("copy",v("copy")),document.addEventListener("paste",v("paste")),window.addEventListener("focus",e.checkPastability)}),Gn(()=>{document.removeEventListener("keydown",x),document.removeEventListener("dragover",h),document.removeEventListener("dragleave",w),document.removeEventListener("drop",g),document.removeEventListener("cut",v("cut")),document.removeEventListener("copy",v("copy")),document.removeEventListener("paste",v("paste")),window.removeEventListener("focus",e.checkPastability)});let d=0;function v(k){return function(A){if(!(A.target instanceof HTMLInputElement)){if(d)return;d=requestAnimationFrame(()=>{d=0,e.invokeClipboardAction(k),cancelAnimationFrame(d)})}e.checkPastability()}}function h(k){k.stopPropagation(),k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect="copy"),y.value=!0}async function g(k){var X;k.stopPropagation(),k.preventDefault();const A=(X=k.dataTransfer)==null?void 0:X.files;if(A)for(let F=0;F<A.length;F++)await e.openDocumentFromPath(A[F].path);y.value=!1}function w(){y.value=!1}function x(k){k.ctrlKey&&k.key.toUpperCase()==="R"&&window.location.reload()}function P(){}return{faFile:Xl,activeDocument:n,activeDocumentId:o,documents:r,experience:t,hasOpenDocuments:i,isDropping:y,isFullscreen:s,isDialogOpen:a,isBuilderOpen:l,isToolboxOpen:u,isSettingsOpen:f,isDocumentSelectOpen:m,onContextMenu:P,toggleFullscreen:e.toggleFullscreen,activateDocument:e.activateDocument,closeDocument:e.closeDocument,switchDocument:e.switchDocument,openIntegratedCircuit:e.openIntegratedCircuit}},data(){return{horizontal:!1,lastPosition:0,toolboxWidth:20,oscilloscopeHeight:80,isMobile:Ic}}});const $y={key:1};function Ay(e,t,n,o,r,i){const s=we("mobile-header"),a=we("mobile-pullout-heading"),l=we("mobile-preferences"),u=we("mobile-pullout"),f=we("mobile-document-tab-item"),m=we("mobile-popout-menu"),y=we("toolbar"),d=we("toolbox"),v=we("tab-item"),h=we("document"),g=we("tab-host"),w=we("oscilloscope"),x=we("status-bar"),P=we("main-view"),k=we("builder-view"),A=we("theme");return K(),Fe(A,{dark:e.experience.darkMode.value},{default:je(()=>[ye("div",{class:Ye(["app__dropzone",{"app__dropzone--active":e.isDropping}])},null,2),e.activeDocumentId&&e.activeDocument?(K(),Fe(P,{key:0,"is-blurred":e.isDialogOpen,onContextmenu:e.onContextMenu},{top:je(()=>[e.isMobile?(K(),de(et,{key:0},[ue(s,{onSelect:t[0]||(t[0]=X=>e.isDocumentSelectOpen=!0),onOpen:t[1]||(t[1]=X=>e.isSettingsOpen=!0),"document-name":e.activeDocument.displayName,"document-count":3},null,8,["document-name"]),ue(u,{modelValue:e.isSettingsOpen,"onUpdate:modelValue":t[3]||(t[3]=X=>e.isSettingsOpen=X)},{default:je(()=>[ue(a,{onClose:t[2]||(t[2]=X=>e.isSettingsOpen=!1)}),ue(l)]),_:1},8,["modelValue"]),ue(m,{modelValue:e.isDocumentSelectOpen,"onUpdate:modelValue":t[4]||(t[4]=X=>e.isDocumentSelectOpen=X)},{default:je(()=>[(K(!0),de(et,null,wt(e.documents,(X,F)=>(K(),Fe(f,{key:F,label:X.displayName,dirty:X.store().isDirty,active:e.activeDocumentId===F,onActivate:N=>e.activateDocument(F),onClose:N=>e.closeDocument(F)},null,8,["label","dirty","active","onActivate","onClose"]))),128))]),_:1},8,["modelValue"])],64)):pt("",!0),(K(),Fe(y,{key:e.activeDocumentId,store:e.activeDocument.store},null,8,["store"])),ue(d,{"is-open":e.isToolboxOpen,store:e.activeDocument.store},null,8,["is-open","store"])]),middle:je(()=>[ue(g,null,Ss({default:je(()=>[(K(),Fe(h,{key:e.activeDocumentId,store:e.activeDocument.store,onSwitch:e.switchDocument,onOpenIntegratedCircuit:e.openIntegratedCircuit},null,8,["store","onSwitch","onOpenIntegratedCircuit"]))]),_:2},[e.isMobile?void 0:{name:"tabs",fn:je(()=>[(K(!0),de(et,null,wt(e.documents,(X,F)=>(K(),Fe(v,{key:F,label:X.displayName,active:e.activeDocumentId===F,dirty:X.store().isDirty,onActivate:N=>e.activateDocument(F),onClose:N=>e.closeDocument(F)},null,8,["label","active","dirty","onActivate","onClose"]))),128))]),key:"0"}]),1024)]),bottom:je(()=>[(K(),Fe(w,{key:e.activeDocumentId,store:e.activeDocument.store},null,8,["store"])),e.isMobile?pt("",!0):(K(),Fe(x,{key:e.activeDocumentId,store:e.activeDocument.store,"is-fullscreen":e.isFullscreen,onFullscreen:e.toggleFullscreen},null,8,["store","is-fullscreen","onFullscreen"]))]),_:1},8,["is-blurred","onContextmenu"])):(K(),de("div",$y," no documents open "+dt(e.isDropping),1)),e.isBuilderOpen?(K(),Fe(k,{key:2})):pt("",!0)]),_:1},8,["dark"])}const Dy=Oe(Py,[["render",Ay]]);window.api||(window.api={showContextMenu(){},setApplicationMenu(){},showOpenFileDialog(){return[]},showSaveFileDialog(){return""},showMessageBox(){return 0},beep(){},quit(){},onBeforeClose(){},onOpenFile(){},openFile(){return""},saveFile(){},setFullscreen(){},getFilePaths(){return[]},getDefaultSavePath(){return""},setClipboardContents(){},getClipboardContents(){return""},clearClipboard(){},canPaste(){return!1}});df(Dy).use(pf()).mount("#app");
